<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>IDA - C:\Users\Erdoðan\Desktop\command6.idb (COMMAND.COM) - [IDA View-A]</title>
</head>
<body bgcolor="white">
<span style="font: Fixedsys; color: blue; background: white">
<pre>
<span style="color:black">RESGROUP:0100 </span>;
<span style="color:black">RESGROUP:0100 </span>; -=========================================================================¬
<span style="color:black">RESGROUP:0100 </span>; ¦     This file is generated by The Interactive Disassembler (IDA)        ¦
<span style="color:black">RESGROUP:0100 </span>; ¦     Copyright (c) 2010 by Hex-Rays SA, &lt;support@hex-rays.com&gt;           ¦
<span style="color:black">RESGROUP:0100 </span>; ¦                      Licensed to: Freeware version                      ¦
<span style="color:black">RESGROUP:0100 </span>; L=========================================================================-
<span style="color:black">RESGROUP:0100 </span>;
<span style="color:black">RESGROUP:0100 </span>; Input MD5   : FAF051453F215165981F10BD73071D88
<span style="color:black">RESGROUP:0100
</span><span style="color:black">RESGROUP:0100 </span>; File Name   : C:\Users\Erdo­an\Desktop\COMMAND.COM
<span style="color:black">RESGROUP:0100 </span>; Format      : MS-DOS COM-file
<span style="color:black">RESGROUP:0100 </span>; Base Address: 0h Range: 100h-D675h Loaded length: D575h
<span style="color:black">RESGROUP:0100
</span><span style="color:black">RESGROUP:0100                 </span>.686p
<span style="color:black">RESGROUP:0100                 </span>.mmx
<span style="color:black">RESGROUP:0100                 </span>.model tiny
<span style="color:black">RESGROUP:0100
</span><span style="color:black">RESGROUP:0100 </span><span style="color:gray">; ===========================================================================
</span><span style="color:black">RESGROUP:0100
</span><span style="color:black">RESGROUP:0100 </span><span style="color:gray">; Segment type: Pure code
</span><span style="color:black">RESGROUP:0100 </span>RESGROUP        segment byte public 'CODE' use16
<span style="color:black">RESGROUP:0100                 </span>assume cs:RESGROUP
<span style="color:black">RESGROUP:0100                 </span><span style="color:gray">;org 100h
</span><span style="color:black">RESGROUP:0100                 </span>assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing
<span style="color:black">RESGROUP:0100
</span><span style="color:black">RESGROUP:0100 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:0100
</span><span style="color:black">RESGROUP:0100
</span><span style="color:black">RESGROUP:0100 </span>StartCode       proc near
<span style="color:black">RESGROUP:0100
</span><span style="color:black">RESGROUP:0100 </span><span style="color:gray">; FUNCTION CHUNK AT RESGROUP:017E SIZE 0000000A BYTES
</span><span style="color:black">RESGROUP:0100 </span><span style="color:gray">; FUNCTION CHUNK AT RESGROUP:03EA SIZE 000000CD BYTES
</span><span style="color:black">RESGROUP:0100 </span><span style="color:gray">; FUNCTION CHUNK AT RESGROUP:1670 SIZE 000002FA BYTES
</span><span style="color:black">RESGROUP:0100 </span><span style="color:gray">; FUNCTION CHUNK AT RESGROUP:196D SIZE 000003B2 BYTES
</span><span style="color:black">RESGROUP:0100
</span><span style="color:black">RESGROUP:0100                 </span><span style="color:navy">jmp     </span>ConProc
<span style="color:black">RESGROUP:0100 </span>StartCode       endp
<span style="color:black">RESGROUP:0100
</span><span style="color:black">RESGROUP:0100 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:gray">RESGROUP:0103 </span>VersionByte     <span style="color:navy">db </span><span style="color:#008040">66h
</span><span style="color:gray">RESGROUP:0104 </span>Int2f_Entry     <span style="color:navy">dd </span>MsgInt2fHandler      <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0108 </span>Int2e_Entry     <span style="color:navy">dd </span>Int_2e               <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:010C </span>Ctrlc_Entry     <span style="color:navy">dd </span>ContC                <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0110 </span>CritErr_Entry   <span style="color:navy">dd </span>DskErr               <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0114 </span>Exec_Entry      <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0118 </span>RemCheck_Entry  <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:011C </span>TrnLodCom1_Entry <span style="color:navy">dd </span><span style="color:#008040">0                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0120 </span>LodCom_Entry    <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0124 </span>MsgRetrv_Entry  <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0128 </span>HeadFix_Entry   <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:012C </span>UMBOff_Entry    <span style="color:navy">dd </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:0130 </span>XMMCallAddr     <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0134 </span>ComInHMA        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">RESGROUP:0135 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0135
</span><span style="color:maroon">RESGROUP:0135 </span>Int2f_Trap<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0135                 </span><span style="color:navy">call    </span>CheckA20
<span style="color:maroon">RESGROUP:0138                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:0139                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">RESGROUP:013A                 </span><span style="color:navy">jmp     cs:</span>Int2f_Entry
<span style="color:maroon">RESGROUP:013F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:013F
</span><span style="color:maroon">RESGROUP:013F </span>Int2e_Trap<span style="color:navy">:                             </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">RESGROUP:013F                 </span><span style="color:navy">sti
</span><span style="color:maroon">RESGROUP:0140                 </span><span style="color:navy">call    </span>CheckA20
<span style="color:maroon">RESGROUP:0143                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:0144                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">RESGROUP:0145                 </span><span style="color:navy">jmp     cs:</span>Int2e_Entry
<span style="color:maroon">RESGROUP:014A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:014A
</span><span style="color:maroon">RESGROUP:014A </span>Ctrlc_Trap<span style="color:navy">:                             </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">RESGROUP:014A                 </span><span style="color:navy">sti
</span><span style="color:maroon">RESGROUP:014B                 </span><span style="color:navy">call    </span>CheckA20
<span style="color:maroon">RESGROUP:014E                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:014F                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">RESGROUP:0150                 </span><span style="color:navy">jmp     cs:</span>Ctrlc_Entry
<span style="color:maroon">RESGROUP:0155 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0155
</span><span style="color:maroon">RESGROUP:0155 </span>CritErr_Trap<span style="color:navy">:                           </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">RESGROUP:0155                 </span><span style="color:navy">sti
</span><span style="color:maroon">RESGROUP:0156                 </span><span style="color:navy">call    </span>CheckA20
<span style="color:maroon">RESGROUP:0159                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:015A                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">RESGROUP:015B                 </span><span style="color:navy">jmp     cs:</span>CritErr_Entry
<span style="color:maroon">RESGROUP:0160 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0160
</span><span style="color:maroon">RESGROUP:0160 </span>Exec_Trap<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0160                 </span><span style="color:navy">call    </span>CheckA20
<span style="color:maroon">RESGROUP:0163                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:0164                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">RESGROUP:0165                 </span><span style="color:navy">jmp     cs:</span>Exec_Entry
<span style="color:maroon">RESGROUP:016A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:016A
</span><span style="color:maroon">RESGROUP:016A </span>RemCheck_Trap<span style="color:navy">:                          </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">RESGROUP:016A                 </span><span style="color:navy">call    </span>CheckA20
<span style="color:maroon">RESGROUP:016D                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:016E                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">RESGROUP:016F                 </span><span style="color:navy">jmp     cs:</span>RemCheck_Entry
<span style="color:maroon">RESGROUP:0174 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0174
</span><span style="color:maroon">RESGROUP:0174 </span>TrnLodCom1_Trap<span style="color:navy">:                        </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">RESGROUP:0174                 </span><span style="color:navy">call    </span>CheckA20
<span style="color:maroon">RESGROUP:0177                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:0178                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">RESGROUP:0179                 </span><span style="color:navy">jmp     cs:</span>TrnLodCom1_Entry
<span style="color:black">RESGROUP:017E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:017E </span><span style="color:gray">; START OF FUNCTION CHUNK FOR StartCode
</span><span style="color:black">RESGROUP:017E
</span><span style="color:black">RESGROUP:017E </span>LodCom_Trap<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:017E                 </span><span style="color:navy">call    </span>CheckA20
<span style="color:black">RESGROUP:0181                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:0182                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:0183                 </span><span style="color:navy">jmp     cs:</span>LodCom_Entry
<span style="color:black">RESGROUP:0183 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR StartCode
</span><span style="color:maroon">RESGROUP:0188 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0188
</span><span style="color:maroon">RESGROUP:0188 </span>MsgRetrv_Trap<span style="color:navy">:                          </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">RESGROUP:0188                 </span><span style="color:navy">call    </span>CheckA20
<span style="color:maroon">RESGROUP:018B                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:018C                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">RESGROUP:018D                 </span><span style="color:navy">jmp     cs:</span>MsgRetrv_Entry
<span style="color:maroon">RESGROUP:0192 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0192
</span><span style="color:maroon">RESGROUP:0192 </span>HeadFix_Trap<span style="color:navy">:                           </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">RESGROUP:0192                 </span><span style="color:navy">call    </span>CheckA20
<span style="color:maroon">RESGROUP:0195                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:0196                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">RESGROUP:0197                 </span><span style="color:navy">jmp     cs:</span>HeadFix_Entry
<span style="color:black">RESGROUP:019C
</span><span style="color:black">RESGROUP:019C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:019C
</span><span style="color:black">RESGROUP:019C
</span><span style="color:black">RESGROUP:019C </span>CheckA20        proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:019C                 </span><span style="color:navy">pushf
</span><span style="color:black">RESGROUP:019D                 </span><span style="color:navy">cmp     cs:</span>ComInHMA<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:01A3                 </span><span style="color:navy">jz      short </span><span style="color:gray">A20_on</span>
<span style="color:black">RESGROUP:01A5                 </span><span style="color:navy">call    </span>QueryA20
<span style="color:black">RESGROUP:01A8                 </span><span style="color:navy">jnb     short </span><span style="color:gray">A20_on</span>
<span style="color:black">RESGROUP:01AA                 </span><span style="color:navy">call    </span>EnableA20
<span style="color:black">RESGROUP:01AD
</span><span style="color:black">RESGROUP:01AD </span><span style="color:gray">A20_on</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:01AD                 </span><span style="color:navy">popf
</span><span style="color:black">RESGROUP:01AE                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:01AE </span>CheckA20        endp
<span style="color:black">RESGROUP:01AE
</span><span style="color:maroon">RESGROUP:01AF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:01AF
</span><span style="color:maroon">RESGROUP:01AF </span>Carousel_i2f_Hook<span style="color:navy">:                      </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">RESGROUP:01AF                 </span><span style="color:navy">jmp     far ptr </span>Int2f_Trap
<span style="color:black">RESGROUP:01B4
</span><span style="color:black">RESGROUP:01B4 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:01B4
</span><span style="color:black">RESGROUP:01B4
</span><span style="color:black">RESGROUP:01B4 </span>QueryA20        proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:01B4                 </span><span style="color:navy">push    bx</span>
<span style="color:black">RESGROUP:01B5                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:01B6                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">7</span>
<span style="color:black">RESGROUP:01B8                 </span><span style="color:navy">call    cs:</span>XMMCallAddr
<span style="color:black">RESGROUP:01BD                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:01BF                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:01C0                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:01C1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">QA20_ON</span>
<span style="color:black">RESGROUP:01C3                 </span><span style="color:navy">stc
</span><span style="color:black">RESGROUP:01C4                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:01C5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:01C5
</span><span style="color:black">RESGROUP:01C5 </span><span style="color:gray">QA20_ON</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:01C5                 </span><span style="color:navy">clc
</span><span style="color:black">RESGROUP:01C6                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:01C6 </span>QueryA20        endp
<span style="color:black">RESGROUP:01C6
</span><span style="color:black">RESGROUP:01C7
</span><span style="color:black">RESGROUP:01C7 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:01C7
</span><span style="color:black">RESGROUP:01C7
</span><span style="color:black">RESGROUP:01C7 </span>EnableA20       proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:01C7                 </span><span style="color:navy">push    bx</span>
<span style="color:black">RESGROUP:01C8                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:01C9                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>
<span style="color:black">RESGROUP:01CB                 </span><span style="color:navy">call    cs:</span>XMMCallAddr
<span style="color:black">RESGROUP:01D0                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:01D2                 </span><span style="color:navy">jz      short </span><span style="color:gray">XMMerror</span>
<span style="color:black">RESGROUP:01D4                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:01D5                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:01D6                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:01D7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:01D7
</span><span style="color:black">RESGROUP:01D7 </span><span style="color:gray">XMMerror</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:01D7                 </span><span style="color:navy">jmp     short </span><span style="color:gray">XMMerror</span>
<span style="color:black">RESGROUP:01D7 </span>EnableA20       endp
<span style="color:black">RESGROUP:01D7
</span><span style="color:black">RESGROUP:01D9
</span><span style="color:black">RESGROUP:01D9 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:01D9
</span><span style="color:black">RESGROUP:01D9
</span><span style="color:black">RESGROUP:01D9 </span>UnHideUMBs      proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:01D9                 </span><span style="color:navy">push    ax</span>              ; Marks HIDDEN elements as FREE
<span style="color:black">RESGROUP:01DA                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:01DB                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>fInHigh
<span style="color:black">RESGROUP:01DE                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:01DF                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:01E1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">uhu10</span>
<span style="color:black">RESGROUP:01E3                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:01E4                 </span><span style="color:navy">stc
</span><span style="color:black">RESGROUP:01E5                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:01E6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:01E6
</span><span style="color:black">RESGROUP:01E6 </span><span style="color:gray">uhu10</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:01E6                 </span><span style="color:navy">call    </span>linkumb         ; Make sure UMBs are linked in.
<span style="color:black">RESGROUP:01E9                 </span><span style="color:navy">call    </span>FreeUMBs
<span style="color:black">RESGROUP:01EC                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:01ED                 </span><span style="color:navy">mov     es:</span>fInHigh<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:01F3                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:01F4                 </span><span style="color:navy">call    </span>he_unlink       ; Unlink UMBs
<span style="color:black">RESGROUP:01F7                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:01F8                 </span><span style="color:navy">clc
</span><span style="color:black">RESGROUP:01F9                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:01F9 </span>UnHideUMBs      endp
<span style="color:black">RESGROUP:01F9
</span><span style="color:black">RESGROUP:01FA
</span><span style="color:black">RESGROUP:01FA </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:01FA
</span><span style="color:black">RESGROUP:01FA
</span><span style="color:black">RESGROUP:01FA </span>he_unlink       proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:01FA                 </span><span style="color:navy">xor     bh</span><span style="color:navy">, bh</span>          ; unlinks UMBs if fm_umb is set to 0
<span style="color:black">RESGROUP:01FC                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:01FD                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, ds:</span>fm_umb
<span style="color:black">RESGROUP:0201                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:0202                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5803h</span>
<span style="color:black">RESGROUP:0205                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">RESGROUP:0205                                         </span>; AL = function code: (DOS 5beta) set UMB link state
<span style="color:black">RESGROUP:0207                 </span><span style="color:navy">xor     bh</span><span style="color:navy">, bh</span>
<span style="color:black">RESGROUP:0209                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:020A                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, ds:</span>fm_strat
<span style="color:black">RESGROUP:020E                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:020F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5801h</span>
<span style="color:black">RESGROUP:0212                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">RESGROUP:0212                                         </span>; AL = function code: set allocation strategy
<span style="color:black">RESGROUP:0214                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:0214 </span>he_unlink       endp
<span style="color:black">RESGROUP:0214
</span><span style="color:black">RESGROUP:0215
</span><span style="color:black">RESGROUP:0215 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:0215
</span><span style="color:black">RESGROUP:0215
</span><span style="color:black">RESGROUP:0215 </span>FreeUMBs        proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:0215                 </span><span style="color:navy">push    ax</span>              ; frees all HIDDEN memory elements in upper-memory
<span style="color:black">RESGROUP:0216                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:0217                 </span><span style="color:navy">call    </span>HeadUmb         ; Returns with carry if err, else ES == MCB
<span style="color:black">RESGROUP:021A                 </span><span style="color:navy">jb      short </span><span style="color:gray">fusX</span>
<span style="color:black">RESGROUP:021C                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:021E
</span><span style="color:black">RESGROUP:021E </span><span style="color:gray">fus10</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:021E                 </span><span style="color:navy">call    </span>isHideMCB       ; Returns with ZF set if owner is 0
<span style="color:black">RESGROUP:0221                 </span><span style="color:navy">jnz     short </span><span style="color:gray">fus20</span>
<span style="color:black">RESGROUP:0223                 </span><span style="color:navy">call    </span>freeMCB         ; Marks as free the MCB at ES:0
<span style="color:black">RESGROUP:0226
</span><span style="color:black">RESGROUP:0226 </span><span style="color:gray">fus20</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0226                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:</span><span style="color:green">0</span>        ; [es:arena_signature]
<span style="color:black">RESGROUP:022A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">5Ah</span> <span style="color:gray">; 'Z'   </span>; arena_signature_end
<span style="color:black">RESGROUP:022C                 </span><span style="color:navy">jz      short </span><span style="color:gray">fusX</span>      ; That means this was the last MCB.
<span style="color:black">RESGROUP:022E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>
<span style="color:black">RESGROUP:0230                 </span><span style="color:navy">add     ax</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; [es:arena_size]
<span style="color:black">RESGROUP:0235                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">RESGROUP:0236                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:0238                 </span><span style="color:navy">jmp     short </span><span style="color:gray">fus10</span>
<span style="color:black">RESGROUP:023A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:023A
</span><span style="color:black">RESGROUP:023A </span><span style="color:gray">fusX</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:023A                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:023B                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:023C                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:023C </span>FreeUMBs        endp
<span style="color:black">RESGROUP:023C
</span><span style="color:black">RESGROUP:023D
</span><span style="color:black">RESGROUP:023D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:023D
</span><span style="color:black">RESGROUP:023D
</span><span style="color:black">RESGROUP:023D </span>isHideMCB       proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:023D                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:023E                 </span><span style="color:navy">cmp     word ptr es:</span><span style="color:green">1</span><span style="color:navy">, </span><span style="color:#ff8000">8</span> ; cmp word [es:arena_owner],SystemPSPOwner
<span style="color:black">RESGROUP:0244                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ihm_x</span>
<span style="color:black">RESGROUP:0246                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">8</span>        ; [es:arena_name]
<span style="color:black">RESGROUP:024A                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">'IH'</span>        ; HIDDEN
<span style="color:black">RESGROUP:024D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ihm_x</span>
<span style="color:black">RESGROUP:024F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">0Ah</span>      ; [es:arena_name+2]
<span style="color:black">RESGROUP:0253                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">'DD'</span>
<span style="color:black">RESGROUP:0256                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ihm_x</span>
<span style="color:black">RESGROUP:0258                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">0Ch</span>      ; [es:arena_name+4]
<span style="color:black">RESGROUP:025C                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">'NE'</span>
<span style="color:black">RESGROUP:025F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ihm_x</span>
<span style="color:black">RESGROUP:0261                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">0Eh</span>      ; [es:arena_name+6]
<span style="color:black">RESGROUP:0265                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">'  '</span>
<span style="color:black">RESGROUP:0268
</span><span style="color:black">RESGROUP:0268 </span><span style="color:gray">ihm_x</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0268                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:0269                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:0269 </span>isHideMCB       endp
<span style="color:black">RESGROUP:0269
</span><span style="color:black">RESGROUP:026A
</span><span style="color:black">RESGROUP:026A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:026A
</span><span style="color:black">RESGROUP:026A
</span><span style="color:black">RESGROUP:026A </span>freeMCB         proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:026A                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">1</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; mov word [es:arena_owner],0
<span style="color:black">RESGROUP:0271                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2020h</span>
<span style="color:black">RESGROUP:0274                 </span><span style="color:navy">mov     es:</span><span style="color:green">8</span><span style="color:navy">, ax</span>        ; [es:arena_name+0],ax
<span style="color:black">RESGROUP:0278                 </span><span style="color:navy">mov     es:</span><span style="color:green">0Ah</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:027C                 </span><span style="color:navy">mov     es:</span><span style="color:green">0Ch</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:0280                 </span><span style="color:navy">mov     es:</span><span style="color:green">0Eh</span><span style="color:navy">, ax</span>      ; [es:arena_name+6],ax
<span style="color:black">RESGROUP:0284                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:0284 </span>freeMCB         endp
<span style="color:black">RESGROUP:0284
</span><span style="color:black">RESGROUP:0285
</span><span style="color:black">RESGROUP:0285 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:0285
</span><span style="color:black">RESGROUP:0285
</span><span style="color:black">RESGROUP:0285 </span>HeadUmb         proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:0285                 </span><span style="color:navy">push    si</span>              ; returns in AX the address of the first UMB block
<span style="color:black">RESGROUP:0285                                         </span>; (0x9FFF)
<span style="color:black">RESGROUP:0286                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:0287                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:0288                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">52h</span>         ; DOS_GET_LISTS
<span style="color:black">RESGROUP:028A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ internal - GET LIST OF LISTS
<span style="color:black">RESGROUP:028A                                         </span>; Return: ES:BX -&gt; DOS list of lists
<span style="color:black">RESGROUP:028C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">8Ch</span>      ; [es:UMB_HeadIdx]
<span style="color:black">RESGROUP:0290                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">RESGROUP:0293                 </span><span style="color:navy">jz      short </span><span style="color:gray">xhu_e</span>
<span style="color:black">RESGROUP:0295                 </span><span style="color:navy">clc
</span><span style="color:black">RESGROUP:0296                 </span><span style="color:navy">jmp     short </span><span style="color:gray">xhu_x</span>
<span style="color:black">RESGROUP:0298 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:0298
</span><span style="color:black">RESGROUP:0298 </span><span style="color:gray">xhu_e</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0298                 </span><span style="color:navy">stc
</span><span style="color:black">RESGROUP:0299
</span><span style="color:black">RESGROUP:0299 </span><span style="color:gray">xhu_x</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0299                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:029A                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:029B                 </span><span style="color:navy">pop     si</span>
<span style="color:black">RESGROUP:029C                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:029C </span>HeadUmb         endp
<span style="color:black">RESGROUP:029C
</span><span style="color:black">RESGROUP:029D
</span><span style="color:black">RESGROUP:029D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:029D
</span><span style="color:black">RESGROUP:029D
</span><span style="color:black">RESGROUP:029D </span>linkumb         proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:029D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5802h</span>
<span style="color:black">RESGROUP:02A0                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">RESGROUP:02A0                                         </span>; AL = function code: (DOS 5beta) get UMB link state
<span style="color:black">RESGROUP:02A2                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:02A4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">lumbX</span>
<span style="color:black">RESGROUP:02A6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5803h</span>
<span style="color:black">RESGROUP:02A9                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:02AC                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">RESGROUP:02AC                                         </span>; AL = function code: (DOS 5beta) set UMB link state
<span style="color:black">RESGROUP:02AE
</span><span style="color:black">RESGROUP:02AE </span><span style="color:gray">lumbX</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:02AE                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:02AE </span>linkumb         endp
<span style="color:black">RESGROUP:02AE
</span><span style="color:maroon">RESGROUP:02AF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:02AF
</span><span style="color:maroon">RESGROUP:02AF </span>Issue_Exec_Call<span style="color:navy">:                        </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">RESGROUP:02AF                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS -
<span style="color:maroon">RESGROUP:02B1                 </span><span style="color:navy">cli
</span><span style="color:maroon">RESGROUP:02B2                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">RESGROUP:02B3                 </span><span style="color:navy">pop     ss</span>
<span style="color:maroon">RESGROUP:02B4                 </span>assume ss:RESGROUP
<span style="color:maroon">RESGROUP:02B4                 </span><span style="color:navy">mov     sp</span><span style="color:navy">, </span><span style="color:#ff8000">60Ah</span>        ; DATARES:RStack ; stack is set up
<span style="color:maroon">RESGROUP:02B7                 </span><span style="color:navy">sti
</span><span style="color:maroon">RESGROUP:02B8                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">RESGROUP:02B9                 </span><span style="color:navy">pop     ds</span>              ; ds = DATARES
<span style="color:maroon">RESGROUP:02BA                 </span>assume ds:RESGROUP
<span style="color:maroon">RESGROUP:02BA                 </span><span style="color:navy">pushf
</span><span style="color:maroon">RESGROUP:02BB                 </span><span style="color:navy">call    </span>UnHideUMBs      ; This call frees HIDDEN umb's,
<span style="color:maroon">RESGROUP:02BB                                         </span>; restores the memory-allocation
<span style="color:maroon">RESGROUP:02BB                                         </span>; strategy and link state, as app.
<span style="color:maroon">RESGROUP:02BE                 </span><span style="color:navy">popf
</span><span style="color:maroon">RESGROUP:02BF                 </span><span style="color:navy">jmp     </span>Exec_Trap
<span style="color:maroon">RESGROUP:02BF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:gray">RESGROUP:02C2 </span>cox_location    <span style="color:navy">db 'cox'
</span><span style="color:gray">RESGROUP:02C5 </span>cox_Y_option    <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02C7 </span>BlkDevErrSubst  <span style="color:navy">db </span><span style="color:#008040">2                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02C8 </span>BlkDevErrRw     <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02CA                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:02CB                 </span><span style="color:navy">dw offset </span>DrvLet
<span style="color:gray">RESGROUP:02CD </span>DrvLet          <span style="color:navy">db </span><span style="color:green">'A'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02CE </span>CharDevErrSubst <span style="color:navy">db </span><span style="color:#008040">2                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02CF </span>CharDevErrRw    <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02D1                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">RESGROUP:02D2                 </span><span style="color:navy">dw offset </span>DevName
<span style="color:gray">RESGROUP:02D4 </span>DevName         <span style="color:navy">db </span><span style="color:#008040">8 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)             </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02DC                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:02DD </span>NeedVolSubst    <span style="color:navy">db </span><span style="color:#008040">2                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02DE                 </span><span style="color:navy">dw offset </span>VolName
<span style="color:gray">RESGROUP:02E0                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">RESGROUP:02E1                 </span><span style="color:navy">dw offset </span>VolSer<span style="color:navy">+</span><span style="color:green">2
</span><span style="color:gray">RESGROUP:02E3                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">RESGROUP:02E4                 </span><span style="color:navy">dw offset </span>VolSer
<span style="color:gray">RESGROUP:02E6 </span>VolName         <span style="color:navy">db </span><span style="color:#008040">11 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02F1                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:02F2 </span>VolSer          <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02F6 </span>CDevAt          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02F7 </span>BadFatSubst     <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02F8 </span><span style="color:navy">off_2F8         dw offset </span>DrvLet
<span style="color:gray">RESGROUP:02FA </span>PutBackSubst    <span style="color:navy">db </span><span style="color:#008040">2                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02FB </span>PutBackComSpec  <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:02FD                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:02FE </span><span style="color:navy">off_2FE         dw offset </span>PutBackDrv
<span style="color:gray">RESGROUP:0300 </span>PutBackDrv      <span style="color:navy">db </span><span style="color:#008040">20h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0301 </span>ExecErrSubst    <span style="color:navy">db </span><span style="color:#008040">2                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0302                 </span><span style="color:navy">dw offset </span>SafePathBuffer
<span style="color:gray">RESGROUP:0304 </span>NeedVol         <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0308 </span>ErrType         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0309 </span>Int_2e_Ret      <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:030D </span>Save_Pdb        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:030F </span>Parent          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0311 </span>OldTerm         <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)             </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0315 </span>ErrCd_24        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0317 </span>Handle01        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0319 </span>Loading         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:031A </span>Batch           <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:031C </span>ComSpec         <span style="color:navy">db </span><span style="color:#008040">64 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:035C </span>ComSpec_End     <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:035E </span>Trans           <span style="color:navy">dw offset </span>COMMAND       <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0360 </span>TrnSeg          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0362 </span>TrnMvFlg        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0363 </span>In_Batch        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0364 </span>Batch_Abort     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0365 </span>ComDrv          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0366 </span>MemSiz          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0368 </span>Sum             <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:036A </span>ExtCom          <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:036B </span>RetCode         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:036D </span>Crit_Err_Info   <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:036E </span>EchoFlag        <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:036F </span>Suppress        <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0370 </span>Io_Save         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0372 </span>RestDir         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0373 </span>PermCom         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0374 </span>SemiPermCom     <span style="color:navy">dw </span><span style="color:#008040">0FFFFh               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0376 </span>SingleCom       <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0378 </span>VerVal          <span style="color:navy">dw </span><span style="color:#008040">0FFFFh               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:037A </span>fFail           <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:037B </span>IfFlag          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:037C </span>ForFlag         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:037D </span>ForPtr          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:037F </span>Nest            <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0381 </span>Call_Flag       <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0382 </span>Call_Batch_Flag <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0383 </span>Next_Batch      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0385 </span>NullFlag        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0386 </span>FUCase_Addr     <span style="color:navy">db </span><span style="color:#008040">5 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)             </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:038B </span>Crit_Msg_Off    <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:038D </span>Crit_Msg_Seg    <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:038F </span>Dbcs_Vector_Addr <span style="color:navy">dd </span><span style="color:#008040">0                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0393 </span>Append_State    <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0395 </span>Append_Flag     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0396 </span>Re_Out_App      <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0397 </span>Re_OutStr       <span style="color:navy">db </span><span style="color:#008040">80 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:03E7 </span>InitFlag        <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:03E8 </span>PipeFlag        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:03E9 </span>PipeFiles       <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:black">RESGROUP:03EA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:03EA </span><span style="color:gray">; START OF FUNCTION CHUNK FOR StartCode
</span><span style="color:black">RESGROUP:03EA
</span><span style="color:black">RESGROUP:03EA </span>EndInit<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:03EA                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:03EB                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:03EC                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:03ED                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:03EE                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span>TrnSize
<span style="color:black">RESGROUP:03F2                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span>OldEnv
<span style="color:black">RESGROUP:03F5                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span>EnvSiz
<span style="color:black">RESGROUP:03F9                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span>UsedEnv
<span style="color:black">RESGROUP:03FD                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:03FE                 </span><span style="color:navy">push    bx</span>
<span style="color:black">RESGROUP:03FF                 </span><span style="color:navy">push    cx</span>
<span style="color:black">RESGROUP:0400                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:0402                 </span><span style="color:navy">mov     es</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:0404                 </span>assume es:RESGROUP
<span style="color:black">RESGROUP:0404                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span>ResSize
<span style="color:black">RESGROUP:0408                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">4Ah</span>
<span style="color:black">RESGROUP:040A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
<span style="color:black">RESGROUP:040A                                         </span>; ES = segment address of block to change
<span style="color:black">RESGROUP:040A                                         </span>; BX = new size in paragraphs
<span style="color:black">RESGROUP:040C                 </span><span style="color:navy">cmp     </span>PermCom<span style="color:navy">, </span><span style="color:#ff8000">1</span>      ; permanent command.com?
<span style="color:black">RESGROUP:0411                 </span><span style="color:navy">jnz     short </span>adjust_env ; no, do not free batchseg
<span style="color:black">RESGROUP:0413                 </span><span style="color:navy">cmp     </span>Batch<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:0418                 </span><span style="color:navy">jz      short </span>adjust_env
<span style="color:black">RESGROUP:041A                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; mov bx,((BATCHSEGMENT.SIZE)+16+0Fh)/16
<span style="color:black">RESGROUP:041A                                         </span>; (33+16+15)/16
<span style="color:black">RESGROUP:041D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>
<span style="color:black">RESGROUP:041F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:black">RESGROUP:041F                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:black">RESGROUP:0421                 </span><span style="color:navy">jb      short </span>adjust_env ; no memory, use old batchseg
<span style="color:black">RESGROUP:0423                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>          ; es = New batch segment
<span style="color:black">RESGROUP:0425                 </span>assume es:nothing
<span style="color:black">RESGROUP:0425                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:0427                 </span><span style="color:navy">xor     si</span><span style="color:navy">, si</span>
<span style="color:black">RESGROUP:0429                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:042A                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, </span>Batch       ; ds = Old Batch Segment
<span style="color:black">RESGROUP:042E                 </span>assume ds:nothing
<span style="color:black">RESGROUP:042E                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">33</span>          ; BATCHSEGMENT.SIZE+16
<span style="color:black">RESGROUP:0431                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:green">16</span>
<span style="color:black">RESGROUP:0434                 </span><span style="color:navy">cld
</span><span style="color:black">RESGROUP:0435                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:0437                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:0438                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, es</span>
<span style="color:black">RESGROUP:043A                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>Batch
<span style="color:black">RESGROUP:043E                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:black">RESGROUP:0440                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">RESGROUP:0440                                         </span>; ES = segment address of area to be freed
<span style="color:black">RESGROUP:0442                 </span><span style="color:navy">mov     ds:</span>Batch<span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:0446
</span><span style="color:black">RESGROUP:0446 </span>adjust_env<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0446                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">RESGROUP:0447                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:0448                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">RESGROUP:0449                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>         <span style="color:olive">; ...
</span><span style="color:black">RESGROUP:044B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:black">RESGROUP:044B                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:black">RESGROUP:044D                 </span><span style="color:navy">jb      short </span>nomem_err
<span style="color:black">RESGROUP:044F                 </span><span style="color:navy">mov     ds:</span>EnvirSeg<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:0452                 </span><span style="color:navy">mov     ds:</span><span style="color:green">2Ch</span><span style="color:navy">, ax</span>      ; [PDB.ENVIRON]
<span style="color:black">RESGROUP:0455                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:0457                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:0458                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, bp</span>
<span style="color:black">RESGROUP:045A                 </span><span style="color:navy">xor     si</span><span style="color:navy">, si</span>
<span style="color:black">RESGROUP:045C                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">RESGROUP:045E                 </span><span style="color:navy">cld
</span><span style="color:black">RESGROUP:045F                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:0461                 </span><span style="color:navy">pop     ds</span>              ; ds = RESGROUP
<span style="color:black">RESGROUP:0462                 </span><span style="color:navy">cmp     ds:</span>AllocedEnv<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:0467                 </span><span style="color:navy">jz      short </span>no_free
<span style="color:black">RESGROUP:0469                 </span><span style="color:navy">mov     es</span><span style="color:navy">, bp</span>
<span style="color:black">RESGROUP:046B                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:black">RESGROUP:046D                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">RESGROUP:046D                                         </span>; ES = segment address of area to be freed
<span style="color:black">RESGROUP:046F
</span><span style="color:black">RESGROUP:046F </span>no_free<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:046F                 </span><span style="color:navy">mov     ds:</span>TrnMvFlg<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:0474                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:0475                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:#ff8000">26E0h</span>       ; mov si,TRANSTART (26E0h)
<span style="color:black">RESGROUP:0478                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:047B                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">0AF95h</span>      ; TRANSIENT portion size
<span style="color:black">RESGROUP:047B                                         </span>; (TRANSPACEEND)
<span style="color:black">RESGROUP:047E                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">RESGROUP:0481                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>
<span style="color:black">RESGROUP:0483                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             <span style="color:olive">; ...
</span><span style="color:black">RESGROUP:0483                                         </span>; DOS - 2+ - ALLOCATE MEMORY
<span style="color:black">RESGROUP:0483                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:black">RESGROUP:0485                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:0487                 </span><span style="color:navy">jb      short </span>nomem_err
<span style="color:black">RESGROUP:0489                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>
<span style="color:black">RESGROUP:048B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:black">RESGROUP:048B                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:black">RESGROUP:048D                 </span><span style="color:navy">jb      short </span>nomem_err
<span style="color:black">RESGROUP:048F                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:0490                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:0492                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:0494                 </span><span style="color:navy">mov     ds:</span>TrnSeg<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:0497                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:0499                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:049A                 </span><span style="color:navy">add     si</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:049C                 </span><span style="color:navy">dec     si</span>
<span style="color:black">RESGROUP:049D                 </span><span style="color:navy">add     di</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:049F                 </span><span style="color:navy">dec     di</span>
<span style="color:black">RESGROUP:04A0                 </span><span style="color:navy">std
</span><span style="color:black">RESGROUP:04A1                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:04A3                 </span><span style="color:navy">cld
</span><span style="color:black">RESGROUP:04A4                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:04A6                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:black">RESGROUP:04A8                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">RESGROUP:04A8                                         </span>; ES = segment address of area to be freed
<span style="color:black">RESGROUP:04AA                 </span><span style="color:navy">mov     ds:</span>InitFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:04AF                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:04B0                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:04B1                 </span><span style="color:navy">jmp     </span>LodCom_Trap
<span style="color:black">RESGROUP:04B4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:04B4
</span><span style="color:black">RESGROUP:04B4 </span>nomem_err<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:04B4                 </span><span style="color:navy">jmp     </span>Alloc_error
<span style="color:black">RESGROUP:04B4 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR StartCode
</span><span style="color:black">RESGROUP:04B4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:gray">RESGROUP:04B7 </span>EndCodeInit     <span style="color:navy">db </span><span style="color:#008040">84 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">RESGROUP:050B </span>InPipePtr       <span style="color:navy">dw </span><span style="color:#008040">3EAh                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:050D </span>OutPipePtr      <span style="color:navy">dw </span><span style="color:#008040">439h                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:050F </span>EnvirSeg        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0511 </span>Com_Ptr         <span style="color:navy">dw </span><span style="color:#008040">80h</span><span style="color:navy">, </span><span style="color:#008040">0               </span><span style="color:olive">; ...
</span><span style="color:gray">RESGROUP:0515 </span>Com_Fcb1        <span style="color:navy">dw </span><span style="color:#008040">5Ch</span><span style="color:navy">, </span><span style="color:#008040">0               </span><span style="color:olive">; ...
</span><span style="color:gray">RESGROUP:0519 </span>Com_Fcb2        <span style="color:navy">dw </span><span style="color:#008040">6Ch</span><span style="color:navy">, </span><span style="color:#008040">0               </span><span style="color:olive">; ...
</span><span style="color:gray">RESGROUP:051D </span>TranVars        <span style="color:navy">dw offset </span>HeadFix_Trap  <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:051F </span>MySeg           <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0521 </span>LTpa            <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0523 </span>RSwitChar       <span style="color:navy">db </span><span style="color:green">'/'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0524 </span>RDirChar        <span style="color:navy">db </span><span style="color:green">'\'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0525                 </span><span style="color:navy">dw offset </span>Issue_Exec_Call
<span style="color:gray">RESGROUP:0527 </span>MySeg1          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0529                 </span><span style="color:navy">dw offset </span>RemCheck_Trap
<span style="color:gray">RESGROUP:052B </span>MySeg2          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:052D </span>ResTest         <span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:052F </span>Res_Tpa         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0531 </span>Y_Flag          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0533 </span>OldErrNo        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0535 </span>SafePathBuffer  <span style="color:navy">db </span><span style="color:#008040">80 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0585 </span>Int2fHandler    <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)             </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0589 </span>ResMsgEnd       <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:058B </span>ResSize         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:058D                 </span><span style="color:navy">db </span><span style="color:#008040">125 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">RESGROUP:060A </span>RStack          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:060C </span>fInHigh         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:060D </span>fUmbTiny        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:060E </span>SegLoad         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0610 </span>UmbLoad         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0611 </span>UmbUsed         <span style="color:navy">db </span><span style="color:#008040">16 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0621 </span>UmbSize         <span style="color:navy">dw </span><span style="color:#008040">16 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0641 </span>fm_umb          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0642 </span>fm_strat        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0643 </span>fm_argc         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0644 </span>ABORT_CHAR      <span style="color:navy">db </span><span style="color:green">'A'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0645 </span>RETRY_CHAR      <span style="color:navy">db </span><span style="color:green">'R'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0646 </span>IGNORE_CHAR     <span style="color:navy">db </span><span style="color:green">'I'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0647 </span>FAIL_CHAR       <span style="color:navy">db </span><span style="color:green">'F'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0648 </span>YES_CHAR        <span style="color:navy">db </span><span style="color:green">'Y'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0649 </span>NO_CHAR         <span style="color:navy">db </span><span style="color:green">'N'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:064A </span>REQ_ABORT       <span style="color:navy">db </span><span style="color:#008040">5                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:064B                 </span><span style="color:navy">db 'Abort'
</span><span style="color:gray">RESGROUP:0650 </span>REQ_RETRY       <span style="color:navy">db </span><span style="color:#008040">7                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0651                 </span><span style="color:navy">db ', Retry'
</span><span style="color:gray">RESGROUP:0658 </span>REQ_IGNORE      <span style="color:navy">db </span><span style="color:#008040">8                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0659                 </span><span style="color:navy">db ', Ignore'
</span><span style="color:gray">RESGROUP:0661 </span>REQ_FAIL        <span style="color:navy">db </span><span style="color:#008040">6                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0662                 </span><span style="color:navy">db ', Fail'
</span><span style="color:gray">RESGROUP:0668 </span>REQ_END         <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0669                 </span><span style="color:navy">db </span><span style="color:green">'?'
</span><span style="color:gray">RESGROUP:066A </span>MREAD           <span style="color:navy">db </span><span style="color:#008040">8                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:066B                 </span><span style="color:navy">db 'reading',0
</span><span style="color:gray">RESGROUP:0673 </span>MWRITE          <span style="color:navy">db </span><span style="color:#008040">8                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0674                 </span><span style="color:navy">db 'writing',0
</span><span style="color:gray">RESGROUP:067C </span>MDRIVE          <span style="color:navy">db </span><span style="color:#008040">14                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:067D                 </span><span style="color:navy">db ' %1 drive %2',0Dh,0Ah
</span><span style="color:gray">RESGROUP:068B </span>MDEVICE         <span style="color:navy">db </span><span style="color:#008040">15                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:068C                 </span><span style="color:navy">db ' %1 device %2',0Dh,0Ah
</span><span style="color:gray">RESGROUP:069B </span>MVOLSERIAL      <span style="color:navy">db </span><span style="color:#008040">38                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:069C                 </span><span style="color:navy">db 'Please insert volume %1 serial %2-%3',0Dh,0Ah
</span><span style="color:gray">RESGROUP:06C2 </span>BADFATMSG       <span style="color:navy">db </span><span style="color:#008040">37                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:06C3                 </span><span style="color:navy">db 'File allocation table bad, drive %1',0Dh,0Ah
</span><span style="color:gray">RESGROUP:06E8 </span>COMBAD          <span style="color:navy">db </span><span style="color:#008040">21                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:06E9                 </span><span style="color:navy">db 'Invalid COMMAND.COM',0Dh,0Ah
</span><span style="color:gray">RESGROUP:06FE </span>PUTBACKMSG      <span style="color:navy">db </span><span style="color:#008040">33                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:06FF                 </span><span style="color:navy">db 'Insert disk with %1 in drive %2',0Dh,0Ah
</span><span style="color:gray">RESGROUP:0720 </span>PROMPT          <span style="color:navy">db </span><span style="color:#008040">33                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0721                 </span><span style="color:navy">db 'Press any key to continue . . .',0Dh,0Ah
</span><span style="color:gray">RESGROUP:0742 </span>ENDBATMES       <span style="color:navy">db </span><span style="color:#008040">28                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0743                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">RESGROUP:0743                 </span><span style="color:navy">db 'Terminate batch job (Y/N)?'
</span><span style="color:gray">RESGROUP:075F </span>EXECEMES        <span style="color:navy">db </span><span style="color:#008040">19                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0760                 </span><span style="color:navy">db 'Cannot execute %1',0Dh,0Ah
</span><span style="color:gray">RESGROUP:0773 </span>EXEBAD          <span style="color:navy">db </span><span style="color:#008040">19                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0774                 </span><span style="color:navy">db 'Error in EXE file',0Dh,0Ah
</span><span style="color:gray">RESGROUP:0787 </span>TOOBIG          <span style="color:navy">db </span><span style="color:#008040">34                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0788                 </span><span style="color:navy">db 'Program too big to fit in memory',0Dh,0Ah
</span><span style="color:gray">RESGROUP:07AA </span>NOHANDMES       <span style="color:navy">db </span><span style="color:#008040">22                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:07AB                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">RESGROUP:07AB                 </span><span style="color:navy">db 'No free file handles'
</span><span style="color:gray">RESGROUP:07C1 </span>RBADNAM         <span style="color:navy">db </span><span style="color:#008040">26                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:07C2                 </span><span style="color:navy">db 'Bad Command or file name',0Dh,0Ah
</span><span style="color:gray">RESGROUP:07DC </span>ACCDEN          <span style="color:navy">db </span><span style="color:#008040">0Eh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:07DD                 </span><span style="color:navy">db 'Access denied '
</span><span style="color:gray">RESGROUP:07EB </span>BMEMMES         <span style="color:navy">db </span><span style="color:#008040">25                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:07EC                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">RESGROUP:07EC                 </span><span style="color:navy">db 'Memory allocation error'
</span><span style="color:gray">RESGROUP:0805 </span>HALTMES         <span style="color:navy">db </span><span style="color:#008040">38                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0806                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">RESGROUP:0806                 </span><span style="color:navy">db 'Cannot load COMMAND, system halted',0Dh,0Ah
</span><span style="color:gray">RESGROUP:082C </span>FRETMES         <span style="color:navy">db </span><span style="color:#008040">33                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:082D                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">RESGROUP:082D                 </span><span style="color:navy">db 'Cannot start COMMAND, exiting',0Dh,0Ah
</span><span style="color:gray">RESGROUP:084E </span>PATRICIDE       <span style="color:navy">db </span><span style="color:#008040">46                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:084F                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">RESGROUP:084F                 </span><span style="color:navy">db 'Top level process aborted, cannot continue',0Dh,0Ah
</span><span style="color:gray">RESGROUP:087D </span>NEWLINE         <span style="color:navy">db </span><span style="color:#008040">2                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:087E                 </span><span style="color:navy">db </span><span style="color:#008040">0Dh</span><span style="color:navy">, </span><span style="color:#008040">0Ah
</span><span style="color:gray">RESGROUP:0880 </span>MsgPtrLists     <span style="color:navy">dd </span><span style="color:#008040">10D8Fh               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0880                                         </span>; extended error messages
<span style="color:gray">RESGROUP:0884                 </span><span style="color:navy">dw offset </span>PARSMSGPTRS   ; parse   error messages
<span style="color:gray">RESGROUP:0886                 </span><span style="color:navy">dw </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:0888                 </span><span style="color:navy">dw offset </span>EXTMSGPTRS    ; critical error messages
<span style="color:gray">RESGROUP:088A                 </span><span style="color:navy">dw </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:088C                 </span><span style="color:navy">dw </span><span style="color:#008040">0                    </span>; File system error messages
<span style="color:gray">RESGROUP:088C                                         </span>; are not supported.
<span style="color:gray">RESGROUP:088E                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:0890                 </span><span style="color:navy">dw offset </span>MsgRetrv_Trap ; disk retriever routine
<span style="color:gray">RESGROUP:0892 </span>MySeg3          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0892                                         </span>; segment of retriever routine
<span style="color:gray">RESGROUP:0894 </span>CRMSG0          <span style="color:navy">db </span><span style="color:#008040">13h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0895                 </span><span style="color:navy">db 'Write protect error'
</span><span style="color:gray">RESGROUP:08A8 </span>CRMSG1          <span style="color:navy">db </span><span style="color:#008040">0Ch                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:08A9                 </span><span style="color:navy">db 'Invalid unit'
</span><span style="color:gray">RESGROUP:08B5 </span>CRMSG2          <span style="color:navy">db </span><span style="color:#008040">9                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:08B6                 </span><span style="color:navy">db 'Not ready'
</span><span style="color:gray">RESGROUP:08BF </span>CRMSG3          <span style="color:navy">db </span><span style="color:#008040">16h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:08C0                 </span><span style="color:navy">db 'Invalid device request'
</span><span style="color:gray">RESGROUP:08D6 </span>CRMSG4          <span style="color:navy">db </span><span style="color:#008040">0Ah                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:08D7                 </span><span style="color:navy">db 'Data error'
</span><span style="color:gray">RESGROUP:08E1 </span>CRMSG5          <span style="color:navy">db </span><span style="color:#008040">21h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:08E2                 </span><span style="color:navy">db 'Invalid device request parameters'
</span><span style="color:gray">RESGROUP:0903 </span>CRMSG6          <span style="color:navy">db </span><span style="color:#008040">0Ah                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0904                 </span><span style="color:navy">db 'Seek error'
</span><span style="color:gray">RESGROUP:090E </span>CRMSG7          <span style="color:navy">db </span><span style="color:#008040">12h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:090F                 </span><span style="color:navy">db 'Invalid media type'
</span><span style="color:gray">RESGROUP:0921 </span>CRMSG8          <span style="color:navy">db </span><span style="color:#008040">10h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0922                 </span><span style="color:navy">db 'Sector not found'
</span><span style="color:gray">RESGROUP:0932 </span>CRMSG9          <span style="color:navy">db </span><span style="color:#008040">1Ah                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0933                 </span><span style="color:navy">db 'Printer out of paper error'
</span><span style="color:gray">RESGROUP:094D </span>CRMSG10         <span style="color:navy">db </span><span style="color:#008040">11h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:094E                 </span><span style="color:navy">db 'Write fault error'
</span><span style="color:gray">RESGROUP:095F </span>CRMSG11         <span style="color:navy">db </span><span style="color:#008040">10h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0960                 </span><span style="color:navy">db 'Read fault error'
</span><span style="color:gray">RESGROUP:0970 </span>CRMSG12         <span style="color:navy">db </span><span style="color:#008040">0Fh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0971                 </span><span style="color:navy">db 'General failure'
</span><span style="color:gray">RESGROUP:0980 </span>CRMSG13         <span style="color:navy">db </span><span style="color:#008040">11h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0981                 </span><span style="color:navy">db 'Sharing violation'
</span><span style="color:gray">RESGROUP:0992 </span>CRMSG14         <span style="color:navy">db </span><span style="color:#008040">0Eh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0993                 </span><span style="color:navy">db 'Lock violation'
</span><span style="color:gray">RESGROUP:09A1 </span>CRMSG15         <span style="color:navy">db </span><span style="color:#008040">13h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:09A2                 </span><span style="color:navy">db 'Invalid disk change'
</span><span style="color:gray">RESGROUP:09B5 </span>CRMSG16         <span style="color:navy">db </span><span style="color:#008040">0Fh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:09B6                 </span><span style="color:navy">db 'FCB unavailable'
</span><span style="color:gray">RESGROUP:09C5 </span>CRMSG17         <span style="color:navy">db </span><span style="color:#008040">19h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:09C6                 </span><span style="color:navy">db 'System resource exhausted'
</span><span style="color:gray">RESGROUP:09DF </span>CRMSG18         <span style="color:navy">db </span><span style="color:#008040">12h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:09E0                 </span><span style="color:navy">db 'Code page mismatch'
</span><span style="color:gray">RESGROUP:09F2 </span>CRMSG19         <span style="color:navy">db </span><span style="color:#008040">0Ch                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:09F3                 </span><span style="color:navy">db 'Out of input'
</span><span style="color:gray">RESGROUP:09FF </span>CRMSG20         <span style="color:navy">db </span><span style="color:#008040">17h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0A00                 </span><span style="color:navy">db 'Insufficient disk space'
</span><span style="color:gray">RESGROUP:0A17 </span>CRITMSGPTRS     <span style="color:navy">dw offset </span>CRMSG0        <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0A19                 </span><span style="color:navy">dw offset </span>CRMSG1
<span style="color:gray">RESGROUP:0A1B                 </span><span style="color:navy">dw offset </span>CRMSG2
<span style="color:gray">RESGROUP:0A1D                 </span><span style="color:navy">dw offset </span>CRMSG3
<span style="color:gray">RESGROUP:0A1F                 </span><span style="color:navy">dw offset </span>CRMSG4
<span style="color:gray">RESGROUP:0A21                 </span><span style="color:navy">dw offset </span>CRMSG5
<span style="color:gray">RESGROUP:0A23                 </span><span style="color:navy">dw offset </span>CRMSG6
<span style="color:gray">RESGROUP:0A25                 </span><span style="color:navy">dw offset </span>CRMSG7
<span style="color:gray">RESGROUP:0A27                 </span><span style="color:navy">dw offset </span>CRMSG8
<span style="color:gray">RESGROUP:0A29                 </span><span style="color:navy">dw offset </span>CRMSG9
<span style="color:gray">RESGROUP:0A2B                 </span><span style="color:navy">dw offset </span>CRMSG10
<span style="color:gray">RESGROUP:0A2D                 </span><span style="color:navy">dw offset </span>CRMSG11
<span style="color:gray">RESGROUP:0A2F                 </span><span style="color:navy">dw offset </span>CRMSG12
<span style="color:gray">RESGROUP:0A31                 </span><span style="color:navy">dw offset </span>CRMSG13
<span style="color:gray">RESGROUP:0A33                 </span><span style="color:navy">dw offset </span>CRMSG14
<span style="color:gray">RESGROUP:0A35                 </span><span style="color:navy">dw offset </span>CRMSG15
<span style="color:gray">RESGROUP:0A37                 </span><span style="color:navy">dw offset </span>CRMSG16
<span style="color:gray">RESGROUP:0A39                 </span><span style="color:navy">dw offset </span>CRMSG17
<span style="color:gray">RESGROUP:0A3B                 </span><span style="color:navy">dw offset </span>CRMSG18
<span style="color:gray">RESGROUP:0A3D                 </span><span style="color:navy">dw offset </span>CRMSG19
<span style="color:gray">RESGROUP:0A3F                 </span><span style="color:navy">dw offset </span>CRMSG20
<span style="color:gray">RESGROUP:0A41 </span>PAERRMSG0       <span style="color:navy">db </span><span style="color:#008040">13h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0A42                 </span><span style="color:navy">db 'Too many parameters'
</span><span style="color:gray">RESGROUP:0A55 </span>PAERRMSG1       <span style="color:navy">db </span><span style="color:#008040">1Ah                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0A56                 </span><span style="color:navy">db 'Required parameter missing'
</span><span style="color:gray">RESGROUP:0A70 </span>PAERRMSG2       <span style="color:navy">db </span><span style="color:#008040">0Eh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0A71                 </span><span style="color:navy">db 'Invalid switch'
</span><span style="color:gray">RESGROUP:0A7F </span>PAERRMSG3       <span style="color:navy">db </span><span style="color:#008040">0Fh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0A80                 </span><span style="color:navy">db 'Invalid keyword'
</span><span style="color:gray">RESGROUP:0A8F </span>PAERRMSG4       <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0A90                 </span><span style="color:navy">db </span><span style="color:green">' '
</span><span style="color:gray">RESGROUP:0A91 </span>PAERRMSG5       <span style="color:navy">db </span><span style="color:#008040">24h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0A92                 </span><span style="color:navy">db 'Parameter value not in allowed range'
</span><span style="color:gray">RESGROUP:0AB6 </span>PAERRMSG6       <span style="color:navy">db </span><span style="color:#008040">1Bh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0AB7                 </span><span style="color:navy">db 'Parameter value not allowed'
</span><span style="color:gray">RESGROUP:0AD2 </span>PAERRMSG7       <span style="color:navy">db </span><span style="color:#008040">1Bh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0AD3                 </span><span style="color:navy">db 'Parameter value not allowed'
</span><span style="color:gray">RESGROUP:0AEE </span>PAERRMSG8       <span style="color:navy">db </span><span style="color:#008040">1Ch                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0AEF                 </span><span style="color:navy">db 'Parameter format not correct'
</span><span style="color:gray">RESGROUP:0B0B </span>PAERRMSG9       <span style="color:navy">db </span><span style="color:#008040">11h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0B0C                 </span><span style="color:navy">db 'Invalid parameter'
</span><span style="color:gray">RESGROUP:0B1D </span>PAERRMSG10      <span style="color:navy">db </span><span style="color:#008040">1Dh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0B1E                 </span><span style="color:navy">db 'Invalid parameter combination'
</span><span style="color:gray">RESGROUP:0B3B </span>PARSMSGPTRS     <span style="color:navy">dw offset </span>PAERRMSG0     <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0B3D                 </span><span style="color:navy">dw offset </span>PAERRMSG1
<span style="color:gray">RESGROUP:0B3F                 </span><span style="color:navy">dw offset </span>PAERRMSG2
<span style="color:gray">RESGROUP:0B41                 </span><span style="color:navy">dw offset </span>PAERRMSG3
<span style="color:gray">RESGROUP:0B43                 </span><span style="color:navy">dw offset </span>PAERRMSG4
<span style="color:gray">RESGROUP:0B45                 </span><span style="color:navy">dw offset </span>PAERRMSG5
<span style="color:gray">RESGROUP:0B47                 </span><span style="color:navy">dw offset </span>PAERRMSG6
<span style="color:gray">RESGROUP:0B49                 </span><span style="color:navy">dw offset </span>PAERRMSG7
<span style="color:gray">RESGROUP:0B4B                 </span><span style="color:navy">dw offset </span>PAERRMSG8
<span style="color:gray">RESGROUP:0B4D                 </span><span style="color:navy">dw offset </span>PAERRMSG9
<span style="color:gray">RESGROUP:0B4F                 </span><span style="color:navy">dw offset </span>PAERRMSG10
<span style="color:gray">RESGROUP:0B51 </span>INVLFUNCT       <span style="color:navy">db </span><span style="color:#008040">10h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0B52                 </span><span style="color:navy">db 'Invalid function'
</span><span style="color:gray">RESGROUP:0B62 </span>FNOTFOUND       <span style="color:navy">db </span><span style="color:#008040">0Eh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0B63                 </span><span style="color:navy">db 'File not found'
</span><span style="color:gray">RESGROUP:0B71 </span>PNOTFOUND       <span style="color:navy">db </span><span style="color:#008040">0Eh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0B72                 </span><span style="color:navy">db 'Path not found'
</span><span style="color:gray">RESGROUP:0B80 </span>TOOMANYOF       <span style="color:navy">db </span><span style="color:#008040">13h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0B81                 </span><span style="color:navy">db 'Too many open files'
</span><span style="color:gray">RESGROUP:0B94 </span>ACCDENIED       <span style="color:navy">db </span><span style="color:#008040">0Eh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0B95                 </span><span style="color:navy">db 'Access denied '
</span><span style="color:gray">RESGROUP:0BA3 </span>INVHANDLE       <span style="color:navy">db </span><span style="color:#008040">0Eh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0BA4                 </span><span style="color:navy">db 'Invalid handle'
</span><span style="color:gray">RESGROUP:0BB2 </span>MEMCBDEST       <span style="color:navy">db </span><span style="color:#008040">1Fh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0BB3                 </span><span style="color:navy">db 'Memory control blocks destroyed'
</span><span style="color:gray">RESGROUP:0BD2 </span>INSUFFMEM       <span style="color:navy">db </span><span style="color:#008040">13h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0BD3                 </span><span style="color:navy">db 'Insufficient memory'
</span><span style="color:gray">RESGROUP:0BE6 </span>INVMEMBLA       <span style="color:navy">db </span><span style="color:#008040">1Ch                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0BE7                 </span><span style="color:navy">db 'Invalid memory block address'
</span><span style="color:gray">RESGROUP:0C03 </span>INVENVIRO       <span style="color:navy">db </span><span style="color:#008040">13h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0C04                 </span><span style="color:navy">db 'Invalid Environment'
</span><span style="color:gray">RESGROUP:0C17 </span>INVFORMAT       <span style="color:navy">db </span><span style="color:#008040">0Eh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0C18                 </span><span style="color:navy">db 'Invalid format'
</span><span style="color:gray">RESGROUP:0C26 </span>INVFNPARM       <span style="color:navy">db </span><span style="color:#008040">1Ah                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0C27                 </span><span style="color:navy">db 'Invalid function parameter'
</span><span style="color:gray">RESGROUP:0C41 </span>INVLDDATA       <span style="color:navy">db </span><span style="color:#008040">0Ch                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0C42                 </span><span style="color:navy">db 'Invalid data'
</span><span style="color:gray">RESGROUP:0C4E </span>INVDRVSPC       <span style="color:navy">db </span><span style="color:#008040">1Bh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0C4F                 </span><span style="color:navy">db 'Invalid drive specification'
</span><span style="color:gray">RESGROUP:0C6A </span>ATRCURDIR       <span style="color:navy">db </span><span style="color:#008040">23h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0C6B                 </span><span style="color:navy">db 'Attempt to remove current directory'
</span><span style="color:gray">RESGROUP:0C8E </span>NOTSAMDEV       <span style="color:navy">db </span><span style="color:#008040">0Fh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0C8F                 </span><span style="color:navy">db 'Not same device'
</span><span style="color:gray">RESGROUP:0C9E </span>NOMOREFIL       <span style="color:navy">db </span><span style="color:#008040">0Dh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0C9F                 </span><span style="color:navy">db 'No more files'
</span><span style="color:gray">RESGROUP:0CAC </span>FILEXISTS       <span style="color:navy">db </span><span style="color:#008040">0Bh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0CAD                 </span><span style="color:navy">db 'File exists'
</span><span style="color:gray">RESGROUP:0CB8 </span>CANTMKDIR       <span style="color:navy">db </span><span style="color:#008040">1Bh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0CB9                 </span><span style="color:navy">db 'Cannot make directory entry'
</span><span style="color:gray">RESGROUP:0CD4 </span>FAILINT24       <span style="color:navy">db </span><span style="color:#008040">0Eh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0CD5                 </span><span style="color:navy">db 'Fail on INT 24'
</span><span style="color:gray">RESGROUP:0CE3 </span>TOOMANYRD       <span style="color:navy">db </span><span style="color:#008040">15h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0CE4                 </span><span style="color:navy">db 'Too many redirections'
</span><span style="color:gray">RESGROUP:0CF9 </span>DUPLREDIR       <span style="color:navy">db </span><span style="color:#008040">15h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0CFA                 </span><span style="color:navy">db 'Duplicate redirection'
</span><span style="color:gray">RESGROUP:0D0F </span>INVPASSWD       <span style="color:navy">db </span><span style="color:#008040">10h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0D10                 </span><span style="color:navy">db 'Invalid password'
</span><span style="color:gray">RESGROUP:0D20 </span>INVLDPARM       <span style="color:navy">db </span><span style="color:#008040">11h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0D21                 </span><span style="color:navy">db 'Invalid parameter'
</span><span style="color:gray">RESGROUP:0D32 </span>NETDATFAU       <span style="color:navy">db </span><span style="color:#008040">12h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0D33                 </span><span style="color:navy">db 'Network data fault'
</span><span style="color:gray">RESGROUP:0D45 </span>FNOSUPNET       <span style="color:navy">db </span><span style="color:#008040">21h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0D46                 </span><span style="color:navy">db 'Function not supported by network'
</span><span style="color:gray">RESGROUP:0D67 </span>RSCNOTINS       <span style="color:navy">db </span><span style="color:#008040">27h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0D68                 </span><span style="color:navy">db 'Required system component not installed'
</span><span style="color:gray">RESGROUP:0D8F </span>EXTMSGPTRS      <span style="color:navy">dw offset </span>INVLFUNCT     <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:0D91                 </span><span style="color:navy">dw offset </span>FNOTFOUND
<span style="color:gray">RESGROUP:0D93                 </span><span style="color:navy">dw offset </span>PNOTFOUND
<span style="color:gray">RESGROUP:0D95                 </span><span style="color:navy">dw offset </span>TOOMANYOF
<span style="color:gray">RESGROUP:0D97                 </span><span style="color:navy">dw offset </span>ACCDENIED
<span style="color:gray">RESGROUP:0D99                 </span><span style="color:navy">dw offset </span>INVHANDLE
<span style="color:gray">RESGROUP:0D9B                 </span><span style="color:navy">dw offset </span>MEMCBDEST
<span style="color:gray">RESGROUP:0D9D                 </span><span style="color:navy">dw offset </span>INSUFFMEM
<span style="color:gray">RESGROUP:0D9F                 </span><span style="color:navy">dw offset </span>INVMEMBLA
<span style="color:gray">RESGROUP:0DA1                 </span><span style="color:navy">dw offset </span>INVENVIRO
<span style="color:gray">RESGROUP:0DA3                 </span><span style="color:navy">dw offset </span>INVFORMAT
<span style="color:gray">RESGROUP:0DA5                 </span><span style="color:navy">dw offset </span>INVFNPARM
<span style="color:gray">RESGROUP:0DA7                 </span><span style="color:navy">dw offset </span>INVLDDATA
<span style="color:gray">RESGROUP:0DA9                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:0DAB                 </span><span style="color:navy">dw offset </span>INVDRVSPC
<span style="color:gray">RESGROUP:0DAD                 </span><span style="color:navy">dw offset </span>ATRCURDIR
<span style="color:gray">RESGROUP:0DAF                 </span><span style="color:navy">dw offset </span>NOTSAMDEV
<span style="color:gray">RESGROUP:0DB1                 </span><span style="color:navy">dw offset </span>NOMOREFIL
<span style="color:gray">RESGROUP:0DB3                 </span><span style="color:navy">dw offset </span>CRMSG0
<span style="color:gray">RESGROUP:0DB5                 </span><span style="color:navy">dw offset </span>CRMSG1
<span style="color:gray">RESGROUP:0DB7                 </span><span style="color:navy">dw offset </span>CRMSG2
<span style="color:gray">RESGROUP:0DB9                 </span><span style="color:navy">dw offset </span>CRMSG3
<span style="color:gray">RESGROUP:0DBB                 </span><span style="color:navy">dw offset </span>CRMSG4
<span style="color:gray">RESGROUP:0DBD                 </span><span style="color:navy">dw offset </span>CRMSG5
<span style="color:gray">RESGROUP:0DBF                 </span><span style="color:navy">dw offset </span>CRMSG6
<span style="color:gray">RESGROUP:0DC1                 </span><span style="color:navy">dw offset </span>CRMSG7
<span style="color:gray">RESGROUP:0DC3                 </span><span style="color:navy">dw offset </span>CRMSG8
<span style="color:gray">RESGROUP:0DC5                 </span><span style="color:navy">dw offset </span>CRMSG9
<span style="color:gray">RESGROUP:0DC7                 </span><span style="color:navy">dw offset </span>CRMSG10
<span style="color:gray">RESGROUP:0DC9                 </span><span style="color:navy">dw offset </span>CRMSG11
<span style="color:gray">RESGROUP:0DCB                 </span><span style="color:navy">dw offset </span>CRMSG12
<span style="color:gray">RESGROUP:0DCD                 </span><span style="color:navy">dw offset </span>CRMSG13
<span style="color:gray">RESGROUP:0DCF                 </span><span style="color:navy">dw offset </span>CRMSG14
<span style="color:gray">RESGROUP:0DD1                 </span><span style="color:navy">dw offset </span>CRMSG15
<span style="color:gray">RESGROUP:0DD3                 </span><span style="color:navy">dw offset </span>CRMSG16
<span style="color:gray">RESGROUP:0DD5                 </span><span style="color:navy">dw offset </span>CRMSG17
<span style="color:gray">RESGROUP:0DD7                 </span><span style="color:navy">dw offset </span>CRMSG18
<span style="color:gray">RESGROUP:0DD9                 </span><span style="color:navy">dw offset </span>CRMSG19
<span style="color:gray">RESGROUP:0DDB                 </span><span style="color:navy">dw offset </span>CRMSG20
<span style="color:gray">RESGROUP:0DDD                 </span><span style="color:navy">db </span><span style="color:#008040">80 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">RESGROUP:0E2D                 </span><span style="color:navy">dw offset </span>FILEXISTS
<span style="color:gray">RESGROUP:0E2F                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:0E31                 </span><span style="color:navy">dw offset </span>CANTMKDIR
<span style="color:gray">RESGROUP:0E33                 </span><span style="color:navy">dw offset </span>FAILINT24
<span style="color:gray">RESGROUP:0E35                 </span><span style="color:navy">dw offset </span>TOOMANYRD
<span style="color:gray">RESGROUP:0E37                 </span><span style="color:navy">dw offset </span>DUPLREDIR
<span style="color:gray">RESGROUP:0E39                 </span><span style="color:navy">dw offset </span>INVPASSWD
<span style="color:gray">RESGROUP:0E3B                 </span><span style="color:navy">dw offset </span>INVLDPARM
<span style="color:gray">RESGROUP:0E3D                 </span><span style="color:navy">dw offset </span>NETDATFAU
<span style="color:gray">RESGROUP:0E3F                 </span><span style="color:navy">dw offset </span>FNOSUPNET
<span style="color:gray">RESGROUP:0E41                 </span><span style="color:navy">dw offset </span>RSCNOTINS
<span style="color:gray">RESGROUP:0E43 </span>ExtMsgEnd       <span style="color:navy">db </span><span style="color:#008040">13 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)            </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">RESGROUP:0E50 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0E50
</span><span style="color:maroon">RESGROUP:0E50 </span>Exec_Err<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0E50                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>RBADNAM ; RCODE_START = 0E50h
<span style="color:maroon">RESGROUP:0E53                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:maroon">RESGROUP:0E55                 </span><span style="color:navy">jz      short </span>GotExecEMes
<span style="color:maroon">RESGROUP:0E57                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>TOOBIG
<span style="color:maroon">RESGROUP:0E5A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:maroon">RESGROUP:0E5C                 </span><span style="color:navy">jz      short </span>GotExecEMes
<span style="color:maroon">RESGROUP:0E5E                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>EXEBAD
<span style="color:maroon">RESGROUP:0E61                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Bh</span>
<span style="color:maroon">RESGROUP:0E63                 </span><span style="color:navy">jz      short </span>GotExecEMes
<span style="color:maroon">RESGROUP:0E65                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>ACCDEN
<span style="color:maroon">RESGROUP:0E68                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>
<span style="color:maroon">RESGROUP:0E6A                 </span><span style="color:navy">jz      short </span>GotExecEMes
<span style="color:maroon">RESGROUP:0E6C                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>EXECEMES
<span style="color:maroon">RESGROUP:0E6F                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ExecErrSubst
<span style="color:maroon">RESGROUP:0E72
</span><span style="color:maroon">RESGROUP:0E72 </span>GotExecEMes<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0E72                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, bx</span>
<span style="color:maroon">RESGROUP:0E74                 </span><span style="color:navy">call    </span>RPrint
<span style="color:maroon">RESGROUP:0E77                 </span><span style="color:navy">jmp     short </span>NoExec
<span style="color:maroon">RESGROUP:0E79 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0E79
</span><span style="color:maroon">RESGROUP:0E79 </span>Exec_Ret<span style="color:navy">:
</span><span style="color:maroon">RESGROUP:0E79                 </span><span style="color:navy">jb      short </span>Exec_Err
<span style="color:maroon">RESGROUP:0E7B
</span><span style="color:maroon">RESGROUP:0E7B </span>Exec_Wait<span style="color:navy">:                              </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">RESGROUP:0E7B                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">4Dh</span>
<span style="color:maroon">RESGROUP:0E7D                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET EXIT CODE OF SUBPROGRAM (WAIT)
<span style="color:maroon">RESGROUP:0E7F                 </span><span style="color:navy">mov     ds:</span>RetCode<span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:0E82
</span><span style="color:maroon">RESGROUP:0E82 </span>NoExec<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0E82                 </span><span style="color:navy">jmp     </span>LodCom
<span style="color:maroon">RESGROUP:0E85 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0E85
</span><span style="color:maroon">RESGROUP:0E85 </span>ContC<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0E85                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:0E86                 </span><span style="color:navy">test    ds:</span>InitFlag<span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:maroon">RESGROUP:0E8B                 </span><span style="color:navy">jz      short </span>NotAtInit
<span style="color:maroon">RESGROUP:0E8D                 </span><span style="color:navy">test    ds:</span>InitFlag<span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:maroon">RESGROUP:0E92                 </span><span style="color:navy">jz      short </span>CmdIret
<span style="color:maroon">RESGROUP:0E94                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:0E95                 </span><span style="color:navy">jmp     </span>init_contc_specialcase
<span style="color:maroon">RESGROUP:0E98 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0E98
</span><span style="color:maroon">RESGROUP:0E98 </span>CmdIret<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0E98                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:0E99                 </span><span style="color:navy">iret
</span><span style="color:maroon">RESGROUP:0E9A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0E9A
</span><span style="color:maroon">RESGROUP:0E9A </span>NotAtInit<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0E9A                 </span><span style="color:navy">test    ds:</span>InitFlag<span style="color:navy">, </span><span style="color:green">4</span>
<span style="color:maroon">RESGROUP:0E9F                 </span><span style="color:navy">jz      short </span>NotInit
<span style="color:maroon">RESGROUP:0EA1                 </span><span style="color:navy">cmp     ah</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:maroon">RESGROUP:0EA4                 </span><span style="color:navy">jb      short </span>CmdIret
<span style="color:maroon">RESGROUP:0EA6                 </span><span style="color:navy">cmp     ah</span><span style="color:navy">, </span><span style="color:green">12</span>
<span style="color:maroon">RESGROUP:0EA9                 </span><span style="color:navy">ja      short </span>CmdIret
<span style="color:maroon">RESGROUP:0EAB                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:0EAC                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">6</span>
<span style="color:maroon">RESGROUP:0EAF                 </span><span style="color:navy">stc
</span><span style="color:maroon">RESGROUP:0EB0                 </span><span style="color:navy">retf    </span><span style="color:green">2</span>
<span style="color:maroon">RESGROUP:0EB3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0EB3
</span><span style="color:maroon">RESGROUP:0EB3 </span>NotInit<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0EB3                 </span><span style="color:navy">or      ds:</span>InitFlag<span style="color:navy">, </span><span style="color:green">4</span>
<span style="color:maroon">RESGROUP:0EB8                 </span><span style="color:navy">sti
</span><span style="color:maroon">RESGROUP:0EB9                 </span><span style="color:navy">pop     ax</span>
<span style="color:maroon">RESGROUP:0EBA                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>SingleCom
<span style="color:maroon">RESGROUP:0EBD                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:0EBF                 </span><span style="color:navy">jnz     short </span>NoReset
<span style="color:maroon">RESGROUP:0EC1                 </span><span style="color:navy">push    ax</span>
<span style="color:maroon">RESGROUP:0EC2                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">0Dh</span>
<span style="color:maroon">RESGROUP:0EC4                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - DISK RESET
<span style="color:maroon">RESGROUP:0EC6                 </span><span style="color:navy">pop     ax</span>
<span style="color:maroon">RESGROUP:0EC7
</span><span style="color:maroon">RESGROUP:0EC7 </span>NoReset<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0EC7                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:maroon">RESGROUP:0ECD                 </span><span style="color:navy">jz      short </span>ContCTerm
<span style="color:maroon">RESGROUP:0ECF                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:0ED1                 </span><span style="color:navy">jnz     short </span>ContCTerm
<span style="color:maroon">RESGROUP:0ED3                 </span><span style="color:navy">call    </span>SavHand
<span style="color:maroon">RESGROUP:0ED6                 </span><span style="color:navy">call    </span>AskEnd
<span style="color:maroon">RESGROUP:0ED9                 </span><span style="color:navy">jnb     short </span>ContBatch
<span style="color:maroon">RESGROUP:0EDB                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, ds:</span>EchoFlag
<span style="color:maroon">RESGROUP:0EDF                 </span><span style="color:navy">push    bx</span>
<span style="color:maroon">RESGROUP:0EE0
</span><span style="color:maroon">RESGROUP:0EE0 </span>ClearBatch<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0EE0                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>Batch
<span style="color:maroon">RESGROUP:0EE4                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">20h</span>         ; BATCHSEGMENT.BatFile
<span style="color:maroon">RESGROUP:0EE7                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:</span><span style="color:green">5</span>        ; [es:BATCHSEGMENT.BatForPtr]
<span style="color:maroon">RESGROUP:0EEC                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:0EEF                 </span><span style="color:navy">jz      short </span>No_Bat_For
<span style="color:maroon">RESGROUP:0EF1                 </span><span style="color:navy">push    es</span>
<span style="color:maroon">RESGROUP:0EF2                 </span><span style="color:navy">mov     es</span><span style="color:navy">, bx</span>
<span style="color:maroon">RESGROUP:0EF4                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>         ; DEALLOC
<span style="color:maroon">RESGROUP:0EF6                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:maroon">RESGROUP:0EF6                                         </span>; ES = segment address of area to be freed
<span style="color:maroon">RESGROUP:0EF8                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">RESGROUP:0EF9
</span><span style="color:maroon">RESGROUP:0EF9 </span>No_Bat_For<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0EF9                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:</span><span style="color:green">1</span>        ; [es:BATCHSEGMENT.BatEchoFlag]
<span style="color:maroon">RESGROUP:0EFE                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; [es:BATCHSEGMENT.BatLast]
<span style="color:maroon">RESGROUP:0F03                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:maroon">RESGROUP:0F05                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:maroon">RESGROUP:0F05                                         </span>; ES = segment address of area to be freed
<span style="color:maroon">RESGROUP:0F07                 </span><span style="color:navy">mov     ds:</span>Batch<span style="color:navy">, bx</span>
<span style="color:maroon">RESGROUP:0F0B                 </span><span style="color:navy">dec     ds:</span>Nest
<span style="color:maroon">RESGROUP:0F0F                 </span><span style="color:navy">jnz     short </span>ClearBatch
<span style="color:maroon">RESGROUP:0F11                 </span><span style="color:navy">pop     bx</span>
<span style="color:maroon">RESGROUP:0F12                 </span><span style="color:navy">mov     ds:</span>EchoFlag<span style="color:navy">, cl</span>
<span style="color:maroon">RESGROUP:0F16                 </span><span style="color:navy">mov     ds:</span>PipeFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:0F1B
</span><span style="color:maroon">RESGROUP:0F1B </span>ContBatch<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0F1B                 </span><span style="color:navy">call    </span>crlf
<span style="color:maroon">RESGROUP:0F1E                 </span><span style="color:navy">call    </span>RestHand
<span style="color:maroon">RESGROUP:0F21
</span><span style="color:maroon">RESGROUP:0F21 </span>ContCTerm<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0F21                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:0F23                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:0F25                 </span><span style="color:navy">mov     ds:</span>IfFlag<span style="color:navy">, al</span>
<span style="color:maroon">RESGROUP:0F28                 </span><span style="color:navy">mov     ds:</span>ForFlag<span style="color:navy">, al</span>
<span style="color:maroon">RESGROUP:0F2B                 </span><span style="color:navy">call    </span>ResPipeOff
<span style="color:maroon">RESGROUP:0F2E                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:0F32                 </span><span style="color:navy">jz      short </span>NoSetSing
<span style="color:maroon">RESGROUP:0F34                 </span><span style="color:navy">mov     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:maroon">RESGROUP:0F3A
</span><span style="color:maroon">RESGROUP:0F3A </span>NoSetSing<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0F3A                 </span><span style="color:navy">and     ds:</span>InitFlag<span style="color:navy">, </span><span style="color:green">0FBh</span> ; ~INITCTRLC
<span style="color:maroon">RESGROUP:0F3F                 </span><span style="color:navy">cmp     ds:</span>ExtCom<span style="color:navy">, al</span>
<span style="color:maroon">RESGROUP:0F43                 </span><span style="color:navy">jnz     short </span>DoDAb
<span style="color:maroon">RESGROUP:0F45                 </span><span style="color:navy">jmp     </span>LodCom1
<span style="color:maroon">RESGROUP:0F48 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0F48
</span><span style="color:maroon">RESGROUP:0F48 </span>DoDAb<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0F48                 </span><span style="color:navy">stc
</span><span style="color:maroon">RESGROUP:0F49                 </span><span style="color:navy">retf
</span><span style="color:black">RESGROUP:0F4A
</span><span style="color:black">RESGROUP:0F4A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:0F4A
</span><span style="color:black">RESGROUP:0F4A
</span><span style="color:black">RESGROUP:0F4A </span>ResPipeOff      proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:0F4A                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:0F4B                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:0F4D                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, ds:</span>PipeFlag
<span style="color:black">RESGROUP:0F51                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:0F53                 </span><span style="color:navy">jz      short </span><span style="color:gray">NoPipePop</span>
<span style="color:black">RESGROUP:0F55                 </span><span style="color:navy">shr     ds:</span>EchoFlag<span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:0F59
</span><span style="color:black">RESGROUP:0F59 </span><span style="color:gray">NoPipePop</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0F59                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:0F5A                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:0F5A </span>ResPipeOff      endp
<span style="color:black">RESGROUP:0F5A
</span><span style="color:black">RESGROUP:0F5B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:0F5B </span><span style="color:gray">; START OF FUNCTION CHUNK FOR alloc_env
</span><span style="color:black">RESGROUP:0F5B
</span><span style="color:black">RESGROUP:0F5B </span>BadMemErr<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0F5B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BMEMMES
<span style="color:black">RESGROUP:0F5E
</span><span style="color:black">RESGROUP:0F5E </span>FatalC<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0F5E                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:0F61                 </span><span style="color:navy">cmp     ds:</span>PermCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:0F66                 </span><span style="color:navy">jz      short </span><span style="color:gray">FatalRet</span>
<span style="color:black">RESGROUP:0F68                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:0F6D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FatalRet</span>
<span style="color:black">RESGROUP:0F6F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>HALTMES
<span style="color:black">RESGROUP:0F72                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:0F75                 </span><span style="color:navy">sti
</span><span style="color:black">RESGROUP:0F76
</span><span style="color:black">RESGROUP:0F76 </span><span style="color:gray">Stall</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0F76                 </span><span style="color:navy">jmp     short </span><span style="color:gray">Stall</span>
<span style="color:black">RESGROUP:0F78 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:0F78
</span><span style="color:black">RESGROUP:0F78 </span><span style="color:gray">FatalRet</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0F78                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>FRETMES
<span style="color:black">RESGROUP:0F7B                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:0F7E
</span><span style="color:black">RESGROUP:0F7E </span>FatalRet2<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0F7E                 </span><span style="color:navy">cmp     ds:</span>PermCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:0F83                 </span><span style="color:navy">jnz     short </span><span style="color:gray">Ret_2e</span>
<span style="color:black">RESGROUP:0F85                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Parent
<span style="color:black">RESGROUP:0F88                 </span><span style="color:navy">mov     ds:</span><span style="color:green">16h</span><span style="color:navy">, ax</span>      ; [PDB.PARENT_PID]
<span style="color:black">RESGROUP:0F8B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>OldTerm
<span style="color:black">RESGROUP:0F8E                 </span><span style="color:navy">mov     ds:</span><span style="color:green">0Ah</span><span style="color:navy">, ax</span>      ; [PDB.EXIT]
<span style="color:black">RESGROUP:0F91                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>OldTerm<span style="color:navy">+</span><span style="color:green">2</span>
<span style="color:black">RESGROUP:0F94                 </span><span style="color:navy">mov     ds:</span><span style="color:green">0Ch</span><span style="color:navy">, ax</span>      ; [PDB.EXIT+2]
<span style="color:black">RESGROUP:0F97                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4C00h</span>
<span style="color:black">RESGROUP:0F9A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - QUIT WITH EXIT CODE (EXIT)
<span style="color:black">RESGROUP:0F9A                                         </span>; AL = exit code
<span style="color:black">RESGROUP:0F9C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:0F9C
</span><span style="color:black">RESGROUP:0F9C </span><span style="color:gray">Ret_2e</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0F9C                 </span><span style="color:navy">mov     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:0FA2                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>Res_Tpa
<span style="color:black">RESGROUP:0FA6                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:black">RESGROUP:0FA8                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">RESGROUP:0FA8                                         </span>; ES = segment address of area to be freed
<span style="color:black">RESGROUP:0FAA                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>Save_Pdb
<span style="color:black">RESGROUP:0FAE                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">50h</span>
<span style="color:black">RESGROUP:0FB0                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ internal - SET PSP SEGMENT
<span style="color:black">RESGROUP:0FB0                                         </span>; BX = segment address of new PSP
<span style="color:black">RESGROUP:0FB2                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>RetCode
<span style="color:black">RESGROUP:0FB5                 </span><span style="color:navy">cmp     ds:</span>ExtCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:0FBA                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GotECode</span>
<span style="color:black">RESGROUP:0FBC                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:0FBE
</span><span style="color:black">RESGROUP:0FBE </span><span style="color:gray">GotECode</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:0FBE                 </span><span style="color:navy">mov     ds:</span>ExtCom<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:0FC3                 </span><span style="color:navy">jmp     ds:</span>Int_2e_Ret
<span style="color:black">RESGROUP:0FC3 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR alloc_env
</span><span style="color:maroon">RESGROUP:0FC7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:0FC7
</span><span style="color:maroon">RESGROUP:0FC7 </span>Int_2e<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0FC7                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:0FC8                 </span><span style="color:navy">pop     ax</span>
<span style="color:maroon">RESGROUP:0FC9                 </span><span style="color:navy">pop     word ptr ds:</span>Int_2e_Ret
<span style="color:maroon">RESGROUP:0FCD                 </span><span style="color:navy">pop     word ptr ds:</span>Int_2e_Ret<span style="color:navy">+</span><span style="color:green">2</span>
<span style="color:maroon">RESGROUP:0FD1                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:maroon">RESGROUP:0FD4                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:0FD5                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">RESGROUP:0FD6                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:0FD8                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:maroon">RESGROUP:0FDB                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">64</span>
<span style="color:maroon">RESGROUP:0FDE                 </span><span style="color:navy">rep movsw
</span><span style="color:maroon">RESGROUP:0FE0                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">51h</span>
<span style="color:maroon">RESGROUP:0FE2                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ internal - GET PSP SEGMENT
<span style="color:maroon">RESGROUP:0FE2                                         </span>; Return: BX = current PSP segment
<span style="color:maroon">RESGROUP:0FE4                 </span><span style="color:navy">mov     es:</span>Save_Pdb<span style="color:navy">, bx</span>
<span style="color:maroon">RESGROUP:0FE9                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">50h</span>
<span style="color:maroon">RESGROUP:0FEB                 </span><span style="color:navy">push    es</span>
<span style="color:maroon">RESGROUP:0FEC                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:0FED                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds</span>
<span style="color:maroon">RESGROUP:0FEF                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ internal - SET PSP SEGMENT
<span style="color:maroon">RESGROUP:0FEF                                         </span>; BX = segment address of new PSP
<span style="color:maroon">RESGROUP:0FF1                 </span><span style="color:navy">mov     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:#ff8000">81h</span> <span style="color:gray">; 'ü'
</span><span style="color:maroon">RESGROUP:0FF7                 </span><span style="color:navy">mov     ds:</span>ExtCom<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:maroon">RESGROUP:0FFC                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:0FFD                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:0FFE
</span><span style="color:maroon">RESGROUP:0FFE </span>LodCom<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:0FFE                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:0FFF                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:maroon">RESGROUP:1002                 </span><span style="color:navy">cmp     ds:</span>ExtCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:1007                 </span><span style="color:navy">jnz     short </span>LodCom0
<span style="color:maroon">RESGROUP:1009                 </span><span style="color:navy">jmp     </span>LodCom1
<span style="color:maroon">RESGROUP:100C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:100C
</span><span style="color:maroon">RESGROUP:100C </span>LodCom0<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:100C                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:maroon">RESGROUP:100F                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>
<span style="color:maroon">RESGROUP:1011                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:maroon">RESGROUP:1011                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:maroon">RESGROUP:1013                 </span><span style="color:navy">call    </span>SetSize
<span style="color:maroon">RESGROUP:1016                 </span><span style="color:navy">add     ax</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:maroon">RESGROUP:1019                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:101B                 </span><span style="color:navy">jnb     short </span>MemOk
<span style="color:maroon">RESGROUP:101D
</span><span style="color:maroon">RESGROUP:101D </span>BadMemErrJ<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:101D                 </span><span style="color:navy">jmp     </span>BadMemErr
<span style="color:black">RESGROUP:1020
</span><span style="color:black">RESGROUP:1020 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1020
</span><span style="color:black">RESGROUP:1020
</span><span style="color:black">RESGROUP:1020 </span>SetSize         proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1020                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0AFA4h</span>      ; TRANSPACEEND+15
<span style="color:black">RESGROUP:1023                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:1025                 </span><span style="color:navy">shr     ax</span><span style="color:navy">, cl</span>
<span style="color:black">RESGROUP:1027                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1027 </span>SetSize         endp
<span style="color:black">RESGROUP:1027
</span><span style="color:maroon">RESGROUP:1028 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1028
</span><span style="color:maroon">RESGROUP:1028 </span>MemOk<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1028                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>
<span style="color:maroon">RESGROUP:102A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:maroon">RESGROUP:102A                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:maroon">RESGROUP:102C                 </span><span style="color:navy">jb      short </span>BadMemErrJ
<span style="color:maroon">RESGROUP:102E                 </span><span style="color:navy">mov     ds:</span>ExtCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:1033                 </span><span style="color:navy">mov     ds:</span>Res_Tpa<span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:1036                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">0F000h</span>
<span style="color:maroon">RESGROUP:1039                 </span><span style="color:navy">add     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1000h</span>
<span style="color:maroon">RESGROUP:103C                 </span><span style="color:navy">jb      short </span>Bad_Tpa
<span style="color:maroon">RESGROUP:103E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>Res_Tpa
<span style="color:maroon">RESGROUP:1042                 </span><span style="color:navy">add     dx</span><span style="color:navy">, bx</span>
<span style="color:maroon">RESGROUP:1044                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:1046                 </span><span style="color:navy">jbe     short </span>Bad_Tpa
<span style="color:maroon">RESGROUP:1048                 </span><span style="color:navy">sub     dx</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:104A                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, </span><span style="color:#ff8000">1000h</span>
<span style="color:maroon">RESGROUP:104E                 </span><span style="color:navy">jnb     short </span>LTpaSet
<span style="color:maroon">RESGROUP:1050
</span><span style="color:maroon">RESGROUP:1050 </span>Bad_Tpa<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1050                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Res_Tpa
<span style="color:maroon">RESGROUP:1053
</span><span style="color:maroon">RESGROUP:1053 </span>LTpaSet<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1053                 </span><span style="color:navy">mov     ds:</span>LTpa<span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:1056                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Res_Tpa
<span style="color:maroon">RESGROUP:1059                 </span><span style="color:navy">add     bx</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:105B                 </span><span style="color:navy">mov     ds:</span>MemSiz<span style="color:navy">, bx</span>
<span style="color:maroon">RESGROUP:105F                 </span><span style="color:navy">call    </span>SetSize
<span style="color:maroon">RESGROUP:1062                 </span><span style="color:navy">sub     bx</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:1064                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, ds:</span>TrnSeg
<span style="color:maroon">RESGROUP:1068                 </span><span style="color:navy">jz      short </span>LodCom1
<span style="color:maroon">RESGROUP:106A                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">0AF95h</span>      ; TRANSPACEEND (Transient portion size)
<span style="color:maroon">RESGROUP:106D                 </span><span style="color:navy">ja      short </span>mov_down
<span style="color:maroon">RESGROUP:106F                 </span><span style="color:navy">xor     si</span><span style="color:navy">, si</span>
<span style="color:maroon">RESGROUP:1071                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:maroon">RESGROUP:1073                 </span><span style="color:navy">cld
</span><span style="color:maroon">RESGROUP:1074                 </span><span style="color:navy">jmp     short </span>copy_trans
<span style="color:maroon">RESGROUP:1076 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1076
</span><span style="color:maroon">RESGROUP:1076 </span>mov_down<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1076                 </span><span style="color:navy">mov     si</span><span style="color:navy">, cx</span>
<span style="color:maroon">RESGROUP:1078                 </span><span style="color:navy">dec     si</span>
<span style="color:maroon">RESGROUP:1079                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:maroon">RESGROUP:107B                 </span><span style="color:navy">std
</span><span style="color:maroon">RESGROUP:107C
</span><span style="color:maroon">RESGROUP:107C </span>copy_trans<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:107C                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:107D                 </span><span style="color:navy">push    es</span>
<span style="color:maroon">RESGROUP:107E                 </span><span style="color:navy">mov     es</span><span style="color:navy">, bx</span>
<span style="color:maroon">RESGROUP:1080                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>TrnSeg
<span style="color:maroon">RESGROUP:1084                 </span><span style="color:navy">rep movsb
</span><span style="color:maroon">RESGROUP:1086                 </span><span style="color:navy">cld
</span><span style="color:maroon">RESGROUP:1087                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">RESGROUP:1088                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:1089                 </span><span style="color:navy">mov     ds:</span>TrnSeg<span style="color:navy">, bx</span>
<span style="color:maroon">RESGROUP:108D
</span><span style="color:maroon">RESGROUP:108D </span>LodCom1<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:108D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds</span>
<span style="color:maroon">RESGROUP:108F                 </span><span style="color:navy">mov     ss</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:1091                 </span>assume ss:nothing
<span style="color:maroon">RESGROUP:1091                 </span><span style="color:navy">mov     sp</span><span style="color:navy">, offset </span>RStack ; mov sp,offset DATARES:RStack
<span style="color:maroon">RESGROUP:1094                 </span><span style="color:navy">call    </span>HeadFix
<span style="color:maroon">RESGROUP:1097                 </span><span style="color:navy">xor     bp</span><span style="color:navy">, bp</span>
<span style="color:maroon">RESGROUP:1099                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:maroon">RESGROUP:109C                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, ds:</span>VerVal
<span style="color:maroon">RESGROUP:10A0                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:maroon">RESGROUP:10A3                 </span><span style="color:navy">jz      short </span>NoSetVer
<span style="color:maroon">RESGROUP:10A5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2Eh</span>
<span style="color:maroon">RESGROUP:10A7                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET VERIFY FLAG
<span style="color:maroon">RESGROUP:10A7                                         </span>; DL = 00h, AL = 01h VERIFY on / 00h VERIFY off
<span style="color:maroon">RESGROUP:10A9
</span><span style="color:maroon">RESGROUP:10A9 </span>NoSetVer<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:10A9                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:maroon">RESGROUP:10AE                 </span><span style="color:navy">jnz     short </span>NoSng
<span style="color:maroon">RESGROUP:10B0                 </span><span style="color:navy">jmp     </span>FatalRet2
<span style="color:maroon">RESGROUP:10B3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:10B3
</span><span style="color:maroon">RESGROUP:10B3 </span>NoSng<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:10B3                 </span><span style="color:navy">call    </span>ChkSum
<span style="color:maroon">RESGROUP:10B6                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, ds:</span>Sum
<span style="color:maroon">RESGROUP:10BA                 </span><span style="color:navy">jz      short </span>HavCom
<span style="color:maroon">RESGROUP:10BC
</span><span style="color:maroon">RESGROUP:10BC </span>Bogus_Com<span style="color:navy">:
</span><span style="color:maroon">RESGROUP:10BC                 </span><span style="color:navy">mov     ds:</span>Loading<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:maroon">RESGROUP:10C1                 </span><span style="color:navy">call    </span>LoadCom
<span style="color:maroon">RESGROUP:10C4
</span><span style="color:maroon">RESGROUP:10C4 </span>ChkSame<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:10C4                 </span><span style="color:navy">call    </span>ChkSum
<span style="color:maroon">RESGROUP:10C7                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, ds:</span>Sum
<span style="color:maroon">RESGROUP:10CB                 </span><span style="color:navy">jz      short </span>HavCom
<span style="color:maroon">RESGROUP:10CD
</span><span style="color:maroon">RESGROUP:10CD </span>Also_Bogus<span style="color:navy">:
</span><span style="color:maroon">RESGROUP:10CD                 </span><span style="color:navy">call    </span>WrongCom
<span style="color:maroon">RESGROUP:10D0                 </span><span style="color:navy">jmp     short </span>ChkSame
<span style="color:maroon">RESGROUP:10D2 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:10D2
</span><span style="color:maroon">RESGROUP:10D2 </span>HavCom<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:10D2                 </span><span style="color:navy">mov     ds:</span>Loading<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:10D7                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>TranVars ; offset DATARES:TranVars
<span style="color:maroon">RESGROUP:10DA                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>HEADCALL ; offset TRANGROUP:HeadCall
<span style="color:maroon">RESGROUP:10DD                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>TrnSeg
<span style="color:maroon">RESGROUP:10E1                 </span><span style="color:navy">cld
</span><span style="color:maroon">RESGROUP:10E2                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, offset </span>OldErrNo ; ; offset TranVarEnd
<span style="color:maroon">RESGROUP:10E5                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, si</span>
<span style="color:maroon">RESGROUP:10E7                 </span><span style="color:navy">rep movsb
</span><span style="color:maroon">RESGROUP:10E9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>MemSiz
<span style="color:maroon">RESGROUP:10EC                 </span><span style="color:navy">mov     ds:</span><span style="color:green">2</span><span style="color:navy">, ax</span>        ; [PDB.BLOCK_LEN]
<span style="color:maroon">RESGROUP:10EF                 </span><span style="color:navy">jmp     dword ptr ds:</span>Trans ; jmp far [Trans]
<span style="color:maroon">RESGROUP:10F3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:10F3
</span><span style="color:maroon">RESGROUP:10F3 </span>TRemCheck<span style="color:navy">:
</span><span style="color:maroon">RESGROUP:10F3                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:10F4                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:maroon">RESGROUP:10F7                 </span><span style="color:navy">call    </span>RemCheck
<span style="color:maroon">RESGROUP:10FA                 </span><span style="color:navy">retf
</span><span style="color:black">RESGROUP:10FB
</span><span style="color:black">RESGROUP:10FB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:10FB
</span><span style="color:black">RESGROUP:10FB
</span><span style="color:black">RESGROUP:10FB </span>RemCheck        proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:10FB                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:10FC                 </span><span style="color:navy">push    bx</span>
<span style="color:black">RESGROUP:10FD                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:10FF                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4408h</span>
<span style="color:black">RESGROUP:1102                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL -
<span style="color:black">RESGROUP:1104                 </span><span style="color:navy">jnb     short </span><span style="color:gray">rcCont</span>
<span style="color:black">RESGROUP:1106                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1108                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ResRegs</span>
<span style="color:black">RESGROUP:110A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:110A
</span><span style="color:black">RESGROUP:110A </span><span style="color:gray">rcCont</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:110A                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:110D                 </span><span style="color:navy">not     ax</span>
<span style="color:black">RESGROUP:110F
</span><span style="color:black">RESGROUP:110F </span><span style="color:gray">ResRegs</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:110F                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:1110                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:1111                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1111 </span>RemCheck        endp
<span style="color:black">RESGROUP:1111
</span><span style="color:maroon">RESGROUP:1112 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1112
</span><span style="color:maroon">RESGROUP:1112 </span>THeadFix<span style="color:navy">:
</span><span style="color:maroon">RESGROUP:1112                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:1113                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:maroon">RESGROUP:1116                 </span><span style="color:navy">call    </span>HeadFix
<span style="color:maroon">RESGROUP:1119                 </span><span style="color:navy">retf
</span><span style="color:black">RESGROUP:111A
</span><span style="color:black">RESGROUP:111A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:111A
</span><span style="color:black">RESGROUP:111A
</span><span style="color:black">RESGROUP:111A </span>HeadFix         proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:111A                 </span><span style="color:navy">call    </span>SetVect
<span style="color:black">RESGROUP:111D                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:111F                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>Io_Save
<span style="color:black">RESGROUP:1123                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span><span style="color:green">18h</span>      ; [PDB.JFN_TABLE]
<span style="color:black">RESGROUP:1127                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, dl</span>
<span style="color:black">RESGROUP:1129                 </span><span style="color:navy">jz      short </span><span style="color:gray">Chk1</span>
<span style="color:black">RESGROUP:112B                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">RESGROUP:112D                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">RESGROUP:112D                                         </span>; BX = file handle
<span style="color:black">RESGROUP:112F                 </span><span style="color:navy">mov     ds:</span><span style="color:green">18h</span><span style="color:navy">, cl</span>
<span style="color:black">RESGROUP:1133
</span><span style="color:black">RESGROUP:1133 </span><span style="color:gray">Chk1</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1133                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">RESGROUP:1134                 </span><span style="color:navy">cmp     ch</span><span style="color:navy">, dh</span>
<span style="color:black">RESGROUP:1136                 </span><span style="color:navy">jz      short </span><span style="color:gray">ChkOtherHand</span>
<span style="color:black">RESGROUP:1138                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">RESGROUP:113A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">RESGROUP:113A                                         </span>; BX = file handle
<span style="color:black">RESGROUP:113C                 </span><span style="color:navy">mov     ds:</span><span style="color:green">19h</span><span style="color:navy">, ch</span>      ; [PDB.JFN_TABLE+1]
<span style="color:black">RESGROUP:1140
</span><span style="color:black">RESGROUP:1140 </span><span style="color:gray">ChkOtherHand</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1140                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:1143                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">15</span>          ; FILPERPROC-5
<span style="color:black">RESGROUP:1146
</span><span style="color:black">RESGROUP:1146 </span><span style="color:gray">CloseLoop</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1146                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">RESGROUP:1148                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">RESGROUP:1148                                         </span>; BX = file handle
<span style="color:black">RESGROUP:114A                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">RESGROUP:114B                 </span><span style="color:navy">loop    </span><span style="color:gray">CloseLoop</span>
<span style="color:black">RESGROUP:114D                 </span><span style="color:navy">cmp     ds:</span>Append_Flag<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; -1
<span style="color:black">RESGROUP:1152                 </span><span style="color:navy">jnz     short </span><span style="color:gray">Append_Fix_End</span>
<span style="color:black">RESGROUP:1154                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0B707h</span>
<span style="color:black">RESGROUP:1157                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>Append_State
<span style="color:black">RESGROUP:115B                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - DOS 4.0 APPEND - SET APPEND FUNCTION STATE
<span style="color:black">RESGROUP:115B                                         </span>; BX = APPEND state bits
<span style="color:black">RESGROUP:115D                 </span><span style="color:navy">mov     ds:</span>Append_Flag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1162
</span><span style="color:black">RESGROUP:1162 </span><span style="color:gray">Append_Fix_End</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1162                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1162 </span>HeadFix         endp
<span style="color:black">RESGROUP:1162
</span><span style="color:black">RESGROUP:1163
</span><span style="color:black">RESGROUP:1163 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1163
</span><span style="color:black">RESGROUP:1163
</span><span style="color:black">RESGROUP:1163 </span>SavHand         proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1163                 </span><span style="color:navy">push    bx</span>
<span style="color:black">RESGROUP:1164                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:1165                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1166                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1167                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">51h</span>
<span style="color:black">RESGROUP:1169                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ internal - GET PSP SEGMENT
<span style="color:black">RESGROUP:1169                                         </span>; Return: BX = current PSP segment
<span style="color:black">RESGROUP:116B                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:116D                 </span><span style="color:navy">lds     bx</span><span style="color:navy">, ds:</span><span style="color:green">34h</span>      ; [PDB.JFN_Pointer]
<span style="color:black">RESGROUP:1171                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, [bx]</span>
<span style="color:black">RESGROUP:1173                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:1174                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1175                 </span><span style="color:navy">mov     es:</span>Handle01<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1179                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:</span><span style="color:green">1Ah</span>      ; [es:PDB.JFN_TABLE+2]
<span style="color:black">RESGROUP:117D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:117F                 </span><span style="color:navy">mov     [bx]</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1181                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1182                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:1183                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:1184                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:1185                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1185 </span>SavHand         endp
<span style="color:black">RESGROUP:1185
</span><span style="color:maroon">RESGROUP:1186 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1186
</span><span style="color:maroon">RESGROUP:1186 </span>GetComDsk2<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1186                 </span><span style="color:navy">call    </span>GetComDsk
<span style="color:maroon">RESGROUP:1189                 </span><span style="color:navy">jmp     </span>LodCom1
<span style="color:black">RESGROUP:118C
</span><span style="color:black">RESGROUP:118C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:118C
</span><span style="color:black">RESGROUP:118C
</span><span style="color:black">RESGROUP:118C </span>RestHand        proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:118C                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:118D                 </span><span style="color:navy">push    bx</span>
<span style="color:black">RESGROUP:118E                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:118F                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">51h</span>
<span style="color:black">RESGROUP:1191                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ internal - GET PSP SEGMENT
<span style="color:black">RESGROUP:1191                                         </span>; Return: BX = current PSP segment
<span style="color:black">RESGROUP:1193                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Handle01
<span style="color:black">RESGROUP:1196                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:1198                 </span><span style="color:navy">lds     bx</span><span style="color:navy">, ds:</span><span style="color:green">34h</span>      ; [PDB.JFN_Pointer]
<span style="color:black">RESGROUP:119C                 </span><span style="color:navy">mov     [bx]</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:119E                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:119F                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:11A0                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:11A1                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:11A1 </span>RestHand        endp
<span style="color:black">RESGROUP:11A1
</span><span style="color:black">RESGROUP:11A2 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:11A2 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR GetComDsk
</span><span style="color:black">RESGROUP:11A2
</span><span style="color:black">RESGROUP:11A2 </span><span style="color:gray">Hopeless</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:11A2                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>COMBAD
<span style="color:black">RESGROUP:11A5                 </span><span style="color:navy">jmp     </span>FatalC
<span style="color:black">RESGROUP:11A5 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR GetComDsk
</span><span style="color:black">RESGROUP:11A8
</span><span style="color:black">RESGROUP:11A8 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:11A8
</span><span style="color:black">RESGROUP:11A8
</span><span style="color:black">RESGROUP:11A8 </span>GetComDsk       proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:11A8
</span><span style="color:black">RESGROUP:11A8 </span><span style="color:gray">; FUNCTION CHUNK AT RESGROUP:11A2 SIZE 00000006 BYTES
</span><span style="color:black">RESGROUP:11A8
</span><span style="color:black">RESGROUP:11A8                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>ComDrv
<span style="color:black">RESGROUP:11AB                 </span><span style="color:navy">call    </span>RemCheck
<span style="color:black">RESGROUP:11AE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">Hopeless</span>
<span style="color:black">RESGROUP:11B0                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, offset </span>COMBAD
<span style="color:black">RESGROUP:11B4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GetComDsk4</span>
<span style="color:black">RESGROUP:11B6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>COMBAD
<span style="color:black">RESGROUP:11B9                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:11BC
</span><span style="color:black">RESGROUP:11BC </span><span style="color:gray">GetComDsk4</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:11BC                 </span><span style="color:navy">cmp     ds:</span>PutBackDrv<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:11C1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">Users_Drive</span>
<span style="color:black">RESGROUP:11C3                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">19h</span>
<span style="color:black">RESGROUP:11C5                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET DEFAULT DISK NUMBER
<span style="color:black">RESGROUP:11C7                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">'A'</span>
<span style="color:black">RESGROUP:11C9                 </span><span style="color:navy">mov     ds:</span>PutBackDrv<span style="color:navy">, al</span>
<span style="color:black">RESGROUP:11CC
</span><span style="color:black">RESGROUP:11CC </span><span style="color:gray">Users_Drive</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:11CC                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>PUTBACKMSG
<span style="color:black">RESGROUP:11CF                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>PutBackSubst
<span style="color:black">RESGROUP:11D2                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:11D5                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>PROMPT
<span style="color:black">RESGROUP:11D8                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:11DB                 </span><span style="color:navy">call    </span>GetRawFlushedByte
<span style="color:black">RESGROUP:11DE                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:11DE </span>GetComDsk       endp
<span style="color:black">RESGROUP:11DE
</span><span style="color:black">RESGROUP:11DF
</span><span style="color:black">RESGROUP:11DF </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:11DF
</span><span style="color:black">RESGROUP:11DF
</span><span style="color:black">RESGROUP:11DF </span>GetRawFlushedByte proc near             <span style="color:green">; ...
</span><span style="color:black">RESGROUP:11DF                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0C07h</span>
<span style="color:black">RESGROUP:11E2                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - CLEAR KEYBOARD BUFFER
<span style="color:black">RESGROUP:11E2                                         </span>; AL must be 01h, 06h, 07h, 08h, or 0Ah.
<span style="color:black">RESGROUP:11E4                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0C00h</span>
<span style="color:black">RESGROUP:11E7                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - CLEAR KEYBOARD BUFFER
<span style="color:black">RESGROUP:11E7                                         </span>; AL must be 01h, 06h, 07h, 08h, or 0Ah.
<span style="color:black">RESGROUP:11E9
</span><span style="color:black">RESGROUP:11E9 </span>LoadCom_retn<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:11E9                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:11E9 </span>GetRawFlushedByte endp
<span style="color:black">RESGROUP:11E9
</span><span style="color:black">RESGROUP:11EA
</span><span style="color:black">RESGROUP:11EA </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:11EA
</span><span style="color:black">RESGROUP:11EA
</span><span style="color:black">RESGROUP:11EA </span>LoadCom         proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:11EA                 </span><span style="color:navy">inc     bp</span>
<span style="color:black">RESGROUP:11EB                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>ComSpec
<span style="color:black">RESGROUP:11EE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3D00h</span>
<span style="color:black">RESGROUP:11F1                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - OPEN DISK FILE WITH HANDLE
<span style="color:black">RESGROUP:11F1                                         </span>; DS:DX -&gt; ASCIZ filename
<span style="color:black">RESGROUP:11F1                                         </span>; AL = access mode
<span style="color:black">RESGROUP:11F1                                         </span>; 0 - read
<span style="color:black">RESGROUP:11F3                 </span><span style="color:navy">jnb     short </span><span style="color:gray">ReadCom</span>
<span style="color:black">RESGROUP:11F5                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; ERROR_TOO_MANY_OPEN_FILES
<span style="color:black">RESGROUP:11F8                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TryDoOpen</span>
<span style="color:black">RESGROUP:11FA                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>NOHANDMES
<span style="color:black">RESGROUP:11FD                 </span><span style="color:navy">jmp     </span>FatalC
<span style="color:black">RESGROUP:1200 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1200
</span><span style="color:black">RESGROUP:1200 </span><span style="color:gray">TryDoOpen</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1200                 </span><span style="color:navy">call    </span>GetComDsk
<span style="color:black">RESGROUP:1203                 </span><span style="color:navy">jmp     short </span>LoadCom
<span style="color:black">RESGROUP:1205 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1205
</span><span style="color:black">RESGROUP:1205 </span><span style="color:gray">ReadCom</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1205                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1207                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">26E0h</span>       ; mov dx,offset RESGROUP:TranStart
<span style="color:black">RESGROUP:120A                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:120C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4200h</span>
<span style="color:black">RESGROUP:120F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:black">RESGROUP:120F                                         </span>; AL = method: offset from beginning of file
<span style="color:black">RESGROUP:1211                 </span><span style="color:navy">jb      short </span><span style="color:gray">WrongCom1</span>
<span style="color:black">RESGROUP:1213                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">0AE95h</span>      ; mov cx,offset TRANGROUP:TranSpaceEnd - 100h
<span style="color:black">RESGROUP:1216                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1217                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>TrnSeg
<span style="color:black">RESGROUP:121B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">100h</span>
<span style="color:black">RESGROUP:121E                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Fh</span>
<span style="color:black">RESGROUP:1220                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - READ FROM FILE WITH HANDLE
<span style="color:black">RESGROUP:1220                                         </span>; BX = file handle, CX = number of bytes to read
<span style="color:black">RESGROUP:1220                                         </span>; DS:DX -&gt; buffer
<span style="color:black">RESGROUP:1222                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1223
</span><span style="color:black">RESGROUP:1223 </span><span style="color:gray">WrongCom1</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1223                 </span><span style="color:navy">pushf
</span><span style="color:black">RESGROUP:1224                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:1225                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">RESGROUP:1227                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">RESGROUP:1227                                         </span>; BX = file handle
<span style="color:black">RESGROUP:1229                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:122A                 </span><span style="color:navy">popf
</span><span style="color:black">RESGROUP:122B                 </span><span style="color:navy">jb      short </span>WrongCom
<span style="color:black">RESGROUP:122D                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:122F                 </span><span style="color:navy">jz      short </span>LoadCom_retn
<span style="color:black">RESGROUP:122F </span>LoadCom         endp
<span style="color:black">RESGROUP:122F
</span><span style="color:black">RESGROUP:1231
</span><span style="color:black">RESGROUP:1231 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1231
</span><span style="color:black">RESGROUP:1231
</span><span style="color:black">RESGROUP:1231 </span>WrongCom        proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1231                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>COMBAD
<span style="color:black">RESGROUP:1234                 </span><span style="color:navy">call    </span>GetComDsk
<span style="color:black">RESGROUP:1237                 </span><span style="color:navy">jmp     short </span>LoadCom
<span style="color:black">RESGROUP:1237 </span>WrongCom        endp
<span style="color:black">RESGROUP:1237
</span><span style="color:black">RESGROUP:1239
</span><span style="color:black">RESGROUP:1239 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1239
</span><span style="color:black">RESGROUP:1239
</span><span style="color:black">RESGROUP:1239 </span>ChkSum          proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1239                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:123A                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>TrnSeg
<span style="color:black">RESGROUP:123E                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:#ff8000">100h</span>
<span style="color:black">RESGROUP:1241                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">9D53h</span>       ; offset TRANGROUP:TranDataEnd - 100h
<span style="color:black">RESGROUP:1244                 </span><span style="color:navy">cld
</span><span style="color:black">RESGROUP:1245                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1247                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:1249
</span><span style="color:black">RESGROUP:1249 </span><span style="color:gray">Chk</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1249                 </span><span style="color:navy">lodsw
</span><span style="color:black">RESGROUP:124A                 </span><span style="color:navy">add     dx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:124C                 </span><span style="color:navy">adc     dx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:124F                 </span><span style="color:navy">loop    </span><span style="color:gray">Chk</span>
<span style="color:black">RESGROUP:1251                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1252                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1252 </span>ChkSum          endp
<span style="color:black">RESGROUP:1252
</span><span style="color:black">RESGROUP:1253
</span><span style="color:black">RESGROUP:1253 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1253
</span><span style="color:black">RESGROUP:1253
</span><span style="color:black">RESGROUP:1253 </span>SetVect         proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1253                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>LodCom_Trap
<span style="color:black">RESGROUP:1256                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2522h</span>
<span style="color:black">RESGROUP:1259                 </span><span style="color:navy">mov     ds:</span><span style="color:green">0Ah</span><span style="color:navy">, dx</span>      ; [PDB.EXIT]
<span style="color:black">RESGROUP:125D                 </span><span style="color:navy">mov     word ptr ds:</span><span style="color:green">0Ch</span><span style="color:navy">, ds</span> ; [PDB.EXIT+2]
<span style="color:black">RESGROUP:1261                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET INTERRUPT VECTOR
<span style="color:black">RESGROUP:1261                                         </span>; AL = interrupt number
<span style="color:black">RESGROUP:1261                                         </span>; DS:DX = new vector to be used for specified interrupt
<span style="color:black">RESGROUP:1263                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>Ctrlc_Trap
<span style="color:black">RESGROUP:1266                 </span><span style="color:navy">inc     al</span>
<span style="color:black">RESGROUP:1268                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET INTERRUPT VECTOR
<span style="color:black">RESGROUP:1268                                         </span>; AL = interrupt number
<span style="color:black">RESGROUP:1268                                         </span>; DS:DX = new vector to be used for specified interrupt
<span style="color:black">RESGROUP:126A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>CritErr_Trap
<span style="color:black">RESGROUP:126D                 </span><span style="color:navy">inc     al</span>
<span style="color:black">RESGROUP:126F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET INTERRUPT VECTOR
<span style="color:black">RESGROUP:126F                                         </span>; AL = interrupt number
<span style="color:black">RESGROUP:126F                                         </span>; DS:DX = new vector to be used for specified interrupt
<span style="color:black">RESGROUP:1271                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1271 </span>SetVect         endp
<span style="color:black">RESGROUP:1271
</span><span style="color:maroon">RESGROUP:1272 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1272
</span><span style="color:maroon">RESGROUP:1272 </span>TrnLodCom1<span style="color:navy">:
</span><span style="color:maroon">RESGROUP:1272                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:1273                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:maroon">RESGROUP:1276                 </span><span style="color:navy">jmp     </span>LodCom1
<span style="color:black">RESGROUP:1279
</span><span style="color:black">RESGROUP:1279 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1279
</span><span style="color:black">RESGROUP:1279
</span><span style="color:black">RESGROUP:1279 </span>AskEnd          proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1279                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>ENDBATMES
<span style="color:black">RESGROUP:127C                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:127F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0C01h</span>
<span style="color:black">RESGROUP:1282                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - CLEAR KEYBOARD BUFFER
<span style="color:black">RESGROUP:1282                                         </span>; AL must be 01h, 06h, 07h, 08h, or 0Ah.
<span style="color:black">RESGROUP:1284                 </span><span style="color:navy">call    </span>CharToUpper
<span style="color:black">RESGROUP:1287                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>NO_CHAR
<span style="color:black">RESGROUP:128B                 </span><span style="color:navy">jz      short </span><span style="color:gray">aeRet</span>
<span style="color:black">RESGROUP:128D                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>YES_CHAR
<span style="color:black">RESGROUP:1291                 </span><span style="color:navy">jnz     short </span>AskEnd
<span style="color:black">RESGROUP:1293                 </span><span style="color:navy">stc
</span><span style="color:black">RESGROUP:1294
</span><span style="color:black">RESGROUP:1294 </span><span style="color:gray">aeRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1294                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1294 </span>AskEnd          endp
<span style="color:black">RESGROUP:1294
</span><span style="color:maroon">RESGROUP:1295 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1295
</span><span style="color:maroon">RESGROUP:1295 </span>DskErr<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1295                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:1296                 </span><span style="color:navy">pop     ds:</span>RStack       ; pop word [OldDS]
<span style="color:maroon">RESGROUP:129A                 </span><span style="color:navy">sti
</span><span style="color:maroon">RESGROUP:129B                 </span><span style="color:navy">push    es</span>
<span style="color:maroon">RESGROUP:129C                 </span><span style="color:navy">push    si</span>
<span style="color:maroon">RESGROUP:129D                 </span><span style="color:navy">push    cx</span>
<span style="color:maroon">RESGROUP:129E                 </span><span style="color:navy">push    di</span>
<span style="color:maroon">RESGROUP:129F                 </span><span style="color:navy">push    cx</span>
<span style="color:maroon">RESGROUP:12A0                 </span><span style="color:navy">push    ax</span>
<span style="color:maroon">RESGROUP:12A1                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:12A2                 </span><span style="color:navy">pop     es</span>              ; es = DATARES
<span style="color:maroon">RESGROUP:12A3                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, bp</span>
<span style="color:maroon">RESGROUP:12A5                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, [si+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>      ; [si+SYSDEV.ATT]
<span style="color:maroon">RESGROUP:12A8                 </span><span style="color:navy">mov     es:</span>CDevAt<span style="color:navy">, ah</span>
<span style="color:maroon">RESGROUP:12AD                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>DevName
<span style="color:maroon">RESGROUP:12B0                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:maroon">RESGROUP:12B3                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:green">10</span>          ; add si,SYSDEV.NAME
<span style="color:maroon">RESGROUP:12B6                 </span><span style="color:navy">cld
</span><span style="color:maroon">RESGROUP:12B7                 </span><span style="color:navy">rep movsb
</span><span style="color:maroon">RESGROUP:12B9                 </span><span style="color:navy">pop     ax</span>
<span style="color:maroon">RESGROUP:12BA                 </span><span style="color:navy">pop     cx</span>
<span style="color:maroon">RESGROUP:12BB                 </span><span style="color:navy">pop     di</span>
<span style="color:maroon">RESGROUP:12BC                 </span><span style="color:navy">push    es</span>
<span style="color:maroon">RESGROUP:12BD                 </span><span style="color:navy">pop     ds</span>              ; ds = DATARES
<span style="color:maroon">RESGROUP:12BE                 </span><span style="color:navy">call    </span>SavHand
<span style="color:maroon">RESGROUP:12C1                 </span><span style="color:navy">push    dx</span>
<span style="color:maroon">RESGROUP:12C2                 </span><span style="color:navy">call    </span>crlf
<span style="color:maroon">RESGROUP:12C5                 </span><span style="color:navy">pop     dx</span>
<span style="color:maroon">RESGROUP:12C6                 </span><span style="color:navy">mov     ds:</span>Crit_Err_Info<span style="color:navy">, ah</span>
<span style="color:maroon">RESGROUP:12CA                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">'A'</span>
<span style="color:maroon">RESGROUP:12CC                 </span><span style="color:navy">mov     ds:</span>DrvLet<span style="color:navy">, al</span>
<span style="color:maroon">RESGROUP:12CF                 </span><span style="color:navy">test    ah</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:maroon">RESGROUP:12D2                 </span><span style="color:navy">jz      short </span>NoHardE
<span style="color:maroon">RESGROUP:12D4                 </span><span style="color:navy">test    ds:</span>CDevAt<span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:maroon">RESGROUP:12D9                 </span><span style="color:navy">jnz     short </span>NoHardE
<span style="color:maroon">RESGROUP:12DB                 </span><span style="color:navy">jmp     </span>FatErr
<span style="color:maroon">RESGROUP:12DE </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:12DE
</span><span style="color:maroon">RESGROUP:12DE </span>NoHardE<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:12DE                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>MREAD
<span style="color:maroon">RESGROUP:12E1                 </span><span style="color:navy">test    ah</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:maroon">RESGROUP:12E4                 </span><span style="color:navy">jz      short </span>SavMes
<span style="color:maroon">RESGROUP:12E6                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>MWRITE
<span style="color:maroon">RESGROUP:12E9
</span><span style="color:maroon">RESGROUP:12E9 </span>SavMes<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:12E9                 </span><span style="color:navy">mov     ds:</span>OldErrNo<span style="color:navy">, di</span>
<span style="color:maroon">RESGROUP:12ED                 </span><span style="color:navy">push    es</span>
<span style="color:maroon">RESGROUP:12EE                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:12EF                 </span><span style="color:navy">push    bp</span>
<span style="color:maroon">RESGROUP:12F0                 </span><span style="color:navy">push    si</span>
<span style="color:maroon">RESGROUP:12F1                 </span><span style="color:navy">push    dx</span>
<span style="color:maroon">RESGROUP:12F2                 </span><span style="color:navy">push    cx</span>
<span style="color:maroon">RESGROUP:12F3                 </span><span style="color:navy">push    bx</span>
<span style="color:maroon">RESGROUP:12F4                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">59h</span>
<span style="color:maroon">RESGROUP:12F6                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET EXTENDED ERROR CODE
<span style="color:maroon">RESGROUP:12F6                                         </span>; BX = version code (0000h for DOS 3.x)
<span style="color:maroon">RESGROUP:12F8                 </span><span style="color:navy">pop     bx</span>
<span style="color:maroon">RESGROUP:12F9                 </span><span style="color:navy">pop     cx</span>
<span style="color:maroon">RESGROUP:12FA                 </span><span style="color:navy">pop     dx</span>
<span style="color:maroon">RESGROUP:12FB                 </span><span style="color:navy">pop     si</span>
<span style="color:maroon">RESGROUP:12FC                 </span><span style="color:navy">pop     bp</span>
<span style="color:maroon">RESGROUP:12FD                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:12FE                 </span><span style="color:navy">mov     word ptr ds:</span>NeedVol<span style="color:navy">, di</span>
<span style="color:maroon">RESGROUP:1302                 </span><span style="color:navy">mov     word ptr ds:</span>NeedVol<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span>
<span style="color:maroon">RESGROUP:1306                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">RESGROUP:1307                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:maroon">RESGROUP:1309                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:130B                 </span><span style="color:navy">sub     di</span><span style="color:navy">, </span><span style="color:#ff8000">13h</span>         ; ERROR_WRITE_PROTECT
<span style="color:maroon">RESGROUP:130E                 </span><span style="color:navy">jnb     short </span>HavCod
<span style="color:maroon">RESGROUP:1310                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:#ff8000">0Ch</span>         ; ERROR_GEN_FAILURE - ERROR_WRITE_PROTECT
<span style="color:maroon">RESGROUP:1313
</span><span style="color:maroon">RESGROUP:1313 </span>HavCod<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1313                 </span><span style="color:navy">mov     ds:</span>ErrType<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:1318                 </span><span style="color:navy">cmp     di</span><span style="color:navy">, </span><span style="color:#ff8000">10h</span>         ; ERROR_FCB_UNAVAILABLE - ERROR_WRITE_PROTECT
<span style="color:maroon">RESGROUP:131B                 </span><span style="color:navy">jz      short </span>SetStyle
<span style="color:maroon">RESGROUP:131D                 </span><span style="color:navy">cmp     di</span><span style="color:navy">, </span><span style="color:#ff8000">11h</span>         ; ERROR_SHARING_BUFFER_EXCEEDED - ERROR_WRITE_PROTECT
<span style="color:maroon">RESGROUP:1320                 </span><span style="color:navy">jnz     short </span>GotStyle
<span style="color:maroon">RESGROUP:1322
</span><span style="color:maroon">RESGROUP:1322 </span>SetStyle<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1322                 </span><span style="color:navy">mov     ds:</span>ErrType<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:maroon">RESGROUP:1327
</span><span style="color:maroon">RESGROUP:1327 </span>GotStyle<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1327                 </span><span style="color:navy">mov     ds:</span>ErrCd_24<span style="color:navy">, di</span>
<span style="color:maroon">RESGROUP:132B                 </span><span style="color:navy">cmp     di</span><span style="color:navy">, </span><span style="color:#ff8000">14h</span>         ; ERROR_HANDLE_DISK_FULL - ERROR_WRITE_PROTECT
<span style="color:maroon">RESGROUP:132E                 </span><span style="color:navy">jbe     short </span>NormalError
<span style="color:maroon">RESGROUP:1330                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:1332                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">500h</span>
<span style="color:maroon">RESGROUP:1335                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; Multiplex - DOS 3+ CRITICAL ERROR HANDLER - INSTALLATION CHECK
<span style="color:maroon">RESGROUP:1335                                         </span>; Return: AL = 00h not installed, OK to install
<span style="color:maroon">RESGROUP:1335                                         </span>; 01h not installed, can't install
<span style="color:maroon">RESGROUP:1335                                         </span>; FFh installed
<span style="color:maroon">RESGROUP:1337                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:maroon">RESGROUP:1339                 </span><span style="color:navy">jnz     short </span>NoHandler
<span style="color:maroon">RESGROUP:133B                 </span><span style="color:navy">push    bx</span>
<span style="color:maroon">RESGROUP:133C                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, di</span>
<span style="color:maroon">RESGROUP:133E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">501h</span>
<span style="color:maroon">RESGROUP:1341                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; Multiplex - DOS 3+ CRITICAL ERROR HANDLER -
<span style="color:maroon">RESGROUP:1343                 </span><span style="color:navy">pop     bx</span>
<span style="color:maroon">RESGROUP:1344                 </span><span style="color:navy">jb      short </span>NoHandler
<span style="color:maroon">RESGROUP:1346                 </span><span style="color:navy">mov     ds:</span>ErrType<span style="color:navy">, al</span>
<span style="color:maroon">RESGROUP:1349                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:134A                 </span><span style="color:navy">push    es</span>
<span style="color:maroon">RESGROUP:134B                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:134C                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, di</span>
<span style="color:maroon">RESGROUP:134E                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:maroon">RESGROUP:1351                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:maroon">RESGROUP:1353                 </span><span style="color:navy">cld
</span><span style="color:maroon">RESGROUP:1354                 </span><span style="color:navy">repne scasb
</span><span style="color:maroon">RESGROUP:1356                 </span><span style="color:navy">mov     byte ptr [di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">'$'</span>
<span style="color:maroon">RESGROUP:135A                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">9</span>           ; STD_CON_STRING_OUTPUT
<span style="color:maroon">RESGROUP:135C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - PRINT STRING
<span style="color:maroon">RESGROUP:135C                                         </span>; DS:DX -&gt; string terminated by &quot;$&quot;
<span style="color:maroon">RESGROUP:135E                 </span><span style="color:navy">mov     byte ptr [di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:1362                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:1363                 </span><span style="color:navy">jmp     short </span>CheckErrType
<span style="color:maroon">RESGROUP:1365 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1365
</span><span style="color:maroon">RESGROUP:1365 </span>NoHandler<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1365                 </span><span style="color:navy">mov     ds:</span>ErrType<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:136A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ds:</span>OldErrNo
<span style="color:maroon">RESGROUP:136E                 </span><span style="color:navy">mov     ds:</span>ErrCd_24<span style="color:navy">, di</span>
<span style="color:maroon">RESGROUP:1372
</span><span style="color:maroon">RESGROUP:1372 </span>NormalError<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1372                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">13h</span>         ; ERROR_WRITE_PROTECT
<span style="color:maroon">RESGROUP:1375                 </span><span style="color:navy">xchg    di</span><span style="color:navy">, dx</span>
<span style="color:maroon">RESGROUP:1377                 </span><span style="color:navy">call    </span>RPrintCrit
<span style="color:maroon">RESGROUP:137A
</span><span style="color:maroon">RESGROUP:137A </span>CheckErrType<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:137A                 </span><span style="color:navy">cmp     ds:</span>ErrType<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:137F                 </span><span style="color:navy">jz      short </span>ContOld
<span style="color:maroon">RESGROUP:1381                 </span><span style="color:navy">call    </span>crlf
<span style="color:maroon">RESGROUP:1384                 </span><span style="color:navy">jmp     short </span>Ask
<span style="color:maroon">RESGROUP:1386 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1386
</span><span style="color:maroon">RESGROUP:1386 </span>ContOld<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1386                 </span><span style="color:navy">inc     si</span>
<span style="color:maroon">RESGROUP:1387                 </span><span style="color:navy">test    ds:</span>CDevAt<span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:maroon">RESGROUP:138C                 </span><span style="color:navy">jz      short </span>BlkErr
<span style="color:maroon">RESGROUP:138E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>MDEVICE
<span style="color:maroon">RESGROUP:1391                 </span><span style="color:navy">mov     ds:</span>CharDevErrRw<span style="color:navy">, si</span>
<span style="color:maroon">RESGROUP:1395                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>CharDevErrSubst
<span style="color:maroon">RESGROUP:1398                 </span><span style="color:navy">call    </span>RPrint
<span style="color:maroon">RESGROUP:139B                 </span><span style="color:navy">jmp     short </span>Ask
<span style="color:maroon">RESGROUP:139D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:139D
</span><span style="color:maroon">RESGROUP:139D </span>BlkErr<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:139D                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>MDRIVE
<span style="color:maroon">RESGROUP:13A0                 </span><span style="color:navy">mov     ds:</span>BlkDevErrRw<span style="color:navy">, si</span>
<span style="color:maroon">RESGROUP:13A4                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>BlkDevErrSubst
<span style="color:maroon">RESGROUP:13A7                 </span><span style="color:navy">call    </span>RPrint
<span style="color:maroon">RESGROUP:13AA                 </span><span style="color:navy">cmp     ds:</span>Loading<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:13AF                 </span><span style="color:navy">jz      short </span>Ask
<span style="color:maroon">RESGROUP:13B1                 </span><span style="color:navy">call    </span>RestHand
<span style="color:maroon">RESGROUP:13B4                 </span><span style="color:navy">jmp     </span>GetComDsk2
<span style="color:maroon">RESGROUP:13B7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:13B7
</span><span style="color:maroon">RESGROUP:13B7 </span>Ask<span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:13B7                 </span><span style="color:navy">cmp     ds:</span>ErrCd_24<span style="color:navy">, </span><span style="color:#ff8000">0Fh</span>
<span style="color:maroon">RESGROUP:13BC                 </span><span style="color:navy">jnz     short </span>Not15
<span style="color:maroon">RESGROUP:13BE                 </span><span style="color:navy">push    cx</span>
<span style="color:maroon">RESGROUP:13BF                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:13C0                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">RESGROUP:13C1                 </span><span style="color:navy">lds     si</span><span style="color:navy">, ds:</span>NeedVol
<span style="color:maroon">RESGROUP:13C5                 </span><span style="color:navy">push    di</span>
<span style="color:maroon">RESGROUP:13C6                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>VolName
<span style="color:maroon">RESGROUP:13C9                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">16</span>
<span style="color:maroon">RESGROUP:13CC                 </span><span style="color:navy">cld
</span><span style="color:maroon">RESGROUP:13CD                 </span><span style="color:navy">rep movsb
</span><span style="color:maroon">RESGROUP:13CF                 </span><span style="color:navy">pop     di</span>
<span style="color:maroon">RESGROUP:13D0                 </span><span style="color:navy">push    es</span>
<span style="color:maroon">RESGROUP:13D1                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:13D2                 </span><span style="color:navy">pop     cx</span>
<span style="color:maroon">RESGROUP:13D3                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>MVOLSERIAL
<span style="color:maroon">RESGROUP:13D6                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>NeedVolSubst
<span style="color:maroon">RESGROUP:13D9                 </span><span style="color:navy">call    </span>RPrint
<span style="color:maroon">RESGROUP:13DC
</span><span style="color:maroon">RESGROUP:13DC </span>Not15<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:13DC                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>REQ_ABORT
<span style="color:maroon">RESGROUP:13DF                 </span><span style="color:navy">call    </span>RPrint
<span style="color:maroon">RESGROUP:13E2                 </span><span style="color:navy">test    ds:</span>Crit_Err_Info<span style="color:navy">, </span><span style="color:green">10h</span> ; RETRY_ALLOWED
<span style="color:maroon">RESGROUP:13E7                 </span><span style="color:navy">jz      short </span>Try_Ignore
<span style="color:maroon">RESGROUP:13E9                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>REQ_RETRY
<span style="color:maroon">RESGROUP:13EC                 </span><span style="color:navy">call    </span>RPrint
<span style="color:maroon">RESGROUP:13EF
</span><span style="color:maroon">RESGROUP:13EF </span>Try_Ignore<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:13EF                 </span><span style="color:navy">test    ds:</span>Crit_Err_Info<span style="color:navy">, </span><span style="color:green">20h</span> ; IGNORE_ALLOWED
<span style="color:maroon">RESGROUP:13F4                 </span><span style="color:navy">jz      short </span>Try_Fail
<span style="color:maroon">RESGROUP:13F6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>REQ_IGNORE
<span style="color:maroon">RESGROUP:13F9                 </span><span style="color:navy">call    </span>RPrint
<span style="color:maroon">RESGROUP:13FC
</span><span style="color:maroon">RESGROUP:13FC </span>Try_Fail<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:13FC                 </span><span style="color:navy">test    ds:</span>Crit_Err_Info<span style="color:navy">, </span><span style="color:green">8</span> ; FAIL_ALLOWED
<span style="color:maroon">RESGROUP:1401                 </span><span style="color:navy">jz      short </span>Term_Question
<span style="color:maroon">RESGROUP:1403                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>REQ_FAIL
<span style="color:maroon">RESGROUP:1406                 </span><span style="color:navy">call    </span>RPrint
<span style="color:maroon">RESGROUP:1409
</span><span style="color:maroon">RESGROUP:1409 </span>Term_Question<span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1409                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>REQ_END
<span style="color:maroon">RESGROUP:140C                 </span><span style="color:navy">call    </span>RPrint
<span style="color:maroon">RESGROUP:140F                 </span><span style="color:navy">test    ds:</span>fFail<span style="color:navy">, </span><span style="color:green">0FFh</span>  ; -1
<span style="color:maroon">RESGROUP:1414                 </span><span style="color:navy">jz      short </span>DoPrompt
<span style="color:maroon">RESGROUP:1416                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:maroon">RESGROUP:1418                 </span><span style="color:navy">jmp     </span>EExit
<span style="color:maroon">RESGROUP:141B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:141B
</span><span style="color:maroon">RESGROUP:141B </span>DoPrompt<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:141B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0C01h</span>
<span style="color:maroon">RESGROUP:141E                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - CLEAR KEYBOARD BUFFER
<span style="color:maroon">RESGROUP:141E                                         </span>; AL must be 01h, 06h, 07h, 08h, or 0Ah.
<span style="color:maroon">RESGROUP:1420                 </span><span style="color:navy">call    </span>crlf
<span style="color:maroon">RESGROUP:1423                 </span><span style="color:navy">call    </span>CharToUpper
<span style="color:maroon">RESGROUP:1426                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:1428                 </span><span style="color:navy">test    ds:</span>Crit_Err_Info<span style="color:navy">, </span><span style="color:green">20h</span> ; IGNORE_ALLOWED
<span style="color:maroon">RESGROUP:142D                 </span><span style="color:navy">jz      short </span>User_Retry
<span style="color:maroon">RESGROUP:142F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>IGNORE_CHAR
<span style="color:maroon">RESGROUP:1433                 </span><span style="color:navy">jz      short </span>EExitJ
<span style="color:maroon">RESGROUP:1435
</span><span style="color:maroon">RESGROUP:1435 </span>User_Retry<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1435                 </span><span style="color:navy">inc     ah</span>
<span style="color:maroon">RESGROUP:1437                 </span><span style="color:navy">test    ds:</span>Crit_Err_Info<span style="color:navy">, </span><span style="color:green">10h</span> ; RETRY_ALLOWED
<span style="color:maroon">RESGROUP:143C                 </span><span style="color:navy">jz      short </span>User_Abort
<span style="color:maroon">RESGROUP:143E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>RETRY_CHAR
<span style="color:maroon">RESGROUP:1442                 </span><span style="color:navy">jz      short </span>EExitJ
<span style="color:maroon">RESGROUP:1444
</span><span style="color:maroon">RESGROUP:1444 </span>User_Abort<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1444                 </span><span style="color:navy">inc     ah</span>
<span style="color:maroon">RESGROUP:1446                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>ABORT_CHAR
<span style="color:maroon">RESGROUP:144A                 </span><span style="color:navy">jz      short </span>Abort_Process
<span style="color:maroon">RESGROUP:144C                 </span><span style="color:navy">inc     ah</span>
<span style="color:maroon">RESGROUP:144E                 </span><span style="color:navy">test    ds:</span>Crit_Err_Info<span style="color:navy">, </span><span style="color:green">8</span> ; FAIL_ALLOWED
<span style="color:maroon">RESGROUP:1453                 </span><span style="color:navy">jz      short </span>AskJ
<span style="color:maroon">RESGROUP:1455                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>FAIL_CHAR
<span style="color:maroon">RESGROUP:1459                 </span><span style="color:navy">jz      short </span>EExitJ
<span style="color:maroon">RESGROUP:145B
</span><span style="color:maroon">RESGROUP:145B </span>AskJ<span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:145B                 </span><span style="color:navy">jmp     </span>Ask
<span style="color:maroon">RESGROUP:145E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:145E
</span><span style="color:maroon">RESGROUP:145E </span>EExitJ<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:145E                 </span><span style="color:navy">jmp     short </span>EExit
<span style="color:maroon">RESGROUP:1460 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1460
</span><span style="color:maroon">RESGROUP:1460 </span>Abort_Process<span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1460                 </span><span style="color:navy">test    ds:</span>InitFlag<span style="color:navy">, </span><span style="color:green">1</span>  ; INITINIT
<span style="color:maroon">RESGROUP:1465                 </span><span style="color:navy">jz      short </span>AbortCont
<span style="color:maroon">RESGROUP:1467                 </span><span style="color:navy">cmp     ds:</span>PermCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:146C                 </span><span style="color:navy">jz      short </span>JustExit
<span style="color:maroon">RESGROUP:146E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>PATRICIDE
<span style="color:maroon">RESGROUP:1471                 </span><span style="color:navy">call    </span>RPrint
<span style="color:maroon">RESGROUP:1474
</span><span style="color:maroon">RESGROUP:1474 </span>DeadInTheWater<span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1474                 </span><span style="color:navy">jmp     short </span>DeadInTheWater
<span style="color:maroon">RESGROUP:1476 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1476
</span><span style="color:maroon">RESGROUP:1476 </span>JustExit<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1476                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Parent
<span style="color:maroon">RESGROUP:1479                 </span><span style="color:navy">mov     ds:</span><span style="color:green">16h</span><span style="color:navy">, ax</span>      ; [PDB.PARENT_PID]
<span style="color:maroon">RESGROUP:147C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4CFFh</span>       ; (EXIT&lt;&lt;8)|255
<span style="color:maroon">RESGROUP:147F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - QUIT WITH EXIT CODE (EXIT)
<span style="color:maroon">RESGROUP:147F                                         </span>; AL = exit code
<span style="color:maroon">RESGROUP:1481 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1481
</span><span style="color:maroon">RESGROUP:1481 </span>AbortCont<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1481                 </span><span style="color:navy">test    ds:</span>In_Batch<span style="color:navy">, </span><span style="color:green">0FFh</span> ; -1
<span style="color:maroon">RESGROUP:1486                 </span><span style="color:navy">jz      short </span>Not_Batch_Abort
<span style="color:maroon">RESGROUP:1488                 </span><span style="color:navy">mov     ds:</span>Batch_Abort<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:maroon">RESGROUP:148D
</span><span style="color:maroon">RESGROUP:148D </span>Not_Batch_Abort<span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:148D                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, ds:</span>PipeFlag
<span style="color:maroon">RESGROUP:1491                 </span><span style="color:navy">call    </span>ResPipeOff
<span style="color:maroon">RESGROUP:1494                 </span><span style="color:navy">or      dl</span><span style="color:navy">, dl</span>
<span style="color:maroon">RESGROUP:1496                 </span><span style="color:navy">jz      short </span>CheckForA
<span style="color:maroon">RESGROUP:1498                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:149D                 </span><span style="color:navy">jz      short </span>CheckForA
<span style="color:maroon">RESGROUP:149F                 </span><span style="color:navy">mov     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:maroon">RESGROUP:14A5
</span><span style="color:maroon">RESGROUP:14A5 </span>CheckForA<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:14A5                 </span><span style="color:navy">cmp     ds:</span>ErrCd_24<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:14AA                 </span><span style="color:navy">jz      short </span>abortfor
<span style="color:maroon">RESGROUP:14AC                 </span><span style="color:navy">cmp     ds:</span>ErrCd_24<span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:maroon">RESGROUP:14B1                 </span><span style="color:navy">jnz     short </span>EExit
<span style="color:maroon">RESGROUP:14B3
</span><span style="color:maroon">RESGROUP:14B3 </span>abortfor<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:14B3                 </span><span style="color:navy">mov     ds:</span>ForFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:14B8                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">RESGROUP:14BD                 </span><span style="color:navy">jz      short </span>EExit
<span style="color:maroon">RESGROUP:14BF                 </span><span style="color:navy">mov     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:maroon">RESGROUP:14C5
</span><span style="color:maroon">RESGROUP:14C5 </span>EExit<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:14C5                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ah</span>
<span style="color:maroon">RESGROUP:14C7                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, di</span>
<span style="color:maroon">RESGROUP:14C9
</span><span style="color:maroon">RESGROUP:14C9 </span>RestHd<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:14C9                 </span><span style="color:navy">call    </span>RestHand
<span style="color:maroon">RESGROUP:14CC                 </span><span style="color:navy">pop     cx</span>
<span style="color:maroon">RESGROUP:14CD                 </span><span style="color:navy">pop     si</span>
<span style="color:maroon">RESGROUP:14CE                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">RESGROUP:14CF                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RStack   ; mov ds,[OldDS]
<span style="color:maroon">RESGROUP:14D3                 </span><span style="color:navy">iret
</span><span style="color:maroon">RESGROUP:14D4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:14D4
</span><span style="color:maroon">RESGROUP:14D4 </span>FatErr<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:14D4                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADFATMSG
<span style="color:maroon">RESGROUP:14D7                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>BadFatSubst
<span style="color:maroon">RESGROUP:14DA                 </span><span style="color:navy">call    </span>RPrint
<span style="color:maroon">RESGROUP:14DD                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:maroon">RESGROUP:14DF                 </span><span style="color:navy">jmp     short </span>RestHd
<span style="color:black">RESGROUP:14E1
</span><span style="color:black">RESGROUP:14E1 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:14E1
</span><span style="color:black">RESGROUP:14E1
</span><span style="color:black">RESGROUP:14E1 </span>crlf            proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:14E1                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>NEWLINE
<span style="color:black">RESGROUP:14E1 </span>crlf            endp
<span style="color:black">RESGROUP:14E1
</span><span style="color:black">RESGROUP:14E4
</span><span style="color:black">RESGROUP:14E4 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:14E4
</span><span style="color:black">RESGROUP:14E4
</span><span style="color:black">RESGROUP:14E4 </span>RPrint          proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:14E4                 </span><span style="color:navy">push    si</span>
<span style="color:black">RESGROUP:14E5                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:14E6                 </span><span style="color:navy">push    bx</span>
<span style="color:black">RESGROUP:14E7                 </span><span style="color:navy">push    cx</span>
<span style="color:black">RESGROUP:14E8                 </span><span style="color:navy">push    dx</span>
<span style="color:black">RESGROUP:14E9                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, si</span>
<span style="color:black">RESGROUP:14EB                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:14ED                 </span><span style="color:navy">lodsb
</span><span style="color:black">RESGROUP:14EE                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:14F0                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:14F2                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">rpRet</span>
<span style="color:black">RESGROUP:14F4                 </span><span style="color:navy">call    </span>RDispMsg
<span style="color:black">RESGROUP:14F7
</span><span style="color:black">RESGROUP:14F7 </span><span style="color:gray">rpRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:14F7                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">RESGROUP:14F8                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">RESGROUP:14F9                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:14FA                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:14FB                 </span><span style="color:navy">pop     si</span>
<span style="color:black">RESGROUP:14FC                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:14FC </span>RPrint          endp
<span style="color:black">RESGROUP:14FC
</span><span style="color:black">RESGROUP:14FD
</span><span style="color:black">RESGROUP:14FD </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:14FD
</span><span style="color:black">RESGROUP:14FD
</span><span style="color:black">RESGROUP:14FD </span>RPrintCrit      proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:14FD                 </span><span style="color:navy">push    dx</span>
<span style="color:black">RESGROUP:14FE                 </span><span style="color:navy">xchg    bx</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:1500                 </span><span style="color:navy">sub     bx</span><span style="color:navy">, </span><span style="color:green">19</span>
<span style="color:black">RESGROUP:1503                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1505                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>CRITMSGPTRS<span style="color:navy">[bx]</span>
<span style="color:black">RESGROUP:1509                 </span><span style="color:navy">xchg    bx</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:150B                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:150E                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">RESGROUP:150F                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:150F </span>RPrintCrit      endp
<span style="color:black">RESGROUP:150F
</span><span style="color:black">RESGROUP:1510
</span><span style="color:black">RESGROUP:1510 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1510
</span><span style="color:black">RESGROUP:1510
</span><span style="color:black">RESGROUP:1510 </span>RDispMsg        proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1510                 </span><span style="color:navy">lodsb                   </span>; rdNextChar
<span style="color:black">RESGROUP:1511                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'%'</span>
<span style="color:black">RESGROUP:1513                 </span><span style="color:navy">jnz     short </span><span style="color:gray">rdOutChar</span>
<span style="color:black">RESGROUP:1515                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, [si]</span>
<span style="color:black">RESGROUP:1517                 </span><span style="color:navy">sub     dl</span><span style="color:navy">, </span><span style="color:green">'1'</span>
<span style="color:black">RESGROUP:151A                 </span><span style="color:navy">cmp     dl</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">RESGROUP:151D                 </span><span style="color:navy">jnb     short </span><span style="color:gray">rdOutChar</span>
<span style="color:black">RESGROUP:151F                 </span><span style="color:navy">call    </span>SubstMsg
<span style="color:black">RESGROUP:1522                 </span><span style="color:navy">inc     si</span>
<span style="color:black">RESGROUP:1523                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">RESGROUP:1524                 </span><span style="color:navy">jmp     short </span><span style="color:gray">rdCharDone</span>
<span style="color:black">RESGROUP:1526 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1526
</span><span style="color:black">RESGROUP:1526 </span><span style="color:gray">rdOutChar</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1526                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:1528                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">RESGROUP:152A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - DISPLAY OUTPUT
<span style="color:black">RESGROUP:152A                                         </span>; DL = character to send to standard output
<span style="color:black">RESGROUP:152C
</span><span style="color:black">RESGROUP:152C </span><span style="color:gray">rdCharDone</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:152C                 </span><span style="color:navy">loop    </span>RDispMsg        ; loop rdNextChar
<span style="color:black">RESGROUP:152E                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:152E </span>RDispMsg        endp
<span style="color:black">RESGROUP:152E
</span><span style="color:black">RESGROUP:152F
</span><span style="color:black">RESGROUP:152F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:152F
</span><span style="color:black">RESGROUP:152F
</span><span style="color:black">RESGROUP:152F </span>SubstMsg        proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:152F                 </span><span style="color:navy">push    bx</span>
<span style="color:black">RESGROUP:1530                 </span><span style="color:navy">push    cx</span>
<span style="color:black">RESGROUP:1531                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; size SUBST
<span style="color:black">RESGROUP:1533                 </span><span style="color:navy">mul     dl</span>
<span style="color:black">RESGROUP:1535                 </span><span style="color:navy">add     bx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1537                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [bx]</span>        ; mov al,[bx].SubstType
<span style="color:black">RESGROUP:1539                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>      ; mov bx,[bx].SubstPtr
<span style="color:black">RESGROUP:153C                 </span><span style="color:navy">dec     al</span>
<span style="color:black">RESGROUP:153E                 </span><span style="color:navy">jz      short </span><span style="color:gray">smChar</span>
<span style="color:black">RESGROUP:1540                 </span><span style="color:navy">dec     al</span>
<span style="color:black">RESGROUP:1542                 </span><span style="color:navy">jz      short </span><span style="color:gray">smStr</span>
<span style="color:black">RESGROUP:1544                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, [bx]</span>
<span style="color:black">RESGROUP:1546                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:1549
</span><span style="color:black">RESGROUP:1549 </span><span style="color:gray">smDigit</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1549                 </span><span style="color:navy">rol     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:154B                 </span><span style="color:navy">rol     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:154D                 </span><span style="color:navy">rol     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:154F                 </span><span style="color:navy">rol     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1551                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:1552                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">0Fh</span>
<span style="color:black">RESGROUP:1554                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">'0'</span>
<span style="color:black">RESGROUP:1556                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'9'</span>
<span style="color:black">RESGROUP:1558                 </span><span style="color:navy">jbe     short </span><span style="color:gray">smDigit09</span>
<span style="color:black">RESGROUP:155A                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:#ff8000">7</span>           ; ('A' - '0') - 10
<span style="color:black">RESGROUP:155C
</span><span style="color:black">RESGROUP:155C </span><span style="color:gray">smDigit09</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:155C                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:155E                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">RESGROUP:1560                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - DISPLAY OUTPUT
<span style="color:black">RESGROUP:1560                                         </span>; DL = character to send to standard output
<span style="color:black">RESGROUP:1562                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:1563                 </span><span style="color:navy">loop    </span><span style="color:gray">smDigit</span>
<span style="color:black">RESGROUP:1565                 </span><span style="color:navy">jmp     short </span><span style="color:gray">smRet</span>
<span style="color:black">RESGROUP:1567 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1567
</span><span style="color:black">RESGROUP:1567 </span><span style="color:gray">smChar</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1567                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, [bx]</span>
<span style="color:black">RESGROUP:1569                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">RESGROUP:156B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - DISPLAY OUTPUT
<span style="color:black">RESGROUP:156B                                         </span>; DL = character to send to standard output
<span style="color:black">RESGROUP:156D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">smRet</span>
<span style="color:black">RESGROUP:156F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:156F
</span><span style="color:black">RESGROUP:156F </span><span style="color:gray">smStr</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:156F                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, [bx]</span>
<span style="color:black">RESGROUP:1571                 </span><span style="color:navy">or      dl</span><span style="color:navy">, dl</span>
<span style="color:black">RESGROUP:1573                 </span><span style="color:navy">jz      short </span><span style="color:gray">smRet</span>
<span style="color:black">RESGROUP:1575                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">RESGROUP:1577                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - DISPLAY OUTPUT
<span style="color:black">RESGROUP:1577                                         </span>; DL = character to send to standard output
<span style="color:black">RESGROUP:1579                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">RESGROUP:157A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">smStr</span>
<span style="color:black">RESGROUP:157C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:157C
</span><span style="color:black">RESGROUP:157C </span><span style="color:gray">smRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:157C                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">RESGROUP:157D                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:157E                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:157E </span>SubstMsg        endp
<span style="color:black">RESGROUP:157E
</span><span style="color:black">RESGROUP:157F
</span><span style="color:black">RESGROUP:157F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:157F
</span><span style="color:black">RESGROUP:157F
</span><span style="color:black">RESGROUP:157F </span>CharToUpper     proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:157F                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:1580                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1213h</span>
<span style="color:black">RESGROUP:1583                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; Multiplex - DOS 3+ internal - UPPERCASE CHARACTER
<span style="color:black">RESGROUP:1583                                         </span>; STACK: WORD character to convert to uppercase
<span style="color:black">RESGROUP:1583                                         </span>; Return: AL = uppercase character
<span style="color:black">RESGROUP:1583                                         </span>; STACK unchanged
<span style="color:black">RESGROUP:1585                 </span><span style="color:navy">inc     sp</span>
<span style="color:black">RESGROUP:1586                 </span><span style="color:navy">inc     sp</span>
<span style="color:black">RESGROUP:1587                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1587 </span><span style="background:red">CharToUpper     endp</span><span style="background:red"> ; sp = -2</span>
<span style="color:black">RESGROUP:1587
</span><span style="color:maroon">RESGROUP:1588 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1588
</span><span style="color:maroon">RESGROUP:1588 </span>MsgInt2fHandler<span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1588                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:1589                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">122Eh</span>       ; (MULTDOS&lt;&lt;8)|MESSAGE_2F
<span style="color:maroon">RESGROUP:158C                 </span><span style="color:navy">jz      short </span>miOurs
<span style="color:maroon">RESGROUP:158E                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5500h</span>       ; GET_COMMAND_STATE
<span style="color:maroon">RESGROUP:1591                 </span><span style="color:navy">jz      short </span>fcOurs
<span style="color:maroon">RESGROUP:1593                 </span><span style="color:navy">push    ax</span>
<span style="color:maroon">RESGROUP:1594                 </span><span style="color:navy">push    ax</span>
<span style="color:maroon">RESGROUP:1595                 </span><span style="color:navy">push    bp</span>
<span style="color:maroon">RESGROUP:1596                 </span><span style="color:navy">push    ax</span>
<span style="color:maroon">RESGROUP:1597                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, sp</span>
<span style="color:maroon">RESGROUP:1599                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, [bp+</span><span style="color:#ff8000">8</span><span style="color:navy">]</span>
<span style="color:maroon">RESGROUP:159C                 </span><span style="color:navy">mov     [bp+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:159F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Int2fHandler<span style="color:navy">+</span><span style="color:green">2</span>
<span style="color:maroon">RESGROUP:15A2                 </span><span style="color:navy">mov     [bp+</span><span style="color:#ff8000">8</span><span style="color:navy">]</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:15A5                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Int2fHandler
<span style="color:maroon">RESGROUP:15A8                 </span><span style="color:navy">mov     [bp+</span><span style="color:#ff8000">6</span><span style="color:navy">]</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:15AB                 </span><span style="color:navy">pop     ax</span>
<span style="color:maroon">RESGROUP:15AC                 </span><span style="color:navy">pop     bp</span>
<span style="color:maroon">RESGROUP:15AD                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:15AE                 </span><span style="color:navy">retf
</span><span style="color:maroon">RESGROUP:15AF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:15AF
</span><span style="color:maroon">RESGROUP:15AF </span>fcOurs<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:15AF                 </span><span style="color:navy">pop     ax</span>
<span style="color:maroon">RESGROUP:15B0                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:15B1                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>Int2f_Entry
<span style="color:maroon">RESGROUP:15B4                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:15B6                 </span><span style="color:navy">jmp     short </span>miRet
<span style="color:maroon">RESGROUP:15B8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:15B8
</span><span style="color:maroon">RESGROUP:15B8 </span>miOurs<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:15B8                 </span><span style="color:navy">test    dl</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:maroon">RESGROUP:15BB                 </span><span style="color:navy">jnz     short </span>miRet
<span style="color:maroon">RESGROUP:15BD                 </span><span style="color:navy">push    bx</span>
<span style="color:maroon">RESGROUP:15BE                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, dx</span>
<span style="color:maroon">RESGROUP:15C0                 </span><span style="color:navy">xor     bh</span><span style="color:navy">, bh</span>
<span style="color:maroon">RESGROUP:15C2                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:maroon">RESGROUP:15C4                 </span><span style="color:navy">les     di</span><span style="color:navy">, ds:</span>MsgPtrLists<span style="color:navy">[bx]</span>
<span style="color:maroon">RESGROUP:15C8                 </span><span style="color:navy">pop     bx</span>
<span style="color:maroon">RESGROUP:15C9
</span><span style="color:maroon">RESGROUP:15C9 </span>miRet<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:15C9                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:15CA                 </span><span style="color:navy">iret
</span><span style="color:maroon">RESGROUP:15CB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:15CB
</span><span style="color:maroon">RESGROUP:15CB </span>MsgRetriever<span style="color:navy">:
</span><span style="color:maroon">RESGROUP:15CB                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:15CC                 </span><span style="color:navy">push    ax</span>
<span style="color:maroon">RESGROUP:15CD                 </span><span style="color:navy">push    bx</span>
<span style="color:maroon">RESGROUP:15CE                 </span><span style="color:navy">push    cx</span>
<span style="color:maroon">RESGROUP:15CF                 </span><span style="color:navy">push    dx</span>
<span style="color:maroon">RESGROUP:15D0                 </span><span style="color:navy">push    si</span>
<span style="color:maroon">RESGROUP:15D1                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">RESGROUP:15D2                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">RESGROUP:15D3                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">11</span>          ; NUMPARSMSGS
<span style="color:maroon">RESGROUP:15D6                 </span><span style="color:navy">cmp     di</span><span style="color:navy">, offset </span>PARSMSGPTRS
<span style="color:maroon">RESGROUP:15DA                 </span><span style="color:navy">jz      short </span>chkmsgnum
<span style="color:maroon">RESGROUP:15DC                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">90</span>          ; NUMEXTMSGS
<span style="color:maroon">RESGROUP:15DF
</span><span style="color:maroon">RESGROUP:15DF </span>chkmsgnum<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:15DF                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:15E1                 </span><span style="color:navy">jb      short </span>mrRet
<span style="color:maroon">RESGROUP:15E3                 </span><span style="color:navy">dec     ax</span>
<span style="color:maroon">RESGROUP:15E4                 </span><span style="color:navy">shl     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:maroon">RESGROUP:15E6                 </span><span style="color:navy">add     di</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:15E8                 </span><span style="color:navy">cmp     di</span><span style="color:navy">, ds:</span>ResMsgEnd
<span style="color:maroon">RESGROUP:15EC                 </span><span style="color:navy">jb      short </span>mrInMem
<span style="color:maroon">RESGROUP:15EE                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ComSpec
<span style="color:maroon">RESGROUP:15F1                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; EXT_EXISTS_OPEN
<span style="color:maroon">RESGROUP:15F4                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">2000h</span>       ; INT_24_ERROR
<span style="color:maroon">RESGROUP:15F7                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">6C00h</span>       ; ExtOpen shl 8
<span style="color:maroon">RESGROUP:15FA                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 4.0 - EXTENDED OPEN/CREATE
<span style="color:maroon">RESGROUP:15FA                                         </span>; BL = open mode as in AL for normal open (INT 21h/AH=3Dh)
<span style="color:maroon">RESGROUP:15FA                                         </span>; BH = flags, CX = create attribute, DL = action if file exists/does not exists
<span style="color:maroon">RESGROUP:15FA                                         </span>; DH = 00h (reserved), DS:SI -&gt; ASCIZ file name
<span style="color:maroon">RESGROUP:15FC                 </span><span style="color:navy">jb      short </span>mrRet
<span style="color:maroon">RESGROUP:15FE                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:maroon">RESGROUP:1600                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, di</span>
<span style="color:maroon">RESGROUP:1602                 </span><span style="color:navy">xor     si</span><span style="color:navy">, si</span>
<span style="color:maroon">RESGROUP:1604
</span><span style="color:maroon">RESGROUP:1604 </span>mrRead<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1604                 </span><span style="color:navy">sub     dx</span><span style="color:navy">, </span><span style="color:green">100h</span>
<span style="color:maroon">RESGROUP:1608                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:maroon">RESGROUP:160A                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4200h</span>       ; LSEEK shl 8
<span style="color:maroon">RESGROUP:160D                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:maroon">RESGROUP:160D                                         </span>; AL = method: offset from beginning of file
<span style="color:maroon">RESGROUP:160F                 </span><span style="color:navy">jb      short </span>mrCloseFile
<span style="color:maroon">RESGROUP:1611                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>SafePathBuffer ; MsgBuffer
<span style="color:maroon">RESGROUP:1614                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">64</span>
<span style="color:maroon">RESGROUP:1617                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Fh</span>
<span style="color:maroon">RESGROUP:1619                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - READ FROM FILE WITH HANDLE
<span style="color:maroon">RESGROUP:1619                                         </span>; BX = file handle, CX = number of bytes to read
<span style="color:maroon">RESGROUP:1619                                         </span>; DS:DX -&gt; buffer
<span style="color:maroon">RESGROUP:161B                 </span><span style="color:navy">jb      short </span>mrCloseFile
<span style="color:maroon">RESGROUP:161D                 </span><span style="color:navy">or      si</span><span style="color:navy">, si</span>
<span style="color:maroon">RESGROUP:161F                 </span><span style="color:navy">jnz     short </span>mrCloseFile
<span style="color:maroon">RESGROUP:1621                 </span><span style="color:navy">inc     si</span>
<span style="color:maroon">RESGROUP:1622                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, word ptr ds:</span>SafePathBuffer ; [MsgBuffer]
<span style="color:maroon">RESGROUP:1626                 </span><span style="color:navy">or      dx</span><span style="color:navy">, dx</span>
<span style="color:maroon">RESGROUP:1628                 </span><span style="color:navy">jnz     short </span>mrRead
<span style="color:maroon">RESGROUP:162A                 </span><span style="color:navy">stc
</span><span style="color:maroon">RESGROUP:162B
</span><span style="color:maroon">RESGROUP:162B </span>mrCloseFile<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:162B                 </span><span style="color:navy">pushf
</span><span style="color:maroon">RESGROUP:162C                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:maroon">RESGROUP:162E                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:maroon">RESGROUP:162E                                         </span>; BX = file handle
<span style="color:maroon">RESGROUP:1630                 </span><span style="color:navy">popf
</span><span style="color:maroon">RESGROUP:1631                 </span><span style="color:navy">mov     di</span><span style="color:navy">, dx</span>
<span style="color:maroon">RESGROUP:1633                 </span><span style="color:navy">jmp     short </span>mrRet
<span style="color:maroon">RESGROUP:1635 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1635
</span><span style="color:maroon">RESGROUP:1635 </span>mrInMem<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1635                 </span><span style="color:navy">mov     di</span><span style="color:navy">, es:[di]</span>
<span style="color:maroon">RESGROUP:1638                 </span><span style="color:navy">or      di</span><span style="color:navy">, di</span>
<span style="color:maroon">RESGROUP:163A                 </span><span style="color:navy">jnz     short </span>mrRet
<span style="color:maroon">RESGROUP:163C                 </span><span style="color:navy">stc
</span><span style="color:maroon">RESGROUP:163D
</span><span style="color:maroon">RESGROUP:163D </span>mrRet<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:163D                 </span><span style="color:navy">pop     si</span>
<span style="color:maroon">RESGROUP:163E                 </span><span style="color:navy">pop     dx</span>
<span style="color:maroon">RESGROUP:163F                 </span><span style="color:navy">pop     cx</span>
<span style="color:maroon">RESGROUP:1640                 </span><span style="color:navy">pop     bx</span>
<span style="color:maroon">RESGROUP:1641                 </span><span style="color:navy">pop     ax</span>
<span style="color:maroon">RESGROUP:1642                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">RESGROUP:1643                 </span><span style="color:navy">retf
</span><span style="color:black">RESGROUP:1644
</span><span style="color:black">RESGROUP:1644 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1644
</span><span style="color:black">RESGROUP:1644
</span><span style="color:black">RESGROUP:1644 </span>Lh_OffUnlink    proc far
<span style="color:black">RESGROUP:1644                 </span><span style="color:navy">mov     ch</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:1646                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:1648                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5800h</span>
<span style="color:black">RESGROUP:164B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">RESGROUP:164B                                         </span>; AL = function code: get allocation strategy
<span style="color:black">RESGROUP:164D                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:164F                 </span><span style="color:navy">ror     cl</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1651                 </span><span style="color:navy">and     cl</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">RESGROUP:1654                 </span><span style="color:navy">and     bl</span><span style="color:navy">, </span><span style="color:green">7Fh</span>
<span style="color:black">RESGROUP:1657                 </span><span style="color:navy">or      bl</span><span style="color:navy">, cl</span>
<span style="color:black">RESGROUP:1659                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5801h</span>
<span style="color:black">RESGROUP:165C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">RESGROUP:165C                                         </span>; AL = function code: set allocation strategy
<span style="color:black">RESGROUP:165E                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, ch</span>
<span style="color:black">RESGROUP:1660                 </span><span style="color:navy">shr     bl</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1662                 </span><span style="color:navy">xor     bh</span><span style="color:navy">, bh</span>
<span style="color:black">RESGROUP:1664                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5803h</span>
<span style="color:black">RESGROUP:1667                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">RESGROUP:1667                                         </span>; AL = function code: (DOS 5beta) set UMB link state
<span style="color:black">RESGROUP:1669                 </span><span style="color:navy">retf
</span><span style="color:black">RESGROUP:1669 </span>Lh_OffUnlink    endp
<span style="color:black">RESGROUP:1669
</span><span style="color:black">RESGROUP:1669 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:gray">RESGROUP:166A </span>EndCode         <span style="color:navy">db </span><span style="color:#008040">6 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:black">RESGROUP:1670 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1670 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR StartCode
</span><span style="color:black">RESGROUP:1670
</span><span style="color:black">RESGROUP:1670 </span>ConProc<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1670                 </span><span style="color:navy">mov     sp</span><span style="color:navy">, offset </span>RStack
<span style="color:black">RESGROUP:1673                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">50h</span>
<span style="color:black">RESGROUP:1675                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es</span>
<span style="color:black">RESGROUP:1677                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ internal - SET PSP SEGMENT
<span style="color:black">RESGROUP:1677                                         </span>; BX = segment address of new PSP
<span style="color:black">RESGROUP:1679                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3000h</span>
<span style="color:black">RESGROUP:167C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET DOS VERSION
<span style="color:black">RESGROUP:167C                                         </span>; Return: AL = major version number (00h for DOS 1.x)
<span style="color:black">RESGROUP:167E                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1606h</span>
<span style="color:black">RESGROUP:1681                 </span><span style="color:navy">jz      short </span>okdos
<span style="color:black">RESGROUP:1683                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADVERMSG
<span style="color:black">RESGROUP:1686                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:1689                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>
<span style="color:black">RESGROUP:168B                 </span><span style="color:navy">cmp     es:</span><span style="color:green">16h</span><span style="color:navy">, ax</span>      ; [es:PDB.PARENT_PID]
<span style="color:black">RESGROUP:1690
</span><span style="color:black">RESGROUP:1690 </span>Here<span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1690                 </span><span style="color:navy">jz      short </span>Here
<span style="color:black">RESGROUP:1692                 </span><span style="color:navy">int     </span><span style="color:green">20h</span>             ; DOS - PROGRAM TERMINATION
<span style="color:black">RESGROUP:1692                                         </span>; returns to DOS--identical to INT 21/AH=00h
<span style="color:black">RESGROUP:1694 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1694
</span><span style="color:black">RESGROUP:1694 </span>okdos<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1694                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">26EFh</span>       ; TRANSTART+15
<span style="color:black">RESGROUP:1697                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:1699                 </span><span style="color:navy">shr     dx</span><span style="color:navy">, cl</span>
<span style="color:black">RESGROUP:169B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs</span>
<span style="color:black">RESGROUP:169D                 </span><span style="color:navy">add     ax</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:169F                 </span><span style="color:navy">mov     ds:</span>initend<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:16A2                 </span><span style="color:navy">call    </span>CheckHelp
<span style="color:black">RESGROUP:16A5                 </span><span style="color:navy">call    </span>patch_segs
<span style="color:black">RESGROUP:16A8                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0B700h</span>
<span style="color:black">RESGROUP:16AB                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - APPEND - INSTALLATION CHECK
<span style="color:black">RESGROUP:16AB                                         </span>; Return: AL = 00h not installed
<span style="color:black">RESGROUP:16AB                                         </span>; AL = FFh if installed
<span style="color:black">RESGROUP:16AD                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:16AF                 </span><span style="color:navy">jz      short </span>set_msg_addr
<span style="color:black">RESGROUP:16B1                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0B702h</span>
<span style="color:black">RESGROUP:16B4                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - APPEND - VERSION CHECK
<span style="color:black">RESGROUP:16B4                                         </span>; Return: AX = FFFFh if not DOS 4.0 APPEND
<span style="color:black">RESGROUP:16B4                                         </span>; AL = major version number
<span style="color:black">RESGROUP:16B4                                         </span>; AH = minor version number, otherwise
<span style="color:black">RESGROUP:16B6                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">RESGROUP:16B9                 </span><span style="color:navy">jnz     short </span>set_msg_addr
<span style="color:black">RESGROUP:16BB                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0B706h</span>
<span style="color:black">RESGROUP:16BE                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - DOS 4.0 APPEND - GET APPEND FUNCTION STATE
<span style="color:black">RESGROUP:16BE                                         </span>; Return: BX = APPEND state
<span style="color:black">RESGROUP:16C0                 </span><span style="color:navy">mov     ds:</span>Append_State<span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:16C4                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:16C6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0B707h</span>
<span style="color:black">RESGROUP:16C9                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - DOS 4.0 APPEND - SET APPEND FUNCTION STATE
<span style="color:black">RESGROUP:16C9                                         </span>; BX = APPEND state bits
<span style="color:black">RESGROUP:16CB
</span><span style="color:black">RESGROUP:16CB </span>set_msg_addr<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:16CB                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PAERRMSG0 ; offset resgroup:DataresEnd
<span style="color:black">RESGROUP:16CE                 </span><span style="color:navy">mov     ds:</span>ResMsgEnd<span style="color:navy">, di</span>
<span style="color:black">RESGROUP:16D2                 </span><span style="color:navy">call    </span>get_XMMAddr
<span style="color:black">RESGROUP:16D5                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5500h</span>
<span style="color:black">RESGROUP:16D8                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>
<span style="color:black">RESGROUP:16DA                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:16DC                 </span><span style="color:navy">jnz     short </span>first_com
<span style="color:black">RESGROUP:16DE                 </span><span style="color:navy">mov     es:</span>ResJmpTable<span style="color:navy">, si</span>
<span style="color:black">RESGROUP:16E3                 </span><span style="color:navy">mov     es:</span>ResJmpTable<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:16E8                 </span><span style="color:navy">jmp     short </span>init_cntry
<span style="color:black">RESGROUP:16EA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:16EA
</span><span style="color:black">RESGROUP:16EA </span>first_com<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:16EA                 </span><span style="color:navy">mov     es:</span>FirstCom<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:16F0
</span><span style="color:black">RESGROUP:16F0 </span>init_cntry<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:16F0                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:16F1                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:16F2                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">65h</span>         ; GETEXTCNTRY
<span style="color:black">RESGROUP:16F4                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:16F6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">RESGROUP:16F9                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">RESGROUP:16FC                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>
<span style="color:black">RESGROUP:16FF                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>FUCase_Addr
<span style="color:black">RESGROUP:1702                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 4.x internal - COUNTRY-DEPENDENT FILENAME CAPITALIZATION
<span style="color:black">RESGROUP:1702                                         </span>; AL = function -
<span style="color:black">RESGROUP:1704                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1705                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">6300h</span>
<span style="color:black">RESGROUP:1708                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3.2+ only - GET DOUBLE BYTE CHARACTER SET LEAD TABLE
<span style="color:black">RESGROUP:170A                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:170C                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:170D                 </span><span style="color:navy">mov     word ptr ds:</span>Dbcs_Vector_Addr<span style="color:navy">, si</span>
<span style="color:black">RESGROUP:1711                 </span><span style="color:navy">mov     word ptr ds:</span>Dbcs_Vector_Addr<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:1715                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span><span style="color:green">16h</span>      ; [PDB.PARENT_PID]
<span style="color:black">RESGROUP:1718                 </span><span style="color:navy">mov     ds:</span>Parent<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:171B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span><span style="color:green">0Ah</span>      ; [PDB.EXIT]
<span style="color:black">RESGROUP:171E                 </span><span style="color:navy">mov     ds:</span>OldTerm<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1721                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span><span style="color:green">0Ch</span>      ; [PDB.EXIT+2]
<span style="color:black">RESGROUP:1724                 </span><span style="color:navy">mov     ds:</span>OldTerm<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1727                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1679h</span>       ; EndCode+15
<span style="color:black">RESGROUP:172A                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:172C                 </span><span style="color:navy">shr     ax</span><span style="color:navy">, cl</span>          ; (EndCode+15)&gt;&gt;4
<span style="color:black">RESGROUP:172E                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, cs</span>
<span style="color:black">RESGROUP:1730                 </span><span style="color:navy">add     ax</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:1732                 </span><span style="color:navy">mov     ds:</span>Res_Tpa<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1735                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">0F000h</span>
<span style="color:black">RESGROUP:1738                 </span><span style="color:navy">add     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1000h</span>
<span style="color:black">RESGROUP:173B                 </span><span style="color:navy">jnb     short </span>TpaSet
<span style="color:black">RESGROUP:173D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Res_Tpa
<span style="color:black">RESGROUP:1740
</span><span style="color:black">RESGROUP:1740 </span>TpaSet<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1740                 </span><span style="color:navy">mov     ds:</span>LTpa<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1743                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span><span style="color:green">2</span>        ; [PDB.BLOCK_LEN]
<span style="color:black">RESGROUP:1746                 </span><span style="color:navy">mov     ds:</span>MySeg1<span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:174A                 </span><span style="color:navy">mov     ds:</span>MySeg2<span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:174E                 </span><span style="color:navy">mov     ds:</span>MySeg<span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1752                 </span><span style="color:navy">mov     ds:</span>MySeg3<span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1756                 </span><span style="color:navy">mov     ds:</span>MemSiz<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1759                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:175A                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">26E0h</span>       ; mov bx,offset RESGROUP:TranStart
<span style="color:black">RESGROUP:175D                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:green">0AF95h</span>      ; add bx,offset TRANGROUP:TranSpaceEnd
<span style="color:black">RESGROUP:1761                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:#ff8000">0Fh</span>
<span style="color:black">RESGROUP:1764                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:1766                 </span><span style="color:navy">shr     bx</span><span style="color:navy">, cl</span>
<span style="color:black">RESGROUP:1768                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">4Ah</span>
<span style="color:black">RESGROUP:176A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
<span style="color:black">RESGROUP:176A                                         </span>; ES = segment address of block to change
<span style="color:black">RESGROUP:176A                                         </span>; BX = new size in paragraphs
<span style="color:black">RESGROUP:176C                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:176D                 </span><span style="color:navy">mov     ds:</span>EnvMax<span style="color:navy">, </span><span style="color:green">90</span>   ; ((ENVIRONSIZ+15)/16) + ((EnvMaximum-ZERO+15)/16) - 1
<span style="color:black">RESGROUP:1773                 </span><span style="color:navy">mov     ds:</span>EnvSiz<span style="color:navy">, </span><span style="color:green">16</span>   ; ENVSML/16 ; 256/16
<span style="color:black">RESGROUP:1779                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">0AFA4h</span>      ; TRANSPACEEND+15
<span style="color:black">RESGROUP:177C                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:177E                 </span><span style="color:navy">shr     dx</span><span style="color:navy">, cl</span>          ; (TRANSPACEEND+15)&gt;&gt;4
<span style="color:black">RESGROUP:1780                 </span><span style="color:navy">mov     ds:</span>TrnSize<span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:1784                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:1786                 </span><span style="color:navy">mov     ds:</span>TrnSeg<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1789                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span><span style="color:green">2Ch</span>      ; [PDB.ENVIRON]
<span style="color:black">RESGROUP:178C                 </span><span style="color:navy">mov     ds:</span>EnvirSeg<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:178F                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1791                 </span><span style="color:navy">jz      short </span>buildenv
<span style="color:black">RESGROUP:1793                 </span><span style="color:navy">cmp     ds:</span>FirstCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1798                 </span><span style="color:navy">jz      short </span>environpassed
<span style="color:black">RESGROUP:179A
</span><span style="color:black">RESGROUP:179A </span>buildenv<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:179A                 </span><span style="color:navy">call    </span>alloc_env
<span style="color:black">RESGROUP:179D
</span><span style="color:black">RESGROUP:179D </span>environpassed<span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:179D                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:179F
</span><span style="color:black">RESGROUP:179F </span>gottheenvir<span style="color:navy">:
</span><span style="color:black">RESGROUP:179F                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">19h</span>
<span style="color:black">RESGROUP:17A1                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET DEFAULT DISK NUMBER
<span style="color:black">RESGROUP:17A3                 </span><span style="color:navy">inc     al</span>
<span style="color:black">RESGROUP:17A5                 </span><span style="color:navy">mov     ds:</span>ComDrv<span style="color:navy">, al</span>
<span style="color:black">RESGROUP:17A8                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span><span style="color:green">5Ch</span>      ; [FCB]
<span style="color:black">RESGROUP:17AB                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:17AD                 </span><span style="color:navy">jz      short </span>nocomdrv
<span style="color:black">RESGROUP:17AF                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">RESGROUP:17B1                 </span><span style="color:navy">mov     ds:</span>ComDrv<span style="color:navy">, al</span>
<span style="color:black">RESGROUP:17B4                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">RESGROUP:17B6                 </span><span style="color:navy">std
</span><span style="color:black">RESGROUP:17B7                 </span><span style="color:navy">cmp     ds:</span>AllocedEnv<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:17BC                 </span><span style="color:navy">jz      short </span>notwidenv
<span style="color:black">RESGROUP:17BE                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ds:</span>ComspOffset
<span style="color:black">RESGROUP:17C2                 </span><span style="color:navy">cmp     byte ptr es:[di+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">RESGROUP:17C7                 </span><span style="color:navy">jz      short </span>notwidenv
<span style="color:black">RESGROUP:17C9                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:17CA                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:17CB                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:17CC                 </span><span style="color:navy">lea     si</span><span style="color:navy">, [di+</span><span style="color:green">143</span><span style="color:navy">]</span>    ; lea si,[di+MAX_COMSPEC-3]
<span style="color:black">RESGROUP:17D0                 </span><span style="color:navy">lea     di</span><span style="color:navy">, [di+</span><span style="color:green">145</span><span style="color:navy">]</span>    ; lea di,[di+MAX_COMSPEC-1]
<span style="color:black">RESGROUP:17D4                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">144</span>         ; MAX_COMSPEC - 2
<span style="color:black">RESGROUP:17D7                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:17D9                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:17DA                 </span><span style="color:navy">mov     es:[di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:17DE
</span><span style="color:black">RESGROUP:17DE </span>notwidenv<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:17DE                 </span><span style="color:navy">cld
</span><span style="color:black">RESGROUP:17DF                 </span><span style="color:navy">mov     word ptr ds:</span>AUTOBAT<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:17E2                 </span><span style="color:navy">mov     word ptr ds:</span>KAUTOBAT<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:17E5
</span><span style="color:black">RESGROUP:17E5 </span>nocomdrv<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:17E5                 </span><span style="color:navy">call    </span>SetVect
<span style="color:black">RESGROUP:17E8                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:17E9                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:17EA                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:17EB                 </span>assume ds:RESGROUP
<span style="color:black">RESGROUP:17EB                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:17EC                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">RESGROUP:17EF                 </span><span style="color:navy">lodsb
</span><span style="color:black">RESGROUP:17F0                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">RESGROUP:17F2                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">RESGROUP:17F4                 </span><span style="color:navy">add     di</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:17F6                 </span><span style="color:navy">mov     byte ptr [di]</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">RESGROUP:17F9                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:17FB                 </span><span style="color:navy">mov     </span>num_positionals<span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:17FF
</span><span style="color:black">RESGROUP:17FF </span>Parse_command_line<span style="color:navy">:                     </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:17FF                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>INTERNAT_INFO ; offset ResGroup:Parse_Command
<span style="color:black">RESGROUP:1802                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span>num_positionals
<span style="color:black">RESGROUP:1806                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:1808                 </span><span style="color:navy">mov     </span>old_parse_ptr<span style="color:navy">, si</span>
<span style="color:black">RESGROUP:180C                 </span><span style="color:navy">call    dword ptr </span>Init_Parse ; call far [Init_Parse]
<span style="color:black">RESGROUP:1810                 </span><span style="color:navy">mov     </span>num_positionals<span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:1814                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">RESGROUP:1817                 </span><span style="color:navy">jnz     short </span>t1
<span style="color:black">RESGROUP:1819                 </span><span style="color:navy">jmp     </span>ArgsDone
<span style="color:black">RESGROUP:181C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:181C
</span><span style="color:black">RESGROUP:181C </span>t1<span style="color:navy">:                                     </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:181C                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:181F                 </span><span style="color:navy">jz      short </span>parse_cont
<span style="color:black">RESGROUP:1821
</span><span style="color:black">RESGROUP:1821 </span>parse_line_error<span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1821                 </span><span style="color:navy">push    si</span>
<span style="color:black">RESGROUP:1822                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:1823                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">RESGROUP:1826                 </span><span style="color:navy">jnz     short </span>parse_line_error_disp
<span style="color:black">RESGROUP:1828                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">RESGROUP:182A                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span>old_parse_ptr
<span style="color:black">RESGROUP:182E
</span><span style="color:black">RESGROUP:182E </span>init_chk_delim<span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:182E                 </span><span style="color:navy">cmp     si</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1830                 </span><span style="color:navy">jz      short </span>parse_line_error_disp
<span style="color:black">RESGROUP:1832                 </span><span style="color:navy">lodsb
</span><span style="color:black">RESGROUP:1833                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span>space
<span style="color:black">RESGROUP:1837                 </span><span style="color:navy">jz      short </span>init_chk_delim
<span style="color:black">RESGROUP:1839                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">RESGROUP:183B                 </span><span style="color:navy">jz      short </span>init_chk_delim
<span style="color:black">RESGROUP:183D                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span>RSwitChar
<span style="color:black">RESGROUP:1841                 </span><span style="color:navy">jnz     short </span>parse_line_error_disp
<span style="color:black">RESGROUP:1843                 </span><span style="color:navy">lodsb
</span><span style="color:black">RESGROUP:1844                 </span><span style="color:navy">call    </span>iupconv
<span style="color:black">RESGROUP:1847                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span>scswitch
<span style="color:black">RESGROUP:184B                 </span><span style="color:navy">jnz     short </span>check_k_too
<span style="color:black">RESGROUP:184D                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">RESGROUP:184E                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">RESGROUP:184F                 </span><span style="color:navy">jmp     </span>SetSSwitch
<span style="color:black">RESGROUP:1852 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1852
</span><span style="color:black">RESGROUP:1852 </span>check_k_too<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1852                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span>skswitch
<span style="color:black">RESGROUP:1856                 </span><span style="color:navy">jnz     short </span>parse_line_error_disp
<span style="color:black">RESGROUP:1858                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">RESGROUP:1859                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">RESGROUP:185A                 </span><span style="color:navy">jmp     </span>SetKSwitch
<span style="color:black">RESGROUP:185D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:185D
</span><span style="color:black">RESGROUP:185D </span>parse_line_error_disp<span style="color:navy">:                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:185D                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:185E                 </span><span style="color:navy">pop     si</span>
<span style="color:black">RESGROUP:185F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1861                 </span><span style="color:navy">call    </span>RPrintParse
<span style="color:black">RESGROUP:1864                 </span><span style="color:navy">call    </span>crlf
<span style="color:black">RESGROUP:1867                 </span><span style="color:navy">jmp     short </span>Parse_command_line
<span style="color:black">RESGROUP:1869 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1869
</span><span style="color:black">RESGROUP:1869 </span>parse_cont<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1869                 </span><span style="color:navy">cmp     </span>COMND1_SYN<span style="color:navy">, offset </span>COMMAND_F_SYN <span style="color:gray">; &quot;/F&quot;
</span><span style="color:black">RESGROUP:186F                 </span><span style="color:navy">jz      short </span>SetFSwitch
<span style="color:black">RESGROUP:1871                 </span><span style="color:navy">cmp     </span>COMND1_SYN<span style="color:navy">, offset </span>COMMAND_P_SYN <span style="color:gray">; &quot;/P&quot;
</span><span style="color:black">RESGROUP:1877                 </span><span style="color:navy">jz      short </span>SetPSwitch
<span style="color:black">RESGROUP:1879                 </span><span style="color:navy">cmp     </span>COMND1_SYN<span style="color:navy">, offset </span>COMMAND_D_SYN <span style="color:gray">; &quot;/D&quot;
</span><span style="color:black">RESGROUP:187F                 </span><span style="color:navy">jz      short </span>SetDSwitch
<span style="color:black">RESGROUP:1881                 </span><span style="color:navy">cmp     </span>COMND1_SYN<span style="color:navy">, offset </span>COMMAND_C_SYN <span style="color:gray">; &quot;/C&quot;
</span><span style="color:black">RESGROUP:1887                 </span><span style="color:navy">jnz     short </span>parse_cont_1
<span style="color:black">RESGROUP:1889                 </span><span style="color:navy">jmp     </span>SetSSwitch
<span style="color:black">RESGROUP:188C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:188C
</span><span style="color:black">RESGROUP:188C </span>parse_cont_1<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:188C                 </span><span style="color:navy">cmp     </span>COMND1_SYN<span style="color:navy">, offset </span>COMMAND_K_SYN <span style="color:gray">; &quot;/K&quot;
</span><span style="color:black">RESGROUP:1892                 </span><span style="color:navy">jz      short </span>SetKSwitch
<span style="color:black">RESGROUP:1894                 </span><span style="color:navy">cmp     </span>COMND1_SYN<span style="color:navy">, offset </span>COMMAND_E_SYN <span style="color:gray">; &quot;/E&quot;
</span><span style="color:black">RESGROUP:189A                 </span><span style="color:navy">jnz     short </span>parse_cont_2
<span style="color:black">RESGROUP:189C                 </span><span style="color:navy">jmp     </span>SetESwitch
<span style="color:black">RESGROUP:189F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:189F
</span><span style="color:black">RESGROUP:189F </span>parse_cont_2<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:189F                 </span><span style="color:navy">cmp     </span>COMND1_SYN<span style="color:navy">, offset </span>COMMAND_Y_SYN <span style="color:gray">; &quot;/Y&quot;
</span><span style="color:black">RESGROUP:18A5                 </span><span style="color:navy">jnz     short </span>parse_cont_3
<span style="color:black">RESGROUP:18A7                 </span><span style="color:navy">jmp     </span>SetYSwitch
<span style="color:black">RESGROUP:18AA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:18AA
</span><span style="color:black">RESGROUP:18AA </span>parse_cont_3<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:18AA                 </span><span style="color:navy">cmp     </span>COMND1_SYN<span style="color:navy">, offset </span>COMMAND_M_SYN <span style="color:gray">; &quot;/MSG&quot;
</span><span style="color:black">RESGROUP:18B0                 </span><span style="color:navy">jz      short </span>SetMSwitchjmp
<span style="color:black">RESGROUP:18B2                 </span><span style="color:navy">jmp     </span>ChkOtherArgs
<span style="color:black">RESGROUP:18B5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:18B5
</span><span style="color:black">RESGROUP:18B5 </span>SetMSwitchjmp<span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:18B5                 </span><span style="color:navy">jmp     </span>SetMswitch
<span style="color:black">RESGROUP:18B8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:18B8
</span><span style="color:black">RESGROUP:18B8 </span>SetFSwitch<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:18B8                 </span><span style="color:navy">cmp     </span>fFail<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>     ; -1
<span style="color:black">RESGROUP:18BD                 </span><span style="color:navy">jnz     short </span>failok
<span style="color:black">RESGROUP:18BF                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:18C2                 </span><span style="color:navy">jmp     </span>parse_line_error
<span style="color:black">RESGROUP:18C5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:18C5
</span><span style="color:black">RESGROUP:18C5 </span>failok<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:18C5                 </span><span style="color:navy">mov     </span>fFail<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">RESGROUP:18CA                 </span><span style="color:navy">jmp     </span>Parse_command_line
<span style="color:black">RESGROUP:18CD </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:18CD
</span><span style="color:black">RESGROUP:18CD </span>SetPSwitch<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:18CD                 </span><span style="color:navy">cmp     </span>PermCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:18D2                 </span><span style="color:navy">jz      short </span>permcomok
<span style="color:black">RESGROUP:18D4                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:18D7                 </span><span style="color:navy">jmp     </span>parse_line_error
<span style="color:black">RESGROUP:18DA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:18DA
</span><span style="color:black">RESGROUP:18DA </span>permcomok<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:18DA                 </span><span style="color:navy">inc     </span>PermCom
<span style="color:black">RESGROUP:18DE                 </span><span style="color:navy">mov     </span>OldTerm<span style="color:navy">, offset </span>LodCom_Trap
<span style="color:black">RESGROUP:18E4                 </span><span style="color:navy">mov     </span>OldTerm<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:18E8                 </span><span style="color:navy">cmp     </span>PRDATTM<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>   ; -1
<span style="color:black">RESGROUP:18ED                 </span><span style="color:navy">jnz     short </span>Parse_command_line_jmp
<span style="color:black">RESGROUP:18EF                 </span><span style="color:navy">mov     </span>PRDATTM<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:18F4
</span><span style="color:black">RESGROUP:18F4 </span>Parse_command_line_jmp<span style="color:navy">:                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:18F4                 </span><span style="color:navy">jmp     </span>Parse_command_line
<span style="color:black">RESGROUP:18F7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:18F7
</span><span style="color:black">RESGROUP:18F7 </span>SetDSwitch<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:18F7                 </span><span style="color:navy">cmp     </span>dswitch<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:18FC                 </span><span style="color:navy">jz      short </span>setdateok
<span style="color:black">RESGROUP:18FE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:1901                 </span><span style="color:navy">jmp     </span>parse_line_error
<span style="color:black">RESGROUP:1904 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1904
</span><span style="color:black">RESGROUP:1904 </span>setdateok<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1904                 </span><span style="color:navy">inc     </span>dswitch
<span style="color:black">RESGROUP:1908                 </span><span style="color:navy">mov     </span>PRDATTM<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:190D                 </span><span style="color:navy">jmp     </span>Parse_command_line
<span style="color:black">RESGROUP:1910 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1910
</span><span style="color:black">RESGROUP:1910 </span>SetKSwitch<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1910                 </span><span style="color:navy">mov     </span>SemiPermCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1916                 </span><span style="color:navy">jmp     short </span>SetSorKSwitch
<span style="color:black">RESGROUP:1918 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1918
</span><span style="color:black">RESGROUP:1918 </span>SetSSwitch<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1918                 </span><span style="color:navy">mov     </span>PermCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:191D
</span><span style="color:black">RESGROUP:191D </span>SetSorKSwitch<span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:191D                 </span><span style="color:navy">mov     </span>SingleCom<span style="color:navy">, si</span>
<span style="color:black">RESGROUP:1921                 </span><span style="color:navy">mov     </span>PRDATTM<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:1926                 </span><span style="color:navy">jmp     </span>ArgsDone
<span style="color:black">RESGROUP:1929 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1929
</span><span style="color:black">RESGROUP:1929 </span>SetESwitch<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1929                 </span><span style="color:navy">cmp     </span>eswitch<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:192E                 </span><span style="color:navy">jz      short </span>eswitchok
<span style="color:black">RESGROUP:1930                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; MoreArgs_Ptr
<span style="color:black">RESGROUP:1933                 </span><span style="color:navy">jmp     </span>parse_line_error
<span style="color:black">RESGROUP:1936 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1936
</span><span style="color:black">RESGROUP:1936 </span>eswitchok<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1936                 </span><span style="color:navy">inc     </span>eswitch
<span style="color:black">RESGROUP:193A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>COMND1_ADDR
<span style="color:black">RESGROUP:193D                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, [di]</span>
<span style="color:black">RESGROUP:193F                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:#ff8000">0Fh</span>
<span style="color:black">RESGROUP:1942                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:1944                 </span><span style="color:navy">shr     bx</span><span style="color:navy">, cl</span>
<span style="color:black">RESGROUP:1946                 </span><span style="color:navy">mov     </span>EnvSiz<span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:194A                 </span><span style="color:navy">jmp     </span>Parse_command_line
<span style="color:black">RESGROUP:194D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:194D
</span><span style="color:black">RESGROUP:194D </span>SetMswitch<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:194D                 </span><span style="color:navy">cmp     </span>ext_msg<span style="color:navy">, </span><span style="color:#ff8000">1</span>      ; SET_EXTENDED_MSG
<span style="color:black">RESGROUP:1952                 </span><span style="color:navy">jnz     short </span>setMswitchok
<span style="color:black">RESGROUP:1954                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; MoreArgs_Ptr
<span style="color:black">RESGROUP:1957                 </span><span style="color:navy">jmp     </span>parse_line_error
<span style="color:black">RESGROUP:195A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:195A
</span><span style="color:black">RESGROUP:195A </span>setMswitchok<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:195A                 </span><span style="color:navy">mov     </span>ext_msg<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:195F                 </span><span style="color:navy">jmp     </span>Parse_command_line
<span style="color:black">RESGROUP:1962 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1962
</span><span style="color:black">RESGROUP:1962 </span>SetYSwitch<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1962                 </span><span style="color:navy">or      byte ptr </span>Y_Flag<span style="color:navy">, </span><span style="color:green">10h</span>
<span style="color:black">RESGROUP:1967                 </span><span style="color:navy">jmp     </span>Parse_command_line
<span style="color:black">RESGROUP:1967 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR StartCode
</span><span style="color:maroon">RESGROUP:196A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:196A                 </span><span style="color:navy">jmp     </span>ArgsDone
<span style="color:black">RESGROUP:196D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:196D </span><span style="color:gray">; START OF FUNCTION CHUNK FOR StartCode
</span><span style="color:black">RESGROUP:196D
</span><span style="color:black">RESGROUP:196D </span>ChkOtherArgs<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:196D                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:196E                 </span><span style="color:navy">push    si</span>
<span style="color:black">RESGROUP:196F                 </span><span style="color:navy">lds     si</span><span style="color:navy">, </span>COMND1_ADDR
<span style="color:black">RESGROUP:1973                 </span>assume ds:nothing
<span style="color:black">RESGROUP:1973                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, si</span>
<span style="color:black">RESGROUP:1975                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3D02h</span>
<span style="color:black">RESGROUP:1978                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - OPEN DISK FILE WITH HANDLE
<span style="color:black">RESGROUP:1978                                         </span>; DS:DX -&gt; ASCIZ filename
<span style="color:black">RESGROUP:1978                                         </span>; AL = access mode
<span style="color:black">RESGROUP:1978                                         </span>; 2 - read &amp; write
<span style="color:black">RESGROUP:197A                 </span><span style="color:navy">jb      short </span>ChkSrchSpec
<span style="color:black">RESGROUP:197C                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:197E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4400h</span>
<span style="color:black">RESGROUP:1981                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - GET DEVICE INFORMATION
<span style="color:black">RESGROUP:1981                                         </span>; BX = file or device handle
<span style="color:black">RESGROUP:1983                 </span><span style="color:navy">test    dl</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">RESGROUP:1986                 </span><span style="color:navy">jnz     short </span>IsaDevice
<span style="color:black">RESGROUP:1988
</span><span style="color:black">RESGROUP:1988 </span>BadSetCon<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1988                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">RESGROUP:198A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">RESGROUP:198A                                         </span>; BX = file handle
<span style="color:black">RESGROUP:198C                 </span><span style="color:navy">jmp     short </span>ChkSrchSpec
<span style="color:black">RESGROUP:198E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:198E
</span><span style="color:black">RESGROUP:198E </span>IsaDevice<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:198E                 </span><span style="color:navy">xor     dh</span><span style="color:navy">, dh</span>
<span style="color:black">RESGROUP:1990                 </span><span style="color:navy">or      dl</span><span style="color:navy">, </span><span style="color:green">3</span>
<span style="color:black">RESGROUP:1993                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4401h</span>
<span style="color:black">RESGROUP:1996                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - SET DEVICE INFORMATION
<span style="color:black">RESGROUP:1996                                         </span>; BX = device handle, DH = 0
<span style="color:black">RESGROUP:1996                                         </span>; DL = device information to set (bits 0-7 from function 0)
<span style="color:black">RESGROUP:1998                 </span><span style="color:navy">jb      short </span>BadSetCon
<span style="color:black">RESGROUP:199A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:199C                 </span><span style="color:navy">cmp     es:</span>DevFlag<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:19A2                 </span><span style="color:navy">jz      short </span>DevErr
<span style="color:black">RESGROUP:19A4                 </span><span style="color:navy">push    cx</span>
<span style="color:black">RESGROUP:19A5                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">RESGROUP:19A8                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:19AA
</span><span style="color:black">RESGROUP:19AA </span>rcclloop<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:19AA                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">RESGROUP:19AC                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">RESGROUP:19AC                                         </span>; BX = file handle
<span style="color:black">RESGROUP:19AE                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">RESGROUP:19AF                 </span><span style="color:navy">loop    </span>rcclloop
<span style="color:black">RESGROUP:19B1                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:19B3                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">45h</span>
<span style="color:black">RESGROUP:19B5                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
<span style="color:black">RESGROUP:19B5                                         </span>; BX = file handle to duplicate
<span style="color:black">RESGROUP:19B7                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">45h</span>
<span style="color:black">RESGROUP:19B9                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
<span style="color:black">RESGROUP:19B9                                         </span>; BX = file handle to duplicate
<span style="color:black">RESGROUP:19BB                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">45h</span>
<span style="color:black">RESGROUP:19BD                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
<span style="color:black">RESGROUP:19BD                                         </span>; BX = file handle to duplicate
<span style="color:black">RESGROUP:19BF                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">RESGROUP:19C1                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">RESGROUP:19C1                                         </span>; BX = file handle
<span style="color:black">RESGROUP:19C3                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">RESGROUP:19C4                 </span><span style="color:navy">pop     si</span>
<span style="color:black">RESGROUP:19C5                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:19C6                 </span><span style="color:navy">inc     es:</span>DevFlag
<span style="color:black">RESGROUP:19CB                 </span><span style="color:navy">jmp     </span>Parse_command_line
<span style="color:black">RESGROUP:19CE </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:19CE
</span><span style="color:black">RESGROUP:19CE </span>DevErr<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:19CE                 </span><span style="color:navy">pop     si</span>
<span style="color:black">RESGROUP:19CF                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:19D0                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:19D3                 </span><span style="color:navy">call    </span>RPrintParse
<span style="color:black">RESGROUP:19D6                 </span><span style="color:navy">call    </span>crlf
<span style="color:black">RESGROUP:19D9                 </span><span style="color:navy">jmp     </span>Parse_command_line
<span style="color:black">RESGROUP:19DC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:19DC
</span><span style="color:black">RESGROUP:19DC </span>ChkSrchSpec<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:19DC                 </span><span style="color:navy">cmp     es:</span>PathFlag<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:19E2                 </span><span style="color:navy">jz      short </span>DevErr
<span style="color:black">RESGROUP:19E4                 </span><span style="color:navy">inc     es:</span>PathFlag
<span style="color:black">RESGROUP:19E9                 </span><span style="color:navy">call    </span>alloc_env
<span style="color:black">RESGROUP:19EC
</span><span style="color:black">RESGROUP:19EC </span>env_alloced<span style="color:navy">:
</span><span style="color:black">RESGROUP:19EC                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:19EE                 </span><span style="color:navy">push    si</span>
<span style="color:black">RESGROUP:19EF                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:19F1
</span><span style="color:black">RESGROUP:19F1 </span>countloop<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:19F1                 </span><span style="color:navy">lodsb
</span><span style="color:black">RESGROUP:19F2                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">RESGROUP:19F3                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:19F5                 </span><span style="color:navy">jnz     short </span>countloop
<span style="color:black">RESGROUP:19F7                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ss:</span>space
<span style="color:black">RESGROUP:19FB                 </span><span style="color:navy">dec     si</span>
<span style="color:black">RESGROUP:19FC                 </span><span style="color:navy">mov     [si]</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:19FE                 </span><span style="color:navy">push    cx</span>
<span style="color:black">RESGROUP:19FF                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">32768</span>       ; ENVBIG
<span style="color:black">RESGROUP:1A02                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ss:</span>ComspOffset
<span style="color:black">RESGROUP:1A07                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1A09                 </span><span style="color:navy">repne scasb
</span><span style="color:black">RESGROUP:1A0B                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1A0D
</span><span style="color:black">RESGROUP:1A0D </span>comp_endenv<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1A0D                 </span><span style="color:navy">scasb
</span><span style="color:black">RESGROUP:1A0E                 </span><span style="color:navy">jz      short </span>got_endenv
<span style="color:black">RESGROUP:1A10                 </span><span style="color:navy">repne scasb
</span><span style="color:black">RESGROUP:1A12                 </span><span style="color:navy">jmp     short </span>comp_endenv
<span style="color:black">RESGROUP:1A14 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1A14
</span><span style="color:black">RESGROUP:1A14 </span>got_endenv<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1A14                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1A16                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, si</span>
<span style="color:black">RESGROUP:1A18                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ss:</span>ComspOffset
<span style="color:black">RESGROUP:1A1D                 </span><span style="color:navy">sub     di</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; ComspStrLen
<span style="color:black">RESGROUP:1A21                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1A22                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1A23                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1A24                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:1A26                 </span><span style="color:navy">dec     di</span>
<span style="color:black">RESGROUP:1A27                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:1A28                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1A29                 </span>assume ds:RESGROUP
<span style="color:black">RESGROUP:1A29                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ComspString <span style="color:gray">; &quot;COMSPEC=\\COMMAND.COM&quot;
</span><span style="color:black">RESGROUP:1A2C                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:black">RESGROUP:1A2F                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:1A31                 </span><span style="color:navy">mov     </span>ComspOffset<span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1A35                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1A36                 </span>assume ds:nothing
<span style="color:black">RESGROUP:1A36                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">RESGROUP:1A37                 </span><span style="color:navy">pop     si</span>
<span style="color:black">RESGROUP:1A38
</span><span style="color:black">RESGROUP:1A38 </span>ComtrLoop<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1A38                 </span><span style="color:navy">lodsb
</span><span style="color:black">RESGROUP:1A39                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">RESGROUP:1A3A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ss:</span>space
<span style="color:black">RESGROUP:1A3F                 </span><span style="color:navy">jz      short </span>SetComsr
<span style="color:black">RESGROUP:1A41                 </span><span style="color:navy">stosb
</span><span style="color:black">RESGROUP:1A42                 </span><span style="color:navy">jcxz    short </span>SetComsr
<span style="color:black">RESGROUP:1A44                 </span><span style="color:navy">jmp     short </span>ComtrLoop
<span style="color:black">RESGROUP:1A46 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1A46
</span><span style="color:black">RESGROUP:1A46 </span>SetComsr<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1A46                 </span><span style="color:navy">push    cx</span>
<span style="color:black">RESGROUP:1A47                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:1A48                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1A49                 </span>assume ds:RESGROUP
<span style="color:black">RESGROUP:1A49                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1A4A                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>COMSPECT <span style="color:gray">; &quot;\\COMMAND.COM&quot;
</span><span style="color:black">RESGROUP:1A4D                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">14</span>
<span style="color:black">RESGROUP:1A50                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di-</span><span style="color:green">1</span><span style="color:navy">]</span>
<span style="color:black">RESGROUP:1A54                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span>RDirChar
<span style="color:black">RESGROUP:1A58                 </span><span style="color:navy">jnz     short </span>iNotRoot
<span style="color:black">RESGROUP:1A5A                 </span><span style="color:navy">inc     si</span>
<span style="color:black">RESGROUP:1A5B                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">RESGROUP:1A5C
</span><span style="color:black">RESGROUP:1A5C </span>iNotRoot<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1A5C                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:1A5E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span>ComspOffset
<span style="color:black">RESGROUP:1A62                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1A63                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1A64                 </span>assume ds:nothing
<span style="color:black">RESGROUP:1A64                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3D00h</span>
<span style="color:black">RESGROUP:1A67                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - OPEN DISK FILE WITH HANDLE
<span style="color:black">RESGROUP:1A67                                         </span>; DS:DX -&gt; ASCIZ filename
<span style="color:black">RESGROUP:1A67                                         </span>; AL = access mode
<span style="color:black">RESGROUP:1A67                                         </span>; 0 - read
<span style="color:black">RESGROUP:1A69                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1A6A                 </span><span style="color:navy">jb      short </span>SetComsrBad
<span style="color:black">RESGROUP:1A6C                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1A6E                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">RESGROUP:1A70                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">RESGROUP:1A70                                         </span>; BX = file handle
<span style="color:black">RESGROUP:1A72
</span><span style="color:black">RESGROUP:1A72 </span>SetComsrRet<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1A72                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">RESGROUP:1A73                 </span><span style="color:navy">pop     si</span>
<span style="color:black">RESGROUP:1A74                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1A75                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:1A76                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:1A77                 </span>assume es:RESGROUP
<span style="color:black">RESGROUP:1A77                 </span><span style="color:navy">jmp     </span>Parse_command_line
<span style="color:black">RESGROUP:1A7A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1A7A
</span><span style="color:black">RESGROUP:1A7A </span>SetComsrBad<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1A7A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADCOMLKMES
<span style="color:black">RESGROUP:1A7D                 </span><span style="color:navy">call    </span><span style="background:red"><span style="color:black">5A1Ch</span></span>           ; call TriageError (in TRANSCODE)
<span style="color:black">RESGROUP:1A7D                                         </span>; 26E0h+333Ch
<span style="color:black">RESGROUP:1A80                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">65</span>
<span style="color:black">RESGROUP:1A83                 </span><span style="color:navy">jnz     short </span>doprt
<span style="color:black">RESGROUP:1A85                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADCOMACCMSG
<span style="color:black">RESGROUP:1A88
</span><span style="color:black">RESGROUP:1A88 </span>doprt<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1A88                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:1A8B                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>COMSPECT <span style="color:gray">; &quot;\\COMMAND.COM&quot;
</span><span style="color:black">RESGROUP:1A8E                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ds:</span>ComspOffset
<span style="color:black">RESGROUP:1A92                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">14</span>
<span style="color:black">RESGROUP:1A95                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:1A97                 </span><span style="color:navy">jmp     short </span>SetComsrRet
<span style="color:black">RESGROUP:1A99 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1A99
</span><span style="color:black">RESGROUP:1A99 </span>ArgsDone<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1A99                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>EnvirSeg
<span style="color:black">RESGROUP:1A9D                 </span>assume es:nothing
<span style="color:black">RESGROUP:1A9D                 </span><span style="color:navy">cmp     ds:</span>PermCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1AA2                 </span><span style="color:navy">jz      short </span>ComReturns
<span style="color:black">RESGROUP:1AA4                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1AA5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">50h</span>
<span style="color:black">RESGROUP:1AA7                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1AA9                 </span><span style="color:navy">mov     es</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:1AAB                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ internal - SET PSP SEGMENT
<span style="color:black">RESGROUP:1AAB                                         </span>; BX = segment address of new PSP
<span style="color:black">RESGROUP:1AAD                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:#ff8000">0Ah</span>         ; PDB.EXIT
<span style="color:black">RESGROUP:1AB0                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, offset </span>LodCom_Trap
<span style="color:black">RESGROUP:1AB3                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:1AB4                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1AB6                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:1AB7                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, offset </span>Ctrlc_Trap
<span style="color:black">RESGROUP:1ABA                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:1ABB                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1ABD                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:1ABE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, offset </span>CritErr_Trap
<span style="color:black">RESGROUP:1AC1                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:1AC2                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1AC4                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:1AC5                 </span><span style="color:navy">mov     word ptr ds:</span><span style="color:green">16h</span><span style="color:navy">, ds</span> ; [PDB.PARENT_PID]
<span style="color:black">RESGROUP:1AC9                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>Int2e_Trap
<span style="color:black">RESGROUP:1ACC                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">252Eh</span>
<span style="color:black">RESGROUP:1ACF                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET INTERRUPT VECTOR
<span style="color:black">RESGROUP:1ACF                                         </span>; AL = interrupt number
<span style="color:black">RESGROUP:1ACF                                         </span>; DS:DX = new vector to be used for specified interrupt
<span style="color:black">RESGROUP:1AD1                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:1AD2
</span><span style="color:black">RESGROUP:1AD2 </span>ComReturns<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1AD2                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span><span style="color:green">16h</span>      ; [PDB.PARENT_PID]
<span style="color:black">RESGROUP:1AD5                 </span><span style="color:navy">mov     ds:</span>Parent<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1AD8                 </span><span style="color:navy">mov     word ptr ds:</span><span style="color:green">16h</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1ADC                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span><span style="color:green">18h</span>      ; [PDB.JFN_TABLE]
<span style="color:black">RESGROUP:1ADF                 </span><span style="color:navy">mov     ds:</span>Io_Save<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1AE2                 </span><span style="color:navy">mov     ds:</span>Com_Ptr<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1AE6                 </span><span style="color:navy">mov     ds:</span>Com_Fcb1<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1AEA                 </span><span style="color:navy">mov     ds:</span>Com_Fcb2<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1AEE                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>ComSpec
<span style="color:black">RESGROUP:1AF1                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>ComspOffset
<span style="color:black">RESGROUP:1AF5                 </span><span style="color:navy">cmp     ds:</span>AllocedEnv<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1AFA                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1AFC                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1AFD                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1AFE                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1B00                 </span><span style="color:navy">jnz     short </span>CopyComsp
<span style="color:black">RESGROUP:1B02                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:1B03                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1B04                 </span>assume ds:RESGROUP
<span style="color:black">RESGROUP:1B04                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ComspString <span style="color:gray">; &quot;COMSPEC=\\COMMAND.COM&quot;
</span><span style="color:black">RESGROUP:1B07                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1B08                 </span><span style="color:navy">push    di</span>
<span style="color:black">RESGROUP:1B09                 </span><span style="color:navy">call    </span>IfindE
<span style="color:black">RESGROUP:1B0C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1B0E                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1B0F                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1B10                 </span>assume ds:nothing
<span style="color:black">RESGROUP:1B10                 </span><span style="color:navy">pop     di</span>
<span style="color:black">RESGROUP:1B11                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:1B12                 </span><span style="color:navy">jnb     short </span>CopyComsp
<span style="color:black">RESGROUP:1B14                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ComspString <span style="color:gray">; &quot;COMSPEC=\\COMMAND.COM&quot;
</span><span style="color:black">RESGROUP:1B17                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; ComspStrLen
<span style="color:black">RESGROUP:1B1B                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:1B1C                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1B1D                 </span>assume ds:RESGROUP
<span style="color:black">RESGROUP:1B1D
</span><span style="color:black">RESGROUP:1B1D </span>CopyComsp<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1B1D                 </span><span style="color:navy">mov     es:</span>PutBackComSpec<span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1B22                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">RESGROUP:1B26                 </span><span style="color:navy">jnz     short </span>CopyComspLoop
<span style="color:black">RESGROUP:1B28                 </span><span style="color:navy">add     es:</span>PutBackComSpec<span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">RESGROUP:1B2E
</span><span style="color:black">RESGROUP:1B2E </span>CopyComspLoop<span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1B2E                 </span><span style="color:navy">lodsb
</span><span style="color:black">RESGROUP:1B2F                 </span><span style="color:navy">stosb
</span><span style="color:black">RESGROUP:1B30                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:1B32                 </span><span style="color:navy">jnz     short </span>CopyComspLoop
<span style="color:black">RESGROUP:1B34                 </span><span style="color:navy">mov     es:</span>ComSpec_End<span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1B39                 </span><span style="color:navy">dec     es:</span>ComSpec_End
<span style="color:black">RESGROUP:1B3E                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, es:</span>ComDrv
<span style="color:black">RESGROUP:1B43                 </span><span style="color:navy">add     ah</span><span style="color:navy">, </span><span style="color:green">40h</span>         ; 'A' - 1
<span style="color:black">RESGROUP:1B46                 </span><span style="color:navy">mov     es:</span>PutBackDrv<span style="color:navy">, ah</span>
<span style="color:black">RESGROUP:1B4B                 </span><span style="color:navy">call    </span>setup_for_messages
<span style="color:black">RESGROUP:1B4E                 </span><span style="color:navy">call    </span>Setup_res_end
<span style="color:black">RESGROUP:1B51                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:1B52                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1B53
</span><span style="color:black">RESGROUP:1B53 </span>EnvMaximum<span style="color:navy">:                             </span>; offset RESGROUP:TranStart
<span style="color:black">RESGROUP:1B53                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:#ff8000">26E0h</span>
<span style="color:black">RESGROUP:1B56                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">100h</span>        ; TRANSTART+100h
<span style="color:black">RESGROUP:1B5A                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">9D53h</span>       ; offset TRANGROUP:TranDataEnd - 100h
<span style="color:black">RESGROUP:1B5D                 </span><span style="color:navy">cld
</span><span style="color:black">RESGROUP:1B5E                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1B60                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:1B62
</span><span style="color:black">RESGROUP:1B62 </span>Ichksum<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1B62                 </span><span style="color:navy">lodsw
</span><span style="color:black">RESGROUP:1B63                 </span><span style="color:navy">add     dx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1B65                 </span><span style="color:navy">adc     dx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1B68                 </span><span style="color:navy">loop    </span>Ichksum
<span style="color:black">RESGROUP:1B6A                 </span><span style="color:navy">mov     </span>Sum<span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:1B6E                 </span><span style="color:navy">cmp     </span>PRDATTM<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1B73                 </span><span style="color:navy">jnz     short </span>NoBatchSeg
<span style="color:black">RESGROUP:1B75                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; ((BATCHSEGMENT.SIZE)+16+0Fh)/16
<span style="color:black">RESGROUP:1B75                                         </span>; (33+16+15)/16
<span style="color:black">RESGROUP:1B78                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>
<span style="color:black">RESGROUP:1B7A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:black">RESGROUP:1B7A                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:black">RESGROUP:1B7C                 </span><span style="color:navy">jb      short </span>NoBatchSeg
<span style="color:black">RESGROUP:1B7E                 </span><span style="color:navy">mov     </span>Batch<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1B81
</span><span style="color:black">RESGROUP:1B81 </span>NoBatchSeg<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1B81                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span>EnvirSeg
<span style="color:black">RESGROUP:1B85                 </span><span style="color:navy">mov     </span>OldEnv<span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:1B89                 </span><span style="color:navy">mov     </span>UsedEnv<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1B8F                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:1B91                 </span>assume ds:nothing
<span style="color:black">RESGROUP:1B91                 </span><span style="color:navy">xor     si</span><span style="color:navy">, si</span>
<span style="color:black">RESGROUP:1B93                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">RESGROUP:1B95                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">0FFFh</span>       ; 4096 - 1
<span style="color:black">RESGROUP:1B98                 </span><span style="color:navy">mov     ss:</span>EnvMax<span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:1B9D                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1B9F                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1BA1                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1BA3                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1BA5                 </span><span style="color:navy">mov     ss:</span>EnvMax<span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:1BAA                 </span><span style="color:navy">dec     bx</span>
<span style="color:black">RESGROUP:1BAB                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:1BAD
</span><span style="color:black">RESGROUP:1BAD </span>NxtStr<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1BAD                 </span><span style="color:navy">call    </span>GetStrLen
<span style="color:black">RESGROUP:1BB0                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1BB1                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:1BB2                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1BB3                 </span>assume ds:RESGROUP
<span style="color:black">RESGROUP:1BB3                 </span><span style="color:navy">add     </span>UsedEnv<span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:1BB7                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1BB8                 </span>assume ds:nothing
<span style="color:black">RESGROUP:1BB8                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:1BBB                 </span><span style="color:navy">jz      short </span>EnvExit
<span style="color:black">RESGROUP:1BBD                 </span><span style="color:navy">sub     bx</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:1BBF                 </span><span style="color:navy">jnb     short </span>OkCpyStr
<span style="color:black">RESGROUP:1BC1                 </span><span style="color:navy">inc     dx</span>
<span style="color:black">RESGROUP:1BC2                 </span><span style="color:navy">jmp     short </span>EnvExit
<span style="color:black">RESGROUP:1BC4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1BC4
</span><span style="color:black">RESGROUP:1BC4 </span>OkCpyStr<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1BC4                 </span><span style="color:navy">jmp     short </span>NxtStr
<span style="color:black">RESGROUP:1BC6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1BC6
</span><span style="color:black">RESGROUP:1BC6 </span>EnvExit<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1BC6                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:1BC7                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1BC8                 </span>assume ds:RESGROUP
<span style="color:black">RESGROUP:1BC8                 </span><span style="color:navy">or      dx</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:1BCA                 </span><span style="color:navy">jz      short </span>EnvNoErr
<span style="color:black">RESGROUP:1BCC                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>OUTENVMSG
<span style="color:black">RESGROUP:1BCF                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:1BD2
</span><span style="color:black">RESGROUP:1BD2 </span>EnvNoErr<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1BD2                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span>EnvSiz
<span style="color:black">RESGROUP:1BD5                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:1BD7                 </span><span style="color:navy">shl     ax</span><span style="color:navy">, cl</span>
<span style="color:black">RESGROUP:1BD9                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span>UsedEnv
<span style="color:black">RESGROUP:1BDD                 </span><span style="color:navy">ja      short </span>st_envsize
<span style="color:black">RESGROUP:1BDF                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span>UsedEnv
<span style="color:black">RESGROUP:1BE2                 </span><span style="color:navy">add     ax</span><span style="color:navy">, </span><span style="color:green">15</span>
<span style="color:black">RESGROUP:1BE5
</span><span style="color:black">RESGROUP:1BE5 </span>st_envsize<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1BE5                 </span><span style="color:navy">shr     ax</span><span style="color:navy">, cl</span>
<span style="color:black">RESGROUP:1BE7                 </span><span style="color:navy">mov     </span>EnvSiz<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1BEA                 </span><span style="color:navy">cmp     </span>Batch<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1BEF                 </span><span style="color:navy">jnz     short </span>DoDate
<span style="color:black">RESGROUP:1BF1                 </span><span style="color:navy">jmp     </span>NoDttm
<span style="color:black">RESGROUP:1BF4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1BF4
</span><span style="color:black">RESGROUP:1BF4 </span>DoDate<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1BF4                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span>Batch
<span style="color:black">RESGROUP:1BF7                 </span><span style="color:navy">mov     </span>EchoFlag<span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">RESGROUP:1BFC                 </span><span style="color:navy">mov     </span>Nest<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:1C02                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1C04                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1C06                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1C08                 </span><span style="color:navy">stosb
</span><span style="color:black">RESGROUP:1C09                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:1C0B                 </span><span style="color:navy">stosb
</span><span style="color:black">RESGROUP:1C0C                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1C0E                 </span><span style="color:navy">stosb
</span><span style="color:black">RESGROUP:1C0F                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:1C10                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:1C11                 </span><span style="color:navy">stosb
</span><span style="color:black">RESGROUP:1C12                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:1C13                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:1C14                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">RESGROUP:1C17                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">10</span>
<span style="color:black">RESGROUP:1C1A                 </span><span style="color:navy">rep stosw
</span><span style="color:black">RESGROUP:1C1C                 </span><span style="color:navy">cmp     </span>AUTOBAT<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1C21                 </span><span style="color:navy">jnz     short </span>NoAutSet
<span style="color:black">RESGROUP:1C23                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">19h</span>
<span style="color:black">RESGROUP:1C25                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET DEFAULT DISK NUMBER
<span style="color:black">RESGROUP:1C27                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span>ucasea
<span style="color:black">RESGROUP:1C2B                 </span><span style="color:navy">mov     </span>AUTOBAT<span style="color:navy">, al</span>
<span style="color:black">RESGROUP:1C2E                 </span><span style="color:navy">mov     </span>KAUTOBAT<span style="color:navy">, al</span>
<span style="color:black">RESGROUP:1C31
</span><span style="color:black">RESGROUP:1C31 </span>NoAutSet<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1C31                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>AUTOBAT
<span style="color:black">RESGROUP:1C34                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:black">RESGROUP:1C37                 </span><span style="color:navy">rep movsw
</span><span style="color:black">RESGROUP:1C39                 </span><span style="color:navy">movsb
</span><span style="color:black">RESGROUP:1C3A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>AUTOBAT
<span style="color:black">RESGROUP:1C3D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3D00h</span>
<span style="color:black">RESGROUP:1C40                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - OPEN DISK FILE WITH HANDLE
<span style="color:black">RESGROUP:1C40                                         </span>; DS:DX -&gt; ASCIZ filename
<span style="color:black">RESGROUP:1C40                                         </span>; AL = access mode
<span style="color:black">RESGROUP:1C40                                         </span>; 0 - read
<span style="color:black">RESGROUP:1C42                 </span><span style="color:navy">jb      short </span>noabat
<span style="color:black">RESGROUP:1C44                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1C46                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">RESGROUP:1C48                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">RESGROUP:1C48                                         </span>; BX = file handle
<span style="color:black">RESGROUP:1C4A                 </span><span style="color:navy">jmp     </span>Drv0
<span style="color:black">RESGROUP:1C4D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1C4D
</span><span style="color:black">RESGROUP:1C4D </span>noabat<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1C4D                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:1C4E                 </span><span style="color:navy">call    </span>Setup_Seg
<span style="color:black">RESGROUP:1C51                 </span><span style="color:navy">mov     </span>triage_add_seg<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1C54                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:1C55                 </span><span style="color:navy">call    dword ptr </span>triage_add ; call far [triage_add]
<span style="color:black">RESGROUP:1C59                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">65</span>
<span style="color:black">RESGROUP:1C5C                 </span><span style="color:navy">jz      short </span>AccDenErr
<span style="color:black">RESGROUP:1C5E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>INTERNAT_INFO
<span style="color:black">RESGROUP:1C61                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3800h</span>
<span style="color:black">RESGROUP:1C64                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET COUNTRY-DEPENDENT INFORMATION
<span style="color:black">RESGROUP:1C64                                         </span>; get current-country info
<span style="color:black">RESGROUP:1C64                                         </span>; DS:DX -&gt; buffer for returned info
<span style="color:black">RESGROUP:1C66                 </span><span style="color:navy">jb      short </span>NoKabat
<span style="color:black">RESGROUP:1C68                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:green">52h</span>         ; KOREA_COUNTRY_CODE
<span style="color:black">RESGROUP:1C6B                 </span><span style="color:navy">jnz     short </span>OpenErr
<span style="color:black">RESGROUP:1C6D                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">20h</span>         ; BatFile
<span style="color:black">RESGROUP:1C70                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>KAUTOBAT
<span style="color:black">RESGROUP:1C73                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:black">RESGROUP:1C76                 </span><span style="color:navy">rep movsw
</span><span style="color:black">RESGROUP:1C78                 </span><span style="color:navy">movsb
</span><span style="color:black">RESGROUP:1C79                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>KAUTOBAT
<span style="color:black">RESGROUP:1C7C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3D00h</span>
<span style="color:black">RESGROUP:1C7F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - OPEN DISK FILE WITH HANDLE
<span style="color:black">RESGROUP:1C7F                                         </span>; DS:DX -&gt; ASCIZ filename
<span style="color:black">RESGROUP:1C7F                                         </span>; AL = access mode
<span style="color:black">RESGROUP:1C7F                                         </span>; 0 - read
<span style="color:black">RESGROUP:1C81                 </span><span style="color:navy">jb      short </span>NoKabat
<span style="color:black">RESGROUP:1C83                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1C85                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">RESGROUP:1C87                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">RESGROUP:1C87                                         </span>; BX = file handle
<span style="color:black">RESGROUP:1C89                 </span><span style="color:navy">jmp     short </span>Drv0
<span style="color:black">RESGROUP:1C8B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1C8B
</span><span style="color:black">RESGROUP:1C8B </span>NoKabat<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1C8B                 </span><span style="color:navy">call    dword ptr </span>triage_add ; call far [Triage_Add]
<span style="color:black">RESGROUP:1C8F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">65</span>
<span style="color:black">RESGROUP:1C92                 </span><span style="color:navy">jnz     short </span>OpenErr
<span style="color:black">RESGROUP:1C94
</span><span style="color:black">RESGROUP:1C94 </span>AccDenErr<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1C94                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>ACCDEN
<span style="color:black">RESGROUP:1C97                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:1C9A
</span><span style="color:black">RESGROUP:1C9A </span>OpenErr<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1C9A                 </span><span style="color:navy">mov     es</span><span style="color:navy">, </span>Batch
<span style="color:black">RESGROUP:1C9E                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:black">RESGROUP:1CA0                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">RESGROUP:1CA0                                         </span>; ES = segment address of area to be freed
<span style="color:black">RESGROUP:1CA2                 </span><span style="color:navy">mov     </span>Batch<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1CA8                 </span><span style="color:navy">mov     </span>EchoFlag<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:1CAD                 </span><span style="color:navy">mov     </span>Nest<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1CB3                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, offset </span>DATINIT ; offset TranGroup:Datinit
<span style="color:black">RESGROUP:1CB6                 </span><span style="color:navy">mov     </span>InitAdd<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1CB9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">26E0h</span>       ; offset RESGROUP:TranStart
<span style="color:black">RESGROUP:1CBC                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:1CBE                 </span><span style="color:navy">shr     ax</span><span style="color:navy">, cl</span>
<span style="color:black">RESGROUP:1CC0                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, cs</span>
<span style="color:black">RESGROUP:1CC2                 </span><span style="color:navy">add     ax</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:1CC4                 </span><span style="color:navy">mov     </span>InitAdd<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1CC7                 </span><span style="color:navy">call    dword ptr </span>InitAdd ; call far [INITADD]
<span style="color:black">RESGROUP:1CCB
</span><span style="color:black">RESGROUP:1CCB </span>NoDttm<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1CCB                 </span><span style="color:navy">cmp     </span>SingleCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1CD0                 </span><span style="color:navy">jnz     short </span>Drv0
<span style="color:black">RESGROUP:1CD2                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>COPYRIGHTMSG
<span style="color:black">RESGROUP:1CD5                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:1CD8
</span><span style="color:black">RESGROUP:1CD8 </span>Drv0<span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1CD8                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1CD9                 </span><span style="color:navy">push    cs</span>
<span style="color:black">RESGROUP:1CDA                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1CDB                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0B707h</span>
<span style="color:black">RESGROUP:1CDE                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span>Append_State
<span style="color:black">RESGROUP:1CE2                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - DOS 4.0 APPEND - SET APPEND FUNCTION STATE
<span style="color:black">RESGROUP:1CE2                                         </span>; BX = APPEND state bits
<span style="color:black">RESGROUP:1CE4                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1CE5                 </span>assume ds:nothing
<span style="color:black">RESGROUP:1CE5                 </span><span style="color:navy">cmp     ds:</span>FirstCom<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:1CEA                 </span><span style="color:navy">jz      short </span>move_code
<span style="color:black">RESGROUP:1CEC                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1CED                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1CEE                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1CEF                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:1CF0                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>Int2f_Entry
<span style="color:black">RESGROUP:1CF3                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, es:</span>ResJmpTable<span style="color:navy">+</span><span style="color:green">2</span>
<span style="color:black">RESGROUP:1CF8                 </span><span style="color:navy">mov     si</span><span style="color:navy">, es:</span>ResJmpTable
<span style="color:black">RESGROUP:1CFD                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">11</span>
<span style="color:black">RESGROUP:1D00                 </span><span style="color:navy">shl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1D02                 </span><span style="color:navy">shl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1D04                 </span><span style="color:navy">cld
</span><span style="color:black">RESGROUP:1D05                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:1D07                 </span><span style="color:navy">cmp     word ptr es:[di-</span><span style="color:green">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0F000h</span>
<span style="color:black">RESGROUP:1D0D                 </span><span style="color:navy">jb      short </span>res_low
<span style="color:black">RESGROUP:1D0F                 </span><span style="color:navy">mov     es:</span>ComInHMA<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:1D15
</span><span style="color:black">RESGROUP:1D15 </span>res_low<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D15                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1D16                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:1D17                 </span><span style="color:navy">jmp     short </span>finish_init
<span style="color:black">RESGROUP:1D19 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1D19
</span><span style="color:black">RESGROUP:1D19 </span>move_code<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D19                 </span><span style="color:navy">call    </span>Move_res_code
<span style="color:black">RESGROUP:1D1C
</span><span style="color:black">RESGROUP:1D1C </span>finish_init<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D1C                 </span><span style="color:navy">jmp     </span>EndInit
<span style="color:black">RESGROUP:1D1C </span><span style="color:gray">; END OF FUNCTION CHUNK FOR StartCode
</span><span style="color:black">RESGROUP:1D1F
</span><span style="color:black">RESGROUP:1D1F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1D1F
</span><span style="color:black">RESGROUP:1D1F
</span><span style="color:black">RESGROUP:1D1F </span>GetStrLen       proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D1F                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:1D21
</span><span style="color:black">RESGROUP:1D21 </span><span style="color:gray">NxtChar</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D21                 </span><span style="color:navy">lodsb
</span><span style="color:black">RESGROUP:1D22                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">RESGROUP:1D23                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:1D25                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NxtChar</span>
<span style="color:black">RESGROUP:1D27                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1D27 </span>GetStrLen       endp
<span style="color:black">RESGROUP:1D27
</span><span style="color:black">RESGROUP:1D28
</span><span style="color:black">RESGROUP:1D28 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1D28
</span><span style="color:black">RESGROUP:1D28
</span><span style="color:black">RESGROUP:1D28 </span>Setup_Seg       proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D28                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>TrnSeg
<span style="color:black">RESGROUP:1D2B                 </span><span style="color:navy">cmp     ds:</span>TrnMvFlg<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:1D30                 </span><span style="color:navy">jz      short </span><span style="color:gray">setup_end</span>
<span style="color:black">RESGROUP:1D32                 </span><span style="color:navy">push    bx</span>
<span style="color:black">RESGROUP:1D33                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, cs</span>
<span style="color:black">RESGROUP:1D35                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">26E0h</span>       ; offset ResGroup:TranStart
<span style="color:black">RESGROUP:1D38                 </span><span style="color:navy">shr     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1D3A                 </span><span style="color:navy">shr     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1D3C                 </span><span style="color:navy">shr     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1D3E                 </span><span style="color:navy">shr     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1D40                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:1D42                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:1D43
</span><span style="color:black">RESGROUP:1D43 </span><span style="color:gray">setup_end</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D43                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1D43 </span>Setup_Seg       endp
<span style="color:black">RESGROUP:1D43
</span><span style="color:black">RESGROUP:1D44
</span><span style="color:black">RESGROUP:1D44 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1D44
</span><span style="color:black">RESGROUP:1D44
</span><span style="color:black">RESGROUP:1D44 </span>RPrintParse     proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D44                 </span><span style="color:navy">push    dx</span>              ; display parse error message
<span style="color:black">RESGROUP:1D45                 </span><span style="color:navy">xchg    bx</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:1D47                 </span><span style="color:navy">dec     bx</span>
<span style="color:black">RESGROUP:1D48                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1D4A                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>PARSMSGPTRS<span style="color:navy">[bx]</span>
<span style="color:black">RESGROUP:1D4E                 </span><span style="color:navy">xchg    bx</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:1D50                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:1D53                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">RESGROUP:1D54                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1D54 </span>RPrintParse     endp
<span style="color:black">RESGROUP:1D54
</span><span style="color:black">RESGROUP:1D55
</span><span style="color:black">RESGROUP:1D55 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1D55
</span><span style="color:black">RESGROUP:1D55
</span><span style="color:black">RESGROUP:1D55 </span>IfindE          proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D55                 </span><span style="color:navy">call    </span>ifind
<span style="color:black">RESGROUP:1D58                 </span><span style="color:navy">jb      short </span>ifind2
<span style="color:black">RESGROUP:1D5A                 </span><span style="color:navy">jmp     short </span>Iscasb1
<span style="color:black">RESGROUP:1D5A </span>IfindE          endp
<span style="color:black">RESGROUP:1D5A
</span><span style="color:black">RESGROUP:1D5C
</span><span style="color:black">RESGROUP:1D5C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1D5C
</span><span style="color:black">RESGROUP:1D5C
</span><span style="color:black">RESGROUP:1D5C </span>ifind           proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D5C                 </span><span style="color:navy">cld
</span><span style="color:black">RESGROUP:1D5D                 </span><span style="color:navy">call    </span>Icount0
<span style="color:black">RESGROUP:1D60                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>EnvirSeg
<span style="color:black">RESGROUP:1D64                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1D66
</span><span style="color:black">RESGROUP:1D66 </span><span style="color:gray">ifind1</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D66                 </span><span style="color:navy">push    cx</span>
<span style="color:black">RESGROUP:1D67                 </span><span style="color:navy">push    si</span>
<span style="color:black">RESGROUP:1D68                 </span><span style="color:navy">push    di</span>
<span style="color:black">RESGROUP:1D69
</span><span style="color:black">RESGROUP:1D69 </span><span style="color:gray">ifind11</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D69                 </span><span style="color:navy">lodsb
</span><span style="color:black">RESGROUP:1D6A                 </span><span style="color:navy">call    </span>iupconv
<span style="color:black">RESGROUP:1D6D                 </span><span style="color:navy">inc     di</span>
<span style="color:black">RESGROUP:1D6E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[di-</span><span style="color:green">1</span><span style="color:navy">]</span>
<span style="color:black">RESGROUP:1D72                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ifind12</span>
<span style="color:black">RESGROUP:1D74                 </span><span style="color:navy">loop    </span><span style="color:gray">ifind11</span>
<span style="color:black">RESGROUP:1D76
</span><span style="color:black">RESGROUP:1D76 </span><span style="color:gray">ifind12</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D76                 </span><span style="color:navy">pop     di</span>
<span style="color:black">RESGROUP:1D77                 </span><span style="color:navy">pop     si</span>
<span style="color:black">RESGROUP:1D78                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">RESGROUP:1D79                 </span><span style="color:navy">jz      short </span>ifind2
<span style="color:black">RESGROUP:1D7B                 </span><span style="color:navy">push    cx</span>
<span style="color:black">RESGROUP:1D7C                 </span><span style="color:navy">call    </span>Iscasb2
<span style="color:black">RESGROUP:1D7F                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">RESGROUP:1D80                 </span><span style="color:navy">cmp     byte ptr es:[di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1D84                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ifind1</span>
<span style="color:black">RESGROUP:1D86                 </span><span style="color:navy">stc
</span><span style="color:black">RESGROUP:1D87
</span><span style="color:black">RESGROUP:1D87 </span>ifind2<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D87                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1D87 </span>ifind           endp
<span style="color:black">RESGROUP:1D87
</span><span style="color:black">RESGROUP:1D88
</span><span style="color:black">RESGROUP:1D88 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1D88
</span><span style="color:black">RESGROUP:1D88
</span><span style="color:black">RESGROUP:1D88 </span>Icount0         proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D88                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1D89                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:1D8A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">RESGROUP:1D8C                 </span><span style="color:navy">push    di</span>
<span style="color:black">RESGROUP:1D8D                 </span><span style="color:navy">call    </span>Iscasb1
<span style="color:black">RESGROUP:1D90                 </span><span style="color:navy">jmp     short </span><span style="color:gray">Icountx</span>
<span style="color:black">RESGROUP:1D92 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1D92                 </span><span style="color:navy">push    di</span>
<span style="color:black">RESGROUP:1D93                 </span><span style="color:navy">call    </span>Iscasb2
<span style="color:black">RESGROUP:1D96
</span><span style="color:black">RESGROUP:1D96 </span><span style="color:gray">Icountx</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D96                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">RESGROUP:1D97                 </span><span style="color:navy">sub     di</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:1D99                 </span><span style="color:navy">xchg    di</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:1D9B                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1D9B </span>Icount0         endp
<span style="color:black">RESGROUP:1D9B
</span><span style="color:black">RESGROUP:1D9C
</span><span style="color:black">RESGROUP:1D9C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1D9C
</span><span style="color:black">RESGROUP:1D9C
</span><span style="color:black">RESGROUP:1D9C </span>Iscasb1         proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1D9C                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>equalsign
<span style="color:black">RESGROUP:1D9F                 </span><span style="color:navy">jmp     short </span>Iscasbx
<span style="color:black">RESGROUP:1D9F </span>Iscasb1         endp
<span style="color:black">RESGROUP:1D9F
</span><span style="color:black">RESGROUP:1DA1
</span><span style="color:black">RESGROUP:1DA1 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1DA1
</span><span style="color:black">RESGROUP:1DA1
</span><span style="color:black">RESGROUP:1DA1 </span>Iscasb2         proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1DA1                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:1DA3
</span><span style="color:black">RESGROUP:1DA3 </span>Iscasbx<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1DA3                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">256</span>
<span style="color:black">RESGROUP:1DA6                 </span><span style="color:navy">repne scasb
</span><span style="color:black">RESGROUP:1DA8                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1DA8 </span>Iscasb2         endp
<span style="color:black">RESGROUP:1DA8
</span><span style="color:black">RESGROUP:1DA9
</span><span style="color:black">RESGROUP:1DA9 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1DA9
</span><span style="color:black">RESGROUP:1DA9
</span><span style="color:black">RESGROUP:1DA9 </span>iupconv         proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1DA9                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">RESGROUP:1DAB                 </span><span style="color:navy">jb      short </span><span style="color:gray">other_fucase</span>
<span style="color:black">RESGROUP:1DAD                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">RESGROUP:1DAF                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1DB0                 </span><span style="color:navy">push    bx</span>
<span style="color:black">RESGROUP:1DB1                 </span><span style="color:navy">lds     bx</span><span style="color:navy">, dword ptr ds:</span>FUCase_Addr<span style="color:navy">+</span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1DB5                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">RESGROUP:1DB8                 </span><span style="color:navy">xlat
</span><span style="color:black">RESGROUP:1DB9                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:1DBA                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1DBB                 </span><span style="color:navy">jmp     short </span><span style="color:gray">iupconv_end</span>
<span style="color:black">RESGROUP:1DBD </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1DBD
</span><span style="color:black">RESGROUP:1DBD </span><span style="color:gray">other_fucase</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1DBD                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>lcasea
<span style="color:black">RESGROUP:1DC1                 </span><span style="color:navy">jb      short </span><span style="color:gray">iupconv_end</span>
<span style="color:black">RESGROUP:1DC3                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>lcasez
<span style="color:black">RESGROUP:1DC7                 </span><span style="color:navy">ja      short </span><span style="color:gray">iupconv_end</span>
<span style="color:black">RESGROUP:1DC9                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">RESGROUP:1DCB
</span><span style="color:black">RESGROUP:1DCB </span><span style="color:gray">iupconv_end</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1DCB                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1DCB </span>iupconv         endp
<span style="color:black">RESGROUP:1DCB
</span><span style="color:maroon">RESGROUP:1DCC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">RESGROUP:1DCC
</span><span style="color:maroon">RESGROUP:1DCC </span>init_contc_specialcase<span style="color:navy">:                 </span><span style="color:green">; ...
</span><span style="color:maroon">RESGROUP:1DCC                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">6</span>
<span style="color:maroon">RESGROUP:1DCF                 </span><span style="color:navy">push    si</span>
<span style="color:maroon">RESGROUP:1DD0                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:maroon">RESGROUP:1DD2                 </span><span style="color:navy">mov     word ptr [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0D00h</span>
<span style="color:maroon">RESGROUP:1DD7                 </span><span style="color:navy">pop     si</span>
<span style="color:maroon">RESGROUP:1DD8                 </span><span style="color:navy">iret
</span><span style="color:black">RESGROUP:1DD9
</span><span style="color:black">RESGROUP:1DD9 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1DD9
</span><span style="color:black">RESGROUP:1DD9
</span><span style="color:black">RESGROUP:1DD9 </span>setup_for_messages proc near            <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1DD9                 </span><span style="color:navy">push    bx</span>
<span style="color:black">RESGROUP:1DDA                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1DDB                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1DDC                 </span><span style="color:navy">push    ax</span>
<span style="color:black">RESGROUP:1DDD                 </span><span style="color:navy">push    dx</span>
<span style="color:black">RESGROUP:1DDE                 </span><span style="color:navy">push    di</span>
<span style="color:black">RESGROUP:1DDF                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs</span>
<span style="color:black">RESGROUP:1DE1                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1DE3                 </span>assume ds:RESGROUP
<span style="color:black">RESGROUP:1DE3                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1DE5                 </span>assume es:RESGROUP
<span style="color:black">RESGROUP:1DE5                 </span><span style="color:navy">cmp     </span>PermCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1DEA                 </span><span style="color:navy">jz      short </span><span style="color:gray">no_permcom</span>
<span style="color:black">RESGROUP:1DEC                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1DED                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">352Fh</span>
<span style="color:black">RESGROUP:1DF0                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET INTERRUPT VECTOR
<span style="color:black">RESGROUP:1DF0                                         </span>; AL = interrupt number
<span style="color:black">RESGROUP:1DF0                                         </span>; Return: ES:BX = value of interrupt vector
<span style="color:black">RESGROUP:1DF2                 </span><span style="color:navy">mov     </span>Int2fHandler<span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:1DF6                 </span><span style="color:navy">mov     </span>Int2fHandler<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span>
<span style="color:black">RESGROUP:1DFA                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:1DFB                 </span>assume es:nothing
<span style="color:black">RESGROUP:1DFB                 </span><span style="color:navy">cmp     </span>FirstCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1E00                 </span><span style="color:navy">jz      short </span><span style="color:gray">no_msg_hook</span>
<span style="color:black">RESGROUP:1E02                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1E03                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>Carousel_i2f_Hook
<span style="color:black">RESGROUP:1E06                 </span><span style="color:navy">sub     dx</span><span style="color:navy">, </span><span style="color:#ff8000">10h</span>
<span style="color:black">RESGROUP:1E09                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1E0B                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">RESGROUP:1E0C                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1E0E                 </span>assume ds:nothing
<span style="color:black">RESGROUP:1E0E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">252Fh</span>
<span style="color:black">RESGROUP:1E11                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET INTERRUPT VECTOR
<span style="color:black">RESGROUP:1E11                                         </span>; AL = interrupt number
<span style="color:black">RESGROUP:1E11                                         </span>; DS:DX = new vector to be used for specified interrupt
<span style="color:black">RESGROUP:1E13                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1E14                 </span>assume ds:nothing
<span style="color:black">RESGROUP:1E14                 </span><span style="color:navy">mov     word ptr ds:</span>Carousel_i2f_Hook<span style="color:navy">+</span><span style="color:green">3</span><span style="color:navy">, ds</span>
<span style="color:black">RESGROUP:1E18
</span><span style="color:black">RESGROUP:1E18 </span><span style="color:gray">no_msg_hook</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1E18                 </span><span style="color:navy">cmp     ds:</span>ext_msg<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:1E1D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">permcom_end</span>
<span style="color:black">RESGROUP:1E1F                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>ExtMsgEnd
<span style="color:black">RESGROUP:1E22                 </span><span style="color:navy">mov     ds:</span>ResMsgEnd<span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1E26                 </span><span style="color:navy">jmp     short </span><span style="color:gray">permcom_end</span>
<span style="color:black">RESGROUP:1E28 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1E28
</span><span style="color:black">RESGROUP:1E28 </span><span style="color:gray">no_permcom</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1E28                 </span><span style="color:navy">cmp     ds:</span>ext_msg<span style="color:navy">, </span><span style="color:#ff8000">1</span>   ; SET_EXTENDED_MSG
<span style="color:black">RESGROUP:1E2D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">permcom_end</span>
<span style="color:black">RESGROUP:1E2F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">RESGROUP:1E32                 </span><span style="color:navy">call    </span>RPrintParse
<span style="color:black">RESGROUP:1E35
</span><span style="color:black">RESGROUP:1E35 </span><span style="color:gray">permcom_end</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1E35                 </span><span style="color:navy">pop     di</span>
<span style="color:black">RESGROUP:1E36                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">RESGROUP:1E37                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">RESGROUP:1E38                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:1E39                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1E3A                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:1E3B                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1E3B </span>setup_for_messages endp
<span style="color:black">RESGROUP:1E3B
</span><span style="color:black">RESGROUP:1E3C
</span><span style="color:black">RESGROUP:1E3C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1E3C
</span><span style="color:black">RESGROUP:1E3C
</span><span style="color:black">RESGROUP:1E3C </span>CheckHelp       proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1E3C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>         ; DS:SI = ptr to command-line tail
<span style="color:black">RESGROUP:1E3F                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>INTERNAT_INFO ; RESGROUP:Parse_Command
<span style="color:black">RESGROUP:1E42                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:1E44                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:1E46
</span><span style="color:black">RESGROUP:1E46 </span><span style="color:gray">chParse</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1E46                 </span><span style="color:navy">call    dword ptr ds:</span>Init_Parse ; call far [Init_Parse]
<span style="color:black">RESGROUP:1E4A                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">RESGROUP:1E4D                 </span><span style="color:navy">jz      short </span><span style="color:gray">chRet</span>
<span style="color:black">RESGROUP:1E4F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1E52                 </span><span style="color:navy">jz      short </span><span style="color:gray">chWhich</span>
<span style="color:black">RESGROUP:1E54                 </span><span style="color:navy">jmp     short </span><span style="color:gray">chParse</span>
<span style="color:black">RESGROUP:1E56 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1E56
</span><span style="color:black">RESGROUP:1E56 </span><span style="color:gray">chWhich</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1E56                 </span><span style="color:navy">cmp     ds:</span>COMND1_SYN<span style="color:navy">, offset </span>COMMAND_?_SYN <span style="color:gray">; &quot;/?&quot;
</span><span style="color:black">RESGROUP:1E5C                 </span><span style="color:navy">jz      short </span><span style="color:gray">chHelp</span>
<span style="color:black">RESGROUP:1E5E                 </span><span style="color:navy">cmp     ds:</span>COMND1_SYN<span style="color:navy">, offset </span>COMMAND_C_SYN <span style="color:gray">; &quot;/C&quot;
</span><span style="color:black">RESGROUP:1E64                 </span><span style="color:navy">jz      short </span><span style="color:gray">chRet</span>
<span style="color:black">RESGROUP:1E66                 </span><span style="color:navy">cmp     ds:</span>COMND1_SYN<span style="color:navy">, offset </span>COMMAND_K_SYN <span style="color:gray">; &quot;/K&quot;
</span><span style="color:black">RESGROUP:1E6C                 </span><span style="color:navy">jz      short </span><span style="color:gray">chRet</span>
<span style="color:black">RESGROUP:1E6E                 </span><span style="color:navy">jmp     short </span><span style="color:gray">chParse</span>
<span style="color:black">RESGROUP:1E70 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1E70
</span><span style="color:black">RESGROUP:1E70 </span><span style="color:gray">chHelp</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1E70                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>HelpMsgs
<span style="color:black">RESGROUP:1E73
</span><span style="color:black">RESGROUP:1E73 </span><span style="color:gray">chHelpNext</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1E73                 </span><span style="color:navy">lodsw
</span><span style="color:black">RESGROUP:1E74                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1E76                 </span><span style="color:navy">jz      short </span><span style="color:gray">chHelpDone</span>
<span style="color:black">RESGROUP:1E78                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1E7A                 </span><span style="color:navy">call    </span>RPrint
<span style="color:black">RESGROUP:1E7D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">chHelpNext</span>
<span style="color:black">RESGROUP:1E7F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1E7F
</span><span style="color:black">RESGROUP:1E7F </span><span style="color:gray">chHelpDone</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1E7F                 </span><span style="color:navy">int     </span><span style="color:green">20h</span>             ; DOS - PROGRAM TERMINATION
<span style="color:black">RESGROUP:1E7F                                         </span>; returns to DOS--identical to INT 21/AH=00h
<span style="color:black">RESGROUP:1E81 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1E81
</span><span style="color:black">RESGROUP:1E81 </span><span style="color:gray">chRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1E81                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1E81 </span>CheckHelp       endp
<span style="color:black">RESGROUP:1E81
</span><span style="color:black">RESGROUP:1E82
</span><span style="color:black">RESGROUP:1E82 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1E82
</span><span style="color:black">RESGROUP:1E82
</span><span style="color:black">RESGROUP:1E82 </span>Setup_res_end   proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1E82                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1E83                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs</span>
<span style="color:black">RESGROUP:1E85                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1E87                 </span>assume ds:RESGROUP
<span style="color:black">RESGROUP:1E87                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span>ResMsgEnd
<span style="color:black">RESGROUP:1E8B                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, offset </span>ExtMsgEnd
<span style="color:black">RESGROUP:1E8F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">calc_res</span>
<span style="color:black">RESGROUP:1E91                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:green">0Fh</span>
<span style="color:black">RESGROUP:1E94                 </span><span style="color:navy">and     cx</span><span style="color:navy">, </span><span style="color:green">0FFF0h</span>
<span style="color:black">RESGROUP:1E97
</span><span style="color:black">RESGROUP:1E97 </span><span style="color:gray">calc_res</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1E97                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1E99                 </span><span style="color:navy">cmp     </span>FirstCom<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:1E9E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">not_first</span>
<span style="color:black">RESGROUP:1EA0                 </span><span style="color:navy">push    bx</span>
<span style="color:black">RESGROUP:1EA1                 </span><span style="color:navy">push    cx</span>
<span style="color:black">RESGROUP:1EA2                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3306h</span>
<span style="color:black">RESGROUP:1EA5                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 5+ Get TRUE Version Number (BL major, BH minor, DL revision, DH flags)
<span style="color:black">RESGROUP:1EA7                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">RESGROUP:1EA8                 </span><span style="color:navy">cmp     bl</span><span style="color:navy">, </span><span style="color:green">5</span>
<span style="color:black">RESGROUP:1EAB                 </span><span style="color:navy">jb      short </span><span style="color:gray">oldver</span>
<span style="color:black">RESGROUP:1EAD                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1EAF                 </span><span style="color:navy">and     dh</span><span style="color:navy">, </span><span style="color:green">10h</span>
<span style="color:black">RESGROUP:1EB2                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:1EB3                 </span><span style="color:navy">jnz     short </span><span style="color:gray">not_first</span>
<span style="color:black">RESGROUP:1EB5                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">81Ah</span>        ; size of code in bytes
<span style="color:black">RESGROUP:1EB5                                         </span>; EndCode-RCODE_START
<span style="color:black">RESGROUP:1EB8
</span><span style="color:black">RESGROUP:1EB8 </span><span style="color:gray">not_first</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1EB8                 </span><span style="color:navy">add     cx</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1EBA                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:green">15</span>
<span style="color:black">RESGROUP:1EBD                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1EBF                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1EC1                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1EC3                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1EC5                 </span><span style="color:navy">mov     </span>ResSize<span style="color:navy">, cx</span>
<span style="color:black">RESGROUP:1EC9                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1ECA                 </span>assume ds:nothing
<span style="color:black">RESGROUP:1ECA                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1ECB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1ECB
</span><span style="color:black">RESGROUP:1ECB </span><span style="color:gray">oldver</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1ECB                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">RESGROUP:1ECC                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">81Ah</span>        ; EndCode-RCODE_START
<span style="color:black">RESGROUP:1ECF                 </span><span style="color:navy">jmp     short </span><span style="color:gray">not_first</span>
<span style="color:black">RESGROUP:1ECF </span>Setup_res_end   endp
<span style="color:black">RESGROUP:1ECF
</span><span style="color:black">RESGROUP:1ED1
</span><span style="color:black">RESGROUP:1ED1 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1ED1
</span><span style="color:black">RESGROUP:1ED1
</span><span style="color:black">RESGROUP:1ED1 </span>Move_res_code   proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1ED1                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1ED2                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1ED3                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs</span>
<span style="color:black">RESGROUP:1ED5                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1ED7                 </span>assume ds:RESGROUP
<span style="color:black">RESGROUP:1ED7                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3306h</span>
<span style="color:black">RESGROUP:1EDA                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 5+ Get TRUE Version Number (BL major, BH minor, DL revision, DH flags)
<span style="color:black">RESGROUP:1EDC                 </span><span style="color:navy">and     dh</span><span style="color:navy">, </span><span style="color:green">10h</span>
<span style="color:black">RESGROUP:1EDF                 </span><span style="color:navy">jnz     short </span><span style="color:gray">move_high</span>
<span style="color:black">RESGROUP:1EE1
</span><span style="color:black">RESGROUP:1EE1 </span><span style="color:gray">load_low</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1EE1                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1EE2                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:1EE3                 </span>assume es:RESGROUP
<span style="color:black">RESGROUP:1EE3                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span>ResMsgEnd
<span style="color:black">RESGROUP:1EE7                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>ExtMsgEnd
<span style="color:black">RESGROUP:1EEA                 </span><span style="color:navy">cmp     di</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:1EEC                 </span><span style="color:navy">jz      short </span><span style="color:gray">no_move</span>
<span style="color:black">RESGROUP:1EEE                 </span><span style="color:navy">jmp     short </span><span style="color:gray">setup_move</span>
<span style="color:black">RESGROUP:1EF0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1EF0
</span><span style="color:black">RESGROUP:1EF0 </span><span style="color:gray">move_high</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1EF0                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">81Ah</span>        ; offset CODERES:EndCode
<span style="color:black">RESGROUP:1EF0                                         </span>;
<span style="color:black">RESGROUP:1EF0                                         </span>; RESGROUP:EndCode - RESGROUP:RCODE_START
<span style="color:black">RESGROUP:1EF3                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">RESGROUP:1EF6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4A02h</span>       ; GET_HMA_ADDR
<span style="color:black">RESGROUP:1EF9                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>
<span style="color:black">RESGROUP:1EFB                 </span><span style="color:navy">cmp     di</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; HMA available?
<span style="color:black">RESGROUP:1EFE                 </span><span style="color:navy">mov     </span>ComInHMA<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">RESGROUP:1F03                 </span><span style="color:navy">jnz     short </span><span style="color:gray">setup_move</span>
<span style="color:black">RESGROUP:1F05                 </span><span style="color:navy">mov     </span>ComInHMA<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1F0A                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span>ResMsgEnd
<span style="color:black">RESGROUP:1F0E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">81Ah</span>        ; EndCode-RCODE_START (CODERES:EndCode)
<span style="color:black">RESGROUP:1F11                 </span><span style="color:navy">add     cx</span><span style="color:navy">, ax</span>          ; ax = para size of res code
<span style="color:black">RESGROUP:1F13                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:#ff8000">0Fh</span>
<span style="color:black">RESGROUP:1F16                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1F18                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1F1A                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1F1C                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1F1E                 </span><span style="color:navy">mov     </span>ResSize<span style="color:navy">, cx</span>     ; resident size
<span style="color:black">RESGROUP:1F22                 </span><span style="color:navy">jmp     short </span><span style="color:gray">load_low</span>
<span style="color:black">RESGROUP:1F24 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1F24
</span><span style="color:black">RESGROUP:1F24 </span><span style="color:gray">no_move</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1F24                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:1F26                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">0Fh</span>
<span style="color:black">RESGROUP:1F29                 </span><span style="color:navy">and     di</span><span style="color:navy">, </span><span style="color:green">0FFF0h</span>      ; round it to a para offset
<span style="color:black">RESGROUP:1F2C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">patch_up</span>
<span style="color:black">RESGROUP:1F2E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1F2E
</span><span style="color:black">RESGROUP:1F2E </span><span style="color:gray">setup_move</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1F2E                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>Exec_Err ; offset RESGROUP:StartCode
<span style="color:black">RESGROUP:1F2E                                         </span>; RCODE_START
<span style="color:black">RESGROUP:1F31                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">81Ah</span>        ; offset CODERES:EndCode
<span style="color:black">RESGROUP:1F31                                         </span>; RESGROUP:EndCode - RESGROUP:RCODE_START
<span style="color:black">RESGROUP:1F34                 </span><span style="color:navy">cld
</span><span style="color:black">RESGROUP:1F35                 </span><span style="color:navy">push    di</span>
<span style="color:black">RESGROUP:1F36                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:1F38                 </span><span style="color:navy">pop     di</span>
<span style="color:black">RESGROUP:1F39
</span><span style="color:black">RESGROUP:1F39 </span><span style="color:gray">patch_up</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1F39                 </span><span style="color:navy">call    </span>patch_stub
<span style="color:black">RESGROUP:1F3C                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:1F3D                 </span>assume es:nothing
<span style="color:black">RESGROUP:1F3D                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1F3E                 </span>assume ds:nothing
<span style="color:black">RESGROUP:1F3E                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:1F3E </span>Move_res_code   endp
<span style="color:black">RESGROUP:1F3E
</span><span style="color:black">RESGROUP:1F3F
</span><span style="color:black">RESGROUP:1F3F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:1F3F
</span><span style="color:black">RESGROUP:1F3F
</span><span style="color:black">RESGROUP:1F3F </span>alloc_env       proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:1F3F
</span><span style="color:black">RESGROUP:1F3F </span><span style="color:gray">; FUNCTION CHUNK AT RESGROUP:0F5B SIZE 0000006C BYTES
</span><span style="color:black">RESGROUP:1F3F
</span><span style="color:black">RESGROUP:1F3F                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1F40                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:1F41                 </span><span style="color:navy">push    si</span>
<span style="color:black">RESGROUP:1F42                 </span><span style="color:navy">push    di</span>
<span style="color:black">RESGROUP:1F43                 </span><span style="color:navy">push    ss</span>
<span style="color:black">RESGROUP:1F44                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1F45                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>EnvirSeg
<span style="color:black">RESGROUP:1F48                 </span><span style="color:navy">cmp     ds:</span>AllocedEnv<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1F4D                 </span><span style="color:navy">jz      short </span><span style="color:gray">alloc_cont</span>
<span style="color:black">RESGROUP:1F4F                 </span><span style="color:navy">jmp     </span><span style="color:gray">alloc_done</span>
<span style="color:black">RESGROUP:1F52 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1F52
</span><span style="color:black">RESGROUP:1F52 </span><span style="color:gray">alloc_cont</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1F52                 </span><span style="color:navy">sub     di</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1F54                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">180</span>         ; SIZE Environment
<span style="color:black">RESGROUP:1F54                                         </span>; ENVIRONSIZ
<span style="color:black">RESGROUP:1F57                 </span><span style="color:navy">cmp     ds:</span>FirstCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1F5C                 </span><span style="color:navy">jz      short </span><span style="color:gray">alloc_seg</span>
<span style="color:black">RESGROUP:1F5E                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1F60                 </span><span style="color:navy">jz      short </span><span style="color:gray">alloc_new</span>
<span style="color:black">RESGROUP:1F62
</span><span style="color:black">RESGROUP:1F62 </span>_find_path<span style="color:navy">:
</span><span style="color:black">RESGROUP:1F62                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1F64                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1F66                 </span><span style="color:navy">sub     di</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1F68
</span><span style="color:black">RESGROUP:1F68 </span><span style="color:gray">comp_path</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1F68                 </span><span style="color:navy">scasb
</span><span style="color:black">RESGROUP:1F69                 </span><span style="color:navy">jz      short </span><span style="color:gray">_find_prompt</span>
<span style="color:black">RESGROUP:1F6B                 </span><span style="color:navy">dec     di</span>
<span style="color:black">RESGROUP:1F6C                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; PathStrLen
<span style="color:black">RESGROUP:1F6F                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>PathString <span style="color:gray">; &quot;PATH=&quot;
</span><span style="color:black">RESGROUP:1F72                 </span><span style="color:navy">repe cmpsb
</span><span style="color:black">RESGROUP:1F74                 </span><span style="color:navy">jz      short </span><span style="color:gray">got_path</span>
<span style="color:black">RESGROUP:1F76                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">256</span>
<span style="color:black">RESGROUP:1F79                 </span><span style="color:navy">repne scasb
</span><span style="color:black">RESGROUP:1F7B                 </span><span style="color:navy">jmp     short </span><span style="color:gray">comp_path</span>
<span style="color:black">RESGROUP:1F7D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1F7D
</span><span style="color:black">RESGROUP:1F7D </span><span style="color:gray">got_path</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1F7D                 </span><span style="color:navy">mov     byte ptr ds:</span>PathString<span style="color:navy">, </span><span style="color:#ff8000">0</span> <span style="color:gray">; &quot;PATH=&quot;
</span><span style="color:black">RESGROUP:1F82
</span><span style="color:black">RESGROUP:1F82 </span><span style="color:gray">_find_prompt</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1F82                 </span><span style="color:navy">sub     di</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1F84
</span><span style="color:black">RESGROUP:1F84 </span><span style="color:gray">comp_prompt</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1F84                 </span><span style="color:navy">scasb
</span><span style="color:black">RESGROUP:1F85                 </span><span style="color:navy">jz      short </span><span style="color:gray">find_comspec</span>
<span style="color:black">RESGROUP:1F87                 </span><span style="color:navy">dec     di</span>
<span style="color:black">RESGROUP:1F88                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">7</span>           ; PrmptStrLen2
<span style="color:black">RESGROUP:1F8B                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>PrmptString <span style="color:gray">; &quot;PROMPT=$P$G&quot;
</span><span style="color:black">RESGROUP:1F8E                 </span><span style="color:navy">repe cmpsb
</span><span style="color:black">RESGROUP:1F90                 </span><span style="color:navy">jz      short </span><span style="color:gray">got_prompt</span>
<span style="color:black">RESGROUP:1F92                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">256</span>
<span style="color:black">RESGROUP:1F95                 </span><span style="color:navy">repne scasb
</span><span style="color:black">RESGROUP:1F97                 </span><span style="color:navy">jmp     short </span><span style="color:gray">comp_prompt</span>
<span style="color:black">RESGROUP:1F99 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1F99
</span><span style="color:black">RESGROUP:1F99 </span><span style="color:gray">got_prompt</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1F99                 </span><span style="color:navy">mov     byte ptr ds:</span>PrmptString<span style="color:navy">, </span><span style="color:#ff8000">0</span> <span style="color:gray">; &quot;PROMPT=$P$G&quot;
</span><span style="color:black">RESGROUP:1F9E
</span><span style="color:black">RESGROUP:1F9E </span><span style="color:gray">find_comspec</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1F9E                 </span><span style="color:navy">sub     di</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1FA0
</span><span style="color:black">RESGROUP:1FA0 </span><span style="color:gray">comp_comspec</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1FA0                 </span><span style="color:navy">scasb
</span><span style="color:black">RESGROUP:1FA1                 </span><span style="color:navy">jz      short </span><span style="color:gray">got_envend</span>
<span style="color:black">RESGROUP:1FA3                 </span><span style="color:navy">dec     di</span>
<span style="color:black">RESGROUP:1FA4                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; ComspStrLen
<span style="color:black">RESGROUP:1FA7                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ComspString <span style="color:gray">; &quot;COMSPEC=\\COMMAND.COM&quot;
</span><span style="color:black">RESGROUP:1FAA                 </span><span style="color:navy">repe cmpsb
</span><span style="color:black">RESGROUP:1FAC                 </span><span style="color:navy">jz      short </span><span style="color:gray">got_comspec</span>
<span style="color:black">RESGROUP:1FAE                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">256</span>
<span style="color:black">RESGROUP:1FB1                 </span><span style="color:navy">repne scasb
</span><span style="color:black">RESGROUP:1FB3                 </span><span style="color:navy">jmp     short </span><span style="color:gray">comp_comspec</span>
<span style="color:black">RESGROUP:1FB5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1FB5
</span><span style="color:black">RESGROUP:1FB5 </span><span style="color:gray">got_comspec</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1FB5                 </span><span style="color:navy">mov     ds:</span>ComspOffset<span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1FB9                 </span><span style="color:navy">sub     di</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1FBB                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">32768</span>       ; ENVBIG (maximum environment size)
<span style="color:black">RESGROUP:1FBE
</span><span style="color:black">RESGROUP:1FBE </span><span style="color:gray">comp_envend</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1FBE                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">RESGROUP:1FBF                 </span><span style="color:navy">scasb
</span><span style="color:black">RESGROUP:1FC0                 </span><span style="color:navy">jz      short </span><span style="color:gray">got_envend</span>
<span style="color:black">RESGROUP:1FC2                 </span><span style="color:navy">repne scasb
</span><span style="color:black">RESGROUP:1FC4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">comp_envend</span>
<span style="color:black">RESGROUP:1FC6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1FC6
</span><span style="color:black">RESGROUP:1FC6 </span><span style="color:gray">got_envend</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1FC6                 </span><span style="color:navy">dec     di</span>
<span style="color:black">RESGROUP:1FC7                 </span><span style="color:navy">lea     bx</span><span style="color:navy">, [di+</span><span style="color:green">180</span><span style="color:navy">]</span>    ; lea bx,[di+SIZE Environment]
<span style="color:black">RESGROUP:1FC7                                         </span>; lea bx,[di+ENVIRONSIZ]
<span style="color:black">RESGROUP:1FCB                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1FCC                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, word ptr ds:</span><span style="color:green">16h</span> ; [PDB.PARENT_PID]
<span style="color:black">RESGROUP:1FD0                 </span><span style="color:navy">cmp     word ptr ds:</span><span style="color:green">16h</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:1FD5                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:1FD6                 </span><span style="color:navy">jnz     short </span><span style="color:gray">alloc_seg</span>
<span style="color:black">RESGROUP:1FD8
</span><span style="color:black">RESGROUP:1FD8 </span><span style="color:gray">alloc_new</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1FD8                 </span><span style="color:navy">inc     ds:</span>AllocedEnv
<span style="color:black">RESGROUP:1FDC
</span><span style="color:black">RESGROUP:1FDC </span><span style="color:gray">alloc_seg</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1FDC                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:1FDE                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:green">15</span>
<span style="color:black">RESGROUP:1FE1                 </span><span style="color:navy">shr     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1FE3                 </span><span style="color:navy">shr     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1FE5                 </span><span style="color:navy">shr     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1FE7                 </span><span style="color:navy">shr     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">RESGROUP:1FE9                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>         ; mov ah,ALLOC
<span style="color:black">RESGROUP:1FEB                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:black">RESGROUP:1FEB                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:black">RESGROUP:1FED                 </span><span style="color:navy">jnb     short </span><span style="color:gray">init_ok</span>
<span style="color:black">RESGROUP:1FEF                 </span><span style="color:navy">jmp     </span><span style="color:gray">init_nomem</span>
<span style="color:black">RESGROUP:1FF2 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:1FF2
</span><span style="color:black">RESGROUP:1FF2 </span><span style="color:gray">init_ok</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:1FF2                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:1FF4                 </span>assume es:nothing
<span style="color:black">RESGROUP:1FF4                 </span><span style="color:navy">or      di</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:1FF6                 </span><span style="color:navy">jz      short </span><span style="color:gray">copy_path</span>
<span style="color:black">RESGROUP:1FF8                 </span><span style="color:navy">push    cx</span>
<span style="color:black">RESGROUP:1FF9                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:1FFA                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>EnvirSeg
<span style="color:black">RESGROUP:1FFE                 </span><span style="color:navy">sub     si</span><span style="color:navy">, si</span>
<span style="color:black">RESGROUP:2000                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:2002                 </span><span style="color:navy">sub     di</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:2004                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:2006                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:2007                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">RESGROUP:2008                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:200A
</span><span style="color:black">RESGROUP:200A </span><span style="color:gray">copy_path</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:200A                 </span><span style="color:navy">push    di</span>
<span style="color:black">RESGROUP:200B                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:200D                 </span><span style="color:navy">rep stosb
</span><span style="color:black">RESGROUP:200F                 </span><span style="color:navy">pop     di</span>
<span style="color:black">RESGROUP:2010                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>PathString <span style="color:gray">; &quot;PATH=&quot;
</span><span style="color:black">RESGROUP:2013                 </span><span style="color:navy">cmp     [si]</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:2015                 </span><span style="color:navy">jz      short </span><span style="color:gray">init_prompt</span>
<span style="color:black">RESGROUP:2017                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>           ; PathStrLen+1
<span style="color:black">RESGROUP:201A                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:201C                 </span><span style="color:navy">cmp     ds:</span>AllocedEnv<span style="color:navy">, al</span>
<span style="color:black">RESGROUP:2020                 </span><span style="color:navy">jz      short </span><span style="color:gray">init_prompt</span>
<span style="color:black">RESGROUP:2022                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">19h</span>         ; mov ah,GET_DEFAULT_DRIVE
<span style="color:black">RESGROUP:2024                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET DEFAULT DISK NUMBER
<span style="color:black">RESGROUP:2026                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">'A'</span>
<span style="color:black">RESGROUP:2028                 </span><span style="color:navy">mov     byte ptr ds:</span>DefPathString<span style="color:navy">, al</span> <span style="color:gray">; &quot;C:\\MSDOS&quot;
</span><span style="color:black">RESGROUP:202B                 </span><span style="color:navy">mov     byte ptr ds:</span>DefPath2String<span style="color:navy">, al</span> <span style="color:gray">; &quot;C:\\DOS&quot;
</span><span style="color:black">RESGROUP:202E                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">RESGROUP:2030                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:2031                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:2032                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:2033                 </span>assume ds:nothing
<span style="color:black">RESGROUP:2033                 </span><span style="color:navy">mov     byte ptr [di]</span><span style="color:navy">, </span><span style="color:green">'\'</span>
<span style="color:black">RESGROUP:2036                 </span><span style="color:navy">lea     si</span><span style="color:navy">, [di+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>
<span style="color:black">RESGROUP:2039                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">47h</span>         ; mov ah,Current_Dir
<span style="color:black">RESGROUP:203B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET CURRENT DIRECTORY
<span style="color:black">RESGROUP:203B                                         </span>; DL = drive (0=default, 1=A, etc.)
<span style="color:black">RESGROUP:203B                                         </span>; DS:SI points to 64-byte buffer area
<span style="color:black">RESGROUP:203D                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:203E                 </span>assume ds:nothing
<span style="color:black">RESGROUP:203E                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>           ; DefPathStrLen+1
<span style="color:black">RESGROUP:2041                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DefPathString <span style="color:gray">; &quot;C:\\MSDOS&quot;
</span><span style="color:black">RESGROUP:2044                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:2046                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Bh</span>         ; mov ah,CHDir
<span style="color:black">RESGROUP:2048                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
<span style="color:black">RESGROUP:2048                                         </span>; DS:DX -&gt; ASCIZ directory name (may include drive)
<span style="color:black">RESGROUP:204A                 </span><span style="color:navy">jnb     short </span><span style="color:gray">init_setpath</span>
<span style="color:black">RESGROUP:204C                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">7</span>           ; DefPath2StrLen+1
<span style="color:black">RESGROUP:204F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DefPath2String <span style="color:gray">; &quot;C:\\DOS&quot;
</span><span style="color:black">RESGROUP:2052                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:2054                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Bh</span>         ; mov ah,CHDir
<span style="color:black">RESGROUP:2056                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
<span style="color:black">RESGROUP:2056                                         </span>; DS:DX -&gt; ASCIZ directory name (may include drive)
<span style="color:black">RESGROUP:2058                 </span><span style="color:navy">jb      short </span><span style="color:gray">init_prompt</span>
<span style="color:black">RESGROUP:205A
</span><span style="color:black">RESGROUP:205A </span><span style="color:gray">init_setpath</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:205A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:205C                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:205D                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:205E                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:205F                 </span>assume ds:nothing
<span style="color:black">RESGROUP:205F                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Bh</span>         ; mov ah,CHDir
<span style="color:black">RESGROUP:2061                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
<span style="color:black">RESGROUP:2061                                         </span>; DS:DX -&gt; ASCIZ directory name (may include drive)
<span style="color:black">RESGROUP:2063                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:2064                 </span>assume ds:nothing
<span style="color:black">RESGROUP:2064                 </span><span style="color:navy">dec     di</span>
<span style="color:black">RESGROUP:2065                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:2067
</span><span style="color:black">RESGROUP:2067 </span><span style="color:gray">init_prompt</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:2067                 </span><span style="color:navy">push    di</span>
<span style="color:black">RESGROUP:2068                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:206A                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">64</span>
<span style="color:black">RESGROUP:206D                 </span><span style="color:navy">rep stosb
</span><span style="color:black">RESGROUP:206F                 </span><span style="color:navy">pop     di</span>
<span style="color:black">RESGROUP:2070                 </span><span style="color:navy">cmp     ds:</span>AllocedEnv<span style="color:navy">, al</span>
<span style="color:black">RESGROUP:2074                 </span><span style="color:navy">jz      short </span><span style="color:gray">init_comspec</span>
<span style="color:black">RESGROUP:2076                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>PrmptString <span style="color:gray">; &quot;PROMPT=$P$G&quot;
</span><span style="color:black">RESGROUP:2079                 </span><span style="color:navy">cmp     [si]</span><span style="color:navy">, al</span>
<span style="color:black">RESGROUP:207B                 </span><span style="color:navy">jz      short </span><span style="color:gray">init_comspec</span>
<span style="color:black">RESGROUP:207D                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">12</span>          ; PrmptStrLen+1
<span style="color:black">RESGROUP:2080                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:2082
</span><span style="color:black">RESGROUP:2082 </span><span style="color:gray">init_comspec</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:2082                 </span><span style="color:navy">cmp     ds:</span>ComspOffset<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:2086                 </span><span style="color:navy">jnz     short </span><span style="color:gray">init_done</span>
<span style="color:black">RESGROUP:2088                 </span><span style="color:navy">lea     ax</span><span style="color:navy">, [di+</span><span style="color:#ff8000">8</span><span style="color:navy">]</span>      ; lea ax,[di+ComspStrLen]
<span style="color:black">RESGROUP:208C                 </span><span style="color:navy">mov     ds:</span>ComspOffset<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:208F                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ComspString <span style="color:gray">; &quot;COMSPEC=\\COMMAND.COM&quot;
</span><span style="color:black">RESGROUP:2092                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">21</span>          ; ComspStrLen2+1
<span style="color:black">RESGROUP:2095                 </span><span style="color:navy">rep movsb
</span><span style="color:black">RESGROUP:2097
</span><span style="color:black">RESGROUP:2097 </span><span style="color:gray">init_done</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:2097                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>
<span style="color:black">RESGROUP:2099                 </span><span style="color:navy">mov     ds:</span>EnvirSeg<span style="color:navy">, ax</span>
<span style="color:black">RESGROUP:209C                 </span><span style="color:navy">inc     ds:</span>AllocedEnv
<span style="color:black">RESGROUP:20A0
</span><span style="color:black">RESGROUP:20A0 </span><span style="color:gray">alloc_done</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:20A0                 </span><span style="color:navy">pop     di</span>
<span style="color:black">RESGROUP:20A1                 </span><span style="color:navy">pop     si</span>
<span style="color:black">RESGROUP:20A2                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:20A3                 </span>assume es:nothing
<span style="color:black">RESGROUP:20A3                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">RESGROUP:20A4                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:20A5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">RESGROUP:20A5
</span><span style="color:black">RESGROUP:20A5 </span><span style="color:gray">init_nomem</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:20A5                 </span><span style="color:navy">call    $+</span><span style="color:green">3</span>             ; call alloc_error
<span style="color:black">RESGROUP:20A8
</span><span style="color:black">RESGROUP:20A8 </span>Alloc_error<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:20A8                 </span><span style="color:navy">jmp     </span>BadMemErr
<span style="color:black">RESGROUP:20A8 </span>alloc_env       endp
<span style="color:black">RESGROUP:20A8
</span><span style="color:black">RESGROUP:20AB
</span><span style="color:black">RESGROUP:20AB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:20AB
</span><span style="color:black">RESGROUP:20AB
</span><span style="color:black">RESGROUP:20AB </span>patch_stub      proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:20AB                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:20AC                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es</span>
<span style="color:black">RESGROUP:20AE                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, di</span>
<span style="color:black">RESGROUP:20B0                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>Int2f_Entry ; offset DATARES:Int2f_Entry
<span style="color:black">RESGROUP:20B3                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>Reloc_Table ; offset RESGROUP:Reloc_Table
<span style="color:black">RESGROUP:20B6                 </span><span style="color:navy">push    ds</span>
<span style="color:black">RESGROUP:20B7                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:20B8                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">11</span>
<span style="color:black">RESGROUP:20BB
</span><span style="color:black">RESGROUP:20BB </span><span style="color:gray">patchlp</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:20BB                 </span><span style="color:navy">lodsw
</span><span style="color:black">RESGROUP:20BC                 </span><span style="color:navy">add     ax</span><span style="color:navy">, dx</span>
<span style="color:black">RESGROUP:20BE                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:20BF                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:20C1                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:20C2                 </span><span style="color:navy">loop    </span><span style="color:gray">patchlp</span>
<span style="color:black">RESGROUP:20C4                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:20C5                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:20C5 </span>patch_stub      endp
<span style="color:black">RESGROUP:20C5
</span><span style="color:black">RESGROUP:20C6
</span><span style="color:black">RESGROUP:20C6 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:20C6
</span><span style="color:black">RESGROUP:20C6
</span><span style="color:black">RESGROUP:20C6 </span>patch_segs      proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:20C6                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>Int2f_Entry
<span style="color:black">RESGROUP:20C9                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">RESGROUP:20CC                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">RESGROUP:20CF                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>
<span style="color:black">RESGROUP:20D1
</span><span style="color:black">RESGROUP:20D1 </span><span style="color:gray">pseglp</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:20D1                 </span><span style="color:navy">stosw
</span><span style="color:black">RESGROUP:20D2                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">RESGROUP:20D5                 </span><span style="color:navy">loop    </span><span style="color:gray">pseglp</span>
<span style="color:black">RESGROUP:20D7                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:20D7 </span>patch_segs      endp
<span style="color:black">RESGROUP:20D7
</span><span style="color:black">RESGROUP:20D8
</span><span style="color:black">RESGROUP:20D8 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">RESGROUP:20D8
</span><span style="color:black">RESGROUP:20D8
</span><span style="color:black">RESGROUP:20D8 </span>get_XMMAddr     proc near               <span style="color:green">; ...
</span><span style="color:black">RESGROUP:20D8                 </span><span style="color:navy">push    es</span>
<span style="color:black">RESGROUP:20D9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4300h</span>
<span style="color:black">RESGROUP:20DC                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - XMS - INSTALLATION CHECK
<span style="color:black">RESGROUP:20DC                                         </span>; Return: AL = 80h XMS driver installed
<span style="color:black">RESGROUP:20DC                                         </span>; AL &lt;&gt; 80h no driver
<span style="color:black">RESGROUP:20DE                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">RESGROUP:20E0                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cXMMexit</span>
<span style="color:black">RESGROUP:20E2                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4310h</span>
<span style="color:black">RESGROUP:20E5                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - XMS - GET DRIVER ADDRESS
<span style="color:black">RESGROUP:20E5                                         </span>; Return: ES:BX -&gt; driver entry point
<span style="color:black">RESGROUP:20E7                 </span><span style="color:navy">mov     word ptr ds:</span>XMMCallAddr<span style="color:navy">, bx</span>
<span style="color:black">RESGROUP:20EB                 </span><span style="color:navy">mov     word ptr ds:</span>XMMCallAddr<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span>
<span style="color:black">RESGROUP:20EF
</span><span style="color:black">RESGROUP:20EF </span><span style="color:gray">cXMMexit</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">RESGROUP:20EF                 </span><span style="color:navy">pop     es</span>
<span style="color:black">RESGROUP:20F0                 </span><span style="color:navy">retn
</span><span style="color:black">RESGROUP:20F0 </span>get_XMMAddr     endp
<span style="color:black">RESGROUP:20F0
</span><span style="color:black">RESGROUP:20F0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:gray">RESGROUP:20F1                 </span><span style="color:navy">db </span><span style="color:#008040">15 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">RESGROUP:2100 </span>ICONDEV         <span style="color:navy">db '/DEV/CON',0,0,0,0,0,0
</span><span style="color:gray">RESGROUP:210E </span>BADCSPFL        <span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:210F </span>COMSPECT        <span style="color:navy">db '\COMMAND.COM',0     </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:211C                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:211D </span>AUTOBAT         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:211E                 </span><span style="color:navy">db ':\AUTOEXEC.BAT',0
</span><span style="color:gray">RESGROUP:212D                 </span><span style="color:navy">db </span><span style="color:#008040">0Dh
</span><span style="color:gray">RESGROUP:212E </span>KAUTOBAT        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:212F                 </span><span style="color:navy">db ':\KAUTOEXE.BAT',0
</span><span style="color:gray">RESGROUP:213E                 </span><span style="color:navy">db </span><span style="color:#008040">0Dh
</span><span style="color:gray">RESGROUP:213F </span>PRDATTM         <span style="color:navy">db </span><span style="color:#008040">0FFh                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2140 </span>InitAdd         <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)             </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2144 </span>print_add       <span style="color:navy">dw offset </span>Printf_Init
<span style="color:gray">RESGROUP:2146 </span>print_add_seg   <span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:2148 </span>triage_add      <span style="color:navy">dw offset </span>Triage_Init   <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:214A </span>triage_add_seg  <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:214C </span>AllocedEnv      <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:214D </span>PathString      <span style="color:navy">db 'PATH=',0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2153 </span>DefPathString   <span style="color:navy">db 'C:\MSDOS',0         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:215C </span>DefPath2String  <span style="color:navy">db 'C:\DOS',0           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2163 </span>PrmptString     <span style="color:navy">db 'PROMPT=$P$G',0      </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:216F </span>ComspOffset     <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2171 </span>ComspString     <span style="color:navy">db 'COMSPEC=\COMMAND.COM',0 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2186 </span>equalsign       <span style="color:navy">db </span><span style="color:green">'='                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2187 </span>lcasea          <span style="color:navy">db </span><span style="color:green">'a'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2188 </span>lcasez          <span style="color:navy">db </span><span style="color:green">'z'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2189 </span>space           <span style="color:navy">db </span><span style="color:#008040">20h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:218A </span>scswitch        <span style="color:navy">db </span><span style="color:green">'C'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:218B </span>skswitch        <span style="color:navy">db </span><span style="color:green">'K'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:218C </span>ucasea          <span style="color:navy">db </span><span style="color:green">'A'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:218D </span>EnvSiz          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:218F </span>EnvMax          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2191 </span>OldEnv          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2193 </span>UsedEnv         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2195 </span>PARS_MSG_OFF    <span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:2197 </span>PARS_MSG_SEG    <span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:2199 </span>Init_Parse      <span style="color:navy">dw offset </span>append_parse  <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:219B </span>initend         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:219D </span>TrnSize         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:219F </span>resetenv        <span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:21A0 </span>ext_msg         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21A1 </span>eswitch         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21A2 </span>dswitch         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21A3 </span>parsemes_ptr    <span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:21A5 </span>INTERNAT_INFO   <span style="color:navy">dw offset </span>COMMAND_PARMS <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21A5                                         </span>; PARSE_COMMAND
<span style="color:gray">RESGROUP:21A7                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:21A8 </span>COMMAND_PARMS   <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21A9                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">RESGROUP:21AA                 </span><span style="color:navy">dw offset </span>COMMAND_FILE
<span style="color:gray">RESGROUP:21AC                 </span><span style="color:navy">dw offset </span>COMMAND_FILE
<span style="color:gray">RESGROUP:21AE                 </span><span style="color:navy">db </span><span style="color:#008040">9
</span><span style="color:gray">RESGROUP:21AF                 </span><span style="color:navy">dw offset </span>COMMAND_SWITCH1
<span style="color:gray">RESGROUP:21B1                 </span><span style="color:navy">dw offset </span>COMMAND_SWITCH2
<span style="color:gray">RESGROUP:21B3                 </span><span style="color:navy">dw offset </span>COMMAND_SWITCH3
<span style="color:gray">RESGROUP:21B5                 </span><span style="color:navy">dw offset </span>COMMAND_SWITCH4
<span style="color:gray">RESGROUP:21B7                 </span><span style="color:navy">dw offset </span>COMMAND_SWITCH5
<span style="color:gray">RESGROUP:21B9                 </span><span style="color:navy">dw offset </span>COMMAND_SWITCH6
<span style="color:gray">RESGROUP:21BB                 </span><span style="color:navy">dw offset </span>COMMAND_SWITCH7
<span style="color:gray">RESGROUP:21BD                 </span><span style="color:navy">dw offset </span>COMMAND_SWITCH8
<span style="color:gray">RESGROUP:21BF                 </span><span style="color:navy">dw offset </span>COMMAND_SWITCH9
<span style="color:gray">RESGROUP:21C1                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:21C2 </span>COMMAND_FILE    <span style="color:navy">dw </span><span style="color:#008040">201h                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21C4                 </span><span style="color:navy">dw </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:21C6                 </span><span style="color:navy">dw offset </span>COMND1_OUTPUT
<span style="color:gray">RESGROUP:21C8                 </span><span style="color:navy">dw offset </span>NO_VAL
<span style="color:gray">RESGROUP:21CA                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:21CB </span>COMMAND_SWITCH1 <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21CD                 </span><span style="color:navy">dw </span><span style="color:#008040">2
</span><span style="color:gray">RESGROUP:21CF                 </span><span style="color:navy">dw offset </span>COMND1_OUTPUT
<span style="color:gray">RESGROUP:21D1                 </span><span style="color:navy">dw offset </span>NO_VAL
<span style="color:gray">RESGROUP:21D3                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:21D4 </span>COMMAND_P_SYN   <span style="color:navy">db '/P',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21D7 </span>COMMAND_SWITCH2 <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21D9                 </span><span style="color:navy">dw </span><span style="color:#008040">2
</span><span style="color:gray">RESGROUP:21DB                 </span><span style="color:navy">dw offset </span>COMND1_OUTPUT
<span style="color:gray">RESGROUP:21DD                 </span><span style="color:navy">dw offset </span>NO_VAL
<span style="color:gray">RESGROUP:21DF                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:21E0 </span>COMMAND_F_SYN   <span style="color:navy">db '/F',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21E3 </span>COMMAND_SWITCH3 <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21E5                 </span><span style="color:navy">dw </span><span style="color:#008040">2
</span><span style="color:gray">RESGROUP:21E7                 </span><span style="color:navy">dw offset </span>COMND1_OUTPUT
<span style="color:gray">RESGROUP:21E9                 </span><span style="color:navy">dw offset </span>NO_VAL
<span style="color:gray">RESGROUP:21EB                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:21EC </span>COMMAND_D_SYN   <span style="color:navy">db '/D',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21EF </span>COMMAND_SWITCH4 <span style="color:navy">dw </span><span style="color:#008040">8000h                </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21F1                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:21F3                 </span><span style="color:navy">dw offset </span>COMND1_OUTPUT
<span style="color:gray">RESGROUP:21F5                 </span><span style="color:navy">dw offset </span>COMMAND_E_VAL
<span style="color:gray">RESGROUP:21F7                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:21F8 </span>COMMAND_E_SYN   <span style="color:navy">db '/E',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21FB </span>COMMAND_E_VAL   <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:21FC                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:21FD                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:21FE                 </span><span style="color:navy">dd </span><span style="color:#008040">160                  </span>; ENVSML
<span style="color:gray">RESGROUP:2202                 </span><span style="color:navy">dd </span><span style="color:#008040">32768                </span>; ENVBIG
<span style="color:gray">RESGROUP:2206                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:2207                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:2208 </span>COMMAND_SWITCH5 <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:220A                 </span><span style="color:navy">dw </span><span style="color:#008040">2
</span><span style="color:gray">RESGROUP:220C                 </span><span style="color:navy">dw offset </span>COMND1_OUTPUT
<span style="color:gray">RESGROUP:220E                 </span><span style="color:navy">dw offset </span>NO_VAL
<span style="color:gray">RESGROUP:2210                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:2211 </span>COMMAND_C_SYN   <span style="color:navy">db '/C',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2214 </span>COMMAND_SWITCH6 <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2216                 </span><span style="color:navy">dw </span><span style="color:#008040">2
</span><span style="color:gray">RESGROUP:2218                 </span><span style="color:navy">dw offset </span>COMND1_OUTPUT
<span style="color:gray">RESGROUP:221A                 </span><span style="color:navy">dw offset </span>NO_VAL
<span style="color:gray">RESGROUP:221C                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:221D </span>COMMAND_M_SYN   <span style="color:navy">db '/MSG',0             </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2222 </span>COMMAND_SWITCH7 <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2224                 </span><span style="color:navy">dw </span><span style="color:#008040">2
</span><span style="color:gray">RESGROUP:2226                 </span><span style="color:navy">dw offset </span>COMND1_OUTPUT
<span style="color:gray">RESGROUP:2228                 </span><span style="color:navy">dw offset </span>NO_VAL
<span style="color:gray">RESGROUP:222A                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:222B </span>COMMAND_?_SYN   <span style="color:navy">db '/?',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:222E </span>COMMAND_SWITCH8 <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2230                 </span><span style="color:navy">dw </span><span style="color:#008040">2
</span><span style="color:gray">RESGROUP:2232                 </span><span style="color:navy">dw offset </span>COMND1_OUTPUT
<span style="color:gray">RESGROUP:2234                 </span><span style="color:navy">dw offset </span>NO_VAL
<span style="color:gray">RESGROUP:2236                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:2237 </span>COMMAND_K_SYN   <span style="color:navy">db '/K',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:223A </span>COMMAND_SWITCH9 <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:223C                 </span><span style="color:navy">dw </span><span style="color:#008040">2
</span><span style="color:gray">RESGROUP:223E                 </span><span style="color:navy">dw offset </span>COMND1_OUTPUT
<span style="color:gray">RESGROUP:2240                 </span><span style="color:navy">dw offset </span>NO_VAL
<span style="color:gray">RESGROUP:2242                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">RESGROUP:2243 </span>COMMAND_Y_SYN   <span style="color:navy">db '/Y',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2246 </span>COMND1_OUTPUT   <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2247 </span>COMND1_CODE     <span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:2248 </span>COMND1_SYN      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:224A </span>COMND1_ADDR     <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:224E </span>NO_VAL          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:224F </span>num_positionals <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2251 </span>old_parse_ptr   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2253 </span>BADVERMSG       <span style="color:navy">db </span><span style="color:#008040">17h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2254                 </span><span style="color:navy">db 'Incorrect DOS version',0Dh,0Ah
</span><span style="color:gray">RESGROUP:226B </span>OUTENVMSG       <span style="color:navy">db </span><span style="color:#008040">1Ah                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:226C                 </span><span style="color:navy">db 'Out of environment space',0Dh,0Ah
</span><span style="color:gray">RESGROUP:2286 </span>COPYRIGHTMSG    <span style="color:navy">db </span><span style="color:#008040">5Eh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2287                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">RESGROUP:2287                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">RESGROUP:2287                 </span><span style="color:navy">db 'Microsoft(R) MS-DOS(R) Version 6.22',0Dh,0Ah
</span><span style="color:gray">RESGROUP:2287                 </span><span style="color:navy">db '             (C)Copyright Microsoft Corp 1981-1994.',0Dh,0Ah
</span><span style="color:gray">RESGROUP:22E5 </span>BADCOMLKMES     <span style="color:navy">db </span><span style="color:#008040">28h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:22E6                 </span><span style="color:navy">db 'Specified COMMAND search directory bad',0Dh,0Ah
</span><span style="color:gray">RESGROUP:230E </span>BADCOMACCMSG    <span style="color:navy">db </span><span style="color:#008040">37h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:230F                 </span><span style="color:navy">db 'Specified COMMAND search directory bad, access denied',0Dh,0Ah
</span><span style="color:gray">RESGROUP:2346 </span>HELPMSG1        <span style="color:navy">db </span><span style="color:#008040">38h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2347                 </span><span style="color:navy">db 'Starts a new copy of the MS-DOS Command Interpreter.',0Dh,0Ah
</span><span style="color:gray">RESGROUP:2347                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">RESGROUP:237F </span>HELPMSG2        <span style="color:navy">db </span><span style="color:#008040">38h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2380                 </span><span style="color:navy">db 'COMMAND [[drive:]path] [device] [/E:nnnnn] [/P [/MSG]]',0Dh,0Ah
</span><span style="color:gray">RESGROUP:23B8 </span>HELPMSG3        <span style="color:navy">db </span><span style="color:#008040">2Ah                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:23B9                 </span><span style="color:navy">db '        [/Y [/C command | /K command]]',0Dh,0Ah
</span><span style="color:gray">RESGROUP:23B9                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">RESGROUP:23E3 </span>HELPMSG4        <span style="color:navy">db </span><span style="color:#008040">48h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:23E4                 </span><span style="color:navy">db '  [drive:]path    Specifies the directory containing COMMAND.COM '
</span><span style="color:gray">RESGROUP:23E4                 </span><span style="color:navy">db 'file.',0Dh,0Ah
</span><span style="color:gray">RESGROUP:242C </span>HELPMSG5        <span style="color:navy">db </span><span style="color:#008040">4Dh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:242D                 </span><span style="color:navy">db '  device          Specifies the device to use for command input a'
</span><span style="color:gray">RESGROUP:242D                 </span><span style="color:navy">db 'nd output.',0Dh,0Ah
</span><span style="color:gray">RESGROUP:247A </span>HELPMSG6        <span style="color:navy">db </span><span style="color:#008040">45h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:247B                 </span><span style="color:navy">db '  /E:nnnnn        Sets the initial environment size to nnnnn byte'
</span><span style="color:gray">RESGROUP:247B                 </span><span style="color:navy">db 's.',0Dh,0Ah
</span><span style="color:gray">RESGROUP:24C0 </span>HELPMSG7        <span style="color:navy">db </span><span style="color:#008040">4Dh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:24C1                 </span><span style="color:navy">db '  /P              Makes the new Command Interpreter permanent (ca'
</span><span style="color:gray">RESGROUP:24C1                 </span><span style="color:navy">db 'n',27h,'t exit).',0Dh,0Ah
</span><span style="color:gray">RESGROUP:250E </span>HELPMSG8        <span style="color:navy">db </span><span style="color:#008040">46h                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:250F                 </span><span style="color:navy">db '  /MSG            Stores all error messages in memory (requires /'
</span><span style="color:gray">RESGROUP:250F                 </span><span style="color:navy">db 'P).',0Dh,0Ah
</span><span style="color:gray">RESGROUP:2555 </span>HELPMSG9        <span style="color:navy">db </span><span style="color:#008040">4Ah                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:2556                 </span><span style="color:navy">db '  /Y              Steps through the batch program specified by /C'
</span><span style="color:gray">RESGROUP:2556                 </span><span style="color:navy">db ' or /K.',0Dh,0Ah
</span><span style="color:gray">RESGROUP:25A0 </span>HELPMSG10       <span style="color:navy">db </span><span style="color:#008040">3Fh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:25A1                 </span><span style="color:navy">db '  /C command      Executes the specified command and returns.',0Dh,0Ah
</span><span style="color:gray">RESGROUP:25E0 </span>HELPMSG11       <span style="color:navy">db </span><span style="color:#008040">4Bh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:25E1                 </span><span style="color:navy">db '  /K command      Executes the specified command and continues ru'
</span><span style="color:gray">RESGROUP:25E1                 </span><span style="color:navy">db 'nning.',0Dh,0Ah
</span><span style="color:gray">RESGROUP:25E1                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">RESGROUP:262C </span>HELPMSG12       <span style="color:navy">db </span><span style="color:#008040">4Ch                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:262D                 </span><span style="color:navy">db 'The /P and /MSG switches may be used only when COMMAND is started'
</span><span style="color:gray">RESGROUP:262D                 </span><span style="color:navy">db ' by using',0Dh,0Ah
</span><span style="color:gray">RESGROUP:2679 </span>HELPMSG13       <span style="color:navy">db </span><span style="color:#008040">2Bh                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:267A                 </span><span style="color:navy">db 'the SHELL command in the CONFIG.SYS file.',0Dh,0Ah
</span><span style="color:gray">RESGROUP:26A5 </span>HelpMsgs        <span style="color:navy">dw offset </span>HELPMSG1      <span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:26A7                 </span><span style="color:navy">dw offset </span>HELPMSG2
<span style="color:gray">RESGROUP:26A9                 </span><span style="color:navy">dw offset </span>HELPMSG3
<span style="color:gray">RESGROUP:26AB                 </span><span style="color:navy">dw offset </span>HELPMSG4
<span style="color:gray">RESGROUP:26AD                 </span><span style="color:navy">dw offset </span>HELPMSG5
<span style="color:gray">RESGROUP:26AF                 </span><span style="color:navy">dw offset </span>HELPMSG6
<span style="color:gray">RESGROUP:26B1                 </span><span style="color:navy">dw offset </span>HELPMSG7
<span style="color:gray">RESGROUP:26B3                 </span><span style="color:navy">dw offset </span>HELPMSG8
<span style="color:gray">RESGROUP:26B5                 </span><span style="color:navy">dw offset </span>HELPMSG9
<span style="color:gray">RESGROUP:26B7                 </span><span style="color:navy">dw offset </span>HELPMSG10
<span style="color:gray">RESGROUP:26B9                 </span><span style="color:navy">dw offset </span>HELPMSG11
<span style="color:gray">RESGROUP:26BB                 </span><span style="color:navy">dw offset </span>HELPMSG12
<span style="color:gray">RESGROUP:26BD                 </span><span style="color:navy">dw offset </span>HELPMSG13
<span style="color:gray">RESGROUP:26BF                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">RESGROUP:26C1 </span>Reloc_Table     <span style="color:navy">dw </span><span style="color:#008040">738h                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:26C1                                         </span>; 738h+0E50h = MsgInt2fHandler
<span style="color:gray">RESGROUP:26C3                 </span><span style="color:navy">dw </span><span style="color:#008040">177h                 </span>; 177h+0E50h = Int_2e
<span style="color:gray">RESGROUP:26C5                 </span><span style="color:navy">dw </span><span style="color:#008040">35h                  </span>; 035h+0E50h = ContC
<span style="color:gray">RESGROUP:26C7                 </span><span style="color:navy">dw </span><span style="color:#008040">445h                 </span>; 445h+0E50h = DskErr
<span style="color:gray">RESGROUP:26C9                 </span><span style="color:navy">dw </span><span style="color:#008040">29h                  </span>; 029h+0E50h = Exec_Ret
<span style="color:gray">RESGROUP:26CB                 </span><span style="color:navy">dw </span><span style="color:#008040">2A3h                 </span>; 2A3h+0E50h = TRemCheck
<span style="color:gray">RESGROUP:26CD                 </span><span style="color:navy">dw </span><span style="color:#008040">422h                 </span>; 422h+0E50h = TrnLodCom1
<span style="color:gray">RESGROUP:26CF                 </span><span style="color:navy">dw </span><span style="color:#008040">1AEh                 </span>; 1AEh+0E50h = LodCom
<span style="color:gray">RESGROUP:26D1                 </span><span style="color:navy">dw </span><span style="color:#008040">77Bh                 </span>; 77Bh+0E50h = MsgRetriever
<span style="color:gray">RESGROUP:26D3                 </span><span style="color:navy">dw </span><span style="color:#008040">2C2h                 </span>; 2C2h+0E50h = THeadFix
<span style="color:gray">RESGROUP:26D5                 </span><span style="color:navy">dw </span><span style="color:#008040">7F4h                 </span>; 7F4h+0E50h = Lh_OffUnlink
<span style="color:gray">RESGROUP:26D7 </span>ResJmpTable     <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)             </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:26DB </span>FirstCom        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:26DC </span>DevFlag         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:26DD </span>PathFlag        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">RESGROUP:26DE                 </span><span style="color:navy">db </span><span style="color:#008040">2 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">RESGROUP:26DE </span>RESGROUP        ends
<span style="color:gray">RESGROUP:26DE
</span><span style="color:gray">TRANGROUP:0000 ; ===========================================================================
</span><span style="color:gray">TRANGROUP:0000
</span><span style="color:gray">TRANGROUP:0000 ; Segment type: Pure code
</span><span style="color:gray">TRANGROUP:0000 </span>TRANGROUP       segment byte public 'CODE' use16
<span style="color:gray">TRANGROUP:0000                 </span>assume cs:TRANGROUP
<span style="color:gray">TRANGROUP:0000                 </span>assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing
<span style="color:gray">TRANGROUP:0000 </span>TRANSTART       <span style="color:navy">db </span><span style="color:#008040">256 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:black">TRANGROUP:0100 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0100 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:0100
</span><span style="color:black">TRANGROUP:0100 </span>SETDRV<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0100                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">0Eh</span>
<span style="color:black">TRANGROUP:0102                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SELECT DISK
<span style="color:black">TRANGROUP:0102                                         </span>; DL = new default drive number (0 = A, 1 = B, etc.)
<span style="color:black">TRANGROUP:0102                                         </span>; Return: AL = number of logical drives
<span style="color:black">TRANGROUP:0104
</span><span style="color:black">TRANGROUP:0104 </span>TCOMMAND<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0104                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, cs:</span>RESSEG
<span style="color:black">TRANGROUP:0109                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:010C                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, ds:</span>VerVal
<span style="color:black">TRANGROUP:0110                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:0113                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOSETVER2</span>
<span style="color:black">TRANGROUP:0115                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2Eh</span>
<span style="color:black">TRANGROUP:0117                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET VERIFY FLAG
<span style="color:black">TRANGROUP:0117                                         </span>; DL = 00h, AL = 01h VERIFY on / 00h VERIFY off
<span style="color:black">TRANGROUP:0119
</span><span style="color:black">TRANGROUP:0119 </span><span style="color:gray">NOSETVER2</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0119                 </span><span style="color:navy">call    dword ptr cs:</span>HEADCALL ; call far [cs:HEADCALL]
<span style="color:black">TRANGROUP:011E                 </span><span style="color:navy">xor     bp</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:0120                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:0125                 </span><span style="color:navy">jnz     short </span>COMMAND
<span style="color:black">TRANGROUP:0127
</span><span style="color:black">TRANGROUP:0127 </span><span style="color:gray">_$EXITPREP</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0127                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:0128                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0129                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:0129                 </span><span style="color:navy">jmp     </span>_$EXIT
<span style="color:black">TRANGROUP:012C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:012C
</span><span style="color:black">TRANGROUP:012C </span>COMMAND<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:012C                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:012D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs</span>
<span style="color:black">TRANGROUP:012F                 </span><span style="color:navy">cli
</span><span style="color:black">TRANGROUP:0130                 </span><span style="color:navy">mov     ss</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0132                 </span>assume ss:TRANGROUP
<span style="color:black">TRANGROUP:0132                 </span><span style="color:navy">mov     sp</span><span style="color:navy">, offset </span>STACK
<span style="color:black">TRANGROUP:0135                 </span><span style="color:navy">sti
</span><span style="color:black">TRANGROUP:0136                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0138                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:0138                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:013A                 </span><span style="color:navy">call    </span>TSYSLOADMSG
<span style="color:black">TRANGROUP:013D                 </span><span style="color:navy">mov     </span>append_exec<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0142                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:0146                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:0146                 </span><span style="color:navy">mov     ss:</span>UCOMBUF<span style="color:navy">, </span><span style="color:green">128</span>
<span style="color:black">TRANGROUP:014C                 </span><span style="color:navy">mov     ss:</span>COMBUF<span style="color:navy">, </span><span style="color:green">128</span>
<span style="color:black">TRANGROUP:0152                 </span><span style="color:navy">or      bp</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:0154                 </span><span style="color:navy">jz      short </span><span style="color:gray">TESTRDIR</span>
<span style="color:black">TRANGROUP:0156                 </span><span style="color:navy">mov     word ptr ss:</span>UCOMBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">, </span><span style="color:#ff8000">0D01h</span>
<span style="color:black">TRANGROUP:015D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">NOSETBUF</span>
<span style="color:black">TRANGROUP:015F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:015F
</span><span style="color:black">TRANGROUP:015F </span><span style="color:gray">TESTRDIR</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:015F                 </span><span style="color:navy">cmp     ds:</span>RestDir<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0164                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOSETBUF</span>
<span style="color:black">TRANGROUP:0166                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:0167                 </span><span style="color:navy">mov     ds:</span>RestDir<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:016C                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:016D                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:016E                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:016E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>USERDIR1
<span style="color:black">TRANGROUP:0171                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Bh</span>
<span style="color:black">TRANGROUP:0173                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
<span style="color:black">TRANGROUP:0173                                         </span>; DS:DX -&gt; ASCIZ directory name (may include drive)
<span style="color:black">TRANGROUP:0175                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0176                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:0176
</span><span style="color:black">TRANGROUP:0176 </span><span style="color:gray">NOSETBUF</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0176                 </span><span style="color:navy">cmp     ds:</span>PipeFiles<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:017B                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOPCLOSE</span>
<span style="color:black">TRANGROUP:017D                 </span><span style="color:navy">cmp     ds:</span>PipeFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0182                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOPCLOSE</span>
<span style="color:black">TRANGROUP:0184                 </span><span style="color:navy">call    </span>PIPEDEL
<span style="color:black">TRANGROUP:0187
</span><span style="color:black">TRANGROUP:0187 </span><span style="color:gray">NOPCLOSE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0187                 </span><span style="color:navy">mov     ds:</span>ExtCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:018C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs</span>
<span style="color:black">TRANGROUP:018E                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0190                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:0190                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:0191                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>STACK ; offset INTERNATVARS
<span style="color:black">TRANGROUP:0194                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3800h</span>       ; mov ax,INTERNATIONAL*256
<span style="color:black">TRANGROUP:0197                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET COUNTRY-DEPENDENT INFORMATION
<span style="color:black">TRANGROUP:0197                                         </span>; get current-country info
<span style="color:black">TRANGROUP:0197                                         </span>; DS:DX -&gt; buffer for returned info
<span style="color:black">TRANGROUP:0199                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:019A                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, </span>TPA
<span style="color:black">TRANGROUP:019E                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:019F                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">16</span>
<span style="color:black">TRANGROUP:01A2                 </span><span style="color:navy">mul     bx</span>
<span style="color:black">TRANGROUP:01A4                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:01A5                 </span><span style="color:navy">or      dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:01A7                 </span><span style="color:navy">jz      short </span><span style="color:gray">SAVSIZ</span>
<span style="color:black">TRANGROUP:01A9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:01AC
</span><span style="color:black">TRANGROUP:01AC </span><span style="color:gray">SAVSIZ</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:01AC                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">512</span>
<span style="color:black">TRANGROUP:01AF                 </span><span style="color:navy">jbe     short </span><span style="color:gray">GOTSIZE</span>
<span style="color:black">TRANGROUP:01B1                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">0FE00h</span>      ; ~1FFh (NOT 511)
<span style="color:black">TRANGROUP:01B4
</span><span style="color:black">TRANGROUP:01B4 </span><span style="color:gray">GOTSIZE</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:01B4                 </span><span style="color:navy">mov     </span>BYTCNT<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:01B7                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:01BB                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:01BB                 </span><span style="color:navy">test    ds:</span>EchoFlag<span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:01C0                 </span><span style="color:navy">jz      short </span><span style="color:gray">GETCOM</span>
<span style="color:black">TRANGROUP:01C2                 </span><span style="color:navy">call    </span>SINGLETEST
<span style="color:black">TRANGROUP:01C5                 </span><span style="color:navy">jb      short </span><span style="color:gray">GETCOM</span>
<span style="color:black">TRANGROUP:01C7                 </span><span style="color:navy">test    ds:</span>PipeFlag<span style="color:navy">, </span><span style="color:green">0FFh</span> ; -1
<span style="color:black">TRANGROUP:01CC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GETCOM</span>
<span style="color:black">TRANGROUP:01CE                 </span><span style="color:navy">test    ds:</span>ForFlag<span style="color:navy">, </span><span style="color:green">0FFh</span>
<span style="color:black">TRANGROUP:01D3                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GETCOM</span>
<span style="color:black">TRANGROUP:01D5                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:01DB                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GETCOM</span>
<span style="color:black">TRANGROUP:01DD                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:01E0
</span><span style="color:black">TRANGROUP:01E0 </span><span style="color:gray">GETCOM</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:01E0                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:01E5                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GETCOM2</span>
<span style="color:black">TRANGROUP:01E7                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:01ED                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GETCOM2</span>
<span style="color:black">TRANGROUP:01EF                 </span><span style="color:navy">and     byte ptr ds:</span>Y_Flag<span style="color:navy">, </span><span style="color:green">0EFh</span> ; Y/N question overwrite flag
<span style="color:black">TRANGROUP:01F4
</span><span style="color:black">TRANGROUP:01F4 </span><span style="color:gray">GETCOM2</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:01F4                 </span><span style="color:navy">mov     ds:</span>Call_Flag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:01F9                 </span><span style="color:navy">mov     ds:</span>Call_Batch_Flag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:01FE                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">19h</span>
<span style="color:black">TRANGROUP:0200                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET DEFAULT DISK NUMBER
<span style="color:black">TRANGROUP:0202                 </span><span style="color:navy">mov     ss:</span>CURDRV<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0206                 </span><span style="color:navy">test    ds:</span>PipeFlag<span style="color:navy">, </span><span style="color:green">0FFh</span>
<span style="color:black">TRANGROUP:020B                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOPIPE</span>
<span style="color:black">TRANGROUP:020D                 </span><span style="color:navy">jmp     </span><span style="color:gray">PIPEPROC</span>
<span style="color:black">TRANGROUP:0210 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0210
</span><span style="color:black">TRANGROUP:0210 </span><span style="color:gray">NOPIPE</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0210                 </span><span style="color:navy">test    ds:</span>EchoFlag<span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:0215                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOPDRV</span>
<span style="color:black">TRANGROUP:0217                 </span><span style="color:navy">call    </span>SINGLETEST
<span style="color:black">TRANGROUP:021A                 </span><span style="color:navy">jb      short </span><span style="color:gray">NOPDRV</span>
<span style="color:black">TRANGROUP:021C                 </span><span style="color:navy">test    ds:</span>ForFlag<span style="color:navy">, </span><span style="color:green">0FFh</span>
<span style="color:black">TRANGROUP:0221                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOPDRV</span>
<span style="color:black">TRANGROUP:0223                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:0229                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TESTFORBAT</span>
<span style="color:black">TRANGROUP:022B                 </span><span style="color:navy">call    </span>PRINT_PROMPT
<span style="color:black">TRANGROUP:022E
</span><span style="color:black">TRANGROUP:022E </span><span style="color:gray">NOPDRV</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:022E                 </span><span style="color:navy">test    ds:</span>ForFlag<span style="color:navy">, </span><span style="color:green">0FFh</span>
<span style="color:black">TRANGROUP:0233                 </span><span style="color:navy">jz      short </span><span style="color:gray">TESTFORBAT</span>
<span style="color:black">TRANGROUP:0235                 </span><span style="color:navy">jmp     </span><span style="color:gray">FORPROC</span>
<span style="color:black">TRANGROUP:0238 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0238
</span><span style="color:black">TRANGROUP:0238 </span><span style="color:gray">TESTFORBAT</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0238                 </span><span style="color:navy">mov     ss:</span>RE_INSTR<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:023E                 </span><span style="color:navy">mov     ds:</span>Re_OutStr<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0243                 </span><span style="color:navy">mov     ds:</span>Re_Out_App<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0248                 </span><span style="color:navy">mov     ds:</span>IfFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:024D                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:0253                 </span><span style="color:navy">jz      short </span><span style="color:gray">ISNOBAT</span>
<span style="color:black">TRANGROUP:0255                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:0256                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:0257                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1902h</span>       ; mult_shell_get
<span style="color:black">TRANGROUP:025A                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>Batch
<span style="color:black">TRANGROUP:025E                 </span>assume es:nothing
<span style="color:black">TRANGROUP:025E                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:0261                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:0262                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0263                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:0263                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>COMBUF
<span style="color:black">TRANGROUP:0266                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - DOS 4.x only SHELLB.COM - COMMAND.COM INTERFACE
<span style="color:black">TRANGROUP:0266                                         </span>; ES:DI -&gt; ASCIZ full filename of current batch file, with at least the
<span style="color:black">TRANGROUP:0266                                         </span>; final filename element uppercased
<span style="color:black">TRANGROUP:0266                                         </span>; DS:DX -&gt; buffer for results
<span style="color:black">TRANGROUP:0268                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; shell_action
<span style="color:black">TRANGROUP:026A                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:026B                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:026B                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:026C                 </span><span style="color:navy">jz      short </span><span style="color:gray">JDOCOM1</span>
<span style="color:black">TRANGROUP:026E                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:026F                 </span><span style="color:navy">call    </span>READBAT
<span style="color:black">TRANGROUP:0272                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0273                 </span><span style="color:navy">mov     ds:</span>NullFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0278                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:027E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">JDOCOM1</span>
<span style="color:black">TRANGROUP:0280                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>Next_Batch
<span style="color:black">TRANGROUP:0284                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0287                 </span><span style="color:navy">jz      short </span><span style="color:gray">JDOCOM1</span>
<span style="color:black">TRANGROUP:0289                 </span><span style="color:navy">mov     ds:</span>Batch<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:028D                 </span><span style="color:navy">mov     ds:</span>Next_Batch<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0293
</span><span style="color:black">TRANGROUP:0293 </span><span style="color:gray">JDOCOM1</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0293                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:0294                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0295                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:0295                 </span><span style="color:navy">jmp     short </span>DOCOM0
<span style="color:black">TRANGROUP:0297 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0297
</span><span style="color:black">TRANGROUP:0297 </span><span style="color:gray">ISNOBAT</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0297                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:029C                 </span><span style="color:navy">jz      short </span><span style="color:gray">REGCOM</span>
<span style="color:black">TRANGROUP:029E                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>SemiPermCom
<span style="color:black">TRANGROUP:02A2                 </span><span style="color:navy">xchg    si</span><span style="color:navy">, ds:</span>SingleCom
<span style="color:black">TRANGROUP:02A6                 </span><span style="color:navy">mov     di</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:02A9                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:02AB
</span><span style="color:black">TRANGROUP:02AB </span><span style="color:gray">SINGLELOOP</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:02AB                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:02AC                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:02AD                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:02AE                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:02B0                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SINGLELOOP</span>
<span style="color:black">TRANGROUP:02B2                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:02B3                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:02B4                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:02B5                 </span><span style="color:navy">mov     </span>COMBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:02B9                 </span><span style="color:navy">jmp     short </span>DOCOM0
<span style="color:black">TRANGROUP:02BB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:02BB
</span><span style="color:black">TRANGROUP:02BB </span><span style="color:gray">REGCOM</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:02BB                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5D09h</span>       ; (SERVERCALL&lt;&lt;8)+9
<span style="color:black">TRANGROUP:02BE                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3.1+ internal - FLUSH REDIRECTED PRINTER OUTPUT
<span style="color:black">TRANGROUP:02C0                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5D08h</span>       ; (SERVERCALL&lt;&lt;8)+8
<span style="color:black">TRANGROUP:02C3                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:02C5                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3.1+ internal - SET REDIRECTED PRINTER MODE
<span style="color:black">TRANGROUP:02C5                                         </span>; DL = 00h redirected output is combined
<span style="color:black">TRANGROUP:02C5                                         </span>;      01h redirected output placed in separate jobs
<span style="color:black">TRANGROUP:02C5                                         </span>; start new print job now
<span style="color:black">TRANGROUP:02C7                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:02C8                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:02C9                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>UCOMBUF
<span style="color:black">TRANGROUP:02CC                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4810h</span>       ; AX = DOSKey Read Line function
<span style="color:black">TRANGROUP:02CF                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>
<span style="color:black">TRANGROUP:02D1                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:02D3                 </span><span style="color:navy">jz      short </span><span style="color:gray">GOTCOM</span>
<span style="color:black">TRANGROUP:02D5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">0Ah</span>         ; Std_Con_String_Input
<span style="color:black">TRANGROUP:02D7                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - BUFFERED KEYBOARD INPUT
<span style="color:black">TRANGROUP:02D7                                         </span>; DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:02D9
</span><span style="color:black">TRANGROUP:02D9 </span><span style="color:gray">GOTCOM</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:02D9                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span>UCOMBUF
<span style="color:black">TRANGROUP:02DD                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:02DF                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:02E2                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>UCOMBUF
<span style="color:black">TRANGROUP:02E5                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>COMBUF
<span style="color:black">TRANGROUP:02E8                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:02EA                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:02ED                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:02EF                 </span><span style="color:navy">jmp     short </span><span style="color:gray">DOCOM2</span>
<span style="color:black">TRANGROUP:02F1 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:02F1
</span><span style="color:black">TRANGROUP:02F1 </span><span style="color:gray">DOCOM</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:02F1                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:02F4
</span><span style="color:black">TRANGROUP:02F4 </span>DOCOM0<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:02F4                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; cox_Y_option = yes (1)
<span style="color:black">TRANGROUP:02F7
</span><span style="color:black">TRANGROUP:02F7 </span><span style="color:gray">DOCOM2</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:02F7                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:02F8                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:02FC                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:02FC                 </span><span style="color:navy">mov     ds:</span>cox_Y_option<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:02FF                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0300                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>COMBUF
<span style="color:black">TRANGROUP:0303                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:0306                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:0308                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:030B                 </span><span style="color:navy">call    </span>get_cox_y_n_opt
<span style="color:black">TRANGROUP:030E                 </span><span style="color:navy">jnb     short </span>DOCOM1    ; YES answer
<span style="color:black">TRANGROUP:0310                 </span><span style="color:navy">jmp     </span><span style="color:gray">NULLCOM</span>         ; NO answer
<span style="color:black">TRANGROUP:0313 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0313
</span><span style="color:black">TRANGROUP:0313 </span>DOCOM1<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0313                 </span><span style="color:navy">call    </span>PRESCAN
<span style="color:black">TRANGROUP:0316                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOPIPEPROC</span>
<span style="color:black">TRANGROUP:0318                 </span><span style="color:navy">jmp     </span><span style="color:gray">PIPEPROCSTRT</span>
<span style="color:black">TRANGROUP:031B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:031B
</span><span style="color:black">TRANGROUP:031B </span>NULLCOMJ<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:031B                 </span><span style="color:navy">jmp     </span><span style="color:gray">NULLCOM</span>
<span style="color:black">TRANGROUP:031E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:031E
</span><span style="color:black">TRANGROUP:031E </span><span style="color:gray">NOPIPEPROC</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:031E                 </span><span style="color:navy">call    </span>PARSELINE
<span style="color:black">TRANGROUP:0321                 </span><span style="color:navy">jnb     short </span><span style="color:gray">OKPARSE</span>
<span style="color:black">TRANGROUP:0323
</span><span style="color:black">TRANGROUP:0323 </span><span style="color:gray">BADPARSE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0323                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:0324                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0325                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:0325                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADNAM_PTR
<span style="color:black">TRANGROUP:0328                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:032B                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:032E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:032E
</span><span style="color:black">TRANGROUP:032E </span><span style="color:gray">OKPARSE</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:032E                 </span><span style="color:navy">test    </span>ARGV0_ARG_FLAGS<span style="color:navy">, </span><span style="color:green">2</span> ; [ARG+ARGV_ELE.argflags],wildcard
<span style="color:black">TRANGROUP:0333                 </span><span style="color:navy">jnz     short </span><span style="color:gray">BADPARSE</span>
<span style="color:black">TRANGROUP:0335                 </span><span style="color:navy">cmp     </span>ARG_ARGVCNT<span style="color:navy">, </span><span style="color:#ff8000">0</span>  ;  [ARG+ARG_UNIT.argvcnt]
<span style="color:black">TRANGROUP:033A                 </span><span style="color:navy">jz      short </span>NULLCOMJ
<span style="color:black">TRANGROUP:033C                 </span><span style="color:navy">cmp     </span>ARGV0_ARGLEN<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [ARG+ARGV_ELE.arglen]
<span style="color:black">TRANGROUP:0341                 </span><span style="color:navy">jz      short </span>NULLCOMJ
<span style="color:black">TRANGROUP:0343                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:0346                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>IDLEN
<span style="color:black">TRANGROUP:0349                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">2901h</span>
<span style="color:black">TRANGROUP:034C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - PARSE FILENAME
<span style="color:black">TRANGROUP:034C                                         </span>; DS:SI -&gt; string to parse
<span style="color:black">TRANGROUP:034C                                         </span>; ES:DI -&gt; buffer to fill with unopened FCB
<span style="color:black">TRANGROUP:034C                                         </span>; AL = bit mask to control parsing
<span style="color:black">TRANGROUP:034E                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span>ARG_ARGV    ; [ARG+ARG_UNIT.argv]
<span style="color:black">TRANGROUP:0352                 </span><span style="color:navy">cmp     byte ptr [bx+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:0356                 </span><span style="color:navy">jnz     short </span>DRVGD
<span style="color:black">TRANGROUP:0358                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, [bx]</span>
<span style="color:black">TRANGROUP:035A                 </span><span style="color:navy">and     dl</span><span style="color:navy">, </span><span style="color:green">0DFh</span>
<span style="color:black">TRANGROUP:035D                 </span><span style="color:navy">sub     dl</span><span style="color:navy">, </span><span style="color:green">'A'</span>
<span style="color:black">TRANGROUP:0360                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; -1
<span style="color:black">TRANGROUP:0362                 </span><span style="color:navy">jz      short </span>DRVBADJ
<span style="color:black">TRANGROUP:0364                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span>ARGV0_ARGSTARTEL ; [ARG+ARGV_ELE.argstartel]
<span style="color:black">TRANGROUP:0368                 </span><span style="color:navy">cmp     byte ptr [di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:036B                 </span><span style="color:navy">jnz     short </span>DRVGD
<span style="color:black">TRANGROUP:036D                 </span><span style="color:navy">jmp     </span>SETDRV
<span style="color:black">TRANGROUP:0370 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0370
</span><span style="color:black">TRANGROUP:0370 </span>DRVBADJ<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0370                 </span><span style="color:navy">jmp     </span>DRVBAD
<span style="color:black">TRANGROUP:0373 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0373
</span><span style="color:black">TRANGROUP:0373 </span>DRVGD<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0373                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [di]</span>
<span style="color:black">TRANGROUP:0375                 </span><span style="color:navy">mov     </span>SPECDRV<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0378                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:037A                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">TRANGROUP:037D                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:037E                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:0380                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:black">TRANGROUP:0382                 </span><span style="color:navy">sub     al</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:0384                 </span><span style="color:navy">mov     </span>IDLEN<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0387                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:038A                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:038B                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:038E                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:0391                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:0392
</span><span style="color:black">TRANGROUP:0392 </span>DO_SKIPCOM<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0392                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0393                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:0396                 </span><span style="color:navy">jz      short </span>DO_SKIPPED
<span style="color:black">TRANGROUP:0398                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:039A                 </span><span style="color:navy">jz      short </span>DO_SKIPPED
<span style="color:black">TRANGROUP:039C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span>SWITCHAR
<span style="color:black">TRANGROUP:03A0                 </span><span style="color:navy">jnz     short </span>DO_SKIPCOM
<span style="color:black">TRANGROUP:03A2
</span><span style="color:black">TRANGROUP:03A2 </span>DO_SKIPPED<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:03A2                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:03A3                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:03A5
</span><span style="color:black">TRANGROUP:03A5 </span>COMTAIL<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:03A5                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:03A6                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:03A7                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:03A9                 </span><span style="color:navy">loopne  </span>COMTAIL
<span style="color:black">TRANGROUP:03AB                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:03AC                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:03AE                 </span><span style="color:navy">not     cl</span>
<span style="color:black">TRANGROUP:03B0                 </span><span style="color:navy">mov     </span>TRANSTART<span style="color:navy">+</span><span style="color:green">80h</span><span style="color:navy">, cl</span> ; mov [80h],cl
<span style="color:black">TRANGROUP:03B4                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:03B5                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span>ARGV0_ARGSW_WORD ; [ARG+ARGV_ELE.argsw_word]
<span style="color:black">TRANGROUP:03B9                 </span><span style="color:navy">mov     </span>COMSW<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:03BD                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span>ARGV1_ARGPOINTER ; [ARG+ARGV_ELE.SIZE+ARGV_ELE.argpointer]
<span style="color:black">TRANGROUP:03C1                 </span><span style="color:navy">or      si</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:03C3                 </span><span style="color:navy">jnz     short </span>DOPARSE
<span style="color:black">TRANGROUP:03C5                 </span><span style="color:navy">mov     si</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:03C7
</span><span style="color:black">TRANGROUP:03C7 </span>DOPARSE<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:03C7                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">5Ch</span>         ; mov di,FCB ; 5Ch
<span style="color:black">TRANGROUP:03CA                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">2901h</span>
<span style="color:black">TRANGROUP:03CD                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - PARSE FILENAME
<span style="color:black">TRANGROUP:03CD                                         </span>; DS:SI -&gt; string to parse
<span style="color:black">TRANGROUP:03CD                                         </span>; ES:DI -&gt; buffer to fill with unopened FCB
<span style="color:black">TRANGROUP:03CD                                         </span>; AL = bit mask to control parsing
<span style="color:black">TRANGROUP:03CF                 </span><span style="color:navy">mov     </span>PARM1<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:03D2                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span>ARGV1_ARGSW_WORD ; [ARG+ARGV_ELE.SIZE+ARGV_ELE.argsw_word]
<span style="color:black">TRANGROUP:03D6                 </span><span style="color:navy">mov     </span>ARG1S<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:03DA                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span>ARGV2_ARGPOINTER ; [ARG+(2*ARGV_ELE.SIZE)+ARGV_ELE.argpointer]
<span style="color:black">TRANGROUP:03DE                 </span><span style="color:navy">or      si</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:03E0                 </span><span style="color:navy">jnz     short </span>DOPARSE2
<span style="color:black">TRANGROUP:03E2                 </span><span style="color:navy">mov     si</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:03E4
</span><span style="color:black">TRANGROUP:03E4 </span>DOPARSE2<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:03E4                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">6Ch</span>         ; mov di,FCB+10h ; 6Ch
<span style="color:black">TRANGROUP:03E7                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">2901h</span>
<span style="color:black">TRANGROUP:03EA                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - PARSE FILENAME
<span style="color:black">TRANGROUP:03EA                                         </span>; DS:SI -&gt; string to parse
<span style="color:black">TRANGROUP:03EA                                         </span>; ES:DI -&gt; buffer to fill with unopened FCB
<span style="color:black">TRANGROUP:03EA                                         </span>; AL = bit mask to control parsing
<span style="color:black">TRANGROUP:03EC                 </span><span style="color:navy">mov     </span>PARM2<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:03EF                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span>ARGV2_ARGSW_WORD ; [ARG+(2*ARGV_ELE.SIZE)+ARGV_ELE.argsw_word]
<span style="color:black">TRANGROUP:03F3                 </span><span style="color:navy">mov     </span>ARG2S<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:03F7                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span>ARGV0_ARGSW_WORD ; [ARG+ARGV_ELE.argsw_word]
<span style="color:black">TRANGROUP:03FB                 </span><span style="color:navy">not     di</span>
<span style="color:black">TRANGROUP:03FD                 </span><span style="color:navy">and     di</span><span style="color:navy">, </span>ARG_ARGSWINFO ; [ARG+ARG_UNIT.argswinfo]
<span style="color:black">TRANGROUP:0401                 </span><span style="color:navy">mov     </span>ARGTS<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:0405                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span>IDLEN
<span style="color:black">TRANGROUP:0408                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span>SPECDRV
<span style="color:black">TRANGROUP:040C                 </span><span style="color:navy">or      dl</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:040E                 </span><span style="color:navy">jnz     short </span>EXTERNALJ1
<span style="color:black">TRANGROUP:0410                 </span><span style="color:navy">dec     al</span>
<span style="color:black">TRANGROUP:0412                 </span><span style="color:navy">jmp     </span>FNDCOM
<span style="color:black">TRANGROUP:0415 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0415
</span><span style="color:black">TRANGROUP:0415 </span>EXTERNALJ1<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0415                 </span><span style="color:navy">jmp     </span>EXTERNAL
<span style="color:black">TRANGROUP:0418 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0418
</span><span style="color:black">TRANGROUP:0418 </span><span style="color:gray">NULLCOM</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0418                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:041C                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:041C                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:0422                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOSETFLAG</span>
<span style="color:black">TRANGROUP:0424                 </span><span style="color:navy">mov     ds:</span>NullFlag<span style="color:navy">, </span><span style="color:#ff8000">1</span>  ; mov byte [NullFlag],nullcommand
<span style="color:black">TRANGROUP:0429
</span><span style="color:black">TRANGROUP:0429 </span><span style="color:gray">NOSETFLAG</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0429                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:042E                 </span><span style="color:navy">jz      short </span>EXITJ
<span style="color:black">TRANGROUP:0430                 </span><span style="color:navy">jmp     </span><span style="color:gray">GETCOM</span>
<span style="color:black">TRANGROUP:0433 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0433
</span><span style="color:black">TRANGROUP:0433 </span>EXITJ<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0433                 </span><span style="color:navy">jmp     </span><span style="color:gray">_$EXITPREP</span>
<span style="color:black">TRANGROUP:0433 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:0436
</span><span style="color:black">TRANGROUP:0436 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:0436
</span><span style="color:black">TRANGROUP:0436
</span><span style="color:black">TRANGROUP:0436 </span>get_cox_y_n_opt proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0436                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">ccydp4</span>    ; empty input buffer
<span style="color:black">TRANGROUP:0438
</span><span style="color:black">TRANGROUP:0438 </span>ccydp0<span style="color:navy">:
</span><span style="color:black">TRANGROUP:0438                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:043B                 </span><span style="color:navy">jz      short </span><span style="color:gray">ccydp4</span>
<span style="color:black">TRANGROUP:043D                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0Ah</span>
<span style="color:black">TRANGROUP:0440                 </span><span style="color:navy">jz      short </span><span style="color:gray">ccydp4</span>
<span style="color:black">TRANGROUP:0442                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:0443                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:0447                 </span><span style="color:navy">mov     al</span><span style="color:navy">, byte ptr es:</span>Y_Flag
<span style="color:black">TRANGROUP:044B                 </span><span style="color:navy">test    al</span><span style="color:navy">, </span><span style="color:green">10h</span>         ; bit 1 = 1 -&gt; Y/N answer is needed
<span style="color:black">TRANGROUP:044D                 </span><span style="color:navy">jz      short </span><span style="color:gray">ccydp3</span>
<span style="color:black">TRANGROUP:044F                 </span><span style="color:navy">cmp     es:</span>Call_Batch_Flag<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; (in) Batch file ?
<span style="color:black">TRANGROUP:0455                 </span><span style="color:navy">jz      short </span><span style="color:gray">ccydp3</span>    ; yes, don't check for ESCAPE
<span style="color:black">TRANGROUP:0457                 </span><span style="color:navy">test    al</span><span style="color:navy">, </span><span style="color:green">40h</span>         ; ESCAPE status
<span style="color:black">TRANGROUP:0457                                         </span>; (bit 4 is zero if Y/N is excaped)
<span style="color:black">TRANGROUP:0459                 </span><span style="color:navy">jz      short </span><span style="color:gray">ccydp5</span>
<span style="color:black">TRANGROUP:045B
</span><span style="color:black">TRANGROUP:045B </span>ccydp1<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:045B                 </span><span style="color:navy">test    es:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:0462                 </span><span style="color:navy">jz      short </span><span style="color:gray">ccydp2</span>
<span style="color:black">TRANGROUP:0464                 </span><span style="color:navy">mov     es</span><span style="color:navy">, es:</span>Batch
<span style="color:black">TRANGROUP:0469                 </span><span style="color:navy">mov     byte ptr es:</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">1</span> ; [es:BATCHSEGMENT.BatchEOF]
<span style="color:black">TRANGROUP:046F
</span><span style="color:black">TRANGROUP:046F </span><span style="color:gray">ccydp2</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:046F                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:0470                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0471                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0472 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0472
</span><span style="color:black">TRANGROUP:0472 </span><span style="color:gray">ccydp3</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0472                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0473
</span><span style="color:black">TRANGROUP:0473 </span><span style="color:gray">ccydp4</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0473                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:0474                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0475 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0475
</span><span style="color:black">TRANGROUP:0475 </span><span style="color:gray">ccydp5</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0475                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:0477                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:047A                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:047C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - WRITE TO FILE WITH HANDLE
<span style="color:black">TRANGROUP:047C                                         </span>; BX = file handle, CX = number of bytes to write, DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:047E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>cox_Y_quest_ptr ; msg number pointer of ' [Y/N]?' (is 1082)
<span style="color:black">TRANGROUP:0481                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:0484                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:0485                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">1083</span>        ; cox_Y_answer number (overwrite Y/N answer letter)
<span style="color:black">TRANGROUP:0488                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; utility_msg_class
<span style="color:black">TRANGROUP:048A                 </span><span style="color:navy">call    </span>TSYSGETMSG
<span style="color:black">TRANGROUP:048D                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">'NY'</span>        ; 'YN' Yes/No (CL=Y)
<span style="color:black">TRANGROUP:0490                 </span><span style="color:navy">jb      short </span><span style="color:gray">ccydp6</span>
<span style="color:black">TRANGROUP:0492                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:0494
</span><span style="color:black">TRANGROUP:0494 </span><span style="color:gray">ccydp6</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0494                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0495
</span><span style="color:black">TRANGROUP:0495 </span><span style="color:gray">ccydp7</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0495                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">8</span>
<span style="color:black">TRANGROUP:0497                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - KEYBOARD INPUT, NO ECHO
<span style="color:black">TRANGROUP:0497                                         </span>; Return: AL = character
<span style="color:black">TRANGROUP:0499                 </span><span style="color:navy">test    al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:049B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ccydp8</span>
<span style="color:black">TRANGROUP:049D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">8</span>
<span style="color:black">TRANGROUP:049F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - KEYBOARD INPUT, NO ECHO
<span style="color:black">TRANGROUP:049F                                         </span>; Return: AL = character
<span style="color:black">TRANGROUP:04A1                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'?'</span>
<span style="color:black">TRANGROUP:04A3                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ccydp7</span>
<span style="color:black">TRANGROUP:04A5                 </span><span style="color:navy">or      byte ptr es:</span>Y_Flag<span style="color:navy">, </span><span style="color:green">40h</span> ; bit 4, question flag
<span style="color:black">TRANGROUP:04AB                 </span><span style="color:navy">jmp     short </span>ccydp1
<span style="color:black">TRANGROUP:04AD </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:04AD
</span><span style="color:black">TRANGROUP:04AD </span><span style="color:gray">ccydp8</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:04AD                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">1Bh</span>         ; ESCAPE ?
<span style="color:black">TRANGROUP:04AF                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ccydp9</span>
<span style="color:black">TRANGROUP:04B1                 </span><span style="color:navy">and     byte ptr es:</span>Y_Flag<span style="color:navy">, </span><span style="color:green">0EFh</span> ; (ESCAPE) Clear bit 4 ; ~10h
<span style="color:black">TRANGROUP:04B7                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ccydp12</span>
<span style="color:black">TRANGROUP:04B9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:04B9
</span><span style="color:black">TRANGROUP:04B9 </span><span style="color:gray">ccydp9</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:04B9                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">0DFh</span>        ; uppercase
<span style="color:black">TRANGROUP:04BB                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ch</span>          ; NO character (N)
<span style="color:black">TRANGROUP:04BD                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ccydp10</span>
<span style="color:black">TRANGROUP:04BF                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:04C0                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ccydp11</span>   ; cf = 1 -&gt; overwrite NO answer
<span style="color:black">TRANGROUP:04C2 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:04C2
</span><span style="color:black">TRANGROUP:04C2 </span><span style="color:gray">ccydp10</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:04C2                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, cl</span>          ; YES character (Y)
<span style="color:black">TRANGROUP:04C4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ccydp7</span>
<span style="color:black">TRANGROUP:04C6
</span><span style="color:black">TRANGROUP:04C6 </span><span style="color:gray">ccydp11</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:04C6                 </span><span style="color:navy">pushf                   </span>; cf = 0 -&gt; overwrite YES answer
<span style="color:black">TRANGROUP:04C7                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:04C9                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:04CB                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - DISPLAY OUTPUT
<span style="color:black">TRANGROUP:04CB                                         </span>; DL = character to send to standard output
<span style="color:black">TRANGROUP:04CD                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:04CE
</span><span style="color:black">TRANGROUP:04CE </span><span style="color:gray">ccydp12</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:04CE                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:04CF                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:04D2                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:04D3                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:04D4                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:04D4 </span>get_cox_y_n_opt endp
<span style="color:black">TRANGROUP:04D4
</span><span style="color:black">TRANGROUP:04D5
</span><span style="color:black">TRANGROUP:04D5 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:04D5
</span><span style="color:black">TRANGROUP:04D5
</span><span style="color:black">TRANGROUP:04D5 </span>ROM_SCAN        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:04D5                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:04D6                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:04D7                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:04D8                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:04D9                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:04DA                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:04DB                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0F000h</span>
<span style="color:black">TRANGROUP:04DE                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:04E0                 </span>assume es:nothing
<span style="color:black">TRANGROUP:04E0                 </span><span style="color:navy">cmp     byte ptr es:</span><span style="color:green">0FFFEh</span><span style="color:navy">, </span><span style="color:green">0FDh</span>
<span style="color:black">TRANGROUP:04E6                 </span><span style="color:navy">jz      short </span><span style="color:gray">SCAN_IT</span>
<span style="color:black">TRANGROUP:04E8
</span><span style="color:black">TRANGROUP:04E8 </span><span style="color:gray">NO_ROM</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:04E8                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:04E9
</span><span style="color:black">TRANGROUP:04E9 </span><span style="color:gray">ROM_RET</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:04E9                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:04EA                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:04EB                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:04EC                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:04ED                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:04EE                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:04EF                 </span>assume es:nothing
<span style="color:black">TRANGROUP:04EF                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:04F0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:04F0
</span><span style="color:black">TRANGROUP:04F0 </span><span style="color:gray">SCAN_IT</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:04F0                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0C000h</span>
<span style="color:black">TRANGROUP:04F3
</span><span style="color:black">TRANGROUP:04F3 </span><span style="color:gray">SCAN_ONE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:04F3                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:04F5                 </span>assume es:nothing
<span style="color:black">TRANGROUP:04F5                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:04F7                 </span><span style="color:navy">cmp     word ptr es:[di]</span><span style="color:navy">, </span><span style="color:green">0AA55h</span>
<span style="color:black">TRANGROUP:04FC                 </span><span style="color:navy">jz      short </span>SCAN_LIST
<span style="color:black">TRANGROUP:04FE                 </span><span style="color:navy">add     ax</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:0501
</span><span style="color:black">TRANGROUP:0501 </span><span style="color:gray">SCAN_END</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0501                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0F000h</span>
<span style="color:black">TRANGROUP:0504                 </span><span style="color:navy">jb      short </span><span style="color:gray">SCAN_ONE</span>
<span style="color:black">TRANGROUP:0506                 </span><span style="color:navy">jmp     short </span><span style="color:gray">NO_ROM</span>
<span style="color:black">TRANGROUP:0508 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0508
</span><span style="color:black">TRANGROUP:0508 </span>SCAN_LIST<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0508                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, es:[di+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>   ; [es:di+ROM_HEADER.rom_length]
<span style="color:black">TRANGROUP:050C                 </span><span style="color:navy">xor     bh</span><span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:050E                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:0510                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:0512                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:green">7Fh</span>
<span style="color:black">TRANGROUP:0515                 </span><span style="color:navy">and     bx</span><span style="color:navy">, </span><span style="color:green">0FF80h</span>      ; round to 2k
<span style="color:black">TRANGROUP:0518                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>           ; ROM_HEADER.name_list
<span style="color:black">TRANGROUP:051B
</span><span style="color:black">TRANGROUP:051B </span>SCAN_NAME<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:051B                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:051E                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:051F                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:0521                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:0523                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SCAN_TEST</span>
<span style="color:black">TRANGROUP:0525                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:0527                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SCAN_END</span>
<span style="color:black">TRANGROUP:0529 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0529
</span><span style="color:black">TRANGROUP:0529 </span><span style="color:gray">SCAN_TEST</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0529                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:052B                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:052C                 </span><span style="color:navy">repe cmpsb
</span><span style="color:black">TRANGROUP:052E                 </span><span style="color:navy">jz      short </span><span style="color:gray">SCAN_FOUND</span>
<span style="color:black">TRANGROUP:0530
</span><span style="color:black">TRANGROUP:0530 </span>SCAN_NEXT<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0530                 </span><span style="color:navy">add     di</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:0532                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:0535                 </span><span style="color:navy">jmp     short </span>SCAN_NAME
<span style="color:black">TRANGROUP:0537 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0537
</span><span style="color:black">TRANGROUP:0537 </span><span style="color:gray">SCAN_FOUND</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0537                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">3Fh</span> <span style="color:gray">; '?'
</span><span style="color:black">TRANGROUP:053A                 </span><span style="color:navy">jz      short </span>SCAN_SAVE
<span style="color:black">TRANGROUP:053C                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:053F                 </span><span style="color:navy">jnz     short </span>SCAN_NEXT
<span style="color:black">TRANGROUP:0541
</span><span style="color:black">TRANGROUP:0541 </span>SCAN_SAVE<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0541                 </span><span style="color:navy">mov     cs:</span>ROM_CS<span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:0546                 </span><span style="color:navy">mov     cs:</span>ROM_IP<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:054B                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:054C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ROM_RET</span>
<span style="color:black">TRANGROUP:054C </span>ROM_SCAN        endp
<span style="color:black">TRANGROUP:054C
</span><span style="color:black">TRANGROUP:054E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:054E </span><span style="color:gray">; START OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:054E
</span><span style="color:black">TRANGROUP:054E </span>ROM_EXEC<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:054E                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:0551                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>
<span style="color:black">TRANGROUP:0553                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:black">TRANGROUP:0553                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:black">TRANGROUP:0555                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>
<span style="color:black">TRANGROUP:0557                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:black">TRANGROUP:0557                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:black">TRANGROUP:0559                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:055A                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:055B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2522h</span>       ; (SET_INTERRUPT_VECTOR&lt;&lt;8)+INT_TERMINATE
<span style="color:black">TRANGROUP:055E                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:055F                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, cs:</span>RESSEG
<span style="color:black">TRANGROUP:0564                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>Exec_Wait
<span style="color:black">TRANGROUP:0567                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET INTERRUPT VECTOR
<span style="color:black">TRANGROUP:0567                                         </span>; AL = interrupt number
<span style="color:black">TRANGROUP:0567                                         </span>; DS:DX = new vector to be used for specified interrupt
<span style="color:black">TRANGROUP:0569                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds</span>
<span style="color:black">TRANGROUP:056B                 </span><span style="color:navy">mov     es</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:056D                 </span>assume es:nothing
<span style="color:black">TRANGROUP:056D                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:056E                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:056F                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">55h</span>
<span style="color:black">TRANGROUP:0571                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ internal - CREATE PSP
<span style="color:black">TRANGROUP:0571                                         </span>; DX = segment number at which to set up PSP
<span style="color:black">TRANGROUP:0571                                         </span>; SI = (DOS 3+) value to place in memory size field at DX:[0002h]
<span style="color:black">TRANGROUP:0573                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:0575                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:0578                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">1Ah</span>
<span style="color:black">TRANGROUP:057A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET DISK TRANSFER AREA ADDRESS
<span style="color:black">TRANGROUP:057A                                         </span>; DS:DX -&gt; disk transfer buffer
<span style="color:black">TRANGROUP:057C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span>EnvirSeg
<span style="color:black">TRANGROUP:0580                 </span><span style="color:navy">mov     ds:</span><span style="color:green">2Ch</span><span style="color:navy">, ax</span>      ; [PDB.ENVIRON]
<span style="color:black">TRANGROUP:0583                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:0584                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds</span>
<span style="color:black">TRANGROUP:0586                 </span><span style="color:navy">add     dx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:0588                 </span><span style="color:navy">mov     ds:</span><span style="color:green">2</span><span style="color:navy">, dx</span>        ; [PDB.BLOCK_LEN]
<span style="color:black">TRANGROUP:058C                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds</span>
<span style="color:black">TRANGROUP:058E                 </span><span style="color:navy">dec     dx</span>
<span style="color:black">TRANGROUP:058F                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:0591                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:0591                 </span><span style="color:navy">inc     dx</span>
<span style="color:black">TRANGROUP:0592                 </span><span style="color:navy">mov     ds:</span><span style="color:green">1</span><span style="color:navy">, dx</span>        ; [ARENA.owner]
<span style="color:black">TRANGROUP:0596                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:0598                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:0598                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1000h</span>
<span style="color:black">TRANGROUP:059C                 </span><span style="color:navy">jb      short </span>GOT_STACK
<span style="color:black">TRANGROUP:059E                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:05A0
</span><span style="color:black">TRANGROUP:05A0 </span>GOT_STACK<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:05A0                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:05A2                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:05A4                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds</span>
<span style="color:black">TRANGROUP:05A6                 </span><span style="color:navy">mov     ss</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:05A8                 </span>assume ss:nothing
<span style="color:black">TRANGROUP:05A8                 </span><span style="color:navy">mov     sp</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:05AA                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:05AC                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:05AD                 </span><span style="color:navy">not     ax</span>
<span style="color:black">TRANGROUP:05AF                 </span><span style="color:navy">push    cs:</span>ROM_CS
<span style="color:black">TRANGROUP:05B4                 </span><span style="color:navy">push    cs:</span>ROM_IP
<span style="color:black">TRANGROUP:05B9                 </span><span style="color:navy">mov     es</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:05BB                 </span><span style="color:navy">retf
</span><span style="color:black">TRANGROUP:05BB </span><span style="color:gray">; END OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:05BC
</span><span style="color:black">TRANGROUP:05BC </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:05BC
</span><span style="color:black">TRANGROUP:05BC
</span><span style="color:black">TRANGROUP:05BC </span>PROMPTBAT       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:05BC                 </span><span style="color:navy">call    </span>BATOPEN
<span style="color:black">TRANGROUP:05BF                 </span><span style="color:navy">jb      short </span>PROMPTBAT1
<span style="color:black">TRANGROUP:05C1                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:05C2 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:05C2
</span><span style="color:black">TRANGROUP:05C2 </span>PROMPTBAT1<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:05C2                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; ERROR_FILE_NOT_FOUND
<span style="color:black">TRANGROUP:05C5                 </span><span style="color:navy">jz      short </span><span style="color:gray">BAT_REMCHECK</span>
<span style="color:black">TRANGROUP:05C7                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; ERROR_PATH_NOT_FOUND
<span style="color:black">TRANGROUP:05CA                 </span><span style="color:navy">jz      short </span><span style="color:gray">BAT_REMCHECK</span>
<span style="color:black">TRANGROUP:05CC                 </span><span style="color:navy">call    </span>output_batch_name
<span style="color:black">TRANGROUP:05CF                 </span><span style="color:navy">jmp     short </span><span style="color:gray">BATDIE</span>
<span style="color:black">TRANGROUP:05D1 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:05D1
</span><span style="color:black">TRANGROUP:05D1 </span><span style="color:gray">BAT_REMCHECK</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:05D1                 </span><span style="color:navy">call    cs:</span>RCH_ADDR     ; call far [cs:RCH_ADDR]
<span style="color:black">TRANGROUP:05D6                 </span><span style="color:navy">jz      short </span><span style="color:gray">ASKFORBAT</span>
<span style="color:black">TRANGROUP:05D8                 </span><span style="color:navy">call    </span>FOROFF
<span style="color:black">TRANGROUP:05DB                 </span><span style="color:navy">call    </span>PipeOff
<span style="color:black">TRANGROUP:05DE                 </span><span style="color:navy">mov     ds:</span>IfFlag<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:05E1                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADBAT_PTR
<span style="color:black">TRANGROUP:05E4
</span><span style="color:black">TRANGROUP:05E4 </span><span style="color:gray">BATDIE</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:05E4                 </span><span style="color:navy">call    </span>BATCHOFF
<span style="color:black">TRANGROUP:05E7                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:05E8                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:05E9                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:05E9                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:05EC                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:05EF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:05EF
</span><span style="color:black">TRANGROUP:05EF </span><span style="color:gray">ASKFORBAT</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:05EF                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:05F0                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:05F1                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:05F2                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>NEEDBAT_PTR
<span style="color:black">TRANGROUP:05F5                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:05F8                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>PAUSEMES_PTR
<span style="color:black">TRANGROUP:05FB                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:05FE                 </span><span style="color:navy">call    </span>GETKEYSTROKE
<span style="color:black">TRANGROUP:0601                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0602                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:0602                 </span><span style="color:navy">jmp     short </span>PROMPTBAT
<span style="color:black">TRANGROUP:0602 </span>PROMPTBAT       endp
<span style="color:black">TRANGROUP:0602
</span><span style="color:black">TRANGROUP:0604
</span><span style="color:black">TRANGROUP:0604 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:0604
</span><span style="color:black">TRANGROUP:0604
</span><span style="color:black">TRANGROUP:0604 </span>output_batch_name proc near             <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0604                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:0605                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>Batch
<span style="color:black">TRANGROUP:0609                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">20h</span>         ; BATCHSEGMENT.BatFile
<span style="color:black">TRANGROUP:060C                 </span><span style="color:navy">call    </span>dstrlen
<span style="color:black">TRANGROUP:060F                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>BWDBUF
<span style="color:black">TRANGROUP:0612                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:0614                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:0615                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0616                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:0616                 </span><span style="color:navy">mov     </span>extend_buf_ptr<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:061A                 </span><span style="color:navy">mov     </span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; ext_msg_class
<span style="color:black">TRANGROUP:061F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:0622                 </span><span style="color:navy">mov     </span>string_ptr_2<span style="color:navy">, offset </span>BWDBUF
<span style="color:black">TRANGROUP:0628                 </span><span style="color:navy">mov     </span>extend_buf_sub<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; one_subst
<span style="color:black">TRANGROUP:062D                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:062E                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:062E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:062E </span>output_batch_name endp
<span style="color:black">TRANGROUP:062E
</span><span style="color:black">TRANGROUP:062F
</span><span style="color:black">TRANGROUP:062F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:062F
</span><span style="color:black">TRANGROUP:062F
</span><span style="color:black">TRANGROUP:062F </span>GETKEYSTROKE    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:062F                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:0630                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">6302h</span>       ; (ECS_call SHL 8) OR GetInterimMode
<span style="color:black">TRANGROUP:0633                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3.2+ only - GET KOREAN (HONGEUL) INPUT MODE
<span style="color:black">TRANGROUP:0635                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:0636                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">6301h</span>       ; (ECS_call SHL 8) OR SetInterimMode
<span style="color:black">TRANGROUP:0639                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; InterimMode
<span style="color:black">TRANGROUP:063B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3.2+ only - SET KOREAN (HONGEUL) INPUT MODE
<span style="color:black">TRANGROUP:063B                                         </span>; DL = new mode
<span style="color:black">TRANGROUP:063B                                         </span>; 00h return only full characters on DOS keyboard input functions
<span style="color:black">TRANGROUP:063B                                         </span>; 01h return partially-formed characters also
<span style="color:black">TRANGROUP:063D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0C08h</span>
<span style="color:black">TRANGROUP:0640                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - CLEAR KEYBOARD BUFFER
<span style="color:black">TRANGROUP:0640                                         </span>; AL must be 01h, 06h, 07h, 08h, or 0Ah.
<span style="color:black">TRANGROUP:0642                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0C00h</span>
<span style="color:black">TRANGROUP:0645                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - CLEAR KEYBOARD BUFFER
<span style="color:black">TRANGROUP:0645                                         </span>; AL must be 01h, 06h, 07h, 08h, or 0Ah.
<span style="color:black">TRANGROUP:0647                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">6301h</span>       ; (ECS_call SHL 8) OR SetInterimMode
<span style="color:black">TRANGROUP:064A                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:064B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3.2+ only - SET KOREAN (HONGEUL) INPUT MODE
<span style="color:black">TRANGROUP:064B                                         </span>; DL = new mode
<span style="color:black">TRANGROUP:064B                                         </span>; 00h return only full characters on DOS keyboard input functions
<span style="color:black">TRANGROUP:064B                                         </span>; 01h return partially-formed characters also
<span style="color:black">TRANGROUP:064D                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:064E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:064E </span>GETKEYSTROKE    endp
<span style="color:black">TRANGROUP:064E
</span><span style="color:black">TRANGROUP:064F
</span><span style="color:black">TRANGROUP:064F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:064F
</span><span style="color:black">TRANGROUP:064F
</span><span style="color:black">TRANGROUP:064F </span>READBAT         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:064F                 </span><span style="color:navy">mov     ds:</span>Suppress<span style="color:navy">, </span><span style="color:#ff8000">1</span>  ; YES_ECHO
<span style="color:black">TRANGROUP:0654                 </span><span style="color:navy">test    ds:</span>Batch_Abort<span style="color:navy">, </span><span style="color:green">0FFh</span>
<span style="color:black">TRANGROUP:0659                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TRYING_TO_ABORT</span>
<span style="color:black">TRANGROUP:065B                 </span><span style="color:navy">mov     ds:</span>In_Batch<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:0660                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:0661                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>Batch
<span style="color:black">TRANGROUP:0665                 </span><span style="color:navy">cmp     byte ptr ds:</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [BATCHSEGMENT.BatchEOF]
<span style="color:black">TRANGROUP:066A                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:066B                 </span><span style="color:navy">jz      short </span><span style="color:gray">CONTBAT</span>
<span style="color:black">TRANGROUP:066D                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:black">TRANGROUP:0670                 </span><span style="color:navy">mov     es:</span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0674                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:0677                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0678 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0678
</span><span style="color:black">TRANGROUP:0678 </span><span style="color:gray">CONTBAT</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0678                 </span><span style="color:navy">call    </span>PROMPTBAT
<span style="color:black">TRANGROUP:067B
</span><span style="color:black">TRANGROUP:067B </span><span style="color:gray">TRYING_TO_ABORT</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:067B                 </span><span style="color:navy">mov     di</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:067E
</span><span style="color:black">TRANGROUP:067E </span><span style="color:gray">TESTNOP</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:067E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds</span>
<span style="color:black">TRANGROUP:0680                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>Batch
<span style="color:black">TRANGROUP:0684                 </span><span style="color:navy">push    word ptr ds:</span><span style="color:green">8</span>   ; [BATCHSEGMENT.BatSeek]
<span style="color:black">TRANGROUP:0688                 </span><span style="color:navy">push    word ptr ds:</span><span style="color:green">10</span>  ; [BATCHSEGMENT.BatSeek+2]
<span style="color:black">TRANGROUP:068C                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:068E                 </span><span style="color:navy">call    </span>SKIPDELIM
<span style="color:black">TRANGROUP:0691                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:0693                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:0694                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:0695                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOPLINE</span>
<span style="color:black">TRANGROUP:0697                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:069D                 </span><span style="color:navy">jz      short </span><span style="color:gray">RDBAT</span>
<span style="color:black">TRANGROUP:069F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'@'</span>         ; No_Echo_Char
<span style="color:black">TRANGROUP:06A1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SET_BAT_POS</span>
<span style="color:black">TRANGROUP:06A3                 </span><span style="color:navy">mov     ds:</span>Suppress<span style="color:navy">, </span><span style="color:#ff8000">0</span>  ; NO_ECHO
<span style="color:black">TRANGROUP:06A8                 </span><span style="color:navy">jmp     short </span><span style="color:gray">RDBAT</span>
<span style="color:black">TRANGROUP:06AA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:06AA
</span><span style="color:black">TRANGROUP:06AA </span><span style="color:gray">SET_BAT_POS</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:06AA                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:06AB                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>Batch
<span style="color:black">TRANGROUP:06AF                 </span><span style="color:navy">mov     ds:</span><span style="color:green">8</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:06B3                 </span><span style="color:navy">mov     ds:</span><span style="color:green">10</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:06B7                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:06B8                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4200h</span>
<span style="color:black">TRANGROUP:06BB                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:black">TRANGROUP:06BB                                         </span>; AL = method: offset from beginning of file
<span style="color:black">TRANGROUP:06BD                 </span><span style="color:navy">mov     es:</span>BATBUFPOS<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:06C4                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:06C6                 </span><span style="color:navy">jmp     short </span><span style="color:gray">RDBAT</span>
<span style="color:black">TRANGROUP:06C8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:06C8
</span><span style="color:black">TRANGROUP:06C8 </span><span style="color:gray">NOPLINE</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:06C8                 </span><span style="color:navy">call    </span>SKIPTOEOL
<span style="color:black">TRANGROUP:06CB                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:black">TRANGROUP:06CE                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:06D4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TESTNOP</span>
<span style="color:black">TRANGROUP:06D6
</span><span style="color:black">TRANGROUP:06D6 </span><span style="color:gray">READBAT_RETN</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:06D6                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:06D7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:06D7
</span><span style="color:black">TRANGROUP:06D7 </span><span style="color:gray">RDBAT</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:06D7                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:black">TRANGROUP:06DA                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:06DB                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:06DE                 </span><span style="color:navy">jz      short </span><span style="color:gray">RDBAT1</span>
<span style="color:black">TRANGROUP:06E0                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:green">127</span>         ; COMBUFLEN-1
<span style="color:black">TRANGROUP:06E3                 </span><span style="color:navy">jnb     short </span><span style="color:gray">TOOLONG</span>
<span style="color:black">TRANGROUP:06E5                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:06E6                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:black">TRANGROUP:06E9                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:06EA                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SAVBATBYT</span>
<span style="color:black">TRANGROUP:06EC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:06EC
</span><span style="color:black">TRANGROUP:06EC </span><span style="color:gray">RDBAT1</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:06EC                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:green">128</span>         ; COMBUFLEN
<span style="color:black">TRANGROUP:06F0                 </span><span style="color:navy">jnb     short </span><span style="color:gray">TOOLONG</span>
<span style="color:black">TRANGROUP:06F2                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'%'</span>
<span style="color:black">TRANGROUP:06F4                 </span><span style="color:navy">jz      short </span><span style="color:gray">NEEDPARM</span>
<span style="color:black">TRANGROUP:06F6
</span><span style="color:black">TRANGROUP:06F6 </span><span style="color:gray">SAVBATBYT</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:06F6                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:06F7                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:06F9                 </span><span style="color:navy">jnz     short </span><span style="color:gray">RDBAT</span>
<span style="color:black">TRANGROUP:06FB
</span><span style="color:black">TRANGROUP:06FB </span><span style="color:gray">FOUND_EOL</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:06FB                 </span><span style="color:navy">sub     di</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">3</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:06FF                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:0701                 </span><span style="color:navy">mov     es:</span>COMBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0705                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:black">TRANGROUP:0708                 </span><span style="color:navy">call    </span>BATCLOSE
<span style="color:black">TRANGROUP:070B                 </span><span style="color:navy">cmp     ds:</span>Suppress<span style="color:navy">, </span><span style="color:#ff8000">0</span>  ; NO_ECHO
<span style="color:black">TRANGROUP:0710                 </span><span style="color:navy">jz      short </span><span style="color:gray">RESET</span>
<span style="color:black">TRANGROUP:0712                 </span><span style="color:navy">test    ds:</span>EchoFlag<span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:0717                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TRY_NEXTFLAG</span>
<span style="color:black">TRANGROUP:0719
</span><span style="color:black">TRANGROUP:0719 </span><span style="color:gray">RESET</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0719                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:071A                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:071B                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:071B                 </span><span style="color:navy">jz      short </span><span style="color:gray">READBAT_RETN</span>
<span style="color:black">TRANGROUP:071D
</span><span style="color:black">TRANGROUP:071D </span><span style="color:gray">TRY_NEXTFLAG</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:071D                 </span><span style="color:navy">cmp     ds:</span>NullFlag<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:0722                 </span><span style="color:navy">jz      short </span><span style="color:gray">NO_CRLF_PRINT</span>
<span style="color:black">TRANGROUP:0724                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:0727
</span><span style="color:black">TRANGROUP:0727 </span><span style="color:gray">NO_CRLF_PRINT</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0727                 </span><span style="color:navy">call    </span>PRINT_PROMPT
<span style="color:black">TRANGROUP:072A                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:072B                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:072C                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:072F                 </span><span style="color:navy">call    </span>CRPRINT
<span style="color:black">TRANGROUP:0732                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:0735                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0736 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0736
</span><span style="color:black">TRANGROUP:0736 </span><span style="color:gray">TOOLONG</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0736                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0738                 </span><span style="color:navy">jz      short </span><span style="color:gray">LTLCONT</span>
<span style="color:black">TRANGROUP:073A                 </span><span style="color:navy">call    </span>SKIPTOEOL
<span style="color:black">TRANGROUP:073D
</span><span style="color:black">TRANGROUP:073D </span><span style="color:gray">LTLCONT</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:073D                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:073E                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FOUND_EOL</span>
<span style="color:black">TRANGROUP:0740 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0740
</span><span style="color:black">TRANGROUP:0740 </span><span style="color:gray">NEEDPARM</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0740                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:black">TRANGROUP:0743                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'%'</span>
<span style="color:black">TRANGROUP:0745                 </span><span style="color:navy">jz      short </span><span style="color:gray">SAVBATBYT</span>
<span style="color:black">TRANGROUP:0747                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0749                 </span><span style="color:navy">jz      short </span><span style="color:gray">SAVBATBYT</span>
<span style="color:black">TRANGROUP:074B
</span><span style="color:black">TRANGROUP:074B </span>PAROK<span style="color:navy">:
</span><span style="color:black">TRANGROUP:074B                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">'0'</span>
<span style="color:black">TRANGROUP:074D                 </span><span style="color:navy">jb      short </span><span style="color:gray">NEEDENV</span>
<span style="color:black">TRANGROUP:074F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">TRANGROUP:0751                 </span><span style="color:navy">ja      short </span><span style="color:gray">NEEDENV</span>
<span style="color:black">TRANGROUP:0753                 </span><span style="color:navy">cbw
</span><span style="color:black">TRANGROUP:0754                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0756                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:0758                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:0759                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>Batch
<span style="color:black">TRANGROUP:075D                 </span><span style="color:navy">mov     si</span><span style="color:navy">, es:[bx+</span><span style="color:#ff8000">0Ch</span><span style="color:navy">]</span> ; [es:bx+BATCHSEGMENT.BatParm]
<span style="color:black">TRANGROUP:0761                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0762                 </span><span style="color:navy">cmp     si</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:0765                 </span><span style="color:navy">jnz     short </span><span style="color:gray">YES_THERE_IS</span>
<span style="color:black">TRANGROUP:0767                 </span><span style="color:navy">jmp     </span><span style="color:gray">RDBAT</span>
<span style="color:black">TRANGROUP:076A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:076A
</span><span style="color:black">TRANGROUP:076A </span><span style="color:gray">YES_THERE_IS</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:076A                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:076B                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>Batch
<span style="color:black">TRANGROUP:076F                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:076F                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:0770
</span><span style="color:black">TRANGROUP:0770 </span><span style="color:gray">COPYPARM</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0770                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0771                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0773                 </span><span style="color:navy">jz      short </span><span style="color:gray">ENDPARAM</span>
<span style="color:black">TRANGROUP:0775                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:0776                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:green">128</span>         ; COMBUFLEN
<span style="color:black">TRANGROUP:077A                 </span><span style="color:navy">jnb     short </span><span style="color:gray">LINETOOL</span>
<span style="color:black">TRANGROUP:077C                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:077D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">COPYPARM</span>
<span style="color:black">TRANGROUP:077F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:077F
</span><span style="color:black">TRANGROUP:077F </span><span style="color:gray">LINETOOL</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:077F                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0781                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0782                 </span><span style="color:navy">jmp     short </span><span style="color:gray">TOOLONG</span>
<span style="color:black">TRANGROUP:0784 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0784
</span><span style="color:black">TRANGROUP:0784 </span><span style="color:gray">ENDPARAM</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0784                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0785                 </span><span style="color:navy">jmp     </span><span style="color:gray">RDBAT</span>
<span style="color:black">TRANGROUP:0788 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0788
</span><span style="color:black">TRANGROUP:0788 </span><span style="color:gray">NEEDENV</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0788                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:0789                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:078A                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:078B                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>ID
<span style="color:black">TRANGROUP:078E                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">'0'</span>
<span style="color:black">TRANGROUP:0790                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:0791
</span><span style="color:black">TRANGROUP:0791 </span><span style="color:gray">GETENV1</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0791                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:black">TRANGROUP:0794                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:0795                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0797                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GETENV15</span>
<span style="color:black">TRANGROUP:0799                 </span><span style="color:navy">mov     byte ptr es:[di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:079E                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ID
<span style="color:black">TRANGROUP:07A1                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:07A2                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:07A3                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:07A4                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:07A4                 </span><span style="color:navy">call    </span>STRCPY
<span style="color:black">TRANGROUP:07A7                 </span><span style="color:navy">jb      short </span><span style="color:gray">LINETOOL</span>
<span style="color:black">TRANGROUP:07A9                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:07AA                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:07AA                 </span><span style="color:navy">jmp     </span><span style="color:gray">SAVBATBYT</span>
<span style="color:black">TRANGROUP:07AD </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:07AD
</span><span style="color:black">TRANGROUP:07AD </span><span style="color:gray">GETENV15</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:07AD                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'%'</span>
<span style="color:black">TRANGROUP:07AF                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GETENV1</span>
<span style="color:black">TRANGROUP:07B1                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'='</span>
<span style="color:black">TRANGROUP:07B3                 </span><span style="color:navy">mov     es:[di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:07B7                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ID
<span style="color:black">TRANGROUP:07BA                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:07BB                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:07BC                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:07BC                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:07BD                 </span><span style="color:navy">call    </span>find_name_in_environment
<span style="color:black">TRANGROUP:07C0                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:07C1                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:07C2                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:07C3                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:07C3                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:07C4                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:07C5                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:07C5                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:07C7                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:07C8                 </span><span style="color:navy">jb      short </span><span style="color:gray">GETENV6</span>
<span style="color:black">TRANGROUP:07CA                 </span><span style="color:navy">call    </span>STRCPY
<span style="color:black">TRANGROUP:07CD
</span><span style="color:black">TRANGROUP:07CD </span><span style="color:gray">GETENV6</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:07CD                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:07CE                 </span><span style="color:navy">jmp     </span><span style="color:gray">RDBAT</span>
<span style="color:black">TRANGROUP:07CE </span>READBAT         endp
<span style="color:black">TRANGROUP:07CE
</span><span style="color:black">TRANGROUP:07D1
</span><span style="color:black">TRANGROUP:07D1 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:07D1
</span><span style="color:black">TRANGROUP:07D1
</span><span style="color:black">TRANGROUP:07D1 </span>SKIPTOEOL       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:07D1                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:07D7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SKIPTOEOL1</span>
<span style="color:black">TRANGROUP:07D9                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:07DA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:07DA
</span><span style="color:black">TRANGROUP:07DA </span><span style="color:gray">SKIPTOEOL1</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:07DA                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:black">TRANGROUP:07DD                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:07DF                 </span><span style="color:navy">jnz     short </span>SKIPTOEOL
<span style="color:black">TRANGROUP:07E1                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:07E1 </span>SKIPTOEOL       endp
<span style="color:black">TRANGROUP:07E1
</span><span style="color:black">TRANGROUP:07E2
</span><span style="color:black">TRANGROUP:07E2 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:07E2
</span><span style="color:black">TRANGROUP:07E2
</span><span style="color:black">TRANGROUP:07E2 </span>FREE_TPA        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:07E2                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:07E3                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:07E7                 </span>assume es:nothing
<span style="color:black">TRANGROUP:07E7                 </span><span style="color:navy">mov     es</span><span style="color:navy">, es:</span>Res_Tpa
<span style="color:black">TRANGROUP:07EC                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:black">TRANGROUP:07EE                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">TRANGROUP:07EE                                         </span>; ES = segment address of area to be freed
<span style="color:black">TRANGROUP:07F0                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:07F1                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:07F1 </span>FREE_TPA        endp
<span style="color:black">TRANGROUP:07F1
</span><span style="color:black">TRANGROUP:07F2
</span><span style="color:black">TRANGROUP:07F2 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:07F2
</span><span style="color:black">TRANGROUP:07F2
</span><span style="color:black">TRANGROUP:07F2 </span>ALLOC_TPA       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:07F2                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:07F3                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:07F7                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:07FA                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>
<span style="color:black">TRANGROUP:07FC                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:black">TRANGROUP:07FC                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:black">TRANGROUP:07FE                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:07FF                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>
<span style="color:black">TRANGROUP:0801                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:black">TRANGROUP:0801                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:black">TRANGROUP:0803                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:0804                 </span><span style="color:navy">mov     es:</span>Res_Tpa<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0808                 </span><span style="color:navy">mov     ds:</span>TRAN_TPA<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:080B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:080D                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">0FFFh</span>
<span style="color:black">TRANGROUP:0810                 </span><span style="color:navy">jnz     short </span>CALC_TPA
<span style="color:black">TRANGROUP:0812                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:0814                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">0F000h</span>
<span style="color:black">TRANGROUP:0817                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOROUND</span>
<span style="color:black">TRANGROUP:0819
</span><span style="color:black">TRANGROUP:0819 </span>CALC_TPA<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0819                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:081B                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">0F000h</span>
<span style="color:black">TRANGROUP:081E                 </span><span style="color:navy">add     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1000h</span>
<span style="color:black">TRANGROUP:0821                 </span><span style="color:navy">jb      short </span><span style="color:gray">NOROUND</span>
<span style="color:black">TRANGROUP:0823                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, es:</span>Res_Tpa
<span style="color:black">TRANGROUP:0828                 </span><span style="color:navy">add     dx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:082A                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:082C                 </span><span style="color:navy">jb      short </span><span style="color:gray">NOROUND</span>
<span style="color:black">TRANGROUP:082E                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, cs</span>
<span style="color:black">TRANGROUP:0830                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0832                 </span><span style="color:navy">jb      short </span><span style="color:gray">NOROUND</span>
<span style="color:black">TRANGROUP:0834                 </span><span style="color:navy">sub     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0836                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1000h</span>
<span style="color:black">TRANGROUP:083A                 </span><span style="color:navy">jnb     short </span><span style="color:gray">ROUNDDONE</span>
<span style="color:black">TRANGROUP:083C
</span><span style="color:black">TRANGROUP:083C </span><span style="color:gray">NOROUND</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:083C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span>Res_Tpa
<span style="color:black">TRANGROUP:0840
</span><span style="color:black">TRANGROUP:0840 </span><span style="color:gray">ROUNDDONE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0840                 </span><span style="color:navy">mov     es:</span>LTpa<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0844                 </span><span style="color:navy">mov     ds:</span>TPA<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0847                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0849                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs</span>
<span style="color:black">TRANGROUP:084B                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:084D                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:084E                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">16</span>
<span style="color:black">TRANGROUP:0851                 </span><span style="color:navy">mul     bx</span>
<span style="color:black">TRANGROUP:0853                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:0854                 </span><span style="color:navy">or      dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:0856                 </span><span style="color:navy">jz      short </span><span style="color:gray">SAVSIZ2</span>
<span style="color:black">TRANGROUP:0858                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:085B
</span><span style="color:black">TRANGROUP:085B </span><span style="color:gray">SAVSIZ2</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:085B                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">512</span>
<span style="color:black">TRANGROUP:085E                 </span><span style="color:navy">jbe     short </span><span style="color:gray">GOTSIZE2</span>
<span style="color:black">TRANGROUP:0860                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">0FE00h</span>      ; NOT 511 = NOT 1FFh
<span style="color:black">TRANGROUP:0863
</span><span style="color:black">TRANGROUP:0863 </span><span style="color:gray">GOTSIZE2</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0863                 </span><span style="color:navy">mov     ds:</span>BYTCNT<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0866                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0867                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0867 </span>ALLOC_TPA       endp
<span style="color:black">TRANGROUP:0867
</span><span style="color:black">TRANGROUP:0868 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0868 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:0868
</span><span style="color:black">TRANGROUP:0868 </span>BATCOM<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0868                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:086C                 </span><span style="color:navy">cmp     es:</span>Call_Batch_Flag<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:0872                 </span><span style="color:navy">jz      short </span>skip_ioset
<span style="color:black">TRANGROUP:0874                 </span><span style="color:navy">call    </span>IOSET
<span style="color:black">TRANGROUP:0877
</span><span style="color:black">TRANGROUP:0877 </span>skip_ioset<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0877                 </span><span style="color:navy">call    </span>FREE_TPA
<span style="color:black">TRANGROUP:087A                 </span><span style="color:navy">cmp     es:</span>Call_Batch_Flag<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; call_in_progress
<span style="color:black">TRANGROUP:0880                 </span><span style="color:navy">jz      short </span>GETECHO
<span style="color:black">TRANGROUP:0882                 </span><span style="color:navy">call    </span>FOROFF
<span style="color:black">TRANGROUP:0885
</span><span style="color:black">TRANGROUP:0885 </span>GETECHO<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0885                 </span><span style="color:navy">call    </span>PipeOff
<span style="color:black">TRANGROUP:0888                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:</span>EchoFlag
<span style="color:black">TRANGROUP:088C                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:088E                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:088F                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0891                 </span><span style="color:navy">test    es:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:0898                 </span><span style="color:navy">jz      short </span>LEAVEBAT
<span style="color:black">TRANGROUP:089A                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span>Batch
<span style="color:black">TRANGROUP:089E                 </span><span style="color:navy">cmp     es:</span>Call_Batch_Flag<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; call_in_progress
<span style="color:black">TRANGROUP:08A4                 </span><span style="color:navy">jz      short </span>LEAVEBAT
<span style="color:black">TRANGROUP:08A6                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:08A7                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:08A9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; [es:BATCHSEGMENT.BatLast]
<span style="color:black">TRANGROUP:08AD                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:08AE
</span><span style="color:black">TRANGROUP:08AE </span>LEAVEBAT<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:08AE                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:08AF                 </span><span style="color:navy">cmp     es:</span>Call_Batch_Flag<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:08B5                 </span><span style="color:navy">jz      short </span>STARTBAT
<span style="color:black">TRANGROUP:08B7                 </span><span style="color:navy">call    </span>BATCHOFF
<span style="color:black">TRANGROUP:08BA
</span><span style="color:black">TRANGROUP:08BA </span>STARTBAT<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:08BA                 </span><span style="color:navy">mov     es:</span>Call_Batch_Flag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:08C0                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>EXECPATH
<span style="color:black">TRANGROUP:08C3                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0B711h</span>      ; AppendTruename
<span style="color:black">TRANGROUP:08C6                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - DOS 4.0 APPEND - SET RETURN FOUND NAME STATE
<span style="color:black">TRANGROUP:08C8                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">4Eh</span>
<span style="color:black">TRANGROUP:08CA                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:08CC                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">13h</span>
<span style="color:black">TRANGROUP:08CF                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
<span style="color:black">TRANGROUP:08CF                                         </span>; CX = search attributes
<span style="color:black">TRANGROUP:08CF                                         </span>; DS:DX -&gt; ASCIZ filespec
<span style="color:black">TRANGROUP:08CF                                         </span>; (drive, path, and wildcards allowed)
<span style="color:black">TRANGROUP:08D1                 </span><span style="color:navy">call    </span>dstrlen
<span style="color:black">TRANGROUP:08D4                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:08D6                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:green">191</span>         ; 15+BATCHSEGMENT.SIZE+COMBUFLEN+15
<span style="color:black">TRANGROUP:08DA                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:08DB                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:08DD                 </span><span style="color:navy">shr     bx</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:08DF                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:08E0                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">48h</span>
<span style="color:black">TRANGROUP:08E2                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:black">TRANGROUP:08E2                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:black">TRANGROUP:08E4                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:08E5                 </span><span style="color:navy">jb      short </span>MEM_ERROR
<span style="color:black">TRANGROUP:08E7                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:08E8                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:08EA                 </span><span style="color:navy">add     ax</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:08ED                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, cs</span>
<span style="color:black">TRANGROUP:08EF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">0AF95h</span>      ; mov dx,offset TRANGROUP:TranSpaceEnd
<span style="color:black">TRANGROUP:08F2                 </span><span style="color:navy">add     dx</span><span style="color:navy">, </span><span style="color:green">15</span>
<span style="color:black">TRANGROUP:08F5                 </span><span style="color:navy">shr     dx</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:08F7                 </span><span style="color:navy">add     dx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:08F9                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:08FB                 </span><span style="color:navy">jb      short </span>ENOUGH_MEM
<span style="color:black">TRANGROUP:08FD                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:08FF                 </span><span style="color:navy">ja      short </span>ENOUGH_MEM
<span style="color:black">TRANGROUP:0901                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:0902                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:0903                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0905                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4900h</span>
<span style="color:black">TRANGROUP:0908                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">TRANGROUP:0908                                         </span>; ES = segment address of area to be freed
<span style="color:black">TRANGROUP:090A                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:090B
</span><span style="color:black">TRANGROUP:090B </span>MEM_ERROR<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:090B                 </span><span style="color:navy">jmp     </span>NO_MEMORY
<span style="color:black">TRANGROUP:090E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:090E
</span><span style="color:black">TRANGROUP:090E </span>ENOUGH_MEM<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:090E                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:090F                 </span><span style="color:navy">mov     es:</span>Batch<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0913                 </span><span style="color:navy">call    </span>ALLOC_TPA
<span style="color:black">TRANGROUP:0916                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:0917                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:0918                 </span><span style="color:navy">inc     es:</span>Nest
<span style="color:black">TRANGROUP:091D                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:091E                 </span><span style="color:navy">mov     es</span><span style="color:navy">, es:</span>Batch
<span style="color:black">TRANGROUP:0923                 </span><span style="color:navy">mov     byte ptr es:</span><span style="color:green">0</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [es:BATCHSEGMENT.BatType]
<span style="color:black">TRANGROUP:0929                 </span><span style="color:navy">mov     es:</span><span style="color:green">3</span><span style="color:navy">, ax</span>        ; [es:BATCHSEGMENT.BatLast]
<span style="color:black">TRANGROUP:092D                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:092E                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:0932                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0934                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, ds:</span>ForFlag
<span style="color:black">TRANGROUP:0938                 </span><span style="color:navy">mov     es:</span><span style="color:green">7</span><span style="color:navy">, bl</span>        ; [es:BATCHSEGMENT.BatForFlag]
<span style="color:black">TRANGROUP:093D                 </span><span style="color:navy">test    bl</span><span style="color:navy">, </span><span style="color:green">0FFh</span>
<span style="color:black">TRANGROUP:0940                 </span><span style="color:navy">jz      short </span>FOR_NOT_ON
<span style="color:black">TRANGROUP:0942                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>ForPtr
<span style="color:black">TRANGROUP:0945                 </span><span style="color:navy">mov     ds:</span>ForFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:094A
</span><span style="color:black">TRANGROUP:094A </span>FOR_NOT_ON<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:094A                 </span><span style="color:navy">mov     es:</span><span style="color:green">5</span><span style="color:navy">, ax</span>        ; [es:BATCHSEGMENT.BatForPtr]
<span style="color:black">TRANGROUP:094E                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0950                 </span><span style="color:navy">mov     ds:</span>ForPtr<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0953                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, ds:</span>EchoFlag
<span style="color:black">TRANGROUP:0957                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0958                 </span><span style="color:navy">mov     es:</span><span style="color:green">1</span><span style="color:navy">, bl</span>        ; [es:BATCHSEGMENT.BatEchoFlag]
<span style="color:black">TRANGROUP:095D                 </span><span style="color:navy">mov     byte ptr es:</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [es:BATCHSEGMENT.BatchEOF]
<span style="color:black">TRANGROUP:0963                 </span><span style="color:navy">mov     es:</span><span style="color:green">8</span><span style="color:navy">, ax</span>        ; [es:BATCHSEGMENT.BatSeek]
<span style="color:black">TRANGROUP:0967                 </span><span style="color:navy">mov     es:</span><span style="color:green">0Ah</span><span style="color:navy">, ax</span>      ; [es:BATCHSEGMENT.BatSeek+2]
<span style="color:black">TRANGROUP:096B                 </span><span style="color:navy">dec     ax</span>
<span style="color:black">TRANGROUP:096C                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:#ff8000">0Ch</span>         ; BATCHSEGMENT.BatParm
<span style="color:black">TRANGROUP:096F                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:0971                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">10</span>
<span style="color:black">TRANGROUP:0974                 </span><span style="color:navy">rep stosw
</span><span style="color:black">TRANGROUP:0976                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:0978                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:097A                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:097D                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">10</span>
<span style="color:black">TRANGROUP:0980
</span><span style="color:black">TRANGROUP:0980 </span>EACHPARM<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0980                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:0983                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0985                 </span><span style="color:navy">jz      short </span>HAVPARM
<span style="color:black">TRANGROUP:0987                 </span><span style="color:navy">jcxz    short </span>MOVPARM
<span style="color:black">TRANGROUP:0989                 </span><span style="color:navy">mov     es:[bx]</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:098C                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:098F
</span><span style="color:black">TRANGROUP:098F </span>MOVPARM<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:098F                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0990                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:0993                 </span><span style="color:navy">jz      short </span>ENDPARM
<span style="color:black">TRANGROUP:0995                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:0996                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0998                 </span><span style="color:navy">jz      short </span>HAVPARM
<span style="color:black">TRANGROUP:099A                 </span><span style="color:navy">jmp     short </span>MOVPARM
<span style="color:black">TRANGROUP:099C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:099C
</span><span style="color:black">TRANGROUP:099C </span>ENDPARM<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:099C                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:099E                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:099F                 </span><span style="color:navy">jcxz    short </span>EACHPARM
<span style="color:black">TRANGROUP:09A1                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:09A2                 </span><span style="color:navy">jmp     short </span>EACHPARM
<span style="color:black">TRANGROUP:09A4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:09A4
</span><span style="color:black">TRANGROUP:09A4 </span>HAVPARM<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:09A4                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:09A6                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:09A7                 </span><span style="color:navy">lea     bx</span><span style="color:navy">, [di+</span><span style="color:#ff8000">0Fh</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:09AA                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:09AC                 </span><span style="color:navy">shr     bx</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:09AE                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">4Ah</span>
<span style="color:black">TRANGROUP:09B0                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
<span style="color:black">TRANGROUP:09B0                                         </span>; ES = segment address of block to change
<span style="color:black">TRANGROUP:09B0                                         </span>; BX = new size in paragraphs
<span style="color:black">TRANGROUP:09B2                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:09B3                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:09B4                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:09B5                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:09BA                 </span><span style="color:navy">jnz     short </span>NOBATSING
<span style="color:black">TRANGROUP:09BC                 </span><span style="color:navy">mov     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFF0h</span>
<span style="color:black">TRANGROUP:09C2
</span><span style="color:black">TRANGROUP:09C2 </span>NOBATSING<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:09C2                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:09C3                 </span><span style="color:navy">mov     ds:</span>EchoFlag<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:09C6                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:09C9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:09C9
</span><span style="color:black">TRANGROUP:09C9 </span>NO_MEMORY<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:09C9                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:09CA                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:09CB                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:09CC                 </span><span style="color:navy">call    </span>ALLOC_TPA
<span style="color:black">TRANGROUP:09CF                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; ext_msg_class
<span style="color:black">TRANGROUP:09D4                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:09D7                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, </span><span style="color:#ff8000">8</span> ; ERROR_NOT_ENOUGH_MEMORY
<span style="color:black">TRANGROUP:09DD                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:09DD </span><span style="color:gray">; END OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:09E0
</span><span style="color:black">TRANGROUP:09E0 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:09E0
</span><span style="color:black">TRANGROUP:09E0
</span><span style="color:black">TRANGROUP:09E0 </span>BATCHOFF        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:09E0                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:09E1                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:09E2                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:09E3                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:09E4                 </span><span style="color:navy">mov     es</span><span style="color:navy">, cs:</span>RESSEG
<span style="color:black">TRANGROUP:09E9                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, cs:</span>RESSEG
<span style="color:black">TRANGROUP:09EE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Batch
<span style="color:black">TRANGROUP:09F1                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:09F3                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOTFREE</span>
<span style="color:black">TRANGROUP:09F5                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:09F6                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:09F8                 </span><span style="color:navy">test    ds:</span>EchoFlag<span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:09FD                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ECHO_LAST_LINE</span>
<span style="color:black">TRANGROUP:09FF                 </span><span style="color:navy">mov     ds:</span>Suppress<span style="color:navy">, </span><span style="color:#ff8000">0</span>  ; NO_ECHO
<span style="color:black">TRANGROUP:0A04
</span><span style="color:black">TRANGROUP:0A04 </span><span style="color:gray">ECHO_LAST_LINE</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0A04                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, es:</span><span style="color:green">1</span>        ; [es:BATCHSEGMENT.BatEchoFlag]
<span style="color:black">TRANGROUP:0A09                 </span><span style="color:navy">mov     ds:</span>EchoFlag<span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:0A0D                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:</span><span style="color:green">5</span>        ; [es:BATCHSEGMENT.BatForPtr]
<span style="color:black">TRANGROUP:0A12                 </span><span style="color:navy">mov     ds:</span>ForPtr<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:0A16                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, es:</span><span style="color:green">7</span>        ; [es:BATCHSEGMENT.BatForFlag]
<span style="color:black">TRANGROUP:0A1B                 </span><span style="color:navy">mov     ds:</span>ForFlag<span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:0A1F                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; [es:BATCHSEGMENT.BatLast]
<span style="color:black">TRANGROUP:0A24                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:black">TRANGROUP:0A26                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">TRANGROUP:0A26                                         </span>; ES = segment address of area to be freed
<span style="color:black">TRANGROUP:0A28                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0A29                 </span><span style="color:navy">mov     ds:</span>Next_Batch<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:0A2D                 </span><span style="color:navy">dec     es:</span>Nest
<span style="color:black">TRANGROUP:0A32                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0A34                 </span><span style="color:navy">mov     ds:</span>Batch<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0A37
</span><span style="color:black">TRANGROUP:0A37 </span><span style="color:gray">NOTFREE</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0A37                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:0A38                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0A39                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0A3A                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:0A3B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0A3B </span>BATCHOFF        endp
<span style="color:black">TRANGROUP:0A3B
</span><span style="color:black">TRANGROUP:0A3C
</span><span style="color:black">TRANGROUP:0A3C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:0A3C
</span><span style="color:black">TRANGROUP:0A3C
</span><span style="color:black">TRANGROUP:0A3C </span>STRCPY          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0A3C                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:0A3D
</span><span style="color:black">TRANGROUP:0A3D </span><span style="color:gray">ccycle</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0A3D                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0A3E                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:0A3F                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:green">128</span>         ; COMBUFLEN
<span style="color:black">TRANGROUP:0A43                 </span><span style="color:navy">jb      short </span><span style="color:gray">ccopy</span>
<span style="color:black">TRANGROUP:0A45                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:0A46                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ccend</span>
<span style="color:black">TRANGROUP:0A48 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0A48
</span><span style="color:black">TRANGROUP:0A48 </span><span style="color:gray">ccopy</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0A48                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:0A49                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0A4B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ccycle</span>
<span style="color:black">TRANGROUP:0A4D
</span><span style="color:black">TRANGROUP:0A4D </span><span style="color:gray">ccend</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0A4D                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:0A4E                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:0A4F                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:0A50                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0A50 </span>STRCPY          endp
<span style="color:black">TRANGROUP:0A50
</span><span style="color:black">TRANGROUP:0A51
</span><span style="color:black">TRANGROUP:0A51 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:0A51
</span><span style="color:black">TRANGROUP:0A51
</span><span style="color:black">TRANGROUP:0A51 </span>GETBATBYT       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0A51                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:0A52                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:0A53                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:0A54                 </span><span style="color:navy">test    ds:</span>Batch_Abort<span style="color:navy">, </span><span style="color:green">0FFh</span>
<span style="color:black">TRANGROUP:0A59                 </span><span style="color:navy">jz      short </span><span style="color:gray">getbatbyt1</span>
<span style="color:black">TRANGROUP:0A5B                 </span><span style="color:navy">jmp     </span><span style="color:gray">BATEOF</span>
<span style="color:black">TRANGROUP:0A5E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0A5E
</span><span style="color:black">TRANGROUP:0A5E </span><span style="color:gray">getbatbyt1</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0A5E                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:0A64                 </span><span style="color:navy">jnz     short </span><span style="color:gray">getbatbyt2</span>
<span style="color:black">TRANGROUP:0A66                 </span><span style="color:navy">jmp     </span><span style="color:gray">BATEOF</span>
<span style="color:black">TRANGROUP:0A69 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0A69
</span><span style="color:black">TRANGROUP:0A69 </span><span style="color:gray">getbatbyt2</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0A69                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:0A6A                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>Batch
<span style="color:black">TRANGROUP:0A6E                 </span><span style="color:navy">cmp     byte ptr es:</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [es:BATCHSEGMENT.BatchEOF]
<span style="color:black">TRANGROUP:0A74                 </span><span style="color:navy">jz      short </span><span style="color:gray">not_eof</span>
<span style="color:black">TRANGROUP:0A76                 </span><span style="color:navy">jmp     </span><span style="color:gray">At_EOF</span>
<span style="color:black">TRANGROUP:0A79 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0A79
</span><span style="color:black">TRANGROUP:0A79 </span><span style="color:gray">not_eof</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0A79                 </span><span style="color:navy">add     word ptr es:</span><span style="color:green">8</span><span style="color:navy">, </span><span style="color:#ff8000">1</span> ; [es:BATCHSEGMENT.BatSeek]
<span style="color:black">TRANGROUP:0A7F                 </span><span style="color:navy">adc     word ptr es:</span><span style="color:green">0Ah</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [es:BATCHSEGMENT.BatSeek+2]
<span style="color:black">TRANGROUP:0A85                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0A86                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs</span>
<span style="color:black">TRANGROUP:0A88                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0A8A                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:0A8A                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span>BATBUFPOS
<span style="color:black">TRANGROUP:0A8E                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:0A91                 </span><span style="color:navy">jnz     short </span><span style="color:gray">UNBUF</span>
<span style="color:black">TRANGROUP:0A93                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BATBUF
<span style="color:black">TRANGROUP:0A96                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span>BATBUFLEN
<span style="color:black">TRANGROUP:0A9A                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span>BATHAND
<span style="color:black">TRANGROUP:0A9E                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Fh</span>
<span style="color:black">TRANGROUP:0AA0                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - READ FROM FILE WITH HANDLE
<span style="color:black">TRANGROUP:0AA0                                         </span>; BX = file handle, CX = number of bytes to read
<span style="color:black">TRANGROUP:0AA0                                         </span>; DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:0AA2                 </span><span style="color:navy">jnb     short </span><span style="color:gray">bat_read_ok</span>
<span style="color:black">TRANGROUP:0AA4                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:0AA7                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:0AA8                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:0AAC                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:0AAC                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0AAE                 </span><span style="color:navy">call    </span>output_batch_name
<span style="color:black">TRANGROUP:0AB1                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0AB2                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:0AB5                 </span><span style="color:navy">mov     ds:</span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span> ; END_OF_LINE_IN
<span style="color:black">TRANGROUP:0ABA                 </span><span style="color:navy">mov     ds:</span>COMBUF<span style="color:navy">+</span><span style="color:green">3</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>  ; END_OF_LINE_OUT
<span style="color:black">TRANGROUP:0ABF                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:0AC3                 </span><span style="color:navy">jmp     short </span><span style="color:gray">BATEOF</span>
<span style="color:black">TRANGROUP:0AC5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0AC5
</span><span style="color:black">TRANGROUP:0AC5 </span><span style="color:gray">bat_read_ok</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0AC5                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0AC7                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">BATEOFDS</span>
<span style="color:black">TRANGROUP:0AC9                 </span><span style="color:navy">mov     ds:</span>BATBUFEND<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:0ACD                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:0ACF                 </span><span style="color:navy">mov     ds:</span>BATBUFPOS<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:0AD3
</span><span style="color:black">TRANGROUP:0AD3 </span><span style="color:gray">UNBUF</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0AD3                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>BATBUF<span style="color:navy">[bx]</span>
<span style="color:black">TRANGROUP:0AD7                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:0AD8                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, ds:</span>BATBUFEND
<span style="color:black">TRANGROUP:0ADC                 </span><span style="color:navy">jb      short </span><span style="color:gray">SETBUFPOS</span>
<span style="color:black">TRANGROUP:0ADE                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:0AE1
</span><span style="color:black">TRANGROUP:0AE1 </span><span style="color:gray">SETBUFPOS</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0AE1                 </span><span style="color:navy">mov     ds:</span>BATBUFPOS<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:0AE5                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">1Ah</span>         ; ^Z for termination?
<span style="color:black">TRANGROUP:0AE7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GETBYTEDONE</span>
<span style="color:black">TRANGROUP:0AE9
</span><span style="color:black">TRANGROUP:0AE9 </span><span style="color:gray">BATEOFDS</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0AE9                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:0AEA                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:0AEE                 </span><span style="color:navy">mov     es</span><span style="color:navy">, es:</span>Batch
<span style="color:black">TRANGROUP:0AF3                 </span><span style="color:navy">cmp     byte ptr es:</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0AF9                 </span><span style="color:navy">jnz     short </span><span style="color:gray">crpresent</span>
<span style="color:black">TRANGROUP:0AFB                 </span><span style="color:navy">inc     byte ptr es:</span><span style="color:green">2</span>   ; [es:BATCHSEGMENT.BatchEOF]
<span style="color:black">TRANGROUP:0B00                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>BATBUFEND
<span style="color:black">TRANGROUP:0B04                 </span><span style="color:navy">cmp     byte ptr ds:(</span>BATBUFPOS<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">)[bx]</span><span style="color:navy">, </span><span style="color:#ff8000">0Ah</span> ;
<span style="color:black">TRANGROUP:0B04                                         </span>; cmp byte [bx+BATBUF-1],0Ah
<span style="color:black">TRANGROUP:0B04                                         </span>; was a LF present?
<span style="color:black">TRANGROUP:0B09                 </span><span style="color:navy">jz      short </span><span style="color:gray">crpresent</span>
<span style="color:black">TRANGROUP:0B0B                 </span><span style="color:navy">add     byte ptr es:</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">3</span> ; BatchEOF == 4 to fake CR-LF
<span style="color:black">TRANGROUP:0B11
</span><span style="color:black">TRANGROUP:0B11 </span><span style="color:gray">crpresent</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B11                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:0B15
</span><span style="color:black">TRANGROUP:0B15 </span><span style="color:gray">At_EOF</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B15                 </span><span style="color:navy">shr     byte ptr es:</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:green">1</span> ; decrement the flag
<span style="color:black">TRANGROUP:0B1A                 </span><span style="color:navy">jz      short </span><span style="color:gray">turn_off</span>  ; zero,turn batch off
<span style="color:black">TRANGROUP:0B1C                 </span><span style="color:navy">cmp     byte ptr es:</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:0B22                 </span><span style="color:navy">jz      short </span><span style="color:gray">ret_lf</span>    ; BatchEOF was 2, return LF
<span style="color:black">TRANGROUP:0B24                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>         ; BatchEOF == 4,
<span style="color:black">TRANGROUP:0B24                                         </span>; indicates return fake CR now
<span style="color:black">TRANGROUP:0B24                                         </span>; and fake LF next
<span style="color:black">TRANGROUP:0B26                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0B27                 </span><span style="color:navy">jmp     short </span><span style="color:gray">GETBYTEDONE</span>
<span style="color:black">TRANGROUP:0B29 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0B29
</span><span style="color:black">TRANGROUP:0B29 </span><span style="color:gray">ret_lf</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B29                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Ah</span>         ; return fake LF
<span style="color:black">TRANGROUP:0B2B                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0B2C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">GETBYTEDONE</span>
<span style="color:black">TRANGROUP:0B2E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0B2E
</span><span style="color:black">TRANGROUP:0B2E </span><span style="color:gray">turn_off</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B2E                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0B2F
</span><span style="color:black">TRANGROUP:0B2F </span><span style="color:gray">BATEOF</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B2F                 </span><span style="color:navy">call    </span>BATCHOFF
<span style="color:black">TRANGROUP:0B32                 </span><span style="color:navy">call    </span>BATCLOSE
<span style="color:black">TRANGROUP:0B35                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0B37                 </span><span style="color:navy">test    ds:</span>Batch_Abort<span style="color:navy">, </span><span style="color:green">0FFh</span>
<span style="color:black">TRANGROUP:0B3C                 </span><span style="color:navy">mov     ds:</span>Batch_Abort<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0B41                 </span><span style="color:navy">jz      short </span><span style="color:gray">CONT_GET_BYT</span>
<span style="color:black">TRANGROUP:0B43                 </span><span style="color:navy">mov     di</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:0B46                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:0B48                 </span><span style="color:navy">jmp     short </span><span style="color:gray">GETBYTEDONE</span>
<span style="color:black">TRANGROUP:0B4A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0B4A
</span><span style="color:black">TRANGROUP:0B4A </span><span style="color:gray">CONT_GET_BYT</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B4A                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFF0h</span>
<span style="color:black">TRANGROUP:0B4F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GETBYTEDONE</span>
<span style="color:black">TRANGROUP:0B51                 </span><span style="color:navy">cmp     ds:</span>Nest<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0B56                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GETBYTEDONE</span>
<span style="color:black">TRANGROUP:0B58                 </span><span style="color:navy">mov     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:0B5E
</span><span style="color:black">TRANGROUP:0B5E </span><span style="color:gray">GETBYTEDONE</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B5E                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0B5F                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:0B60                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:0B61                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0B61 </span>GETBATBYT       endp
<span style="color:black">TRANGROUP:0B61
</span><span style="color:black">TRANGROUP:0B62 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0B62 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:0B62
</span><span style="color:black">TRANGROUP:0B62 </span>IFERRORP<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B62                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:0B63
</span><span style="color:black">TRANGROUP:0B63 </span>IFFORERROR<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B63                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>SYNTMES_PTR
<span style="color:black">TRANGROUP:0B66                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:0B66 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:0B69
</span><span style="color:black">TRANGROUP:0B69 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:0B69
</span><span style="color:black">TRANGROUP:0B69
</span><span style="color:black">TRANGROUP:0B69 </span>_$IF            proc far                <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:0B69
</span><span style="color:black">TRANGROUP:0B69 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:0100 SIZE 00000336 BYTES
</span><span style="color:black">TRANGROUP:0B69 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:054E SIZE 0000006E BYTES
</span><span style="color:black">TRANGROUP:0B69 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:0868 SIZE 00000178 BYTES
</span><span style="color:black">TRANGROUP:0B69 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:0B62 SIZE 00000007 BYTES
</span><span style="color:black">TRANGROUP:0B69 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:0ED1 SIZE 00000124 BYTES
</span><span style="color:black">TRANGROUP:0B69 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:2E45 SIZE 000000F5 BYTES
</span><span style="color:black">TRANGROUP:0B69 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:2F50 SIZE 000000A5 BYTES
</span><span style="color:black">TRANGROUP:0B69 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:33CF SIZE 0000016D BYTES
</span><span style="color:black">TRANGROUP:0B69
</span><span style="color:black">TRANGROUP:0B69                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:0B6A                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:0B6E                 </span><span style="color:navy">cmp     ds:</span>PipeFiles<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0B73                 </span><span style="color:navy">jz      short </span><span style="color:gray">IFNoPipe</span>
<span style="color:black">TRANGROUP:0B75                 </span><span style="color:navy">call    </span>PIPEDEL
<span style="color:black">TRANGROUP:0B78
</span><span style="color:black">TRANGROUP:0B78 </span><span style="color:gray">IFNoPipe</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B78                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0B79                 </span><span style="color:navy">mov     ds:</span>IFNOTFLAG<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0B7E                 </span><span style="color:navy">mov     ds:</span>IF_NOT_COUNT<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0B84                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:0B87
</span><span style="color:black">TRANGROUP:0B87 </span><span style="color:gray">IFREENT</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B87                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:0B8A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0B8C                 </span><span style="color:navy">jz      short </span>IFFORERROR
<span style="color:black">TRANGROUP:0B8E                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:0B90                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>IFTAB
<span style="color:black">TRANGROUP:0B93                 </span><span style="color:navy">mov     ch</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0B95
</span><span style="color:black">TRANGROUP:0B95 </span><span style="color:gray">IFINDCOM</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B95                 </span><span style="color:navy">mov     si</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:0B97                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, [di]</span>
<span style="color:black">TRANGROUP:0B99                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:0B9A                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">IFSTRING</span>
<span style="color:black">TRANGROUP:0B9C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FIRSTCOMP</span>
<span style="color:black">TRANGROUP:0B9E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0B9E
</span><span style="color:black">TRANGROUP:0B9E </span><span style="color:gray">IFCOMP</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0B9E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">IF_DIF</span>
<span style="color:black">TRANGROUP:0BA0
</span><span style="color:black">TRANGROUP:0BA0 </span><span style="color:gray">FIRSTCOMP</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0BA0                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0BA1                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:0BA4                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:0BA5                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:0BA7                 </span><span style="color:navy">jz      short </span><span style="color:gray">IFLP</span>
<span style="color:black">TRANGROUP:0BA9                 </span><span style="color:navy">or      ah</span><span style="color:navy">, </span><span style="color:green">20h</span>         ; Try lower case
<span style="color:black">TRANGROUP:0BAC                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:0BAE
</span><span style="color:black">TRANGROUP:0BAE </span><span style="color:gray">IFLP</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0BAE                 </span><span style="color:navy">loop    </span><span style="color:gray">IFCOMP</span>
<span style="color:black">TRANGROUP:0BB0
</span><span style="color:black">TRANGROUP:0BB0 </span><span style="color:gray">IF_DIF</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0BB0                 </span><span style="color:navy">lahf
</span><span style="color:black">TRANGROUP:0BB1                 </span><span style="color:navy">add     di</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:0BB3                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, [di]</span>
<span style="color:black">TRANGROUP:0BB5                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:0BB6                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:0BB7                 </span><span style="color:navy">sahf
</span><span style="color:black">TRANGROUP:0BB8                 </span><span style="color:navy">jnz     short </span><span style="color:gray">IFINDCOM</span>
<span style="color:black">TRANGROUP:0BBA                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0BBB                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0BBD
</span><span style="color:black">TRANGROUP:0BBD </span><span style="color:gray">IFERRJ</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0BBD                 </span><span style="color:navy">jz      short </span>IFFORERROR
<span style="color:black">TRANGROUP:0BBF                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:0BC2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">IFINDCOM</span>
<span style="color:black">TRANGROUP:0BC4                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:0BC7                 </span><span style="color:navy">jmp     bx</span>
<span style="color:black">TRANGROUP:0BC9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0BC9
</span><span style="color:black">TRANGROUP:0BC9 </span>IFNOT<span style="color:navy">:                                  </span><span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:0BC9                 </span><span style="color:navy">not     ds:</span>IFNOTFLAG
<span style="color:black">TRANGROUP:0BCD                 </span><span style="color:navy">inc     ds:</span>IF_NOT_COUNT
<span style="color:black">TRANGROUP:0BD1                 </span><span style="color:navy">jmp     short </span><span style="color:gray">IFREENT</span>
<span style="color:black">TRANGROUP:0BD3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0BD3
</span><span style="color:black">TRANGROUP:0BD3 </span><span style="color:gray">IFSTRING</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0BD3                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:0BD4                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:0BD6
</span><span style="color:black">TRANGROUP:0BD6 </span><span style="color:gray">FIRST_STRING</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0BD6                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0BD7                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0BD9                 </span><span style="color:navy">jz      short </span>IFERRORP
<span style="color:black">TRANGROUP:0BDB                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:0BDE                 </span><span style="color:navy">jz      short </span><span style="color:gray">EQUAL_CHECK</span>
<span style="color:black">TRANGROUP:0BE0                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:0BE1                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FIRST_STRING</span>
<span style="color:black">TRANGROUP:0BE3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0BE3
</span><span style="color:black">TRANGROUP:0BE3 </span><span style="color:gray">EQUAL_CHECK</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0BE3                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'='</span>
<span style="color:black">TRANGROUP:0BE5                 </span><span style="color:navy">jz      short </span><span style="color:gray">EQUAL_CHECK2</span>
<span style="color:black">TRANGROUP:0BE7                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0BE9                 </span><span style="color:navy">jz      short </span><span style="color:gray">IFERRPJ</span>
<span style="color:black">TRANGROUP:0BEB                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0BEC                 </span><span style="color:navy">jmp     short </span><span style="color:gray">EQUAL_CHECK</span>
<span style="color:black">TRANGROUP:0BEE </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0BEE
</span><span style="color:black">TRANGROUP:0BEE </span><span style="color:gray">EQUAL_CHECK2</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0BEE                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0BEF                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'='</span>
<span style="color:black">TRANGROUP:0BF1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">IFERRPJ</span>
<span style="color:black">TRANGROUP:0BF3                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:0BF6                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0BF8                 </span><span style="color:navy">jz      short </span><span style="color:gray">IFERRPJ</span>
<span style="color:black">TRANGROUP:0BFA                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:0BFB                 </span><span style="color:navy">repe cmpsb
</span><span style="color:black">TRANGROUP:0BFD                 </span><span style="color:navy">jz      short </span><span style="color:gray">MATCH</span>
<span style="color:black">TRANGROUP:0BFF                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:0C00                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0C03                 </span><span style="color:navy">jz      short </span><span style="color:gray">IFERRJ</span>
<span style="color:black">TRANGROUP:0C05
</span><span style="color:black">TRANGROUP:0C05 </span><span style="color:gray">SKIPSTRINGEND</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0C05                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0C06
</span><span style="color:black">TRANGROUP:0C06 </span><span style="color:gray">NOTMATCH</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0C06                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0C08
</span><span style="color:black">TRANGROUP:0C08 </span>IFERRORJ2<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0C08                 </span><span style="color:navy">jz      short </span><span style="color:gray">IFERRJ</span>
<span style="color:black">TRANGROUP:0C0A                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:0C0D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SKIPSTRINGEND</span>
<span style="color:black">TRANGROUP:0C0F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; -1
<span style="color:black">TRANGROUP:0C11                 </span><span style="color:navy">jmp     short </span>IFRET
<span style="color:black">TRANGROUP:0C13 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0C13
</span><span style="color:black">TRANGROUP:0C13 </span><span style="color:gray">IFERRPJ</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0C13                 </span><span style="color:navy">jmp     </span>IFERRORP
<span style="color:black">TRANGROUP:0C16 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0C16
</span><span style="color:black">TRANGROUP:0C16 </span><span style="color:gray">MATCH</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0C16                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0C17                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:0C1A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOTMATCH</span>
<span style="color:black">TRANGROUP:0C1C                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0C1E                 </span><span style="color:navy">jmp     short </span>IFRET
<span style="color:black">TRANGROUP:0C20 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0C20
</span><span style="color:black">TRANGROUP:0C20 </span>IFEXISTS<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0C20                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0C21                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:0C24                 </span><span style="color:navy">jnz     short </span>IFEXISTS
<span style="color:black">TRANGROUP:0C26                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BWDBUF ; DIRBUF
<span style="color:black">TRANGROUP:0C29                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">1A00h</span>
<span style="color:black">TRANGROUP:0C2C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET DISK TRANSFER AREA ADDRESS
<span style="color:black">TRANGROUP:0C2C                                         </span>; DS:DX -&gt; disk transfer buffer
<span style="color:black">TRANGROUP:0C2E                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:0C31                 </span><span style="color:navy">add     bx</span><span style="color:navy">, ds:</span>IF_NOT_COUNT
<span style="color:black">TRANGROUP:0C35                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, offset </span>ARG_ARGV ; mov ax,ARG
<span style="color:black">TRANGROUP:0C35                                         </span>; (mov ax,ARG+ARG_UNIT.argv)
<span style="color:black">TRANGROUP:0C38                 </span><span style="color:navy">call    </span>argv_calc
<span style="color:black">TRANGROUP:0C3B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, [bx]</span>        ; [bx+ARGV_ELE.argpointer]
<span style="color:black">TRANGROUP:0C3B                                         </span>; mov dx,[bx+0]
<span style="color:black">TRANGROUP:0C3D                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>           ; IFEXIST_ATTR ; filetypes to search for
<span style="color:black">TRANGROUP:0C40                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4E00h</span>
<span style="color:black">TRANGROUP:0C43                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
<span style="color:black">TRANGROUP:0C43                                         </span>; CX = search attributes
<span style="color:black">TRANGROUP:0C43                                         </span>; DS:DX -&gt; ASCIZ filespec
<span style="color:black">TRANGROUP:0C43                                         </span>; (drive, path, and wildcards allowed)
<span style="color:black">TRANGROUP:0C45                 </span><span style="color:navy">jb      short </span><span style="color:gray">IF_EX_C</span>
<span style="color:black">TRANGROUP:0C47                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0C49                 </span><span style="color:navy">jmp     short </span>IFRET
<span style="color:black">TRANGROUP:0C4B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0C4B
</span><span style="color:black">TRANGROUP:0C4B </span><span style="color:gray">IF_EX_C</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0C4B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; -1
<span style="color:black">TRANGROUP:0C4D
</span><span style="color:black">TRANGROUP:0C4D </span>IFRET<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0C4D                 </span><span style="color:navy">test    ds:</span>IFNOTFLAG<span style="color:navy">, </span><span style="color:green">0FFh</span>
<span style="color:black">TRANGROUP:0C52                 </span><span style="color:navy">jz      short </span><span style="color:gray">REALTEST</span>
<span style="color:black">TRANGROUP:0C54                 </span><span style="color:navy">not     al</span>
<span style="color:black">TRANGROUP:0C56
</span><span style="color:black">TRANGROUP:0C56 </span><span style="color:gray">REALTEST</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0C56                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0C58                 </span><span style="color:navy">jz      short </span><span style="color:gray">IFTRUE</span>
<span style="color:black">TRANGROUP:0C5A                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:0C5D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0C5D
</span><span style="color:black">TRANGROUP:0C5D </span><span style="color:gray">IFTRUE</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0C5D                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:0C60                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:0C62                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:0C66                 </span><span style="color:navy">sub     ds:</span><span style="color:green">80h</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:0C6A                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, ds:</span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:0C6E                 </span><span style="color:navy">mov     ds:</span>COMBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:0C72                 </span><span style="color:navy">mov     di</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:0C75                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:0C76                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:0C78                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0C7A                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:0C7B                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:0C7C                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:0C80                 </span><span style="color:navy">mov     ds:</span>IfFlag<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; -1
<span style="color:black">TRANGROUP:0C85                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0C86                 </span><span style="color:navy">jmp     </span>DOCOM0
<span style="color:black">TRANGROUP:0C86 </span>_$IF            endp
<span style="color:black">TRANGROUP:0C86
</span><span style="color:maroon">TRANGROUP:0C89 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:0C89
</span><span style="color:maroon">TRANGROUP:0C89 </span>IFERRORJ3<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0C89                 </span><span style="color:navy">jmp     </span>IFERRORJ2
<span style="color:maroon">TRANGROUP:0C8C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:0C8C
</span><span style="color:maroon">TRANGROUP:0C8C </span>IFERLEV<span style="color:navy">:                                </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:0C8C                 </span><span style="color:navy">mov     bh</span><span style="color:navy">, </span><span style="color:green">10</span>
<span style="color:maroon">TRANGROUP:0C8E                 </span><span style="color:navy">xor     bl</span><span style="color:navy">, bl</span>
<span style="color:maroon">TRANGROUP:0C90
</span><span style="color:maroon">TRANGROUP:0C90 </span>GETNUMLP<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0C90                 </span><span style="color:navy">lodsb
</span><span style="color:maroon">TRANGROUP:0C91                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:maroon">TRANGROUP:0C93                 </span><span style="color:navy">jz      short </span>IFERRORJ3
<span style="color:maroon">TRANGROUP:0C95                 </span><span style="color:navy">call    </span>DELIM
<span style="color:maroon">TRANGROUP:0C98                 </span><span style="color:navy">jz      short </span>GOTNUM
<span style="color:maroon">TRANGROUP:0C9A                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">'0'</span>
<span style="color:maroon">TRANGROUP:0C9C                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, bl</span>
<span style="color:maroon">TRANGROUP:0C9E                 </span><span style="color:navy">mul     bh</span>
<span style="color:maroon">TRANGROUP:0CA0                 </span><span style="color:navy">add     al</span><span style="color:navy">, bl</span>
<span style="color:maroon">TRANGROUP:0CA2                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, bl</span>
<span style="color:maroon">TRANGROUP:0CA4                 </span><span style="color:navy">jmp     short </span>GETNUMLP
<span style="color:maroon">TRANGROUP:0CA6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:0CA6
</span><span style="color:maroon">TRANGROUP:0CA6 </span>GOTNUM<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0CA6                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">TRANGROUP:0CA7                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:maroon">TRANGROUP:0CAB                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, byte ptr ds:</span>RetCode
<span style="color:maroon">TRANGROUP:0CAF                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">TRANGROUP:0CB0                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:maroon">TRANGROUP:0CB2                 </span><span style="color:navy">cmp     ah</span><span style="color:navy">, bl</span>
<span style="color:maroon">TRANGROUP:0CB4                 </span><span style="color:navy">jnb     short </span>IFRET
<span style="color:maroon">TRANGROUP:0CB6                 </span><span style="color:navy">dec     al</span>
<span style="color:maroon">TRANGROUP:0CB8                 </span><span style="color:navy">jmp     short </span>IFRET
<span style="color:maroon">TRANGROUP:0CBA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:0CBA
</span><span style="color:maroon">TRANGROUP:0CBA </span>SHIFT<span style="color:navy">:                                  </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:0CBA                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:maroon">TRANGROUP:0CBE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Batch
<span style="color:maroon">TRANGROUP:0CC1                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:maroon">TRANGROUP:0CC3                 </span><span style="color:navy">jnz     short </span>SHIFT1
<span style="color:maroon">TRANGROUP:0CC5
</span><span style="color:maroon">TRANGROUP:0CC5 </span>SHIFT_RETN<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0CC5                 </span><span style="color:navy">retn
</span><span style="color:maroon">TRANGROUP:0CC6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:0CC6
</span><span style="color:maroon">TRANGROUP:0CC6 </span>SHIFT1<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0CC6                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:maroon">TRANGROUP:0CC8                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:maroon">TRANGROUP:0CCA                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:#ff8000">0Ch</span>         ; BATCHSEGMENT.BatParm
<span style="color:maroon">TRANGROUP:0CCD                 </span><span style="color:navy">lea     si</span><span style="color:navy">, [di+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>
<span style="color:maroon">TRANGROUP:0CD0                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:maroon">TRANGROUP:0CD3                 </span><span style="color:navy">rep movsw
</span><span style="color:maroon">TRANGROUP:0CD5                 </span><span style="color:navy">cmp     word ptr [di]</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:maroon">TRANGROUP:0CD8                 </span><span style="color:navy">jz      short </span>SHIFT_RETN
<span style="color:maroon">TRANGROUP:0CDA                 </span><span style="color:navy">mov     si</span><span style="color:navy">, [di]</span>
<span style="color:maroon">TRANGROUP:0CDC                 </span><span style="color:navy">mov     word ptr [di]</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:maroon">TRANGROUP:0CE0
</span><span style="color:maroon">TRANGROUP:0CE0 </span>SKIPCRLP<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0CE0                 </span><span style="color:navy">lodsb
</span><span style="color:maroon">TRANGROUP:0CE1                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:maroon">TRANGROUP:0CE3                 </span><span style="color:navy">jnz     short </span>SKIPCRLP
<span style="color:maroon">TRANGROUP:0CE5                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">TRANGROUP:0CE8                 </span><span style="color:navy">jz      short </span>SHIFT_RETN
<span style="color:maroon">TRANGROUP:0CEA                 </span><span style="color:navy">mov     [di]</span><span style="color:navy">, si</span>
<span style="color:maroon">TRANGROUP:0CEC                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0CED
</span><span style="color:black">TRANGROUP:0CED </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:0CED
</span><span style="color:black">TRANGROUP:0CED
</span><span style="color:black">TRANGROUP:0CED </span>SKIPDELIM       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0CED                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:0CF3                 </span><span style="color:navy">jz      short </span><span style="color:gray">SKIPERR</span>
<span style="color:black">TRANGROUP:0CF5                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:black">TRANGROUP:0CF8                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:0CFB                 </span><span style="color:navy">jz      short </span>SKIPDELIM
<span style="color:black">TRANGROUP:0CFD                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:0CFE                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0CFF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0CFF
</span><span style="color:black">TRANGROUP:0CFF </span><span style="color:gray">SKIPERR</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0CFF                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:0D00
</span><span style="color:black">TRANGROUP:0D00 </span>GOTO_RETN<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0D00                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0D00 </span>SKIPDELIM       endp
<span style="color:black">TRANGROUP:0D00
</span><span style="color:black">TRANGROUP:0D01
</span><span style="color:black">TRANGROUP:0D01 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:0D01
</span><span style="color:black">TRANGROUP:0D01
</span><span style="color:black">TRANGROUP:0D01 </span>_$CALL          proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:0D01                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:0D02                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:0D03                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:0D04                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:0D05                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:0D08                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:0D0B                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; length_call
<span style="color:black">TRANGROUP:0D0E                 </span><span style="color:navy">mov     di</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:0D11                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">124</span>         ; COMBUFLEN-length_call
<span style="color:black">TRANGROUP:0D14                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:0D16                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:0D17                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:0D18                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:0D19                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:0D1A                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:0D1B                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:0D1F                 </span><span style="color:navy">mov     ds:</span>Call_Flag<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; call_in_progress
<span style="color:black">TRANGROUP:0D24                 </span><span style="color:navy">mov     ds:</span>Call_Batch_Flag<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:0D29                 </span><span style="color:navy">cmp     ds:</span>PipeFiles<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0D2E                 </span><span style="color:navy">jz      short </span><span style="color:gray">_NOPIPE</span>
<span style="color:black">TRANGROUP:0D30                 </span><span style="color:navy">call    </span>PIPEDEL
<span style="color:black">TRANGROUP:0D33
</span><span style="color:black">TRANGROUP:0D33 </span><span style="color:gray">_NOPIPE</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0D33                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0D34                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0D34 </span>_$CALL          endp
<span style="color:black">TRANGROUP:0D34
</span><span style="color:maroon">TRANGROUP:0D35 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:0D35
</span><span style="color:maroon">TRANGROUP:0D35 </span>GOTO<span style="color:navy">:                                   </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:0D35                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:maroon">TRANGROUP:0D39                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:maroon">TRANGROUP:0D3F                 </span><span style="color:navy">jz      short </span>GOTO_RETN
<span style="color:maroon">TRANGROUP:0D41                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:maroon">TRANGROUP:0D43                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">TRANGROUP:0D44                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>Batch
<span style="color:maroon">TRANGROUP:0D48                 </span><span style="color:navy">mov     ds:</span><span style="color:green">8</span><span style="color:navy">, dx</span>        ; [BATCHSEGMENT.BatSeek]
<span style="color:maroon">TRANGROUP:0D4C                 </span><span style="color:navy">mov     ds:</span><span style="color:green">10</span><span style="color:navy">, dx</span>       ; [BATCHSEGMENT.BatSeek+2]
<span style="color:maroon">TRANGROUP:0D50                 </span><span style="color:navy">mov     byte ptr ds:</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [BATCHSEGMENT.BatchEOF]
<span style="color:maroon">TRANGROUP:0D55                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">TRANGROUP:0D56                 </span><span style="color:navy">call    </span>PROMPTBAT
<span style="color:maroon">TRANGROUP:0D59                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">5Dh</span>         ;  FCB+1
<span style="color:maroon">TRANGROUP:0D5C                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">11</span>
<span style="color:maroon">TRANGROUP:0D5F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:maroon">TRANGROUP:0D61                 </span><span style="color:navy">repne scasb
</span><span style="color:maroon">TRANGROUP:0D63                 </span><span style="color:navy">jnz     short </span>NOINC
<span style="color:maroon">TRANGROUP:0D65                 </span><span style="color:navy">inc     cx</span>
<span style="color:maroon">TRANGROUP:0D66
</span><span style="color:maroon">TRANGROUP:0D66 </span>NOINC<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0D66                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, </span><span style="color:green">11</span>
<span style="color:maroon">TRANGROUP:0D69                 </span><span style="color:navy">neg     cx</span>
<span style="color:maroon">TRANGROUP:0D6B                 </span><span style="color:navy">mov     es:</span>BWDBUF<span style="color:navy">, cx</span>   ; mov [es:GOTOLEN],cx
<span style="color:maroon">TRANGROUP:0D70                 </span><span style="color:navy">call    </span>SKIPDELIM
<span style="color:maroon">TRANGROUP:0D73                 </span><span style="color:navy">jb      short </span>BADGOTO
<span style="color:maroon">TRANGROUP:0D75                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:maroon">TRANGROUP:0D77                 </span><span style="color:navy">jz      short </span>CHKLABEL
<span style="color:maroon">TRANGROUP:0D79
</span><span style="color:maroon">TRANGROUP:0D79 </span>LABLKLP<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0D79                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:maroon">TRANGROUP:0D7C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Ah</span>
<span style="color:maroon">TRANGROUP:0D7E                 </span><span style="color:navy">jnz     short </span>LABLKTST
<span style="color:maroon">TRANGROUP:0D80                 </span><span style="color:navy">call    </span>SKIPDELIM
<span style="color:maroon">TRANGROUP:0D83                 </span><span style="color:navy">jb      short </span>BADGOTO
<span style="color:maroon">TRANGROUP:0D85                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:maroon">TRANGROUP:0D87                 </span><span style="color:navy">jz      short </span>CHKLABEL
<span style="color:maroon">TRANGROUP:0D89
</span><span style="color:maroon">TRANGROUP:0D89 </span>LABLKTST<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0D89                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:maroon">TRANGROUP:0D8F                 </span><span style="color:navy">jnz     short </span>LABLKLP
<span style="color:maroon">TRANGROUP:0D91
</span><span style="color:maroon">TRANGROUP:0D91 </span>BADGOTO<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0D91                 </span><span style="color:navy">call    </span>BATCLOSE
<span style="color:maroon">TRANGROUP:0D94                 </span><span style="color:navy">call    </span>free_batch
<span style="color:maroon">TRANGROUP:0D97                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">TRANGROUP:0D98                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">TRANGROUP:0D99                 </span>assume ds:TRANGROUP
<span style="color:maroon">TRANGROUP:0D99                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADLAB_PTR
<span style="color:maroon">TRANGROUP:0D9C                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:maroon">TRANGROUP:0D9F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:0D9F
</span><span style="color:maroon">TRANGROUP:0D9F </span>CHKLABEL<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0D9F                 </span><span style="color:navy">call    </span>SKIPDELIM
<span style="color:maroon">TRANGROUP:0DA2                 </span><span style="color:navy">jb      short </span>BADGOTO
<span style="color:maroon">TRANGROUP:0DA4                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">5Dh</span>         ; FCB+1
<span style="color:maroon">TRANGROUP:0DA7                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, es:</span>BWDBUF   ; mov cx,[es:GOTOLEN]
<span style="color:maroon">TRANGROUP:0DAC                 </span><span style="color:navy">jmp     short </span>GOTBYTE
<span style="color:maroon">TRANGROUP:0DAE </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:0DAE
</span><span style="color:maroon">TRANGROUP:0DAE </span>NEXTCHRLP<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0DAE                 </span><span style="color:navy">push    cx</span>
<span style="color:maroon">TRANGROUP:0DAF                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:maroon">TRANGROUP:0DB2                 </span><span style="color:navy">pop     cx</span>
<span style="color:maroon">TRANGROUP:0DB3
</span><span style="color:maroon">TRANGROUP:0DB3 </span>GOTBYTE<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0DB3                 </span><span style="color:navy">call    </span>testkanj
<span style="color:maroon">TRANGROUP:0DB6                 </span><span style="color:navy">jz      short </span>NOTKANJ1
<span style="color:maroon">TRANGROUP:0DB8                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[di]</span>
<span style="color:maroon">TRANGROUP:0DBB                 </span><span style="color:navy">jnz     short </span>LABLKTST
<span style="color:maroon">TRANGROUP:0DBD                 </span><span style="color:navy">inc     di</span>
<span style="color:maroon">TRANGROUP:0DBE                 </span><span style="color:navy">dec     cx</span>
<span style="color:maroon">TRANGROUP:0DBF                 </span><span style="color:navy">jcxz    short </span>LABLKTST
<span style="color:maroon">TRANGROUP:0DC1                 </span><span style="color:navy">push    cx</span>
<span style="color:maroon">TRANGROUP:0DC2                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:maroon">TRANGROUP:0DC5                 </span><span style="color:navy">pop     cx</span>
<span style="color:maroon">TRANGROUP:0DC6                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[di]</span>
<span style="color:maroon">TRANGROUP:0DC9                 </span><span style="color:navy">jmp     short </span>KNEXTLABCHR
<span style="color:maroon">TRANGROUP:0DCB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:0DCB
</span><span style="color:maroon">TRANGROUP:0DCB </span>NOTKANJ1<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0DCB                 </span><span style="color:navy">or      al</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:maroon">TRANGROUP:0DCD                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[di]</span>
<span style="color:maroon">TRANGROUP:0DD0                 </span><span style="color:navy">jnz     short </span>TRYUPPER
<span style="color:maroon">TRANGROUP:0DD2                 </span><span style="color:navy">jmp     short </span>NEXTLABCHR
<span style="color:maroon">TRANGROUP:0DD4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:0DD4
</span><span style="color:maroon">TRANGROUP:0DD4 </span>TRYUPPER<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0DD4                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:maroon">TRANGROUP:0DD6                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[di]</span>
<span style="color:maroon">TRANGROUP:0DD9
</span><span style="color:maroon">TRANGROUP:0DD9 </span>KNEXTLABCHR<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0DD9                 </span><span style="color:navy">jnz     short </span>LABLKTST
<span style="color:maroon">TRANGROUP:0DDB
</span><span style="color:maroon">TRANGROUP:0DDB </span>NEXTLABCHR<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0DDB                 </span><span style="color:navy">inc     di</span>
<span style="color:maroon">TRANGROUP:0DDC                 </span><span style="color:navy">loop    </span>NEXTCHRLP
<span style="color:maroon">TRANGROUP:0DDE                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:maroon">TRANGROUP:0DE1                 </span><span style="color:navy">cmp     es:</span>BWDBUF<span style="color:navy">, </span><span style="color:#ff8000">8</span>    ; cmp [es:GOTOLEN],8
<span style="color:maroon">TRANGROUP:0DE7                 </span><span style="color:navy">jge     short </span>GOTOCONT
<span style="color:maroon">TRANGROUP:0DE9                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:maroon">TRANGROUP:0DEB                 </span><span style="color:navy">ja      short </span>LABLKTST
<span style="color:maroon">TRANGROUP:0DED
</span><span style="color:maroon">TRANGROUP:0DED </span>GOTOCONT<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0DED                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:maroon">TRANGROUP:0DEF                 </span><span style="color:navy">jz      short </span>SKIPLFEED
<span style="color:maroon">TRANGROUP:0DF1
</span><span style="color:maroon">TRANGROUP:0DF1 </span>TONEXTBATLIN<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0DF1                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:maroon">TRANGROUP:0DF4                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:maroon">TRANGROUP:0DF6                 </span><span style="color:navy">jnz     short </span>TONEXTBATLIN
<span style="color:maroon">TRANGROUP:0DF8
</span><span style="color:maroon">TRANGROUP:0DF8 </span>SKIPLFEED<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:0DF8                 </span><span style="color:navy">call    </span>GETBATBYT
<span style="color:maroon">TRANGROUP:0DFB                 </span><span style="color:navy">push    es</span>
<span style="color:maroon">TRANGROUP:0DFC                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>Batch
<span style="color:maroon">TRANGROUP:0E00                 </span><span style="color:navy">mov     byte ptr es:</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; BATCHSEGMENT.BatchEOF
<span style="color:maroon">TRANGROUP:0E06                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">TRANGROUP:0E07                 </span><span style="color:navy">call    </span>BATCLOSE
<span style="color:maroon">TRANGROUP:0E0A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0E0B
</span><span style="color:black">TRANGROUP:0E0B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:0E0B
</span><span style="color:black">TRANGROUP:0E0B
</span><span style="color:black">TRANGROUP:0E0B </span>BATCLOSE        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0E0B                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, cs:</span>BATHAND
<span style="color:black">TRANGROUP:0E10                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>
<span style="color:black">TRANGROUP:0E13                 </span><span style="color:navy">jb      short </span><span style="color:gray">CLOSERETURN</span>
<span style="color:black">TRANGROUP:0E15                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">TRANGROUP:0E17                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">TRANGROUP:0E17                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:0E19
</span><span style="color:black">TRANGROUP:0E19 </span><span style="color:gray">CLOSERETURN</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0E19                 </span><span style="color:navy">mov     ds:</span>In_Batch<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0E1E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0E1E </span>BATCLOSE        endp
<span style="color:black">TRANGROUP:0E1E
</span><span style="color:black">TRANGROUP:0E1F
</span><span style="color:black">TRANGROUP:0E1F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:0E1F
</span><span style="color:black">TRANGROUP:0E1F
</span><span style="color:black">TRANGROUP:0E1F </span>BATOPEN         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0E1F                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:0E20                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>Batch
<span style="color:black">TRANGROUP:0E24                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:0E24                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">20h</span>         ; BATCHSEGMENT.BatFile
<span style="color:black">TRANGROUP:0E27                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3D00h</span>
<span style="color:black">TRANGROUP:0E2A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - OPEN DISK FILE WITH HANDLE
<span style="color:black">TRANGROUP:0E2A                                         </span>; DS:DX -&gt; ASCIZ filename
<span style="color:black">TRANGROUP:0E2A                                         </span>; AL = access mode
<span style="color:black">TRANGROUP:0E2A                                         </span>; 0 - read
<span style="color:black">TRANGROUP:0E2C                 </span><span style="color:navy">jb      short </span><span style="color:gray">SETERRDL</span>
<span style="color:black">TRANGROUP:0E2E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span><span style="color:green">8</span>        ; [BATCHSEGMENT.BatSeek]
<span style="color:black">TRANGROUP:0E32                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span><span style="color:green">10</span>       ; [BATCHSEGMENT.BatSeek+2]
<span style="color:black">TRANGROUP:0E36                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0E37                 </span><span style="color:navy">mov     es:</span>BATHAND<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0E3B                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0E3D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4200h</span>
<span style="color:black">TRANGROUP:0E40                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:black">TRANGROUP:0E40                                         </span>; AL = method: offset from beginning of file
<span style="color:black">TRANGROUP:0E42                 </span><span style="color:navy">mov     es:</span>BATBUFPOS<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:0E49                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0E4A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0E4A
</span><span style="color:black">TRANGROUP:0E4A </span><span style="color:gray">SETERRDL</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0E4A                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:0E4C                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:0E4F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0E51                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [bx]</span>
<span style="color:black">TRANGROUP:0E53                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:#ff8000">40h</span> <span style="color:gray">; '@'
</span><span style="color:black">TRANGROUP:0E55                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0E56                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:0E57                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0E57 </span>BATOPEN         endp
<span style="color:black">TRANGROUP:0E57
</span><span style="color:black">TRANGROUP:0E58
</span><span style="color:black">TRANGROUP:0E58 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:0E58
</span><span style="color:black">TRANGROUP:0E58
</span><span style="color:black">TRANGROUP:0E58 </span>free_batch      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0E58                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:0E59                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>Next_Batch
<span style="color:black">TRANGROUP:0E5D                 </span><span style="color:navy">or      bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:0E5F                 </span><span style="color:navy">jz      short </span><span style="color:gray">fb_ret</span>
<span style="color:black">TRANGROUP:0E61
</span><span style="color:black">TRANGROUP:0E61 </span><span style="color:gray">_ClearBatch</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0E61                 </span><span style="color:navy">mov     es</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:0E63                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:</span><span style="color:green">5</span>        ; [es:BATCHSEGMENT.BatForPtr]
<span style="color:black">TRANGROUP:0E68                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0E6B                 </span><span style="color:navy">jz      short </span><span style="color:gray">no_bat_for</span>
<span style="color:black">TRANGROUP:0E6D                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:0E6E                 </span><span style="color:navy">mov     es</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:0E70                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:black">TRANGROUP:0E72                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">TRANGROUP:0E72                                         </span>; ES = segment address of area to be freed
<span style="color:black">TRANGROUP:0E74                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0E75
</span><span style="color:black">TRANGROUP:0E75 </span><span style="color:gray">no_bat_for</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0E75                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:</span><span style="color:green">1</span>        ; [es:BATCHSEGMENT.BatEchoFlag]
<span style="color:black">TRANGROUP:0E7A                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; [es:BATCHSEGMENT.BatLast]
<span style="color:black">TRANGROUP:0E7F                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:black">TRANGROUP:0E81                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">TRANGROUP:0E81                                         </span>; ES = segment address of area to be freed
<span style="color:black">TRANGROUP:0E83                 </span><span style="color:navy">mov     ds:</span>Batch<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:0E87                 </span><span style="color:navy">dec     ds:</span>Nest
<span style="color:black">TRANGROUP:0E8B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">_ClearBatch</span>
<span style="color:black">TRANGROUP:0E8D                 </span><span style="color:navy">mov     ds:</span>EchoFlag<span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:0E91                 </span><span style="color:navy">mov     ds:</span>Batch<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0E97
</span><span style="color:black">TRANGROUP:0E97 </span><span style="color:gray">fb_ret</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0E97                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0E98                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:0E98 </span>free_batch      endp
<span style="color:black">TRANGROUP:0E98
</span><span style="color:black">TRANGROUP:0E99 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0E99 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR _$FOR
</span><span style="color:black">TRANGROUP:0E99
</span><span style="color:black">TRANGROUP:0E99 </span>FORTERM<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0E99                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:0E9A                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0E9B                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:0E9B                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:0E9C                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0E9D                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:0E9D                 </span><span style="color:navy">call    </span>FOROFF
<span style="color:black">TRANGROUP:0EA0                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, es:</span>RESSEG
<span style="color:black">TRANGROUP:0EA5                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:0EA5                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FF00h</span>
<span style="color:black">TRANGROUP:0EAB                 </span><span style="color:navy">jnz     short </span><span style="color:gray">BAT_CRLF</span>
<span style="color:black">TRANGROUP:0EAD                 </span><span style="color:navy">cmp     ds:</span>Nest<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0EB2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">BAT_CRLF</span>
<span style="color:black">TRANGROUP:0EB4                 </span><span style="color:navy">mov     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:0EBA                 </span><span style="color:navy">jmp     short </span><span style="color:gray">NOFORP2</span>
<span style="color:black">TRANGROUP:0EBC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0EBC
</span><span style="color:black">TRANGROUP:0EBC </span><span style="color:gray">BAT_CRLF</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0EBC                 </span><span style="color:navy">test    ds:</span>EchoFlag<span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:0EC1                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOFORP2</span>
<span style="color:black">TRANGROUP:0EC3                 </span><span style="color:navy">test    ds:</span>Batch<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:0EC9                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOFORP2</span>
<span style="color:black">TRANGROUP:0ECB                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:0ECE
</span><span style="color:black">TRANGROUP:0ECE </span><span style="color:gray">NOFORP2</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0ECE                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:0ECE </span><span style="color:gray">; END OF FUNCTION CHUNK FOR _$FOR
</span><span style="color:black">TRANGROUP:0ED1 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0ED1 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:0ED1
</span><span style="color:black">TRANGROUP:0ED1 </span><span style="color:gray">_$FOR_EXIT</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0ED1                 </span><span style="color:navy">jmp     short </span>FORTERM
<span style="color:black">TRANGROUP:0ED3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0ED3
</span><span style="color:black">TRANGROUP:0ED3 </span><span style="color:gray">FORPROC</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0ED3                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>ForPtr
<span style="color:black">TRANGROUP:0ED6                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0ED8                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0EDA                 </span>assume es:nothing
<span style="color:black">TRANGROUP:0EDA                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">5CBh</span>        ; FOR_INFO.FORDMA
<span style="color:black">TRANGROUP:0EDD                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">1A00h</span>
<span style="color:black">TRANGROUP:0EE0                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET DISK TRANSFER AREA ADDRESS
<span style="color:black">TRANGROUP:0EE0                                         </span>; DS:DX -&gt; disk transfer buffer
<span style="color:black">TRANGROUP:0EE2
</span><span style="color:black">TRANGROUP:0EE2 </span><span style="color:gray">FOR_BEGIN</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0EE2                 </span><span style="color:navy">cmp     word ptr ds:</span><span style="color:green">545h</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; FOR_INFO.FOR_EXPAND
<span style="color:black">TRANGROUP:0EE7                 </span><span style="color:navy">jz      short </span><span style="color:gray">FOR_BEGIN1</span>
<span style="color:black">TRANGROUP:0EE9                 </span><span style="color:navy">inc     word ptr ds:</span><span style="color:green">547h</span> ; FOR_INFO.FOR_MINARG
<span style="color:black">TRANGROUP:0EED
</span><span style="color:black">TRANGROUP:0EED </span><span style="color:gray">FOR_BEGIN1</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0EED                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span><span style="color:green">547h</span>
<span style="color:black">TRANGROUP:0EF1                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, ds:</span><span style="color:green">549h</span>     ; FOR_INFO.FOR_MAXARG
<span style="color:black">TRANGROUP:0EF5                 </span><span style="color:navy">jg      short </span><span style="color:gray">_$FOR_EXIT</span>
<span style="color:black">TRANGROUP:0EF7                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; FOR_INFO.FOR_ARGS
<span style="color:black">TRANGROUP:0EFA                 </span><span style="color:navy">call    </span>argv_calc
<span style="color:black">TRANGROUP:0EFD                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">3</span><span style="color:navy">]</span>      ; [bx+ARGV_ELE.argstartel]
<span style="color:black">TRANGROUP:0F00                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, [bx]</span>        ; [bx+ARGV_ELE.argpointer]
<span style="color:black">TRANGROUP:0F02                 </span><span style="color:navy">test    byte ptr [bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">4</span> ; [bx+ARGV_ELE.argflags],path_sep
<span style="color:black">TRANGROUP:0F06                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FORSUB</span>
<span style="color:black">TRANGROUP:0F08                 </span><span style="color:navy">mov     si</span><span style="color:navy">, [bx]</span>
<span style="color:black">TRANGROUP:0F0A                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'('</span>         ; lparen
<span style="color:black">TRANGROUP:0F0C                 </span><span style="color:navy">cmp     [si-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0F0F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FORSUB</span>
<span style="color:black">TRANGROUP:0F11                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:0F12                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:0F14                 </span><span style="color:navy">cmp     [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0F17                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FORSUB</span>
<span style="color:black">TRANGROUP:0F19                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:0F1C
</span><span style="color:black">TRANGROUP:0F1C </span><span style="color:gray">FORSUB</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0F1C                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:0F1E                 </span><span style="color:navy">cmp     word ptr ds:</span><span style="color:green">545h</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [FOR_INFO.FOR_EXPAND]
<span style="color:black">TRANGROUP:0F23                 </span><span style="color:navy">jz      short </span><span style="color:gray">FOR_FIND_NEXT</span>
<span style="color:black">TRANGROUP:0F25                 </span><span style="color:navy">test    byte ptr [bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">2</span> ; wildcard
<span style="color:black">TRANGROUP:0F29                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FOR_FIND_FIRST</span>
<span style="color:black">TRANGROUP:0F2B                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">5</span><span style="color:navy">]</span>      ; [bx+ARGV_ELE.arglen]
<span style="color:black">TRANGROUP:0F2E                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FOR_SMOOSH</span>
<span style="color:black">TRANGROUP:0F30 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0F30
</span><span style="color:black">TRANGROUP:0F30 </span><span style="color:gray">FOR_FIND_FIRST</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0F30                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:0F31                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:0F33                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4E00h</span>
<span style="color:black">TRANGROUP:0F36                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
<span style="color:black">TRANGROUP:0F36                                         </span>; CX = search attributes
<span style="color:black">TRANGROUP:0F36                                         </span>; DS:DX -&gt; ASCIZ filespec
<span style="color:black">TRANGROUP:0F36                                         </span>; (drive, path, and wildcards allowed)
<span style="color:black">TRANGROUP:0F38                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:0F39                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FOR_RESULT</span>
<span style="color:black">TRANGROUP:0F3B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0F3B
</span><span style="color:black">TRANGROUP:0F3B </span><span style="color:gray">FOR_FIND_NEXT</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0F3B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4F00h</span>
<span style="color:black">TRANGROUP:0F3E                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FIND NEXT ASCIZ (FINDNEXT)
<span style="color:black">TRANGROUP:0F3E                                         </span>; [DTA] = data block from
<span style="color:black">TRANGROUP:0F3E                                         </span>; last AH = 4Eh/4Fh call
<span style="color:black">TRANGROUP:0F40
</span><span style="color:black">TRANGROUP:0F40 </span><span style="color:gray">FOR_RESULT</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0F40                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:0F43                 </span><span style="color:navy">jb      short </span><span style="color:gray">FOR_CHECK</span>
<span style="color:black">TRANGROUP:0F45                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0F48
</span><span style="color:black">TRANGROUP:0F48 </span><span style="color:gray">FOR_CHECK</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0F48                 </span><span style="color:navy">mov     ds:</span><span style="color:green">545h</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0F4B                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:0F4D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FOR_BEGIN</span>
<span style="color:black">TRANGROUP:0F4F
</span><span style="color:black">TRANGROUP:0F4F </span><span style="color:gray">FOR_SMOOSH</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0F4F                 </span><span style="color:navy">mov     si</span><span style="color:navy">, [bx]</span>
<span style="color:black">TRANGROUP:0F51                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:#ff8000">54Bh</span>        ; FOR_INFO.FORBUF
<span style="color:black">TRANGROUP:0F54                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:0F56                 </span><span style="color:navy">cmp     word ptr ds:</span><span style="color:green">545h</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0F5B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FOR_MAKE_COM</span>
<span style="color:black">TRANGROUP:0F5D                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:#ff8000">5E9h</span>        ; FOR_INFO.FORDMA+FIND_BUF.PNAME
<span style="color:black">TRANGROUP:0F60
</span><span style="color:black">TRANGROUP:0F60 </span><span style="color:gray">FOR_MORE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0F60                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0F63                 </span><span style="color:navy">jz      short </span><span style="color:gray">FOR_MAKE_COM</span>
<span style="color:black">TRANGROUP:0F65                 </span><span style="color:navy">movsb
</span><span style="color:black">TRANGROUP:0F66                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FOR_MORE</span>
<span style="color:black">TRANGROUP:0F68
</span><span style="color:black">TRANGROUP:0F68 </span><span style="color:gray">FOR_MAKE_COM</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0F68                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0F6A                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:0F6B                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:0F6D                 </span><span style="color:navy">not     cx</span>
<span style="color:black">TRANGROUP:0F6F                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:0F71                 </span><span style="color:navy">mov     di</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:0F74                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, ds:</span><span style="color:green">544h</span>     ; [FOR_INFO.FOR_COM_START]
<span style="color:black">TRANGROUP:0F78                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, ds:</span><span style="color:green">64Bh</span>     ; [FOR_INFO.FOR_VAR]
<span style="color:black">TRANGROUP:0F7C                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:0F7D                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:0F7E                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:0F7E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; FOR_INFO.FOR_ARGS = 0
<span style="color:black">TRANGROUP:0F81                 </span><span style="color:navy">call    </span>argv_calc
<span style="color:black">TRANGROUP:0F84                 </span><span style="color:navy">mov     si</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">9</span><span style="color:navy">]</span>      ; [bx+ARGV_ELE.arg_ocomptr]
<span style="color:black">TRANGROUP:0F87                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:0F88
</span><span style="color:black">TRANGROUP:0F88 </span><span style="color:gray">FOR_MAKE_LOOP</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0F88                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:0F8A                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:0F8B                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'%'</span>
<span style="color:black">TRANGROUP:0F8D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FOR_STOSB</span>
<span style="color:black">TRANGROUP:0F8F                 </span><span style="color:navy">cmp     [si]</span><span style="color:navy">, dh</span>
<span style="color:black">TRANGROUP:0F91                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FOR_STOSB</span>
<span style="color:black">TRANGROUP:0F93                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:0F94                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:0F95                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:#ff8000">54Bh</span>        ; FOR_INFO.FORBUF
<span style="color:black">TRANGROUP:0F98
</span><span style="color:black">TRANGROUP:0F98 </span><span style="color:gray">SLOOP</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0F98                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:0F99                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:0F9A                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:0F9C                 </span><span style="color:navy">loopne  </span><span style="color:gray">SLOOP</span>
<span style="color:black">TRANGROUP:0F9E                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:0F9F                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:0FA0                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:0FA1                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FOR_MAKE_LOOP</span>
<span style="color:black">TRANGROUP:0FA3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0FA3
</span><span style="color:black">TRANGROUP:0FA3 </span><span style="color:gray">FOR_STOSB</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0FA3                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:0FA4                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:0FA5                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0FA7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FOR_MAKE_LOOP</span>
<span style="color:black">TRANGROUP:0FA9                 </span><span style="color:navy">not     cl</span>
<span style="color:black">TRANGROUP:0FAB                 </span><span style="color:navy">mov     es:</span>COMBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:0FB0                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, es:</span>RESSEG
<span style="color:black">TRANGROUP:0FB5                 </span><span style="color:navy">test    ds:</span>EchoFlag<span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:0FBA                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOECHO3</span>
<span style="color:black">TRANGROUP:0FBC                 </span><span style="color:navy">cmp     ds:</span>NullFlag<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:0FC1                 </span><span style="color:navy">jz      short </span><span style="color:gray">NO_CRLF_PR</span>
<span style="color:black">TRANGROUP:0FC3                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:0FC6
</span><span style="color:black">TRANGROUP:0FC6 </span><span style="color:gray">NO_CRLF_PR</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0FC6                 </span><span style="color:navy">mov     ds:</span>NullFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0FCB                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:0FCC                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0FCD                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:0FCD                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:0FCE                 </span><span style="color:navy">call    </span>PRINT_PROMPT
<span style="color:black">TRANGROUP:0FD1                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:0FD2                 </span><span style="color:navy">mov     byte ptr es:[di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0FD7                 </span><span style="color:navy">mov     </span>string_ptr_2<span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:0FDD                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>string_buf_ptr
<span style="color:black">TRANGROUP:0FE0                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:0FE3                 </span><span style="color:navy">mov     byte ptr es:[di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:0FE8                 </span><span style="color:navy">jmp     </span><span style="color:gray">DOCOM</span>
<span style="color:black">TRANGROUP:0FEB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0FEB
</span><span style="color:black">TRANGROUP:0FEB </span><span style="color:gray">NOECHO3</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0FEB                 </span><span style="color:navy">mov     ds:</span>NullFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:0FF0                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:0FF1                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:0FF2                 </span><span style="color:navy">jmp     </span>DOCOM0
<span style="color:black">TRANGROUP:0FF2 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:0FF5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0FF5 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR _$FOR
</span><span style="color:black">TRANGROUP:0FF5
</span><span style="color:black">TRANGROUP:0FF5 </span>FORNESTERRJ<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0FF5                 </span><span style="color:navy">call    </span>FOROFF
<span style="color:black">TRANGROUP:0FF8                 </span><span style="color:navy">jmp     </span>FORNESTERR
<span style="color:black">TRANGROUP:0FFB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:0FFB
</span><span style="color:black">TRANGROUP:0FFB </span>FORERRORJ<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:0FFB                 </span><span style="color:navy">jmp     </span>IFFORERROR
<span style="color:black">TRANGROUP:0FFB </span><span style="color:gray">; END OF FUNCTION CHUNK FOR _$FOR
</span><span style="color:black">TRANGROUP:0FFE
</span><span style="color:black">TRANGROUP:0FFE </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:0FFE
</span><span style="color:black">TRANGROUP:0FFE
</span><span style="color:black">TRANGROUP:0FFE </span>_$FOR           proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:0FFE
</span><span style="color:black">TRANGROUP:0FFE </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:0E99 SIZE 00000038 BYTES
</span><span style="color:black">TRANGROUP:0FFE </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:0FF5 SIZE 00000009 BYTES
</span><span style="color:black">TRANGROUP:0FFE </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:1126 SIZE 0000001A BYTES
</span><span style="color:black">TRANGROUP:0FFE
</span><span style="color:black">TRANGROUP:0FFE                 </span><span style="color:navy">mov     es</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:1002                 </span>assume es:nothing
<span style="color:black">TRANGROUP:1002                 </span><span style="color:navy">cmp     es:</span>ForFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1008                 </span><span style="color:navy">jnz     short </span>FORNESTERRJ
<span style="color:black">TRANGROUP:100A                 </span><span style="color:navy">cmp     es:</span>PipeFiles<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1010                 </span><span style="color:navy">jz      short </span><span style="color:gray">NO_PIPE</span>
<span style="color:black">TRANGROUP:1012                 </span><span style="color:navy">call    </span>PIPEDEL
<span style="color:black">TRANGROUP:1015
</span><span style="color:black">TRANGROUP:1015 </span><span style="color:gray">NO_PIPE</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1015                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1017                 </span><span style="color:navy">call    </span>NEXTARG
<span style="color:black">TRANGROUP:101A                 </span><span style="color:navy">jb      short </span>FORERRORJ
<span style="color:black">TRANGROUP:101C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'%'</span>
<span style="color:black">TRANGROUP:101E                 </span><span style="color:navy">jnz     short </span>FORERRORJ
<span style="color:black">TRANGROUP:1020                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1022                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:1023                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1025                 </span><span style="color:navy">jnz     short </span>FORERRORJ
<span style="color:black">TRANGROUP:1027                 </span><span style="color:navy">call    </span>NEXTARG
<span style="color:black">TRANGROUP:102A                 </span><span style="color:navy">jb      short </span>FORERRORJ
<span style="color:black">TRANGROUP:102C                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">0DFDFh</span>      ; ~2020h (not 2020h)
<span style="color:black">TRANGROUP:102F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">'NI'</span>        ; &quot;IN&quot;
<span style="color:black">TRANGROUP:1032                 </span><span style="color:navy">jnz     short </span>FORERRORJ
<span style="color:black">TRANGROUP:1034                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:1035                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1037                 </span><span style="color:navy">jnz     short </span>FORERRORJ
<span style="color:black">TRANGROUP:1039
</span><span style="color:black">TRANGROUP:1039 </span>CHECKLPAREN<span style="color:navy">:
</span><span style="color:black">TRANGROUP:1039                 </span><span style="color:navy">call    </span>NEXTARG
<span style="color:black">TRANGROUP:103C                 </span><span style="color:navy">jb      short </span>FORERRORJ
<span style="color:black">TRANGROUP:103E
</span><span style="color:black">TRANGROUP:103E </span>LPCHECK<span style="color:navy">:                                </span>; lparen
<span style="color:black">TRANGROUP:103E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'('</span>
<span style="color:black">TRANGROUP:1040                 </span><span style="color:navy">jnz     short </span>FORERRORJ
<span style="color:black">TRANGROUP:1042                 </span><span style="color:navy">cmp     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1045                 </span><span style="color:navy">jz      short </span><span style="color:gray">FOR_PAREN_TOKEN</span>
<span style="color:black">TRANGROUP:1047                 </span><span style="color:navy">cmp     ah</span><span style="color:navy">, </span><span style="color:green">')'</span>         ; rparen
<span style="color:black">TRANGROUP:104A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FOR_LIST_NOT_EMPTY</span>
<span style="color:black">TRANGROUP:104C                 </span><span style="color:navy">jmp     </span>FORTERM
<span style="color:black">TRANGROUP:104F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:104F
</span><span style="color:black">TRANGROUP:104F </span><span style="color:gray">FOR_LIST_NOT_EMPTY</span><span style="color:navy">:                     </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:104F                 </span><span style="color:navy">inc     word ptr [bx]</span>   ; [bx+ARGV_ELE.argpointer] ; [bx+0]
<span style="color:black">TRANGROUP:1051                 </span><span style="color:navy">dec     word ptr [bx+</span><span style="color:#ff8000">5</span><span style="color:navy">]</span> ; [bx+ARGV_ELE.arglen]
<span style="color:black">TRANGROUP:1054                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:1055                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FOR_LIST</span>
<span style="color:black">TRANGROUP:1057 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1057
</span><span style="color:black">TRANGROUP:1057 </span><span style="color:gray">FOR_PAREN_TOKEN</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1057                 </span><span style="color:navy">call    </span>NEXTARG
<span style="color:black">TRANGROUP:105A                 </span><span style="color:navy">jb      short </span>FORERRORJ
<span style="color:black">TRANGROUP:105C                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">29h</span>         ; db 29h,0 ; db ')',0
<span style="color:black">TRANGROUP:105F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FOR_LIST</span>
<span style="color:black">TRANGROUP:1061                 </span><span style="color:navy">jmp     </span>FORTERM
<span style="color:black">TRANGROUP:1064 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1064
</span><span style="color:black">TRANGROUP:1064 </span><span style="color:gray">FORERORJJ</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1064                 </span><span style="color:navy">jmp     </span>IFFORERROR
<span style="color:black">TRANGROUP:1067 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1067
</span><span style="color:black">TRANGROUP:1067 </span><span style="color:gray">FOR_LIST</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1067                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1069
</span><span style="color:black">TRANGROUP:1069 </span><span style="color:gray">SKIP_LIST</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1069                 </span><span style="color:navy">add     si</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">5</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:106C                 </span><span style="color:navy">sub     si</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:106F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">')'</span>
<span style="color:black">TRANGROUP:1071                 </span><span style="color:navy">cmp     [si]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1073                 </span><span style="color:navy">jz      short </span><span style="color:gray">FOR_END_LIST</span>
<span style="color:black">TRANGROUP:1075                 </span><span style="color:navy">call    </span>NEXTARG
<span style="color:black">TRANGROUP:1078                 </span><span style="color:navy">jb      short </span><span style="color:gray">FORERORJJ</span>
<span style="color:black">TRANGROUP:107A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SKIP_LIST</span>
<span style="color:black">TRANGROUP:107C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:107C
</span><span style="color:black">TRANGROUP:107C </span><span style="color:gray">FOR_END_LIST</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:107C                 </span><span style="color:navy">mov     di</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:107E                 </span><span style="color:navy">mov     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1081                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">29h</span>         ; db 29h,0 ; db ')',0
<span style="color:black">TRANGROUP:1084                 </span><span style="color:navy">jz      short </span><span style="color:gray">FOR_DO</span>
<span style="color:black">TRANGROUP:1086                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:1087
</span><span style="color:black">TRANGROUP:1087 </span><span style="color:gray">FOR_DO</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1087                 </span><span style="color:navy">call    </span>NEXTARG
<span style="color:black">TRANGROUP:108A                 </span><span style="color:navy">jb      short </span><span style="color:gray">FORERORJJ</span>
<span style="color:black">TRANGROUP:108C                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">0DFDFh</span>      ; and ax,~2020h
<span style="color:black">TRANGROUP:108F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">'OD'</span>        ; &quot;DO&quot; ; 4F44h
<span style="color:black">TRANGROUP:1092                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FORERORJJ</span>
<span style="color:black">TRANGROUP:1094                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:1095                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1097                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FORERORJJ</span>
<span style="color:black">TRANGROUP:1099                 </span><span style="color:navy">call    </span>NEXTARG
<span style="color:black">TRANGROUP:109C                 </span><span style="color:navy">jb      short </span><span style="color:gray">FORERORJJ</span>
<span style="color:black">TRANGROUP:109E                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:109F                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:10A0                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:10A1                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:10A2                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:10A3                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:10A4                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:10A5                 </span><span style="color:navy">call    </span>FREE_TPA
<span style="color:black">TRANGROUP:10A8                 </span><span style="color:navy">call    </span>FOROFF
<span style="color:black">TRANGROUP:10AB                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">264</span>         ; FOR_INFO.size-ARG_UNIT.SIZE
<span style="color:black">TRANGROUP:10AE                 </span><span style="color:navy">call    </span>SAVE_ARGS
<span style="color:black">TRANGROUP:10B1                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:10B2                 </span><span style="color:navy">mov     es:</span>ForPtr<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:10B6                 </span><span style="color:navy">call    </span>ALLOC_TPA
<span style="color:black">TRANGROUP:10B9                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:10BA                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:10BB                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:10BC                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:10BD                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:10BE                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:10BF                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:10C0                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:10C1                 </span><span style="color:navy">jb      short </span><span style="color:gray">FOR_ALLOC_ERR</span>
<span style="color:black">TRANGROUP:10C3                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:10C4                 </span><span style="color:navy">push    es:</span>ForPtr
<span style="color:black">TRANGROUP:10C9                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:10CA                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:10CB                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:10CC                 </span><span style="color:navy">mov     es:</span><span style="color:green">547h</span><span style="color:navy">, cx</span>     ; [es:FOR_INFO.FOR_MINARG]
<span style="color:black">TRANGROUP:10D1                 </span><span style="color:navy">mov     es:</span><span style="color:green">549h</span><span style="color:navy">, di</span>     ; [es:FOR_INFO.FOR_MAXARG]
<span style="color:black">TRANGROUP:10D6                 </span><span style="color:navy">mov     es:</span><span style="color:green">544h</span><span style="color:navy">, dl</span>     ; [es:FOR_INFO.FOR_COM_START]
<span style="color:black">TRANGROUP:10DB                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">545h</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; [es:FOR_INFO.FOR_EXPAND]
<span style="color:black">TRANGROUP:10E2                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:10E4                 </span><span style="color:navy">mov     es:</span><span style="color:green">64Bh</span><span style="color:navy">, ah</span>     ; [es:FOR_INFO.FOR_VAR]
<span style="color:black">TRANGROUP:10E9                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:10EA                 </span><span style="color:navy">inc     es:</span>ForFlag
<span style="color:black">TRANGROUP:10EF                 </span><span style="color:navy">cmp     es:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:10F5                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FOR_RET</span>
<span style="color:black">TRANGROUP:10F7                 </span><span style="color:navy">mov     es:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FF00h</span>
<span style="color:black">TRANGROUP:10FE
</span><span style="color:black">TRANGROUP:10FE </span><span style="color:gray">FOR_RET</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:10FE                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:10FF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:10FF
</span><span style="color:black">TRANGROUP:10FF </span><span style="color:gray">FOR_ALLOC_ERR</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:10FF                 </span><span style="color:navy">mov     </span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; ext_msg_class
<span style="color:black">TRANGROUP:1104                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:1107                 </span><span style="color:navy">mov     </span>extend_buf_ptr<span style="color:navy">, </span><span style="color:#ff8000">8</span> ; ERROR_NOT_ENOUGH_MEMORY
<span style="color:black">TRANGROUP:110D                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:110D </span>_$FOR           endp
<span style="color:black">TRANGROUP:110D
</span><span style="color:black">TRANGROUP:1110
</span><span style="color:black">TRANGROUP:1110 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1110
</span><span style="color:black">TRANGROUP:1110
</span><span style="color:black">TRANGROUP:1110 </span>NEXTARG         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1110                 </span><span style="color:navy">inc     dx</span>
<span style="color:black">TRANGROUP:1111                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, </span>ARG_ARGVCNT ; [ARG+ARG_UNIT.argvcnt]
<span style="color:black">TRANGROUP:1115                 </span><span style="color:navy">jge     short </span><span style="color:gray">NEXTARG_ERR</span>
<span style="color:black">TRANGROUP:1117                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1119                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, offset </span>ARG_ARGV ; ARG+ARG_UNIT.argv ; ARG
<span style="color:black">TRANGROUP:111C                 </span><span style="color:navy">call    </span>argv_calc
<span style="color:black">TRANGROUP:111F                 </span><span style="color:navy">mov     si</span><span style="color:navy">, [bx]</span>        ; [bx+ARGV_ELE.argpointer]
<span style="color:black">TRANGROUP:111F                                         </span>; mov si,[bx+0]
<span style="color:black">TRANGROUP:1121                 </span><span style="color:navy">lodsw
</span><span style="color:black">TRANGROUP:1122                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:1123                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1124 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1124
</span><span style="color:black">TRANGROUP:1124 </span><span style="color:gray">NEXTARG_ERR</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1124                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:1125                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1125 </span>NEXTARG         endp
<span style="color:black">TRANGROUP:1125
</span><span style="color:black">TRANGROUP:1126 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1126 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR _$FOR
</span><span style="color:black">TRANGROUP:1126
</span><span style="color:black">TRANGROUP:1126 </span>FORNESTERR<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1126                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:1127                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:112B                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:112B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>FORNESTMES_PTR
<span style="color:black">TRANGROUP:112E                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FF00h</span>
<span style="color:black">TRANGROUP:1134                 </span><span style="color:navy">jnz     short </span>NOFORP3
<span style="color:black">TRANGROUP:1136                 </span><span style="color:navy">mov     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:113C
</span><span style="color:black">TRANGROUP:113C </span>NOFORP3<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:113C                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:113D                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:113D </span><span style="color:gray">; END OF FUNCTION CHUNK FOR _$FOR
</span><span style="color:black">TRANGROUP:1140
</span><span style="color:black">TRANGROUP:1140 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1140
</span><span style="color:black">TRANGROUP:1140
</span><span style="color:black">TRANGROUP:1140 </span>FOROFF          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1140                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:1141                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:1142                 </span><span style="color:navy">mov     es</span><span style="color:navy">, cs:</span>RESSEG
<span style="color:black">TRANGROUP:1147                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span>ForPtr
<span style="color:black">TRANGROUP:114B                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:114D                 </span><span style="color:navy">jz      short </span><span style="color:gray">FREEDONE</span>
<span style="color:black">TRANGROUP:114F                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:1150                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1152                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:black">TRANGROUP:1154                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">TRANGROUP:1154                                         </span>; ES = segment address of area to be freed
<span style="color:black">TRANGROUP:1156                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:1157
</span><span style="color:black">TRANGROUP:1157 </span><span style="color:gray">FREEDONE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1157                 </span><span style="color:navy">mov     es:</span>ForPtr<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:115E                 </span><span style="color:navy">mov     es:</span>ForFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1164                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:1165                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:1166                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1166 </span>FOROFF          endp
<span style="color:black">TRANGROUP:1166
</span><span style="color:maroon">TRANGROUP:1167 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:1167
</span><span style="color:maroon">TRANGROUP:1167 </span>CATALOG<span style="color:navy">:                                </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:1167                 </span><span style="color:navy">call    </span>screen_f_set
<span style="color:maroon">TRANGROUP:116A                 </span><span style="color:navy">call    </span>SetDefaults
<span style="color:maroon">TRANGROUP:116D                 </span><span style="color:navy">call    </span>ParseEnvironment
<span style="color:maroon">TRANGROUP:1170                 </span><span style="color:navy">call    </span>ParseCmdLine
<span style="color:maroon">TRANGROUP:1173                 </span><span style="color:navy">jnb     short </span>catalog1
<span style="color:maroon">TRANGROUP:1175                 </span><span style="color:navy">jmp     </span>catExtErr2
<span style="color:maroon">TRANGROUP:1178 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:1178
</span><span style="color:maroon">TRANGROUP:1178 </span>catalog1<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:1178                 </span><span style="color:navy">call    </span>SetOptions
<span style="color:maroon">TRANGROUP:117B                 </span><span style="color:navy">call    </span>SetCollatingTable
<span style="color:maroon">TRANGROUP:117E                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">10h</span>   ; mask.bare
<span style="color:maroon">TRANGROUP:1184                 </span><span style="color:navy">jnz     short </span>catalog2
<span style="color:maroon">TRANGROUP:1186                 </span><span style="color:navy">call    </span>OkVolArg
<span style="color:maroon">TRANGROUP:1189                 </span><span style="color:navy">sub     ds:</span>LeftOnPage<span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:maroon">TRANGROUP:118E                 </span><span style="color:navy">jmp     short </span>catCrunch
<span style="color:maroon">TRANGROUP:1190 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:1190
</span><span style="color:maroon">TRANGROUP:1190 </span>catalog2<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:1190                 </span><span style="color:navy">call    </span>DisAppend
<span style="color:maroon">TRANGROUP:1193                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BWDBUF ; DIRBUF
<span style="color:maroon">TRANGROUP:1196                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">1Ah</span>
<span style="color:maroon">TRANGROUP:1198                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET DISK TRANSFER AREA ADDRESS
<span style="color:maroon">TRANGROUP:1198                                         </span>; DS:DX -&gt; disk transfer buffer
<span style="color:maroon">TRANGROUP:119A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">5Ch</span>         ; FCB
<span style="color:maroon">TRANGROUP:119D                 </span><span style="color:navy">inc     di</span>
<span style="color:maroon">TRANGROUP:119E                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'?'</span>         ; wildcard character
<span style="color:maroon">TRANGROUP:11A0                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">11</span>
<span style="color:maroon">TRANGROUP:11A3                 </span><span style="color:navy">rep stosb
</span><span style="color:maroon">TRANGROUP:11A5
</span><span style="color:maroon">TRANGROUP:11A5 </span>catCrunch<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:11A5                 </span><span style="color:navy">call    </span>CrunchPath
<span style="color:maroon">TRANGROUP:11A8                 </span><span style="color:navy">jb      short </span>catRecErr
<span style="color:maroon">TRANGROUP:11AA                 </span><span style="color:navy">cmp     ds:</span>COMSW<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:maroon">TRANGROUP:11AF                 </span><span style="color:navy">jnz     short </span>catRecErr
<span style="color:maroon">TRANGROUP:11B1                 </span><span style="color:navy">call    </span>InstallCtrlC
<span style="color:maroon">TRANGROUP:11B4                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">1</span>     ; mask cratio
<span style="color:maroon">TRANGROUP:11B4                                         </span>; compression ratio wanted?
<span style="color:maroon">TRANGROUP:11BA                 </span><span style="color:navy">jz      short </span>catalog4
<span style="color:maroon">TRANGROUP:11BC                 </span><span style="color:navy">call    </span>OpenCVF         ; yes, try to open CVF file
<span style="color:maroon">TRANGROUP:11BF                 </span><span style="color:navy">jnb     short </span>catalog4
<span style="color:maroon">TRANGROUP:11C1                 </span><span style="color:navy">and     ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">0FFFEh</span> ; not (mask cratio)
<span style="color:maroon">TRANGROUP:11C6
</span><span style="color:maroon">TRANGROUP:11C6 </span>catalog4<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:11C6                 </span><span style="color:navy">call    </span>ZeroTotals
<span style="color:maroon">TRANGROUP:11C9                 </span><span style="color:navy">call    </span>ListDir
<span style="color:maroon">TRANGROUP:11CC                 </span><span style="color:navy">jb      short </span>catExtErr1
<span style="color:maroon">TRANGROUP:11CE                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">8</span>     ; mask.subd
<span style="color:maroon">TRANGROUP:11D4                 </span><span style="color:navy">jz      short </span>catalog3
<span style="color:maroon">TRANGROUP:11D6                 </span><span style="color:navy">call    </span>ListSubds
<span style="color:maroon">TRANGROUP:11D9                 </span><span style="color:navy">jb      short </span>catExtErr1
<span style="color:maroon">TRANGROUP:11DB
</span><span style="color:maroon">TRANGROUP:11DB </span>catalog3<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:11DB                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">10h</span>   ; mask.bare
<span style="color:maroon">TRANGROUP:11E1                 </span><span style="color:navy">jnz     short </span>catRet
<span style="color:maroon">TRANGROUP:11E3                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>FileCntTotal
<span style="color:maroon">TRANGROUP:11E6                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:maroon">TRANGROUP:11E8                 </span><span style="color:navy">jz      short </span>catNoFiles
<span style="color:maroon">TRANGROUP:11EA                 </span><span style="color:navy">call    </span>DisplayTotals
<span style="color:maroon">TRANGROUP:11ED                 </span><span style="color:navy">jmp     short </span>catRet
<span style="color:maroon">TRANGROUP:11EF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:11EF
</span><span style="color:maroon">TRANGROUP:11EF </span>catRecErr<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:11EF                 </span><span style="color:navy">test    ds:</span>COMSW<span style="color:navy">, </span><span style="color:green">1</span>     ; mask.dev
<span style="color:maroon">TRANGROUP:11F5                 </span><span style="color:navy">jnz     short </span>catNoFiles
<span style="color:maroon">TRANGROUP:11F7                 </span><span style="color:navy">test    ds:</span>COMSW<span style="color:navy">, </span><span style="color:green">2</span>     ; mask.baddir
<span style="color:maroon">TRANGROUP:11FD                 </span><span style="color:navy">jz      short </span>catExtErr1
<span style="color:maroon">TRANGROUP:11FF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>badcd_ptr
<span style="color:maroon">TRANGROUP:1202                 </span><span style="color:navy">jmp     short </span>catExtErr2
<span style="color:maroon">TRANGROUP:1204 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:1204
</span><span style="color:maroon">TRANGROUP:1204 </span>catNoFiles<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:1204                 </span><span style="color:navy">call    </span>DisplayHeader
<span style="color:maroon">TRANGROUP:1207                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; ERROR_FILE_NOT_FOUND
<span style="color:maroon">TRANGROUP:120A                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; ext_msg_class
<span style="color:maroon">TRANGROUP:120F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:maroon">TRANGROUP:1212                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, ax</span>
<span style="color:maroon">TRANGROUP:1215                 </span><span style="color:navy">jmp     short </span>catExtErr2
<span style="color:maroon">TRANGROUP:1217 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:1217
</span><span style="color:maroon">TRANGROUP:1217 </span>catExtErr1<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:1217                 </span><span style="color:navy">call    </span>Set_Ext_Error_Msg
<span style="color:maroon">TRANGROUP:121A                 </span><span style="color:navy">cmp     ds:</span>extend_buf_ptr<span style="color:navy">, </span><span style="color:green">18</span> ; ERROR_NO_MORE_FILES
<span style="color:maroon">TRANGROUP:121F                 </span><span style="color:navy">jnz     short </span>catExtErr2
<span style="color:maroon">TRANGROUP:1221                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, </span><span style="color:#ff8000">2</span> ; ERROR_FILE_NOT_FOUND
<span style="color:maroon">TRANGROUP:1227
</span><span style="color:maroon">TRANGROUP:1227 </span>catExtErr2<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:1227                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">1</span>     ; close Compressed Volume File if cratio
<span style="color:maroon">TRANGROUP:122D                 </span><span style="color:navy">jz      short </span>catErr
<span style="color:maroon">TRANGROUP:122F                 </span><span style="color:navy">call    </span>CloseCVF
<span style="color:maroon">TRANGROUP:1232
</span><span style="color:maroon">TRANGROUP:1232 </span>catErr<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:1232                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:maroon">TRANGROUP:1235 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:1235
</span><span style="color:maroon">TRANGROUP:1235 </span>catRet<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:1235                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">1</span>     ; mask cratio
<span style="color:maroon">TRANGROUP:123B                 </span><span style="color:navy">jz      short </span>catRetn
<span style="color:maroon">TRANGROUP:123D                 </span><span style="color:navy">call    </span>CloseCVF
<span style="color:maroon">TRANGROUP:1240
</span><span style="color:maroon">TRANGROUP:1240 </span>catRetn<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:1240                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1241
</span><span style="color:black">TRANGROUP:1241 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1241
</span><span style="color:black">TRANGROUP:1241
</span><span style="color:black">TRANGROUP:1241 </span>SetDefaults     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1241                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>SrcBuf
<span style="color:black">TRANGROUP:1244                 </span><span style="color:navy">mov     ds:</span>PathPos<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:1248                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'*'</span>
<span style="color:black">TRANGROUP:124A                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:124B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:124D                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:124E                 </span><span style="color:navy">mov     ds:</span>PathCnt<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:1254                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1256                 </span><span style="color:navy">mov     ds:</span>COMSW<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1259                 </span><span style="color:navy">mov     ds:</span>_Bits<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:125C                 </span><span style="color:navy">mov     ds:</span>DestBuf<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:125F                 </span><span style="color:navy">mov     ds:</span>AttrSpecified<span style="color:navy">, </span><span style="color:#ff8000">6</span> ; ATTR_HIDDEN+ATTR_SYSTEM
<span style="color:black">TRANGROUP:1264                 </span><span style="color:navy">mov     ds:</span>AttrSelect<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1267                 </span><span style="color:navy">mov     ds:</span>fUseHostSize<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:126A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:126A </span>SetDefaults     endp
<span style="color:black">TRANGROUP:126A
</span><span style="color:black">TRANGROUP:126B
</span><span style="color:black">TRANGROUP:126B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:126B
</span><span style="color:black">TRANGROUP:126B
</span><span style="color:black">TRANGROUP:126B </span>ParseEnvironment proc near              <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:126B                 </span><span style="color:navy">call    </span>GetEnvValue
<span style="color:black">TRANGROUP:126E                 </span><span style="color:navy">jb      short </span><span style="color:gray">peRet</span>
<span style="color:black">TRANGROUP:1270                 </span><span style="color:navy">call    </span>Parse_Line
<span style="color:black">TRANGROUP:1273                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:1276                 </span><span style="color:navy">jz      short </span><span style="color:gray">peRet</span>
<span style="color:black">TRANGROUP:1278                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:127B                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; -1
<span style="color:black">TRANGROUP:1280                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>errparsenv_ptr
<span style="color:black">TRANGROUP:1283                 </span><span style="color:navy">call    </span>Printf_Crlf
<span style="color:black">TRANGROUP:1286
</span><span style="color:black">TRANGROUP:1286 </span><span style="color:gray">peRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1286                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1286 </span>ParseEnvironment endp
<span style="color:black">TRANGROUP:1286
</span><span style="color:black">TRANGROUP:1287
</span><span style="color:black">TRANGROUP:1287 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1287
</span><span style="color:black">TRANGROUP:1287
</span><span style="color:black">TRANGROUP:1287 </span>ParseCmdLine    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1287                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:128A                 </span><span style="color:navy">call    </span>Parse_Line
<span style="color:black">TRANGROUP:128D                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:1290                 </span><span style="color:navy">jz      short </span><span style="color:gray">pcOk</span>
<span style="color:black">TRANGROUP:1292                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:1293                 </span><span style="color:navy">jmp     short </span><span style="color:gray">pcRet</span>
<span style="color:black">TRANGROUP:1295 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1295
</span><span style="color:black">TRANGROUP:1295 </span><span style="color:gray">pcOk</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1295                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:1296
</span><span style="color:black">TRANGROUP:1296 </span><span style="color:gray">pcRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1296                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1296 </span>ParseCmdLine    endp
<span style="color:black">TRANGROUP:1296
</span><span style="color:black">TRANGROUP:1297
</span><span style="color:black">TRANGROUP:1297 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1297
</span><span style="color:black">TRANGROUP:1297
</span><span style="color:black">TRANGROUP:1297 </span>SetCollatingTable proc near             <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1297                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>STACK ; INTERNATVARS
<span style="color:black">TRANGROUP:129A                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3800h</span>
<span style="color:black">TRANGROUP:129D                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET COUNTRY-DEPENDENT INFORMATION
<span style="color:black">TRANGROUP:129D                                         </span>; get current-country info
<span style="color:black">TRANGROUP:129D                                         </span>; DS:DX -&gt; buffer for returned info
<span style="color:black">TRANGROUP:129F                 </span><span style="color:navy">jb      short </span><span style="color:gray">scNoTable</span>
<span style="color:black">TRANGROUP:12A1                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:12A4                 </span><span style="color:navy">jz      short </span><span style="color:gray">scNoTable</span>
<span style="color:black">TRANGROUP:12A6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">6506h</span>       ; (GETEXTCNTRY&lt;&lt;8)+SETCOLLATE
<span style="color:black">TRANGROUP:12A6                                         </span>; AH = 'Get Extended Country Info'
<span style="color:black">TRANGROUP:12A6                                         </span>; AL = 'Get Pointer to Collating Table'
<span style="color:black">TRANGROUP:12A9                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:12AC                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; buffer length
<span style="color:black">TRANGROUP:12AF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, bx</span>          ; default country ID
<span style="color:black">TRANGROUP:12B1                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>CountryPtrInfo
<span style="color:black">TRANGROUP:12B4                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 4.x internal - COUNTRY-DEPENDENT FILENAME CAPITALIZATION
<span style="color:black">TRANGROUP:12B4                                         </span>; AL = function -
<span style="color:black">TRANGROUP:12B6                 </span><span style="color:navy">jnb     short </span><span style="color:gray">scRet</span>
<span style="color:black">TRANGROUP:12B8
</span><span style="color:black">TRANGROUP:12B8 </span><span style="color:gray">scNoTable</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:12B8                 </span><span style="color:navy">mov     ds:</span>CountryPtrInfo<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; mov byte [CountryPtrId],0
<span style="color:black">TRANGROUP:12BD
</span><span style="color:black">TRANGROUP:12BD </span><span style="color:gray">scRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:12BD                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:12BD </span>SetCollatingTable endp
<span style="color:black">TRANGROUP:12BD
</span><span style="color:black">TRANGROUP:12BE
</span><span style="color:black">TRANGROUP:12BE </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:12BE
</span><span style="color:black">TRANGROUP:12BE
</span><span style="color:black">TRANGROUP:12BE </span>SetOptions      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:12BE                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">10h</span>   ; (inmem,lcase,bare,subd,pagd,wide,cratio)
<span style="color:black">TRANGROUP:12BE                                         </span>;
<span style="color:black">TRANGROUP:12BE                                         </span>; mask bare
<span style="color:black">TRANGROUP:12C4                 </span><span style="color:navy">jz      short </span><span style="color:gray">setopts0</span>
<span style="color:black">TRANGROUP:12C6                 </span><span style="color:navy">and     ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">0FFFDh</span> ; not mask wide
<span style="color:black">TRANGROUP:12CB
</span><span style="color:black">TRANGROUP:12CB </span><span style="color:gray">setopts0</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:12CB                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">12h</span>   ; (mask bare) or (mask wide)
<span style="color:black">TRANGROUP:12D1                 </span><span style="color:navy">jz      short </span><span style="color:gray">setopts1</span>
<span style="color:black">TRANGROUP:12D3                 </span><span style="color:navy">and     ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">0FFFEh</span> ; not mask cratio
<span style="color:black">TRANGROUP:12D8
</span><span style="color:black">TRANGROUP:12D8 </span><span style="color:gray">setopts1</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:12D8                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:12D9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:12DC                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:12DE                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:12DE                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span><span style="color:green">84h</span>      ; [CRT_Rows]
<span style="color:black">TRANGROUP:12E1                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:12E2                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:12E2                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:12E4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">setopts2</span>
<span style="color:black">TRANGROUP:12E6                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">25</span>          ; LINESPERPAGE
<span style="color:black">TRANGROUP:12E8
</span><span style="color:black">TRANGROUP:12E8 </span><span style="color:gray">setopts2</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:12E8                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:12EA
</span><span style="color:black">TRANGROUP:12EA </span>setopts3<span style="color:navy">:
</span><span style="color:black">TRANGROUP:12EA                 </span><span style="color:navy">inc     al</span>
<span style="color:black">TRANGROUP:12EC                 </span><span style="color:navy">mov     ds:</span>LinPerPag<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:12EF                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">440Ch</span>       ; (IOCTL&lt;&lt;8)+GENERIC_IOCTL_HANDLE
<span style="color:black">TRANGROUP:12F2                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; STDOUT
<span style="color:black">TRANGROUP:12F5                 </span><span style="color:navy">mov     ch</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; IOC_SC (screen)
<span style="color:black">TRANGROUP:12F7                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:green">7Fh</span>         ; get_generic
<span style="color:black">TRANGROUP:12F9                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>Display_Ioctl
<span style="color:black">TRANGROUP:12FC                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL -
<span style="color:black">TRANGROUP:12FE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>LinPerPag
<span style="color:black">TRANGROUP:1301                 </span><span style="color:navy">mov     ds:</span>LeftOnPage<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1304                 </span><span style="color:navy">mov     ds:</span>PerLine<span style="color:navy">, </span><span style="color:#ff8000">1</span>   ; NORMPERLIN
<span style="color:black">TRANGROUP:1309                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:130F                 </span><span style="color:navy">jz      short </span><span style="color:gray">setopts4</span>
<span style="color:black">TRANGROUP:1311                 </span><span style="color:navy">mov     ds:</span>PerLine<span style="color:navy">, </span><span style="color:#ff8000">5</span>   ; WIDEPERLIN
<span style="color:black">TRANGROUP:1316
</span><span style="color:black">TRANGROUP:1316 </span><span style="color:gray">setopts4</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1316                 </span><span style="color:navy">cmp     ds:</span>SrcBuf<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:131B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">soRet</span>
<span style="color:black">TRANGROUP:131D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>SrcBuf
<span style="color:black">TRANGROUP:1320                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">0DFh</span>        ; ~20h ; not 20h
<span style="color:black">TRANGROUP:1320                                         </span>; capitalize ASCII drive letter
<span style="color:black">TRANGROUP:1322                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">'@'</span>         ; sub al,40h
<span style="color:black">TRANGROUP:1322                                         </span>; convert to 1-based number (1=A)
<span style="color:black">TRANGROUP:1324                 </span><span style="color:navy">mov     ds:</span><span style="color:green">5Ch</span><span style="color:navy">, al</span>      ; [FCB]
<span style="color:black">TRANGROUP:1327
</span><span style="color:black">TRANGROUP:1327 </span><span style="color:gray">soRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1327                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1327 </span>SetOptions      endp
<span style="color:black">TRANGROUP:1327
</span><span style="color:black">TRANGROUP:1328
</span><span style="color:black">TRANGROUP:1328 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1328
</span><span style="color:black">TRANGROUP:1328
</span><span style="color:black">TRANGROUP:1328 </span>CrunchPath      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1328                 </span><span style="color:navy">call    </span>FileIsDevice
<span style="color:black">TRANGROUP:132B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">crpath1</span>
<span style="color:black">TRANGROUP:132D                 </span><span style="color:navy">or      ds:</span>COMSW<span style="color:navy">, </span><span style="color:green">1</span>     ; mask.dev
<span style="color:black">TRANGROUP:1332                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cpErr</span>
<span style="color:black">TRANGROUP:1334 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1334
</span><span style="color:black">TRANGROUP:1334 </span><span style="color:gray">crpath1</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1334                 </span><span style="color:navy">push    ds:</span>PathPos
<span style="color:black">TRANGROUP:1338                 </span><span style="color:navy">mov     ds:</span>DirFlag<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; -1
<span style="color:black">TRANGROUP:133D                 </span><span style="color:navy">call    </span>PathCrunch
<span style="color:black">TRANGROUP:1340                 </span><span style="color:navy">mov     ds:</span>DirFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1345                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:1346                 </span><span style="color:navy">jb      short </span><span style="color:gray">cpNoDir</span>
<span style="color:black">TRANGROUP:1348                 </span><span style="color:navy">jz      short </span><span style="color:gray">cpRet</span>
<span style="color:black">TRANGROUP:134A                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>DestTail
<span style="color:black">TRANGROUP:134E                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cpFile</span>
<span style="color:black">TRANGROUP:1350 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1350
</span><span style="color:black">TRANGROUP:1350 </span><span style="color:gray">cpNoDir</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1350                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Msg_Numb
<span style="color:black">TRANGROUP:1353                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1355                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cpErr</span>
<span style="color:black">TRANGROUP:1357                 </span><span style="color:navy">cmp     ds:</span>DestIsDir<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:135C                 </span><span style="color:navy">jz      short </span><span style="color:gray">cpMaybe</span>
<span style="color:black">TRANGROUP:135E                 </span><span style="color:navy">or      ds:</span>COMSW<span style="color:navy">, </span><span style="color:green">2</span>     ; mask.baddir
<span style="color:black">TRANGROUP:1363                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cpErr</span>
<span style="color:black">TRANGROUP:1365 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1365
</span><span style="color:black">TRANGROUP:1365 </span><span style="color:gray">cpMaybe</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1365                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:1369                 </span><span style="color:navy">jnz     short </span><span style="color:gray">crpath2</span>
<span style="color:black">TRANGROUP:136B                 </span><span style="color:navy">lodsw
</span><span style="color:black">TRANGROUP:136C
</span><span style="color:black">TRANGROUP:136C </span><span style="color:gray">crpath2</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:136C                 </span><span style="color:navy">cmp     word ptr [si]</span><span style="color:navy">, </span><span style="color:green">'..'</span>
<span style="color:black">TRANGROUP:1370                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cpFile</span>
<span style="color:black">TRANGROUP:1372                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1376                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cpFile</span>
<span style="color:black">TRANGROUP:1378                 </span><span style="color:navy">or      ds:</span>COMSW<span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:137D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cpErr</span>
<span style="color:black">TRANGROUP:137F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:137F
</span><span style="color:black">TRANGROUP:137F </span><span style="color:gray">cpFile</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:137F                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">5Ch</span>         ; FCB
<span style="color:black">TRANGROUP:1382                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">290Eh</span>
<span style="color:black">TRANGROUP:1385                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - PARSE FILENAME
<span style="color:black">TRANGROUP:1385                                         </span>; DS:SI -&gt; string to parse
<span style="color:black">TRANGROUP:1385                                         </span>; ES:DI -&gt; buffer to fill with unopened FCB
<span style="color:black">TRANGROUP:1385                                         </span>; AL = bit mask to control parsing
<span style="color:black">TRANGROUP:1387                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:1388                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cpRet</span>
<span style="color:black">TRANGROUP:138A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:138A
</span><span style="color:black">TRANGROUP:138A </span><span style="color:gray">cpErr</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:138A                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:138B
</span><span style="color:black">TRANGROUP:138B </span><span style="color:gray">cpRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:138B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:138B </span>CrunchPath      endp
<span style="color:black">TRANGROUP:138B
</span><span style="color:black">TRANGROUP:138C
</span><span style="color:black">TRANGROUP:138C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:138C
</span><span style="color:black">TRANGROUP:138C
</span><span style="color:black">TRANGROUP:138C </span>InstallCtrlC    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:138C                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:138D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3523h</span>
<span style="color:black">TRANGROUP:1390                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET INTERRUPT VECTOR
<span style="color:black">TRANGROUP:1390                                         </span>; AL = interrupt number
<span style="color:black">TRANGROUP:1390                                         </span>; Return: ES:BX = value of interrupt vector
<span style="color:black">TRANGROUP:1392                 </span><span style="color:navy">mov     word ptr ds:</span>OldCtrlCHandler<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1396                 </span><span style="color:navy">mov     word ptr ds:</span>OldCtrlCHandler<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:139A                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:139B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>CtrlCHandler
<span style="color:black">TRANGROUP:139E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">2523h</span>
<span style="color:black">TRANGROUP:13A1                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET INTERRUPT VECTOR
<span style="color:black">TRANGROUP:13A1                                         </span>; AL = interrupt number
<span style="color:black">TRANGROUP:13A1                                         </span>; DS:DX = new vector to be used for specified interrupt
<span style="color:black">TRANGROUP:13A3                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:13A3 </span>InstallCtrlC    endp
<span style="color:black">TRANGROUP:13A3
</span><span style="color:black">TRANGROUP:13A4
</span><span style="color:black">TRANGROUP:13A4 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:13A4
</span><span style="color:black">TRANGROUP:13A4
</span><span style="color:black">TRANGROUP:13A4 </span>ListSubds       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:13A4                 </span><span style="color:navy">call    </span>SetRest1
<span style="color:black">TRANGROUP:13A7                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>ScanBuf
<span style="color:black">TRANGROUP:13AA
</span><span style="color:black">TRANGROUP:13AA </span><span style="color:gray">lsNode</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:13AA                 </span><span style="color:navy">mov     byte ptr [bx]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:13AD
</span><span style="color:black">TRANGROUP:13AD </span><span style="color:gray">lsLoop</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:13AD                 </span><span style="color:navy">call    </span>FindNextChild
<span style="color:black">TRANGROUP:13B0                 </span><span style="color:navy">jb      short </span><span style="color:gray">lsErr</span>
<span style="color:black">TRANGROUP:13B2                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:13B4                 </span><span style="color:navy">call    </span>ChangeDir
<span style="color:black">TRANGROUP:13B7                 </span><span style="color:navy">jnb     short </span><span style="color:gray">lstsd1</span>
<span style="color:black">TRANGROUP:13B9                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; ERROR_PATH_NOT_FOUND
<span style="color:black">TRANGROUP:13BC                 </span><span style="color:navy">jz      short </span><span style="color:gray">lsLoop</span>
<span style="color:black">TRANGROUP:13BE                 </span><span style="color:navy">jmp     short </span><span style="color:gray">lsRet</span>
<span style="color:black">TRANGROUP:13C0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:13C0
</span><span style="color:black">TRANGROUP:13C0 </span><span style="color:gray">lstsd1</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:13C0                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:13C1                 </span><span style="color:navy">call    </span>ListDir
<span style="color:black">TRANGROUP:13C4                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:13C5                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:13C7                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">13</span>
<span style="color:black">TRANGROUP:13CA                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:13CC                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:13CE                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:13CF                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:13D1                 </span><span style="color:navy">call    </span><span style="color:gray">lsNode</span>
<span style="color:black">TRANGROUP:13D4                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:13D5                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:13D6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:13D9                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:13DA                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">'..'</span>
<span style="color:black">TRANGROUP:13DD                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:13DE                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, sp</span>
<span style="color:black">TRANGROUP:13E0                 </span><span style="color:navy">call    </span>ChangeDir
<span style="color:black">TRANGROUP:13E3                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:13E4                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:13E5                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:13E6                 </span><span style="color:navy">jb      short </span><span style="color:gray">lsRet</span>
<span style="color:black">TRANGROUP:13E8                 </span><span style="color:navy">jmp     short </span><span style="color:gray">lsLoop</span>
<span style="color:black">TRANGROUP:13EA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:13EA
</span><span style="color:black">TRANGROUP:13EA </span><span style="color:gray">lsErr</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:13EA                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:13ED                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; ERROR_FILE_NOT_FOUND
<span style="color:black">TRANGROUP:13F0                 </span><span style="color:navy">jz      short </span><span style="color:gray">lsRet</span>
<span style="color:black">TRANGROUP:13F2                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">18</span>          ; ERROR_NO_MORE_FILES
<span style="color:black">TRANGROUP:13F5                 </span><span style="color:navy">jz      short </span><span style="color:gray">lsRet</span>
<span style="color:black">TRANGROUP:13F7                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:13F8
</span><span style="color:black">TRANGROUP:13F8 </span><span style="color:gray">lsRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:13F8                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:13F8 </span>ListSubds       endp
<span style="color:black">TRANGROUP:13F8
</span><span style="color:black">TRANGROUP:13F9
</span><span style="color:black">TRANGROUP:13F9 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:13F9
</span><span style="color:black">TRANGROUP:13F9
</span><span style="color:black">TRANGROUP:13F9 </span>CheckChild      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:13F9                 </span><span style="color:navy">test    ds:</span>DIRBUF_find_buf_attr<span style="color:navy">, </span><span style="color:green">10h</span> ;
<span style="color:black">TRANGROUP:13F9                                         </span>; [DIRBUF+FIND_BUF.ATTR],ATTR_DIRECTORY
<span style="color:black">TRANGROUP:13FE                 </span><span style="color:navy">jz      short </span><span style="color:gray">ccRet</span>
<span style="color:black">TRANGROUP:1400                 </span><span style="color:navy">cmp     ds:</span>DIRBUF_find_buf_pname<span style="color:navy">, </span><span style="color:green">'.'</span> ; [DIRBUF+FIND_BUF.PNAME]
<span style="color:black">TRANGROUP:1405                 </span><span style="color:navy">jz      short </span><span style="color:gray">ccRet</span>
<span style="color:black">TRANGROUP:1407                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>DIRBUF_find_buf_pname
<span style="color:black">TRANGROUP:140A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:140C                 </span><span style="color:navy">call    </span>CmpAscz
<span style="color:black">TRANGROUP:140F                 </span><span style="color:navy">jbe     short </span><span style="color:gray">ccRet</span>
<span style="color:black">TRANGROUP:1411                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>DIRBUF_find_buf_pname
<span style="color:black">TRANGROUP:1414                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:1416                 </span><span style="color:navy">call    </span>CmpAscz
<span style="color:black">TRANGROUP:1419                 </span><span style="color:navy">jnb     short </span><span style="color:gray">ccRet</span>
<span style="color:black">TRANGROUP:141B                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>DIRBUF_find_buf_pname
<span style="color:black">TRANGROUP:141E                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:1420                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">13</span>
<span style="color:black">TRANGROUP:1423                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:1425
</span><span style="color:black">TRANGROUP:1425 </span><span style="color:gray">ccRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1425                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1425 </span>CheckChild      endp
<span style="color:black">TRANGROUP:1425
</span><span style="color:black">TRANGROUP:1426
</span><span style="color:black">TRANGROUP:1426 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1426
</span><span style="color:black">TRANGROUP:1426
</span><span style="color:black">TRANGROUP:1426 </span>CmpEntry        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1426                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>DestBuf
<span style="color:black">TRANGROUP:1429
</span><span style="color:black">TRANGROUP:1429 </span><span style="color:gray">ceLoop</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1429                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:142B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:142D                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:142F                 </span><span style="color:navy">jz      short </span>ceDone
<span style="color:black">TRANGROUP:1431                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:1432                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:1433                 </span><span style="color:navy">dec     al</span>
<span style="color:black">TRANGROUP:1435                 </span><span style="color:navy">shl     al</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1437                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1439                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>FieldCmps<span style="color:navy">[si]</span>
<span style="color:black">TRANGROUP:143E                 </span><span style="color:navy">jb      short </span><span style="color:gray">ceDn</span>
<span style="color:black">TRANGROUP:1440                 </span><span style="color:navy">call    ax</span>
<span style="color:black">TRANGROUP:1442                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ceNs</span>
<span style="color:black">TRANGROUP:1444 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1444
</span><span style="color:black">TRANGROUP:1444 </span><span style="color:gray">ceDn</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1444                 </span><span style="color:navy">xchg    bx</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:1446                 </span><span style="color:navy">call    ax</span>
<span style="color:black">TRANGROUP:1448                 </span><span style="color:navy">xchg    bx</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:144A
</span><span style="color:black">TRANGROUP:144A </span><span style="color:gray">ceNs</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:144A                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:144B                 </span><span style="color:navy">jz      short </span><span style="color:gray">ceLoop</span>
<span style="color:black">TRANGROUP:144D
</span><span style="color:black">TRANGROUP:144D </span>ceDone<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:144D                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:144D </span>CmpEntry        endp
<span style="color:black">TRANGROUP:144D
</span><span style="color:black">TRANGROUP:144D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:gray">TRANGROUP:144E </span>FieldCmps       <span style="color:navy">dw offset </span>CmpName       <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:1450                 </span><span style="color:navy">dw offset </span>CmpExt
<span style="color:gray">TRANGROUP:1452                 </span><span style="color:navy">dw offset </span>CmpTime
<span style="color:gray">TRANGROUP:1454                 </span><span style="color:navy">dw offset </span>CmpSize
<span style="color:gray">TRANGROUP:1456                 </span><span style="color:navy">dw offset </span>CmpType
<span style="color:gray">TRANGROUP:1458                 </span><span style="color:navy">dw offset </span>CmpCratio
<span style="color:maroon">TRANGROUP:145A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:145A
</span><span style="color:maroon">TRANGROUP:145A </span>CmpName<span style="color:navy">:                                </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:145A                 </span><span style="color:navy">mov     si</span><span style="color:navy">, bx</span>
<span style="color:maroon">TRANGROUP:145C                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bp</span>
<span style="color:maroon">TRANGROUP:145E                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; entry.filename
<span style="color:maroon">TRANGROUP:1461                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; entry.filename
<span style="color:maroon">TRANGROUP:1464                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; size entry.filename
<span style="color:maroon">TRANGROUP:1467                 </span><span style="color:navy">jmp     short </span>CmpStr
<span style="color:maroon">TRANGROUP:1469 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:1469
</span><span style="color:maroon">TRANGROUP:1469 </span>CmpExt<span style="color:navy">:                                 </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:1469                 </span><span style="color:navy">mov     si</span><span style="color:navy">, bx</span>
<span style="color:maroon">TRANGROUP:146B                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bp</span>
<span style="color:maroon">TRANGROUP:146D                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>           ; entry.fileext
<span style="color:maroon">TRANGROUP:1470                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>           ; entry.fileext
<span style="color:maroon">TRANGROUP:1473                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; size entry.fileext
<span style="color:maroon">TRANGROUP:1476
</span><span style="color:maroon">TRANGROUP:1476 </span>CmpStr<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:1476                 </span><span style="color:navy">cmp     ds:</span>CountryPtrInfo<span style="color:navy">, </span><span style="color:#ff8000">6</span> ; CountryPtrId
<span style="color:maroon">TRANGROUP:147B                 </span><span style="color:navy">jnz     short </span>cnNoCollTable
<span style="color:maroon">TRANGROUP:147D                 </span><span style="color:navy">push    bp</span>
<span style="color:maroon">TRANGROUP:147E                 </span><span style="color:navy">push    bx</span>
<span style="color:maroon">TRANGROUP:147F                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">TRANGROUP:1480                 </span><span style="color:navy">lds     bx</span><span style="color:navy">, ds:</span>CountryPtr
<span style="color:maroon">TRANGROUP:1484                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, [bx]</span>
<span style="color:maroon">TRANGROUP:1486                 </span><span style="color:navy">inc     bx</span>
<span style="color:maroon">TRANGROUP:1487                 </span><span style="color:navy">inc     bx</span>
<span style="color:maroon">TRANGROUP:1488                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:maroon">TRANGROUP:148A
</span><span style="color:maroon">TRANGROUP:148A </span>cnNextChar<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:148A                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:maroon">TRANGROUP:148D                 </span><span style="color:navy">inc     di</span>
<span style="color:maroon">TRANGROUP:148E                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, bp</span>
<span style="color:maroon">TRANGROUP:1490                 </span><span style="color:navy">jnb     short </span>cn1
<span style="color:maroon">TRANGROUP:1492                 </span><span style="color:navy">xlat
</span><span style="color:maroon">TRANGROUP:1493
</span><span style="color:maroon">TRANGROUP:1493 </span>cn1<span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:1493                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ax</span>
<span style="color:maroon">TRANGROUP:1495                 </span><span style="color:navy">lods    byte ptr es:[si]</span>
<span style="color:maroon">TRANGROUP:1497                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, bp</span>
<span style="color:maroon">TRANGROUP:1499                 </span><span style="color:navy">jnb     short </span>cn2
<span style="color:maroon">TRANGROUP:149B                 </span><span style="color:navy">xlat
</span><span style="color:maroon">TRANGROUP:149C
</span><span style="color:maroon">TRANGROUP:149C </span>cn2<span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:149C                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, dx</span>
<span style="color:maroon">TRANGROUP:149E                 </span><span style="color:navy">loope   </span>cnNextChar
<span style="color:maroon">TRANGROUP:14A0                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">TRANGROUP:14A1                 </span><span style="color:navy">pop     bx</span>
<span style="color:maroon">TRANGROUP:14A2                 </span><span style="color:navy">pop     bp</span>
<span style="color:maroon">TRANGROUP:14A3                 </span><span style="color:navy">retn
</span><span style="color:maroon">TRANGROUP:14A4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:14A4
</span><span style="color:maroon">TRANGROUP:14A4 </span>cnNoCollTable<span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:14A4                 </span><span style="color:navy">repe cmps byte ptr es:[si]</span><span style="color:navy">, byte ptr es:[di]</span>
<span style="color:maroon">TRANGROUP:14A7                 </span><span style="color:navy">retn
</span><span style="color:maroon">TRANGROUP:14A8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:14A8
</span><span style="color:maroon">TRANGROUP:14A8 </span>CmpTime<span style="color:navy">:                                </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:14A8                 </span><span style="color:navy">mov     si</span><span style="color:navy">, bx</span>
<span style="color:maroon">TRANGROUP:14AA                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bp</span>
<span style="color:maroon">TRANGROUP:14AC                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:green">16</span>          ; entry.filedate + size entry.filedate - 1
<span style="color:maroon">TRANGROUP:14AF                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:green">16</span>          ; entry.filedate + size entry.filedate - 1
<span style="color:maroon">TRANGROUP:14B2                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; size entry.filetime + size entry.filedate
<span style="color:maroon">TRANGROUP:14B5                 </span><span style="color:navy">std
</span><span style="color:maroon">TRANGROUP:14B6                 </span><span style="color:navy">repe cmps byte ptr es:[si]</span><span style="color:navy">, byte ptr es:[di]</span>
<span style="color:maroon">TRANGROUP:14B9                 </span><span style="color:navy">cld
</span><span style="color:maroon">TRANGROUP:14BA                 </span><span style="color:navy">retn
</span><span style="color:maroon">TRANGROUP:14BB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:14BB
</span><span style="color:maroon">TRANGROUP:14BB </span>CmpSize<span style="color:navy">:                                </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:14BB                 </span><span style="color:navy">mov     si</span><span style="color:navy">, bx</span>
<span style="color:maroon">TRANGROUP:14BD                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bp</span>
<span style="color:maroon">TRANGROUP:14BF                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:green">20</span>
<span style="color:maroon">TRANGROUP:14C2                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:green">20</span>
<span style="color:maroon">TRANGROUP:14C5                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:maroon">TRANGROUP:14C8                 </span><span style="color:navy">std
</span><span style="color:maroon">TRANGROUP:14C9                 </span><span style="color:navy">repe cmps byte ptr es:[si]</span><span style="color:navy">, byte ptr es:[di]</span>
<span style="color:maroon">TRANGROUP:14CC                 </span><span style="color:navy">cld
</span><span style="color:maroon">TRANGROUP:14CD                 </span><span style="color:navy">retn
</span><span style="color:maroon">TRANGROUP:14CE </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:14CE
</span><span style="color:maroon">TRANGROUP:14CE </span>CmpType<span style="color:navy">:                                </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:14CE                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[bx+</span><span style="color:green">12</span><span style="color:navy">]</span>  ; entry.fileattr
<span style="color:maroon">TRANGROUP:14D2                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, es:[bp+</span><span style="color:green">12</span><span style="color:navy">]</span>
<span style="color:maroon">TRANGROUP:14D6                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">1010h</span>       ; (ATTR_DIRECTORY&lt;&lt;8)+ATTR_DIRECTORY
<span style="color:maroon">TRANGROUP:14D9                 </span><span style="color:navy">cmp     ah</span><span style="color:navy">, al</span>
<span style="color:maroon">TRANGROUP:14DB                 </span><span style="color:navy">retn
</span><span style="color:maroon">TRANGROUP:14DC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:14DC
</span><span style="color:maroon">TRANGROUP:14DC </span>CmpCratio<span style="color:navy">:                              </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:14DC                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[bx+</span><span style="color:green">21</span><span style="color:navy">]</span>  ;  es:[bx].compratio
<span style="color:maroon">TRANGROUP:14E0                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[bp+</span><span style="color:green">21</span><span style="color:navy">]</span>
<span style="color:maroon">TRANGROUP:14E4                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:14E5
</span><span style="color:black">TRANGROUP:14E5 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:14E5
</span><span style="color:black">TRANGROUP:14E5
</span><span style="color:black">TRANGROUP:14E5 </span>DefaultAttr     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:14E5                 </span><span style="color:navy">mov     ds:</span>AttrSpecified<span style="color:navy">, </span><span style="color:#ff8000">6</span> ; ATTR_HIDDEN+ATTR_SYSTEM
<span style="color:black">TRANGROUP:14EA                 </span><span style="color:navy">mov     ds:</span>AttrSelect<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:14EF                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:14F0                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:14F0 </span>DefaultAttr     endp
<span style="color:black">TRANGROUP:14F0
</span><span style="color:black">TRANGROUP:14F1
</span><span style="color:black">TRANGROUP:14F1 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:14F1
</span><span style="color:black">TRANGROUP:14F1
</span><span style="color:black">TRANGROUP:14F1 </span>DisplayTotals   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:14F1                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">8</span>     ; mask subd
<span style="color:black">TRANGROUP:14F7                 </span><span style="color:navy">jz      short </span><span style="color:gray">dtFree</span>
<span style="color:black">TRANGROUP:14F9                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:14FC                 </span><span style="color:navy">call    </span>UseLine
<span style="color:black">TRANGROUP:14FF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>total_ptr
<span style="color:black">TRANGROUP:1502                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1505                 </span><span style="color:navy">call    </span>UseLine
<span style="color:black">TRANGROUP:1508                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">1</span>     ; mask cratio
<span style="color:black">TRANGROUP:150E                 </span><span style="color:navy">jz      short </span><span style="color:gray">dtCntSize</span>
<span style="color:black">TRANGROUP:1510                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>ccluUsedTotal
<span style="color:black">TRANGROUP:1513                 </span><span style="color:navy">mov     ds:</span>ccluUsedDir<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1516                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>csecUsedTotal
<span style="color:black">TRANGROUP:1519                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>csecUsedDir
<span style="color:black">TRANGROUP:151C                 </span><span style="color:navy">movsw
</span><span style="color:black">TRANGROUP:151D                 </span><span style="color:navy">movsw
</span><span style="color:black">TRANGROUP:151E
</span><span style="color:black">TRANGROUP:151E </span><span style="color:gray">dtCntSize</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:151E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>FileCntTotal
<span style="color:black">TRANGROUP:1521                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>FileSizTotal
<span style="color:black">TRANGROUP:1524                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>FileSiz
<span style="color:black">TRANGROUP:1527                 </span><span style="color:navy">movsw
</span><span style="color:black">TRANGROUP:1528                 </span><span style="color:navy">movsw
</span><span style="color:black">TRANGROUP:1529                 </span><span style="color:navy">call    </span>DisplayCntSiz
<span style="color:black">TRANGROUP:152C
</span><span style="color:black">TRANGROUP:152C </span><span style="color:gray">dtFree</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:152C                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">36h</span>
<span style="color:black">TRANGROUP:152E                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, ds:</span><span style="color:green">5Ch</span>
<span style="color:black">TRANGROUP:1532                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET DISK SPACE
<span style="color:black">TRANGROUP:1532                                         </span>; DL = drive code (0 = default, 1 = A, 2 = B, etc.)
<span style="color:black">TRANGROUP:1534                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:1537                 </span><span style="color:navy">jz      short </span><span style="color:gray">dtRet</span>
<span style="color:black">TRANGROUP:1539                 </span><span style="color:navy">mul     cx</span>
<span style="color:black">TRANGROUP:153B                 </span><span style="color:navy">mul     bx</span>
<span style="color:black">TRANGROUP:153D                 </span><span style="color:navy">mov     word ptr ds:</span>Bytes_Free<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1540                 </span><span style="color:navy">mov     word ptr ds:</span>Bytes_Free<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1544                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>bytmes_ptr
<span style="color:black">TRANGROUP:1547                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:154A                 </span><span style="color:navy">call    </span>UseLine
<span style="color:black">TRANGROUP:154D
</span><span style="color:black">TRANGROUP:154D </span><span style="color:gray">dtRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:154D                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:154D </span>DisplayTotals   endp
<span style="color:black">TRANGROUP:154D
</span><span style="color:black">TRANGROUP:154E
</span><span style="color:black">TRANGROUP:154E </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:154E
</span><span style="color:black">TRANGROUP:154E
</span><span style="color:black">TRANGROUP:154E </span>FileIsDevice    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:154E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>PathPos
<span style="color:black">TRANGROUP:1552                 </span><span style="color:navy">mov     di</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1554                 </span><span style="color:navy">add     di</span><span style="color:navy">, ds:</span>PathCnt
<span style="color:black">TRANGROUP:1558                 </span><span style="color:navy">xor     bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:155A                 </span><span style="color:navy">xchg    bl</span><span style="color:navy">, [di]</span>
<span style="color:black">TRANGROUP:155C                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:155E                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">4Eh</span>
<span style="color:black">TRANGROUP:1560                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
<span style="color:black">TRANGROUP:1560                                         </span>; CX = search attributes
<span style="color:black">TRANGROUP:1560                                         </span>; DS:DX -&gt; ASCIZ filespec
<span style="color:black">TRANGROUP:1560                                         </span>; (drive, path, and wildcards allowed)
<span style="color:black">TRANGROUP:1562                 </span><span style="color:navy">xchg    bl</span><span style="color:navy">, [di]</span>
<span style="color:black">TRANGROUP:1564                 </span><span style="color:navy">jb      short </span><span style="color:gray">piCol</span>
<span style="color:black">TRANGROUP:1566                 </span><span style="color:navy">test    ds:</span>DIRBUF_find_buf_attr<span style="color:navy">, </span><span style="color:green">40h</span> ; [DIRBUF+21],40h
<span style="color:black">TRANGROUP:1566                                         </span>; [DIRBUF+FIND_BUF.ATTR],ATTR_DEVICE
<span style="color:black">TRANGROUP:156B                 </span><span style="color:navy">jz      short </span><span style="color:gray">piCol</span>
<span style="color:black">TRANGROUP:156D                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:156F                 </span><span style="color:navy">jmp     short </span><span style="color:gray">piRet</span>
<span style="color:black">TRANGROUP:1571 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1571
</span><span style="color:black">TRANGROUP:1571 </span><span style="color:gray">piCol</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1571                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:1572                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:1574                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>PathCnt
<span style="color:black">TRANGROUP:1578                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:1579                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:157A                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:157C                 </span><span style="color:navy">js      short </span><span style="color:gray">piRet</span>
<span style="color:black">TRANGROUP:157E                 </span><span style="color:navy">or      di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:1580                 </span><span style="color:navy">std
</span><span style="color:black">TRANGROUP:1581                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:1583                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:1584
</span><span style="color:black">TRANGROUP:1584 </span><span style="color:gray">piRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1584                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1584 </span>FileIsDevice    endp
<span style="color:black">TRANGROUP:1584
</span><span style="color:black">TRANGROUP:1585
</span><span style="color:black">TRANGROUP:1585 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1585
</span><span style="color:black">TRANGROUP:1585
</span><span style="color:black">TRANGROUP:1585 </span>FindFirst       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1585                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, offset </span>GetFirst
<span style="color:black">TRANGROUP:1588                 </span><span style="color:navy">jmp     short </span>ffFindEntry
<span style="color:black">TRANGROUP:1588 </span>FindFirst       endp
<span style="color:black">TRANGROUP:1588
</span><span style="color:black">TRANGROUP:158A
</span><span style="color:black">TRANGROUP:158A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:158A
</span><span style="color:black">TRANGROUP:158A
</span><span style="color:black">TRANGROUP:158A </span>FindNext        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:158A                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, offset </span>GetNext
<span style="color:black">TRANGROUP:158D
</span><span style="color:black">TRANGROUP:158D </span>ffFindEntry<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:158D                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:158E                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">40h</span>   ; mask.inmem
<span style="color:black">TRANGROUP:1594                 </span><span style="color:navy">jz      short </span>ffDisk
<span style="color:black">TRANGROUP:1596                 </span><span style="color:navy">call    </span>FindInMem
<span style="color:black">TRANGROUP:1599                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ffRet</span>
<span style="color:black">TRANGROUP:159B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:159B
</span><span style="color:black">TRANGROUP:159B </span>ffDisk<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:159B                 </span><span style="color:navy">call    ax</span>
<span style="color:black">TRANGROUP:159D                 </span><span style="color:navy">jb      short </span><span style="color:gray">ffGetErr</span>
<span style="color:black">TRANGROUP:159F                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:15A3                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:15A5                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:15A7                 </span><span style="color:navy">call    </span>LoadEntry
<span style="color:black">TRANGROUP:15AA                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:15AB                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ffRet</span>
<span style="color:black">TRANGROUP:15AD </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:15AD
</span><span style="color:black">TRANGROUP:15AD </span><span style="color:gray">ffGetErr</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:15AD                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:15B0                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:15B1
</span><span style="color:black">TRANGROUP:15B1 </span><span style="color:gray">ffRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:15B1                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:15B2                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:15B2 </span>FindNext        endp
<span style="color:black">TRANGROUP:15B2
</span><span style="color:black">TRANGROUP:15B3
</span><span style="color:black">TRANGROUP:15B3 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:15B3
</span><span style="color:black">TRANGROUP:15B3
</span><span style="color:black">TRANGROUP:15B3 </span>FindInMem       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:15B3                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:15B7                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:15B9                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:15BA                 </span><span style="color:navy">call    </span>FindOneInMem
<span style="color:black">TRANGROUP:15BD                 </span><span style="color:navy">jb      short </span><span style="color:gray">fiNoMore</span>
<span style="color:black">TRANGROUP:15BF
</span><span style="color:black">TRANGROUP:15BF </span><span style="color:gray">fiBest</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:15BF                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:15C1
</span><span style="color:black">TRANGROUP:15C1 </span><span style="color:gray">fiNext</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:15C1                 </span><span style="color:navy">call    </span>FindNextInMem
<span style="color:black">TRANGROUP:15C4                 </span><span style="color:navy">jb      short </span><span style="color:gray">fiFound</span>
<span style="color:black">TRANGROUP:15C6                 </span><span style="color:navy">call    </span>CmpEntry
<span style="color:black">TRANGROUP:15C9                 </span><span style="color:navy">jnb     short </span><span style="color:gray">fiNext</span>
<span style="color:black">TRANGROUP:15CB                 </span><span style="color:navy">jmp     short </span><span style="color:gray">fiBest</span>
<span style="color:black">TRANGROUP:15CD </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:15CD
</span><span style="color:black">TRANGROUP:15CD </span><span style="color:gray">fiNoMore</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:15CD                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">18</span>          ; ERROR_NO_MORE_FILES
<span style="color:black">TRANGROUP:15D0                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:15D1                 </span><span style="color:navy">jmp     short </span><span style="color:gray">fiRet</span>
<span style="color:black">TRANGROUP:15D3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:15D3
</span><span style="color:black">TRANGROUP:15D3 </span><span style="color:gray">fiFound</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:15D3                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:15D5                 </span><span style="color:navy">mov     byte ptr es:[bx]</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:15D9                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:15DA
</span><span style="color:black">TRANGROUP:15DA </span><span style="color:gray">fiRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:15DA                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:15DA </span>FindInMem       endp
<span style="color:black">TRANGROUP:15DA
</span><span style="color:black">TRANGROUP:15DB
</span><span style="color:black">TRANGROUP:15DB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:15DB
</span><span style="color:black">TRANGROUP:15DB
</span><span style="color:black">TRANGROUP:15DB </span>FindNextChild   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:15DB                 </span><span style="color:navy">sub     sp</span><span style="color:navy">, </span><span style="color:green">12</span>
<span style="color:black">TRANGROUP:15DE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:15E1                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:15E2                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, sp</span>
<span style="color:black">TRANGROUP:15E4                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">'*'</span>         ; 002Ah
<span style="color:black">TRANGROUP:15E7                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:15E8                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2E2Ah</span>       ; '*.'
<span style="color:black">TRANGROUP:15EB                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:15EC                 </span><span style="color:navy">call    </span>GetDriveLtr
<span style="color:black">TRANGROUP:15EF                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:15F0                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, sp</span>
<span style="color:black">TRANGROUP:15F2                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">10h</span>         ; ATTR_DIRECTORY
<span style="color:black">TRANGROUP:15F5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">4Eh</span>
<span style="color:black">TRANGROUP:15F7                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
<span style="color:black">TRANGROUP:15F7                                         </span>; CX = search attributes
<span style="color:black">TRANGROUP:15F7                                         </span>; DS:DX -&gt; ASCIZ filespec
<span style="color:black">TRANGROUP:15F7                                         </span>; (drive, path, and wildcards allowed)
<span style="color:black">TRANGROUP:15F9                 </span><span style="color:navy">jb      short </span><span style="color:gray">fcRet</span>
<span style="color:black">TRANGROUP:15FB                 </span><span style="color:navy">call    </span>CheckChild
<span style="color:black">TRANGROUP:15FE
</span><span style="color:black">TRANGROUP:15FE </span><span style="color:gray">fcNext</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:15FE                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">10h</span>
<span style="color:black">TRANGROUP:1601                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">4Fh</span>
<span style="color:black">TRANGROUP:1603                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FIND NEXT ASCIZ (FINDNEXT)
<span style="color:black">TRANGROUP:1603                                         </span>; [DTA] = data block from
<span style="color:black">TRANGROUP:1603                                         </span>; last AH = 4Eh/4Fh call
<span style="color:black">TRANGROUP:1605                 </span><span style="color:navy">jb      short </span><span style="color:gray">fcErr</span>
<span style="color:black">TRANGROUP:1607                 </span><span style="color:navy">call    </span>CheckChild
<span style="color:black">TRANGROUP:160A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">fcNext</span>
<span style="color:black">TRANGROUP:160C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:160C
</span><span style="color:black">TRANGROUP:160C </span><span style="color:gray">fcErr</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:160C                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:160F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">18</span>          ; ERROR_NO_MORE_FILES
<span style="color:black">TRANGROUP:1612                 </span><span style="color:navy">jnz     short </span><span style="color:gray">fcNope</span>
<span style="color:black">TRANGROUP:1614                 </span><span style="color:navy">cmp     byte ptr [bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:1618                 </span><span style="color:navy">jz      short </span><span style="color:gray">fcNope</span>
<span style="color:black">TRANGROUP:161A                 </span><span style="color:navy">mov     si</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:161C                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:161E
</span><span style="color:black">TRANGROUP:161E </span><span style="color:gray">fcMove</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:161E                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:161F                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:1620                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1622                 </span><span style="color:navy">jz      short </span><span style="color:gray">fcRet</span>
<span style="color:black">TRANGROUP:1624                 </span><span style="color:navy">jmp     short </span><span style="color:gray">fcMove</span>
<span style="color:black">TRANGROUP:1626 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1626
</span><span style="color:black">TRANGROUP:1626 </span><span style="color:gray">fcNope</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1626                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:1627
</span><span style="color:black">TRANGROUP:1627 </span><span style="color:gray">fcRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1627                 </span><span style="color:navy">lahf
</span><span style="color:black">TRANGROUP:1628                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">20</span>
<span style="color:black">TRANGROUP:162B                 </span><span style="color:navy">sahf
</span><span style="color:black">TRANGROUP:162C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:162C </span>FindNextChild   endp
<span style="color:black">TRANGROUP:162C
</span><span style="color:black">TRANGROUP:162D
</span><span style="color:black">TRANGROUP:162D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:162D
</span><span style="color:black">TRANGROUP:162D
</span><span style="color:black">TRANGROUP:162D </span>FindOneInMem    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:162D
</span><span style="color:black">TRANGROUP:162D </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:163F SIZE 00000002 BYTES
</span><span style="color:black">TRANGROUP:162D
</span><span style="color:black">TRANGROUP:162D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[bx]</span>
<span style="color:black">TRANGROUP:1630                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:1632                 </span><span style="color:navy">jz      short </span>FindNextInMem
<span style="color:black">TRANGROUP:1634                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:1636                 </span><span style="color:navy">jz      short </span><span style="color:gray">foNoMore</span>
<span style="color:black">TRANGROUP:1638                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:1639                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1639 </span>FindOneInMem    endp
<span style="color:black">TRANGROUP:1639
</span><span style="color:black">TRANGROUP:163A
</span><span style="color:black">TRANGROUP:163A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:163A
</span><span style="color:black">TRANGROUP:163A
</span><span style="color:black">TRANGROUP:163A </span>FindNextInMem   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:163A                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:green">22</span>          ; size EntryStruc (22 = 21 + compratio)
<span style="color:black">TRANGROUP:163D                 </span><span style="color:navy">jmp     short </span>FindOneInMem
<span style="color:black">TRANGROUP:163D </span>FindNextInMem   endp
<span style="color:black">TRANGROUP:163D
</span><span style="color:black">TRANGROUP:163F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:163F </span><span style="color:gray">; START OF FUNCTION CHUNK FOR FindOneInMem
</span><span style="color:black">TRANGROUP:163F
</span><span style="color:black">TRANGROUP:163F </span><span style="color:gray">foNoMore</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:163F                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:1640                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1640 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR FindOneInMem
</span><span style="color:black">TRANGROUP:1641
</span><span style="color:black">TRANGROUP:1641 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1641
</span><span style="color:black">TRANGROUP:1641
</span><span style="color:black">TRANGROUP:1641 </span>GetEnvValue     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1641                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:1642                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>DirEnvVar <span style="color:gray">; &quot;DIRCMD=&quot;
</span><span style="color:black">TRANGROUP:1645                 </span><span style="color:navy">call    </span>find_name_in_environment
<span style="color:black">TRANGROUP:1648                 </span><span style="color:navy">jb      short </span><span style="color:gray">geRet</span>
<span style="color:black">TRANGROUP:164A                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:164B                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:164C                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:164D                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:164E                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:1650                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>ScanBuf
<span style="color:black">TRANGROUP:1653
</span><span style="color:black">TRANGROUP:1653 </span><span style="color:gray">geLoop</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1653                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:1654                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1656                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:1657                 </span><span style="color:navy">loopne  </span><span style="color:gray">geLoop</span>
<span style="color:black">TRANGROUP:1659                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:165A                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:165B                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ScanBuf
<span style="color:black">TRANGROUP:165E
</span><span style="color:black">TRANGROUP:165E </span><span style="color:gray">geRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:165E                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:165F                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:165F </span>GetEnvValue     endp
<span style="color:black">TRANGROUP:165F
</span><span style="color:black">TRANGROUP:1660
</span><span style="color:black">TRANGROUP:1660 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1660
</span><span style="color:black">TRANGROUP:1660
</span><span style="color:black">TRANGROUP:1660 </span>GetFirst        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1660                 </span><span style="color:navy">mov     byte ptr ds:</span><span style="color:green">55h</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; [FCB-7]
<span style="color:black">TRANGROUP:1665                 </span><span style="color:navy">mov     byte ptr ds:</span><span style="color:green">5Bh</span><span style="color:navy">, </span><span style="color:#ff8000">16h</span> ; mov byte [FCB-1],ATTR_ALL
<span style="color:black">TRANGROUP:166A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">55h</span>         ; FCB-7
<span style="color:black">TRANGROUP:166D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">11h</span>
<span style="color:black">TRANGROUP:166F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SEARCH FIRST USING FCB
<span style="color:black">TRANGROUP:166F                                         </span>; DS:DX -&gt; FCB
<span style="color:black">TRANGROUP:1671                 </span><span style="color:navy">shl     al</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1673                 </span><span style="color:navy">jb      short </span>gfRet
<span style="color:black">TRANGROUP:1675                 </span><span style="color:navy">jmp     short </span>gfFound
<span style="color:black">TRANGROUP:1675 </span>GetFirst        endp
<span style="color:black">TRANGROUP:1675
</span><span style="color:black">TRANGROUP:1677
</span><span style="color:black">TRANGROUP:1677 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1677
</span><span style="color:black">TRANGROUP:1677
</span><span style="color:black">TRANGROUP:1677 </span>GetNext         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1677                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">55h</span>
<span style="color:black">TRANGROUP:167A                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">12h</span>
<span style="color:black">TRANGROUP:167C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SEARCH NEXT USING FCB
<span style="color:black">TRANGROUP:167C                                         </span>; DS:DX -&gt; FCB
<span style="color:black">TRANGROUP:167C                                         </span>; Return: AL = status
<span style="color:black">TRANGROUP:167E                 </span><span style="color:navy">shl     al</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1680                 </span><span style="color:navy">jb      short </span>gfRet
<span style="color:black">TRANGROUP:1682
</span><span style="color:black">TRANGROUP:1682 </span>gfFound<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1682                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>DIRBUF_8_DIR_ATTR ;
<span style="color:black">TRANGROUP:1682                                         </span>; [DIRBUF+8+DIR_ENTRY.DIR_ATTR]
<span style="color:black">TRANGROUP:1685                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, ds:</span>AttrSpecified
<span style="color:black">TRANGROUP:1689                 </span><span style="color:navy">and     al</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:168B                 </span><span style="color:navy">and     ah</span><span style="color:navy">, ds:</span>AttrSelect
<span style="color:black">TRANGROUP:168F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:1691                 </span><span style="color:navy">jnz     short </span>GetNext
<span style="color:black">TRANGROUP:1693
</span><span style="color:black">TRANGROUP:1693 </span>gfRet<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1693                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1693 </span>GetNext         endp
<span style="color:black">TRANGROUP:1693
</span><span style="color:black">TRANGROUP:1694
</span><span style="color:black">TRANGROUP:1694 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1694
</span><span style="color:black">TRANGROUP:1694
</span><span style="color:black">TRANGROUP:1694 </span>ListDir         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1694                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1696                 </span><span style="color:navy">mov     ds:</span>FileCnt<span style="color:navy">, ax</span>  ; zero file count
<span style="color:black">TRANGROUP:1699                 </span><span style="color:navy">mov     ds:</span>FileSiz<span style="color:navy">, ax</span>  ; zero file size accumulator
<span style="color:black">TRANGROUP:169C                 </span><span style="color:navy">mov     ds:</span>FileSiz<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:169F                 </span><span style="color:navy">mov     ds:</span>ccluUsedDir<span style="color:navy">, ax</span> ; zero count clusters used
<span style="color:black">TRANGROUP:16A2                 </span><span style="color:navy">mov     ds:</span>csecUsedDir<span style="color:navy">, ax</span> ; zero count compressed sectors used
<span style="color:black">TRANGROUP:16A5                 </span><span style="color:navy">mov     ds:</span>csecUsedDir<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:16A8                 </span><span style="color:navy">cmp     ds:</span>DestBuf<span style="color:navy">, </span><span style="color:#ff8000">0</span>   ; check for sort code
<span style="color:black">TRANGROUP:16AD                 </span><span style="color:navy">jz      short </span><span style="color:gray">ld1</span>
<span style="color:black">TRANGROUP:16AF                 </span><span style="color:navy">call    </span>LoadEntries     ; load entries for sorted listing
<span style="color:black">TRANGROUP:16B2                 </span><span style="color:navy">jnb     short </span><span style="color:gray">ld1</span>
<span style="color:black">TRANGROUP:16B4                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:16B7                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:16B8                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ldErr</span>
<span style="color:black">TRANGROUP:16BA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:16BA
</span><span style="color:black">TRANGROUP:16BA </span><span style="color:gray">ld1</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:16BA                 </span><span style="color:navy">call    </span>FindFirst
<span style="color:black">TRANGROUP:16BD                 </span><span style="color:navy">jb      short </span><span style="color:gray">ldErr</span>
<span style="color:black">TRANGROUP:16BF                 </span><span style="color:navy">call    </span>DisplayHeader
<span style="color:black">TRANGROUP:16C2                 </span><span style="color:navy">call    </span>DisplayFile
<span style="color:black">TRANGROUP:16C5
</span><span style="color:black">TRANGROUP:16C5 </span><span style="color:gray">ldNext</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:16C5                 </span><span style="color:navy">call    </span>FindNext
<span style="color:black">TRANGROUP:16C8                 </span><span style="color:navy">jb      short </span><span style="color:gray">ldErr</span>
<span style="color:black">TRANGROUP:16CA                 </span><span style="color:navy">call    </span>DisplayFile
<span style="color:black">TRANGROUP:16CD                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ldNext</span>
<span style="color:black">TRANGROUP:16CF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:16CF
</span><span style="color:black">TRANGROUP:16CF </span><span style="color:gray">ldErr</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:16CF                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; ERROR_FILE_NOT_FOUND
<span style="color:black">TRANGROUP:16D2                 </span><span style="color:navy">jz      short </span><span style="color:gray">ldDone</span>
<span style="color:black">TRANGROUP:16D4                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">18</span>          ; ERROR_NO_MORE_FILES
<span style="color:black">TRANGROUP:16D7                 </span><span style="color:navy">jz      short </span><span style="color:gray">ldDone</span>
<span style="color:black">TRANGROUP:16D9                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:16DA                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ldRet</span>
<span style="color:black">TRANGROUP:16DC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:16DC
</span><span style="color:black">TRANGROUP:16DC </span><span style="color:gray">ldDone</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:16DC                 </span><span style="color:navy">cmp     ds:</span>FileCnt<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:16E1                 </span><span style="color:navy">jz      short </span><span style="color:gray">ld2</span>
<span style="color:black">TRANGROUP:16E3                 </span><span style="color:navy">call    </span>DisplayTrailer
<span style="color:black">TRANGROUP:16E6
</span><span style="color:black">TRANGROUP:16E6 </span><span style="color:gray">ld2</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:16E6                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:16E7
</span><span style="color:black">TRANGROUP:16E7 </span><span style="color:gray">ldRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:16E7                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:16E7 </span>ListDir         endp
<span style="color:black">TRANGROUP:16E7
</span><span style="color:black">TRANGROUP:16E8
</span><span style="color:black">TRANGROUP:16E8 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:16E8
</span><span style="color:black">TRANGROUP:16E8
</span><span style="color:black">TRANGROUP:16E8 </span>LoadEntries     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:16E8                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:16E9                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:16ED                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:16EF                 </span><span style="color:navy">and     ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">0FFBFh</span> ;  ~mask.inmem ; not mask.inmem
<span style="color:black">TRANGROUP:16F4                 </span><span style="color:navy">call    </span>GetFirst
<span style="color:black">TRANGROUP:16F7                 </span><span style="color:navy">jb      short </span><span style="color:gray">leRet</span>
<span style="color:black">TRANGROUP:16F9                 </span><span style="color:navy">call    </span>LoadEntry
<span style="color:black">TRANGROUP:16FC
</span><span style="color:black">TRANGROUP:16FC </span><span style="color:gray">leNext</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:16FC                 </span><span style="color:navy">call    </span>GetNext
<span style="color:black">TRANGROUP:16FF                 </span><span style="color:navy">jb      short </span><span style="color:gray">leLoaded</span>
<span style="color:black">TRANGROUP:1701                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>BYTCNT
<span style="color:black">TRANGROUP:1704                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:1706                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">24</span>          ; size EntryStruc+2 (23 + compratio)
<span style="color:black">TRANGROUP:1709                 </span><span style="color:navy">jb      short </span><span style="color:gray">leOk</span>
<span style="color:black">TRANGROUP:170B                 </span><span style="color:navy">call    </span>LoadEntry
<span style="color:black">TRANGROUP:170E                 </span><span style="color:navy">jmp     short </span><span style="color:gray">leNext</span>
<span style="color:black">TRANGROUP:1710 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1710
</span><span style="color:black">TRANGROUP:1710 </span><span style="color:gray">leLoaded</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1710                 </span><span style="color:navy">mov     byte ptr es:[di]</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:1714                 </span><span style="color:navy">or      ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">40h</span>   ; mask.inmem
<span style="color:black">TRANGROUP:1719
</span><span style="color:black">TRANGROUP:1719 </span><span style="color:gray">leOk</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1719                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:171A
</span><span style="color:black">TRANGROUP:171A </span><span style="color:gray">leRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:171A                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:171B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:171B </span>LoadEntries     endp
<span style="color:black">TRANGROUP:171B
</span><span style="color:black">TRANGROUP:171C
</span><span style="color:black">TRANGROUP:171C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:171C
</span><span style="color:black">TRANGROUP:171C
</span><span style="color:black">TRANGROUP:171C </span>LoadEntry       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:171C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>DIRBUF_8 ; DIRBUF+8
<span style="color:black">TRANGROUP:171F                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1721                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:1722                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">11</span>
<span style="color:black">TRANGROUP:1725                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:1727                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:1728                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:1729                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:green">10</span>          ; (DIR_ENTRY.DIR_TIME-DIR_ENTRY.DIR_ATTR)-1
<span style="color:black">TRANGROUP:172C                 </span><span style="color:navy">movsw
</span><span style="color:black">TRANGROUP:172D                 </span><span style="color:navy">movsw
</span><span style="color:black">TRANGROUP:172E                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1730                 </span><span style="color:navy">lodsw
</span><span style="color:black">TRANGROUP:1731                 </span><span style="color:navy">and     cl</span><span style="color:navy">, </span><span style="color:green">10h</span>         ; ATTR_DIRECTORY
<span style="color:black">TRANGROUP:1734                 </span><span style="color:navy">jnz     short </span><span style="color:gray">leSetDirSize</span>
<span style="color:black">TRANGROUP:1736                 </span><span style="color:navy">movsw
</span><span style="color:black">TRANGROUP:1737                 </span><span style="color:navy">movsw
</span><span style="color:black">TRANGROUP:1738                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">1</span>     ; mask.cratio
<span style="color:black">TRANGROUP:173E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">leCalcRatio</span>
<span style="color:black">TRANGROUP:1740                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1742                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:1743                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1744 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1744
</span><span style="color:black">TRANGROUP:1744 </span><span style="color:gray">leCalcRatio</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1744                 </span><span style="color:navy">call    </span>CalcCompRatio
<span style="color:black">TRANGROUP:1747                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1749                 </span><span style="color:navy">jz      short </span><span style="color:gray">leNoRatio</span>
<span style="color:black">TRANGROUP:174B                 </span><span style="color:navy">dec     ah</span>
<span style="color:black">TRANGROUP:174D                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:174F                 </span><span style="color:navy">shl     ah</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:1751                 </span><span style="color:navy">or      al</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:1753                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:1754                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1755 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1755
</span><span style="color:black">TRANGROUP:1755 </span><span style="color:gray">leSetDirSize</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1755                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1757                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:1758                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:1759
</span><span style="color:black">TRANGROUP:1759 </span><span style="color:gray">leNoRatio</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1759                 </span><span style="color:navy">dec     al</span>
<span style="color:black">TRANGROUP:175B                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:175C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:175C </span>LoadEntry       endp
<span style="color:black">TRANGROUP:175C
</span><span style="color:black">TRANGROUP:175D
</span><span style="color:black">TRANGROUP:175D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:175D
</span><span style="color:black">TRANGROUP:175D
</span><span style="color:black">TRANGROUP:175D </span>NoOrder         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:175D                 </span><span style="color:navy">mov     ds:</span>DestBuf<span style="color:navy">, </span><span style="color:#ff8000">0</span>   ; no sort
<span style="color:black">TRANGROUP:1762                 </span><span style="color:navy">clc                     </span>; no error
<span style="color:black">TRANGROUP:1763                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1763 </span>NoOrder         endp
<span style="color:black">TRANGROUP:1763
</span><span style="color:black">TRANGROUP:1764
</span><span style="color:black">TRANGROUP:1764 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1764
</span><span style="color:black">TRANGROUP:1764
</span><span style="color:black">TRANGROUP:1764 </span>OnOffSw         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1764                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:1766                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1768                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:176A                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:176D                 </span><span style="color:navy">shl     ax</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:176F                 </span><span style="color:navy">test    di</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:1773                 </span><span style="color:navy">jz      short </span><span style="color:gray">oo1</span>
<span style="color:black">TRANGROUP:1775                 </span><span style="color:navy">or      ds:</span>_Bits<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1779                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ooRet</span>
<span style="color:black">TRANGROUP:177B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:177B
</span><span style="color:black">TRANGROUP:177B </span><span style="color:gray">oo1</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:177B                 </span><span style="color:navy">not     ax</span>
<span style="color:black">TRANGROUP:177D                 </span><span style="color:navy">and     ds:</span>_Bits<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1781
</span><span style="color:black">TRANGROUP:1781 </span><span style="color:gray">ooRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1781                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:1782                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1782 </span>OnOffSw         endp
<span style="color:black">TRANGROUP:1782
</span><span style="color:black">TRANGROUP:1783
</span><span style="color:black">TRANGROUP:1783 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1783
</span><span style="color:black">TRANGROUP:1783
</span><span style="color:black">TRANGROUP:1783 </span>ParseAttr       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1783                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:1784                 </span><span style="color:navy">mov     ds:</span>AttrSpecified<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1789                 </span><span style="color:navy">mov     si</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>      ; [bx+ResultBuffer.ValuePtr]
<span style="color:black">TRANGROUP:178C
</span><span style="color:black">TRANGROUP:178C </span><span style="color:gray">paLoop</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:178C                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:178F                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:1790                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1792                 </span><span style="color:navy">jz      short </span><span style="color:gray">paOk</span>
<span style="color:black">TRANGROUP:1794                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'-'</span>
<span style="color:black">TRANGROUP:1796                 </span><span style="color:navy">jnz     short </span><span style="color:gray">pa1</span>
<span style="color:black">TRANGROUP:1798                 </span><span style="color:navy">dec     dx</span>
<span style="color:black">TRANGROUP:1799                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:179A
</span><span style="color:black">TRANGROUP:179A </span><span style="color:gray">pa1</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:179A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>AttrLtrs <span style="color:gray">; &quot;RHSvDA&quot;
</span><span style="color:black">TRANGROUP:179D                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>           ; NUM_ATTR_LTRS
<span style="color:black">TRANGROUP:17A0                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:17A2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">paErr</span>
<span style="color:black">TRANGROUP:17A4                 </span><span style="color:navy">not     cx</span>
<span style="color:black">TRANGROUP:17A6                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>           ; NUM_ATTR_LTRS
<span style="color:black">TRANGROUP:17A9                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:17AB                 </span><span style="color:navy">shl     al</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:17AD                 </span><span style="color:navy">or      ds:</span>AttrSpecified<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:17B1                 </span><span style="color:navy">not     al</span>
<span style="color:black">TRANGROUP:17B3                 </span><span style="color:navy">and     ds:</span>AttrSelect<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:17B7                 </span><span style="color:navy">shl     dl</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:17B9                 </span><span style="color:navy">or      ds:</span>AttrSelect<span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:17BD                 </span><span style="color:navy">jmp     short </span><span style="color:gray">paLoop</span>
<span style="color:black">TRANGROUP:17BF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:17BF
</span><span style="color:black">TRANGROUP:17BF </span><span style="color:gray">paErr</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:17BF                 </span><span style="color:navy">call    </span>SetupParamError
<span style="color:black">TRANGROUP:17C2                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:17C3                 </span><span style="color:navy">jmp     short </span><span style="color:gray">paRet</span>
<span style="color:black">TRANGROUP:17C5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:17C5
</span><span style="color:black">TRANGROUP:17C5 </span><span style="color:gray">paOk</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:17C5                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:17C6
</span><span style="color:black">TRANGROUP:17C6 </span><span style="color:gray">paRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:17C6                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:17C7                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:17C7 </span>ParseAttr       endp
<span style="color:black">TRANGROUP:17C7
</span><span style="color:black">TRANGROUP:17C8
</span><span style="color:black">TRANGROUP:17C8 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:17C8
</span><span style="color:black">TRANGROUP:17C8
</span><span style="color:black">TRANGROUP:17C8 </span>Parse_Line      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:17C8                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_DIR
<span style="color:black">TRANGROUP:17CB                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:17CD
</span><span style="color:black">TRANGROUP:17CD </span><span style="color:gray">plPars</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:17CD                 </span><span style="color:navy">call    </span>Parse_With_Msg
<span style="color:black">TRANGROUP:17D0                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; END_OF_LINE
<span style="color:black">TRANGROUP:17D3                 </span><span style="color:navy">jz      short </span><span style="color:gray">plRet</span>
<span style="color:black">TRANGROUP:17D5                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:17D8                 </span><span style="color:navy">jnz     short </span><span style="color:gray">plRet</span>
<span style="color:black">TRANGROUP:17DA                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:17DC                 </span><span style="color:navy">cmp     byte ptr [bx]</span><span style="color:navy">, </span><span style="color:#ff8000">5</span> ;  RESULT_FILESPEC
<span style="color:black">TRANGROUP:17DF                 </span><span style="color:navy">jz      short </span><span style="color:gray">plFil</span>
<span style="color:black">TRANGROUP:17E1                 </span><span style="color:navy">call    </span>ParseSwitch
<span style="color:black">TRANGROUP:17E4                 </span><span style="color:navy">jb      short </span><span style="color:gray">plRet</span>
<span style="color:black">TRANGROUP:17E6                 </span><span style="color:navy">jmp     short </span><span style="color:gray">plPars</span>
<span style="color:black">TRANGROUP:17E8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:17E8
</span><span style="color:black">TRANGROUP:17E8 </span><span style="color:gray">plFil</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:17E8                 </span><span style="color:navy">call    </span>CopyPathname
<span style="color:black">TRANGROUP:17EB                 </span><span style="color:navy">jmp     short </span><span style="color:gray">plPars</span>
<span style="color:black">TRANGROUP:17ED </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:17ED
</span><span style="color:black">TRANGROUP:17ED </span><span style="color:gray">plRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:17ED                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:17ED </span>Parse_Line      endp
<span style="color:black">TRANGROUP:17ED
</span><span style="color:black">TRANGROUP:17EE
</span><span style="color:black">TRANGROUP:17EE </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:17EE
</span><span style="color:black">TRANGROUP:17EE
</span><span style="color:black">TRANGROUP:17EE </span>ParseOrder      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:17EE                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:17EF                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:17F0                 </span><span style="color:navy">mov     si</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>      ; [bx+ResultBuffer.ValuePtr]
<span style="color:black">TRANGROUP:17F3                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>DestBuf
<span style="color:black">TRANGROUP:17F6                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:17F8                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:17FA                 </span><span style="color:navy">jnz     short </span><span style="color:gray">poLtr</span>
<span style="color:black">TRANGROUP:17FC                 </span><span style="color:navy">mov     byte ptr [bx]</span><span style="color:navy">, </span><span style="color:#ff8000">5</span> ; sort 1st by group
<span style="color:black">TRANGROUP:17FF                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:1800                 </span><span style="color:navy">mov     byte ptr [bx]</span><span style="color:navy">, </span><span style="color:#ff8000">1</span> ; then by name
<span style="color:black">TRANGROUP:1803                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:1804                 </span><span style="color:navy">mov     byte ptr [bx]</span><span style="color:navy">, </span><span style="color:#ff8000">2</span> ; then by extension
<span style="color:black">TRANGROUP:1807                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:1808                 </span><span style="color:navy">jmp     short </span><span style="color:gray">poOk</span>
<span style="color:black">TRANGROUP:180A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:180A
</span><span style="color:black">TRANGROUP:180A </span><span style="color:gray">poLtr</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:180A                 </span><span style="color:navy">xor     dl</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:180C                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:180D                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:180F                 </span><span style="color:navy">jz      short </span><span style="color:gray">poOk</span>
<span style="color:black">TRANGROUP:1811                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'-'</span>
<span style="color:black">TRANGROUP:1813                 </span><span style="color:navy">jnz     short </span><span style="color:gray">po1</span>
<span style="color:black">TRANGROUP:1815                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:1817                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:1818
</span><span style="color:black">TRANGROUP:1818 </span><span style="color:gray">po1</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1818                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>OrderLtrs <span style="color:gray">; &quot;NEDSGC&quot;
</span><span style="color:black">TRANGROUP:181B                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>           ; NUM_ORDER_LTRS
<span style="color:black">TRANGROUP:181E                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:1820                 </span><span style="color:navy">jnz     short </span><span style="color:gray">poErr</span>
<span style="color:black">TRANGROUP:1822                 </span><span style="color:navy">neg     cx</span>
<span style="color:black">TRANGROUP:1824                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>           ; NUM_ORDER_LTRS
<span style="color:black">TRANGROUP:1827                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>           ; cmp cl, CRATIO_ORDER
<span style="color:black">TRANGROUP:182A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">poSet</span>
<span style="color:black">TRANGROUP:182C                 </span><span style="color:navy">or      ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">1</span>     ; mask.cratio
<span style="color:black">TRANGROUP:1831
</span><span style="color:black">TRANGROUP:1831 </span><span style="color:gray">poSet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1831                 </span><span style="color:navy">or      cl</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:1833                 </span><span style="color:navy">mov     [bx]</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:1835                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:1836                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, offset </span>EndDestBuf
<span style="color:black">TRANGROUP:183A                 </span><span style="color:navy">jnb     short </span><span style="color:gray">poErr</span>
<span style="color:black">TRANGROUP:183C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">poLtr</span>
<span style="color:black">TRANGROUP:183E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:183E
</span><span style="color:black">TRANGROUP:183E </span><span style="color:gray">poErr</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:183E                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:183F                 </span><span style="color:navy">call    </span>SetupParamError
<span style="color:black">TRANGROUP:1842                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:1843                 </span><span style="color:navy">jmp     short </span><span style="color:gray">poRet</span>
<span style="color:black">TRANGROUP:1845 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1845
</span><span style="color:black">TRANGROUP:1845 </span><span style="color:gray">poOk</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1845                 </span><span style="color:navy">mov     byte ptr [bx]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1848                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:1849                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:184A
</span><span style="color:black">TRANGROUP:184A </span><span style="color:gray">poRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:184A                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:184B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:184B </span>ParseOrder      endp
<span style="color:black">TRANGROUP:184B
</span><span style="color:black">TRANGROUP:184C
</span><span style="color:black">TRANGROUP:184C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:184C
</span><span style="color:black">TRANGROUP:184C
</span><span style="color:black">TRANGROUP:184C </span>ParseRatio      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:184C                 </span><span style="color:navy">call    </span>OnOffSw
<span style="color:black">TRANGROUP:184F                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:1850                 </span><span style="color:navy">mov     si</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>      ; mov si,word ptr [bx].ValuePtr
<span style="color:black">TRANGROUP:1853                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:1855                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1857                 </span><span style="color:navy">jz      short </span><span style="color:gray">prDone</span>
<span style="color:black">TRANGROUP:1859                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'H'</span>
<span style="color:black">TRANGROUP:185B                 </span><span style="color:navy">jz      short </span><span style="color:gray">prDone</span>
<span style="color:black">TRANGROUP:185D                 </span><span style="color:navy">call    </span>SetupParamError
<span style="color:black">TRANGROUP:1860                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:1861                 </span><span style="color:navy">jmp     short </span><span style="color:gray">prRet</span>
<span style="color:black">TRANGROUP:1863 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1863
</span><span style="color:black">TRANGROUP:1863 </span><span style="color:gray">prDone</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1863                 </span><span style="color:navy">mov     ds:</span>fUseHostSize<span style="color:navy">, al</span> ; set Host cluster size flag
<span style="color:black">TRANGROUP:1866                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:1867
</span><span style="color:black">TRANGROUP:1867 </span><span style="color:gray">prRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1867                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:1868                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1868 </span>ParseRatio      endp
<span style="color:black">TRANGROUP:1868
</span><span style="color:maroon">TRANGROUP:1869 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:1869
</span><span style="color:maroon">TRANGROUP:1869 </span>ParseSwitch<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:1869                 </span><span style="color:navy">push    cx</span>
<span style="color:maroon">TRANGROUP:186A                 </span><span style="color:navy">push    di</span>
<span style="color:maroon">TRANGROUP:186B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>      ; [bx+ResultBuffer.SynPtr]
<span style="color:maroon">TRANGROUP:186E                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>Dir_Sw_Ptrs
<span style="color:maroon">TRANGROUP:1871                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">16</span>          ; NUM_DIR_SWS
<span style="color:maroon">TRANGROUP:1874                 </span><span style="color:navy">cld
</span><span style="color:maroon">TRANGROUP:1875                 </span><span style="color:navy">repne scasw
</span><span style="color:maroon">TRANGROUP:1877                 </span><span style="color:navy">sub     di</span><span style="color:navy">, offset </span>Dir_Sw_Ptrs_2 ; Dir_Sw_Ptrs+2
<span style="color:maroon">TRANGROUP:187B                 </span><span style="color:navy">call    cs:</span>SwHandler<span style="color:navy">[di]</span> ; call word [cs:di+SwHandler]
<span style="color:maroon">TRANGROUP:1880                 </span><span style="color:navy">pop     di</span>
<span style="color:maroon">TRANGROUP:1881                 </span><span style="color:navy">pop     cx</span>
<span style="color:maroon">TRANGROUP:1882                 </span><span style="color:navy">retn
</span><span style="color:maroon">TRANGROUP:1882 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:gray">TRANGROUP:1883 </span>SwHandler       <span style="color:navy">dw offset </span>OnOffSw       <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:1885                 </span><span style="color:navy">dw offset </span>ParseRatio
<span style="color:gray">TRANGROUP:1887                 </span><span style="color:navy">dw offset </span>OnOffSw
<span style="color:gray">TRANGROUP:1889                 </span><span style="color:navy">dw offset </span>OnOffSw
<span style="color:gray">TRANGROUP:188B                 </span><span style="color:navy">dw offset </span>OnOffSw
<span style="color:gray">TRANGROUP:188D                 </span><span style="color:navy">dw offset </span>OnOffSw
<span style="color:gray">TRANGROUP:188F                 </span><span style="color:navy">dw offset </span>OnOffSw
<span style="color:gray">TRANGROUP:1891                 </span><span style="color:navy">dw offset </span>OnOffSw
<span style="color:gray">TRANGROUP:1893                 </span><span style="color:navy">dw offset </span>OnOffSw
<span style="color:gray">TRANGROUP:1895                 </span><span style="color:navy">dw offset </span>OnOffSw
<span style="color:gray">TRANGROUP:1897                 </span><span style="color:navy">dw offset </span>OnOffSw
<span style="color:gray">TRANGROUP:1899                 </span><span style="color:navy">dw offset </span>OnOffSw
<span style="color:gray">TRANGROUP:189B                 </span><span style="color:navy">dw offset </span>NoOrder
<span style="color:gray">TRANGROUP:189D                 </span><span style="color:navy">dw offset </span>ParseOrder
<span style="color:gray">TRANGROUP:189F                 </span><span style="color:navy">dw offset </span>DefaultAttr
<span style="color:gray">TRANGROUP:18A1                 </span><span style="color:navy">dw offset </span>ParseAttr
<span style="color:maroon">TRANGROUP:18A3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:18A3
</span><span style="color:maroon">TRANGROUP:18A3 </span>ChangeDir<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:18A3                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>BWDBUF ; DIRBUF
<span style="color:maroon">TRANGROUP:18A6                 </span><span style="color:navy">call    </span>GetDriveLtr
<span style="color:maroon">TRANGROUP:18A9                 </span><span style="color:navy">stosw
</span><span style="color:maroon">TRANGROUP:18AA                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:maroon">TRANGROUP:18AC
</span><span style="color:maroon">TRANGROUP:18AC </span>cdLoop<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:18AC                 </span><span style="color:navy">lodsb
</span><span style="color:maroon">TRANGROUP:18AD                 </span><span style="color:navy">stosb
</span><span style="color:maroon">TRANGROUP:18AE                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:maroon">TRANGROUP:18B0                 </span><span style="color:navy">jnz     short </span>cdLoop
<span style="color:maroon">TRANGROUP:18B2                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BWDBUF ; DIRBUF
<span style="color:maroon">TRANGROUP:18B5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Bh</span>
<span style="color:maroon">TRANGROUP:18B7                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
<span style="color:maroon">TRANGROUP:18B7                                         </span>; DS:DX -&gt; ASCIZ directory name (may include drive)
<span style="color:maroon">TRANGROUP:18B9                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:18BA
</span><span style="color:black">TRANGROUP:18BA </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:18BA
</span><span style="color:black">TRANGROUP:18BA
</span><span style="color:black">TRANGROUP:18BA </span>CmpAscz         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:18BA                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:18BB                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:18BD                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:18BF                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:18C2                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:18C4                 </span><span style="color:navy">not     cx</span>
<span style="color:black">TRANGROUP:18C6                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:18C7                 </span><span style="color:navy">repe cmpsb
</span><span style="color:black">TRANGROUP:18C9                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:18C9 </span>CmpAscz         endp
<span style="color:black">TRANGROUP:18C9
</span><span style="color:black">TRANGROUP:18CA
</span><span style="color:black">TRANGROUP:18CA </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:18CA
</span><span style="color:black">TRANGROUP:18CA
</span><span style="color:black">TRANGROUP:18CA </span>CopyPathname    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:18CA                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:18CB                 </span><span style="color:navy">lds     si</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>      ; [bx+ResultBuffer.ValuePtr]
<span style="color:black">TRANGROUP:18CE                 </span><span style="color:navy">call    </span>Move_To_SrcBuf
<span style="color:black">TRANGROUP:18D1                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:18D2                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:18D2 </span>CopyPathname    endp
<span style="color:black">TRANGROUP:18D2
</span><span style="color:black">TRANGROUP:18D3
</span><span style="color:black">TRANGROUP:18D3 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:18D3
</span><span style="color:black">TRANGROUP:18D3
</span><span style="color:black">TRANGROUP:18D3 </span>CountFile       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:18D3                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:18D4                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:18D8                 </span><span style="color:navy">inc     ds:</span>FileCnt
<span style="color:black">TRANGROUP:18DC                 </span><span style="color:navy">inc     ds:</span>FileCntTotal
<span style="color:black">TRANGROUP:18E0                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cntf1</span>
<span style="color:black">TRANGROUP:18E2                 </span><span style="color:navy">inc     ds:</span>FileCntTotal<span style="color:navy">+</span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:18E6
</span><span style="color:black">TRANGROUP:18E6 </span><span style="color:gray">cntf1</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:18E6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:[bx+</span><span style="color:green">17</span><span style="color:navy">]</span>  ; EntryStruc.filesize
<span style="color:black">TRANGROUP:18EA                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, es:[bx+</span><span style="color:green">19</span><span style="color:navy">]</span>  ; EntryStruc.filesize + 2
<span style="color:black">TRANGROUP:18EE                 </span><span style="color:navy">add     ds:</span>FileSiz<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:18F2                 </span><span style="color:navy">adc     ds:</span>FileSiz<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:18F6                 </span><span style="color:navy">add     word ptr ds:</span>FileSizTotal<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:18FA                 </span><span style="color:navy">adc     word ptr ds:</span>FileSizTotal<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:18FE                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:18FF                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:18FF </span>CountFile       endp
<span style="color:black">TRANGROUP:18FF
</span><span style="color:black">TRANGROUP:1900
</span><span style="color:black">TRANGROUP:1900 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1900
</span><span style="color:black">TRANGROUP:1900
</span><span style="color:black">TRANGROUP:1900 </span>DisplayBare     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1900                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds</span>
<span style="color:black">TRANGROUP:1902                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:1906                 </span><span style="color:navy">cmp     byte ptr [bx+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">'.'</span> ; [bx+EntrStruc.filename]
<span style="color:black">TRANGROUP:190A                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:190C                 </span><span style="color:navy">jz      short </span><span style="color:gray">dbRet</span>
<span style="color:black">TRANGROUP:190E                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">8</span>     ; mask.subd
<span style="color:black">TRANGROUP:1914                 </span><span style="color:navy">jz      short </span><span style="color:gray">dbNameExt</span>
<span style="color:black">TRANGROUP:1916                 </span><span style="color:navy">call    </span>build_dir_string
<span style="color:black">TRANGROUP:1919                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>BWDBUF
<span style="color:black">TRANGROUP:191C                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">20h</span>   ; mask.lcase
<span style="color:black">TRANGROUP:1922                 </span><span style="color:navy">jz      short </span><span style="color:gray">dbare1</span>
<span style="color:black">TRANGROUP:1924                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:1926                 </span><span style="color:navy">call    </span>LowercaseString
<span style="color:black">TRANGROUP:1929
</span><span style="color:black">TRANGROUP:1929 </span><span style="color:gray">dbare1</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1929                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:192B                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:192E                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:192F                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:1931                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:1932                 </span><span style="color:navy">cmp     byte ptr es:[di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">'\'</span>
<span style="color:black">TRANGROUP:1937                 </span><span style="color:navy">jz      short </span><span style="color:gray">dbare2</span>
<span style="color:black">TRANGROUP:1939                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">'\'</span>
<span style="color:black">TRANGROUP:193C                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:193D
</span><span style="color:black">TRANGROUP:193D </span><span style="color:gray">dbare2</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:193D                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, offset </span>BWDBUF
<span style="color:black">TRANGROUP:1943                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>string_buf_ptr
<span style="color:black">TRANGROUP:1946                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1949
</span><span style="color:black">TRANGROUP:1949 </span><span style="color:gray">dbNameExt</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1949                 </span><span style="color:navy">call    </span>DisplayDotForm
<span style="color:black">TRANGROUP:194C                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:194F                 </span><span style="color:navy">call    </span>UseLine
<span style="color:black">TRANGROUP:1952
</span><span style="color:black">TRANGROUP:1952 </span><span style="color:gray">dbRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1952                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1952 </span>DisplayBare     endp
<span style="color:black">TRANGROUP:1952
</span><span style="color:black">TRANGROUP:1953
</span><span style="color:black">TRANGROUP:1953 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1953
</span><span style="color:black">TRANGROUP:1953
</span><span style="color:black">TRANGROUP:1953 </span>DisplayDotForm  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1953                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:1954                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:1955                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>TPA
<span style="color:black">TRANGROUP:1959                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:195B                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:195D                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:195F                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; filename + size filename - 1
<span style="color:black">TRANGROUP:1962                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; size filename = 8 ; size of EntryStruc.filename
<span style="color:black">TRANGROUP:1965                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:1967                 </span><span style="color:navy">std
</span><span style="color:black">TRANGROUP:1968                 </span><span style="color:navy">repe scasb
</span><span style="color:black">TRANGROUP:196A                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:196B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:196D                 </span><span style="color:navy">mov     si</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:196F                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:1972
</span><span style="color:black">TRANGROUP:1972 </span><span style="color:gray">NextNameChar</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1972                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:1973                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:1974                 </span><span style="color:navy">test    ss:</span>_Bits<span style="color:navy">, </span><span style="color:green">20h</span>   ; mask.lcase
<span style="color:black">TRANGROUP:197B                 </span><span style="color:navy">jz      short </span><span style="color:gray">ddf1</span>
<span style="color:black">TRANGROUP:197D                 </span><span style="color:navy">call    </span>LowerCase
<span style="color:black">TRANGROUP:1980
</span><span style="color:black">TRANGROUP:1980 </span><span style="color:gray">ddf1</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1980                 </span><span style="color:navy">call    </span>PRINT_CHAR
<span style="color:black">TRANGROUP:1983                 </span><span style="color:navy">loop    </span><span style="color:gray">NextNameChar</span>
<span style="color:black">TRANGROUP:1985                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1987                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:green">11</span>          ; fileext + size fileext - 1
<span style="color:black">TRANGROUP:198A                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; size fileext
<span style="color:black">TRANGROUP:198D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:198F                 </span><span style="color:navy">std
</span><span style="color:black">TRANGROUP:1990                 </span><span style="color:navy">repe scasb
</span><span style="color:black">TRANGROUP:1992                 </span><span style="color:navy">jz      short </span><span style="color:gray">ddDone</span>
<span style="color:black">TRANGROUP:1994                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:1995                 </span><span style="color:navy">add     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1997                 </span><span style="color:navy">inc     dx</span>
<span style="color:black">TRANGROUP:1998                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'.'</span>
<span style="color:black">TRANGROUP:199A                 </span><span style="color:navy">call    </span>PRINT_CHAR
<span style="color:black">TRANGROUP:199D                 </span><span style="color:navy">mov     si</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:199F                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>           ; EntryStruc.fileext
<span style="color:black">TRANGROUP:19A2
</span><span style="color:black">TRANGROUP:19A2 </span><span style="color:gray">NextExtChar</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:19A2                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:19A3                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:19A4                 </span><span style="color:navy">test    cs:</span>_Bits<span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:19AB                 </span><span style="color:navy">jz      short </span><span style="color:gray">ddf2</span>
<span style="color:black">TRANGROUP:19AD                 </span><span style="color:navy">call    </span>LowerCase
<span style="color:black">TRANGROUP:19B0
</span><span style="color:black">TRANGROUP:19B0 </span><span style="color:gray">ddf2</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:19B0                 </span><span style="color:navy">call    </span>PRINT_CHAR
<span style="color:black">TRANGROUP:19B3                 </span><span style="color:navy">loop    </span><span style="color:gray">NextExtChar</span>
<span style="color:black">TRANGROUP:19B5
</span><span style="color:black">TRANGROUP:19B5 </span><span style="color:gray">ddDone</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:19B5                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:19B6                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:19B7                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:19B8                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:19B8 </span>DisplayDotForm  endp
<span style="color:black">TRANGROUP:19B8
</span><span style="color:black">TRANGROUP:19B9
</span><span style="color:black">TRANGROUP:19B9 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:19B9
</span><span style="color:black">TRANGROUP:19B9
</span><span style="color:black">TRANGROUP:19B9 </span>DisplayFile     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:19B9                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">10h</span>   ; mask.bare
<span style="color:black">TRANGROUP:19BF                 </span><span style="color:navy">jz      short </span><span style="color:gray">dfNorm</span>
<span style="color:black">TRANGROUP:19C1                 </span><span style="color:navy">call    </span>DisplayBare
<span style="color:black">TRANGROUP:19C4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">dfRet</span>
<span style="color:black">TRANGROUP:19C6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:19C6
</span><span style="color:black">TRANGROUP:19C6 </span><span style="color:gray">dfNorm</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:19C6                 </span><span style="color:navy">call    </span>DisplayNext
<span style="color:black">TRANGROUP:19C9                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:19CF                 </span><span style="color:navy">jz      short </span><span style="color:gray">dfFul</span>
<span style="color:black">TRANGROUP:19D1                 </span><span style="color:navy">call    </span>DisplayWide
<span style="color:black">TRANGROUP:19D4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">dfCnt</span>
<span style="color:black">TRANGROUP:19D6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:19D6
</span><span style="color:black">TRANGROUP:19D6 </span><span style="color:gray">dfFul</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:19D6                 </span><span style="color:navy">call    </span>DisplayName
<span style="color:black">TRANGROUP:19D9                 </span><span style="color:navy">call    </span>DisplayTheRest
<span style="color:black">TRANGROUP:19DC                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">1</span>     ; mask.cratio
<span style="color:black">TRANGROUP:19E2                 </span><span style="color:navy">jz      short </span><span style="color:gray">dfCnt</span>
<span style="color:black">TRANGROUP:19E4                 </span><span style="color:navy">call    </span>DisplayCompRatio
<span style="color:black">TRANGROUP:19E7
</span><span style="color:black">TRANGROUP:19E7 </span><span style="color:gray">dfCnt</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:19E7                 </span><span style="color:navy">call    </span>CountFile
<span style="color:black">TRANGROUP:19EA
</span><span style="color:black">TRANGROUP:19EA </span><span style="color:gray">dfRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:19EA                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:19EA </span>DisplayFile     endp
<span style="color:black">TRANGROUP:19EA
</span><span style="color:black">TRANGROUP:19EB
</span><span style="color:black">TRANGROUP:19EB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:19EB
</span><span style="color:black">TRANGROUP:19EB
</span><span style="color:black">TRANGROUP:19EB </span>DisplayHeader   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:19EB                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">10h</span>   ; mask.bare
<span style="color:black">TRANGROUP:19F1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">dhRet</span>
<span style="color:black">TRANGROUP:19F3                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">8</span>     ; mask.subd
<span style="color:black">TRANGROUP:19F9                 </span><span style="color:navy">jz      short </span><span style="color:gray">dhNorm</span>
<span style="color:black">TRANGROUP:19FB                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:19FE                 </span><span style="color:navy">call    </span>UseLine
<span style="color:black">TRANGROUP:1A01                 </span><span style="color:navy">jmp     short </span><span style="color:gray">dhCom</span>
<span style="color:black">TRANGROUP:1A03 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1A03
</span><span style="color:black">TRANGROUP:1A03 </span><span style="color:gray">dhNorm</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1A03                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:1A05                 </span><span style="color:navy">call    </span>PRINT_CHAR
<span style="color:black">TRANGROUP:1A08
</span><span style="color:black">TRANGROUP:1A08 </span><span style="color:gray">dhCom</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1A08                 </span><span style="color:navy">call    </span>build_dir_string
<span style="color:black">TRANGROUP:1A0B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>dirhead_ptr
<span style="color:black">TRANGROUP:1A0E                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1A11                 </span><span style="color:navy">call    </span>UseLine
<span style="color:black">TRANGROUP:1A14                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:1A17                 </span><span style="color:navy">call    </span>UseLine
<span style="color:black">TRANGROUP:1A1A
</span><span style="color:black">TRANGROUP:1A1A </span><span style="color:gray">dhRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1A1A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1A1A </span>DisplayHeader   endp
<span style="color:black">TRANGROUP:1A1A
</span><span style="color:black">TRANGROUP:1A1B
</span><span style="color:black">TRANGROUP:1A1B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1A1B
</span><span style="color:black">TRANGROUP:1A1B
</span><span style="color:black">TRANGROUP:1A1B </span>DisplayName     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1A1B                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:1A1C                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:1A20                 </span><span style="color:navy">mov     si</span><span style="color:navy">, bx</span>          ; DS:SI = ptr to entry
<span style="color:black">TRANGROUP:1A22                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; EntryStruc.filename
<span style="color:black">TRANGROUP:1A25                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>CHARBUF
<span style="color:black">TRANGROUP:1A28                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:black">TRANGROUP:1A2B                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:1A2C                 </span><span style="color:navy">rep movsb               </span>; move filename to CharBuf
<span style="color:black">TRANGROUP:1A2E                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:1A30                 </span><span style="color:navy">stosb                   </span>; add a blank
<span style="color:black">TRANGROUP:1A31                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:1A34                 </span><span style="color:navy">rep movsb               </span>; add extension
<span style="color:black">TRANGROUP:1A36                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1A38                 </span><span style="color:navy">stosb                   </span>; add a NULL
<span style="color:black">TRANGROUP:1A39                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:1A3A                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">20h</span>   ; mask.lcase
<span style="color:black">TRANGROUP:1A40                 </span><span style="color:navy">jz      short </span><span style="color:gray">dn1</span>       ; lowercase not required
<span style="color:black">TRANGROUP:1A42                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>CHARBUF
<span style="color:black">TRANGROUP:1A45                 </span><span style="color:navy">call    </span>LowercaseString
<span style="color:black">TRANGROUP:1A48
</span><span style="color:black">TRANGROUP:1A48 </span><span style="color:gray">dn1</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1A48                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, offset </span>CHARBUF
<span style="color:black">TRANGROUP:1A4E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>string_buf_ptr
<span style="color:black">TRANGROUP:1A51                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1A54                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1A54 </span>DisplayName     endp
<span style="color:black">TRANGROUP:1A54
</span><span style="color:black">TRANGROUP:1A55
</span><span style="color:black">TRANGROUP:1A55 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1A55
</span><span style="color:black">TRANGROUP:1A55
</span><span style="color:black">TRANGROUP:1A55 </span>DisplayNext     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1A55                 </span><span style="color:navy">cmp     ds:</span>FileCnt<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1A5A                 </span><span style="color:navy">jz      short </span><span style="color:gray">dn1st</span>
<span style="color:black">TRANGROUP:1A5C                 </span><span style="color:navy">cmp     ds:</span>LeftOnLine<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1A61                 </span><span style="color:navy">jle     short </span><span style="color:gray">dnEol</span>
<span style="color:black">TRANGROUP:1A63                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>tab_ptr
<span style="color:black">TRANGROUP:1A66                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1A69                 </span><span style="color:navy">jmp     short </span><span style="color:gray">dnDone</span>
<span style="color:black">TRANGROUP:1A6B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1A6B
</span><span style="color:black">TRANGROUP:1A6B </span><span style="color:gray">dnEol</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1A6B                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:1A6E                 </span><span style="color:navy">call    </span>UseLine
<span style="color:black">TRANGROUP:1A71
</span><span style="color:black">TRANGROUP:1A71 </span><span style="color:gray">dn1st</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1A71                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>PerLine
<span style="color:black">TRANGROUP:1A74                 </span><span style="color:navy">mov     ds:</span>LeftOnLine<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1A77
</span><span style="color:black">TRANGROUP:1A77 </span><span style="color:gray">dnDone</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1A77                 </span><span style="color:navy">dec     ds:</span>LeftOnLine
<span style="color:black">TRANGROUP:1A7B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1A7B </span>DisplayNext     endp
<span style="color:black">TRANGROUP:1A7B
</span><span style="color:black">TRANGROUP:1A7C
</span><span style="color:black">TRANGROUP:1A7C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1A7C
</span><span style="color:black">TRANGROUP:1A7C
</span><span style="color:black">TRANGROUP:1A7C </span>DisplayTheRest  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1A7C                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:1A7D                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:1A81                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1A83                 </span><span style="color:navy">test    byte ptr es:[bp+</span><span style="color:green">12</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">10h</span> ;
<span style="color:black">TRANGROUP:1A83                                         </span>; [es:bp+EntryStruc.fileattr],ATTR_DIRECTORY
<span style="color:black">TRANGROUP:1A88                 </span><span style="color:navy">jz      short </span><span style="color:gray">drNonDir</span>
<span style="color:black">TRANGROUP:1A8A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>dmes_ptr
<span style="color:black">TRANGROUP:1A8D                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1A90                 </span><span style="color:navy">test    ds:</span>screen_f_1<span style="color:navy">, </span><span style="color:green">40h</span> ; 80 columns ?
<span style="color:black">TRANGROUP:1A95                 </span><span style="color:navy">jz      short </span><span style="color:gray">dr_0</span>      ; no
<span style="color:black">TRANGROUP:1A97                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>space_4_ptr ; 4 space chars
<span style="color:black">TRANGROUP:1A9A                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1A9D
</span><span style="color:black">TRANGROUP:1A9D </span><span style="color:gray">dr_0</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1A9D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">drCom</span>
<span style="color:black">TRANGROUP:1A9F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1A9F
</span><span style="color:black">TRANGROUP:1A9F </span><span style="color:gray">drNonDir</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1A9F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, es:[bp+</span><span style="color:green">17</span><span style="color:navy">]</span>  ; [es:bp+EntryStruc.filesize]
<span style="color:black">TRANGROUP:1AA3                 </span><span style="color:navy">mov     ds:</span>File_Size_Low<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1AA7                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, es:[bp+</span><span style="color:green">19</span><span style="color:navy">]</span>  ; [es:bp+EntryStruc.filesize+2]
<span style="color:black">TRANGROUP:1AAB                 </span><span style="color:navy">mov     ds:</span>File_Size_High<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1AAF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>disp_file_size_ptr
<span style="color:black">TRANGROUP:1AB2                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1AB5
</span><span style="color:black">TRANGROUP:1AB5 </span><span style="color:gray">drCom</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1AB5                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:[bp+</span><span style="color:green">15</span><span style="color:navy">]</span>  ; [es:bp+EntryStruc.filedate]
<span style="color:black">TRANGROUP:1AB9                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1ABB                 </span><span style="color:navy">jz      short </span><span style="color:gray">drDone</span>
<span style="color:black">TRANGROUP:1ABD                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1ABF                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">1Fh</span>
<span style="color:black">TRANGROUP:1AC2                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1AC4                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1AC6                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>
<span style="color:black">TRANGROUP:1AC8                 </span><span style="color:navy">shr     ax</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:1ACA                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">0Fh</span>
<span style="color:black">TRANGROUP:1ACC                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1ACE                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:1AD0                 </span><span style="color:navy">shr     cl</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1AD2                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:1AD4                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:green">80</span>
<span style="color:black">TRANGROUP:1AD7                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:green">100</span>
<span style="color:black">TRANGROUP:1ADA                 </span><span style="color:navy">jb      short </span><span style="color:gray">dr_1</span>
<span style="color:black">TRANGROUP:1ADC                 </span><span style="color:navy">sub     cl</span><span style="color:navy">, </span><span style="color:green">100</span>
<span style="color:black">TRANGROUP:1ADF
</span><span style="color:black">TRANGROUP:1ADF </span><span style="color:gray">dr_1</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1ADF                 </span><span style="color:navy">xchg    dh</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:1AE1                 </span><span style="color:navy">mov     ds:</span>DirDat_Yr<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1AE5                 </span><span style="color:navy">mov     ds:</span>DirDat_Mo_Day<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1AE9                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, es:[bp+</span><span style="color:green">13</span><span style="color:navy">]</span>  ; [es:bp+EntryStruc.filetime]
<span style="color:black">TRANGROUP:1AED                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">drPrint</span>
<span style="color:black">TRANGROUP:1AEF                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1AF1                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1AF3                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1AF5                 </span><span style="color:navy">shr     cl</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1AF7                 </span><span style="color:navy">shr     cl</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1AF9                 </span><span style="color:navy">xchg    ch</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:1AFB                 </span><span style="color:navy">mov     ds:</span>DirTim_Hr_Min<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1AFF
</span><span style="color:black">TRANGROUP:1AFF </span><span style="color:gray">drPrint</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1AFF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>dirdattim_ptr
<span style="color:black">TRANGROUP:1B02                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1B05
</span><span style="color:black">TRANGROUP:1B05 </span><span style="color:gray">drDone</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1B05                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:1B06                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:1B08                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1B08 </span>DisplayTheRest  endp
<span style="color:black">TRANGROUP:1B08
</span><span style="color:black">TRANGROUP:1B09
</span><span style="color:black">TRANGROUP:1B09 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1B09
</span><span style="color:black">TRANGROUP:1B09
</span><span style="color:black">TRANGROUP:1B09 </span>DisplayCompRatio proc near              <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1B09                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:1B0A                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:1B0E                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[bx+</span><span style="color:#ff8000">15h</span><span style="color:navy">]</span> ; mov al, es:[bx].compratio
<span style="color:black">TRANGROUP:1B0E                                         </span>; mov al,[es:bx+EntryStruc.compratio]
<span style="color:black">TRANGROUP:1B12                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:1B14                 </span><span style="color:navy">jz      short </span><span style="color:gray">dcrRet</span>
<span style="color:black">TRANGROUP:1B16                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1B18                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:1B1A                 </span><span style="color:navy">shr     ah</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:1B1C                 </span><span style="color:navy">inc     ah</span>
<span style="color:black">TRANGROUP:1B1E                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">0Fh</span>
<span style="color:black">TRANGROUP:1B20                 </span><span style="color:navy">mov     ds:</span>Dir_CRatio_1<span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:1B24                 </span><span style="color:navy">mov     ds:</span>Dir_CRatio_2<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1B27                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DirCompRatio_Ptr
<span style="color:black">TRANGROUP:1B2A                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1B2D
</span><span style="color:black">TRANGROUP:1B2D </span><span style="color:gray">dcrRet</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1B2D                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:1B2E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1B2E </span>DisplayCompRatio endp
<span style="color:black">TRANGROUP:1B2E
</span><span style="color:black">TRANGROUP:1B2F
</span><span style="color:black">TRANGROUP:1B2F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1B2F
</span><span style="color:black">TRANGROUP:1B2F
</span><span style="color:black">TRANGROUP:1B2F </span>DisplayTrailer  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1B2F                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">10h</span>   ; mask.bare
<span style="color:black">TRANGROUP:1B35                 </span><span style="color:navy">jnz     short </span>dtrRet
<span style="color:black">TRANGROUP:1B37                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:1B3A                 </span><span style="color:navy">call    </span>UseLine
<span style="color:black">TRANGROUP:1B3D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>FileCnt
<span style="color:black">TRANGROUP:1B40
</span><span style="color:black">TRANGROUP:1B40 </span>DisplayCntSiz<span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1B40                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">1</span>     ; mask.cratio
<span style="color:black">TRANGROUP:1B46                 </span><span style="color:navy">jz      short </span><span style="color:gray">dtrSize</span>
<span style="color:black">TRANGROUP:1B48                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:1B49                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>ccluUsedDir
<span style="color:black">TRANGROUP:1B4C                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1B4E                 </span><span style="color:navy">jz      short </span><span style="color:gray">dtrSkipRatio</span>
<span style="color:black">TRANGROUP:1B50                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>csecUsedDir<span style="color:navy">+</span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:1B54                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>csecUsedDir
<span style="color:black">TRANGROUP:1B58                 </span><span style="color:navy">call    </span>ComputeRatio
<span style="color:black">TRANGROUP:1B5B                 </span><span style="color:navy">mov     ds:</span>Dir_CRatio_1<span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:1B5F                 </span><span style="color:navy">mov     ds:</span>Dir_CRatio_2<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1B62                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>AveCompRatio_Ptr
<span style="color:black">TRANGROUP:1B65                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1B68                 </span><span style="color:navy">call    </span>UseLine
<span style="color:black">TRANGROUP:1B6B
</span><span style="color:black">TRANGROUP:1B6B </span><span style="color:gray">dtrSkipRatio</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1B6B                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:1B6C
</span><span style="color:black">TRANGROUP:1B6C </span><span style="color:gray">dtrSize</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1B6C                 </span><span style="color:navy">mov     ds:</span>Dir_Num<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1B6F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>dirmes_ptr
<span style="color:black">TRANGROUP:1B72                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1B75                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>bytes_ptr
<span style="color:black">TRANGROUP:1B78                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1B7B                 </span><span style="color:navy">call    </span>UseLine
<span style="color:black">TRANGROUP:1B7E
</span><span style="color:black">TRANGROUP:1B7E </span>dtrRet<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1B7E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1B7E </span>DisplayTrailer  endp
<span style="color:black">TRANGROUP:1B7E
</span><span style="color:black">TRANGROUP:1B7F
</span><span style="color:black">TRANGROUP:1B7F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1B7F
</span><span style="color:black">TRANGROUP:1B7F
</span><span style="color:black">TRANGROUP:1B7F </span>DisplayWide     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1B7F                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:1B80                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:1B84                 </span><span style="color:navy">test    byte ptr [bx+</span><span style="color:green">12</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">10h</span> ;
<span style="color:black">TRANGROUP:1B84                                         </span>; [bx+EntryStruc.fileattr],ATTR_DIRECTORY
<span style="color:black">TRANGROUP:1B88                 </span><span style="color:navy">jz      short </span><span style="color:gray">dw1</span>
<span style="color:black">TRANGROUP:1B8A                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'['</span>
<span style="color:black">TRANGROUP:1B8C                 </span><span style="color:navy">call    </span>PRINT_CHAR
<span style="color:black">TRANGROUP:1B8F
</span><span style="color:black">TRANGROUP:1B8F </span><span style="color:gray">dw1</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1B8F                 </span><span style="color:navy">call    </span>DisplayDotForm
<span style="color:black">TRANGROUP:1B92                 </span><span style="color:navy">test    byte ptr [bx+</span><span style="color:green">12</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">10h</span>
<span style="color:black">TRANGROUP:1B96                 </span><span style="color:navy">jz      short </span><span style="color:gray">dw2</span>
<span style="color:black">TRANGROUP:1B98                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">']'</span>
<span style="color:black">TRANGROUP:1B9A                 </span><span style="color:navy">call    </span>PRINT_CHAR
<span style="color:black">TRANGROUP:1B9D
</span><span style="color:black">TRANGROUP:1B9D </span><span style="color:gray">dw2</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1B9D                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">12</span>          ; size filename + size fileext + 1
<span style="color:black">TRANGROUP:1BA0                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1BA2                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">dwDone</span>
<span style="color:black">TRANGROUP:1BA4                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:1BA6
</span><span style="color:black">TRANGROUP:1BA6 </span><span style="color:gray">dw3</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1BA6                 </span><span style="color:navy">call    </span>PRINT_CHAR
<span style="color:black">TRANGROUP:1BA9                 </span><span style="color:navy">loop    </span><span style="color:gray">dw3</span>
<span style="color:black">TRANGROUP:1BAB
</span><span style="color:black">TRANGROUP:1BAB </span><span style="color:gray">dwDone</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1BAB                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:1BAC                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1BAC </span>DisplayWide     endp
<span style="color:black">TRANGROUP:1BAC
</span><span style="color:black">TRANGROUP:1BAD
</span><span style="color:black">TRANGROUP:1BAD </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1BAD
</span><span style="color:black">TRANGROUP:1BAD
</span><span style="color:black">TRANGROUP:1BAD </span>EndPage         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1BAD                 </span><span style="color:navy">test    ds:</span>_Bits<span style="color:navy">, </span><span style="color:green">4</span>     ; mask.pagd
<span style="color:black">TRANGROUP:1BB3                 </span><span style="color:navy">jz      short </span><span style="color:gray">epNew</span>
<span style="color:black">TRANGROUP:1BB5                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:1BB6                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:1BB7                 </span><span style="color:navy">call    </span>PAUSE
<span style="color:black">TRANGROUP:1BBA                 </span><span style="color:navy">call    </span>build_dir_string
<span style="color:black">TRANGROUP:1BBD                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>dircont_ptr
<span style="color:black">TRANGROUP:1BC0                 </span><span style="color:navy">call    </span>Printf_Crlf
<span style="color:black">TRANGROUP:1BC3                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:1BC4                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:1BC5
</span><span style="color:black">TRANGROUP:1BC5 </span><span style="color:gray">epNew</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1BC5                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>LinPerPag
<span style="color:black">TRANGROUP:1BC8                 </span><span style="color:navy">dec     ax</span>
<span style="color:black">TRANGROUP:1BC9                 </span><span style="color:navy">mov     ds:</span>LeftOnPage<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1BCC                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1BCC </span>EndPage         endp
<span style="color:black">TRANGROUP:1BCC
</span><span style="color:black">TRANGROUP:1BCD
</span><span style="color:black">TRANGROUP:1BCD </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1BCD
</span><span style="color:black">TRANGROUP:1BCD
</span><span style="color:black">TRANGROUP:1BCD </span>GetDriveLtr     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1BCD                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span><span style="color:green">5Ch</span>      ; [FCB]
<span style="color:black">TRANGROUP:1BD0                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1BD2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">gdl1</span>
<span style="color:black">TRANGROUP:1BD4                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>CURDRV
<span style="color:black">TRANGROUP:1BD7                 </span><span style="color:navy">inc     al</span>
<span style="color:black">TRANGROUP:1BD9
</span><span style="color:black">TRANGROUP:1BD9 </span><span style="color:gray">gdl1</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1BD9                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">40h</span>         ; 'A'-1
<span style="color:black">TRANGROUP:1BDB                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:1BDD                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1BDD </span>GetDriveLtr     endp
<span style="color:black">TRANGROUP:1BDD
</span><span style="color:black">TRANGROUP:1BDE
</span><span style="color:black">TRANGROUP:1BDE </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1BDE
</span><span style="color:black">TRANGROUP:1BDE
</span><span style="color:black">TRANGROUP:1BDE </span>SetupParamError proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1BDE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">TRANGROUP:1BE1                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">2</span> ; parse_msg_class
<span style="color:black">TRANGROUP:1BE6                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1BE9                 </span><span style="color:navy">mov     si</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>      ; [bx+ResultBuffer.ValuePtr]
<span style="color:black">TRANGROUP:1BEC                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:1BF0                 </span><span style="color:navy">mov     ds:</span>extend_buf_sub<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; one_subst
<span style="color:black">TRANGROUP:1BF5                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:1BF8                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1BF8 </span>SetupParamError endp
<span style="color:black">TRANGROUP:1BF8
</span><span style="color:black">TRANGROUP:1BF9
</span><span style="color:black">TRANGROUP:1BF9 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1BF9
</span><span style="color:black">TRANGROUP:1BF9
</span><span style="color:black">TRANGROUP:1BF9 </span>UseLine         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1BF9                 </span><span style="color:navy">dec     ds:</span>LeftOnPage
<span style="color:black">TRANGROUP:1BFD                 </span><span style="color:navy">cmp     ds:</span>LeftOnPage<span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:1C02                 </span><span style="color:navy">ja      short </span><span style="color:gray">ulRet</span>
<span style="color:black">TRANGROUP:1C04                 </span><span style="color:navy">call    </span>EndPage
<span style="color:black">TRANGROUP:1C07
</span><span style="color:black">TRANGROUP:1C07 </span><span style="color:gray">ulRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1C07                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1C07 </span>UseLine         endp
<span style="color:black">TRANGROUP:1C07
</span><span style="color:black">TRANGROUP:1C08
</span><span style="color:black">TRANGROUP:1C08 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1C08
</span><span style="color:black">TRANGROUP:1C08
</span><span style="color:black">TRANGROUP:1C08 </span>ZeroTotals      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1C08                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>FileCntTotal
<span style="color:black">TRANGROUP:1C0B                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">26</span>          ; size FileCntTotal + size FileSizTotal
<span style="color:black">TRANGROUP:1C0B                                         </span>; + csecSIZE + ccluSIZE
<span style="color:black">TRANGROUP:1C0E                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1C10                 </span><span style="color:navy">rep stosb
</span><span style="color:black">TRANGROUP:1C12                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1C12 </span>ZeroTotals      endp
<span style="color:black">TRANGROUP:1C12
</span><span style="color:maroon">TRANGROUP:1C13 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:1C13
</span><span style="color:maroon">TRANGROUP:1C13 </span>CtrlCHandler<span style="color:navy">:                           </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:1C13                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">TRANGROUP:1C14                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">TRANGROUP:1C15                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">TRANGROUP:1C16                 </span>assume ds:TRANGROUP
<span style="color:maroon">TRANGROUP:1C16                 </span><span style="color:navy">push    ax</span>
<span style="color:maroon">TRANGROUP:1C17                 </span><span style="color:navy">push    bx</span>
<span style="color:maroon">TRANGROUP:1C18                 </span><span style="color:navy">push    dx</span>
<span style="color:maroon">TRANGROUP:1C19                 </span><span style="color:navy">call    </span>CloseCVF        ; close CVF file if open
<span style="color:maroon">TRANGROUP:1C1C                 </span><span style="color:navy">call    </span>RestUDir        ; restore user's default directory
<span style="color:maroon">TRANGROUP:1C1F                 </span><span style="color:navy">pop     dx</span>
<span style="color:maroon">TRANGROUP:1C20                 </span><span style="color:navy">pop     bx</span>
<span style="color:maroon">TRANGROUP:1C21                 </span><span style="color:navy">pop     ax</span>
<span style="color:maroon">TRANGROUP:1C22                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">TRANGROUP:1C23                 </span>assume ds:nothing
<span style="color:maroon">TRANGROUP:1C23                 </span><span style="color:navy">jmp     cs:</span>OldCtrlCHandler
<span style="color:black">TRANGROUP:1C28
</span><span style="color:black">TRANGROUP:1C28 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1C28
</span><span style="color:black">TRANGROUP:1C28
</span><span style="color:black">TRANGROUP:1C28 </span>LowerCase       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1C28                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'A'</span>
<span style="color:black">TRANGROUP:1C2A                 </span><span style="color:navy">jb      short </span><span style="color:gray">lcRet</span>
<span style="color:black">TRANGROUP:1C2C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'Z'</span>
<span style="color:black">TRANGROUP:1C2E                 </span><span style="color:navy">ja      short </span><span style="color:gray">lcRet</span>
<span style="color:black">TRANGROUP:1C30                 </span><span style="color:navy">or      al</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:1C32
</span><span style="color:black">TRANGROUP:1C32 </span><span style="color:gray">lcRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1C32                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1C32 </span>LowerCase       endp
<span style="color:black">TRANGROUP:1C32
</span><span style="color:black">TRANGROUP:1C33
</span><span style="color:black">TRANGROUP:1C33 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1C33
</span><span style="color:black">TRANGROUP:1C33
</span><span style="color:black">TRANGROUP:1C33 </span>LowercaseString proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1C33                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:1C34                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:1C36                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:1C37
</span><span style="color:black">TRANGROUP:1C37 </span><span style="color:gray">NextChar</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1C37                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:1C38                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1C3A                 </span><span style="color:navy">jz      short </span><span style="color:gray">EndOfString</span>
<span style="color:black">TRANGROUP:1C3C                 </span><span style="color:navy">call    </span>LowerCase
<span style="color:black">TRANGROUP:1C3F                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:1C40                 </span><span style="color:navy">jmp     short </span><span style="color:gray">NextChar</span>
<span style="color:black">TRANGROUP:1C42 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1C42
</span><span style="color:black">TRANGROUP:1C42 </span><span style="color:gray">EndOfString</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1C42                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:1C43                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1C43 </span>LowercaseString endp
<span style="color:black">TRANGROUP:1C43
</span><span style="color:black">TRANGROUP:1C44
</span><span style="color:black">TRANGROUP:1C44 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1C44
</span><span style="color:black">TRANGROUP:1C44
</span><span style="color:black">TRANGROUP:1C44 </span>screen_f_set    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1C44                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:1C45                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:1C48                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1C4A                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:1C4A                 </span><span style="color:navy">cmp     word ptr ds:</span><span style="color:green">4Ah</span><span style="color:navy">, </span><span style="color:green">40</span> ; Check ROMBIOS DATA colums per row value (80 or 40)
<span style="color:black">TRANGROUP:1C4F                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:1C50                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:1C50                 </span><span style="color:navy">jnz     short </span><span style="color:gray">columns_80</span> ; 80 columns per line (video mode 3)
<span style="color:black">TRANGROUP:1C52                 </span><span style="color:navy">and     ds:</span>screen_f_1<span style="color:navy">, </span><span style="color:green">0BFh</span> ; ~40h ; not 40h
<span style="color:black">TRANGROUP:1C57                 </span><span style="color:navy">mov     word ptr ds:</span>screen_f_2<span style="color:navy">, </span><span style="color:#ff8000">0A0Ah</span> ; 10 bytes (file size field)
<span style="color:black">TRANGROUP:1C5D                 </span><span style="color:navy">and     ds:</span>screen_f_3<span style="color:navy">, </span><span style="color:green">0BFh</span>
<span style="color:black">TRANGROUP:1C62                 </span><span style="color:navy">and     ds:</span>screen_f_4<span style="color:navy">, </span><span style="color:green">0BFh</span>
<span style="color:black">TRANGROUP:1C67                 </span><span style="color:navy">mov     word ptr ds:</span>screen_f_5<span style="color:navy">, </span><span style="color:#ff8000">0A0Ah</span>
<span style="color:black">TRANGROUP:1C6D                 </span><span style="color:navy">and     ds:</span>screen_f_6<span style="color:navy">, </span><span style="color:green">0BFh</span>
<span style="color:black">TRANGROUP:1C72                 </span><span style="color:navy">mov     word ptr ds:</span>screen_f_7<span style="color:navy">, </span><span style="color:#ff8000">1C1Ch</span> ; 28 bytes (free bytes field)
<span style="color:black">TRANGROUP:1C78                 </span><span style="color:navy">jmp     short </span><span style="color:gray">screen_f_set_retn</span>
<span style="color:black">TRANGROUP:1C7A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1C7A
</span><span style="color:black">TRANGROUP:1C7A </span><span style="color:gray">columns_80</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1C7A                 </span><span style="color:navy">or      ds:</span>screen_f_1<span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:1C7F                 </span><span style="color:navy">mov     word ptr ds:</span>screen_f_2<span style="color:navy">, </span><span style="color:#ff8000">0E0Eh</span> ; 14 bytes (file size field)
<span style="color:black">TRANGROUP:1C85                 </span><span style="color:navy">or      ds:</span>screen_f_3<span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:1C8A                 </span><span style="color:navy">or      ds:</span>screen_f_4<span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:1C8F                 </span><span style="color:navy">mov     word ptr ds:</span>screen_f_5<span style="color:navy">, </span><span style="color:#ff8000">0E0Eh</span>
<span style="color:black">TRANGROUP:1C95                 </span><span style="color:navy">or      ds:</span>screen_f_6<span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:1C9A                 </span><span style="color:navy">mov     word ptr ds:</span>screen_f_7<span style="color:navy">, </span><span style="color:#ff8000">2020h</span> ; 32 bytes (free bytes field)
<span style="color:black">TRANGROUP:1CA0
</span><span style="color:black">TRANGROUP:1CA0 </span><span style="color:gray">screen_f_set_retn</span><span style="color:navy">:                      </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1CA0                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1CA0 </span>screen_f_set    endp
<span style="color:black">TRANGROUP:1CA0
</span><span style="color:black">TRANGROUP:1CA1
</span><span style="color:black">TRANGROUP:1CA1 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1CA1
</span><span style="color:black">TRANGROUP:1CA1
</span><span style="color:black">TRANGROUP:1CA1 </span>OpenCVF         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1CA1                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:1CA4                 </span><span style="color:navy">mov     ds:</span>fhCVF<span style="color:navy">, ax</span>    ; CVF not open
<span style="color:black">TRANGROUP:1CA7                 </span><span style="color:navy">mov     ds:</span>entInBuf<span style="color:navy">, ax</span> ; no FAT entries in buffers
<span style="color:black">TRANGROUP:1CAA                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, ds:</span><span style="color:green">5Ch</span>      ; [FCB]
<span style="color:black">TRANGROUP:1CAE                 </span><span style="color:navy">or      dl</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:1CB0                 </span><span style="color:navy">jz      short </span><span style="color:gray">ocvf_default</span>
<span style="color:black">TRANGROUP:1CB2                 </span><span style="color:navy">dec     dl</span>
<span style="color:black">TRANGROUP:1CB4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ocvf_swap_info</span>
<span style="color:black">TRANGROUP:1CB6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1CB6
</span><span style="color:black">TRANGROUP:1CB6 </span><span style="color:gray">ocvf_errorj</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1CB6                 </span><span style="color:navy">jmp     </span><span style="color:gray">ocvf_error</span>
<span style="color:black">TRANGROUP:1CB9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1CB9
</span><span style="color:black">TRANGROUP:1CB9 </span><span style="color:gray">ocvf_default</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1CB9                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, ds:</span>CURDRV
<span style="color:black">TRANGROUP:1CBD
</span><span style="color:black">TRANGROUP:1CBD </span><span style="color:gray">ocvf_swap_info</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1CBD                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4A11h</span>       ; multMagicDrv
<span style="color:black">TRANGROUP:1CC0                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; MD_DRIVE_MAP
<span style="color:black">TRANGROUP:1CC3                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>
<span style="color:black">TRANGROUP:1CC5                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1CC7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ocvf_errorj</span>
<span style="color:black">TRANGROUP:1CC9                 </span><span style="color:navy">test    bl</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:1CCC                 </span><span style="color:navy">jz      short </span><span style="color:gray">ocvf_errorj</span>
<span style="color:black">TRANGROUP:1CCE                 </span><span style="color:navy">and     bl</span><span style="color:navy">, </span><span style="color:green">7Fh</span>
<span style="color:black">TRANGROUP:1CD1                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:1CD2                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:1CD3                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4A11h</span>
<span style="color:black">TRANGROUP:1CD6                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:1CD8                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:1CDB                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>
<span style="color:black">TRANGROUP:1CDD                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:1CDE                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:1CDF                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1CE1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ocvf_error</span>
<span style="color:black">TRANGROUP:1CE3                 </span><span style="color:navy">and     bl</span><span style="color:navy">, </span><span style="color:green">7Fh</span>
<span style="color:black">TRANGROUP:1CE6                 </span><span style="color:navy">xchg    bx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1CE8                 </span><span style="color:navy">cmp     dl</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:1CEA                 </span><span style="color:navy">jz      short </span><span style="color:gray">ocvf_got_host</span>
<span style="color:black">TRANGROUP:1CEC                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:1CEE
</span><span style="color:black">TRANGROUP:1CEE </span><span style="color:gray">ocvf_got_host</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1CEE                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>szCVF
<span style="color:black">TRANGROUP:1CF1                 </span><span style="color:navy">mov     al</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:1CF3                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">'A'</span>
<span style="color:black">TRANGROUP:1CF5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:1CF7                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:1CF8                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:1CF9                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>sCVFRoot <span style="color:gray">; &quot;\\DBLSPACE.&quot;
</span><span style="color:black">TRANGROUP:1CFC                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">10</span>          ; cbCVFRoot
<span style="color:black">TRANGROUP:1CFF                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:1D01                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:1D04                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1D06                 </span><span style="color:navy">std
</span><span style="color:black">TRANGROUP:1D07                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:1D08                 </span><span style="color:navy">mov     al</span><span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:1D0A                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:green">10</span>
<span style="color:black">TRANGROUP:1D0C                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:1D0F
</span><span style="color:black">TRANGROUP:1D0F </span><span style="color:gray">ocvf_1</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1D0F                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:1D11                 </span><span style="color:navy">div     bl</span>
<span style="color:black">TRANGROUP:1D13                 </span><span style="color:navy">add     ah</span><span style="color:navy">, </span><span style="color:green">'0'</span>
<span style="color:black">TRANGROUP:1D16                 </span><span style="color:navy">xchg    ah</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1D18                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:1D19                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:1D1B                 </span><span style="color:navy">loop    </span><span style="color:gray">ocvf_1</span>
<span style="color:black">TRANGROUP:1D1D                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:1D1E                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>szCVF
<span style="color:black">TRANGROUP:1D21                 </span><span style="color:navy">mov     word ptr [di+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">5652h</span> ; 'RV'  (DRVSPACE)
<span style="color:black">TRANGROUP:1D26                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3D00h</span>
<span style="color:black">TRANGROUP:1D29                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>szCVF
<span style="color:black">TRANGROUP:1D2C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - OPEN DISK FILE WITH HANDLE
<span style="color:black">TRANGROUP:1D2C                                         </span>; DS:DX -&gt; ASCIZ filename
<span style="color:black">TRANGROUP:1D2C                                         </span>; AL = access mode
<span style="color:black">TRANGROUP:1D2C                                         </span>; 0 - read
<span style="color:black">TRANGROUP:1D2E                 </span><span style="color:navy">jnb     short </span><span style="color:gray">ocvf_2</span>
<span style="color:black">TRANGROUP:1D30                 </span><span style="color:navy">mov     word ptr [di+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">4C42h</span> ; 'BL'  (DBLSPACE)
<span style="color:black">TRANGROUP:1D35                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3D00h</span>
<span style="color:black">TRANGROUP:1D38                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>szCVF
<span style="color:black">TRANGROUP:1D3B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - OPEN DISK FILE WITH HANDLE
<span style="color:black">TRANGROUP:1D3B                                         </span>; DS:DX -&gt; ASCIZ filename
<span style="color:black">TRANGROUP:1D3B                                         </span>; AL = access mode
<span style="color:black">TRANGROUP:1D3B                                         </span>; 0 - read
<span style="color:black">TRANGROUP:1D3D                 </span><span style="color:navy">jb      short </span><span style="color:gray">ocvf_error</span>
<span style="color:black">TRANGROUP:1D3F
</span><span style="color:black">TRANGROUP:1D3F </span><span style="color:gray">ocvf_2</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1D3F                 </span><span style="color:navy">mov     ds:</span>fhCVF<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1D42                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1D44                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Fh</span>         ; READ
<span style="color:black">TRANGROUP:1D46                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">64</span>          ; size MD_BPB
<span style="color:black">TRANGROUP:1D49                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>MDBPB
<span style="color:black">TRANGROUP:1D4C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - READ FROM FILE WITH HANDLE
<span style="color:black">TRANGROUP:1D4C                                         </span>; BX = file handle, CX = number of bytes to read
<span style="color:black">TRANGROUP:1D4C                                         </span>; DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:1D4E                 </span><span style="color:navy">jb      short </span>ocvf_error1
<span style="color:black">TRANGROUP:1D50                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1D52                 </span><span style="color:navy">jz      short </span><span style="color:gray">ocvf_pick_cluster_size</span>
<span style="color:black">TRANGROUP:1D54
</span><span style="color:black">TRANGROUP:1D54 </span>ocvf_error1<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1D54                 </span><span style="color:navy">call    </span>CloseCVF
<span style="color:black">TRANGROUP:1D57
</span><span style="color:black">TRANGROUP:1D57 </span><span style="color:gray">ocvf_error</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1D57                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:1D58                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ocvf_ret</span>
<span style="color:black">TRANGROUP:1D5A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1D5A
</span><span style="color:black">TRANGROUP:1D5A </span><span style="color:gray">ocvf_pick_cluster_size</span><span style="color:navy">:                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1D5A                 </span><span style="color:navy">cmp     ds:</span>fUseHostSize<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1D5F                 </span><span style="color:navy">jz      short </span><span style="color:gray">ovcf_use_CVF_size</span>
<span style="color:black">TRANGROUP:1D61                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">1Ch</span>         ; Get_Drive_Data
<span style="color:black">TRANGROUP:1D63                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, ds:</span>szCVF
<span style="color:black">TRANGROUP:1D67                 </span><span style="color:navy">sub     dl</span><span style="color:navy">, </span><span style="color:green">40h</span>         ; 'A'-1
<span style="color:black">TRANGROUP:1D6A                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:1D6B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET ALLOCATION TABLE INFORMATION FOR SPECIFIC DRIVE
<span style="color:black">TRANGROUP:1D6B                                         </span>; DL = drive number to check (0=default, 1=A, etc)
<span style="color:black">TRANGROUP:1D6D                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:1D6E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:1D70                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ovcf_set_size</span>
<span style="color:black">TRANGROUP:1D72
</span><span style="color:black">TRANGROUP:1D72 </span><span style="color:gray">ovcf_use_CVF_size</span><span style="color:navy">:                      </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1D72                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>MDBPB<span style="color:navy">+</span><span style="color:green">0Dh</span> ; mov al,[MDBPB.dos_bpb.csecPerClu]
<span style="color:black">TRANGROUP:1D75
</span><span style="color:black">TRANGROUP:1D75 </span><span style="color:gray">ovcf_set_size</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1D75                 </span><span style="color:navy">mov     ds:</span>csecPerCluster<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1D78                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>BYTCNT
<span style="color:black">TRANGROUP:1D7B                 </span><span style="color:navy">mov     ds:</span>savBytCnt<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1D7E                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">8000h</span>       ; 32*1024
<span style="color:black">TRANGROUP:1D81                 </span><span style="color:navy">jnb     short </span><span style="color:gray">ocvf_big_buf</span>
<span style="color:black">TRANGROUP:1D83                 </span><span style="color:navy">mov     ds:</span>cFATEntries<span style="color:navy">, </span><span style="color:green">32</span> ; cRES_FAT_ENTRIES
<span style="color:black">TRANGROUP:1D89                 </span><span style="color:navy">mov     ds:</span>segFATBuf<span style="color:navy">, ds</span>
<span style="color:black">TRANGROUP:1D8D                 </span><span style="color:navy">mov     ds:</span>pbufDOSFAT<span style="color:navy">, offset </span>bufDOSFAT
<span style="color:black">TRANGROUP:1D93                 </span><span style="color:navy">mov     ds:</span>pbufMDFAT<span style="color:navy">, offset </span>bufMDFAT
<span style="color:black">TRANGROUP:1D99                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ocvf_success</span>
<span style="color:black">TRANGROUP:1D9B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1D9B
</span><span style="color:black">TRANGROUP:1D9B </span><span style="color:gray">ocvf_big_buf</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1D9B                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">256</span>         ; cBIG_FAT_ENTRIES
<span style="color:black">TRANGROUP:1D9E                 </span><span style="color:navy">mov     ds:</span>cFATEntries<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1DA2                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>           ; 6 bytes per entry (2 for DOS FAT, 4 MD FAT)
<span style="color:black">TRANGROUP:1DA4                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, bx</span>          ; entries * 2
<span style="color:black">TRANGROUP:1DA6                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1DA8                 </span><span style="color:navy">add     bx</span><span style="color:navy">, cx</span>          ; bx = # entries * 6
<span style="color:black">TRANGROUP:1DAA                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1DAC                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">0FE00h</span>
<span style="color:black">TRANGROUP:1DAF                 </span><span style="color:navy">mov     ds:</span>BYTCNT<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1DB2                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:1DB6                 </span><span style="color:navy">mov     ds:</span>segFATBuf<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1DBA                 </span><span style="color:navy">mov     ds:</span>pbufDOSFAT<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1DBD                 </span><span style="color:navy">add     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1DBF                 </span><span style="color:navy">mov     ds:</span>pbufMDFAT<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1DC2
</span><span style="color:black">TRANGROUP:1DC2 </span><span style="color:gray">ocvf_success</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1DC2                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:1DC3
</span><span style="color:black">TRANGROUP:1DC3 </span><span style="color:gray">ocvf_ret</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1DC3                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1DC3 </span>OpenCVF         endp
<span style="color:black">TRANGROUP:1DC3
</span><span style="color:black">TRANGROUP:1DC4
</span><span style="color:black">TRANGROUP:1DC4 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1DC4
</span><span style="color:black">TRANGROUP:1DC4
</span><span style="color:black">TRANGROUP:1DC4 </span>CloseCVF        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1DC4                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>fhCVF
<span style="color:black">TRANGROUP:1DC8                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:1DCB                 </span><span style="color:navy">jz      short </span><span style="color:gray">ccvf_ret</span>
<span style="color:black">TRANGROUP:1DCD                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>         ; CLOSE
<span style="color:black">TRANGROUP:1DCF                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">TRANGROUP:1DCF                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:1DD1                 </span><span style="color:navy">mov     ds:</span>fhCVF<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:1DD7                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>savBytCnt
<span style="color:black">TRANGROUP:1DDA                 </span><span style="color:navy">mov     ds:</span>BYTCNT<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1DDD
</span><span style="color:black">TRANGROUP:1DDD </span><span style="color:gray">ccvf_ret</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1DDD                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1DDD </span>CloseCVF        endp
<span style="color:black">TRANGROUP:1DDD
</span><span style="color:black">TRANGROUP:1DDE
</span><span style="color:black">TRANGROUP:1DDE </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1DDE
</span><span style="color:black">TRANGROUP:1DDE
</span><span style="color:black">TRANGROUP:1DDE </span>CalcCompRatio   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1DDE                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:1DDF                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:1DE0                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:1DE1                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:1DE2                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>segFATBuf
<span style="color:black">TRANGROUP:1DE6                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1DE8                 </span><span style="color:navy">mov     ds:</span>ccluUsed<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1DEC                 </span><span style="color:navy">mov     ds:</span>csecUsed<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1DF0                 </span><span style="color:navy">mov     ds:</span>csecUsed<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1DF4
</span><span style="color:black">TRANGROUP:1DF4 </span><span style="color:gray">ccr_next</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1DF4                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:1DF7                 </span><span style="color:navy">jb      short </span><span style="color:gray">ccr_screwy</span>
<span style="color:black">TRANGROUP:1DF9                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFF0h</span>
<span style="color:black">TRANGROUP:1DFC                 </span><span style="color:navy">jnb     short </span><span style="color:gray">ccr_eof</span>
<span style="color:black">TRANGROUP:1DFE                 </span><span style="color:navy">call    </span>CheckFATBuffers
<span style="color:black">TRANGROUP:1E01                 </span><span style="color:navy">jb      short </span><span style="color:gray">ccr_screwy</span>
<span style="color:black">TRANGROUP:1E03                 </span><span style="color:navy">call    </span>GetMDFATEntry
<span style="color:black">TRANGROUP:1E06                 </span><span style="color:navy">jb      short </span><span style="color:gray">ccr_screwy</span>
<span style="color:black">TRANGROUP:1E08                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1E0A                 </span><span style="color:navy">jnb     short </span><span style="color:gray">ccr_screwy</span>
<span style="color:black">TRANGROUP:1E0C                 </span><span style="color:navy">mov     ch</span><span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:1E0E                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1E10                 </span><span style="color:navy">and     bx</span><span style="color:navy">, </span><span style="color:green">0F00h</span>
<span style="color:black">TRANGROUP:1E14                 </span><span style="color:navy">xchg    bh</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:1E16                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:1E17                 </span><span style="color:navy">add     ds:</span>csecUsed<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1E1B                 </span><span style="color:navy">adc     ds:</span>csecUsed<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1E20                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1E22                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:1E24                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:1E26                 </span><span style="color:navy">shr     al</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:1E28                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">0Fh</span>
<span style="color:black">TRANGROUP:1E2B                 </span><span style="color:navy">dec     bx</span>
<span style="color:black">TRANGROUP:1E2C                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1E2E                 </span><span style="color:navy">jnb     short </span><span style="color:gray">ccr_1</span>
<span style="color:black">TRANGROUP:1E30                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1E32
</span><span style="color:black">TRANGROUP:1E32 </span><span style="color:gray">ccr_1</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1E32                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, ds:</span>csecPerCluster
<span style="color:black">TRANGROUP:1E36                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:1E38                 </span><span style="color:navy">add     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1E3A                 </span><span style="color:navy">div     cl</span>
<span style="color:black">TRANGROUP:1E3C                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:1E3E                 </span><span style="color:navy">add     ds:</span>ccluUsed<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1E42                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1E44                 </span><span style="color:navy">call    </span>GetDOSFATEntry
<span style="color:black">TRANGROUP:1E47                 </span><span style="color:navy">jb      short </span><span style="color:gray">ccr_screwy</span>
<span style="color:black">TRANGROUP:1E49                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ccr_next</span>
<span style="color:black">TRANGROUP:1E4B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1E4B
</span><span style="color:black">TRANGROUP:1E4B </span><span style="color:gray">ccr_eof</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1E4B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>ccluUsed
<span style="color:black">TRANGROUP:1E4E                 </span><span style="color:navy">add     ds:</span>ccluUsedDir<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1E52                 </span><span style="color:navy">add     ds:</span>ccluUsedTotal<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1E56                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>csecUsed<span style="color:navy">+</span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:1E5A                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>csecUsed
<span style="color:black">TRANGROUP:1E5E                 </span><span style="color:navy">add     ds:</span>csecUsedDir<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1E62                 </span><span style="color:navy">adc     ds:</span>csecUsedDir<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1E66                 </span><span style="color:navy">add     word ptr ds:</span>csecUsedTotal<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1E6A                 </span><span style="color:navy">adc     word ptr ds:</span>csecUsedTotal<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1E6E                 </span><span style="color:navy">call    </span>ComputeRatio
<span style="color:black">TRANGROUP:1E71                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ccr_ret</span>
<span style="color:black">TRANGROUP:1E73 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1E73
</span><span style="color:black">TRANGROUP:1E73 </span><span style="color:gray">ccr_screwy</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1E73                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1E75
</span><span style="color:black">TRANGROUP:1E75 </span><span style="color:gray">ccr_ret</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1E75                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:1E76                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:1E77                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:1E78                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:1E79                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1E79 </span>CalcCompRatio   endp
<span style="color:black">TRANGROUP:1E79
</span><span style="color:black">TRANGROUP:1E7A
</span><span style="color:black">TRANGROUP:1E7A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1E7A
</span><span style="color:black">TRANGROUP:1E7A
</span><span style="color:black">TRANGROUP:1E7A </span>ComputeRatio    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1E7A                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:1E7B                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:1E7C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1E7E                 </span><span style="color:navy">mov     di</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1E80                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, ds:</span>csecPerCluster
<span style="color:black">TRANGROUP:1E84                 </span><span style="color:navy">xor     bh</span><span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:1E86                 </span><span style="color:navy">mul     bx</span>
<span style="color:black">TRANGROUP:1E88                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:1E8A                 </span><span style="color:navy">call    </span>Div32
<span style="color:black">TRANGROUP:1E8D                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:1E8E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1E90                 </span><span style="color:navy">or      ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1E92                 </span><span style="color:navy">jz      short </span><span style="color:gray">cr_got_tenths</span>
<span style="color:black">TRANGROUP:1E94                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1E96                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1E98                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1E9A                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">10</span>
<span style="color:black">TRANGROUP:1E9D                 </span><span style="color:navy">mul     bx</span>
<span style="color:black">TRANGROUP:1E9F                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1EA0                 </span><span style="color:navy">mul     bx</span>
<span style="color:black">TRANGROUP:1EA2                 </span><span style="color:navy">add     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1EA4                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:1EA6                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:1EA8                 </span><span style="color:navy">shr     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1EAA                 </span><span style="color:navy">rcr     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1EAC                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1EAE                 </span><span style="color:navy">adc     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1EB0                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:1EB2                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:1EB4                 </span><span style="color:navy">call    </span>Div32
<span style="color:black">TRANGROUP:1EB7
</span><span style="color:black">TRANGROUP:1EB7 </span><span style="color:gray">cr_got_tenths</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1EB7                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:1EB8                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:1EBA                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">10</span>
<span style="color:black">TRANGROUP:1EBC                 </span><span style="color:navy">jb      short </span><span style="color:gray">cr_exit</span>
<span style="color:black">TRANGROUP:1EBE                 </span><span style="color:navy">inc     ah</span>
<span style="color:black">TRANGROUP:1EC0                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:1EC2
</span><span style="color:black">TRANGROUP:1EC2 </span><span style="color:gray">cr_exit</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1EC2                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:1EC3                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:1EC4                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1EC4 </span>ComputeRatio    endp
<span style="color:black">TRANGROUP:1EC4
</span><span style="color:black">TRANGROUP:1EC5
</span><span style="color:black">TRANGROUP:1EC5 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1EC5
</span><span style="color:black">TRANGROUP:1EC5
</span><span style="color:black">TRANGROUP:1EC5 </span>Div32           proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1EC5                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">d32_16bit</span>
<span style="color:black">TRANGROUP:1EC7                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:1EC8                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:1EC9                 </span><span style="color:navy">xor     si</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:1ECB                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:1ECD
</span><span style="color:black">TRANGROUP:1ECD </span><span style="color:gray">div32_1</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1ECD                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1ECF                 </span><span style="color:navy">sbb     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1ED1                 </span><span style="color:navy">jb      short </span><span style="color:gray">d32_too_far</span>
<span style="color:black">TRANGROUP:1ED3                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:1ED6                 </span><span style="color:navy">adc     di</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:1ED9                 </span><span style="color:navy">jmp     short </span><span style="color:gray">div32_1</span>
<span style="color:black">TRANGROUP:1EDB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1EDB
</span><span style="color:black">TRANGROUP:1EDB </span><span style="color:gray">d32_too_far</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1EDB                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1EDD                 </span><span style="color:navy">adc     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1EDF                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:1EE1                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:1EE3                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1EE4                 </span><span style="color:navy">xchg    dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1EE6                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:1EE7                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:1EE8                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1EE9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1EE9
</span><span style="color:black">TRANGROUP:1EE9 </span><span style="color:gray">d32_16bit</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1EE9                 </span><span style="color:navy">div     bx</span>
<span style="color:black">TRANGROUP:1EEB                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1EED                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1EEF                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1EF1                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1EF1 </span>Div32           endp
<span style="color:black">TRANGROUP:1EF1
</span><span style="color:black">TRANGROUP:1EF2
</span><span style="color:black">TRANGROUP:1EF2 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1EF2
</span><span style="color:black">TRANGROUP:1EF2
</span><span style="color:black">TRANGROUP:1EF2 </span>GetDOSFATEntry  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1EF2                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, ds:</span>entInBuf
<span style="color:black">TRANGROUP:1EF6                 </span><span style="color:navy">jb      short </span><span style="color:gray">gdf_ret</span>
<span style="color:black">TRANGROUP:1EF8                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1EFA                 </span><span style="color:navy">cmp     ds:</span>MDBPB<span style="color:navy">+</span><span style="color:green">3Dh</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; cmp MDBPB.f12BitFAT, 0
<span style="color:black">TRANGROUP:1EFF                 </span><span style="color:navy">jnz     short </span><span style="color:gray">gdf_12</span>
<span style="color:black">TRANGROUP:1F01                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1F03                 </span><span style="color:navy">add     bx</span><span style="color:navy">, ds:</span>pbufDOSFAT
<span style="color:black">TRANGROUP:1F07                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:[bx]</span>
<span style="color:black">TRANGROUP:1F0A
</span><span style="color:black">TRANGROUP:1F0A </span><span style="color:gray">gdf_success</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1F0A                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:1F0B
</span><span style="color:black">TRANGROUP:1F0B </span><span style="color:gray">gdf_ret</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1F0B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1F0C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1F0C
</span><span style="color:black">TRANGROUP:1F0C </span><span style="color:gray">gdf_12</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1F0C                 </span><span style="color:navy">shr     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1F0E                 </span><span style="color:navy">add     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1F10                 </span><span style="color:navy">add     bx</span><span style="color:navy">, ds:</span>pbufDOSFAT
<span style="color:black">TRANGROUP:1F14                 </span><span style="color:navy">test    al</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1F16                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:[bx]</span>
<span style="color:black">TRANGROUP:1F19                 </span><span style="color:navy">jnz     short </span><span style="color:gray">gdf_odd</span>
<span style="color:black">TRANGROUP:1F1B                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">0FFFh</span>
<span style="color:black">TRANGROUP:1F1E                 </span><span style="color:navy">jmp     short </span><span style="color:gray">gdf_testEOF</span>
<span style="color:black">TRANGROUP:1F20 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1F20
</span><span style="color:black">TRANGROUP:1F20 </span><span style="color:gray">gdf_odd</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1F20                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1F22                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:1F24                 </span><span style="color:navy">shr     ax</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:1F26                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1F28
</span><span style="color:black">TRANGROUP:1F28 </span><span style="color:gray">gdf_testEOF</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1F28                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0FF0h</span>
<span style="color:black">TRANGROUP:1F2B                 </span><span style="color:navy">jb      short </span><span style="color:gray">gdf_success</span>
<span style="color:black">TRANGROUP:1F2D                 </span><span style="color:navy">or      ah</span><span style="color:navy">, </span><span style="color:green">0F0h</span>
<span style="color:black">TRANGROUP:1F30                 </span><span style="color:navy">jmp     short </span><span style="color:gray">gdf_success</span>
<span style="color:black">TRANGROUP:1F30 </span>GetDOSFATEntry  endp
<span style="color:black">TRANGROUP:1F30
</span><span style="color:black">TRANGROUP:1F32
</span><span style="color:black">TRANGROUP:1F32 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1F32
</span><span style="color:black">TRANGROUP:1F32
</span><span style="color:black">TRANGROUP:1F32 </span>GetMDFATEntry   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1F32                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1F34                 </span><span style="color:navy">sub     bx</span><span style="color:navy">, ds:</span>entInBuf
<span style="color:black">TRANGROUP:1F38                 </span><span style="color:navy">jb      short </span><span style="color:gray">gmf_ret</span>
<span style="color:black">TRANGROUP:1F3A                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1F3C                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>           ; * 4 bytes per MDFAT entry
<span style="color:black">TRANGROUP:1F3E                 </span><span style="color:navy">add     bx</span><span style="color:navy">, ds:</span>pbufMDFAT
<span style="color:black">TRANGROUP:1F42                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, es:[bx]</span>
<span style="color:black">TRANGROUP:1F45                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:[bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:1F49                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:1F4A
</span><span style="color:black">TRANGROUP:1F4A </span><span style="color:gray">gmf_ret</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1F4A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1F4A </span>GetMDFATEntry   endp
<span style="color:black">TRANGROUP:1F4A
</span><span style="color:black">TRANGROUP:1F4B
</span><span style="color:black">TRANGROUP:1F4B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1F4B
</span><span style="color:black">TRANGROUP:1F4B
</span><span style="color:black">TRANGROUP:1F4B </span>CheckFATBuffers proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1F4B                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1F4D                 </span><span style="color:navy">sub     bx</span><span style="color:navy">, ds:</span>entInBuf
<span style="color:black">TRANGROUP:1F51                 </span><span style="color:navy">jb      short </span><span style="color:gray">cfb_load_fat</span>
<span style="color:black">TRANGROUP:1F53                 </span><span style="color:navy">sub     bx</span><span style="color:navy">, ds:</span>cFATEntries
<span style="color:black">TRANGROUP:1F57                 </span><span style="color:navy">jnb     short </span><span style="color:gray">cfb_load_fat</span>
<span style="color:black">TRANGROUP:1F59                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:1F5A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1F5B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1F5B
</span><span style="color:black">TRANGROUP:1F5B </span><span style="color:gray">cfb_load_fat</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1F5B                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:1F5C                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:1F5D                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:1F5E                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1F60                 </span><span style="color:navy">cmp     ds:</span>MDBPB<span style="color:navy">+</span><span style="color:green">3Dh</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; cmp MDBPB.f12BitFAT, 0
<span style="color:black">TRANGROUP:1F65                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cfb_12</span>
<span style="color:black">TRANGROUP:1F67                 </span><span style="color:navy">mov     ds:</span>entInBuf<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1F6A                 </span><span style="color:navy">shl     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1F6C                 </span><span style="color:navy">rcl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1F6E                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cfb_common</span>
<span style="color:black">TRANGROUP:1F70 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:1F70
</span><span style="color:black">TRANGROUP:1F70 </span><span style="color:gray">cfb_12</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1F70                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">0FEh</span>        ; not 1
<span style="color:black">TRANGROUP:1F72                 </span><span style="color:navy">mov     ds:</span>entInBuf<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1F75                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1F77                 </span><span style="color:navy">shr     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1F79                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1F7B
</span><span style="color:black">TRANGROUP:1F7B </span><span style="color:gray">cfb_common</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1F7B                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1F7D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, word ptr ds:</span>MDBPB<span style="color:navy">+</span><span style="color:green">27h</span> ; mov ax, MDBPB.csecMDReserved
<span style="color:black">TRANGROUP:1F7D                                         </span>; # magicDrv reserved sectors
<span style="color:black">TRANGROUP:1F80                 </span><span style="color:navy">add     ax</span><span style="color:navy">, word ptr ds:</span>MDBPB<span style="color:navy">+</span><span style="color:green">0Eh</span> ; add ax, MDBPB.dos_bpb.csecReserved
<span style="color:black">TRANGROUP:1F84                 </span><span style="color:navy">mul     word ptr ds:</span>MDBPB<span style="color:navy">+</span><span style="color:green">0Bh</span> ; mul MDBPB.dos_bpb.cbPerSec
<span style="color:black">TRANGROUP:1F84                                         </span>; DX:AX = DOS FAT file origin
<span style="color:black">TRANGROUP:1F88                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1F8A                 </span><span style="color:navy">adc     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1F8C                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>cFATEntries
<span style="color:black">TRANGROUP:1F90                 </span><span style="color:navy">shl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1F92                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>pbufDOSFAT
<span style="color:black">TRANGROUP:1F96                 </span><span style="color:navy">call    </span>ReadCVFile
<span style="color:black">TRANGROUP:1F99                 </span><span style="color:navy">jb      short </span><span style="color:gray">cfb_error</span>
<span style="color:black">TRANGROUP:1F9B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, word ptr ds:</span>MDBPB<span style="color:navy">+</span><span style="color:green">24h</span> ; mov ax, MDBPB.secMDFATStart
<span style="color:black">TRANGROUP:1F9E                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:1F9F                 </span><span style="color:navy">mul     word ptr ds:</span>MDBPB<span style="color:navy">+</span><span style="color:green">0Bh</span> ; mul MDBPB.dos_bpb.cbPerSec
<span style="color:black">TRANGROUP:1F9F                                         </span>; DX:AX = MDFAT file offset
<span style="color:black">TRANGROUP:1F9F                                         </span>;
<span style="color:black">TRANGROUP:1FA3                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>entInBuf
<span style="color:black">TRANGROUP:1FA7                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1FA9                 </span><span style="color:navy">add     bx</span><span style="color:navy">, word ptr ds:</span>MDBPB<span style="color:navy">+</span><span style="color:green">2Dh</span> ; add bx, MDBPB.cluFirstData
<span style="color:black">TRANGROUP:1FA9                                         </span>; CX:BX = MDFAT entry #
<span style="color:black">TRANGROUP:1FAD                 </span><span style="color:navy">adc     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1FAF                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1FB1                 </span><span style="color:navy">rcl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1FB3                 </span><span style="color:navy">shl     bx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1FB5                 </span><span style="color:navy">rcl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1FB7                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:1FB9                 </span><span style="color:navy">adc     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1FBB                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>cFATEntries
<span style="color:black">TRANGROUP:1FBF                 </span><span style="color:navy">shl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1FC1                 </span><span style="color:navy">shl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:1FC3                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>pbufMDFAT
<span style="color:black">TRANGROUP:1FC7                 </span><span style="color:navy">call    </span>ReadCVFile
<span style="color:black">TRANGROUP:1FCA                 </span><span style="color:navy">jnb     short </span><span style="color:gray">cfb_ret</span>
<span style="color:black">TRANGROUP:1FCC
</span><span style="color:black">TRANGROUP:1FCC </span><span style="color:gray">cfb_error</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1FCC                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:1FCD
</span><span style="color:black">TRANGROUP:1FCD </span><span style="color:gray">cfb_ret</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1FCD                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:1FCE                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:1FCF                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:1FD0                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1FD0 </span>CheckFATBuffers endp
<span style="color:black">TRANGROUP:1FD0
</span><span style="color:black">TRANGROUP:1FD1
</span><span style="color:black">TRANGROUP:1FD1 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1FD1
</span><span style="color:black">TRANGROUP:1FD1
</span><span style="color:black">TRANGROUP:1FD1 </span>ReadCVFile      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1FD1                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:1FD2                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:1FD3                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:1FD5                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:1FD7                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4200h</span>       ; (LSEEK shl 8) or 0
<span style="color:black">TRANGROUP:1FDA                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>fhCVF
<span style="color:black">TRANGROUP:1FDE                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:black">TRANGROUP:1FDE                                         </span>; AL = method: offset from beginning of file
<span style="color:black">TRANGROUP:1FE0                 </span><span style="color:navy">jb      short </span><span style="color:gray">rcf_ret</span>
<span style="color:black">TRANGROUP:1FE2                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Fh</span>         ; READ
<span style="color:black">TRANGROUP:1FE4                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:1FE5                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:1FE6                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:1FE7                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:1FE8                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:1FE9                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - READ FROM FILE WITH HANDLE
<span style="color:black">TRANGROUP:1FE9                                         </span>; BX = file handle, CX = number of bytes to read
<span style="color:black">TRANGROUP:1FE9                                         </span>; DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:1FEB                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:1FEC                 </span><span style="color:navy">jb      short </span><span style="color:gray">rcf_ret</span>
<span style="color:black">TRANGROUP:1FEE                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:1FF0                 </span><span style="color:navy">jz      short </span><span style="color:gray">rcf_ret</span>
<span style="color:black">TRANGROUP:1FF2                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:1FF3
</span><span style="color:black">TRANGROUP:1FF3 </span><span style="color:gray">rcf_ret</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1FF3                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:1FF3 </span>ReadCVFile      endp
<span style="color:black">TRANGROUP:1FF3
</span><span style="color:black">TRANGROUP:1FF4
</span><span style="color:black">TRANGROUP:1FF4 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:1FF4
</span><span style="color:black">TRANGROUP:1FF4
</span><span style="color:black">TRANGROUP:1FF4 </span>PAUSE           proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:1FF4                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>PAUSEMES_PTR
<span style="color:black">TRANGROUP:1FF7                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:1FFA                 </span><span style="color:navy">call    </span>GETKEYSTROKE
<span style="color:black">TRANGROUP:1FFD                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:2000                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2000 </span>PAUSE           endp
<span style="color:black">TRANGROUP:2000
</span><span style="color:black">TRANGROUP:2001
</span><span style="color:black">TRANGROUP:2001 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2001
</span><span style="color:black">TRANGROUP:2001
</span><span style="color:black">TRANGROUP:2001 </span>ERASE           proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2001
</span><span style="color:black">TRANGROUP:2001 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:3C16 SIZE 00000116 BYTES
</span><span style="color:black">TRANGROUP:2001
</span><span style="color:black">TRANGROUP:2001                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:2004                 </span><span style="color:navy">mov     ds:</span>COMSW<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:200A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_ERASE
<span style="color:black">TRANGROUP:200D                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:200F
</span><span style="color:black">TRANGROUP:200F </span><span style="color:gray">erase_scan</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:200F                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2011                 </span><span style="color:navy">call    </span>Parse_With_Msg
<span style="color:black">TRANGROUP:2014                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:2017                 </span><span style="color:navy">jz      short </span><span style="color:gray">good_line</span>
<span style="color:black">TRANGROUP:2019                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:201C                 </span><span style="color:navy">jnz     short </span>errj2
<span style="color:black">TRANGROUP:201E                 </span><span style="color:navy">cmp     ds:</span>PARSE1_SYN<span style="color:navy">, offset </span>SLASH_P_SYN <span style="color:gray">; &quot;/P&quot;
</span><span style="color:black">TRANGROUP:2024                 </span><span style="color:navy">jz      short </span><span style="color:gray">set_erase_prompt</span>
<span style="color:black">TRANGROUP:2026                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:2027                 </span><span style="color:navy">lds     si</span><span style="color:navy">, ds:</span>PARSE1_ADDR
<span style="color:black">TRANGROUP:202B                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">':'</span> ; colon_char
<span style="color:black">TRANGROUP:202F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">erase_drive_ok</span>
<span style="color:black">TRANGROUP:2031                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; end_of_line_out
<span style="color:black">TRANGROUP:2035                 </span><span style="color:navy">jnz     short </span><span style="color:gray">erase_drive_ok</span>
<span style="color:black">TRANGROUP:2037                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:203A                 </span><span style="color:navy">jmp     short </span>extend_setup
<span style="color:black">TRANGROUP:203C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:203C
</span><span style="color:black">TRANGROUP:203C </span><span style="color:gray">erase_drive_ok</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:203C                 </span><span style="color:navy">call    </span>Move_To_SrcBuf
<span style="color:black">TRANGROUP:203F                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:2040                 </span><span style="color:navy">jmp     short </span><span style="color:gray">erase_scan</span>
<span style="color:black">TRANGROUP:2042 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2042
</span><span style="color:black">TRANGROUP:2042 </span><span style="color:gray">set_erase_prompt</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2042                 </span><span style="color:navy">cmp     ds:</span>COMSW<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2047                 </span><span style="color:navy">jz      short </span><span style="color:gray">ok_to_set_erase_prompt</span>
<span style="color:black">TRANGROUP:2049                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; MoreArgs_Ptr
<span style="color:black">TRANGROUP:204C                 </span><span style="color:navy">call    </span>setup_parse_error_msg
<span style="color:black">TRANGROUP:204F                 </span><span style="color:navy">jmp     short </span>errj2
<span style="color:black">TRANGROUP:2051 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2051
</span><span style="color:black">TRANGROUP:2051 </span><span style="color:gray">ok_to_set_erase_prompt</span><span style="color:navy">:                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2051                 </span><span style="color:navy">inc     ds:</span>COMSW
<span style="color:black">TRANGROUP:2055                 </span><span style="color:navy">jmp     short </span><span style="color:gray">erase_scan</span>
<span style="color:black">TRANGROUP:2057 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2057
</span><span style="color:black">TRANGROUP:2057 </span><span style="color:gray">good_line</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2057                 </span><span style="color:navy">call    </span>PathCrunch
<span style="color:black">TRANGROUP:205A                 </span><span style="color:navy">jnb     short </span><span style="color:gray">checkdr</span>
<span style="color:black">TRANGROUP:205C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Msg_Numb
<span style="color:black">TRANGROUP:205F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2062                 </span><span style="color:navy">jnz     short </span>extend_setup
<span style="color:black">TRANGROUP:2064                 </span><span style="color:navy">cmp     ds:</span>DestIsDir<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2069                 </span><span style="color:navy">jnz     short </span>badpath_err
<span style="color:black">TRANGROUP:206B
</span><span style="color:black">TRANGROUP:206B </span><span style="color:gray">checkdr</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:206B                 </span><span style="color:navy">cmp     ds:</span>COMSW<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2070                 </span><span style="color:navy">jz      short </span><span style="color:gray">notest2j</span>
<span style="color:black">TRANGROUP:2072                 </span><span style="color:navy">jmp     </span><span style="color:gray">slashp_erase</span>
<span style="color:black">TRANGROUP:2075 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2075
</span><span style="color:black">TRANGROUP:2075 </span><span style="color:gray">notest2j</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2075                 </span><span style="color:navy">jmp     </span><span style="color:gray">notest2</span>
<span style="color:black">TRANGROUP:2075 </span>ERASE           endp
<span style="color:black">TRANGROUP:2075
</span><span style="color:black">TRANGROUP:2078 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2078 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR BUILDPATH
</span><span style="color:black">TRANGROUP:2078
</span><span style="color:black">TRANGROUP:2078 </span>badpath_err<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2078                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; ERROR_PATH_NOT_FOUND
<span style="color:black">TRANGROUP:207B
</span><span style="color:black">TRANGROUP:207B </span>extend_setup<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:207B                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; ext_msg_class
<span style="color:black">TRANGROUP:2080                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:2083                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2086
</span><span style="color:black">TRANGROUP:2086 </span>errj2<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2086                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:2086 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR BUILDPATH
</span><span style="color:black">TRANGROUP:2089
</span><span style="color:black">TRANGROUP:2089 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2089
</span><span style="color:black">TRANGROUP:2089
</span><span style="color:black">TRANGROUP:2089 </span>CRENAME         proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2089                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:208C                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_RENAME
<span style="color:black">TRANGROUP:208F                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2091                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2093                 </span><span style="color:navy">call    </span>Parse_With_Msg
<span style="color:black">TRANGROUP:2096                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2099                 </span><span style="color:navy">jnz     short </span><span style="color:gray">crename_parse_error</span>
<span style="color:black">TRANGROUP:209B                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:209C                 </span><span style="color:navy">lds     si</span><span style="color:navy">, ds:</span>PARSE1_ADDR
<span style="color:black">TRANGROUP:20A0                 </span><span style="color:navy">call    </span>Move_To_SrcBuf
<span style="color:black">TRANGROUP:20A3                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:20A4                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:20A6                 </span><span style="color:navy">call    </span>Parse_With_Msg
<span style="color:black">TRANGROUP:20A9                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:20AC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">crename_parse_error</span>
<span style="color:black">TRANGROUP:20AE                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:20AF                 </span><span style="color:navy">lds     si</span><span style="color:navy">, ds:</span>PARSE1_ADDR
<span style="color:black">TRANGROUP:20B3                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:20B5                 </span><span style="color:navy">cmp     [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:20B8                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ren_no_drive</span>
<span style="color:black">TRANGROUP:20BA                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">2</span> ; parse_msg_class
<span style="color:black">TRANGROUP:20BF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:20C2                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, </span><span style="color:#ff8000">0Ah</span> ; BadParm_ptr
<span style="color:black">TRANGROUP:20C8                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:20C9
</span><span style="color:black">TRANGROUP:20C9 </span><span style="color:gray">crename_parse_error</span><span style="color:navy">:                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:20C9                 </span><span style="color:navy">jmp     short </span><span style="color:gray">errj</span>
<span style="color:black">TRANGROUP:20CB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:20CB
</span><span style="color:black">TRANGROUP:20CB </span><span style="color:gray">ren_no_drive</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:20CB                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">6Ch</span>         ; FCB+10h
<span style="color:black">TRANGROUP:20CE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">2901h</span>
<span style="color:black">TRANGROUP:20D1                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - PARSE FILENAME
<span style="color:black">TRANGROUP:20D1                                         </span>; DS:SI -&gt; string to parse
<span style="color:black">TRANGROUP:20D1                                         </span>; ES:DI -&gt; buffer to fill with unopened FCB
<span style="color:black">TRANGROUP:20D1                                         </span>; AL = bit mask to control parsing
<span style="color:black">TRANGROUP:20D3                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:20D4                 </span><span style="color:navy">mov     ds:</span>One_Char_Val<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:20D7                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:20D8                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_RENAME
<span style="color:black">TRANGROUP:20DB                 </span><span style="color:navy">call    </span>parse_check_eol
<span style="color:black">TRANGROUP:20DE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">crename_parse_error</span>
<span style="color:black">TRANGROUP:20E0                 </span><span style="color:navy">call    </span>PathCrunch
<span style="color:black">TRANGROUP:20E3                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADCPMES_PTR
<span style="color:black">TRANGROUP:20E6                 </span><span style="color:navy">jz      short </span>errj2
<span style="color:black">TRANGROUP:20E8                 </span><span style="color:navy">jnb     short </span><span style="color:gray">notest3</span>
<span style="color:black">TRANGROUP:20EA                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>Msg_Numb
<span style="color:black">TRANGROUP:20ED                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:20F0                 </span><span style="color:navy">jnz     short </span>extend_setup
<span style="color:black">TRANGROUP:20F2                 </span><span style="color:navy">cmp     ds:</span>DestIsDir<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:20F7                 </span><span style="color:navy">jz      short </span><span style="color:gray">notest3</span>
<span style="color:black">TRANGROUP:20F9                 </span><span style="color:navy">jmp     </span>badpath_err
<span style="color:black">TRANGROUP:20FC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:20FC
</span><span style="color:black">TRANGROUP:20FC </span><span style="color:gray">notest3</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:20FC                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>One_Char_Val
<span style="color:black">TRANGROUP:20FF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>INORNOT_PTR
<span style="color:black">TRANGROUP:2102                 </span><span style="color:navy">call    </span>pathchrcmp
<span style="color:black">TRANGROUP:2105                 </span><span style="color:navy">jz      short </span><span style="color:gray">errj</span>
<span style="color:black">TRANGROUP:2107                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">17h</span>
<span style="color:black">TRANGROUP:2109                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">5Ch</span>         ; FCB
<span style="color:black">TRANGROUP:210C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - RENAME FILE via FCB
<span style="color:black">TRANGROUP:210C                                         </span>; DS:DX -&gt; FCB
<span style="color:black">TRANGROUP:210C                                         </span>; FCB contains new name starting at byte 17h.
<span style="color:black">TRANGROUP:210E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:2110                 </span><span style="color:navy">jnz     short </span><span style="color:gray">renameok</span>
<span style="color:black">TRANGROUP:2112                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:2115                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:2116                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:2118
</span><span style="color:black">TRANGROUP:2118 </span><span style="color:gray">renameok</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2118                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:2119                 </span><span style="color:navy">call    </span>RestUDir
<span style="color:black">TRANGROUP:211C                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:211D                 </span><span style="color:navy">inc     al</span>
<span style="color:black">TRANGROUP:211F                 </span><span style="color:navy">jz      short </span><span style="color:gray">rn1</span>
<span style="color:black">TRANGROUP:2121                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2122 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2122
</span><span style="color:black">TRANGROUP:2122 </span><span style="color:gray">rn1</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2122                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:2123                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:2126                 </span><span style="color:navy">jz      short </span><span style="color:gray">use_renerr</span>
<span style="color:black">TRANGROUP:2128                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>
<span style="color:black">TRANGROUP:212B                 </span><span style="color:navy">jz      short </span><span style="color:gray">use_renerr</span>
<span style="color:black">TRANGROUP:212D                 </span><span style="color:navy">jmp     </span>extend_setup
<span style="color:black">TRANGROUP:2130 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2130
</span><span style="color:black">TRANGROUP:2130 </span><span style="color:gray">use_renerr</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2130                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>RENERR_PTR
<span style="color:black">TRANGROUP:2133
</span><span style="color:black">TRANGROUP:2133 </span><span style="color:gray">errj</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2133                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:2133 </span>CRENAME         endp
<span style="color:black">TRANGROUP:2133
</span><span style="color:maroon">TRANGROUP:2136 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:2136                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2137
</span><span style="color:black">TRANGROUP:2137 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2137
</span><span style="color:black">TRANGROUP:2137
</span><span style="color:black">TRANGROUP:2137 </span>TYPEFIL         proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2137                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:213A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_MRDIR
<span style="color:black">TRANGROUP:213D                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:213F                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2141                 </span><span style="color:navy">call    </span>Parse_With_Msg
<span style="color:black">TRANGROUP:2144                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2147                 </span><span style="color:navy">jnz     short </span>typefil_parse_error
<span style="color:black">TRANGROUP:2149                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:214A                 </span><span style="color:navy">lds     si</span><span style="color:navy">, ds:</span>PARSE1_ADDR
<span style="color:black">TRANGROUP:214E                 </span><span style="color:navy">call    </span>Move_To_SrcBuf
<span style="color:black">TRANGROUP:2151                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:2152                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_MRDIR
<span style="color:black">TRANGROUP:2155                 </span><span style="color:navy">call    </span>parse_check_eol
<span style="color:black">TRANGROUP:2158                 </span><span style="color:navy">jz      short </span>gottarg
<span style="color:black">TRANGROUP:215A
</span><span style="color:black">TRANGROUP:215A </span>typefil_parse_error<span style="color:navy">:                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:215A                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:215D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:215D
</span><span style="color:black">TRANGROUP:215D </span>gottarg<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:215D                 </span><span style="color:navy">call    </span>SETPATH
<span style="color:black">TRANGROUP:2160                 </span><span style="color:navy">test    ds:</span>DestInfo<span style="color:navy">, </span><span style="color:green">2</span>  ; 00000010b
<span style="color:black">TRANGROUP:2165                 </span><span style="color:navy">jz      short </span><span style="color:gray">nowilds</span>
<span style="color:black">TRANGROUP:2167                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>INORNOT_PTR
<span style="color:black">TRANGROUP:216A                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:216D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:216D
</span><span style="color:black">TRANGROUP:216D </span><span style="color:gray">nowilds</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:216D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">6C00h</span>       ; ExtOpen SHL 8
<span style="color:black">TRANGROUP:2170                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; read_open_mode
<span style="color:black">TRANGROUP:2173                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2175                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">101h</span>        ; read_open_flag
<span style="color:black">TRANGROUP:2178                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>SrcBuf
<span style="color:black">TRANGROUP:217B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 4.0 - EXTENDED OPEN/CREATE
<span style="color:black">TRANGROUP:217B                                         </span>; BL = open mode as in AL for normal open (INT 21h/AH=3Dh)
<span style="color:black">TRANGROUP:217B                                         </span>; BH = flags, CX = create attribute, DL = action if file exists/does not exists
<span style="color:black">TRANGROUP:217B                                         </span>; DH = 00h (reserved), DS:SI -&gt; ASCIZ file name
<span style="color:black">TRANGROUP:217D                 </span><span style="color:navy">jnb     short </span><span style="color:gray">typecont</span>
<span style="color:black">TRANGROUP:217F
</span><span style="color:black">TRANGROUP:217F </span><span style="color:gray">typerr</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:217F                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:2180                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2181                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:2181                 </span><span style="color:navy">call    </span>Set_Ext_Error_Msg
<span style="color:black">TRANGROUP:2184                 </span><span style="color:navy">mov     </span>string_ptr_2<span style="color:navy">, offset </span>SrcBuf
<span style="color:black">TRANGROUP:218A                 </span><span style="color:navy">mov     </span>extend_buf_sub<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; one_subst
<span style="color:black">TRANGROUP:218F                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:2192 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2192
</span><span style="color:black">TRANGROUP:2192 </span><span style="color:gray">typecont</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2192                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2194                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4400h</span>
<span style="color:black">TRANGROUP:2197                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - GET DEVICE INFORMATION
<span style="color:black">TRANGROUP:2197                                         </span>; BX = file or device handle
<span style="color:black">TRANGROUP:2199                 </span><span style="color:navy">test    dl</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:219C                 </span><span style="color:navy">jz      short </span><span style="color:gray">not_device</span>
<span style="color:black">TRANGROUP:219E                 </span><span style="color:navy">mov     </span>TypeFilSiz<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:21A4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">dotype</span>
<span style="color:black">TRANGROUP:21A6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:21A6
</span><span style="color:black">TRANGROUP:21A6 </span><span style="color:gray">not_device</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:21A6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4202h</span>
<span style="color:black">TRANGROUP:21A9                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:21AB                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:21AD                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:black">TRANGROUP:21AD                                         </span>; AL = method: offset from end of file
<span style="color:black">TRANGROUP:21AF                 </span><span style="color:navy">mov     </span>TypeFilSiz<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:21B2                 </span><span style="color:navy">mov     </span>TypeFilSiz<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:21B6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4200h</span>
<span style="color:black">TRANGROUP:21B9                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:21BB                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:black">TRANGROUP:21BB                                         </span>; AL = method: offset from beginning of file
<span style="color:black">TRANGROUP:21BD
</span><span style="color:black">TRANGROUP:21BD </span><span style="color:gray">dotype</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:21BD                 </span><span style="color:navy">mov     </span>zflag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:21C2                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, </span>TPA
<span style="color:black">TRANGROUP:21C6                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:21C6                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:21C8
</span><span style="color:black">TRANGROUP:21C8 </span><span style="color:gray">typelp</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:21C8                 </span><span style="color:navy">cmp     cs:</span>zflag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:21CE                 </span><span style="color:navy">jz      short </span><span style="color:gray">tf1</span>
<span style="color:black">TRANGROUP:21D0                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:21D1 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:21D1
</span><span style="color:black">TRANGROUP:21D1 </span><span style="color:gray">tf1</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:21D1                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, cs:</span>BYTCNT
<span style="color:black">TRANGROUP:21D6                 </span><span style="color:navy">cmp     cs:</span>TypeFilSiz<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:21DC                 </span><span style="color:navy">jz      short </span><span style="color:gray">typ_read</span>
<span style="color:black">TRANGROUP:21DE                 </span><span style="color:navy">cmp     cs:</span>TypeFilSiz<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:21E4                 </span><span style="color:navy">jz      short </span><span style="color:gray">lt64k</span>
<span style="color:black">TRANGROUP:21E6                 </span><span style="color:navy">sub     cs:</span>TypeFilSiz<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:21EB                 </span><span style="color:navy">sbb     cs:</span>TypeFilSiz<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:21F1                 </span><span style="color:navy">jmp     short </span><span style="color:gray">typ_read</span>
<span style="color:black">TRANGROUP:21F3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:21F3
</span><span style="color:black">TRANGROUP:21F3 </span><span style="color:gray">lt64k</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:21F3                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, cs:</span>TypeFilSiz
<span style="color:black">TRANGROUP:21F8                 </span><span style="color:navy">jbe     short </span><span style="color:gray">gtbuf</span>
<span style="color:black">TRANGROUP:21FA                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, cs:</span>TypeFilSiz
<span style="color:black">TRANGROUP:21FF                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">typelp_ret</span>
<span style="color:black">TRANGROUP:2201                 </span><span style="color:navy">mov     cs:</span>TypeFilSiz<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2208                 </span><span style="color:navy">jmp     short </span><span style="color:gray">typ_read</span>
<span style="color:black">TRANGROUP:220A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:220A
</span><span style="color:black">TRANGROUP:220A </span><span style="color:gray">gtbuf</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:220A                 </span><span style="color:navy">sub     cs:</span>TypeFilSiz<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:220F
</span><span style="color:black">TRANGROUP:220F </span><span style="color:gray">typ_read</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:220F                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Fh</span>
<span style="color:black">TRANGROUP:2211                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - READ FROM FILE WITH HANDLE
<span style="color:black">TRANGROUP:2211                                         </span>; BX = file handle, CX = number of bytes to read
<span style="color:black">TRANGROUP:2211                                         </span>; DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:2213                 </span><span style="color:navy">jnb     short </span><span style="color:gray">tf2</span>
<span style="color:black">TRANGROUP:2215                 </span><span style="color:navy">jmp     </span><span style="color:gray">typerr</span>
<span style="color:black">TRANGROUP:2218 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2218
</span><span style="color:black">TRANGROUP:2218 </span><span style="color:gray">tf2</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2218                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:221A                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">typelp_ret</span>
<span style="color:black">TRANGROUP:221C                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:221D                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:221E                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:2220                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:2221                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1Ah</span>
<span style="color:black">TRANGROUP:2223                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:2225                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:2226                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2227                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:222A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">foundz</span>
<span style="color:black">TRANGROUP:222C                 </span><span style="color:navy">cmp     byte ptr [di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">1Ah</span>
<span style="color:black">TRANGROUP:2230                 </span><span style="color:navy">jnz     short </span><span style="color:gray">typecont2</span>
<span style="color:black">TRANGROUP:2232
</span><span style="color:black">TRANGROUP:2232 </span><span style="color:gray">foundz</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2232                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2234                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:2235                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:2236                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2237                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:2237                 </span><span style="color:navy">not     es:</span>zflag
<span style="color:black">TRANGROUP:223C
</span><span style="color:black">TRANGROUP:223C </span><span style="color:gray">typecont2</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:223C                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:223D                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:2240                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:2242                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - WRITE TO FILE WITH HANDLE
<span style="color:black">TRANGROUP:2242                                         </span>; BX = file handle, CX = number of bytes to write, DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:2244                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:2245                 </span><span style="color:navy">jb      short </span><span style="color:gray">Error_outputj</span>
<span style="color:black">TRANGROUP:2247                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2249                 </span><span style="color:navy">jnz     short </span><span style="color:gray">tf3</span>
<span style="color:black">TRANGROUP:224B                 </span><span style="color:navy">jmp     </span><span style="color:gray">typelp</span>
<span style="color:black">TRANGROUP:224E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:224E
</span><span style="color:black">TRANGROUP:224E </span><span style="color:gray">tf3</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:224E                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:224F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2251                 </span><span style="color:navy">jnz     short </span><span style="color:gray">Error_outputj</span>
<span style="color:black">TRANGROUP:2253
</span><span style="color:black">TRANGROUP:2253 </span><span style="color:gray">tf4</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2253                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2254 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2254
</span><span style="color:black">TRANGROUP:2254 </span><span style="color:gray">Error_outputj</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2254                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:2257                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4400h</span>
<span style="color:black">TRANGROUP:225A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - GET DEVICE INFORMATION
<span style="color:black">TRANGROUP:225A                                         </span>; BX = file or device handle
<span style="color:black">TRANGROUP:225C                 </span><span style="color:navy">test    dl</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:225F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">tf4</span>
<span style="color:black">TRANGROUP:2261                 </span><span style="color:navy">jmp     </span>error_output
<span style="color:black">TRANGROUP:2264 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2264
</span><span style="color:black">TRANGROUP:2264 </span><span style="color:gray">typelp_ret</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2264                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2264 </span>TYPEFIL         endp
<span style="color:black">TRANGROUP:2264
</span><span style="color:black">TRANGROUP:2265
</span><span style="color:black">TRANGROUP:2265 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2265
</span><span style="color:black">TRANGROUP:2265
</span><span style="color:black">TRANGROUP:2265 </span>VOLUME          proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2265                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:2268                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_VOL
<span style="color:black">TRANGROUP:226B                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:226D                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:226F                 </span><span style="color:navy">call    </span>Parse_With_Msg
<span style="color:black">TRANGROUP:2272                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:2275                 </span><span style="color:navy">jz      short </span>OkVolArg
<span style="color:black">TRANGROUP:2277                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:227A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">badvolarg</span>
<span style="color:black">TRANGROUP:227C                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_VOL
<span style="color:black">TRANGROUP:227F                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2281                 </span><span style="color:navy">call    </span>parse_check_eol
<span style="color:black">TRANGROUP:2284                 </span><span style="color:navy">jz      short </span>OkVolArg
<span style="color:black">TRANGROUP:2286
</span><span style="color:black">TRANGROUP:2286 </span><span style="color:gray">badvolarg</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2286                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:2286 </span>VOLUME          endp
<span style="color:black">TRANGROUP:2286
</span><span style="color:black">TRANGROUP:2289
</span><span style="color:black">TRANGROUP:2289 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2289
</span><span style="color:black">TRANGROUP:2289
</span><span style="color:black">TRANGROUP:2289 </span>DisAppend       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2289                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:228A                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:228B                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:228C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0B700h</span>
<span style="color:black">TRANGROUP:228F                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - APPEND - INSTALLATION CHECK
<span style="color:black">TRANGROUP:228F                                         </span>; Return: AL = 00h not installed
<span style="color:black">TRANGROUP:228F                                         </span>; AL = FFh if installed
<span style="color:black">TRANGROUP:2291                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2293                 </span><span style="color:navy">jz      short </span><span style="color:gray">daRet</span>
<span style="color:black">TRANGROUP:2295                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0B702h</span>
<span style="color:black">TRANGROUP:2298                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - APPEND - VERSION CHECK
<span style="color:black">TRANGROUP:2298                                         </span>; Return: AX = FFFFh if not DOS 4.0 APPEND
<span style="color:black">TRANGROUP:2298                                         </span>; AL = major version number
<span style="color:black">TRANGROUP:2298                                         </span>; AH = minor version number, otherwise
<span style="color:black">TRANGROUP:229A                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:229D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">daRet</span>
<span style="color:black">TRANGROUP:229F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0B706h</span>
<span style="color:black">TRANGROUP:22A2                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - DOS 4.0 APPEND - GET APPEND FUNCTION STATE
<span style="color:black">TRANGROUP:22A2                                         </span>; Return: BX = APPEND state
<span style="color:black">TRANGROUP:22A4                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:22A8                 </span><span style="color:navy">mov     ds:</span>Append_State<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:22AC                 </span><span style="color:navy">mov     ds:</span>Append_Flag<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; -1
<span style="color:black">TRANGROUP:22B1                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:22B3                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0B707h</span>
<span style="color:black">TRANGROUP:22B6                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - DOS 4.0 APPEND - SET APPEND FUNCTION STATE
<span style="color:black">TRANGROUP:22B6                                         </span>; BX = APPEND state bits
<span style="color:black">TRANGROUP:22B8
</span><span style="color:black">TRANGROUP:22B8 </span><span style="color:gray">daRet</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:22B8                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:22B9                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:22BA                 </span>assume es:nothing
<span style="color:black">TRANGROUP:22BA                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:22BB                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:22BB </span>DisAppend       endp
<span style="color:black">TRANGROUP:22BB
</span><span style="color:black">TRANGROUP:22BC
</span><span style="color:black">TRANGROUP:22BC </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:22BC
</span><span style="color:black">TRANGROUP:22BC
</span><span style="color:black">TRANGROUP:22BC </span>OkVolArg        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:22BC                 </span><span style="color:navy">call    </span>DisAppend
<span style="color:black">TRANGROUP:22BF                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:22C2                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '   </span>; blank
<span style="color:black">TRANGROUP:22C4                 </span><span style="color:navy">call    </span>PRINT_CHAR
<span style="color:black">TRANGROUP:22C7                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:22C8                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:22C9                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">55h</span>         ; FCB-7
<span style="color:black">TRANGROUP:22CC                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; -1
<span style="color:black">TRANGROUP:22CE                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:22CF                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:22D1                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:22D2                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:22D3                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:22D4                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; ATTR_VOLUME_ID
<span style="color:black">TRANGROUP:22D6                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:22D7                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:22D8                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">11</span>
<span style="color:black">TRANGROUP:22DB                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'?'</span>
<span style="color:black">TRANGROUP:22DD                 </span><span style="color:navy">rep stosb
</span><span style="color:black">TRANGROUP:22DF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BWDBUF ; DIRBUF
<span style="color:black">TRANGROUP:22E2                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">1Ah</span>
<span style="color:black">TRANGROUP:22E4                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET DISK TRANSFER AREA ADDRESS
<span style="color:black">TRANGROUP:22E4                                         </span>; DS:DX -&gt; disk transfer buffer
<span style="color:black">TRANGROUP:22E6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">55h</span>
<span style="color:black">TRANGROUP:22E9                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">11h</span>
<span style="color:black">TRANGROUP:22EB                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SEARCH FIRST USING FCB
<span style="color:black">TRANGROUP:22EB                                         </span>; DS:DX -&gt; FCB
<span style="color:black">TRANGROUP:22ED                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:22EE                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span><span style="color:green">5Ch</span>
<span style="color:black">TRANGROUP:22F1                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:#ff8000">40h</span> <span style="color:gray">; '@'
</span><span style="color:black">TRANGROUP:22F3                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">40h</span> <span style="color:gray">; '@'
</span><span style="color:black">TRANGROUP:22F5                 </span><span style="color:navy">jnz     short </span><span style="color:gray">drvok</span>
<span style="color:black">TRANGROUP:22F7                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>CURDRV
<span style="color:black">TRANGROUP:22FA                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">'A'</span>
<span style="color:black">TRANGROUP:22FC
</span><span style="color:black">TRANGROUP:22FC </span><span style="color:gray">drvok</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:22FC                 </span><span style="color:navy">mov     ds:</span>vol_drv<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:22FF                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:2300                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2302                 </span><span style="color:navy">jz      short </span><span style="color:gray">Get_vol_name</span>
<span style="color:black">TRANGROUP:2304                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>VolMes_Ptr_2
<span style="color:black">TRANGROUP:2307                 </span><span style="color:navy">jmp     short </span><span style="color:gray">print_serial</span>
<span style="color:black">TRANGROUP:2309 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2309
</span><span style="color:black">TRANGROUP:2309 </span><span style="color:gray">Get_vol_name</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2309                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>CHARBUF
<span style="color:black">TRANGROUP:230C                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:230E                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>DIRBUF_8 ; DIRBUF+8
<span style="color:black">TRANGROUP:2311                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">11</span>
<span style="color:black">TRANGROUP:2314                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:2316                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2318                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2319                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>VolMes_Ptr
<span style="color:black">TRANGROUP:231C
</span><span style="color:black">TRANGROUP:231C </span><span style="color:gray">print_serial</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:231C                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:231D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">6900h</span>
<span style="color:black">TRANGROUP:2320                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, ds:</span><span style="color:green">5Ch</span>      ; [FCB]
<span style="color:black">TRANGROUP:2324                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>vol_ioctl_buf
<span style="color:black">TRANGROUP:2327                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 4.0 internal - GET/SET DISK SERIAL NUMBER
<span style="color:black">TRANGROUP:2327                                         </span>; AL = 00h get serial number / 01h set serial number
<span style="color:black">TRANGROUP:2327                                         </span>; BL = drive (0=default, 1=A, 2=B, etc)
<span style="color:black">TRANGROUP:2327                                         </span>; DS:DX -&gt; disk info
<span style="color:black">TRANGROUP:2329                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:232A                 </span><span style="color:navy">jb      short </span><span style="color:gray">printvol_end</span>
<span style="color:black">TRANGROUP:232C                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:232F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:2331                 </span><span style="color:navy">call    </span>PRINT_CHAR
<span style="color:black">TRANGROUP:2334                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>VolSerMes_Ptr
<span style="color:black">TRANGROUP:2337
</span><span style="color:black">TRANGROUP:2337 </span><span style="color:gray">printvol_end</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2337                 </span><span style="color:navy">jmp     </span>std_printf
<span style="color:black">TRANGROUP:2337 </span>OkVolArg        endp
<span style="color:black">TRANGROUP:2337
</span><span style="color:black">TRANGROUP:233A
</span><span style="color:black">TRANGROUP:233A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:233A
</span><span style="color:black">TRANGROUP:233A
</span><span style="color:black">TRANGROUP:233A </span>Set_Ext_Error_Msg proc near             <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:233A                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:233D                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; ext_msg_class
<span style="color:black">TRANGROUP:2342                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:2345                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2348                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:2349                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2349 </span>Set_Ext_Error_Msg endp
<span style="color:black">TRANGROUP:2349
</span><span style="color:black">TRANGROUP:234A
</span><span style="color:black">TRANGROUP:234A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:234A
</span><span style="color:black">TRANGROUP:234A
</span><span style="color:black">TRANGROUP:234A </span>get_ext_error_number proc near          <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:234A                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:234B                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:234C                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:234D                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:234E                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:234F                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:2350                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:2351                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:2352                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">59h</span>         ; GetExtendedError
<span style="color:black">TRANGROUP:2354                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:2356                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET EXTENDED ERROR CODE
<span style="color:black">TRANGROUP:2356                                         </span>; BX = version code (0000h for DOS 3.x)
<span style="color:black">TRANGROUP:2358                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2359                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:235A                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:235B                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:235C                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:235D                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:235E                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:235F                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:2360                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2360 </span>get_ext_error_number endp
<span style="color:black">TRANGROUP:2360
</span><span style="color:black">TRANGROUP:2361
</span><span style="color:black">TRANGROUP:2361 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2361
</span><span style="color:black">TRANGROUP:2361
</span><span style="color:black">TRANGROUP:2361 </span>VERSION         proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2361                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:2364                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_VER
<span style="color:black">TRANGROUP:2367                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2369                 </span><span style="color:navy">call    </span>Parse_With_Msg
<span style="color:black">TRANGROUP:236C                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:236E                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; RESULT_NO_ERROR
<span style="color:black">TRANGROUP:2371                 </span><span style="color:navy">jz      short </span><span style="color:gray">verPrintVer</span>
<span style="color:black">TRANGROUP:2373                 </span><span style="color:navy">dec     bl</span>
<span style="color:black">TRANGROUP:2375                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; END_OF_LINE
<span style="color:black">TRANGROUP:2378                 </span><span style="color:navy">jz      short </span><span style="color:gray">verPrintVer</span>
<span style="color:black">TRANGROUP:237A                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:237D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:237D
</span><span style="color:black">TRANGROUP:237D </span><span style="color:gray">verPrintVer</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:237D                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:237E                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:2381                 </span><span style="color:navy">call    </span>PRINT_VERSION
<span style="color:black">TRANGROUP:2384                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:2387                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:2388                 </span><span style="color:navy">or      bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:238A                 </span><span style="color:navy">jz      short </span><span style="color:gray">verDone</span>
<span style="color:black">TRANGROUP:238C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3306h</span>
<span style="color:black">TRANGROUP:238F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 5+ Get TRUE Version Number (BL major, BH minor, DL revision, DH flags)
<span style="color:black">TRANGROUP:2391                 </span><span style="color:navy">mov     al</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:2393                 </span><span style="color:navy">mov     bh</span><span style="color:navy">, dh</span>
<span style="color:black">TRANGROUP:2395                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">25</span>          ; 'Z'-'A'
<span style="color:black">TRANGROUP:2397                 </span><span style="color:navy">jbe     short </span><span style="color:gray">ver1</span>
<span style="color:black">TRANGROUP:2399                 </span><span style="color:navy">mov     al</span><span style="color:navy">, -</span><span style="color:green">23</span>         ; '*'-'A'
<span style="color:black">TRANGROUP:239B
</span><span style="color:black">TRANGROUP:239B </span><span style="color:gray">ver1</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:239B                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">'A'</span>         ; 41h
<span style="color:black">TRANGROUP:239D                 </span><span style="color:navy">mov     ds:</span>One_Char_Val<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:23A0                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>dosrev_ptr
<span style="color:black">TRANGROUP:23A3                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:23A6                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:23A8                 </span><span style="color:navy">shr     bh</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:23AA                 </span><span style="color:navy">jb      short </span><span style="color:gray">verRom</span>
<span style="color:black">TRANGROUP:23AC                 </span><span style="color:navy">shr     bh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:23AE                 </span><span style="color:navy">jb      short </span><span style="color:gray">verHma</span>
<span style="color:black">TRANGROUP:23B0                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DosLow_Ptr
<span style="color:black">TRANGROUP:23B3                 </span><span style="color:navy">jmp     short </span><span style="color:gray">verPrintLoc</span>
<span style="color:black">TRANGROUP:23B5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:23B5
</span><span style="color:black">TRANGROUP:23B5 </span><span style="color:gray">verRom</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:23B5                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DosRom_Ptr
<span style="color:black">TRANGROUP:23B8                 </span><span style="color:navy">jmp     short </span><span style="color:gray">verPrintLoc</span>
<span style="color:black">TRANGROUP:23BA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:23BA
</span><span style="color:black">TRANGROUP:23BA </span><span style="color:gray">verHma</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:23BA                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DosHma_Ptr
<span style="color:black">TRANGROUP:23BD
</span><span style="color:black">TRANGROUP:23BD </span><span style="color:gray">verPrintLoc</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:23BD                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:23C0
</span><span style="color:black">TRANGROUP:23C0 </span><span style="color:gray">verDone</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:23C0                 </span><span style="color:navy">jmp     </span>CRLF2
<span style="color:black">TRANGROUP:23C0 </span>VERSION         endp
<span style="color:black">TRANGROUP:23C0
</span><span style="color:black">TRANGROUP:23C3
</span><span style="color:black">TRANGROUP:23C3 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:23C3
</span><span style="color:black">TRANGROUP:23C3
</span><span style="color:black">TRANGROUP:23C3 </span>PRINT_VERSION   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:23C3                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">30h</span>
<span style="color:black">TRANGROUP:23C5                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET DOS VERSION
<span style="color:black">TRANGROUP:23C5                                         </span>; Return: AL = major version number (00h for DOS 1.x)
<span style="color:black">TRANGROUP:23C7                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:23C8                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:23CA                 </span><span style="color:navy">mov     ds:</span>Major_Ver_Num<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:23CD                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:23CE                 </span><span style="color:navy">xchg    ah</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:23D0                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:23D2                 </span><span style="color:navy">mov     ds:</span>Minor_Ver_Num<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:23D5                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>VerMes_Ptr
<span style="color:black">TRANGROUP:23D8                 </span><span style="color:navy">jmp     </span>std_printf
<span style="color:black">TRANGROUP:23D8 </span>PRINT_VERSION   endp
<span style="color:black">TRANGROUP:23D8
</span><span style="color:black">TRANGROUP:23DB
</span><span style="color:black">TRANGROUP:23DB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:23DB
</span><span style="color:black">TRANGROUP:23DB
</span><span style="color:black">TRANGROUP:23DB </span>PRINT_PROMPT    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:23DB                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:23DC                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:23DD                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:23DE                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:23DE                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:23DF                 </span><span style="color:navy">call    </span>find_prompt
<span style="color:black">TRANGROUP:23E2                 </span><span style="color:navy">jb      short </span><span style="color:gray">PP0</span>
<span style="color:black">TRANGROUP:23E4                 </span><span style="color:navy">cmp     byte ptr es:[di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:23E8                 </span><span style="color:navy">jnz     short </span><span style="color:gray">PP1</span>
<span style="color:black">TRANGROUP:23EA
</span><span style="color:black">TRANGROUP:23EA </span><span style="color:gray">PP0</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:23EA                 </span><span style="color:navy">call    </span>PRINT_DRIVE
<span style="color:black">TRANGROUP:23ED                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'&gt;'</span>
<span style="color:black">TRANGROUP:23EF                 </span><span style="color:navy">call    </span>PRINT_CHAR
<span style="color:black">TRANGROUP:23F2                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PP5</span>
<span style="color:black">TRANGROUP:23F4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:23F4
</span><span style="color:black">TRANGROUP:23F4 </span><span style="color:gray">PP1</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:23F4                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:23F7                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:23F8                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:23FA                 </span><span style="color:navy">jz      short </span><span style="color:gray">PP5</span>
<span style="color:black">TRANGROUP:23FC                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'$'</span>
<span style="color:black">TRANGROUP:23FE                 </span><span style="color:navy">jz      short </span><span style="color:gray">PP2</span>
<span style="color:black">TRANGROUP:2400                 </span><span style="color:navy">call    </span>PRINT_CHAR
<span style="color:black">TRANGROUP:2403                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PP1</span>
<span style="color:black">TRANGROUP:2405 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2405
</span><span style="color:black">TRANGROUP:2405 </span><span style="color:gray">PP2</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2405                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:2408                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:2409                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>clsstring_2 ; PROMPT_TABLE-3 (db '[2J')
<span style="color:black">TRANGROUP:240C                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:240E                 </span><span style="color:navy">jz      short </span><span style="color:gray">PP5</span>
<span style="color:black">TRANGROUP:2410
</span><span style="color:black">TRANGROUP:2410 </span><span style="color:gray">PP3</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2410                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:2413                 </span><span style="color:navy">call    </span>UPCONV
<span style="color:black">TRANGROUP:2416                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, [bx]</span>
<span style="color:black">TRANGROUP:2418                 </span><span style="color:navy">jz      short </span><span style="color:gray">PP4</span>
<span style="color:black">TRANGROUP:241A                 </span><span style="color:navy">cmp     byte ptr [bx]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:241D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">PP3</span>
<span style="color:black">TRANGROUP:241F                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PP1</span>
<span style="color:black">TRANGROUP:2421 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2421
</span><span style="color:black">TRANGROUP:2421 </span><span style="color:gray">PP4</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2421                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:2422                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:2423                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:2424                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2425                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:2425                 </span><span style="color:navy">call    word ptr [bx+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:2428                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:2429                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:242A                 </span>assume es:nothing
<span style="color:black">TRANGROUP:242A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PP1</span>
<span style="color:black">TRANGROUP:242C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:242C
</span><span style="color:black">TRANGROUP:242C </span><span style="color:gray">PP5</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:242C                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:242D                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:242E                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:242E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:242E </span>PRINT_PROMPT    endp
<span style="color:black">TRANGROUP:242E
</span><span style="color:maroon">TRANGROUP:242F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:242F
</span><span style="color:maroon">TRANGROUP:242F </span>PRINT_BACK<span style="color:navy">:                             </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:242F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>dback_ptr
<span style="color:maroon">TRANGROUP:2432                 </span><span style="color:navy">jmp     </span>std_printf
<span style="color:maroon">TRANGROUP:2435 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:2435
</span><span style="color:maroon">TRANGROUP:2435 </span>PRINT_EQ<span style="color:navy">:                               </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:2435                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'='</span>
<span style="color:maroon">TRANGROUP:2437                 </span><span style="color:navy">jmp     short </span>PRINT_CHAR
<span style="color:maroon">TRANGROUP:2439 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:2439
</span><span style="color:maroon">TRANGROUP:2439 </span>PRINT_ESC<span style="color:navy">:                              </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:2439                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1Bh</span>         ; ESCape
<span style="color:maroon">TRANGROUP:243B                 </span><span style="color:navy">jmp     short </span>PRINT_CHAR
<span style="color:maroon">TRANGROUP:243D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:243D
</span><span style="color:maroon">TRANGROUP:243D </span>PRINT_G<span style="color:navy">:                                </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:243D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'&gt;'</span>
<span style="color:maroon">TRANGROUP:243F                 </span><span style="color:navy">jmp     short </span>PRINT_CHAR
<span style="color:maroon">TRANGROUP:2441 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:2441
</span><span style="color:maroon">TRANGROUP:2441 </span>PRINT_L<span style="color:navy">:                                </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:2441                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'&lt;'</span>
<span style="color:maroon">TRANGROUP:2443                 </span><span style="color:navy">jmp     short </span>PRINT_CHAR
<span style="color:maroon">TRANGROUP:2445 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:2445
</span><span style="color:maroon">TRANGROUP:2445 </span>Print_B<span style="color:navy">:                                </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:2445                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'|'</span>
<span style="color:black">TRANGROUP:2447
</span><span style="color:black">TRANGROUP:2447 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2447
</span><span style="color:black">TRANGROUP:2447
</span><span style="color:black">TRANGROUP:2447 </span>PRINT_CHAR      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2447                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:2448                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:2449                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:244A                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:244B                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:244C                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:244E                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2</span>           ; STD_CON_OUTPUT
<span style="color:black">TRANGROUP:2450                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - DISPLAY OUTPUT
<span style="color:black">TRANGROUP:2450                                         </span>; DL = character to send to standard output
<span style="color:black">TRANGROUP:2452                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:2453                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:2454                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2455                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2455 </span>PRINT_CHAR      endp
<span style="color:black">TRANGROUP:2455
</span><span style="color:black">TRANGROUP:2456
</span><span style="color:black">TRANGROUP:2456 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2456
</span><span style="color:black">TRANGROUP:2456
</span><span style="color:black">TRANGROUP:2456 </span>PRINT_DRIVE     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2456                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">19h</span>
<span style="color:black">TRANGROUP:2458                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET DEFAULT DISK NUMBER
<span style="color:black">TRANGROUP:245A                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:#ff8000">41h</span> <span style="color:gray">; 'A'
</span><span style="color:black">TRANGROUP:245C                 </span><span style="color:navy">call    </span>PRINT_CHAR
<span style="color:black">TRANGROUP:245F                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:245F </span>PRINT_DRIVE     endp
<span style="color:black">TRANGROUP:245F
</span><span style="color:maroon">TRANGROUP:2460 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:2460
</span><span style="color:maroon">TRANGROUP:2460 </span>build_dir_for_prompt<span style="color:navy">:                   </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:2460                 </span><span style="color:navy">xor     dl</span><span style="color:navy">, dl</span>
<span style="color:maroon">TRANGROUP:2462                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>BWDBUF
<span style="color:maroon">TRANGROUP:2465                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:maroon">TRANGROUP:2467                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>CURDRV
<span style="color:maroon">TRANGROUP:246A                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">'A'</span>
<span style="color:maroon">TRANGROUP:246C                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:maroon">TRANGROUP:246E                 </span><span style="color:navy">stosw
</span><span style="color:maroon">TRANGROUP:246F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>DIRCHAR
<span style="color:maroon">TRANGROUP:2472                 </span><span style="color:navy">stosb
</span><span style="color:maroon">TRANGROUP:2473                 </span><span style="color:navy">xchg    si</span><span style="color:navy">, di</span>
<span style="color:maroon">TRANGROUP:2475                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, di</span>
<span style="color:maroon">TRANGROUP:2479                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">47h</span>
<span style="color:maroon">TRANGROUP:247B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET CURRENT DIRECTORY
<span style="color:maroon">TRANGROUP:247B                                         </span>; DL = drive (0=default, 1=A, etc.)
<span style="color:maroon">TRANGROUP:247B                                         </span>; DS:SI points to 64-byte buffer area
<span style="color:maroon">TRANGROUP:247D                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>string_buf_ptr
<span style="color:maroon">TRANGROUP:2480                 </span><span style="color:navy">jnb     short </span>doprint
<span style="color:maroon">TRANGROUP:2482                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADCURDRV
<span style="color:maroon">TRANGROUP:2485
</span><span style="color:maroon">TRANGROUP:2485 </span>doprint<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:2485                 </span><span style="color:navy">call    </span>std_printf
<span style="color:maroon">TRANGROUP:2488                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2489
</span><span style="color:black">TRANGROUP:2489 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2489
</span><span style="color:black">TRANGROUP:2489
</span><span style="color:black">TRANGROUP:2489 </span>build_dir_for_chdir proc near           <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2489                 </span><span style="color:navy">call    </span>build_dir_string
<span style="color:black">TRANGROUP:248C                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BWDBUF ; DIRBUF
<span style="color:black">TRANGROUP:248F                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2493                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>string_buf_ptr
<span style="color:black">TRANGROUP:2496                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:2499                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2499 </span>build_dir_for_chdir endp
<span style="color:black">TRANGROUP:2499
</span><span style="color:black">TRANGROUP:249A
</span><span style="color:black">TRANGROUP:249A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:249A
</span><span style="color:black">TRANGROUP:249A
</span><span style="color:black">TRANGROUP:249A </span>build_dir_string proc near              <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:249A                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, ds:</span><span style="color:green">5Ch</span>
<span style="color:black">TRANGROUP:249E                 </span><span style="color:navy">mov     al</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:24A0                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:#ff8000">40h</span> <span style="color:gray">; '@'
</span><span style="color:black">TRANGROUP:24A2                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">40h</span> <span style="color:gray">; '@'
</span><span style="color:black">TRANGROUP:24A4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">gotdrive</span>
<span style="color:black">TRANGROUP:24A6                 </span><span style="color:navy">add     al</span><span style="color:navy">, ds:</span>CURDRV
<span style="color:black">TRANGROUP:24AA                 </span><span style="color:navy">inc     al</span>
<span style="color:black">TRANGROUP:24AC
</span><span style="color:black">TRANGROUP:24AC </span><span style="color:gray">gotdrive</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:24AC                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:24AD                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>BWDBUF<span style="color:navy">+</span><span style="color:green">3</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:24B0                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">47h</span>
<span style="color:black">TRANGROUP:24B2                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET CURRENT DIRECTORY
<span style="color:black">TRANGROUP:24B2                                         </span>; DL = drive (0=default, 1=A, etc.)
<span style="color:black">TRANGROUP:24B2                                         </span>; DS:SI points to 64-byte buffer area
<span style="color:black">TRANGROUP:24B4                 </span><span style="color:navy">jnb     short </span><span style="color:gray">dpbisok</span>
<span style="color:black">TRANGROUP:24B6                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:24B7                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:24B8                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:24B8                 </span><span style="color:navy">jmp     </span>DRVBAD
<span style="color:black">TRANGROUP:24BB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:24BB
</span><span style="color:black">TRANGROUP:24BB </span><span style="color:gray">dpbisok</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:24BB                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>BWDBUF
<span style="color:black">TRANGROUP:24BE                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:24C0                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:24C1                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:24C3                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:24C4                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span>DIRCHAR
<span style="color:black">TRANGROUP:24C7                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:24C8                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:24C8 </span>build_dir_string endp
<span style="color:black">TRANGROUP:24C8
</span><span style="color:black">TRANGROUP:24C9
</span><span style="color:black">TRANGROUP:24C9 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:24C9
</span><span style="color:black">TRANGROUP:24C9
</span><span style="color:black">TRANGROUP:24C9 </span>PATH            proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:24C9                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:24CB                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>SRCXNAME
<span style="color:black">TRANGROUP:24CE                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:24CF                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:24D0                 </span><span style="color:navy">call    </span>PGETARG
<span style="color:black">TRANGROUP:24D3                 </span><span style="color:navy">jz      short </span><span style="color:gray">disppath</span>
<span style="color:black">TRANGROUP:24D5                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">';'</span>         ; 3Bh
<span style="color:black">TRANGROUP:24D7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">pathslp</span>
<span style="color:black">TRANGROUP:24D9                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:24DA                 </span><span style="color:navy">jmp     short </span><span style="color:gray">scan_white</span>
<span style="color:black">TRANGROUP:24DC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:24DC
</span><span style="color:black">TRANGROUP:24DC </span><span style="color:gray">pathslp</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:24DC                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:24DD                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>         ; END_OF_LINE_IN
<span style="color:black">TRANGROUP:24DF                 </span><span style="color:navy">jz      short </span><span style="color:gray">path_eol</span>
<span style="color:black">TRANGROUP:24E1                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:24E4                 </span><span style="color:navy">jz      short </span><span style="color:gray">notkanj2</span>
<span style="color:black">TRANGROUP:24E6                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:24E7                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:24E8
</span><span style="color:black">TRANGROUP:24E8 </span><span style="color:gray">path_hold</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:24E8                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:24E9                 </span><span style="color:navy">jmp     short </span><span style="color:gray">pathslp</span>
<span style="color:black">TRANGROUP:24EB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:24EB
</span><span style="color:black">TRANGROUP:24EB </span><span style="color:gray">notkanj2</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:24EB                 </span><span style="color:navy">call    </span>UPCONV
<span style="color:black">TRANGROUP:24EE                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">';'</span>         ; 3Bh ; semicolon
<span style="color:black">TRANGROUP:24F0                 </span><span style="color:navy">jz      short </span><span style="color:gray">path_hold</span>
<span style="color:black">TRANGROUP:24F2                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:24F5                 </span><span style="color:navy">jnz     short </span><span style="color:gray">path_hold</span>
<span style="color:black">TRANGROUP:24F7
</span><span style="color:black">TRANGROUP:24F7 </span><span style="color:gray">scan_white</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:24F7                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:24F8                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:24FA                 </span><span style="color:navy">jz      short </span><span style="color:gray">path_eol</span>
<span style="color:black">TRANGROUP:24FC                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:24FE                 </span><span style="color:navy">jz      short </span><span style="color:gray">scan_white</span>
<span style="color:black">TRANGROUP:2500                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">TRANGROUP:2502                 </span><span style="color:navy">jz      short </span><span style="color:gray">scan_white</span>
<span style="color:black">TRANGROUP:2504                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:2507                 </span><span style="color:navy">mov     </span>extend_buf_ptr<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; MoreArgs_Ptr
<span style="color:black">TRANGROUP:250D                 </span><span style="color:navy">mov     </span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">2</span> ; parse_msg_class
<span style="color:black">TRANGROUP:2512                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:2515 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2515
</span><span style="color:black">TRANGROUP:2515 </span><span style="color:gray">path_eol</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2515                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2517                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2518                 </span><span style="color:navy">call    </span>find_path
<span style="color:black">TRANGROUP:251B                 </span><span style="color:navy">call    </span>delete_path
<span style="color:black">TRANGROUP:251E                 </span><span style="color:navy">call    </span>scan_double_null
<span style="color:black">TRANGROUP:2521                 </span><span style="color:navy">call    </span>move_name
<span style="color:black">TRANGROUP:2524                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>SRCXNAME
<span style="color:black">TRANGROUP:2527
</span><span style="color:black">TRANGROUP:2527 </span><span style="color:gray">store_path</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2527                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2528                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:252A                 </span><span style="color:navy">jz      short </span><span style="color:gray">got_paths</span>
<span style="color:black">TRANGROUP:252C                 </span><span style="color:navy">call    </span>store_char
<span style="color:black">TRANGROUP:252F                 </span><span style="color:navy">jmp     short </span><span style="color:gray">store_path</span>
<span style="color:black">TRANGROUP:2531 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2531
</span><span style="color:black">TRANGROUP:2531 </span><span style="color:gray">got_paths</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2531                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2533                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:2534                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2535 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2535
</span><span style="color:black">TRANGROUP:2535 </span><span style="color:gray">disppath</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2535                 </span><span style="color:navy">call    </span>find_path
<span style="color:black">TRANGROUP:2538                 </span><span style="color:navy">call    </span>print_path
<span style="color:black">TRANGROUP:253B                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:253E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:253E </span>PATH            endp
<span style="color:black">TRANGROUP:253E
</span><span style="color:black">TRANGROUP:253F
</span><span style="color:black">TRANGROUP:253F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:253F
</span><span style="color:black">TRANGROUP:253F
</span><span style="color:black">TRANGROUP:253F </span>print_path      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:253F                 </span><span style="color:navy">cmp     byte ptr es:[di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2543                 </span><span style="color:navy">jnz     short </span><span style="color:gray">path1</span>
<span style="color:black">TRANGROUP:2545
</span><span style="color:black">TRANGROUP:2545 </span><span style="color:gray">path0</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2545                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>NULLPATH_PTR
<span style="color:black">TRANGROUP:2548                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:2549                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:254A                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:254A                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:254B                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:254C                 </span><span style="color:navy">jmp     </span>std_printf
<span style="color:black">TRANGROUP:254F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:254F
</span><span style="color:black">TRANGROUP:254F </span><span style="color:gray">path1</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:254F                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:2550                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2551                 </span><span style="color:navy">sub     di</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>
<span style="color:black">TRANGROUP:2554                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:2556                 </span><span style="color:navy">call    </span>SCASB2
<span style="color:black">TRANGROUP:2559                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; 255
<span style="color:black">TRANGROUP:255D                 </span><span style="color:navy">jz      short </span><span style="color:gray">path0</span>
<span style="color:black">TRANGROUP:255F                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:2560                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2561                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>Arg_Buf
<span style="color:black">TRANGROUP:2564                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">100h</span>        ; 256
<span style="color:black">TRANGROUP:2567                 </span><span style="color:navy">sub     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2569                 </span><span style="color:navy">xchg    dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:256B                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:256D                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>arg_buf_ptr
<span style="color:black">TRANGROUP:2570                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:2571                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2572                 </span><span style="color:navy">jmp     </span>std_printf
<span style="color:black">TRANGROUP:2572 </span>print_path      endp
<span style="color:black">TRANGROUP:2572
</span><span style="color:black">TRANGROUP:2575
</span><span style="color:black">TRANGROUP:2575 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2575
</span><span style="color:black">TRANGROUP:2575
</span><span style="color:black">TRANGROUP:2575 </span>CLS             proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2575                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">1Ah</span>
<span style="color:black">TRANGROUP:2577                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2579                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - DOS 4+ ANSI.SYS internal - INSTALLATION CHECK
<span style="color:black">TRANGROUP:2579                                         </span>; Return: AL = FFh if installed
<span style="color:black">TRANGROUP:257B                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; ANSI_installed
<span style="color:black">TRANGROUP:257D                 </span><span style="color:navy">jz      short </span><span style="color:gray">ansicls</span>
<span style="color:black">TRANGROUP:257F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">440Ch</span>
<span style="color:black">TRANGROUP:2582                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:2585                 </span><span style="color:navy">mov     ch</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:2587                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:green">7Fh</span>
<span style="color:black">TRANGROUP:2589                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>Display_Ioctl
<span style="color:black">TRANGROUP:258C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL -
<span style="color:black">TRANGROUP:258E                 </span><span style="color:navy">jb      short </span><span style="color:gray">no_variable</span>
<span style="color:black">TRANGROUP:2590                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span>LinPerPag
<span style="color:black">TRANGROUP:2593                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2595                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span>display_width
<span style="color:black">TRANGROUP:2598                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:259A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">regcls</span>
<span style="color:black">TRANGROUP:259C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:259C
</span><span style="color:black">TRANGROUP:259C </span><span style="color:gray">no_variable</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:259C                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:259F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4400h</span>
<span style="color:black">TRANGROUP:25A2                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - GET DEVICE INFORMATION
<span style="color:black">TRANGROUP:25A2                                         </span>; BX = file or device handle
<span style="color:black">TRANGROUP:25A4                 </span><span style="color:navy">test    dl</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:25A7                 </span><span style="color:navy">jz      short </span><span style="color:gray">ansicls</span>
<span style="color:black">TRANGROUP:25A9                 </span><span style="color:navy">test    dl</span><span style="color:navy">, </span><span style="color:green">10h</span>
<span style="color:black">TRANGROUP:25AC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cls_normal</span>
<span style="color:black">TRANGROUP:25AE
</span><span style="color:black">TRANGROUP:25AE </span><span style="color:gray">ansicls</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:25AE                 </span><span style="color:navy">call    </span>ansi_cls
<span style="color:black">TRANGROUP:25B1                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cls_ret</span>
<span style="color:black">TRANGROUP:25B3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:25B3
</span><span style="color:black">TRANGROUP:25B3 </span><span style="color:gray">cls_normal</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:25B3                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0Fh</span>
<span style="color:black">TRANGROUP:25B5                 </span><span style="color:navy">int     </span><span style="color:green">10h</span>             ; - VIDEO - GET CURRENT VIDEO MODE
<span style="color:black">TRANGROUP:25B5                                         </span>; Return: AH = number of columns on screen
<span style="color:black">TRANGROUP:25B5                                         </span>; AL = current video mode
<span style="color:black">TRANGROUP:25B5                                         </span>; BH = current active display page
<span style="color:black">TRANGROUP:25B7                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:25B9                 </span><span style="color:navy">jbe     short </span><span style="color:gray">DoAlpha</span>
<span style="color:black">TRANGROUP:25BB                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">7</span>
<span style="color:black">TRANGROUP:25BD                 </span><span style="color:navy">jz      short </span><span style="color:gray">DoAlpha</span>
<span style="color:black">TRANGROUP:25BF                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:25C1                 </span><span style="color:navy">int     </span><span style="color:green">10h</span>             ; - VIDEO - SET VIDEO MODE
<span style="color:black">TRANGROUP:25C1                                         </span>; AL = mode
<span style="color:black">TRANGROUP:25C3                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cls_ret</span>
<span style="color:black">TRANGROUP:25C5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:25C5
</span><span style="color:black">TRANGROUP:25C5 </span><span style="color:gray">DoAlpha</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:25C5                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:25C6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">40h</span>         ; ROMBIOS_DATA
<span style="color:black">TRANGROUP:25C9                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:25CB                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:25CB                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span><span style="color:green">4Ah</span>      ; [CRT_Cols]
<span style="color:black">TRANGROUP:25CF                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, ds:</span><span style="color:green">84h</span>      ; [CRT_Rows]
<span style="color:black">TRANGROUP:25D3                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:25D4                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:25D4                 </span><span style="color:navy">or      dh</span><span style="color:navy">, dh</span>
<span style="color:black">TRANGROUP:25D6                 </span><span style="color:navy">jnz     short </span><span style="color:gray">regcls</span>
<span style="color:black">TRANGROUP:25D8                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, </span><span style="color:green">25</span>
<span style="color:black">TRANGROUP:25DA
</span><span style="color:black">TRANGROUP:25DA </span><span style="color:gray">regcls</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:25DA                 </span><span style="color:navy">inc     dh</span>
<span style="color:black">TRANGROUP:25DC                 </span><span style="color:navy">call    </span>reg_cls
<span style="color:black">TRANGROUP:25DF
</span><span style="color:black">TRANGROUP:25DF </span><span style="color:gray">cls_ret</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:25DF                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:25DF </span>CLS             endp
<span style="color:black">TRANGROUP:25DF
</span><span style="color:black">TRANGROUP:25E0
</span><span style="color:black">TRANGROUP:25E0 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:25E0
</span><span style="color:black">TRANGROUP:25E0
</span><span style="color:black">TRANGROUP:25E0 </span>reg_cls         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:25E0                 </span><span style="color:navy">dec     dh</span>
<span style="color:black">TRANGROUP:25E2                 </span><span style="color:navy">dec     dl</span>
<span style="color:black">TRANGROUP:25E4                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:25E5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0Bh</span>
<span style="color:black">TRANGROUP:25E7                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:25E9                 </span><span style="color:navy">int     </span><span style="color:green">10h</span>             ; - VIDEO - SET COLOR PALETTE
<span style="color:black">TRANGROUP:25E9                                         </span>; BH = 00h, BL = border color
<span style="color:black">TRANGROUP:25E9                                         </span>; BH = 01h, BL = palette (0-3)
<span style="color:black">TRANGROUP:25EB                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:25EC                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:25EE                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:25F0                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>
<span style="color:black">TRANGROUP:25F2                 </span><span style="color:navy">mov     bh</span><span style="color:navy">, </span><span style="color:#ff8000">7</span>
<span style="color:black">TRANGROUP:25F4                 </span><span style="color:navy">xor     bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:25F6                 </span><span style="color:navy">int     </span><span style="color:green">10h</span>             ; - VIDEO - SCROLL PAGE UP
<span style="color:black">TRANGROUP:25F6                                         </span>; AL = number of lines to scroll window (0 = blank whole window)
<span style="color:black">TRANGROUP:25F6                                         </span>; BH = attributes to be used on blanked lines
<span style="color:black">TRANGROUP:25F6                                         </span>; CH,CL = row,column of upper left corner of window to scroll
<span style="color:black">TRANGROUP:25F6                                         </span>; DH,DL = row,column of lower right corner of window
<span style="color:black">TRANGROUP:25F8                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0Fh</span>
<span style="color:black">TRANGROUP:25FA                 </span><span style="color:navy">int     </span><span style="color:green">10h</span>             ; - VIDEO - GET CURRENT VIDEO MODE
<span style="color:black">TRANGROUP:25FA                                         </span>; Return: AH = number of columns on screen
<span style="color:black">TRANGROUP:25FA                                         </span>; AL = current video mode
<span style="color:black">TRANGROUP:25FA                                         </span>; BH = current active display page
<span style="color:black">TRANGROUP:25FC                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:25FE                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2600                 </span><span style="color:navy">int     </span><span style="color:green">10h</span>             ; - VIDEO - SET CURSOR POSITION
<span style="color:black">TRANGROUP:2600                                         </span>; DH,DL = row, column (0,0 = upper left)
<span style="color:black">TRANGROUP:2600                                         </span>; BH = page number
<span style="color:black">TRANGROUP:2602                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2602 </span>reg_cls         endp
<span style="color:black">TRANGROUP:2602
</span><span style="color:black">TRANGROUP:2603
</span><span style="color:black">TRANGROUP:2603 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2603
</span><span style="color:black">TRANGROUP:2603
</span><span style="color:black">TRANGROUP:2603 </span>ansi_cls        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2603                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>CLSSTRING
<span style="color:black">TRANGROUP:2606                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2607                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2609                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:260B                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>           ; Raw_CON_IO
<span style="color:black">TRANGROUP:260D
</span><span style="color:black">TRANGROUP:260D </span><span style="color:gray">clrloop</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:260D                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:260E                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2610                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - DIRECT CONSOLE I/O CHARACTER OUTPUT
<span style="color:black">TRANGROUP:2610                                         </span>; DL = character &lt;&gt; FFh
<span style="color:black">TRANGROUP:2610                                         </span>;  Return: ZF set = no character
<span style="color:black">TRANGROUP:2610                                         </span>;   ZF clear = character recieved, AL = character
<span style="color:black">TRANGROUP:2612                 </span><span style="color:navy">loop    </span><span style="color:gray">clrloop</span>
<span style="color:black">TRANGROUP:2614                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2614 </span>ansi_cls        endp
<span style="color:black">TRANGROUP:2614
</span><span style="color:black">TRANGROUP:2615
</span><span style="color:black">TRANGROUP:2615 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2615
</span><span style="color:black">TRANGROUP:2615
</span><span style="color:black">TRANGROUP:2615 </span>CTTY            proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2615                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:2616                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2617                 </span>assume es:nothing
<span style="color:black">TRANGROUP:2617                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:261A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_CTTY
<span style="color:black">TRANGROUP:261D                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:261F                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2621                 </span><span style="color:navy">call    </span>cmd_parse
<span style="color:black">TRANGROUP:2624                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:2627                 </span><span style="color:navy">jz      short </span><span style="color:gray">ctty_error</span>
<span style="color:black">TRANGROUP:2629                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:262C                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ctty_error</span>
<span style="color:black">TRANGROUP:262E                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:262F                 </span><span style="color:navy">lds     si</span><span style="color:navy">, ds:</span>PARSE1_ADDR
<span style="color:black">TRANGROUP:2633                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>SrcBuf
<span style="color:black">TRANGROUP:2636
</span><span style="color:black">TRANGROUP:2636 </span><span style="color:gray">ctty_move_filename</span><span style="color:navy">:                     </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2636                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2637                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2638                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:263A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ctty_move_filename</span>
<span style="color:black">TRANGROUP:263C                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:263D                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_CTTY
<span style="color:black">TRANGROUP:2640                 </span><span style="color:navy">call    </span>parse_check_eol
<span style="color:black">TRANGROUP:2643                 </span><span style="color:navy">jz      short </span><span style="color:gray">nocolon</span>
<span style="color:black">TRANGROUP:2645
</span><span style="color:black">TRANGROUP:2645 </span><span style="color:gray">ctty_error</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2645                 </span><span style="color:navy">jmp     short </span><span style="color:gray">isbaddev</span>
<span style="color:black">TRANGROUP:2647 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2647
</span><span style="color:black">TRANGROUP:2647 </span><span style="color:gray">nocolon</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2647                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>SrcBuf
<span style="color:black">TRANGROUP:264A                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3D02h</span>
<span style="color:black">TRANGROUP:264D                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - OPEN DISK FILE WITH HANDLE
<span style="color:black">TRANGROUP:264D                                         </span>; DS:DX -&gt; ASCIZ filename
<span style="color:black">TRANGROUP:264D                                         </span>; AL = access mode
<span style="color:black">TRANGROUP:264D                                         </span>; 2 - read &amp; write
<span style="color:black">TRANGROUP:264F                 </span><span style="color:navy">jb      short </span><span style="color:gray">isbaddev</span>
<span style="color:black">TRANGROUP:2651                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2653                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4400h</span>
<span style="color:black">TRANGROUP:2656                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - GET DEVICE INFORMATION
<span style="color:black">TRANGROUP:2656                                         </span>; BX = file or device handle
<span style="color:black">TRANGROUP:2658                 </span><span style="color:navy">test    dl</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:265B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">devisok</span>
<span style="color:black">TRANGROUP:265D
</span><span style="color:black">TRANGROUP:265D </span><span style="color:gray">closedev</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:265D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">TRANGROUP:265F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">TRANGROUP:265F                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:2661
</span><span style="color:black">TRANGROUP:2661 </span><span style="color:gray">isbaddev</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2661                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADDEV_PTR
<span style="color:black">TRANGROUP:2664                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:2667                 </span><span style="color:navy">jmp     short </span><span style="color:gray">resret</span>
<span style="color:black">TRANGROUP:2669 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2669
</span><span style="color:black">TRANGROUP:2669 </span><span style="color:gray">devisok</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2669                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:266A                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>acrlf_ptr
<span style="color:black">TRANGROUP:266D                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; -1 ; util_msg_class
<span style="color:black">TRANGROUP:266F                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:2670                 </span><span style="color:navy">call    </span>TSYSGETMSG
<span style="color:black">TRANGROUP:2673                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:2675                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4000h</span>
<span style="color:black">TRANGROUP:2678                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:267B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - WRITE TO FILE WITH HANDLE
<span style="color:black">TRANGROUP:267B                                         </span>; BX = file handle, CX = number of bytes to write, DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:267D                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:267E                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:267F                 </span><span style="color:navy">jb      short </span><span style="color:gray">closedev</span>
<span style="color:black">TRANGROUP:2681                 </span><span style="color:navy">xor     dh</span><span style="color:navy">, dh</span>
<span style="color:black">TRANGROUP:2683                 </span><span style="color:navy">or      dl</span><span style="color:navy">, </span><span style="color:green">3</span>
<span style="color:black">TRANGROUP:2686                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4401h</span>
<span style="color:black">TRANGROUP:2689                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - SET DEVICE INFORMATION
<span style="color:black">TRANGROUP:2689                                         </span>; BX = device handle, DH = 0
<span style="color:black">TRANGROUP:2689                                         </span>; DL = device information to set (bits 0-7 from function 0)
<span style="color:black">TRANGROUP:268B                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:268C                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:268F                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:2691
</span><span style="color:black">TRANGROUP:2691 </span><span style="color:gray">iclloop</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2691                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">TRANGROUP:2693                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">TRANGROUP:2693                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:2695                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:2696                 </span><span style="color:navy">loop    </span><span style="color:gray">iclloop</span>
<span style="color:black">TRANGROUP:2698                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:2699                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">45h</span>
<span style="color:black">TRANGROUP:269B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
<span style="color:black">TRANGROUP:269B                                         </span>; BX = file handle to duplicate
<span style="color:black">TRANGROUP:269D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">45h</span>
<span style="color:black">TRANGROUP:269F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
<span style="color:black">TRANGROUP:269F                                         </span>; BX = file handle to duplicate
<span style="color:black">TRANGROUP:26A1                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">45h</span>
<span style="color:black">TRANGROUP:26A3                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
<span style="color:black">TRANGROUP:26A3                                         </span>; BX = file handle to duplicate
<span style="color:black">TRANGROUP:26A5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">TRANGROUP:26A7                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">TRANGROUP:26A7                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:26A9
</span><span style="color:black">TRANGROUP:26A9 </span><span style="color:gray">resret</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:26A9                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:26AD                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:26AE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span><span style="color:green">18h</span>      ; [PDB.JFN_TABLE]
<span style="color:black">TRANGROUP:26B1                 </span><span style="color:navy">mov     ds:</span>Io_Save<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:26B4                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, offset </span>TrnLodCom1_Trap
<span style="color:black">TRANGROUP:26B7                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:26B8                 </span><span style="color:navy">retf
</span><span style="color:black">TRANGROUP:26B8 </span>CTTY            endp
<span style="color:black">TRANGROUP:26B8
</span><span style="color:black">TRANGROUP:26B9
</span><span style="color:black">TRANGROUP:26B9 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:26B9
</span><span style="color:black">TRANGROUP:26B9
</span><span style="color:black">TRANGROUP:26B9 </span>CHCP            proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:26B9                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:26BA                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:26BB                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:26BE                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_CHCP
<span style="color:black">TRANGROUP:26C1                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:26C3                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:26C5                 </span><span style="color:navy">call    </span>Parse_With_Msg
<span style="color:black">TRANGROUP:26C8                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:26CB                 </span><span style="color:navy">jz      short </span><span style="color:gray">getcp</span>
<span style="color:black">TRANGROUP:26CD                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:26D0                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cp_error</span>
<span style="color:black">TRANGROUP:26D2                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:26D3                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>PARSE1_ADDR
<span style="color:black">TRANGROUP:26D6                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, [bx]</span>
<span style="color:black">TRANGROUP:26D8                 </span><span style="color:navy">mov     ds:</span>system_cpage<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:26DC                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:26DD                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_CHCP
<span style="color:black">TRANGROUP:26E0                 </span><span style="color:navy">call    </span>parse_check_eol
<span style="color:black">TRANGROUP:26E3                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cp_error</span>
<span style="color:black">TRANGROUP:26E5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">14h</span>
<span style="color:black">TRANGROUP:26E7                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:26E9                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - NLSFUNC.COM - INSTALLATION CHECK
<span style="color:black">TRANGROUP:26E9                                         </span>; Return: AL = 00h not installed, OK to install
<span style="color:black">TRANGROUP:26E9                                         </span>; 01h not installed, not OK
<span style="color:black">TRANGROUP:26E9                                         </span>; FFh installed
<span style="color:black">TRANGROUP:26EB                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; NLSFUNC_installed
<span style="color:black">TRANGROUP:26ED                 </span><span style="color:navy">jz      short </span><span style="color:gray">got_NLS</span>
<span style="color:black">TRANGROUP:26EF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>NLSFUNC_PTR
<span style="color:black">TRANGROUP:26F2                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cp_error</span>
<span style="color:black">TRANGROUP:26F4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:26F4
</span><span style="color:black">TRANGROUP:26F4 </span><span style="color:gray">got_NLS</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:26F4                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>system_cpage
<span style="color:black">TRANGROUP:26F8                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">66h</span>         ; GETSETCDPG
<span style="color:black">TRANGROUP:26FA                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:26FC                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3.3+ - SET GLOBAL CODE PAGE TABLE
<span style="color:black">TRANGROUP:26FC                                         </span>; BX = active code page
<span style="color:black">TRANGROUP:26FC                                         </span>; DX = system code page (active page at boot time)
<span style="color:black">TRANGROUP:26FE                 </span><span style="color:navy">jnb     short </span><span style="color:gray">chcp_return</span>
<span style="color:black">TRANGROUP:2700                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; ERROR_FILE_NOT_FOUND
<span style="color:black">TRANGROUP:2703                 </span><span style="color:navy">jnz     short </span><span style="color:gray">chcp_other_error</span>
<span style="color:black">TRANGROUP:2705                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">59h</span>         ; GETEXTENDEDERROR
<span style="color:black">TRANGROUP:2707                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:2709                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET EXTENDED ERROR CODE
<span style="color:black">TRANGROUP:2709                                         </span>; BX = version code (0000h for DOS 3.x)
<span style="color:black">TRANGROUP:270B                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>         ; ERROR_INVALID_DATA
<span style="color:black">TRANGROUP:270E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">no_countrysys</span>
<span style="color:black">TRANGROUP:2710                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>INV_CODE_PAGE
<span style="color:black">TRANGROUP:2713                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cp_error</span>
<span style="color:black">TRANGROUP:2715 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2715
</span><span style="color:black">TRANGROUP:2715 </span><span style="color:gray">no_countrysys</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2715                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>NoCntry_Ptr
<span style="color:black">TRANGROUP:2718                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cp_error</span>
<span style="color:black">TRANGROUP:271A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:271A
</span><span style="color:black">TRANGROUP:271A </span><span style="color:gray">chcp_other_error</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:271A                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">59h</span>
<span style="color:black">TRANGROUP:271C                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:271E                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET EXTENDED ERROR CODE
<span style="color:black">TRANGROUP:271E                                         </span>; BX = version code (0000h for DOS 3.x)
<span style="color:black">TRANGROUP:2720                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">65</span>
<span style="color:black">TRANGROUP:2723                 </span><span style="color:navy">jnz     short </span><span style="color:gray">none_set</span>
<span style="color:black">TRANGROUP:2725                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>cp_not_all_ptr
<span style="color:black">TRANGROUP:2728                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cp_error</span>
<span style="color:black">TRANGROUP:272A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:272A
</span><span style="color:black">TRANGROUP:272A </span><span style="color:gray">none_set</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:272A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>cp_not_set_ptr
<span style="color:black">TRANGROUP:272D
</span><span style="color:black">TRANGROUP:272D </span><span style="color:gray">cp_error</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:272D                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:2730 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2730
</span><span style="color:black">TRANGROUP:2730 </span><span style="color:gray">getcp</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2730                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">66h</span>
<span style="color:black">TRANGROUP:2732                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:2734                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3.3+ - GET GLOBAL CODE PAGE TABLE
<span style="color:black">TRANGROUP:2736                 </span><span style="color:navy">mov     ds:</span>system_cpage<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:273A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>cp_active_ptr
<span style="color:black">TRANGROUP:273D                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:2740
</span><span style="color:black">TRANGROUP:2740 </span><span style="color:gray">chcp_return</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2740                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2740 </span>CHCP            endp
<span style="color:black">TRANGROUP:2740
</span><span style="color:black">TRANGROUP:2741
</span><span style="color:black">TRANGROUP:2741 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2741
</span><span style="color:black">TRANGROUP:2741
</span><span style="color:black">TRANGROUP:2741 </span>TRUENAME        proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2741                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:2742                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2743                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:2746                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_CHDIR
<span style="color:black">TRANGROUP:2749                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:274B                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:274D                 </span><span style="color:navy">call    </span>Parse_With_Msg
<span style="color:black">TRANGROUP:2750                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>SRCXNAME
<span style="color:black">TRANGROUP:2753                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; END_OF_LINE
<span style="color:black">TRANGROUP:2756                 </span><span style="color:navy">jz      short </span><span style="color:gray">tn_eol</span>
<span style="color:black">TRANGROUP:2758                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:275B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">tn_parse_error</span>
<span style="color:black">TRANGROUP:275D                 </span><span style="color:navy">cmp     ds:</span>PARSE1_OUTPUT<span style="color:navy">, </span><span style="color:#ff8000">6</span> ; PARSE1_TYPE
<span style="color:black">TRANGROUP:2762                 </span><span style="color:navy">jz      short </span><span style="color:gray">tn_drive</span>
<span style="color:black">TRANGROUP:2764                 </span><span style="color:navy">jmp     short </span><span style="color:gray">tn_filespec</span>
<span style="color:black">TRANGROUP:2766 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2766
</span><span style="color:black">TRANGROUP:2766 </span><span style="color:gray">tn_eol</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2766                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2768                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'.'</span>
<span style="color:black">TRANGROUP:276A                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:276B                 </span><span style="color:navy">jmp     short </span><span style="color:gray">tn_doit</span>
<span style="color:black">TRANGROUP:276D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:276D
</span><span style="color:black">TRANGROUP:276D </span><span style="color:gray">tn_drive</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:276D                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:276E                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>PARSE1_ADDR
<span style="color:black">TRANGROUP:2771                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2772                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">40h</span>         ; 'A'-1
<span style="color:black">TRANGROUP:2774                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2775                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">'.:'</span>        ; 2E3Ah ; ah=&quot;.&quot;, al=&quot;:&quot;
<span style="color:black">TRANGROUP:2778                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:2779                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:277B                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:277C                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:277D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">tn_check_eol</span>
<span style="color:black">TRANGROUP:277F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:277F
</span><span style="color:black">TRANGROUP:277F </span><span style="color:gray">tn_filespec</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:277F                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:2780                 </span><span style="color:navy">lds     si</span><span style="color:navy">, ds:</span>PARSE1_ADDR
<span style="color:black">TRANGROUP:2784
</span><span style="color:black">TRANGROUP:2784 </span><span style="color:gray">tn_move_filename</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2784                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2785                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2786                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2788                 </span><span style="color:navy">jnz     short </span><span style="color:gray">tn_move_filename</span>
<span style="color:black">TRANGROUP:278A                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:278B
</span><span style="color:black">TRANGROUP:278B </span><span style="color:gray">tn_check_eol</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:278B                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_CHDIR
<span style="color:black">TRANGROUP:278E                 </span><span style="color:navy">call    </span>parse_check_eol
<span style="color:black">TRANGROUP:2791                 </span><span style="color:navy">jz      short </span><span style="color:gray">tn_doit</span>
<span style="color:black">TRANGROUP:2793
</span><span style="color:black">TRANGROUP:2793 </span><span style="color:gray">tn_parse_error</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2793                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:2796 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2796
</span><span style="color:black">TRANGROUP:2796 </span><span style="color:gray">tn_doit</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2796                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>SRCXNAME
<span style="color:black">TRANGROUP:2799                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>COMBUF
<span style="color:black">TRANGROUP:279C                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">60h</span>
<span style="color:black">TRANGROUP:279E                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - RESOLVE PATH STRING TO CANONICAL PATH STRING
<span style="color:black">TRANGROUP:279E                                         </span>; DS:SI -&gt; ASCIZ relative path string or directory name
<span style="color:black">TRANGROUP:279E                                         </span>; ES:DI -&gt; 128-byte buffer for ASCIZ canonical fully qualified name
<span style="color:black">TRANGROUP:27A0                 </span><span style="color:navy">jnb     short </span><span style="color:gray">tn_print_xname</span>
<span style="color:black">TRANGROUP:27A2                 </span><span style="color:navy">call    </span>Set_Ext_Error_Msg
<span style="color:black">TRANGROUP:27A5                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, offset </span>SRCXNAME
<span style="color:black">TRANGROUP:27AB                 </span><span style="color:navy">mov     ds:</span>extend_buf_sub<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; one_subst
<span style="color:black">TRANGROUP:27B0                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:27B3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:27B3
</span><span style="color:black">TRANGROUP:27B3 </span><span style="color:gray">tn_print_xname</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:27B3                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, offset </span>COMBUF
<span style="color:black">TRANGROUP:27B9                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>string_buf_ptr
<span style="color:black">TRANGROUP:27BC                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:27BF                 </span><span style="color:navy">call    </span>Printf_Crlf
<span style="color:black">TRANGROUP:27C2                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:27C2 </span>TRUENAME        endp
<span style="color:black">TRANGROUP:27C2
</span><span style="color:black">TRANGROUP:27C3
</span><span style="color:black">TRANGROUP:27C3 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:27C3
</span><span style="color:black">TRANGROUP:27C3
</span><span style="color:black">TRANGROUP:27C3 </span>_$EXIT          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:27C3                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:27C4                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:27C8                 </span><span style="color:navy">cmp     ds:</span>PermCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:27CD                 </span><span style="color:navy">jz      short </span><span style="color:gray">free_com</span>
<span style="color:black">TRANGROUP:27CF                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:27D4                 </span><span style="color:navy">jz      short </span><span style="color:gray">no_reset</span>
<span style="color:black">TRANGROUP:27D6                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:27D9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:27D9
</span><span style="color:black">TRANGROUP:27D9 </span><span style="color:gray">free_com</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:27D9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">122Eh</span>       ; (multdos shl 8 or message_2f)
<span style="color:black">TRANGROUP:27DC                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; SET_CRITICAL_MSG
<span style="color:black">TRANGROUP:27DE                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ds:</span>Crit_Msg_Off
<span style="color:black">TRANGROUP:27E2                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>Crit_Msg_Seg
<span style="color:black">TRANGROUP:27E6                 </span>assume es:RESGROUP
<span style="color:black">TRANGROUP:27E6                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; Multiplex - DOS 3+ internal - GET OR SET ERROR TABLE ADDRESSES
<span style="color:black">TRANGROUP:27E6                                         </span>; DL = subfunction - set critical/SHARE error table
<span style="color:black">TRANGROUP:27E6                                         </span>; ES:DI -&gt; error table
<span style="color:black">TRANGROUP:27E8
</span><span style="color:black">TRANGROUP:27E8 </span><span style="color:gray">no_reset</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:27E8                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:27E9                 </span><span style="color:navy">call    </span>RestUDir1
<span style="color:black">TRANGROUP:27EC                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:27F0                 </span>assume es:nothing
<span style="color:black">TRANGROUP:27F0                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span>Parent
<span style="color:black">TRANGROUP:27F4                 </span><span style="color:navy">mov     es:</span><span style="color:green">16h</span><span style="color:navy">, ax</span>      ; [es:PDB.PARENT_PID]
<span style="color:black">TRANGROUP:27F8                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span>OldTerm
<span style="color:black">TRANGROUP:27FC                 </span><span style="color:navy">mov     es:</span><span style="color:green">0Ah</span><span style="color:navy">, ax</span>      ; [es:PDB.EXIT]
<span style="color:black">TRANGROUP:2800                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span>OldTerm<span style="color:navy">+</span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:2804                 </span><span style="color:navy">mov     es:</span><span style="color:green">0Ch</span><span style="color:navy">, ax</span>      ; [es:PDB.EXIT+2]
<span style="color:black">TRANGROUP:2808                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:2809                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>TRAN_TPA
<span style="color:black">TRANGROUP:280D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:black">TRANGROUP:280F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">TRANGROUP:280F                                         </span>; ES = segment address of area to be freed
<span style="color:black">TRANGROUP:2811                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2812                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">4Ch</span>         ; EXIT
<span style="color:black">TRANGROUP:2814                 </span><span style="color:navy">mov     al</span><span style="color:navy">, byte ptr es:</span>RetCode
<span style="color:black">TRANGROUP:2818                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - QUIT WITH EXIT CODE (EXIT)
<span style="color:black">TRANGROUP:2818 </span>_$EXIT          endp                    ; AL = exit code
<span style="color:black">TRANGROUP:2818
</span><span style="color:black">TRANGROUP:281A
</span><span style="color:black">TRANGROUP:281A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:281A
</span><span style="color:black">TRANGROUP:281A
</span><span style="color:black">TRANGROUP:281A </span>parse_check_eol proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:281A                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:281C                 </span><span style="color:navy">mov     ds:</span>parse_last<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:2820                 </span><span style="color:navy">call    </span>cmd_parse
<span style="color:black">TRANGROUP:2823                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; END_OF_LINE
<span style="color:black">TRANGROUP:2825                 </span><span style="color:navy">jz      short </span><span style="color:gray">parse_good_eol</span>
<span style="color:black">TRANGROUP:2827                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; RESULT_NO_ERROR
<span style="color:black">TRANGROUP:282A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ok_to_setup_pmsg</span>
<span style="color:black">TRANGROUP:282C                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:282D
</span><span style="color:black">TRANGROUP:282D </span><span style="color:gray">ok_to_setup_pmsg</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:282D                 </span><span style="color:navy">call    </span>setup_parse_error_msg
<span style="color:black">TRANGROUP:2830
</span><span style="color:black">TRANGROUP:2830 </span><span style="color:gray">parse_good_eol</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2830                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2830 </span>parse_check_eol endp
<span style="color:black">TRANGROUP:2830
</span><span style="color:black">TRANGROUP:2831
</span><span style="color:black">TRANGROUP:2831 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2831
</span><span style="color:black">TRANGROUP:2831
</span><span style="color:black">TRANGROUP:2831 </span>Parse_With_Msg  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2831                 </span><span style="color:navy">mov     ds:</span>parse_last<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:2835                 </span><span style="color:navy">call    </span>cmd_parse
<span style="color:black">TRANGROUP:2838                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:283A                 </span><span style="color:navy">jz      short </span><span style="color:gray">parse_msg_good</span>
<span style="color:black">TRANGROUP:283C                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:283F                 </span><span style="color:navy">jz      short </span><span style="color:gray">parse_msg_good</span>
<span style="color:black">TRANGROUP:2841                 </span><span style="color:navy">call    </span>setup_parse_error_msg
<span style="color:black">TRANGROUP:2844
</span><span style="color:black">TRANGROUP:2844 </span><span style="color:gray">parse_msg_good</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2844                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2844 </span>Parse_With_Msg  endp
<span style="color:black">TRANGROUP:2844
</span><span style="color:black">TRANGROUP:2845
</span><span style="color:black">TRANGROUP:2845 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2845
</span><span style="color:black">TRANGROUP:2845
</span><span style="color:black">TRANGROUP:2845 </span>setup_parse_error_msg proc near         <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2845                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">2</span> ; parse_msg_class
<span style="color:black">TRANGROUP:284A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:284D                 </span><span style="color:navy">mov     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; END_OF_LINE_OUT
<span style="color:black">TRANGROUP:2850                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2853                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:2856                 </span><span style="color:navy">jz      short </span><span style="color:gray">setup_parse_msg_ret</span>
<span style="color:black">TRANGROUP:2858                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>parse_last
<span style="color:black">TRANGROUP:285C                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:2860                 </span><span style="color:navy">mov     ds:</span>extend_buf_sub<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; one_subst
<span style="color:black">TRANGROUP:2865
</span><span style="color:black">TRANGROUP:2865 </span><span style="color:gray">setup_parse_msg_ret</span><span style="color:navy">:                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2865                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:2866                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2866 </span>setup_parse_error_msg endp
<span style="color:black">TRANGROUP:2866
</span><span style="color:black">TRANGROUP:2867
</span><span style="color:black">TRANGROUP:2867 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2867
</span><span style="color:black">TRANGROUP:2867
</span><span style="color:black">TRANGROUP:2867 </span>ADD_PROMPT      proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2867
</span><span style="color:black">TRANGROUP:2867 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:2930 SIZE 00000033 BYTES
</span><span style="color:black">TRANGROUP:2867
</span><span style="color:black">TRANGROUP:2867                 </span><span style="color:navy">call    </span>delete_prompt
<span style="color:black">TRANGROUP:286A                 </span><span style="color:navy">call    </span>scan_double_null
<span style="color:black">TRANGROUP:286D                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:286E                 </span><span style="color:navy">call    </span>GETARG
<span style="color:black">TRANGROUP:2871                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:2872                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ADD_PROMPT3</span>
<span style="color:black">TRANGROUP:2874
</span><span style="color:black">TRANGROUP:2874 </span><span style="color:gray">ADD_PROMPT_RETN</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2874                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2875 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2875
</span><span style="color:black">TRANGROUP:2875 </span><span style="color:gray">ADD_PROMPT3</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2875                 </span><span style="color:navy">call    </span>move_name
<span style="color:black">TRANGROUP:2878                 </span><span style="color:navy">call    </span>GETARG
<span style="color:black">TRANGROUP:287B                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:287C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ADD_NAME</span>
<span style="color:black">TRANGROUP:287E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:287E
</span><span style="color:black">TRANGROUP:287E </span><span style="color:gray">DISP_ENVJ</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:287E                 </span><span style="color:navy">jmp     </span><span style="color:gray">DISP_ENV</span>
<span style="color:black">TRANGROUP:2881 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2881
</span><span style="color:black">TRANGROUP:2881 </span>ADD_NAME_TO_ENVIRONMENT<span style="color:navy">:                </span><span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2881                 </span><span style="color:navy">call    </span>GETARG
<span style="color:black">TRANGROUP:2884                 </span><span style="color:navy">jz      short </span><span style="color:gray">DISP_ENVJ</span>
<span style="color:black">TRANGROUP:2886                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:2888                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:2889
</span><span style="color:black">TRANGROUP:2889 </span><span style="color:gray">EQLP</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2889                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:288A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">13</span>          ; 0Dh
<span style="color:black">TRANGROUP:288C                 </span><span style="color:navy">jz      short </span><span style="color:gray">QUEQ</span>
<span style="color:black">TRANGROUP:288E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'='</span>         ; 3Dh
<span style="color:black">TRANGROUP:2890                 </span><span style="color:navy">jnz     short </span><span style="color:gray">EQLP</span>
<span style="color:black">TRANGROUP:2892                 </span><span style="color:navy">inc     bl</span>
<span style="color:black">TRANGROUP:2894                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:green">13</span> ; 0Dh
<span style="color:black">TRANGROUP:2897                 </span><span style="color:navy">jnz     short </span><span style="color:gray">EQLP</span>
<span style="color:black">TRANGROUP:2899                 </span><span style="color:navy">inc     bh</span>
<span style="color:black">TRANGROUP:289B                 </span><span style="color:navy">jmp     short </span><span style="color:gray">EQLP</span>
<span style="color:black">TRANGROUP:289D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:289D
</span><span style="color:black">TRANGROUP:289D </span><span style="color:gray">QUEQ</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:289D                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:289E                 </span><span style="color:navy">dec     bl</span>
<span style="color:black">TRANGROUP:28A0                 </span><span style="color:navy">jz      short </span><span style="color:gray">ONEQ</span>
<span style="color:black">TRANGROUP:28A2                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>SYNTMES_PTR
<span style="color:black">TRANGROUP:28A5                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:28A8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:28A8
</span><span style="color:black">TRANGROUP:28A8 </span><span style="color:gray">ONEQ</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:28A8                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:28A9                 </span><span style="color:navy">call    </span>delete_name_in_environment
<span style="color:black">TRANGROUP:28AC                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:28AD                 </span><span style="color:navy">dec     bh</span>
<span style="color:black">TRANGROUP:28AF                 </span><span style="color:navy">jz      short </span><span style="color:gray">ADD_PROMPT_RETN</span>
<span style="color:black">TRANGROUP:28B1                 </span><span style="color:navy">call    </span>scan_double_null
<span style="color:black">TRANGROUP:28B4                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:28B6                 </span><span style="color:navy">call    </span>move_name
<span style="color:black">TRANGROUP:28B9                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:28BA                 </span><span style="color:navy">xchg    bx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:28BC                 </span><span style="color:navy">mov     ds:</span>comspec_flag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:28C1                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>COMSPECSTR <span style="color:gray">; &quot;COMSPEC=&quot;
</span><span style="color:black">TRANGROUP:28C4                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:28C7                 </span><span style="color:navy">repe cmpsw
</span><span style="color:black">TRANGROUP:28C9                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOT_COMSPEC</span>
<span style="color:black">TRANGROUP:28CB                 </span><span style="color:navy">inc     ds:</span>comspec_flag
<span style="color:black">TRANGROUP:28CF
</span><span style="color:black">TRANGROUP:28CF </span><span style="color:gray">NOT_COMSPEC</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:28CF                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:28D1
</span><span style="color:black">TRANGROUP:28D1 </span><span style="color:gray">ADD_NAME</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:28D1                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:28D2                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:28D3
</span><span style="color:black">TRANGROUP:28D3 </span><span style="color:gray">ADD_NAME1</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:28D3                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:28D4                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>         ; 13
<span style="color:black">TRANGROUP:28D6                 </span><span style="color:navy">jz      short </span><span style="color:gray">ADD_NAME_RET</span>
<span style="color:black">TRANGROUP:28D8                 </span><span style="color:navy">call    </span>store_char
<span style="color:black">TRANGROUP:28DB                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ADD_NAME1</span>
<span style="color:black">TRANGROUP:28DD </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:28DD
</span><span style="color:black">TRANGROUP:28DD </span><span style="color:gray">ADD_NAME_RET</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:28DD                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:28DE                 </span><span style="color:navy">cmp     ds:</span>comspec_flag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:28E3
</span><span style="color:black">TRANGROUP:28E3 </span><span style="color:gray">ADD_NAME_JZ_RET</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:28E3                 </span><span style="color:navy">jz      short </span><span style="color:gray">ADD_PROMPT_RETN</span>
<span style="color:black">TRANGROUP:28E5                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:28E8                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:28EC                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>ComSpec
<span style="color:black">TRANGROUP:28EF                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:28F1                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:28F3                 </span><span style="color:navy">mov     es:</span>ComDrv<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:28F7                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:28F8                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:28FA                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:28FD                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:28FE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">_GOTDRIVE</span>
<span style="color:black">TRANGROUP:2900                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">':'</span> ; 3Ah
<span style="color:black">TRANGROUP:2904                 </span><span style="color:navy">jnz     short </span><span style="color:gray">_GOTDRIVE</span>
<span style="color:black">TRANGROUP:2906                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:2908                 </span><span style="color:navy">call    </span>UPCONV
<span style="color:black">TRANGROUP:290B                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">'A'</span>         ; 41h
<span style="color:black">TRANGROUP:290D                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:2910                 </span><span style="color:navy">inc     al</span>
<span style="color:black">TRANGROUP:2912                 </span><span style="color:navy">mov     es:</span>ComDrv<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2916                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">40h</span>         ; 'A'-1
<span style="color:black">TRANGROUP:2918
</span><span style="color:black">TRANGROUP:2918 </span><span style="color:gray">_GOTDRIVE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2918                 </span><span style="color:navy">mov     es:</span>PutBackComSpec<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:291D                 </span><span style="color:navy">mov     es:</span>PutBackDrv<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2921                 </span><span style="color:navy">mov     di</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:2923
</span><span style="color:black">TRANGROUP:2923 </span><span style="color:gray">COPY_COMSPEC</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2923                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2924                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:2927                 </span><span style="color:navy">jz      short </span><span style="color:gray">COPYDONE</span>
<span style="color:black">TRANGROUP:2929                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>         ; 13
<span style="color:black">TRANGROUP:292B                 </span><span style="color:navy">jz      short </span><span style="color:gray">COPYDONE</span>
<span style="color:black">TRANGROUP:292D                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:292E                 </span><span style="color:navy">jmp     short </span><span style="color:gray">COPY_COMSPEC</span>
<span style="color:black">TRANGROUP:292E </span>ADD_PROMPT      endp
<span style="color:black">TRANGROUP:292E
</span><span style="color:black">TRANGROUP:2930 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2930 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR ADD_PROMPT
</span><span style="color:black">TRANGROUP:2930
</span><span style="color:black">TRANGROUP:2930 </span><span style="color:gray">COPYDONE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2930                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2932                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2933                 </span><span style="color:navy">mov     ds:</span>comspec_flag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2938                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:2939                 </span><span style="color:navy">mov     es:</span>ComSpec_End<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:293E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:293F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:293F
</span><span style="color:black">TRANGROUP:293F </span><span style="color:gray">DISP_ENV</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:293F                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:2943                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>EnvirSeg
<span style="color:black">TRANGROUP:2947                 </span><span style="color:navy">xor     si</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:2949
</span><span style="color:black">TRANGROUP:2949 </span><span style="color:gray">PENVLP</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2949                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:294C                 </span><span style="color:navy">jz      short </span><span style="color:gray">ADD_NAME_JZ_RET</span>
<span style="color:black">TRANGROUP:294E                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>Arg_Buf
<span style="color:black">TRANGROUP:2951
</span><span style="color:black">TRANGROUP:2951 </span><span style="color:gray">PENVLP2</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2951                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2952                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2953                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2955                 </span><span style="color:navy">jnz     short </span><span style="color:gray">PENVLP2</span>
<span style="color:black">TRANGROUP:2957                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>arg_buf_ptr
<span style="color:black">TRANGROUP:295A                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:295B                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:295C                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:295D                 </span><span style="color:navy">call    </span>Printf_Crlf
<span style="color:black">TRANGROUP:2960                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2961                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PENVLP</span>
<span style="color:black">TRANGROUP:2961 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR ADD_PROMPT
</span><span style="color:black">TRANGROUP:2963
</span><span style="color:black">TRANGROUP:2963 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2963
</span><span style="color:black">TRANGROUP:2963
</span><span style="color:black">TRANGROUP:2963 </span>delete_path     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2963                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>PATH_TEXT <span style="color:gray">; &quot;PATH=&quot;
</span><span style="color:black">TRANGROUP:2966                 </span><span style="color:navy">jmp     short </span>delete_name_in_environment
<span style="color:black">TRANGROUP:2966 </span>delete_path     endp
<span style="color:black">TRANGROUP:2966
</span><span style="color:black">TRANGROUP:2968
</span><span style="color:black">TRANGROUP:2968 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2968
</span><span style="color:black">TRANGROUP:2968
</span><span style="color:black">TRANGROUP:2968 </span>delete_prompt   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2968                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>PROMPT_TEXT <span style="color:gray">; &quot;PROMPT=&quot;
</span><span style="color:black">TRANGROUP:296B
</span><span style="color:black">TRANGROUP:296B </span>delete_name_in_environment<span style="color:navy">:             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:296B                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:296C                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:296D                 </span><span style="color:navy">call    </span>FIND
<span style="color:black">TRANGROUP:2970                 </span><span style="color:navy">jb      short </span><span style="color:gray">del1</span>
<span style="color:black">TRANGROUP:2972                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:2974                 </span><span style="color:navy">call    </span>SCASB2
<span style="color:black">TRANGROUP:2977                 </span><span style="color:navy">xchg    si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:2979                 </span><span style="color:navy">cmp     byte ptr es:[si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:297D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">not_dnull</span>
<span style="color:black">TRANGROUP:297F                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:2980
</span><span style="color:black">TRANGROUP:2980 </span><span style="color:gray">not_dnull</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2980                 </span><span style="color:navy">call    </span>GETENVSIZ
<span style="color:black">TRANGROUP:2983                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:2985                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:2986                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2987                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:2989
</span><span style="color:black">TRANGROUP:2989 </span><span style="color:gray">del1</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2989                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:298A                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:298B
</span><span style="color:black">TRANGROUP:298B </span>find_retn<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:298B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:298B </span>delete_prompt   endp
<span style="color:black">TRANGROUP:298B
</span><span style="color:black">TRANGROUP:298C
</span><span style="color:black">TRANGROUP:298C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:298C
</span><span style="color:black">TRANGROUP:298C
</span><span style="color:black">TRANGROUP:298C </span>find_path       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:298C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>PATH_TEXT <span style="color:gray">; &quot;PATH=&quot;
</span><span style="color:black">TRANGROUP:298F                 </span><span style="color:navy">jmp     short </span>find_name_in_environment
<span style="color:black">TRANGROUP:298F </span>find_path       endp
<span style="color:black">TRANGROUP:298F
</span><span style="color:black">TRANGROUP:2991
</span><span style="color:black">TRANGROUP:2991 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2991
</span><span style="color:black">TRANGROUP:2991
</span><span style="color:black">TRANGROUP:2991 </span>find_prompt     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2991                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>PROMPT_TEXT <span style="color:gray">; &quot;PROMPT=&quot;
</span><span style="color:black">TRANGROUP:2991 </span>find_prompt     endp
<span style="color:black">TRANGROUP:2991
</span><span style="color:black">TRANGROUP:2994
</span><span style="color:black">TRANGROUP:2994 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2994
</span><span style="color:black">TRANGROUP:2994
</span><span style="color:black">TRANGROUP:2994 </span>find_name_in_environment proc near      <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2994                 </span><span style="color:navy">call    </span>FIND
<span style="color:black">TRANGROUP:2997                 </span><span style="color:navy">jb      short </span>find_retn
<span style="color:black">TRANGROUP:2999                 </span><span style="color:navy">jmp     </span>SCASB1
<span style="color:black">TRANGROUP:2999 </span>find_name_in_environment endp
<span style="color:black">TRANGROUP:2999
</span><span style="color:black">TRANGROUP:299C
</span><span style="color:black">TRANGROUP:299C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:299C
</span><span style="color:black">TRANGROUP:299C
</span><span style="color:black">TRANGROUP:299C </span>FIND            proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:299C                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:299D                 </span><span style="color:navy">call    </span>COUNT0
<span style="color:black">TRANGROUP:29A0                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:29A4                 </span><span style="color:navy">mov     es</span><span style="color:navy">, es:</span>EnvirSeg
<span style="color:black">TRANGROUP:29A9                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:29AB
</span><span style="color:black">TRANGROUP:29AB </span><span style="color:gray">find1</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:29AB                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:29AC                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:29AD                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:29AE
</span><span style="color:black">TRANGROUP:29AE </span><span style="color:gray">find11</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:29AE                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:29AF                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:29B2                 </span><span style="color:navy">jz      short </span><span style="color:gray">notkanj3</span>
<span style="color:black">TRANGROUP:29B4                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:29B5                 </span><span style="color:navy">lodsw
</span><span style="color:black">TRANGROUP:29B6                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:29B7                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:29B8                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, es:[di-</span><span style="color:green">2</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:29BC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">find12</span>
<span style="color:black">TRANGROUP:29BE                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:29BF                 </span><span style="color:navy">loop    </span><span style="color:gray">find11</span>
<span style="color:black">TRANGROUP:29C1                 </span><span style="color:navy">jmp     short </span><span style="color:gray">find12</span>
<span style="color:black">TRANGROUP:29C3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:29C3
</span><span style="color:black">TRANGROUP:29C3 </span><span style="color:gray">notkanj3</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:29C3                 </span><span style="color:navy">call    </span>UPCONV
<span style="color:black">TRANGROUP:29C6                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:29C7                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[di-</span><span style="color:green">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:29CB                 </span><span style="color:navy">jnz     short </span><span style="color:gray">find12</span>
<span style="color:black">TRANGROUP:29CD                 </span><span style="color:navy">loop    </span><span style="color:gray">find11</span>
<span style="color:black">TRANGROUP:29CF
</span><span style="color:black">TRANGROUP:29CF </span><span style="color:gray">find12</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:29CF                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:29D0                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:29D1                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:29D2                 </span><span style="color:navy">jz      short </span>find_retn
<span style="color:black">TRANGROUP:29D4                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:29D5                 </span><span style="color:navy">call    </span>SCASB2
<span style="color:black">TRANGROUP:29D8                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:29D9                 </span><span style="color:navy">cmp     byte ptr es:[di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:29DD                 </span><span style="color:navy">jnz     short </span><span style="color:gray">find1</span>
<span style="color:black">TRANGROUP:29DF                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:29E0                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:29E0 </span>FIND            endp
<span style="color:black">TRANGROUP:29E0
</span><span style="color:black">TRANGROUP:29E1
</span><span style="color:black">TRANGROUP:29E1 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:29E1
</span><span style="color:black">TRANGROUP:29E1
</span><span style="color:black">TRANGROUP:29E1 </span>COUNT0          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:29E1                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:29E2                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:29E3                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:29E5                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:29E6                 </span><span style="color:navy">call    </span>SCASB1
<span style="color:black">TRANGROUP:29E9                 </span><span style="color:navy">jmp     short </span><span style="color:gray">COUNTX</span>
<span style="color:black">TRANGROUP:29EB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:29EB                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:29EC                 </span><span style="color:navy">call    </span>SCASB2
<span style="color:black">TRANGROUP:29EF
</span><span style="color:black">TRANGROUP:29EF </span><span style="color:gray">COUNTX</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:29EF                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:29F0                 </span><span style="color:navy">sub     di</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:29F2                 </span><span style="color:navy">xchg    di</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:29F4
</span><span style="color:black">TRANGROUP:29F4 </span>move_name_retn<span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:29F4                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:29F4 </span>COUNT0          endp
<span style="color:black">TRANGROUP:29F4
</span><span style="color:black">TRANGROUP:29F5
</span><span style="color:black">TRANGROUP:29F5 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:29F5
</span><span style="color:black">TRANGROUP:29F5
</span><span style="color:black">TRANGROUP:29F5 </span>move_name       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:29F5                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:green">13</span> ; 0Dh
<span style="color:black">TRANGROUP:29F8                 </span><span style="color:navy">jz      short </span>move_name_retn
<span style="color:black">TRANGROUP:29FA                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:29FB                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:29FE                 </span><span style="color:navy">jz      short </span><span style="color:gray">notkanj1</span>
<span style="color:black">TRANGROUP:2A00                 </span><span style="color:navy">call    </span>store_char
<span style="color:black">TRANGROUP:2A03                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2A04                 </span><span style="color:navy">call    </span>store_char
<span style="color:black">TRANGROUP:2A07                 </span><span style="color:navy">jmp     short </span>move_name
<span style="color:black">TRANGROUP:2A09 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2A09
</span><span style="color:black">TRANGROUP:2A09 </span><span style="color:gray">notkanj1</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A09                 </span><span style="color:navy">call    </span>UPCONV
<span style="color:black">TRANGROUP:2A0C                 </span><span style="color:navy">call    </span>store_char
<span style="color:black">TRANGROUP:2A0F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'='</span>
<span style="color:black">TRANGROUP:2A11                 </span><span style="color:navy">jnz     short </span>move_name
<span style="color:black">TRANGROUP:2A13
</span><span style="color:black">TRANGROUP:2A13 </span>getarg_retn<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A13                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2A13 </span>move_name       endp
<span style="color:black">TRANGROUP:2A13
</span><span style="color:black">TRANGROUP:2A14
</span><span style="color:black">TRANGROUP:2A14 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2A14
</span><span style="color:black">TRANGROUP:2A14
</span><span style="color:black">TRANGROUP:2A14 </span>GETARG          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A14                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:2A17                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2A18                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2A1A                 </span><span style="color:navy">jz      short </span>getarg_retn
<span style="color:black">TRANGROUP:2A1C                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:2A1F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>         ; 13
<span style="color:black">TRANGROUP:2A21
</span><span style="color:black">TRANGROUP:2A21 </span>sdn_retn<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A21                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2A21 </span>GETARG          endp
<span style="color:black">TRANGROUP:2A21
</span><span style="color:black">TRANGROUP:2A22
</span><span style="color:black">TRANGROUP:2A22 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2A22
</span><span style="color:black">TRANGROUP:2A22
</span><span style="color:black">TRANGROUP:2A22 </span>scan_double_null proc near              <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A22                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:2A26                 </span><span style="color:navy">mov     es</span><span style="color:navy">, es:</span>EnvirSeg
<span style="color:black">TRANGROUP:2A2B                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:2A2D
</span><span style="color:black">TRANGROUP:2A2D </span><span style="color:gray">sdn1</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A2D                 </span><span style="color:navy">cmp     byte ptr es:[di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2A31                 </span><span style="color:navy">jz      short </span>sdn_retn
<span style="color:black">TRANGROUP:2A33                 </span><span style="color:navy">call    </span>SCASB2
<span style="color:black">TRANGROUP:2A36                 </span><span style="color:navy">jmp     short </span><span style="color:gray">sdn1</span>
<span style="color:black">TRANGROUP:2A36 </span>scan_double_null endp
<span style="color:black">TRANGROUP:2A36
</span><span style="color:black">TRANGROUP:2A38
</span><span style="color:black">TRANGROUP:2A38 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2A38
</span><span style="color:black">TRANGROUP:2A38
</span><span style="color:black">TRANGROUP:2A38 </span>SCASB1          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A38                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'='</span>
<span style="color:black">TRANGROUP:2A3A                 </span><span style="color:navy">jmp     short </span>SCASBX
<span style="color:black">TRANGROUP:2A3A </span>SCASB1          endp
<span style="color:black">TRANGROUP:2A3A
</span><span style="color:black">TRANGROUP:2A3C
</span><span style="color:black">TRANGROUP:2A3C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2A3C
</span><span style="color:black">TRANGROUP:2A3C
</span><span style="color:black">TRANGROUP:2A3C </span>SCASB2          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A3C                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2A3E
</span><span style="color:black">TRANGROUP:2A3E </span>SCASBX<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A3E                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">256</span>
<span style="color:black">TRANGROUP:2A41                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:2A43                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2A43 </span>SCASB2          endp
<span style="color:black">TRANGROUP:2A43
</span><span style="color:black">TRANGROUP:2A44
</span><span style="color:black">TRANGROUP:2A44 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2A44
</span><span style="color:black">TRANGROUP:2A44
</span><span style="color:black">TRANGROUP:2A44 </span>testkanj        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A44                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:2A45                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:2A46                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:2A47                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, cs:</span>RESSEG
<span style="color:black">TRANGROUP:2A4C                 </span><span style="color:navy">lds     si</span><span style="color:navy">, ds:</span>Dbcs_Vector_Addr
<span style="color:black">TRANGROUP:2A50
</span><span style="color:black">TRANGROUP:2A50 </span><span style="color:gray">ktlop</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A50                 </span><span style="color:navy">cmp     word ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2A53                 </span><span style="color:navy">jz      short </span><span style="color:gray">notlead</span>
<span style="color:black">TRANGROUP:2A55                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:2A56                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:2A57                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:2A59                 </span><span style="color:navy">jb      short </span><span style="color:gray">notlead</span>
<span style="color:black">TRANGROUP:2A5B                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:2A5C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:2A5E                 </span><span style="color:navy">jbe     short </span><span style="color:gray">islead</span>
<span style="color:black">TRANGROUP:2A60                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:2A61                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ktlop</span>
<span style="color:black">TRANGROUP:2A63 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2A63
</span><span style="color:black">TRANGROUP:2A63 </span><span style="color:gray">notlead</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A63                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2A65                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ktret</span>
<span style="color:black">TRANGROUP:2A67 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2A67
</span><span style="color:black">TRANGROUP:2A67 </span><span style="color:gray">islead</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A67                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2A69                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:2A6A
</span><span style="color:black">TRANGROUP:2A6A </span><span style="color:gray">ktret</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A6A                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:2A6B                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:2A6C                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2A6D                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2A6D </span>testkanj        endp
<span style="color:black">TRANGROUP:2A6D
</span><span style="color:black">TRANGROUP:2A6E
</span><span style="color:black">TRANGROUP:2A6E </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2A6E
</span><span style="color:black">TRANGROUP:2A6E
</span><span style="color:black">TRANGROUP:2A6E </span>UPCONV          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A6E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:2A70                 </span><span style="color:navy">jb      short </span><span style="color:gray">oth_fucase</span>
<span style="color:black">TRANGROUP:2A72                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:2A74                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:2A75                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:2A76                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:2A7A                 </span><span style="color:navy">lds     bx</span><span style="color:navy">, dword ptr ds:</span>FUCase_Addr<span style="color:navy">+</span><span style="color:green">1</span> ;
<span style="color:black">TRANGROUP:2A7A                                         </span>; lds bx,[FUCase_Addr+1]
<span style="color:black">TRANGROUP:2A7E                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:2A81                 </span><span style="color:navy">xlat
</span><span style="color:black">TRANGROUP:2A82                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:2A83                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2A84                 </span><span style="color:navy">jmp     short </span><span style="color:gray">upconv_end</span>
<span style="color:black">TRANGROUP:2A86 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2A86
</span><span style="color:black">TRANGROUP:2A86 </span><span style="color:gray">oth_fucase</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A86                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">61h</span> <span style="color:gray">; 'a'   </span>; small_a
<span style="color:black">TRANGROUP:2A88                 </span><span style="color:navy">jb      short </span><span style="color:gray">upconv_end</span>
<span style="color:black">TRANGROUP:2A8A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">7Ah</span> <span style="color:gray">; 'z'   </span>; small_z
<span style="color:black">TRANGROUP:2A8C                 </span><span style="color:navy">ja      short </span><span style="color:gray">upconv_end</span>
<span style="color:black">TRANGROUP:2A8E                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:2A90
</span><span style="color:black">TRANGROUP:2A90 </span><span style="color:gray">upconv_end</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A90                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2A90 </span>UPCONV          endp
<span style="color:black">TRANGROUP:2A90
</span><span style="color:black">TRANGROUP:2A91
</span><span style="color:black">TRANGROUP:2A91 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2A91
</span><span style="color:black">TRANGROUP:2A91
</span><span style="color:black">TRANGROUP:2A91 </span>store_char      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2A91                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:2A92                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:2A93                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:2A94                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:2A95                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:2A99                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>EnvirSeg
<span style="color:black">TRANGROUP:2A9D                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2A9E                 </span><span style="color:navy">call    </span>GETENVSIZ
<span style="color:black">TRANGROUP:2AA1                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2AA3                 </span><span style="color:navy">sub     bx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:2AA6                 </span><span style="color:navy">cmp     di</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:2AA8                 </span><span style="color:navy">jb      short </span><span style="color:gray">store1</span>
<span style="color:black">TRANGROUP:2AAA                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:2AAB                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:2AAC                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:2AAD                 </span><span style="color:navy">call    </span>FREE_TPA
<span style="color:black">TRANGROUP:2AB0                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:2AB1                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:2AB4                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:green">8000h</span>
<span style="color:black">TRANGROUP:2AB8                 </span><span style="color:navy">jb      short </span><span style="color:gray">envsiz_ok</span>
<span style="color:black">TRANGROUP:2ABA
</span><span style="color:black">TRANGROUP:2ABA </span><span style="color:gray">bad_env_size</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2ABA                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:2ABB                 </span><span style="color:navy">jmp     short </span><span style="color:gray">envnoset</span>
<span style="color:black">TRANGROUP:2ABD </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2ABD
</span><span style="color:black">TRANGROUP:2ABD </span><span style="color:gray">envsiz_ok</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2ABD                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:2ABF                 </span><span style="color:navy">shr     bx</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:2AC1                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:2AC2                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:2AC4                 </span><span style="color:navy">add     cx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:2AC6                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:2AC9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs</span>
<span style="color:black">TRANGROUP:2ACB                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2ACD                 </span><span style="color:navy">jnb     short </span><span style="color:gray">bad_env_size</span>
<span style="color:black">TRANGROUP:2ACF                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">4Ah</span>
<span style="color:black">TRANGROUP:2AD1                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
<span style="color:black">TRANGROUP:2AD1                                         </span>; ES = segment address of block to change
<span style="color:black">TRANGROUP:2AD1                                         </span>; BX = new size in paragraphs
<span style="color:black">TRANGROUP:2AD3
</span><span style="color:black">TRANGROUP:2AD3 </span><span style="color:gray">envnoset</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2AD3                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:2AD4                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:2AD5                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:2AD9                 </span><span style="color:navy">call    </span>ALLOC_TPA
<span style="color:black">TRANGROUP:2ADC                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2ADD                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:2ADE                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:2ADF                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:2AE0                 </span><span style="color:navy">jnb     short </span><span style="color:gray">store1</span>
<span style="color:black">TRANGROUP:2AE2                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2AE3                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>ENVERR_PTR
<span style="color:black">TRANGROUP:2AE6                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:2AE9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2AE9
</span><span style="color:black">TRANGROUP:2AE9 </span><span style="color:gray">store1</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2AE9                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2AEA                 </span><span style="color:navy">mov     word ptr es:[di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2AEF                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2AF0                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:2AF1                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:2AF2                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2AF2 </span>store_char      endp
<span style="color:black">TRANGROUP:2AF2
</span><span style="color:black">TRANGROUP:2AF3
</span><span style="color:black">TRANGROUP:2AF3 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2AF3
</span><span style="color:black">TRANGROUP:2AF3
</span><span style="color:black">TRANGROUP:2AF3 </span>GETENVSIZ       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2AF3                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:2AF4                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:2AF5                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:2AF7                 </span><span style="color:navy">dec     ax</span>
<span style="color:black">TRANGROUP:2AF8                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2AFA                 </span>assume es:nothing
<span style="color:black">TRANGROUP:2AFA                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; [es:ARENA.size]
<span style="color:black">TRANGROUP:2AFE                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:2B00                 </span><span style="color:navy">shl     ax</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:2B02                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2B04                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:2B05                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2B06                 </span>assume es:nothing
<span style="color:black">TRANGROUP:2B06
</span><span style="color:black">TRANGROUP:2B06 </span>getenvsiz_retn<span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2B06                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2B06 </span>GETENVSIZ       endp
<span style="color:black">TRANGROUP:2B06
</span><span style="color:black">TRANGROUP:2B07
</span><span style="color:black">TRANGROUP:2B07 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2B07
</span><span style="color:black">TRANGROUP:2B07
</span><span style="color:black">TRANGROUP:2B07 </span>RestUDir1       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2B07                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:2B08                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:2B0C                 </span><span style="color:navy">cmp     ds:</span>RestDir<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2B11                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2B12                 </span><span style="color:navy">jz      short </span>getenvsiz_retn
<span style="color:black">TRANGROUP:2B14
</span><span style="color:black">TRANGROUP:2B14 </span>RestUDir<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2B14                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>USERDIR1
<span style="color:black">TRANGROUP:2B17                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Bh</span>
<span style="color:black">TRANGROUP:2B19                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
<span style="color:black">TRANGROUP:2B19                                         </span>; DS:DX -&gt; ASCIZ directory name (may include drive)
<span style="color:black">TRANGROUP:2B1B                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2B1D                 </span><span style="color:navy">call    </span>SETREST
<span style="color:black">TRANGROUP:2B20                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2B20 </span>RestUDir1       endp
<span style="color:black">TRANGROUP:2B20
</span><span style="color:black">TRANGROUP:2B21
</span><span style="color:black">TRANGROUP:2B21 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2B21
</span><span style="color:black">TRANGROUP:2B21
</span><span style="color:black">TRANGROUP:2B21 </span>_$CHDIR         proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2B21                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:2B24                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_CHDIR
<span style="color:black">TRANGROUP:2B27                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2B29                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2B2B                 </span><span style="color:navy">call    </span>Parse_With_Msg
<span style="color:black">TRANGROUP:2B2E                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:2B31                 </span><span style="color:navy">jz      short </span><span style="color:gray">bwdj</span>
<span style="color:black">TRANGROUP:2B33                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2B36                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ChDirErr</span>
<span style="color:black">TRANGROUP:2B38                 </span><span style="color:navy">cmp     ds:</span>PARSE1_OUTPUT<span style="color:navy">, </span><span style="color:#ff8000">6</span> ; [PARSE1_TYPE],result_drive
<span style="color:black">TRANGROUP:2B3D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">REALCD</span>
<span style="color:black">TRANGROUP:2B3F                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_CHDIR
<span style="color:black">TRANGROUP:2B42                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2B44                 </span><span style="color:navy">call    </span>parse_check_eol
<span style="color:black">TRANGROUP:2B47                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ChDirErr</span>
<span style="color:black">TRANGROUP:2B49
</span><span style="color:black">TRANGROUP:2B49 </span><span style="color:gray">bwdj</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2B49                 </span><span style="color:navy">call    </span>build_dir_for_chdir
<span style="color:black">TRANGROUP:2B4C                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:2B4F
</span><span style="color:black">TRANGROUP:2B4F </span><span style="color:gray">chdir_retn</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2B4F                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2B50 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2B50
</span><span style="color:black">TRANGROUP:2B50 </span><span style="color:gray">REALCD</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2B50                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:2B51                 </span><span style="color:navy">lds     si</span><span style="color:navy">, ds:</span>PARSE1_ADDR
<span style="color:black">TRANGROUP:2B55                 </span><span style="color:navy">call    </span>Move_To_SrcBuf
<span style="color:black">TRANGROUP:2B58                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:2B59                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_CHDIR
<span style="color:black">TRANGROUP:2B5C                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2B5E                 </span><span style="color:navy">call    </span>parse_check_eol
<span style="color:black">TRANGROUP:2B61                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ChDirErr</span>
<span style="color:black">TRANGROUP:2B63                 </span><span style="color:navy">call    </span>SETPATH
<span style="color:black">TRANGROUP:2B66                 </span><span style="color:navy">test    ds:</span>DestInfo<span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:2B6B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">BadChDir</span>
<span style="color:black">TRANGROUP:2B6D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Bh</span>
<span style="color:black">TRANGROUP:2B6F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
<span style="color:black">TRANGROUP:2B6F                                         </span>; DS:DX -&gt; ASCIZ directory name (may include drive)
<span style="color:black">TRANGROUP:2B71                 </span><span style="color:navy">jnb     short </span><span style="color:gray">chdir_retn</span>
<span style="color:black">TRANGROUP:2B73                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:2B76                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; ERROR_PATH_NOT_FOUND
<span style="color:black">TRANGROUP:2B79                 </span><span style="color:navy">jz      short </span><span style="color:gray">BadChDir</span>
<span style="color:black">TRANGROUP:2B7B                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; ERROR_ACCESS_DENIED
<span style="color:black">TRANGROUP:2B7E                 </span><span style="color:navy">jz      short </span><span style="color:gray">BadChDir</span>
<span style="color:black">TRANGROUP:2B80                 </span><span style="color:navy">call    </span>set_ext_error_subst
<span style="color:black">TRANGROUP:2B83                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ChDirErr</span>
<span style="color:black">TRANGROUP:2B85 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2B85
</span><span style="color:black">TRANGROUP:2B85 </span><span style="color:gray">BadChDir</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2B85                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>badcd_ptr
<span style="color:black">TRANGROUP:2B88
</span><span style="color:black">TRANGROUP:2B88 </span><span style="color:gray">ChDirErr</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2B88                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:2B8B
</span><span style="color:black">TRANGROUP:2B8B </span>mkdir_retn<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2B8B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2B8B </span>_$CHDIR         endp
<span style="color:black">TRANGROUP:2B8B
</span><span style="color:black">TRANGROUP:2B8C
</span><span style="color:black">TRANGROUP:2B8C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2B8C
</span><span style="color:black">TRANGROUP:2B8C
</span><span style="color:black">TRANGROUP:2B8C </span>_$MKDIR         proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2B8C                 </span><span style="color:navy">call    </span>SETRMMK
<span style="color:black">TRANGROUP:2B8F                 </span><span style="color:navy">jb      short </span><span style="color:gray">MkDirErr</span>
<span style="color:black">TRANGROUP:2B91                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">39h</span>
<span style="color:black">TRANGROUP:2B93                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CREATE A SUBDIRECTORY (MKDIR)
<span style="color:black">TRANGROUP:2B93                                         </span>; DS:DX -&gt; ASCIZ pathname (may include drive)
<span style="color:black">TRANGROUP:2B95                 </span><span style="color:navy">jnb     short </span>mkdir_retn
<span style="color:black">TRANGROUP:2B97                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:2B9A                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; ERROR_PATH_NOT_FOUND
<span style="color:black">TRANGROUP:2B9D                 </span><span style="color:navy">jz      short </span><span style="color:gray">MD_other_err</span>
<span style="color:black">TRANGROUP:2B9F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; ERROR_ACCESS_DENIED
<span style="color:black">TRANGROUP:2BA2                 </span><span style="color:navy">jz      short </span><span style="color:gray">badmderr</span>
<span style="color:black">TRANGROUP:2BA4                 </span><span style="color:navy">call    </span>set_ext_error_subst
<span style="color:black">TRANGROUP:2BA7                 </span><span style="color:navy">jmp     short </span><span style="color:gray">MkDirErr</span>
<span style="color:black">TRANGROUP:2BA9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2BA9
</span><span style="color:black">TRANGROUP:2BA9 </span><span style="color:gray">badmderr</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2BA9                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>SRCXNAME
<span style="color:black">TRANGROUP:2BAC                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">1Ah</span>
<span style="color:black">TRANGROUP:2BAE                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET DISK TRANSFER AREA ADDRESS
<span style="color:black">TRANGROUP:2BAE                                         </span>; DS:DX -&gt; disk transfer buffer
<span style="color:black">TRANGROUP:2BB0                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">4Eh</span>
<span style="color:black">TRANGROUP:2BB2                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">10h</span>         ; ATTR_DIRECTORY
<span style="color:black">TRANGROUP:2BB5                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
<span style="color:black">TRANGROUP:2BB5                                         </span>; CX = search attributes
<span style="color:black">TRANGROUP:2BB5                                         </span>; DS:DX -&gt; ASCIZ filespec
<span style="color:black">TRANGROUP:2BB5                                         </span>; (drive, path, and wildcards allowed)
<span style="color:black">TRANGROUP:2BB7                 </span><span style="color:navy">jb      short </span><span style="color:gray">MD_other_err</span>
<span style="color:black">TRANGROUP:2BB9                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, ds:</span>SRCXNAME<span style="color:navy">+</span><span style="color:green">15h</span> ; [SRCXNAME+FIND_BUF.ATTR] ; [SRCXNAME+21]
<span style="color:black">TRANGROUP:2BBD                 </span><span style="color:navy">test    dl</span><span style="color:navy">, </span><span style="color:green">10h</span>
<span style="color:black">TRANGROUP:2BC0                 </span><span style="color:navy">jz      short </span><span style="color:gray">MD_other_err</span>
<span style="color:black">TRANGROUP:2BC2                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>MD_EXISTS_PTR
<span style="color:black">TRANGROUP:2BC5                 </span><span style="color:navy">jmp     short </span><span style="color:gray">MkDirErr</span>
<span style="color:black">TRANGROUP:2BC7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2BC7
</span><span style="color:black">TRANGROUP:2BC7 </span><span style="color:gray">MD_other_err</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2BC7                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>badmkd_ptr
<span style="color:black">TRANGROUP:2BCA
</span><span style="color:black">TRANGROUP:2BCA </span><span style="color:gray">MkDirErr</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2BCA                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:2BCD
</span><span style="color:black">TRANGROUP:2BCD </span>setrmmk_retn<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2BCD                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2BCD </span>_$MKDIR         endp
<span style="color:black">TRANGROUP:2BCD
</span><span style="color:black">TRANGROUP:2BCE
</span><span style="color:black">TRANGROUP:2BCE </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2BCE
</span><span style="color:black">TRANGROUP:2BCE
</span><span style="color:black">TRANGROUP:2BCE </span>SETRMMK         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2BCE                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:2BD1                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_MRDIR
<span style="color:black">TRANGROUP:2BD4                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2BD6                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2BD8                 </span><span style="color:navy">call    </span>Parse_With_Msg
<span style="color:black">TRANGROUP:2BDB                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; RESULT_NO_ERROR
<span style="color:black">TRANGROUP:2BDE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">noarger</span>
<span style="color:black">TRANGROUP:2BE0                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>SRCXNAME
<span style="color:black">TRANGROUP:2BE3                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:2BE4                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:2BE5                 </span><span style="color:navy">lds     si</span><span style="color:navy">, ds:</span>PARSE1_ADDR
<span style="color:black">TRANGROUP:2BE9
</span><span style="color:black">TRANGROUP:2BE9 </span><span style="color:gray">mrdir_move_filename</span><span style="color:navy">:                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2BE9                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2BEA                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2BEB                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; END_OF_LINE_OUT
<span style="color:black">TRANGROUP:2BED                 </span><span style="color:navy">jnz     short </span><span style="color:gray">mrdir_move_filename</span>
<span style="color:black">TRANGROUP:2BEF                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:2BF0                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_MRDIR
<span style="color:black">TRANGROUP:2BF3                 </span><span style="color:navy">call    </span>parse_check_eol
<span style="color:black">TRANGROUP:2BF6                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:2BF7                 </span><span style="color:navy">jz      short </span>setrmmk_retn
<span style="color:black">TRANGROUP:2BF9
</span><span style="color:black">TRANGROUP:2BF9 </span><span style="color:gray">noarger</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2BF9                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:2BFC                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2BFE                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:2BFF
</span><span style="color:black">TRANGROUP:2BFF </span>rmdir_retn<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2BFF                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2BFF </span>SETRMMK         endp
<span style="color:black">TRANGROUP:2BFF
</span><span style="color:black">TRANGROUP:2C00
</span><span style="color:black">TRANGROUP:2C00 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2C00
</span><span style="color:black">TRANGROUP:2C00
</span><span style="color:black">TRANGROUP:2C00 </span>_$RMDIR         proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:2C00                 </span><span style="color:navy">call    </span>SETRMMK
<span style="color:black">TRANGROUP:2C03                 </span><span style="color:navy">jb      short </span><span style="color:gray">RmDirErr</span>
<span style="color:black">TRANGROUP:2C05                 </span><span style="color:navy">jnz     short </span><span style="color:gray">badrderr</span>
<span style="color:black">TRANGROUP:2C07                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Ah</span>
<span style="color:black">TRANGROUP:2C09                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - REMOVE A DIRECTORY ENTRY (RMDIR)
<span style="color:black">TRANGROUP:2C09                                         </span>; DS:DX -&gt; ASCIZ pathname (may include drive)
<span style="color:black">TRANGROUP:2C0B                 </span><span style="color:navy">jnb     short </span>rmdir_retn
<span style="color:black">TRANGROUP:2C0D                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:2C10                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; ERROR_PATH_NOT_FOUND
<span style="color:black">TRANGROUP:2C13                 </span><span style="color:navy">jz      short </span><span style="color:gray">badrderr</span>
<span style="color:black">TRANGROUP:2C15                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; ERROR_ACCESS_DENIED
<span style="color:black">TRANGROUP:2C18                 </span><span style="color:navy">jz      short </span><span style="color:gray">badrderr</span>
<span style="color:black">TRANGROUP:2C1A                 </span><span style="color:navy">call    </span>set_ext_error_subst
<span style="color:black">TRANGROUP:2C1D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">RmDirErr</span>
<span style="color:black">TRANGROUP:2C1F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2C1F
</span><span style="color:black">TRANGROUP:2C1F </span><span style="color:gray">badrderr</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C1F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>badrmd_ptr
<span style="color:black">TRANGROUP:2C22
</span><span style="color:black">TRANGROUP:2C22 </span><span style="color:gray">RmDirErr</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C22                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:2C25
</span><span style="color:black">TRANGROUP:2C25 </span>savudir_err_retn<span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C25                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2C25 </span>_$RMDIR         endp
<span style="color:black">TRANGROUP:2C25
</span><span style="color:black">TRANGROUP:2C26
</span><span style="color:black">TRANGROUP:2C26 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2C26
</span><span style="color:black">TRANGROUP:2C26
</span><span style="color:black">TRANGROUP:2C26 </span>set_ext_error_subst proc near           <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C26                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; ext_msg_class
<span style="color:black">TRANGROUP:2C2B                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2C2F                 </span><span style="color:navy">mov     ds:</span>extend_buf_sub<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; one_subst
<span style="color:black">TRANGROUP:2C34                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:2C37                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2C3A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2C3A </span>set_ext_error_subst endp
<span style="color:black">TRANGROUP:2C3A
</span><span style="color:black">TRANGROUP:2C3B
</span><span style="color:black">TRANGROUP:2C3B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2C3B
</span><span style="color:black">TRANGROUP:2C3B
</span><span style="color:black">TRANGROUP:2C3B </span>SAVUDIR         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C3B                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>USERDIR1
<span style="color:black">TRANGROUP:2C3E
</span><span style="color:black">TRANGROUP:2C3E </span>SAVUDIR1<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C3E                 </span><span style="color:navy">mov     al</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:2C40                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:#ff8000">40h</span> <span style="color:gray">; '@'
</span><span style="color:black">TRANGROUP:2C42                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">40h</span> <span style="color:gray">; '@'
</span><span style="color:black">TRANGROUP:2C44                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GOTUDRV</span>
<span style="color:black">TRANGROUP:2C46                 </span><span style="color:navy">add     al</span><span style="color:navy">, ds:</span>CURDRV
<span style="color:black">TRANGROUP:2C4A                 </span><span style="color:navy">inc     al</span>
<span style="color:black">TRANGROUP:2C4C
</span><span style="color:black">TRANGROUP:2C4C </span><span style="color:gray">GOTUDRV</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C4C                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2C4D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, ds:</span>DIRCHAR
<span style="color:black">TRANGROUP:2C51                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">':'</span>         ; 3Ah
<span style="color:black">TRANGROUP:2C53                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:2C54                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:2C55                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2C56                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:2C58                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">47h</span>
<span style="color:black">TRANGROUP:2C5A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET CURRENT DIRECTORY
<span style="color:black">TRANGROUP:2C5A                                         </span>; DL = drive (0=default, 1=A, etc.)
<span style="color:black">TRANGROUP:2C5A                                         </span>; DS:SI points to 64-byte buffer area
<span style="color:black">TRANGROUP:2C5C                 </span><span style="color:navy">jb      short </span>savudir_err_retn
<span style="color:black">TRANGROUP:2C5E                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:2C5F                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2C60                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:2C60                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2C60 </span>SAVUDIR         endp
<span style="color:black">TRANGROUP:2C60
</span><span style="color:black">TRANGROUP:2C61
</span><span style="color:black">TRANGROUP:2C61 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2C61
</span><span style="color:black">TRANGROUP:2C61
</span><span style="color:black">TRANGROUP:2C61 </span>CRLF2           proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C61                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:2C62                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>acrlf_ptr
<span style="color:black">TRANGROUP:2C65                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:2C66                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:2C67                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2C68                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:2C6B                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2C6C                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:2C6C                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:2C6D                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2C6D </span>CRLF2           endp
<span style="color:black">TRANGROUP:2C6D
</span><span style="color:black">TRANGROUP:2C6E
</span><span style="color:black">TRANGROUP:2C6E </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2C6E
</span><span style="color:black">TRANGROUP:2C6E
</span><span style="color:black">TRANGROUP:2C6E </span>scanoff         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C6E                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2C6F                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:2C72                 </span><span style="color:navy">jz      short </span>scanoff
<span style="color:black">TRANGROUP:2C74                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:2C75
</span><span style="color:black">TRANGROUP:2C75 </span>scanoff_retn<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C75                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2C75 </span>scanoff         endp
<span style="color:black">TRANGROUP:2C75
</span><span style="color:black">TRANGROUP:2C76
</span><span style="color:black">TRANGROUP:2C76 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2C76
</span><span style="color:black">TRANGROUP:2C76
</span><span style="color:black">TRANGROUP:2C76 </span>DELIM           proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C76                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:2C78                 </span><span style="color:navy">jz      short </span>scanoff_retn
<span style="color:black">TRANGROUP:2C7A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Dh</span> <span style="color:gray">; '='
</span><span style="color:black">TRANGROUP:2C7C                 </span><span style="color:navy">jz      short </span>scanoff_retn
<span style="color:black">TRANGROUP:2C7E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Ch</span> <span style="color:gray">; ','
</span><span style="color:black">TRANGROUP:2C80                 </span><span style="color:navy">jz      short </span>scanoff_retn
<span style="color:black">TRANGROUP:2C82                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Bh</span> <span style="color:gray">; ';'
</span><span style="color:black">TRANGROUP:2C84                 </span><span style="color:navy">jz      short </span>scanoff_retn
<span style="color:black">TRANGROUP:2C86                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">TRANGROUP:2C88                 </span><span style="color:navy">jz      short </span>scanoff_retn
<span style="color:black">TRANGROUP:2C8A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Ah</span>
<span style="color:black">TRANGROUP:2C8C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2C8C </span>DELIM           endp
<span style="color:black">TRANGROUP:2C8C
</span><span style="color:black">TRANGROUP:2C8D
</span><span style="color:black">TRANGROUP:2C8D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2C8D
</span><span style="color:black">TRANGROUP:2C8D
</span><span style="color:black">TRANGROUP:2C8D </span>FCB_TO_ASCZ     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C8D                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:black">TRANGROUP:2C90
</span><span style="color:black">TRANGROUP:2C90 </span><span style="color:gray">MAINNAME</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C90                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2C91                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:2C93                 </span><span style="color:navy">jz      short </span><span style="color:gray">SKIPSPC</span>
<span style="color:black">TRANGROUP:2C95                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2C96
</span><span style="color:black">TRANGROUP:2C96 </span><span style="color:gray">SKIPSPC</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2C96                 </span><span style="color:navy">loop    </span><span style="color:gray">MAINNAME</span>
<span style="color:black">TRANGROUP:2C98                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2C99                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:2C9B                 </span><span style="color:navy">jz      short </span><span style="color:gray">GOTNAME</span>
<span style="color:black">TRANGROUP:2C9D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2C9F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Eh</span> <span style="color:gray">; '.'
</span><span style="color:black">TRANGROUP:2CA1                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2CA2                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:2CA4                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2CA5                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:2CA7
</span><span style="color:black">TRANGROUP:2CA7 </span><span style="color:gray">EXTNAME</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2CA7                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2CA8                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:2CAA                 </span><span style="color:navy">jz      short </span><span style="color:gray">GOTNAME</span>
<span style="color:black">TRANGROUP:2CAC                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2CAD                 </span><span style="color:navy">loop    </span><span style="color:gray">EXTNAME</span>
<span style="color:black">TRANGROUP:2CAF
</span><span style="color:black">TRANGROUP:2CAF </span><span style="color:gray">GOTNAME</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2CAF                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2CB1                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:2CB2
</span><span style="color:black">TRANGROUP:2CB2 </span>STRCOMP_RETN<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2CB2                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2CB2 </span>FCB_TO_ASCZ     endp
<span style="color:black">TRANGROUP:2CB2
</span><span style="color:black">TRANGROUP:2CB3
</span><span style="color:black">TRANGROUP:2CB3 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2CB3
</span><span style="color:black">TRANGROUP:2CB3
</span><span style="color:black">TRANGROUP:2CB3 </span>STRCOMP         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2CB3                 </span><span style="color:navy">cmpsb
</span><span style="color:black">TRANGROUP:2CB4                 </span><span style="color:navy">jnz     short </span>STRCOMP_RETN
<span style="color:black">TRANGROUP:2CB6                 </span><span style="color:navy">cmp     byte ptr [si-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2CBA                 </span><span style="color:navy">jz      short </span>STRCOMP_RETN
<span style="color:black">TRANGROUP:2CBC                 </span><span style="color:navy">jmp     short </span>STRCOMP
<span style="color:black">TRANGROUP:2CBC </span>STRCOMP         endp
<span style="color:black">TRANGROUP:2CBC
</span><span style="color:black">TRANGROUP:2CBE
</span><span style="color:black">TRANGROUP:2CBE </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2CBE
</span><span style="color:black">TRANGROUP:2CBE
</span><span style="color:black">TRANGROUP:2CBE </span>CRPRINT         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2CBE                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:2CBF                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">13</span>          ; 0Dh
<span style="color:black">TRANGROUP:2CC1                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:2CC2                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:2CC3                 </span><span style="color:navy">mov     di</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2CC5                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">65535</span>       ; 0FFFFh
<span style="color:black">TRANGROUP:2CC8                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:2CC9                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:2CCA                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2CCB                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:2CCD                 </span><span style="color:navy">mov     byte ptr [di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2CD1                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:2CD2                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2CD6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>string_buf_ptr
<span style="color:black">TRANGROUP:2CD9                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:2CDC                 </span><span style="color:navy">mov     byte ptr [di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">13</span> ; 0Dh
<span style="color:black">TRANGROUP:2CE0                 </span><span style="color:navy">jb      short </span>error_output
<span style="color:black">TRANGROUP:2CE2                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:2CE3                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:2CE4                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:2CE5                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2CE6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2CE6
</span><span style="color:black">TRANGROUP:2CE6 </span>error_output<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2CE6                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:2CE7                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2CE8                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:2CE8                 </span><span style="color:navy">mov     es</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:2CEC                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>NOSPACE_PTR
<span style="color:black">TRANGROUP:2CEF                 </span><span style="color:navy">cmp     es:</span>PipeFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2CF5                 </span><span style="color:navy">jz      short </span><span style="color:gray">go_to_error</span>
<span style="color:black">TRANGROUP:2CF7                 </span><span style="color:navy">call    </span>PipeOff
<span style="color:black">TRANGROUP:2CFA                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>PIPEEMES_PTR
<span style="color:black">TRANGROUP:2CFD
</span><span style="color:black">TRANGROUP:2CFD </span><span style="color:gray">go_to_error</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2CFD                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:2CFD </span>CRPRINT         endp
<span style="color:black">TRANGROUP:2CFD
</span><span style="color:black">TRANGROUP:2D00
</span><span style="color:black">TRANGROUP:2D00 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2D00
</span><span style="color:black">TRANGROUP:2D00
</span><span style="color:black">TRANGROUP:2D00 </span>pathchrcmp      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2D00                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:2D01                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">'/'</span>         ; 2Fh
<span style="color:black">TRANGROUP:2D03                 </span><span style="color:navy">cmp     </span>SWITCHAR<span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:2D07                 </span><span style="color:navy">jz      short </span><span style="color:gray">noslasht</span>
<span style="color:black">TRANGROUP:2D09                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'/'</span>         ; 2Fh
<span style="color:black">TRANGROUP:2D0B                 </span><span style="color:navy">jz      short </span><span style="color:gray">pccont</span>
<span style="color:black">TRANGROUP:2D0D
</span><span style="color:black">TRANGROUP:2D0D </span><span style="color:gray">noslasht</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2D0D                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'\'</span>         ; 5Ch
<span style="color:black">TRANGROUP:2D0F
</span><span style="color:black">TRANGROUP:2D0F </span><span style="color:gray">pccont</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2D0F                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:2D10                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2D10 </span>pathchrcmp      endp
<span style="color:black">TRANGROUP:2D10
</span><span style="color:black">TRANGROUP:2D11
</span><span style="color:black">TRANGROUP:2D11 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2D11
</span><span style="color:black">TRANGROUP:2D11
</span><span style="color:black">TRANGROUP:2D11 </span>PathCrunch      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2D11                 </span><span style="color:navy">mov     </span>Msg_Numb<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2D17                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span>ds:5Ch      ; [FCB]
<span style="color:black">TRANGROUP:2D1B                 </span><span style="color:navy">call    </span>SAVUDIR
<span style="color:black">TRANGROUP:2D1E                 </span><span style="color:navy">jb      short </span><span style="color:gray">pcrunch_cderrj</span>
<span style="color:black">TRANGROUP:2D20                 </span><span style="color:navy">call    </span>SETPATH
<span style="color:black">TRANGROUP:2D23                 </span><span style="color:navy">test    </span>DestInfo<span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:2D28                 </span><span style="color:navy">jnz     short </span><span style="color:gray">trypeel</span>
<span style="color:black">TRANGROUP:2D2A                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Bh</span>
<span style="color:black">TRANGROUP:2D2C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
<span style="color:black">TRANGROUP:2D2C                                         </span>; DS:DX -&gt; ASCIZ directory name (may include drive)
<span style="color:black">TRANGROUP:2D2E                 </span><span style="color:navy">jnb     short </span><span style="color:gray">chdir_worked</span>
<span style="color:black">TRANGROUP:2D30                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:2D33                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:2D36                 </span><span style="color:navy">jz      short </span><span style="color:gray">trypeel</span>
<span style="color:black">TRANGROUP:2D38                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>
<span style="color:black">TRANGROUP:2D3B                 </span><span style="color:navy">jz      short </span><span style="color:gray">trypeel</span>
<span style="color:black">TRANGROUP:2D3D                 </span><span style="color:navy">mov     </span>Msg_Numb<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2D40                 </span><span style="color:navy">jmp     </span><span style="color:gray">peelfail</span>
<span style="color:black">TRANGROUP:2D43 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2D43
</span><span style="color:black">TRANGROUP:2D43 </span><span style="color:gray">chdir_worked</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2D43                 </span><span style="color:navy">call    </span>SetRest1
<span style="color:black">TRANGROUP:2D46                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'?'</span>         ; 3Fh
<span style="color:black">TRANGROUP:2D48                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">5Dh</span>
<span style="color:black">TRANGROUP:2D4B                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">11</span>
<span style="color:black">TRANGROUP:2D4E                 </span><span style="color:navy">rep stosb
</span><span style="color:black">TRANGROUP:2D50                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2D52                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2D53 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2D53
</span><span style="color:black">TRANGROUP:2D53 </span><span style="color:gray">pcrunch_cderrj</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2D53                 </span><span style="color:navy">jmp     </span><span style="color:gray">pcrunch_cderr</span>
<span style="color:black">TRANGROUP:2D56 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2D56
</span><span style="color:black">TRANGROUP:2D56 </span><span style="color:gray">trypeel</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2D56                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span>PathPos
<span style="color:black">TRANGROUP:2D5A                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:2D5B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si-</span><span style="color:green">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:2D5E                 </span><span style="color:navy">cmp     </span>KPARSE<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2D63                 </span><span style="color:navy">jnz     short </span><span style="color:gray">delstrt</span>
<span style="color:black">TRANGROUP:2D65                 </span><span style="color:navy">call    </span>pathchrcmp
<span style="color:black">TRANGROUP:2D68                 </span><span style="color:navy">jz      short </span><span style="color:gray">peelfail</span>
<span style="color:black">TRANGROUP:2D6A
</span><span style="color:black">TRANGROUP:2D6A </span><span style="color:gray">delstrt</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2D6A                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:2D6C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2D6E                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:2D6F
</span><span style="color:black">TRANGROUP:2D6F </span><span style="color:gray">delloop</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2D6F                 </span><span style="color:navy">cmp     si</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2D71                 </span><span style="color:navy">jz      short </span><span style="color:gray">gotdele</span>
<span style="color:black">TRANGROUP:2D73                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2D74                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:2D77                 </span><span style="color:navy">jz      short </span><span style="color:gray">notkanj8</span>
<span style="color:black">TRANGROUP:2D79                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:2D7A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">delloop</span>
<span style="color:black">TRANGROUP:2D7C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2D7C
</span><span style="color:black">TRANGROUP:2D7C </span><span style="color:gray">notkanj8</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2D7C                 </span><span style="color:navy">call    </span>pathchrcmp
<span style="color:black">TRANGROUP:2D7F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">delloop</span>
<span style="color:black">TRANGROUP:2D81                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:2D83                 </span><span style="color:navy">dec     dx</span>
<span style="color:black">TRANGROUP:2D84                 </span><span style="color:navy">jmp     short </span><span style="color:gray">delloop</span>
<span style="color:black">TRANGROUP:2D86 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2D86
</span><span style="color:black">TRANGROUP:2D86 </span><span style="color:gray">gotdele</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2D86                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2D88                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:2D89                 </span><span style="color:navy">cmp     si</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2D8B                 </span><span style="color:navy">jz      short </span><span style="color:gray">badret</span>
<span style="color:black">TRANGROUP:2D8D                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:2D8F                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2D91
</span><span style="color:black">TRANGROUP:2D91 </span><span style="color:gray">delloop2</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2D91                 </span><span style="color:navy">cmp     si</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2D93                 </span><span style="color:navy">jz      short </span><span style="color:gray">trycd</span>
<span style="color:black">TRANGROUP:2D95                 </span><span style="color:navy">mov     </span>KPARSE<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2D9A                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2D9B                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:2D9E                 </span><span style="color:navy">jz      short </span><span style="color:gray">delloop2</span>
<span style="color:black">TRANGROUP:2DA0                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:2DA1                 </span><span style="color:navy">inc     </span>KPARSE
<span style="color:black">TRANGROUP:2DA5                 </span><span style="color:navy">jmp     short </span><span style="color:gray">delloop2</span>
<span style="color:black">TRANGROUP:2DA7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2DA7
</span><span style="color:black">TRANGROUP:2DA7 </span><span style="color:gray">trycd</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2DA7                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:2DA8                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Eh</span> <span style="color:gray">; '.'
</span><span style="color:black">TRANGROUP:2DAA                 </span><span style="color:navy">cmp     [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2DAD                 </span><span style="color:navy">jnz     short </span><span style="color:gray">trycd1</span>
<span style="color:black">TRANGROUP:2DAF                 </span><span style="color:navy">cmp     [si+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2DB2                 </span><span style="color:navy">jz      short </span><span style="color:gray">trycd1</span>
<span style="color:black">TRANGROUP:2DB4                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2DB8
</span><span style="color:black">TRANGROUP:2DB8 </span><span style="color:gray">trycd1</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2DB8                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:2DB9                 </span><span style="color:navy">jz      short </span><span style="color:gray">peelfail</span>
<span style="color:black">TRANGROUP:2DBB                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si-</span><span style="color:green">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:2DBE                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':'
</span><span style="color:black">TRANGROUP:2DC0                 </span><span style="color:navy">jz      short </span><span style="color:gray">badret</span>
<span style="color:black">TRANGROUP:2DC2                 </span><span style="color:navy">cmp     </span>KPARSE<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2DC7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">notdoublesl</span>
<span style="color:black">TRANGROUP:2DC9                 </span><span style="color:navy">call    </span>pathchrcmp
<span style="color:black">TRANGROUP:2DCC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">notdoublesl</span>
<span style="color:black">TRANGROUP:2DCE
</span><span style="color:black">TRANGROUP:2DCE </span><span style="color:gray">peelfail</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2DCE                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:2DCF                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2DD0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2DD0
</span><span style="color:black">TRANGROUP:2DD0 </span><span style="color:gray">notdoublesl</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2DD0                 </span><span style="color:navy">mov     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2DD3                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Bh</span>
<span style="color:black">TRANGROUP:2DD5                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
<span style="color:black">TRANGROUP:2DD5                                         </span>; DS:DX -&gt; ASCIZ directory name (may include drive)
<span style="color:black">TRANGROUP:2DD7                 </span><span style="color:navy">jnb     short </span><span style="color:gray">cdsucc</span>
<span style="color:black">TRANGROUP:2DD9
</span><span style="color:black">TRANGROUP:2DD9 </span><span style="color:gray">pcrunch_cderr</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2DD9                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:2DDC                 </span><span style="color:navy">mov     </span>Msg_Numb<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2DDF                 </span><span style="color:navy">or      si</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:2DE1                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:2DE2
</span><span style="color:black">TRANGROUP:2DE2 </span><span style="color:gray">pcrunch_retn</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2DE2                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2DE3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2DE3
</span><span style="color:black">TRANGROUP:2DE3 </span><span style="color:gray">badret</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2DE3                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:2DE5                 </span><span style="color:navy">call    </span>pathchrcmp
<span style="color:black">TRANGROUP:2DE8                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:2DE9                 </span><span style="color:navy">jnz     short </span><span style="color:gray">pcrunch_retn</span>
<span style="color:black">TRANGROUP:2DEB                 </span><span style="color:navy">xor     bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:2DED                 </span><span style="color:navy">xchg    bl</span><span style="color:navy">, [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:2DF0                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Bh</span>         ; CHDIR
<span style="color:black">TRANGROUP:2DF2                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
<span style="color:black">TRANGROUP:2DF2                                         </span>; DS:DX -&gt; ASCIZ directory name (may include drive)
<span style="color:black">TRANGROUP:2DF4                 </span><span style="color:navy">jb      short </span><span style="color:gray">pcrunch_cderr</span>
<span style="color:black">TRANGROUP:2DF6                 </span><span style="color:navy">mov     [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:2DF9
</span><span style="color:black">TRANGROUP:2DF9 </span><span style="color:gray">cdsucc</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2DF9                 </span><span style="color:navy">call    </span>SetRest1
<span style="color:black">TRANGROUP:2DFC                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:2DFD                 </span><span style="color:navy">mov     </span>DestTail<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:2E01                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:2E02                 </span><span style="color:navy">cmp     </span>DirFlag<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>   ; -1
<span style="color:black">TRANGROUP:2E07                 </span><span style="color:navy">jz      short </span><span style="color:gray">pcrunch_end</span>
<span style="color:black">TRANGROUP:2E09                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">5Ch</span>         ; FCB
<span style="color:black">TRANGROUP:2E0C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">2902h</span>
<span style="color:black">TRANGROUP:2E0F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - PARSE FILENAME
<span style="color:black">TRANGROUP:2E0F                                         </span>; DS:SI -&gt; string to parse
<span style="color:black">TRANGROUP:2E0F                                         </span>; ES:DI -&gt; buffer to fill with unopened FCB
<span style="color:black">TRANGROUP:2E0F                                         </span>; AL = bit mask to control parsing
<span style="color:black">TRANGROUP:2E11
</span><span style="color:black">TRANGROUP:2E11 </span><span style="color:gray">pcrunch_end</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2E11                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:2E12                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2E12 </span>PathCrunch      endp
<span style="color:black">TRANGROUP:2E12
</span><span style="color:black">TRANGROUP:2E13 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2E13 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR SWITCH
</span><span style="color:black">TRANGROUP:2E13
</span><span style="color:black">TRANGROUP:2E13 </span><span style="color:gray">RETSW</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2E13                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:2E14                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2E14 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR SWITCH
</span><span style="color:black">TRANGROUP:2E15
</span><span style="color:black">TRANGROUP:2E15 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2E15
</span><span style="color:black">TRANGROUP:2E15
</span><span style="color:black">TRANGROUP:2E15 </span>SWITCH          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2E15
</span><span style="color:black">TRANGROUP:2E15 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:2E13 SIZE 00000002 BYTES
</span><span style="color:black">TRANGROUP:2E15
</span><span style="color:black">TRANGROUP:2E15                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:2E17
</span><span style="color:black">TRANGROUP:2E17 </span><span style="color:gray">SWLOOP</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2E17                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:2E1A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span>SWITCHAR
<span style="color:black">TRANGROUP:2E1E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">RETSW</span>
<span style="color:black">TRANGROUP:2E20                 </span><span style="color:navy">or      bx</span><span style="color:navy">, </span><span style="color:green">8000h</span>
<span style="color:black">TRANGROUP:2E24                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:2E25                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:2E28                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:2E2A                 </span><span style="color:navy">jz      short </span><span style="color:gray">RETSW</span>
<span style="color:black">TRANGROUP:2E2C                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:2E2D                 </span><span style="color:navy">call    </span>UPCONV
<span style="color:black">TRANGROUP:2E30                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>switch_list <span style="color:gray">; &quot;-Y?VBAPW&quot;
</span><span style="color:black">TRANGROUP:2E33                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:black">TRANGROUP:2E36                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:2E38                 </span><span style="color:navy">jnz     short </span><span style="color:gray">BADSW</span>
<span style="color:black">TRANGROUP:2E3A                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:2E3D                 </span><span style="color:navy">shl     ax</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:2E3F                 </span><span style="color:navy">or      bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2E41                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SWLOOP</span>
<span style="color:black">TRANGROUP:2E43 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2E43
</span><span style="color:black">TRANGROUP:2E43 </span><span style="color:gray">BADSW</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2E43                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SWLOOP</span>
<span style="color:black">TRANGROUP:2E43 </span>SWITCH          endp
<span style="color:black">TRANGROUP:2E43
</span><span style="color:black">TRANGROUP:2E45 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2E45 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:2E45
</span><span style="color:black">TRANGROUP:2E45 </span>DRVBAD<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2E45                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>baddrv_ptr
<span style="color:black">TRANGROUP:2E48                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:2E4B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2E4B
</span><span style="color:black">TRANGROUP:2E4B </span><span style="color:gray">EXTERNALJ</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2E4B                 </span><span style="color:navy">jmp     </span>EXTERNAL
<span style="color:black">TRANGROUP:2E4E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2E4E
</span><span style="color:black">TRANGROUP:2E4E </span>FNDCOM<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2E4E                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2E50                 </span><span style="color:navy">jz      short </span><span style="color:gray">EXTERNALJ</span>
<span style="color:black">TRANGROUP:2E52                 </span><span style="color:navy">call    </span>test_append
<span style="color:black">TRANGROUP:2E55                 </span><span style="color:navy">jz      short </span><span style="color:gray">CONTCOM</span>
<span style="color:black">TRANGROUP:2E57
</span><span style="color:black">TRANGROUP:2E57 </span><span style="color:gray">APPEND_INTERNAL</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2E57                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span>IDLEN
<span style="color:black">TRANGROUP:2E5B                 </span><span style="color:navy">mov     ch</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2E5D                 </span><span style="color:navy">mov     </span>PathPos<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2E61                 </span><span style="color:navy">inc     </span>append_exec
<span style="color:black">TRANGROUP:2E65                 </span><span style="color:navy">call    </span>IOSET
<span style="color:black">TRANGROUP:2E68                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>IDLEN
<span style="color:black">TRANGROUP:2E6B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:2E6E                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>append_parse
<span style="color:black">TRANGROUP:2E71                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0AE01h</span>
<span style="color:black">TRANGROUP:2E74                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - DOS 3.3+ internal - INSTALLABLE COMMAND - EXECUTE
<span style="color:black">TRANGROUP:2E74                                         </span>; DX = FFFFh, DS:SI -&gt; buffer
<span style="color:black">TRANGROUP:2E74                                         </span>; Return: buffer at DS:SI filled with a length byte followed by the uppercase
<span style="color:black">TRANGROUP:2E74                                         </span>; internal command to execute (if length not 0)
<span style="color:black">TRANGROUP:2E76                 </span><span style="color:navy">cmp     </span>IDLEN<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2E7B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CONTCOM</span>
<span style="color:black">TRANGROUP:2E7D                 </span><span style="color:navy">jmp     </span><span style="color:gray">CMD_DONE</span>
<span style="color:black">TRANGROUP:2E80 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2E80
</span><span style="color:black">TRANGROUP:2E80 </span><span style="color:gray">CONTCOM</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2E80                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>COMTAB
<span style="color:black">TRANGROUP:2E83                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2E85
</span><span style="color:black">TRANGROUP:2E85 </span><span style="color:gray">FINDCOM</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2E85                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ID
<span style="color:black">TRANGROUP:2E88                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, [di]</span>
<span style="color:black">TRANGROUP:2E8A                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:2E8B                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">EXTERNALJ</span>
<span style="color:black">TRANGROUP:2E8D                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span>IDLEN
<span style="color:black">TRANGROUP:2E91                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ABCD</span>
<span style="color:black">TRANGROUP:2E93                 </span><span style="color:navy">mov     </span>PathPos<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2E97                 </span><span style="color:navy">repe cmpsb
</span><span style="color:black">TRANGROUP:2E99
</span><span style="color:black">TRANGROUP:2E99 </span><span style="color:gray">ABCD</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2E99                 </span><span style="color:navy">lahf
</span><span style="color:black">TRANGROUP:2E9A                 </span><span style="color:navy">add     di</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2E9C                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [di]</span>
<span style="color:black">TRANGROUP:2E9E                 </span><span style="color:navy">mov     </span>CHKDRV<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2EA1                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:2EA2                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, [di]</span>
<span style="color:black">TRANGROUP:2EA4                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:2EA5                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:2EA6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, [di]</span>
<span style="color:black">TRANGROUP:2EA8                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:2EA9                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:2EAA                 </span><span style="color:navy">sahf
</span><span style="color:black">TRANGROUP:2EAB                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FINDCOM</span>
<span style="color:black">TRANGROUP:2EAD                 </span><span style="color:navy">cmp     </span>append_exec<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2EB2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">DONT_SET_IO</span>
<span style="color:black">TRANGROUP:2EB4                 </span><span style="color:navy">call    </span>IOSET
<span style="color:black">TRANGROUP:2EB7
</span><span style="color:black">TRANGROUP:2EB7 </span><span style="color:gray">DONT_SET_IO</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2EB7                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span>COMSW
<span style="color:black">TRANGROUP:2EBA                 </span><span style="color:navy">or      ax</span><span style="color:navy">, </span>ARGTS       ; [AllSwitch]
<span style="color:black">TRANGROUP:2EBE                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:2EC1                 </span><span style="color:navy">jz      short </span><span style="color:gray">DRIVE_CHECK</span>
<span style="color:black">TRANGROUP:2EC3                 </span><span style="color:navy">test    </span>CHKDRV<span style="color:navy">, </span><span style="color:green">4</span>
<span style="color:black">TRANGROUP:2EC8                 </span><span style="color:navy">jz      short </span><span style="color:gray">DO_HELP</span>
<span style="color:black">TRANGROUP:2ECA                 </span><span style="color:navy">cmp     </span>ARG_ARGVCNT<span style="color:navy">, </span><span style="color:#ff8000">2</span>  ; [ARG+ARG_UNIT.argvcnt]
<span style="color:black">TRANGROUP:2ECF                 </span><span style="color:navy">jnz     short </span><span style="color:gray">DRIVE_CHECK</span>
<span style="color:black">TRANGROUP:2ED1
</span><span style="color:black">TRANGROUP:2ED1 </span><span style="color:gray">DO_HELP</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2ED1                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:2ED3                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2ED6                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:2ED7
</span><span style="color:black">TRANGROUP:2ED7 </span><span style="color:gray">NEXT_HELP_MSG</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2ED7                 </span><span style="color:navy">lodsw
</span><span style="color:black">TRANGROUP:2ED8                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2EDA                 </span><span style="color:navy">jz      short </span><span style="color:gray">HELP_DONE</span>
<span style="color:black">TRANGROUP:2EDC                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:2EDD                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, sp</span>
<span style="color:black">TRANGROUP:2EDF                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:2EE2                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:2EE3                 </span><span style="color:navy">jmp     short </span><span style="color:gray">NEXT_HELP_MSG</span>
<span style="color:black">TRANGROUP:2EE5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2EE5
</span><span style="color:black">TRANGROUP:2EE5 </span><span style="color:gray">HELP_DONE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2EE5                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:2EE6                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:2EE9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2EE9
</span><span style="color:black">TRANGROUP:2EE9 </span><span style="color:gray">DRIVE_CHECK</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2EE9                 </span><span style="color:navy">test    </span>CHKDRV<span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:2EEE                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOCHECK</span>
<span style="color:black">TRANGROUP:2EF0                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span>PARM1
<span style="color:black">TRANGROUP:2EF3                 </span><span style="color:navy">or      al</span><span style="color:navy">, </span>PARM2
<span style="color:black">TRANGROUP:2EF7                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:2EF9                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOCHECK</span>
<span style="color:black">TRANGROUP:2EFB                 </span><span style="color:navy">jmp     </span>DRVBAD
<span style="color:black">TRANGROUP:2EFE </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2EFE
</span><span style="color:black">TRANGROUP:2EFE </span><span style="color:gray">NOCHECK</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2EFE                 </span><span style="color:navy">call    </span>cmd_copy
<span style="color:black">TRANGROUP:2F01                 </span><span style="color:navy">test    </span>CHKDRV<span style="color:navy">, </span><span style="color:green">2</span>       ; fSwitchAllowed
<span style="color:black">TRANGROUP:2F06                 </span><span style="color:navy">jnz     short </span><span style="color:gray">REALWORK</span>
<span style="color:black">TRANGROUP:2F08                 </span><span style="color:navy">call    </span>noswit
<span style="color:black">TRANGROUP:2F0B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">REALWORK</span>
<span style="color:black">TRANGROUP:2F0D                 </span><span style="color:navy">mov     </span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">2</span> ; parse_msg_class
<span style="color:black">TRANGROUP:2F12                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:2F15                 </span><span style="color:navy">mov     </span>extend_buf_ptr<span style="color:navy">, </span><span style="color:#ff8000">3</span> ; BadSwt_Ptr
<span style="color:black">TRANGROUP:2F1B                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:2F1E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2F1E
</span><span style="color:black">TRANGROUP:2F1E </span><span style="color:gray">REALWORK</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2F1E                 </span><span style="color:navy">call    bx</span>
<span style="color:black">TRANGROUP:2F20
</span><span style="color:black">TRANGROUP:2F20 </span><span style="color:gray">CMD_DONE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2F20                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:2F21                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2F22                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:2F23                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:2F27                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:2F27                 </span><span style="color:navy">cmp     ds:</span>Call_Flag<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; call_in_progress
<span style="color:black">TRANGROUP:2F2C                 </span><span style="color:navy">mov     ds:</span>Call_Flag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2F31                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2F32                 </span><span style="color:navy">jz      short </span><span style="color:gray">INCALL</span>
<span style="color:black">TRANGROUP:2F34                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:2F37 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2F37
</span><span style="color:black">TRANGROUP:2F37 </span><span style="color:gray">INCALL</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2F37                 </span><span style="color:navy">jmp     </span>DOCOM0
<span style="color:black">TRANGROUP:2F37 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:2F3A
</span><span style="color:black">TRANGROUP:2F3A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2F3A
</span><span style="color:black">TRANGROUP:2F3A
</span><span style="color:black">TRANGROUP:2F3A </span>noswit          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2F3A                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:2F3B                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:2F3E                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:2F41                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:2F42                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:2F44                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:2F46                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:</span>SWITCHAR
<span style="color:black">TRANGROUP:2F4A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2F4C                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:2F4E                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:2F4F                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:2F4F </span>noswit          endp
<span style="color:black">TRANGROUP:2F4F
</span><span style="color:black">TRANGROUP:2F50 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2F50 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:2F50
</span><span style="color:black">TRANGROUP:2F50 </span>EXTERNAL<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2F50                 </span><span style="color:navy">call    </span>test_append
<span style="color:black">TRANGROUP:2F53                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOT_BARRYF</span>
<span style="color:black">TRANGROUP:2F55                 </span><span style="color:navy">jmp     </span><span style="color:gray">APPEND_INTERNAL</span>
<span style="color:black">TRANGROUP:2F58 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2F58
</span><span style="color:black">TRANGROUP:2F58 </span><span style="color:gray">NOT_BARRYF</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2F58                 </span><span style="color:navy">mov     cs:</span>IFNOTFLAG<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2F5E                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, cs:</span>SPECDRV
<span style="color:black">TRANGROUP:2F63                 </span><span style="color:navy">mov     cs:</span>IDLEN<span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:2F68                 </span><span style="color:navy">mov     cs:</span>ROM_CALL<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2F6E                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:2F6F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>IDLEN
<span style="color:black">TRANGROUP:2F72                 </span><span style="color:navy">call    </span>ROM_SCAN
<span style="color:black">TRANGROUP:2F75                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:2F76                 </span><span style="color:navy">jnb     short </span><span style="color:gray">DO_SCAN</span>
<span style="color:black">TRANGROUP:2F78                 </span><span style="color:navy">inc     cs:</span>ROM_CALL
<span style="color:black">TRANGROUP:2F7D                 </span><span style="color:navy">jmp     short $+</span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:2F7F
</span><span style="color:black">TRANGROUP:2F7F </span><span style="color:gray">DO_SCAN</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2F7F                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>EXECPATH
<span style="color:black">TRANGROUP:2F82                 </span><span style="color:navy">mov     byte ptr [di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2F85                 </span><span style="color:navy">cmp     cs:</span>ROM_CALL<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2F8B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">EXECUTE</span>   ; NEOEXECUTE
<span style="color:black">TRANGROUP:2F8D
</span><span style="color:black">TRANGROUP:2F8D </span>RESEARC<span style="color:navy">:
</span><span style="color:black">TRANGROUP:2F8D                 </span><span style="color:navy">call    </span>path_search
<span style="color:black">TRANGROUP:2F90                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:2F92                 </span><span style="color:navy">jz      short </span><span style="color:gray">badcomj45</span>
<span style="color:black">TRANGROUP:2F94                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:2F97                 </span><span style="color:navy">jge     short </span><span style="color:gray">EXECUTE</span>
<span style="color:black">TRANGROUP:2F99                 </span><span style="color:navy">jmp     </span>BATCOM
<span style="color:black">TRANGROUP:2F9C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2F9C
</span><span style="color:black">TRANGROUP:2F9C </span><span style="color:gray">badcomj45</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2F9C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">BADCOM</span>
<span style="color:black">TRANGROUP:2F9E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2F9E
</span><span style="color:black">TRANGROUP:2F9E </span><span style="color:gray">EXECUTE</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2F9E                 </span><span style="color:navy">call    </span>IOSET
<span style="color:black">TRANGROUP:2FA1
</span><span style="color:black">TRANGROUP:2FA1 </span>LH_EXECUTE<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2FA1                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>TRAN_TPA
<span style="color:black">TRANGROUP:2FA5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">49h</span>
<span style="color:black">TRANGROUP:2FA7                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FREE MEMORY
<span style="color:black">TRANGROUP:2FA7                                         </span>; ES = segment address of area to be freed
<span style="color:black">TRANGROUP:2FA9                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:2FAD                 </span><span style="color:navy">inc     es:</span>ExtCom
<span style="color:black">TRANGROUP:2FB2                 </span><span style="color:navy">mov     es:</span>RestDir<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:2FB8                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>EXECPATH
<span style="color:black">TRANGROUP:2FBB                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>SafePathBuffer ; RESGROUP
<span style="color:black">TRANGROUP:2FBE                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">80</span>
<span style="color:black">TRANGROUP:2FC1                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:2FC2                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:2FC4                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">5Ch</span>         ; FCB
<span style="color:black">TRANGROUP:2FC7                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:2FC9                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">82</span>
<span style="color:black">TRANGROUP:2FCC                 </span><span style="color:navy">rep movsw
</span><span style="color:black">TRANGROUP:2FCE                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>SafePathBuffer
<span style="color:black">TRANGROUP:2FD1                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:2FD2                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2FD3                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>EnvirSeg ; offset Exec_Block = offset EnvirSeg
<span style="color:black">TRANGROUP:2FD6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4B00h</span>
<span style="color:black">TRANGROUP:2FD9                 </span><span style="color:navy">test    cs:</span>ROM_CALL<span style="color:navy">, </span><span style="color:green">0FFh</span>
<span style="color:black">TRANGROUP:2FDF                 </span><span style="color:navy">jz      short </span><span style="color:gray">OK_EXEC</span>
<span style="color:black">TRANGROUP:2FE1                 </span><span style="color:navy">jmp     </span>ROM_EXEC
<span style="color:black">TRANGROUP:2FE4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2FE4
</span><span style="color:black">TRANGROUP:2FE4 </span><span style="color:gray">OK_EXEC</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2FE4                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:2FE6                 </span><span style="color:navy">mov     ss</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2FE8                 </span><span style="color:navy">mov     sp</span><span style="color:navy">, offset </span>RStack
<span style="color:black">TRANGROUP:2FEB                 </span><span style="color:navy">jmp     cs:</span>EXEC_ADDR    ; jmp far [cs:EXEC_ADDR]
<span style="color:black">TRANGROUP:2FF0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:2FF0
</span><span style="color:black">TRANGROUP:2FF0 </span><span style="color:gray">BADCOM</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2FF0                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:2FF1                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:2FF2                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:2FF2                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADNAM_PTR
<span style="color:black">TRANGROUP:2FF2 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:2FF5 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR TESTDOREIN
</span><span style="color:black">TRANGROUP:2FF5
</span><span style="color:black">TRANGROUP:2FF5 </span>cerror<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2FF5                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:2FF8                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:2FF8 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR TESTDOREIN
</span><span style="color:black">TRANGROUP:2FFB
</span><span style="color:black">TRANGROUP:2FFB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:2FFB
</span><span style="color:black">TRANGROUP:2FFB
</span><span style="color:black">TRANGROUP:2FFB </span>PRESCAN         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:2FFB                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:2FFD                 </span><span style="color:navy">mov     es</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:3001                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:3004                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3006
</span><span style="color:black">TRANGROUP:3006 </span><span style="color:gray">COUNTQUOTES</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3006                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3007                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">22h</span> <span style="color:gray">; '&quot;'
</span><span style="color:black">TRANGROUP:3009                 </span><span style="color:navy">jnz     short </span><span style="color:gray">COUNTEND</span>
<span style="color:black">TRANGROUP:300B                 </span><span style="color:navy">inc     ch</span>
<span style="color:black">TRANGROUP:300D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">COUNTQUOTES</span>
<span style="color:black">TRANGROUP:300F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:300F
</span><span style="color:black">TRANGROUP:300F </span><span style="color:gray">COUNTEND</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:300F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>         ; 13
<span style="color:black">TRANGROUP:3011                 </span><span style="color:navy">jnz     short </span><span style="color:gray">COUNTQUOTES</span>
<span style="color:black">TRANGROUP:3013                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3014                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3016
</span><span style="color:black">TRANGROUP:3016 </span><span style="color:gray">KanjiScan</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3016                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3017                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:301A                 </span><span style="color:navy">jz      short </span><span style="color:gray">KanjiQuote</span>
<span style="color:black">TRANGROUP:301C                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:301E                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:301F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2020h</span>
<span style="color:black">TRANGROUP:3022                 </span><span style="color:navy">jnz     short </span><span style="color:gray">KanjiScan</span>
<span style="color:black">TRANGROUP:3024                 </span><span style="color:navy">mov     word ptr [si-</span><span style="color:green">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">2020h</span> ; DB_SPACE
<span style="color:black">TRANGROUP:3029                 </span><span style="color:navy">jmp     short </span><span style="color:gray">KanjiScan</span>
<span style="color:black">TRANGROUP:302B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:302B
</span><span style="color:black">TRANGROUP:302B </span><span style="color:gray">KanjiQuote</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:302B                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">22h</span> <span style="color:gray">; '&quot;'
</span><span style="color:black">TRANGROUP:302D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">KanjiEnd</span>
<span style="color:black">TRANGROUP:302F                 </span><span style="color:navy">dec     ch</span>
<span style="color:black">TRANGROUP:3031                 </span><span style="color:navy">jz      short </span><span style="color:gray">KanjiScan</span>
<span style="color:black">TRANGROUP:3033
</span><span style="color:black">TRANGROUP:3033 </span><span style="color:gray">KanjiQuoteLoop</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3033                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3034                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">22h</span> <span style="color:gray">; '&quot;'
</span><span style="color:black">TRANGROUP:3036                 </span><span style="color:navy">jnz     short </span><span style="color:gray">KanjiQuoteLoop</span>
<span style="color:black">TRANGROUP:3038                 </span><span style="color:navy">dec     ch</span>
<span style="color:black">TRANGROUP:303A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">KanjiScan</span>
<span style="color:black">TRANGROUP:303C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:303C
</span><span style="color:black">TRANGROUP:303C </span><span style="color:gray">KanjiEnd</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:303C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:303E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">KanjiScan</span>
<span style="color:black">TRANGROUP:3040                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:3041                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3043
</span><span style="color:black">TRANGROUP:3043 </span><span style="color:gray">PRESCANLP</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3043                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3044                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:3047                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOTKANJ6</span>
<span style="color:black">TRANGROUP:3049                 </span><span style="color:navy">mov     [di]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:304B                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:304C                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:304D                 </span><span style="color:navy">mov     [di]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:304F                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:3050                 </span><span style="color:navy">inc     cl</span>
<span style="color:black">TRANGROUP:3052                 </span><span style="color:navy">inc     cl</span>
<span style="color:black">TRANGROUP:3054                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PRESCANLP</span>
<span style="color:black">TRANGROUP:3056 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3056
</span><span style="color:black">TRANGROUP:3056 </span><span style="color:gray">NOTKANJ6</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3056                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">22h</span> <span style="color:gray">; '&quot;'
</span><span style="color:black">TRANGROUP:3058                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TRYGREATER</span>
<span style="color:black">TRANGROUP:305A                 </span><span style="color:navy">dec     ch</span>
<span style="color:black">TRANGROUP:305C                 </span><span style="color:navy">jz      short </span><span style="color:gray">TRYGREATER</span>
<span style="color:black">TRANGROUP:305E
</span><span style="color:black">TRANGROUP:305E </span><span style="color:gray">QLOOP</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:305E                 </span><span style="color:navy">mov     [di]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3060                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:3061                 </span><span style="color:navy">inc     cl</span>
<span style="color:black">TRANGROUP:3063                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3064                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">22h</span> <span style="color:gray">; '&quot;'
</span><span style="color:black">TRANGROUP:3066                 </span><span style="color:navy">jnz     short </span><span style="color:gray">QLOOP</span>
<span style="color:black">TRANGROUP:3068                 </span><span style="color:navy">dec     ch</span>
<span style="color:black">TRANGROUP:306A
</span><span style="color:black">TRANGROUP:306A </span><span style="color:gray">TRYGREATER</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:306A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Eh</span> <span style="color:gray">; '&gt;'   </span>; rabracket
<span style="color:black">TRANGROUP:306C                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOOUT</span>
<span style="color:black">TRANGROUP:306E                 </span><span style="color:navy">cmp     [si]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3070                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOAPPND</span>
<span style="color:black">TRANGROUP:3072                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3073                 </span><span style="color:navy">inc     es:</span>Re_Out_App
<span style="color:black">TRANGROUP:3078
</span><span style="color:black">TRANGROUP:3078 </span><span style="color:gray">NOAPPND</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3078                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:307B                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Ch</span> <span style="color:gray">; '&lt;'   </span>; labracket
<span style="color:black">TRANGROUP:307D                 </span><span style="color:navy">jz      short </span><span style="color:gray">REOUT_ERRSET</span>
<span style="color:black">TRANGROUP:307F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:3081                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GOTREOFIL</span>
<span style="color:black">TRANGROUP:3083
</span><span style="color:black">TRANGROUP:3083 </span><span style="color:gray">REOUT_ERRSET</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3083                 </span><span style="color:navy">mov     byte ptr [di]</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:3086                 </span><span style="color:navy">mov     word ptr es:</span>Re_OutStr<span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">TRANGROUP:308D                 </span><span style="color:navy">jmp     </span>PRESCANEND
<span style="color:black">TRANGROUP:3090 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3090
</span><span style="color:black">TRANGROUP:3090 </span><span style="color:gray">GOTREOFIL</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3090                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3091                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>Re_OutStr
<span style="color:black">TRANGROUP:3094                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3096                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:3097
</span><span style="color:black">TRANGROUP:3097 </span><span style="color:gray">SETREOUTSTR</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3097                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3098                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">77</span>          ; 64+13
<span style="color:black">TRANGROUP:309B
</span><span style="color:black">TRANGROUP:309B </span><span style="color:gray">SETREOUTSTR_LOOP</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:309B                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:309C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:309E                 </span><span style="color:navy">jz      short </span><span style="color:gray">GOTRESTR_J</span>
<span style="color:black">TRANGROUP:30A0                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:30A3                 </span><span style="color:navy">jz      short </span><span style="color:gray">GOTRESTR_J</span>
<span style="color:black">TRANGROUP:30A5                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span>SWITCHAR
<span style="color:black">TRANGROUP:30A9                 </span><span style="color:navy">jz      short </span><span style="color:gray">GOTRESTR_J</span>
<span style="color:black">TRANGROUP:30AB                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">22h</span> <span style="color:gray">; '&quot;'   </span>; quote
<span style="color:black">TRANGROUP:30AD                 </span><span style="color:navy">jz      short </span><span style="color:gray">PIPEERRSYNJ5_J</span>
<span style="color:black">TRANGROUP:30AF                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Ch</span> <span style="color:gray">; '&lt;'   </span>; labracket
<span style="color:black">TRANGROUP:30B1                 </span><span style="color:navy">jz      short </span><span style="color:gray">ABRACKET_TERM</span>
<span style="color:black">TRANGROUP:30B3                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Eh</span> <span style="color:gray">; '&gt;'   </span>; rabracket
<span style="color:black">TRANGROUP:30B5                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NO_ABRACKET</span>
<span style="color:black">TRANGROUP:30B7
</span><span style="color:black">TRANGROUP:30B7 </span><span style="color:gray">ABRACKET_TERM</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:30B7                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:30B8                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:30BA
</span><span style="color:black">TRANGROUP:30BA </span><span style="color:gray">GOTRESTR_J</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:30BA                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:30BB                 </span><span style="color:navy">jmp     short </span><span style="color:gray">GOTRESTR</span>
<span style="color:black">TRANGROUP:30BD </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:30BD
</span><span style="color:black">TRANGROUP:30BD </span><span style="color:gray">NO_ABRACKET</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:30BD                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:30BE                 </span><span style="color:navy">loop    </span><span style="color:gray">SETREOUTSTR_LOOP</span>
<span style="color:black">TRANGROUP:30C0                 </span><span style="color:navy">jmp     short </span><span style="color:gray">GOTRESTR_J</span>
<span style="color:black">TRANGROUP:30C2 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:30C2
</span><span style="color:black">TRANGROUP:30C2 </span><span style="color:gray">PIPEERRSYNJ5_J</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:30C2                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:30C3                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PIPEERRSYNJ5</span>
<span style="color:black">TRANGROUP:30C5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:30C5
</span><span style="color:black">TRANGROUP:30C5 </span><span style="color:gray">NOOUT</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:30C5                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Ch</span> <span style="color:gray">; '&lt;'
</span><span style="color:black">TRANGROUP:30C7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CHKPIPE</span>
<span style="color:black">TRANGROUP:30C9                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:30CB                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:30CE                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Eh</span> <span style="color:gray">; '&gt;'
</span><span style="color:black">TRANGROUP:30D0                 </span><span style="color:navy">jz      short </span><span style="color:gray">REIN_ERRSET</span>
<span style="color:black">TRANGROUP:30D2                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:30D4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GOTREIFIL</span>
<span style="color:black">TRANGROUP:30D6
</span><span style="color:black">TRANGROUP:30D6 </span><span style="color:gray">REIN_ERRSET</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:30D6                 </span><span style="color:navy">mov     byte ptr [di]</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:30D9                 </span><span style="color:navy">mov     word ptr </span>RE_INSTR<span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">TRANGROUP:30DF                 </span><span style="color:navy">jmp     short </span>PRESCANEND
<span style="color:black">TRANGROUP:30E1 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:30E1
</span><span style="color:black">TRANGROUP:30E1 </span><span style="color:gray">GOTREIFIL</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:30E1                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:30E2                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>RE_INSTR
<span style="color:black">TRANGROUP:30E5                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:30E7                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:30E8                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:30E9                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:30EA                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:30EA                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SETREOUTSTR</span>
<span style="color:black">TRANGROUP:30EC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:30EC
</span><span style="color:black">TRANGROUP:30EC </span><span style="color:gray">CHKPIPE</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:30EC                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:30EE                 </span><span style="color:navy">cmp     ah</span><span style="color:navy">, </span><span style="color:#ff8000">7Ch</span> <span style="color:gray">; '|'   </span>; ALTPIPECHR
<span style="color:black">TRANGROUP:30F1                 </span><span style="color:navy">jz      short </span><span style="color:gray">ISPIPE3</span>
<span style="color:black">TRANGROUP:30F3                 </span><span style="color:navy">cmp     ah</span><span style="color:navy">, </span><span style="color:#ff8000">7Ch</span> <span style="color:gray">; '|'   </span>; vbar
<span style="color:black">TRANGROUP:30F6                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CONTPRESCAN</span>
<span style="color:black">TRANGROUP:30F8
</span><span style="color:black">TRANGROUP:30F8 </span><span style="color:gray">ISPIPE3</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:30F8                 </span><span style="color:navy">cmp     es:</span>PipeFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:30FE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOECHOPUSH</span>
<span style="color:black">TRANGROUP:3100                 </span><span style="color:navy">shl     es:</span>EchoFlag<span style="color:navy">, </span><span style="color:green">1</span>  ; shl byte [es:EchoFlag],1
<span style="color:black">TRANGROUP:3105
</span><span style="color:black">TRANGROUP:3105 </span><span style="color:gray">NOECHOPUSH</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3105                 </span><span style="color:navy">inc     es:</span>PipeFlag
<span style="color:black">TRANGROUP:310A                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:310D                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:310F                 </span><span style="color:navy">jz      short </span><span style="color:gray">PIPEERRSYNJ5</span>
<span style="color:black">TRANGROUP:3111                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">7Ch</span> <span style="color:gray">; '|'   </span>; ALTPIPECHR
<span style="color:black">TRANGROUP:3113                 </span><span style="color:navy">jz      short </span><span style="color:gray">PIPEERRSYNJ5</span>
<span style="color:black">TRANGROUP:3115                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">7Ch</span> <span style="color:gray">; '|'   </span>; vbar
<span style="color:black">TRANGROUP:3117                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CONTPRESCAN</span>
<span style="color:black">TRANGROUP:3119
</span><span style="color:black">TRANGROUP:3119 </span><span style="color:gray">PIPEERRSYNJ5</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3119                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:311A                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:311B                 </span><span style="color:navy">jmp     </span>PIPEERRSYN
<span style="color:black">TRANGROUP:311E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:311E
</span><span style="color:black">TRANGROUP:311E </span><span style="color:gray">GOTRESTR</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:311E                 </span><span style="color:navy">xchg    ah</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3120                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':'
</span><span style="color:black">TRANGROUP:3122                 </span><span style="color:navy">sub     bx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3124                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:3127                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOTRAILCOL</span>
<span style="color:black">TRANGROUP:3129                 </span><span style="color:navy">cmp     es:[di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:312D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOTRAILCOL</span>
<span style="color:black">TRANGROUP:312F                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:3130
</span><span style="color:black">TRANGROUP:3130 </span><span style="color:gray">NOTRAILCOL</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3130                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3132                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3133                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:3134                 </span>assume es:nothing
<span style="color:black">TRANGROUP:3134                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:3135
</span><span style="color:black">TRANGROUP:3135 </span><span style="color:gray">CONTPRESCAN</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3135                 </span><span style="color:navy">mov     [di]</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:3137                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:3138                 </span><span style="color:navy">cmp     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:313B                 </span><span style="color:navy">jz      short </span>PRESCANEND
<span style="color:black">TRANGROUP:313D                 </span><span style="color:navy">inc     cl</span>
<span style="color:black">TRANGROUP:313F                 </span><span style="color:navy">jmp     </span><span style="color:gray">PRESCANLP</span>
<span style="color:black">TRANGROUP:3142 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3142
</span><span style="color:black">TRANGROUP:3142 </span>PRESCANEND<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3142                 </span><span style="color:navy">cmp     es:</span>PipeFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3148                 </span><span style="color:navy">jz      short </span><span style="color:gray">ISNOPIPE</span>
<span style="color:black">TRANGROUP:314A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:#ff8000">48Ah</span>        ; PipeStr ; RESGROUP:EndInit+160
<span style="color:black">TRANGROUP:314D                 </span><span style="color:navy">mov     es:</span><span style="color:green">488h</span><span style="color:navy">, di</span>     ; [es:PipePtr],di
<span style="color:black">TRANGROUP:314D                                         </span>; (RESGROUP:EndInit+158)
<span style="color:black">TRANGROUP:3152                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:3155                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:3158
</span><span style="color:black">TRANGROUP:3158 </span><span style="color:gray">PIPESETLP</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3158                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3159                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:315A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:315C                 </span><span style="color:navy">jnz     short </span><span style="color:gray">PIPESETLP</span>
<span style="color:black">TRANGROUP:315E
</span><span style="color:black">TRANGROUP:315E </span><span style="color:gray">ISNOPIPE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:315E                 </span><span style="color:navy">mov     </span>COMBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:3162                 </span><span style="color:navy">cmp     es:</span>PipeFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3168                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:3169                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:316A                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:316A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:316A </span>PRESCAN         endp
<span style="color:black">TRANGROUP:316A
</span><span style="color:black">TRANGROUP:316B
</span><span style="color:black">TRANGROUP:316B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:316B
</span><span style="color:black">TRANGROUP:316B
</span><span style="color:black">TRANGROUP:316B </span>cmd_copy        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:316B                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:316E                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:3171                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span>PathPos
<span style="color:black">TRANGROUP:3175                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:3178                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:317A
</span><span style="color:black">TRANGROUP:317A </span><span style="color:gray">cmdcopy</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:317A                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:317B                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:317C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:317E                 </span><span style="color:navy">jz      short </span><span style="color:gray">copy_done</span>
<span style="color:black">TRANGROUP:3180                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:3181                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cmdcopy</span>
<span style="color:black">TRANGROUP:3183 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3183
</span><span style="color:black">TRANGROUP:3183 </span><span style="color:gray">copy_done</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3183                 </span><span style="color:navy">mov     </span>TRANSTART<span style="color:navy">+</span><span style="color:green">80h</span><span style="color:navy">, cl</span> ; mov ds:80h, cl
<span style="color:black">TRANGROUP:3187                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3187 </span>cmd_copy        endp
<span style="color:black">TRANGROUP:3187
</span><span style="color:black">TRANGROUP:3188
</span><span style="color:black">TRANGROUP:3188 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3188
</span><span style="color:black">TRANGROUP:3188
</span><span style="color:black">TRANGROUP:3188 </span>test_append     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3188                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>COMBUF
<span style="color:black">TRANGROUP:318B                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>IDLEN
<span style="color:black">TRANGROUP:318E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:3191                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0AE00h</span>
<span style="color:black">TRANGROUP:3194                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; - Multiplex - DOS 3.3+ internal - INSTALLABLE COMMAND - INSTALL CHECK
<span style="color:black">TRANGROUP:3194                                         </span>; DX = FFFFh, DS:BX -&gt; command line
<span style="color:black">TRANGROUP:3194                                         </span>; Return: AL = FFh if this command is a TSR extension to COMMAND.COM
<span style="color:black">TRANGROUP:3194                                         </span>; AL = 00h if the command should be executed as usual
<span style="color:black">TRANGROUP:3196                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3198                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3198 </span>test_append     endp
<span style="color:black">TRANGROUP:3198
</span><span style="color:black">TRANGROUP:3199
</span><span style="color:black">TRANGROUP:3199 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3199
</span><span style="color:black">TRANGROUP:3199
</span><span style="color:black">TRANGROUP:3199 </span>SETPATH         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3199                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span>PathCnt
<span style="color:black">TRANGROUP:319C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span>PathPos
<span style="color:black">TRANGROUP:31A0
</span><span style="color:black">TRANGROUP:31A0 </span>GETPATH<span style="color:navy">:
</span><span style="color:black">TRANGROUP:31A0                 </span><span style="color:navy">mov     </span>DestInfo<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:31A5                 </span><span style="color:navy">mov     </span>DestIsDir<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:31AA                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span>PathPos
<span style="color:black">TRANGROUP:31AE                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span>PathCnt
<span style="color:black">TRANGROUP:31B2                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:31B4                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">PATHDONE</span>
<span style="color:black">TRANGROUP:31B6                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:31B7                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:31B8                 </span><span style="color:navy">call    </span>SWITCH
<span style="color:black">TRANGROUP:31BB                 </span><span style="color:navy">mov     </span>PathSw<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:31BE                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:31BF                 </span><span style="color:navy">sub     bx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:31C1                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:31C2                 </span><span style="color:navy">add     cx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:31C4                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:31C6
</span><span style="color:black">TRANGROUP:31C6 </span><span style="color:gray">SKIPPATH</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:31C6                 </span><span style="color:navy">mov     </span>KPARSE<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:31CB
</span><span style="color:black">TRANGROUP:31CB </span><span style="color:gray">SKIPPATH2</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:31CB                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">PATHDONE</span>
<span style="color:black">TRANGROUP:31CD                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:31CE                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:31CF                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:31D2                 </span><span style="color:navy">jz      short </span><span style="color:gray">TESTPPSEP</span>
<span style="color:black">TRANGROUP:31D4                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:31D5                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:31D6                 </span><span style="color:navy">inc     </span>KPARSE
<span style="color:black">TRANGROUP:31DA                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SKIPPATH2</span>
<span style="color:black">TRANGROUP:31DC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:31DC
</span><span style="color:black">TRANGROUP:31DC </span><span style="color:gray">TESTPPSEP</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:31DC                 </span><span style="color:navy">call    </span>pathchrcmp
<span style="color:black">TRANGROUP:31DF                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TESTPMETA</span>
<span style="color:black">TRANGROUP:31E1                 </span><span style="color:navy">inc     </span>DestIsDir
<span style="color:black">TRANGROUP:31E5
</span><span style="color:black">TRANGROUP:31E5 </span><span style="color:gray">TESTPMETA</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:31E5                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Fh</span> <span style="color:gray">; '?'
</span><span style="color:black">TRANGROUP:31E7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TESTPSTAR</span>
<span style="color:black">TRANGROUP:31E9                 </span><span style="color:navy">or      </span>DestInfo<span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:31EE
</span><span style="color:black">TRANGROUP:31EE </span><span style="color:gray">TESTPSTAR</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:31EE                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Ah</span> <span style="color:gray">; '*'
</span><span style="color:black">TRANGROUP:31F0                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TESTPDELIM</span>
<span style="color:black">TRANGROUP:31F2                 </span><span style="color:navy">or      </span>DestInfo<span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:31F7
</span><span style="color:black">TRANGROUP:31F7 </span><span style="color:gray">TESTPDELIM</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:31F7                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:31FA                 </span><span style="color:navy">jz      short </span><span style="color:gray">PATHDONEDEC</span>
<span style="color:black">TRANGROUP:31FC                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span>SWITCHAR
<span style="color:black">TRANGROUP:3200                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SKIPPATH</span>
<span style="color:black">TRANGROUP:3202
</span><span style="color:black">TRANGROUP:3202 </span><span style="color:gray">PATHDONEDEC</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3202                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:3203
</span><span style="color:black">TRANGROUP:3203 </span><span style="color:gray">PATHDONE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3203                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3205                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:3207                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:3208                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:320A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOPSTORE</span>
<span style="color:black">TRANGROUP:320C                 </span><span style="color:navy">mov     [si]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:320E
</span><span style="color:black">TRANGROUP:320E </span><span style="color:gray">NOPSTORE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:320E                 </span><span style="color:navy">mov     </span>PathPos<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3212                 </span><span style="color:navy">mov     </span>PathCnt<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3216
</span><span style="color:black">TRANGROUP:3216 </span>SETPATH_RETN<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3216                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3216 </span>SETPATH         endp
<span style="color:black">TRANGROUP:3216
</span><span style="color:black">TRANGROUP:3217
</span><span style="color:black">TRANGROUP:3217 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3217
</span><span style="color:black">TRANGROUP:3217
</span><span style="color:black">TRANGROUP:3217 </span>PGETARG         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3217                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:321A                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:321B                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:321D                 </span><span style="color:navy">jz      short </span>SETPATH_RETN
<span style="color:black">TRANGROUP:321F                 </span><span style="color:navy">call    </span>PSCANOFF
<span style="color:black">TRANGROUP:3222                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:3224                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3224 </span>PGETARG         endp
<span style="color:black">TRANGROUP:3224
</span><span style="color:black">TRANGROUP:3225
</span><span style="color:black">TRANGROUP:3225 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3225
</span><span style="color:black">TRANGROUP:3225
</span><span style="color:black">TRANGROUP:3225 </span>PSCANOFF        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3225                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3226                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:3229                 </span><span style="color:navy">jnz     short </span><span style="color:gray">PSCANOFFD</span>
<span style="color:black">TRANGROUP:322B                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">';'</span>         ; 3Bh
<span style="color:black">TRANGROUP:322D                 </span><span style="color:navy">jnz     short </span>PSCANOFF
<span style="color:black">TRANGROUP:322F
</span><span style="color:black">TRANGROUP:322F </span><span style="color:gray">PSCANOFFD</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:322F                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:3230                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3230 </span>PSCANOFF        endp
<span style="color:black">TRANGROUP:3230
</span><span style="color:black">TRANGROUP:3231
</span><span style="color:black">TRANGROUP:3231 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3231
</span><span style="color:black">TRANGROUP:3231
</span><span style="color:black">TRANGROUP:3231 </span>IOSET           proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3231                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:3232                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:3233                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:3234                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:3235                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3236                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, cs:</span>RESSEG
<span style="color:black">TRANGROUP:323B                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:323B                 </span><span style="color:navy">cmp     ds:</span>PipeFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3240                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOREDIR</span>
<span style="color:black">TRANGROUP:3242                 </span><span style="color:navy">test    ds:</span>IfFlag<span style="color:navy">, </span><span style="color:green">0FFh</span>
<span style="color:black">TRANGROUP:3247                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOREDIR</span>
<span style="color:black">TRANGROUP:3249                 </span><span style="color:navy">call    </span>TESTDOREIN
<span style="color:black">TRANGROUP:324C                 </span><span style="color:navy">call    </span>TESTDOREOUT
<span style="color:black">TRANGROUP:324F
</span><span style="color:black">TRANGROUP:324F </span><span style="color:gray">NOREDIR</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:324F                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:3250                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:3251                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:3252                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:3253                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3254
</span><span style="color:black">TRANGROUP:3254 </span>IOSET_RETN<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3254                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3254 </span>IOSET           endp
<span style="color:black">TRANGROUP:3254
</span><span style="color:black">TRANGROUP:3255
</span><span style="color:black">TRANGROUP:3255 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3255
</span><span style="color:black">TRANGROUP:3255
</span><span style="color:black">TRANGROUP:3255 </span>TESTDOREIN      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3255
</span><span style="color:black">TRANGROUP:3255 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:2FF5 SIZE 00000006 BYTES
</span><span style="color:black">TRANGROUP:3255
</span><span style="color:black">TRANGROUP:3255                 </span><span style="color:navy">cmp     cs:</span>RE_INSTR<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:325B                 </span><span style="color:navy">jz      short </span>IOSET_RETN
<span style="color:black">TRANGROUP:325D                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:325E                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:325F                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3260                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:3260                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>RE_INSTR
<span style="color:black">TRANGROUP:3263                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3D00h</span>       ; OPEN*256
<span style="color:black">TRANGROUP:3266                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3268                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - OPEN DISK FILE WITH HANDLE
<span style="color:black">TRANGROUP:3268                                         </span>; DS:DX -&gt; ASCIZ filename
<span style="color:black">TRANGROUP:3268                                         </span>; AL = access mode
<span style="color:black">TRANGROUP:3268                                         </span>; 0 - read
<span style="color:black">TRANGROUP:326A                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:326B                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:326B                 </span><span style="color:navy">jb      short </span>REDIRERR
<span style="color:black">TRANGROUP:326D                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:326F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:3271                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">18h</span><span style="color:navy">]</span>    ; [bx+PDB.JFN_TABLE]
<span style="color:black">TRANGROUP:3274                 </span><span style="color:navy">mov     ds:</span><span style="color:green">18h</span><span style="color:navy">, al</span>      ; [PDB.JFN_TABLE]
<span style="color:black">TRANGROUP:3277                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3278 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3278
</span><span style="color:black">TRANGROUP:3278 </span>REDIRERR<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3278                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:3279                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:327A                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:327A                 </span><span style="color:navy">call    </span>TriageError
<span style="color:black">TRANGROUP:327D                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">65</span>
<span style="color:black">TRANGROUP:3280                 </span><span style="color:navy">jz      short </span><span style="color:gray">_CERRORJ</span>
<span style="color:black">TRANGROUP:3282                 </span><span style="color:navy">cmp     bh</span><span style="color:navy">, </span><span style="color:green">3Dh</span>         ; OPEN
<span style="color:black">TRANGROUP:3285                 </span><span style="color:navy">jz      short </span><span style="color:gray">OpenError</span>
<span style="color:black">TRANGROUP:3287                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>FULLDIR_PTR
<span style="color:black">TRANGROUP:328A
</span><span style="color:black">TRANGROUP:328A </span><span style="color:gray">_CERRORJ</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:328A                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:328D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:328D
</span><span style="color:black">TRANGROUP:328D </span><span style="color:gray">OpenError</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:328D                 </span><span style="color:navy">mov     cs:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; ext_msg_class
<span style="color:black">TRANGROUP:3293                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:3296                 </span><span style="color:navy">mov     cs:</span>extend_buf_ptr<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:329A                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:329A </span>TESTDOREIN      endp
<span style="color:black">TRANGROUP:329A
</span><span style="color:black">TRANGROUP:329D
</span><span style="color:black">TRANGROUP:329D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:329D
</span><span style="color:black">TRANGROUP:329D
</span><span style="color:black">TRANGROUP:329D </span>TESTDOREOUT     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:329D                 </span><span style="color:navy">cmp     ds:</span>Re_OutStr<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:32A2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">REOUTEXISTS</span>
<span style="color:black">TRANGROUP:32A4                 </span><span style="color:navy">jmp     </span><span style="color:gray">NOREOUT</span>
<span style="color:black">TRANGROUP:32A7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:32A7
</span><span style="color:black">TRANGROUP:32A7 </span><span style="color:gray">REOUTEXISTS</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:32A7                 </span><span style="color:navy">cmp     ds:</span>Re_Out_App<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:32AC                 </span><span style="color:navy">jz      short </span><span style="color:gray">REOUTCRT</span>
<span style="color:black">TRANGROUP:32AE                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>Re_OutStr
<span style="color:black">TRANGROUP:32B1                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3D02h</span>
<span style="color:black">TRANGROUP:32B4                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:32B5                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - OPEN DISK FILE WITH HANDLE
<span style="color:black">TRANGROUP:32B5                                         </span>; DS:DX -&gt; ASCIZ filename
<span style="color:black">TRANGROUP:32B5                                         </span>; AL = access mode
<span style="color:black">TRANGROUP:32B5                                         </span>; 2 - read &amp; write
<span style="color:black">TRANGROUP:32B7                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:32B8                 </span><span style="color:navy">jb      short </span><span style="color:gray">OpenWriteError</span>
<span style="color:black">TRANGROUP:32BA                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:32BC                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4400h</span>
<span style="color:black">TRANGROUP:32BF                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - GET DEVICE INFORMATION
<span style="color:black">TRANGROUP:32BF                                         </span>; BX = file or device handle
<span style="color:black">TRANGROUP:32C1                 </span><span style="color:navy">test    dl</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:32C4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SET_REOUT</span>
<span style="color:black">TRANGROUP:32C6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4202h</span>
<span style="color:black">TRANGROUP:32C9                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1
<span style="color:black">TRANGROUP:32CC                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:32CE                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:black">TRANGROUP:32CE                                         </span>; AL = method: offset from end of file
<span style="color:black">TRANGROUP:32D0                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:32D1                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:32D2                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3F00h</span>
<span style="color:black">TRANGROUP:32D5                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:32D8                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>One_Char_Val
<span style="color:black">TRANGROUP:32DB                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - READ FROM FILE WITH HANDLE
<span style="color:black">TRANGROUP:32DB                                         </span>; BX = file handle, CX = number of bytes to read
<span style="color:black">TRANGROUP:32DB                                         </span>; DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:32DD                 </span><span style="color:navy">jb      short </span><span style="color:gray">OpenWriteError</span>
<span style="color:black">TRANGROUP:32DF                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:32E1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">reout_0_length</span>
<span style="color:black">TRANGROUP:32E3                 </span><span style="color:navy">cmp     </span>One_Char_Val<span style="color:navy">, </span><span style="color:#ff8000">1Ah</span>
<span style="color:black">TRANGROUP:32E8                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:32EC                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:32EC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SET_REOUT</span>
<span style="color:black">TRANGROUP:32EE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4201h</span>
<span style="color:black">TRANGROUP:32F1                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:32F4                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:32F6                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:black">TRANGROUP:32F6                                         </span>; AL = method: offset from present location
<span style="color:black">TRANGROUP:32F8                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SET_REOUT</span>
<span style="color:black">TRANGROUP:32FA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:32FA
</span><span style="color:black">TRANGROUP:32FA </span><span style="color:gray">reout_0_length</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:32FA                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, cs:</span>RESSEG
<span style="color:black">TRANGROUP:32FF                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4200h</span>
<span style="color:black">TRANGROUP:3302                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3304                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3306                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:black">TRANGROUP:3306                                         </span>; AL = method: offset from beginning of file
<span style="color:black">TRANGROUP:3308                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SET_REOUT</span>
<span style="color:black">TRANGROUP:330A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:330A
</span><span style="color:black">TRANGROUP:330A </span><span style="color:gray">OpenWriteError</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:330A                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; ERROR_ACCESS_DENIED
<span style="color:black">TRANGROUP:330D                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:330E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">REOUTCRT</span>
<span style="color:black">TRANGROUP:3310                 </span><span style="color:navy">jmp     </span>REDIRERR
<span style="color:black">TRANGROUP:3313 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3313
</span><span style="color:black">TRANGROUP:3313 </span><span style="color:gray">REOUTCRT</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3313                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>Re_OutStr
<span style="color:black">TRANGROUP:3316                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3318                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Ch</span>
<span style="color:black">TRANGROUP:331A                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:331B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CREATE A FILE WITH HANDLE (CREAT)
<span style="color:black">TRANGROUP:331B                                         </span>; CX = attributes for file
<span style="color:black">TRANGROUP:331B                                         </span>; DS:DX -&gt; ASCIZ filename (may include drive and path)
<span style="color:black">TRANGROUP:331D                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:331E                 </span><span style="color:navy">jnb     short </span><span style="color:gray">NOREDIRERR</span>
<span style="color:black">TRANGROUP:3320                 </span><span style="color:navy">jmp     </span>REDIRERR
<span style="color:black">TRANGROUP:3323 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3323
</span><span style="color:black">TRANGROUP:3323 </span><span style="color:gray">NOREDIRERR</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3323                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3325
</span><span style="color:black">TRANGROUP:3325 </span><span style="color:gray">SET_REOUT</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3325                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:3327                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">18h</span><span style="color:navy">]</span>    ; [bx+PDB.JFN_TABLE]
<span style="color:black">TRANGROUP:332A                 </span><span style="color:navy">mov     ds:</span><span style="color:green">19h</span><span style="color:navy">, al</span>      ; mov [PDB.JFN_TABLE+1],al
<span style="color:black">TRANGROUP:332D
</span><span style="color:black">TRANGROUP:332D </span><span style="color:gray">NOREOUT</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:332D                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:332D </span>TESTDOREOUT     endp
<span style="color:black">TRANGROUP:332D
</span><span style="color:black">TRANGROUP:332E
</span><span style="color:black">TRANGROUP:332E </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:332E
</span><span style="color:black">TRANGROUP:332E
</span><span style="color:black">TRANGROUP:332E </span>dstrlen         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:332E                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:332F                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3331                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:3332
</span><span style="color:black">TRANGROUP:3332 </span><span style="color:gray">dloop</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3332                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3333                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:3334                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3336                 </span><span style="color:navy">jnz     short </span><span style="color:gray">dloop</span>
<span style="color:black">TRANGROUP:3338                 </span><span style="color:navy">sub     si</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:333A                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:333B
</span><span style="color:black">TRANGROUP:333B </span>TRIAGEERR_RETN<span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:333B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:333B </span>dstrlen         endp
<span style="color:black">TRANGROUP:333B
</span><span style="color:black">TRANGROUP:333C
</span><span style="color:black">TRANGROUP:333C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:333C
</span><span style="color:black">TRANGROUP:333C
</span><span style="color:black">TRANGROUP:333C </span>TriageError     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:333C                 </span><span style="color:navy">jnb     short </span>TRIAGEERR_RETN
<span style="color:black">TRANGROUP:333E                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:333F                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:3340                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3341                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:3342                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3343                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:3344                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:3345                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:3346                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:3347                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:3348                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">59h</span>
<span style="color:black">TRANGROUP:334A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET EXTENDED ERROR CODE
<span style="color:black">TRANGROUP:334A                                         </span>; BX = version code (0000h for DOS 3.x)
<span style="color:black">TRANGROUP:334C                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:334D                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:334E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>ACCDEN_PTR
<span style="color:black">TRANGROUP:3351                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">65</span>
<span style="color:black">TRANGROUP:3354                 </span><span style="color:navy">jz      short </span><span style="color:gray">NoMove</span>
<span style="color:black">TRANGROUP:3356                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:3358                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:335A
</span><span style="color:black">TRANGROUP:335A </span><span style="color:gray">NoMove</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:335A                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:335B                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:335C                 </span>assume es:nothing
<span style="color:black">TRANGROUP:335C                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:335D                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:335E                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:335F                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:3360                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:3361                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3362                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3362 </span>TriageError     endp
<span style="color:black">TRANGROUP:3362
</span><span style="color:maroon">TRANGROUP:3363 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:3363
</span><span style="color:maroon">TRANGROUP:3363 </span>Triage_Init<span style="color:navy">:                            </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:3363                 </span><span style="color:navy">call    </span>TriageError
<span style="color:maroon">TRANGROUP:3366                 </span><span style="color:navy">retf
</span><span style="color:black">TRANGROUP:3367
</span><span style="color:black">TRANGROUP:3367 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3367
</span><span style="color:black">TRANGROUP:3367
</span><span style="color:black">TRANGROUP:3367 </span>Move_To_SrcBuf  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3367                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:3368                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3369                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:336A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>SrcBuf
<span style="color:black">TRANGROUP:336D                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:336F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3371                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3372                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3373
</span><span style="color:black">TRANGROUP:3373 </span>mts_get_chars<span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3373                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3375                 </span><span style="color:navy">jz      short </span>mts_end_string
<span style="color:black">TRANGROUP:3377                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3378                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:3379                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:337A                 </span><span style="color:navy">jmp     short </span>mts_get_chars
<span style="color:black">TRANGROUP:337C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:337C
</span><span style="color:black">TRANGROUP:337C </span>mts_end_string<span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:337C                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:337E                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:337F                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:3380                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:3381                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3382                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:3382                 </span><span style="color:navy">mov     </span>PathCnt<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3386                 </span><span style="color:navy">mov     </span>PathPos<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:338A                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:338B                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:338C                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:338D                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:338D </span>Move_To_SrcBuf  endp
<span style="color:black">TRANGROUP:338D
</span><span style="color:black">TRANGROUP:338E
</span><span style="color:black">TRANGROUP:338E </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:338E
</span><span style="color:black">TRANGROUP:338E
</span><span style="color:black">TRANGROUP:338E </span>SINGLETEST      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:338E                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:338F                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, cs:</span>RESSEG
<span style="color:black">TRANGROUP:3394                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:3394                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3399                 </span><span style="color:navy">jz      short </span><span style="color:gray">TESTDONE</span>
<span style="color:black">TRANGROUP:339B                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0EFFFh</span>
<span style="color:black">TRANGROUP:33A1
</span><span style="color:black">TRANGROUP:33A1 </span><span style="color:gray">TESTDONE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:33A1                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:33A2                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:33A2 </span>SINGLETEST      endp
<span style="color:black">TRANGROUP:33A2
</span><span style="color:black">TRANGROUP:33A3
</span><span style="color:black">TRANGROUP:33A3 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:33A3
</span><span style="color:black">TRANGROUP:33A3
</span><span style="color:black">TRANGROUP:33A3 </span>SetRest1        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:33A3                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:33A3 </span>SetRest1        endp
<span style="color:black">TRANGROUP:33A3
</span><span style="color:black">TRANGROUP:33A5
</span><span style="color:black">TRANGROUP:33A5 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:33A5
</span><span style="color:black">TRANGROUP:33A5
</span><span style="color:black">TRANGROUP:33A5 </span>SETREST         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:33A5                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:33A6                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:33AA                 </span><span style="color:navy">mov     ds:</span>RestDir<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:33AD                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:33AE                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:33AE </span>SETREST         endp
<span style="color:black">TRANGROUP:33AE
</span><span style="color:black">TRANGROUP:33AF
</span><span style="color:black">TRANGROUP:33AF </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:33AF
</span><span style="color:black">TRANGROUP:33AF
</span><span style="color:black">TRANGROUP:33AF </span>PIPEDEL         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:33AF                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:33B0                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:33B1                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, cs:</span>RESSEG
<span style="color:black">TRANGROUP:33B6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">3EAh</span>        ; offset Pipe1 = offset RESGROUP:EndInit
<span style="color:black">TRANGROUP:33B9                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">41h</span>
<span style="color:black">TRANGROUP:33BB                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - DELETE A FILE (UNLINK)
<span style="color:black">TRANGROUP:33BB                                         </span>; DS:DX -&gt; ASCIZ pathname of file to delete (no wildcards allowed)
<span style="color:black">TRANGROUP:33BD                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">439h</span>        ; offset Pipe2 = offset RESGROUP:EndInit+79
<span style="color:black">TRANGROUP:33C0                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">41h</span>
<span style="color:black">TRANGROUP:33C2                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - DELETE A FILE (UNLINK)
<span style="color:black">TRANGROUP:33C2                                         </span>; DS:DX -&gt; ASCIZ pathname of file to delete (no wildcards allowed)
<span style="color:black">TRANGROUP:33C4                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:33C5                 </span><span style="color:navy">call    </span>PipeOff
<span style="color:black">TRANGROUP:33C8                 </span><span style="color:navy">mov     ds:</span>PipeFiles<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:33CD                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:33CE                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:33CE </span>PIPEDEL         endp
<span style="color:black">TRANGROUP:33CE
</span><span style="color:black">TRANGROUP:33CF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:33CF </span><span style="color:gray">; START OF FUNCTION CHUNK FOR _$IF
</span><span style="color:black">TRANGROUP:33CF
</span><span style="color:black">TRANGROUP:33CF </span>PIPEERRSYN<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:33CF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>SYNTMES_PTR
<span style="color:black">TRANGROUP:33D2                 </span><span style="color:navy">call    </span>PIPEDEL
<span style="color:black">TRANGROUP:33D5                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:33D6                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:33D7                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:33D7                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:33DA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:33DA
</span><span style="color:black">TRANGROUP:33DA </span><span style="color:gray">PIPERR</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:33DA                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:33DB                 </span><span style="color:navy">call    </span>TriageError
<span style="color:black">TRANGROUP:33DE                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:33DF                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:33E0                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>PIPEEMES_PTR
<span style="color:black">TRANGROUP:33E3                 </span><span style="color:navy">call    </span>PIPEDEL
<span style="color:black">TRANGROUP:33E6                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:33E7                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:33E8                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:33EB                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:33EC                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:33ED                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:33EE                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">65</span>
<span style="color:black">TRANGROUP:33F1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TCOMMANDJ</span>
<span style="color:black">TRANGROUP:33F3                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:33F6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:33F6
</span><span style="color:black">TRANGROUP:33F6 </span><span style="color:gray">TCOMMANDJ</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:33F6                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:33F9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:33F9
</span><span style="color:black">TRANGROUP:33F9 </span><span style="color:gray">PIPEPROCSTRT</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:33F9                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:33FD                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:33FD                 </span><span style="color:navy">inc     ds:</span>PipeFiles
<span style="color:black">TRANGROUP:3401                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:3402                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3403                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:3404                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:3405                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:3406                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:3407                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3408                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>TempVarName <span style="color:gray">; &quot;TEMP=&quot;
</span><span style="color:black">TRANGROUP:340B                 </span><span style="color:navy">call    </span>find_name_in_environment
<span style="color:black">TRANGROUP:340E                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:340F                 </span><span style="color:navy">jb      short </span><span style="color:gray">no_temp_path</span>
<span style="color:black">TRANGROUP:3411                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:3412                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:3413                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3414                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:3415                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3417                 </span><span style="color:navy">call    </span>skip_white
<span style="color:black">TRANGROUP:341A                 </span><span style="color:navy">call    </span>copy_pipe_path
<span style="color:black">TRANGROUP:341D                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:341E                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:341F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>EndInit ; offset DATARES:Pipe1 = RESGROUP:EndInit
<span style="color:black">TRANGROUP:3422                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4300h</span>
<span style="color:black">TRANGROUP:3425                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET FILE ATTRIBUTES
<span style="color:black">TRANGROUP:3425                                         </span>; DS:DX -&gt; ASCIZ file name or directory
<span style="color:black">TRANGROUP:3425                                         </span>; name without trailing slash
<span style="color:black">TRANGROUP:3427                 </span><span style="color:navy">jb      short </span><span style="color:gray">no_temp_path</span>
<span style="color:black">TRANGROUP:3429                 </span><span style="color:navy">test    cx</span><span style="color:navy">, </span><span style="color:green">10h</span>
<span style="color:black">TRANGROUP:342D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">no_temp_path</span>
<span style="color:black">TRANGROUP:342F                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:3430
</span><span style="color:black">TRANGROUP:3430 </span><span style="color:gray">no_temp_path</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3430                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:3431                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3432                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:3433                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:3434                 </span><span style="color:navy">jnb     short </span><span style="color:gray">crt_temp</span>
<span style="color:black">TRANGROUP:3436                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">'.'</span>         ; 2Eh
<span style="color:black">TRANGROUP:3438                 </span><span style="color:navy">mov     ds:</span><span style="color:green">3EAh</span><span style="color:navy">, ah</span>     ; offset DATARES:Pipe1 = RESGROUP:EndInit
<span style="color:black">TRANGROUP:343C                 </span><span style="color:navy">mov     ds:</span><span style="color:green">439h</span><span style="color:navy">, ah</span>     ; offset DATARES:Pipe2 = RESGROUP:EndInit+79
<span style="color:black">TRANGROUP:3440                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:3442                 </span><span style="color:navy">mov     ds:</span><span style="color:green">3EBh</span><span style="color:navy">, ah</span>     ; offset DATARES:Pipe1+1 = RESGROUP:EndInit+1
<span style="color:black">TRANGROUP:3446                 </span><span style="color:navy">mov     ds:</span><span style="color:green">43Ah</span><span style="color:navy">, ah</span>     ; offset DATARES:Pipe2+1 = RESGROUP:EndInit+80
<span style="color:black">TRANGROUP:344A
</span><span style="color:black">TRANGROUP:344A </span><span style="color:gray">crt_temp</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:344A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">3EAh</span>        ; offset DATARES:Pipe1 = offset RESGROUP:EndInit
<span style="color:black">TRANGROUP:344D                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:344F                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">5Ah</span>
<span style="color:black">TRANGROUP:3451                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - CREATE UNIQUE FILE
<span style="color:black">TRANGROUP:3451                                         </span>; DS:DX -&gt; ASCIZ directory path name ending with a '' + 13 bytes to
<span style="color:black">TRANGROUP:3451                                         </span>; receive generated filename
<span style="color:black">TRANGROUP:3451                                         </span>; CX = file attributes (only bits 0,1,2,5 may be set)
<span style="color:black">TRANGROUP:3453                 </span><span style="color:navy">jnb     short </span><span style="color:gray">pps0</span>
<span style="color:black">TRANGROUP:3455                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PIPERR</span>
<span style="color:black">TRANGROUP:3457 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3457
</span><span style="color:black">TRANGROUP:3457 </span><span style="color:gray">pps0</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3457                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3459                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">TRANGROUP:345B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">TRANGROUP:345B                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:345D                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">439h</span>        ; offset DATARES:Pipe2 = offset RESGROUP:EndInit+79
<span style="color:black">TRANGROUP:3460                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">5Ah</span>
<span style="color:black">TRANGROUP:3462                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - CREATE UNIQUE FILE
<span style="color:black">TRANGROUP:3462                                         </span>; DS:DX -&gt; ASCIZ directory path name ending with a '' + 13 bytes to
<span style="color:black">TRANGROUP:3462                                         </span>; receive generated filename
<span style="color:black">TRANGROUP:3462                                         </span>; CX = file attributes (only bits 0,1,2,5 may be set)
<span style="color:black">TRANGROUP:3464                 </span><span style="color:navy">jnb     short </span><span style="color:gray">pps1</span>
<span style="color:black">TRANGROUP:3466                 </span><span style="color:navy">jmp     </span><span style="color:gray">PIPERR</span>
<span style="color:black">TRANGROUP:3469 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3469
</span><span style="color:black">TRANGROUP:3469 </span><span style="color:gray">pps1</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3469                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:346B                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">TRANGROUP:346D                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">TRANGROUP:346D                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:346F                 </span><span style="color:navy">call    </span>TESTDOREIN
<span style="color:black">TRANGROUP:3472                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span><span style="color:green">488h</span>     ; offset DATARES:PipePtr = offset RESGROUP:EndInit+158
<span style="color:black">TRANGROUP:3476                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:347B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOSINGP</span>
<span style="color:black">TRANGROUP:347D                 </span><span style="color:navy">mov     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0F000h</span>
<span style="color:black">TRANGROUP:3483
</span><span style="color:black">TRANGROUP:3483 </span><span style="color:gray">NOSINGP</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3483                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FIRSTPIPE</span>
<span style="color:black">TRANGROUP:3485 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3485
</span><span style="color:black">TRANGROUP:3485 </span><span style="color:gray">PIPEPROC</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3485                 </span><span style="color:navy">and     ds:</span>EchoFlag<span style="color:navy">, </span><span style="color:green">0FEh</span>
<span style="color:black">TRANGROUP:348A                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span><span style="color:green">488h</span>     ; offset DATARES:PipePtr = offset RESGROUP:EndInit+158
<span style="color:black">TRANGROUP:348E                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:348F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">7Ch</span> <span style="color:gray">; '|'   </span>; ALTPIPECHR
<span style="color:black">TRANGROUP:3491                 </span><span style="color:navy">jz      short </span><span style="color:gray">ISPIPE1</span>
<span style="color:black">TRANGROUP:3493                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">7Ch</span> <span style="color:gray">; '|'   </span>; vbar
<span style="color:black">TRANGROUP:3495                 </span><span style="color:navy">jz      short </span><span style="color:gray">ISPIPE1</span>
<span style="color:black">TRANGROUP:3497                 </span><span style="color:navy">jmp     </span><span style="color:gray">PIPEEND</span>
<span style="color:black">TRANGROUP:349A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:349A
</span><span style="color:black">TRANGROUP:349A </span><span style="color:gray">ISPIPE1</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:349A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>InPipePtr
<span style="color:black">TRANGROUP:349E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3D00h</span>
<span style="color:black">TRANGROUP:34A1                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - OPEN DISK FILE WITH HANDLE
<span style="color:black">TRANGROUP:34A1                                         </span>; DS:DX -&gt; ASCIZ filename
<span style="color:black">TRANGROUP:34A1                                         </span>; AL = access mode
<span style="color:black">TRANGROUP:34A1                                         </span>; 0 - read
<span style="color:black">TRANGROUP:34A3
</span><span style="color:black">TRANGROUP:34A3 </span><span style="color:gray">PIPEERRJ</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:34A3                 </span><span style="color:navy">jnb     short </span><span style="color:gray">NO_PIPEERR</span>
<span style="color:black">TRANGROUP:34A5                 </span><span style="color:navy">jmp     </span><span style="color:gray">PIPERR</span>
<span style="color:black">TRANGROUP:34A8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:34A8
</span><span style="color:black">TRANGROUP:34A8 </span><span style="color:gray">NO_PIPEERR</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:34A8                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:34AA                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:34AC                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">18h</span><span style="color:navy">]</span>    ; [bx+PDB.JFN_TABLE]
<span style="color:black">TRANGROUP:34AF                 </span><span style="color:navy">mov     ds:</span><span style="color:green">18h</span><span style="color:navy">, al</span>      ; [PDB.JFN_TABLE],al  ; Redirect
<span style="color:black">TRANGROUP:34B2
</span><span style="color:black">TRANGROUP:34B2 </span><span style="color:gray">FIRSTPIPE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:34B2                 </span><span style="color:navy">mov     di</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:34B5                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:34B7                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span> ; '|&lt;CR&gt;'
<span style="color:black">TRANGROUP:34BA                 </span><span style="color:navy">jnz     short </span><span style="color:gray">PIPEOK1</span>
<span style="color:black">TRANGROUP:34BC
</span><span style="color:black">TRANGROUP:34BC </span><span style="color:gray">PIPEERRSYNJ</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:34BC                 </span><span style="color:navy">jmp     </span>PIPEERRSYN
<span style="color:black">TRANGROUP:34BF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:34BF
</span><span style="color:black">TRANGROUP:34BF </span><span style="color:gray">PIPEOK1</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:34BF                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">7Ch</span> <span style="color:gray">; '|'
</span><span style="color:black">TRANGROUP:34C1                 </span><span style="color:navy">cmp     [si]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:34C3                 </span><span style="color:navy">jz      short </span><span style="color:gray">PIPEERRSYNJ</span>
<span style="color:black">TRANGROUP:34C5                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">7Ch</span> <span style="color:gray">; '|'
</span><span style="color:black">TRANGROUP:34C8                 </span><span style="color:navy">jz      short </span><span style="color:gray">PIPEERRSYNJ</span>
<span style="color:black">TRANGROUP:34CA
</span><span style="color:black">TRANGROUP:34CA </span><span style="color:gray">PIPECOMLP</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:34CA                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:34CB                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:34CC                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:34CF                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOTKANJ5</span>
<span style="color:black">TRANGROUP:34D1                 </span><span style="color:navy">movsb
</span><span style="color:black">TRANGROUP:34D2                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:34D3                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:34D4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PIPECOMLP</span>
<span style="color:black">TRANGROUP:34D6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:34D6
</span><span style="color:black">TRANGROUP:34D6 </span><span style="color:gray">NOTKANJ5</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:34D6                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:34D8                 </span><span style="color:navy">jz      short </span><span style="color:gray">LASTPIPE</span>
<span style="color:black">TRANGROUP:34DA                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:34DB                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">7Ch</span> <span style="color:gray">; '|'
</span><span style="color:black">TRANGROUP:34DD                 </span><span style="color:navy">jz      short </span><span style="color:gray">ISPIPE2</span>
<span style="color:black">TRANGROUP:34DF                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">7Ch</span> <span style="color:gray">; '|'
</span><span style="color:black">TRANGROUP:34E1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">PIPECOMLP</span>
<span style="color:black">TRANGROUP:34E3
</span><span style="color:black">TRANGROUP:34E3 </span><span style="color:gray">ISPIPE2</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:34E3                 </span><span style="color:navy">mov     byte ptr es:[di-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:34E8                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:34E9                 </span><span style="color:navy">mov     es:</span>COMBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:34EE                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:34EF                 </span><span style="color:navy">mov     ds:</span><span style="color:green">488h</span><span style="color:navy">, si</span>     ; [PipePtr] = [EndInit+158]
<span style="color:black">TRANGROUP:34F3                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>OutPipePtr
<span style="color:black">TRANGROUP:34F7                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:34F8                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:34FA                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3C00h</span>
<span style="color:black">TRANGROUP:34FD                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CREATE A FILE WITH HANDLE (CREAT)
<span style="color:black">TRANGROUP:34FD                                         </span>; CX = attributes for file
<span style="color:black">TRANGROUP:34FD                                         </span>; DS:DX -&gt; ASCIZ filename (may include drive and path)
<span style="color:black">TRANGROUP:34FF                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:3500                 </span><span style="color:navy">jb      short </span><span style="color:gray">PIPEERRJ</span>
<span style="color:black">TRANGROUP:3502                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3504                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:3506                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">18h</span><span style="color:navy">]</span>    ; [bx+PDB.JFN_TABLE]
<span style="color:black">TRANGROUP:3509                 </span><span style="color:navy">mov     ds:</span><span style="color:green">19h</span><span style="color:navy">, al</span>      ; [PDB.JFN_TABLE+1]
<span style="color:black">TRANGROUP:350C                 </span><span style="color:navy">xchg    dx</span><span style="color:navy">, ds:</span>InPipePtr
<span style="color:black">TRANGROUP:3510                 </span><span style="color:navy">mov     ds:</span>OutPipePtr<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3514                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PIPECOM</span>
<span style="color:black">TRANGROUP:3516 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3516
</span><span style="color:black">TRANGROUP:3516 </span><span style="color:gray">LASTPIPE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3516                 </span><span style="color:navy">mov     es:</span>COMBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:351B                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:351C                 </span><span style="color:navy">mov     ds:</span><span style="color:green">488h</span><span style="color:navy">, si</span>     ; [PipePtr] = [EndInit+158]
<span style="color:black">TRANGROUP:3520                 </span><span style="color:navy">call    </span>TESTDOREOUT
<span style="color:black">TRANGROUP:3523
</span><span style="color:black">TRANGROUP:3523 </span><span style="color:gray">PIPECOM</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3523                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:3524                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3525                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:3525                 </span><span style="color:navy">jmp     </span><span style="color:gray">NOPIPEPROC</span>
<span style="color:black">TRANGROUP:3528 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3528
</span><span style="color:black">TRANGROUP:3528 </span><span style="color:gray">PIPEEND</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3528                 </span><span style="color:navy">call    </span>PIPEDEL
<span style="color:black">TRANGROUP:352B                 </span><span style="color:navy">cmp     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0F000h</span>
<span style="color:black">TRANGROUP:3531                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOSINGP2</span>
<span style="color:black">TRANGROUP:3533                 </span><span style="color:navy">mov     ds:</span>SingleCom<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:3539
</span><span style="color:black">TRANGROUP:3539 </span><span style="color:gray">NOSINGP2</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3539                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:3539 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR _$IF
</span><span style="color:maroon">TRANGROUP:353C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:353C
</span><span style="color:maroon">TRANGROUP:353C </span>DATINIT<span style="color:navy">:                                </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:353C                 </span><span style="color:navy">mov     cs:</span>RESSEG<span style="color:navy">, ds</span>
<span style="color:maroon">TRANGROUP:3541                 </span><span style="color:navy">push    es</span>
<span style="color:maroon">TRANGROUP:3542                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">TRANGROUP:3543                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs</span>
<span style="color:maroon">TRANGROUP:3545                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:maroon">TRANGROUP:3547                 </span>assume es:TRANGROUP
<span style="color:maroon">TRANGROUP:3547                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ax</span>
<span style="color:maroon">TRANGROUP:3549                 </span>assume ds:nothing
<span style="color:maroon">TRANGROUP:3549                 </span><span style="color:navy">call    </span>TSYSLOADMSG
<span style="color:maroon">TRANGROUP:354C                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>STACK ; mov dx, offset INTERNATVARS
<span style="color:maroon">TRANGROUP:354F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">3800h</span>
<span style="color:maroon">TRANGROUP:3552                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET COUNTRY-DEPENDENT INFORMATION
<span style="color:maroon">TRANGROUP:3552                                         </span>; get current-country info
<span style="color:maroon">TRANGROUP:3552                                         </span>; DS:DX -&gt; buffer for returned info
<span style="color:maroon">TRANGROUP:3554                 </span><span style="color:navy">mov     word ptr ds:</span><span style="color:green">81h</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:maroon">TRANGROUP:355A                 </span><span style="color:navy">mov     ds:</span>COMBUF<span style="color:navy">, </span><span style="color:green">128</span>
<span style="color:maroon">TRANGROUP:355F                 </span><span style="color:navy">mov     word ptr ds:</span>COMBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">, </span><span style="color:#ff8000">0D01h</span>
<span style="color:maroon">TRANGROUP:3565                 </span><span style="color:navy">call    </span>DATE
<span style="color:maroon">TRANGROUP:3568                 </span><span style="color:navy">call    </span>CTIME
<span style="color:maroon">TRANGROUP:356B                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">TRANGROUP:356C                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">TRANGROUP:356D                 </span>assume es:nothing
<span style="color:maroon">TRANGROUP:356D                 </span><span style="color:navy">retf
</span><span style="color:black">TRANGROUP:356E
</span><span style="color:black">TRANGROUP:356E </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:356E
</span><span style="color:black">TRANGROUP:356E
</span><span style="color:black">TRANGROUP:356E </span>DATE            proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:356E                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:3571                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_DATE
<span style="color:black">TRANGROUP:3574                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3576                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3578                 </span><span style="color:navy">call    </span>cmd_parse
<span style="color:black">TRANGROUP:357B                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:357E                 </span><span style="color:navy">jz      short </span><span style="color:gray">PRMTDAT</span>
<span style="color:black">TRANGROUP:3580                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3583                 </span><span style="color:navy">jnz     short </span><span style="color:gray">DATERR</span>
<span style="color:black">TRANGROUP:3585                 </span><span style="color:navy">jmp     short </span><span style="color:gray">COMDAT</span>
<span style="color:black">TRANGROUP:3587 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3587
</span><span style="color:black">TRANGROUP:3587 </span><span style="color:gray">PRMTDAT</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3587                 </span><span style="color:navy">call    </span>GetDate
<span style="color:black">TRANGROUP:358A                 </span><span style="color:navy">xchg    dh</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:358C                 </span><span style="color:navy">mov     ds:</span>CurDat_yr<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3590                 </span><span style="color:navy">mov     ds:</span>CurDat_mo_day<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3594                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>CurDat_Ptr
<span style="color:black">TRANGROUP:3597                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:359A
</span><span style="color:black">TRANGROUP:359A </span><span style="color:gray">GET_NEW_DATE</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:359A                 </span><span style="color:navy">call    </span>GETDAT
<span style="color:black">TRANGROUP:359D                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; END_OF_LINE (-1)
<span style="color:black">TRANGROUP:35A0                 </span><span style="color:navy">jz      short </span><span style="color:gray">date_end</span>
<span style="color:black">TRANGROUP:35A2                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:35A5                 </span><span style="color:navy">jnz     short </span><span style="color:gray">DATERR</span>
<span style="color:black">TRANGROUP:35A7
</span><span style="color:black">TRANGROUP:35A7 </span><span style="color:gray">COMDAT</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:35A7                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>DATE_YEAR
<span style="color:black">TRANGROUP:35AB                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, ds:</span>DATE_MONTH
<span style="color:black">TRANGROUP:35AF                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, ds:</span>DATE_DAY
<span style="color:black">TRANGROUP:35B3                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:35B4                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:35B5                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:35B8                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:35BA                 </span><span style="color:navy">call    </span>cmd_parse
<span style="color:black">TRANGROUP:35BD                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; END_OF_LINE (-1)
<span style="color:black">TRANGROUP:35BF                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:35C0                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:35C1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">DATERR</span>
<span style="color:black">TRANGROUP:35C3                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2Bh</span>
<span style="color:black">TRANGROUP:35C5                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET CURRENT DATE
<span style="color:black">TRANGROUP:35C5                                         </span>; DL = day, DH = month, CX = year
<span style="color:black">TRANGROUP:35C5                                         </span>; Return: AL = 00h if no error /= FFh if bad value sent to routine
<span style="color:black">TRANGROUP:35C7                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:35C9                 </span><span style="color:navy">jnz     short </span><span style="color:gray">DATERR</span>
<span style="color:black">TRANGROUP:35CB
</span><span style="color:black">TRANGROUP:35CB </span><span style="color:gray">date_end</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:35CB                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:35CC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:35CC
</span><span style="color:black">TRANGROUP:35CC </span><span style="color:gray">DATERR</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:35CC                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:35CF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADDAT_PTR
<span style="color:black">TRANGROUP:35D2                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:35D5                 </span><span style="color:navy">jmp     short </span><span style="color:gray">GET_NEW_DATE</span>
<span style="color:black">TRANGROUP:35D5 </span>DATE            endp
<span style="color:black">TRANGROUP:35D5
</span><span style="color:black">TRANGROUP:35D7
</span><span style="color:black">TRANGROUP:35D7 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:35D7
</span><span style="color:black">TRANGROUP:35D7
</span><span style="color:black">TRANGROUP:35D7 </span>CTIME           proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:35D7                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:35DA                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_TIME
<span style="color:black">TRANGROUP:35DD                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:35DF                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:35E1                 </span><span style="color:navy">call    </span>cmd_parse
<span style="color:black">TRANGROUP:35E4                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; END_OF_LINE
<span style="color:black">TRANGROUP:35E7                 </span><span style="color:navy">jz      short </span><span style="color:gray">PRMTTIM</span>
<span style="color:black">TRANGROUP:35E9                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; RESULT_NO_ERROR
<span style="color:black">TRANGROUP:35EC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TIMERR</span>
<span style="color:black">TRANGROUP:35EE                 </span><span style="color:navy">jmp     short </span><span style="color:gray">COMTIM</span>
<span style="color:black">TRANGROUP:35F0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:35F0
</span><span style="color:black">TRANGROUP:35F0 </span><span style="color:gray">PRMTTIM</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:35F0                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2Ch</span>
<span style="color:black">TRANGROUP:35F2                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET CURRENT TIME
<span style="color:black">TRANGROUP:35F2                                         </span>; Return: CH = hours, CL = minutes, DH = seconds
<span style="color:black">TRANGROUP:35F2                                         </span>; DL = hundredths of seconds
<span style="color:black">TRANGROUP:35F4                 </span><span style="color:navy">xchg    ch</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:35F6                 </span><span style="color:navy">xchg    dh</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:35F8                 </span><span style="color:navy">mov     ds:</span>CurTim_hr_min<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:35FC                 </span><span style="color:navy">mov     ds:</span>CurTim_Sec_hn<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3600                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>CurTim_Ptr
<span style="color:black">TRANGROUP:3603                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:3606
</span><span style="color:black">TRANGROUP:3606 </span><span style="color:gray">GET_NEW_TIME</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3606                 </span><span style="color:navy">call    </span>GETTIM
<span style="color:black">TRANGROUP:3609                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1 ; END_OF_LINE
<span style="color:black">TRANGROUP:360C                 </span><span style="color:navy">jz      short </span><span style="color:gray">time_end</span>
<span style="color:black">TRANGROUP:360E                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; 0 ; RESULT_NO_ERROR
<span style="color:black">TRANGROUP:3611                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TIMERR</span>
<span style="color:black">TRANGROUP:3613
</span><span style="color:black">TRANGROUP:3613 </span><span style="color:gray">COMTIM</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3613                 </span><span style="color:navy">mov     ch</span><span style="color:navy">, ds:</span>TIME_HOUR
<span style="color:black">TRANGROUP:3617                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, ds:</span>TIME_MINUTES
<span style="color:black">TRANGROUP:361B                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, ds:</span>TIME_SECONDS
<span style="color:black">TRANGROUP:361F                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, ds:</span>TIME_FRACTION
<span style="color:black">TRANGROUP:3623                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3624                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:3625                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:3628                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:362A                 </span><span style="color:navy">call    </span>cmd_parse
<span style="color:black">TRANGROUP:362D                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; -1 ; END_OF_LINE
<span style="color:black">TRANGROUP:362F                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:3630                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:3631                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TIMERR</span>
<span style="color:black">TRANGROUP:3633                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2Dh</span>
<span style="color:black">TRANGROUP:3635                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET CURRENT TIME
<span style="color:black">TRANGROUP:3635                                         </span>; CH = hours, CL = minutes, DH = seconds, DL = hundredths of seconds
<span style="color:black">TRANGROUP:3635                                         </span>; Return: AL = 00h if no error / = FFh if bad value sent to routine
<span style="color:black">TRANGROUP:3637                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3639                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TIMERR</span>
<span style="color:black">TRANGROUP:363B
</span><span style="color:black">TRANGROUP:363B </span><span style="color:gray">time_end</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:363B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:363C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:363C
</span><span style="color:black">TRANGROUP:363C </span><span style="color:gray">TIMERR</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:363C                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:363F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BadTim_Ptr
<span style="color:black">TRANGROUP:3642                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:3645                 </span><span style="color:navy">jmp     short </span><span style="color:gray">GET_NEW_TIME</span>
<span style="color:black">TRANGROUP:3645 </span>CTIME           endp
<span style="color:black">TRANGROUP:3645
</span><span style="color:black">TRANGROUP:3647
</span><span style="color:black">TRANGROUP:3647 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3647
</span><span style="color:black">TRANGROUP:3647
</span><span style="color:black">TRANGROUP:3647 </span>SetInitFlag     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3647                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:364B                 </span><span style="color:navy">and     ds:</span>InitFlag<span style="color:navy">, </span><span style="color:green">0FDh</span> ; ~INITSPECIAL ; NOT INITSPECIAL
<span style="color:black">TRANGROUP:3650                 </span><span style="color:navy">or      ds:</span>InitFlag<span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:3654                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:3655                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3656                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:3656                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3656 </span>SetInitFlag     endp
<span style="color:black">TRANGROUP:3656
</span><span style="color:black">TRANGROUP:3657
</span><span style="color:black">TRANGROUP:3657 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3657
</span><span style="color:black">TRANGROUP:3657
</span><span style="color:black">TRANGROUP:3657 </span>PipeOff         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3657                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:3658                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:3659                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, cs:</span>RESSEG
<span style="color:black">TRANGROUP:365E                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:365E                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3660                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, ds:</span>PipeFlag
<span style="color:black">TRANGROUP:3664                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3666                 </span><span style="color:navy">jz      short </span><span style="color:gray">PipeOffDone</span>
<span style="color:black">TRANGROUP:3668                 </span><span style="color:navy">shr     ds:</span>EchoFlag<span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:366C
</span><span style="color:black">TRANGROUP:366C </span><span style="color:gray">PipeOffDone</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:366C                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:366D                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:366E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:366E </span>PipeOff         endp
<span style="color:black">TRANGROUP:366E
</span><span style="color:maroon">TRANGROUP:366F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:366F
</span><span style="color:maroon">TRANGROUP:366F </span>PRINT_TIME<span style="color:navy">:                             </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:366F                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2Ch</span>
<span style="color:maroon">TRANGROUP:3671                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET CURRENT TIME
<span style="color:maroon">TRANGROUP:3671                                         </span>; Return: CH = hours, CL = minutes, DH = seconds
<span style="color:maroon">TRANGROUP:3671                                         </span>; DL = hundredths of seconds
<span style="color:maroon">TRANGROUP:3673                 </span><span style="color:navy">push    es</span>
<span style="color:maroon">TRANGROUP:3674                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">TRANGROUP:3675                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">TRANGROUP:3676                 </span>assume es:TRANGROUP
<span style="color:maroon">TRANGROUP:3676                 </span><span style="color:navy">xchg    ch</span><span style="color:navy">, cl</span>
<span style="color:maroon">TRANGROUP:3678                 </span><span style="color:navy">xchg    dh</span><span style="color:navy">, dl</span>
<span style="color:maroon">TRANGROUP:367A                 </span><span style="color:navy">mov     cs:</span>PromTim_hr_min<span style="color:navy">, cx</span>
<span style="color:maroon">TRANGROUP:367F                 </span><span style="color:navy">mov     cs:</span>PromTim_Sec_hn<span style="color:navy">, dx</span>
<span style="color:maroon">TRANGROUP:3684                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>promtim_ptr
<span style="color:maroon">TRANGROUP:3687                 </span><span style="color:navy">call    </span>std_printf
<span style="color:maroon">TRANGROUP:368A                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">TRANGROUP:368B                 </span>assume es:nothing
<span style="color:maroon">TRANGROUP:368B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:368C
</span><span style="color:black">TRANGROUP:368C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:368C
</span><span style="color:black">TRANGROUP:368C
</span><span style="color:black">TRANGROUP:368C </span>GETDAT          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:368C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3800h</span>
<span style="color:black">TRANGROUP:368F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">5Ch</span>
<span style="color:black">TRANGROUP:3692                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET COUNTRY-DEPENDENT INFORMATION
<span style="color:black">TRANGROUP:3692                                         </span>; get current-country info
<span style="color:black">TRANGROUP:3692                                         </span>; DS:DX -&gt; buffer for returned info
<span style="color:black">TRANGROUP:3694                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3696                 </span><span style="color:navy">lodsw
</span><span style="color:black">TRANGROUP:3697                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, cs:</span>usadat_Ptr
<span style="color:black">TRANGROUP:369C                 </span><span style="color:navy">dec     ax</span>
<span style="color:black">TRANGROUP:369D                 </span><span style="color:navy">js      short </span><span style="color:gray">printformat</span>
<span style="color:black">TRANGROUP:369F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, cs:</span>eurdat_ptr
<span style="color:black">TRANGROUP:36A4                 </span><span style="color:navy">jz      short </span><span style="color:gray">printformat</span>
<span style="color:black">TRANGROUP:36A6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, cs:</span>japdat_ptr
<span style="color:black">TRANGROUP:36AB
</span><span style="color:black">TRANGROUP:36AB </span><span style="color:gray">printformat</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:36AB                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:36AD                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; util_msg_class
<span style="color:black">TRANGROUP:36AF                 </span><span style="color:navy">call    </span>TSYSGETMSG
<span style="color:black">TRANGROUP:36B2                 </span><span style="color:navy">mov     cs:</span>NewDat_Format<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:36B7                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>NewDat_Ptr
<span style="color:black">TRANGROUP:36BA                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:36BD                 </span><span style="color:navy">mov     cs:</span>NewDat_Format<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:36C4                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0Ah</span>         ; STD_CON_STRING_INPUT
<span style="color:black">TRANGROUP:36C6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>COMBUF
<span style="color:black">TRANGROUP:36C9                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; INITSPECIAL
<span style="color:black">TRANGROUP:36CC                 </span><span style="color:navy">call    </span>SetInitFlag
<span style="color:black">TRANGROUP:36CF                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS -
<span style="color:black">TRANGROUP:36D1                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:36D3                 </span><span style="color:navy">call    </span>SetInitFlag
<span style="color:black">TRANGROUP:36D6                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:36D9                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:36DC                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_DATE
<span style="color:black">TRANGROUP:36DF                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:36E1                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:36E3                 </span><span style="color:navy">call    </span>cmd_parse
<span style="color:black">TRANGROUP:36E6                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:36E6 </span>GETDAT          endp
<span style="color:black">TRANGROUP:36E6
</span><span style="color:black">TRANGROUP:36E7
</span><span style="color:black">TRANGROUP:36E7 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:36E7
</span><span style="color:black">TRANGROUP:36E7
</span><span style="color:black">TRANGROUP:36E7 </span>GETTIM          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:36E7                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:36E9                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>NewTim_Ptr
<span style="color:black">TRANGROUP:36EC                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:36EF                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0Ah</span>         ; STD_CON_STRING_INPUT
<span style="color:black">TRANGROUP:36F1                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>COMBUF
<span style="color:black">TRANGROUP:36F4                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; INITSPECIAL
<span style="color:black">TRANGROUP:36F7                 </span><span style="color:navy">call    </span>SetInitFlag
<span style="color:black">TRANGROUP:36FA                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS -
<span style="color:black">TRANGROUP:36FC                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:36FE                 </span><span style="color:navy">call    </span>SetInitFlag
<span style="color:black">TRANGROUP:3701                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:3704                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:3707                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_TIME
<span style="color:black">TRANGROUP:370A                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:370C                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:370E                 </span><span style="color:navy">call    </span>cmd_parse
<span style="color:black">TRANGROUP:3711                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3711 </span>GETTIM          endp
<span style="color:black">TRANGROUP:3711
</span><span style="color:black">TRANGROUP:3712
</span><span style="color:black">TRANGROUP:3712 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3712
</span><span style="color:black">TRANGROUP:3712
</span><span style="color:black">TRANGROUP:3712 </span>skip_white      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3712                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:3713
</span><span style="color:black">TRANGROUP:3713 </span><span style="color:gray">skw_lp</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3713                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3714                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:3716                 </span><span style="color:navy">jz      short </span><span style="color:gray">skw_lp</span>
<span style="color:black">TRANGROUP:3718                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">TRANGROUP:371A                 </span><span style="color:navy">jz      short </span><span style="color:gray">skw_lp</span>
<span style="color:black">TRANGROUP:371C                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:371D                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:371D </span>skip_white      endp
<span style="color:black">TRANGROUP:371D
</span><span style="color:black">TRANGROUP:371E
</span><span style="color:black">TRANGROUP:371E </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:371E
</span><span style="color:black">TRANGROUP:371E
</span><span style="color:black">TRANGROUP:371E </span>copy_pipe_path  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:371E                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; 65535
<span style="color:black">TRANGROUP:3721                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3723                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3725                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:3726                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:3727                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:3728                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:3729                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:372A                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:372C                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:372D                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:372E                 </span><span style="color:navy">not     cx</span>
<span style="color:black">TRANGROUP:3730                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:#ff8000">3EAh</span>        ; offset DATARES:Pipe1
<span style="color:black">TRANGROUP:3730                                         </span>; (offset RESGROUP:EndINit)
<span style="color:black">TRANGROUP:3733                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3734                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3735                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:3737                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:3738                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:3739                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:373A                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:373B                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:373C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:373E                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:#ff8000">439h</span>        ; offset DATARES:Pipe2
<span style="color:black">TRANGROUP:373E                                         </span>; (offset RESGROUP:EndINit+79)
<span style="color:black">TRANGROUP:3741                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:3743                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3744                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3744 </span>copy_pipe_path  endp
<span style="color:black">TRANGROUP:3744
</span><span style="color:black">TRANGROUP:3745
</span><span style="color:black">TRANGROUP:3745 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3745
</span><span style="color:black">TRANGROUP:3745
</span><span style="color:black">TRANGROUP:3745 </span>PARSELINE       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3745                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:3746                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:3747                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3748                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:3749                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:374A                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:374B                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:374C                 </span><span style="color:navy">mov     ds:</span>cpyflag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3751                 </span><span style="color:navy">mov     ds:</span>LASTARG<span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:3757                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3759                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">1348</span>        ; ARG_UNIT.SIZE
<span style="color:black">TRANGROUP:375C                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>ARG_ARGV ; offset ARG
<span style="color:black">TRANGROUP:375F                 </span><span style="color:navy">rep stosb
</span><span style="color:black">TRANGROUP:3761                 </span><span style="color:navy">mov     ds:</span>ARGBUF_PTR<span style="color:navy">, offset </span>ARG_ARGBUF ; ARG+ARG_UNIT.argbuf
<span style="color:black">TRANGROUP:3767                 </span><span style="color:navy">mov     ds:</span>ARG_ARGSWINFO<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [ARG+ARG_UNIT.argswinfo]
<span style="color:black">TRANGROUP:376D                 </span><span style="color:navy">mov     ds:</span>ARG_ARGVCNT<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [ARG+ARG_UNIT.argvcnt]
<span style="color:black">TRANGROUP:3773                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>COMBUF<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:3776                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:3777                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:377B                 </span><span style="color:navy">cmp     ds:</span>ForFlag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3780                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3781                 </span><span style="color:navy">jnz     short </span><span style="color:gray">PCONT</span>
<span style="color:black">TRANGROUP:3783                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>ARG_ARGFORCOMBUF ; ARG+ARG_UNIT.argforcombuf
<span style="color:black">TRANGROUP:3786                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:3788                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, ds:</span>COMBUF<span style="color:navy">+</span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:378C                 </span><span style="color:navy">inc     cl</span>
<span style="color:black">TRANGROUP:378E                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:3790                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ARG_ARGFORCOMBUF
<span style="color:black">TRANGROUP:3793
</span><span style="color:black">TRANGROUP:3793 </span><span style="color:gray">PCONT</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3793                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>TPBUF
<span style="color:black">TRANGROUP:3796                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:3798
</span><span style="color:black">TRANGROUP:3798 </span><span style="color:gray">PARSELOOP</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3798                 </span><span style="color:navy">mov     ds:</span>COMPTR<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:379C                 </span><span style="color:navy">xor     bp</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:379E                 </span><span style="color:navy">mov     ds:</span>expand_star<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:37A3                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:37A6                 </span><span style="color:navy">call    </span>cparse
<span style="color:black">TRANGROUP:37A9                 </span><span style="color:navy">jnb     short </span><span style="color:gray">MORE_PRSE</span>
<span style="color:black">TRANGROUP:37AB                 </span><span style="color:navy">or      bp</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:37AD                 </span><span style="color:navy">jz      short </span><span style="color:gray">PARSEDONE</span>
<span style="color:black">TRANGROUP:37AF                 </span><span style="color:navy">call    </span>newarg
<span style="color:black">TRANGROUP:37B2                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PARSEDONE</span>
<span style="color:black">TRANGROUP:37B4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:37B4
</span><span style="color:black">TRANGROUP:37B4 </span><span style="color:gray">MORE_PRSE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:37B4                 </span><span style="color:navy">mov     ds:</span>cpyflag<span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:37B9                 </span><span style="color:navy">call    </span>newarg
<span style="color:black">TRANGROUP:37BC                 </span><span style="color:navy">jnb     short </span><span style="color:gray">PARSELOOP</span>
<span style="color:black">TRANGROUP:37BE                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PARSE_ERROR</span>
<span style="color:black">TRANGROUP:37C0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:37C0
</span><span style="color:black">TRANGROUP:37C0 </span><span style="color:gray">PARSEDONE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:37C0                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:37C1                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:37C2                 </span><span style="color:navy">jmp     short </span><span style="color:gray">PARSE_EXIT</span>
<span style="color:black">TRANGROUP:37C4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:37C4
</span><span style="color:black">TRANGROUP:37C4 </span><span style="color:gray">PARSE_ERROR</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:37C4                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:37C5                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:37C6
</span><span style="color:black">TRANGROUP:37C6 </span><span style="color:gray">PARSE_EXIT</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:37C6                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:37C7                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:37C8                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:37C9                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:37CA                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:37CB                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:37CC                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:37CC </span>PARSELINE       endp
<span style="color:black">TRANGROUP:37CC
</span><span style="color:black">TRANGROUP:37CD
</span><span style="color:black">TRANGROUP:37CD </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:37CD
</span><span style="color:black">TRANGROUP:37CD
</span><span style="color:black">TRANGROUP:37CD </span>newarg          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:37CD                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:37CE                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:37CF                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:37D0                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:37D1                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:37D2                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:37D3                 </span><span style="color:navy">call    </span>arg_switch
<span style="color:black">TRANGROUP:37D6                 </span><span style="color:navy">cmp     ds:</span>ARG_ARGVCNT<span style="color:navy">, </span><span style="color:green">64</span> ; cmp [ARG+ARG_UNIT.argvcnt],ARGMAX
<span style="color:black">TRANGROUP:37DB                 </span><span style="color:navy">jge     short </span><span style="color:gray">to_many_args</span>
<span style="color:black">TRANGROUP:37DD                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:37DF                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>ARG_ARGVCNT ; [ARG+ARG_UNIT.argvcnt]
<span style="color:black">TRANGROUP:37E3                 </span><span style="color:navy">inc     ds:</span>ARG_ARGVCNT
<span style="color:black">TRANGROUP:37E7                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, offset </span>ARG_ARGV ; ARG+ARG_UNIT.argv
<span style="color:black">TRANGROUP:37EA                 </span><span style="color:navy">call    </span>argv_calc
<span style="color:black">TRANGROUP:37ED                 </span><span style="color:navy">mov     word ptr [bx+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [bx+ARGV_ELE.argsw_word]
<span style="color:black">TRANGROUP:37F2                 </span><span style="color:navy">mov     [bx+</span><span style="color:#ff8000">5</span><span style="color:navy">]</span><span style="color:navy">, cx</span>      ; [bx+ARGV_ELE.arglen]
<span style="color:black">TRANGROUP:37F5                 </span><span style="color:navy">mov     [bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, dh</span>      ; [bx+ARGV_ELE.argflags]
<span style="color:black">TRANGROUP:37F8                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>ARGBUF_PTR
<span style="color:black">TRANGROUP:37FC                 </span><span style="color:navy">mov     [bx]</span><span style="color:navy">, si</span>        ; [bx+ARGV_ELE.argpointer]
<span style="color:black">TRANGROUP:37FE                 </span><span style="color:navy">add     si</span><span style="color:navy">, ds:</span>STARTEL
<span style="color:black">TRANGROUP:3802                 </span><span style="color:navy">sub     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3804                 </span><span style="color:navy">mov     [bx+</span><span style="color:#ff8000">3</span><span style="color:navy">]</span><span style="color:navy">, si</span>      ; [bx+ARGV_ELE.argstartel]
<span style="color:black">TRANGROUP:3807                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>COMPTR
<span style="color:black">TRANGROUP:380B                 </span><span style="color:navy">mov     [bx+</span><span style="color:#ff8000">9</span><span style="color:navy">]</span><span style="color:navy">, si</span>      ; [bx+ARGV_ELE.arg_ocomptr]
<span style="color:black">TRANGROUP:380E                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3810                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ds:</span>ARGBUF_PTR
<span style="color:black">TRANGROUP:3814                 </span><span style="color:navy">add     di</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3816                 </span><span style="color:navy">cmp     di</span><span style="color:navy">, (offset </span>ARG_ARGBUF<span style="color:navy">+</span><span style="color:green">0FFh</span><span style="color:navy">)</span> ; ARG+ARG_UNIT.argbuf+ARGBLEN-1
<span style="color:black">TRANGROUP:381A                 </span><span style="color:navy">jge     short </span><span style="color:gray">buf_oflow</span>
<span style="color:black">TRANGROUP:381C                 </span><span style="color:navy">sub     di</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:381E                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:381F                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:3821                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; ANULL
<span style="color:black">TRANGROUP:3823                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3824                 </span><span style="color:navy">mov     ds:</span>ARGBUF_PTR<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3828                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3829                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:382A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">newarg_exit</span>
<span style="color:black">TRANGROUP:382C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:382C
</span><span style="color:black">TRANGROUP:382C </span><span style="color:gray">to_many_args</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:382C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:382F                 </span><span style="color:navy">jmp     short </span><span style="color:gray">newarg_error</span>
<span style="color:black">TRANGROUP:3831 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3831
</span><span style="color:black">TRANGROUP:3831 </span><span style="color:gray">buf_oflow</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3831                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:3834
</span><span style="color:black">TRANGROUP:3834 </span><span style="color:gray">newarg_error</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3834                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3835                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:3836
</span><span style="color:black">TRANGROUP:3836 </span><span style="color:gray">newarg_exit</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3836                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:3837                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:3838                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:3839                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:383A                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:383B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:383B </span>newarg          endp
<span style="color:black">TRANGROUP:383B
</span><span style="color:black">TRANGROUP:383C
</span><span style="color:black">TRANGROUP:383C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:383C
</span><span style="color:black">TRANGROUP:383C
</span><span style="color:black">TRANGROUP:383C </span>arg_switch      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:383C                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:383D                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:383E                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:383F                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3840                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:3841                 </span><span style="color:navy">test    bh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:3844                 </span><span style="color:navy">jz      short </span><span style="color:gray">arg_no_switch0</span>
<span style="color:black">TRANGROUP:3846                 </span><span style="color:navy">cmp     ds:</span>LASTARG<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; -1
<span style="color:black">TRANGROUP:384B                 </span><span style="color:navy">jz      short </span><span style="color:gray">arg_no_switch1</span>
<span style="color:black">TRANGROUP:384D                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>LASTARG
<span style="color:black">TRANGROUP:3851                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, offset </span>ARG_ARGV ; ARG+ARG_UNIT.argv ; ARG+0
<span style="color:black">TRANGROUP:3854                 </span><span style="color:navy">call    </span>argv_calc
<span style="color:black">TRANGROUP:3857                 </span><span style="color:navy">or      [bx+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, bp</span>      ; [bx+ARGV_ELE.argsw_word]
<span style="color:black">TRANGROUP:385A                 </span><span style="color:navy">or      ds:</span>ARG_ARGSWINFO<span style="color:navy">, bp</span> ; [ARG+ARG_UNIT.argswinfo]
<span style="color:black">TRANGROUP:385E                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:385F                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:3860                 </span><span style="color:navy">jmp     short </span><span style="color:gray">arg_switch_exit</span>
<span style="color:black">TRANGROUP:3862 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3862
</span><span style="color:black">TRANGROUP:3862 </span><span style="color:gray">arg_no_switch0</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3862                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>ARG_ARGVCNT ; [ARG+ARG_UNIT.argvcnt]
<span style="color:black">TRANGROUP:3865                 </span><span style="color:navy">mov     ds:</span>LASTARG<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3868
</span><span style="color:black">TRANGROUP:3868 </span><span style="color:gray">arg_no_switch1</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3868                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3869                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:386A
</span><span style="color:black">TRANGROUP:386A </span><span style="color:gray">arg_switch_exit</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:386A                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:386B                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:386C                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:386D                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:386E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:386E </span>arg_switch      endp
<span style="color:black">TRANGROUP:386E
</span><span style="color:black">TRANGROUP:386F
</span><span style="color:black">TRANGROUP:386F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:386F
</span><span style="color:black">TRANGROUP:386F
</span><span style="color:black">TRANGROUP:386F </span>argv_calc       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:386F                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:3870                 </span><span style="color:navy">mov     al</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:3872                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:green">11</span>          ; ARGV_ELE.SIZE
<span style="color:black">TRANGROUP:3874                 </span><span style="color:navy">mul     bl</span>
<span style="color:black">TRANGROUP:3876                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:3877                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:3879                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:387A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:387A </span>argv_calc       endp
<span style="color:black">TRANGROUP:387A
</span><span style="color:black">TRANGROUP:387B
</span><span style="color:black">TRANGROUP:387B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:387B
</span><span style="color:black">TRANGROUP:387B
</span><span style="color:black">TRANGROUP:387B </span>path_search     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:387B                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:387C                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:387D                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:387E                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:387F                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3880                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:3881                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:3882                 </span><span style="color:navy">test    ds:</span>ARGV0_ARG_FLAGS<span style="color:navy">, </span><span style="color:green">3</span> ; [ARG+ARGV_ELE.argflags],wildcard+sw_flag
<span style="color:black">TRANGROUP:3887                 </span><span style="color:navy">jz      short </span><span style="color:gray">path_search_ok</span>
<span style="color:black">TRANGROUP:3889
</span><span style="color:black">TRANGROUP:3889 </span><span style="color:gray">path_failure_jmp</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3889                 </span><span style="color:navy">jmp     </span><span style="color:gray">path_failure</span>
<span style="color:black">TRANGROUP:388C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:388C
</span><span style="color:black">TRANGROUP:388C </span><span style="color:gray">path_search_ok</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:388C                 </span><span style="color:navy">call    </span>STORE_PCHAR
<span style="color:black">TRANGROUP:388F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>FBUF
<span style="color:black">TRANGROUP:3892                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">1A00h</span>
<span style="color:black">TRANGROUP:3895                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET DISK TRANSFER AREA ADDRESS
<span style="color:black">TRANGROUP:3895                                         </span>; DS:DX -&gt; disk transfer buffer
<span style="color:black">TRANGROUP:3897                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:3898                 </span><span style="color:navy">call    </span>find_path
<span style="color:black">TRANGROUP:389B                 </span><span style="color:navy">mov     ds:</span>pathinfo<span style="color:navy">, es</span> ; [pathinfo+0]
<span style="color:black">TRANGROUP:389F                 </span><span style="color:navy">mov     ds:</span>pathinfo<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:38A3                 </span><span style="color:navy">mov     ds:</span>pathinfo<span style="color:navy">+</span><span style="color:green">4</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:38A7                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:38A8                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">128</span>         ; PBUFLEN
<span style="color:black">TRANGROUP:38AB                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>EXECPATH
<span style="color:black">TRANGROUP:38AE                 </span><span style="color:navy">call    </span>STRIP
<span style="color:black">TRANGROUP:38B1                 </span><span style="color:navy">jb      short </span><span style="color:gray">path_failure_jmp</span>
<span style="color:black">TRANGROUP:38B3                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:38B5                 </span><span style="color:navy">mov     ds:</span>search_error<span style="color:navy">, offset </span>baddrv_ptr
<span style="color:black">TRANGROUP:38BB                 </span><span style="color:navy">call    </span>PSEARCH
<span style="color:black">TRANGROUP:38BE                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:38C0                 </span><span style="color:navy">jz      short </span><span style="color:gray">path_noinit</span>
<span style="color:black">TRANGROUP:38C2                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:38C4                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>EXECPATH
<span style="color:black">TRANGROUP:38C7                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>ARG_ARGV ; [ARG+ARGV_ELE.argpointer]
<span style="color:black">TRANGROUP:38CB                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>ARGV0_ARGSTARTEL ; [ARG+ARGV_ELE.argstartel]
<span style="color:black">TRANGROUP:38CF                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:38D1                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:38D3                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:38D6                 </span><span style="color:navy">jb      short </span><span style="color:gray">adddrive</span>
<span style="color:black">TRANGROUP:38D8                 </span><span style="color:navy">cmp     [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:38DB                 </span><span style="color:navy">jz      short </span><span style="color:gray">movedrive</span>
<span style="color:black">TRANGROUP:38DD
</span><span style="color:black">TRANGROUP:38DD </span><span style="color:gray">adddrive</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:38DD                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>CURDRV
<span style="color:black">TRANGROUP:38E0                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">'A'</span>
<span style="color:black">TRANGROUP:38E2                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:38E3                 </span><span style="color:navy">jmp     short </span><span style="color:gray">checkpath</span>
<span style="color:black">TRANGROUP:38E5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:38E5
</span><span style="color:black">TRANGROUP:38E5 </span><span style="color:gray">movedrive</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:38E5                 </span><span style="color:navy">lodsw
</span><span style="color:black">TRANGROUP:38E6                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:38E7                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:38EA
</span><span style="color:black">TRANGROUP:38EA </span><span style="color:gray">checkpath</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:38EA                 </span><span style="color:navy">or      al</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:38EC                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:38EE                 </span><span style="color:navy">sub     dl</span><span style="color:navy">, </span><span style="color:green">60h</span>         ; 'a'-1
<span style="color:black">TRANGROUP:38F1                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>psep_char
<span style="color:black">TRANGROUP:38F4                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:38F5                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:38F8                 </span><span style="color:navy">jb      short </span><span style="color:gray">addpath</span>
<span style="color:black">TRANGROUP:38FA                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:38FB                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:38FC                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>psep_char
<span style="color:black">TRANGROUP:3900                 </span><span style="color:navy">jz      short </span><span style="color:gray">movepath</span>
<span style="color:black">TRANGROUP:3902                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:3903                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:3904
</span><span style="color:black">TRANGROUP:3904 </span><span style="color:gray">addpath</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3904                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:3905                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3907                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4700h</span>
<span style="color:black">TRANGROUP:390A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET CURRENT DIRECTORY
<span style="color:black">TRANGROUP:390A                                         </span>; DL = drive (0=default, 1=A, etc.)
<span style="color:black">TRANGROUP:390A                                         </span>; DS:SI points to 64-byte buffer area
<span style="color:black">TRANGROUP:390C                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:390E                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:390F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>psep_char
<span style="color:black">TRANGROUP:3912                 </span><span style="color:navy">cmp     byte ptr [di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3915                 </span><span style="color:navy">jz      short </span><span style="color:gray">movepath</span>
<span style="color:black">TRANGROUP:3917
</span><span style="color:black">TRANGROUP:3917 </span><span style="color:gray">scanend</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3917                 </span><span style="color:navy">cmp     byte ptr [di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:391A                 </span><span style="color:navy">jz      short </span><span style="color:gray">foundend</span>
<span style="color:black">TRANGROUP:391C                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:391D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">scanend</span>
<span style="color:black">TRANGROUP:391F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:391F
</span><span style="color:black">TRANGROUP:391F </span><span style="color:gray">foundend</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:391F                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3920
</span><span style="color:black">TRANGROUP:3920 </span><span style="color:gray">movepath</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3920                 </span><span style="color:navy">cmp     [si]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3922                 </span><span style="color:navy">jnz     short </span><span style="color:gray">copypath</span>
<span style="color:black">TRANGROUP:3924                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:3925                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:3926
</span><span style="color:black">TRANGROUP:3926 </span><span style="color:gray">copypath</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3926                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">_copydone</span>
<span style="color:black">TRANGROUP:3928                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:392A
</span><span style="color:black">TRANGROUP:392A </span><span style="color:gray">_copydone</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:392A                 </span><span style="color:navy">jmp     </span>path_success
<span style="color:black">TRANGROUP:392D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:392D
</span><span style="color:black">TRANGROUP:392D </span><span style="color:gray">path_noinit</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:392D                 </span><span style="color:navy">test    ds:</span>ARGV0_ARG_FLAGS<span style="color:navy">, </span><span style="color:green">4</span> ; [ARG+ARGV_ELE.argflags],path_sep
<span style="color:black">TRANGROUP:3932                 </span><span style="color:navy">jnz     short </span><span style="color:gray">path_failure</span>
<span style="color:black">TRANGROUP:3934                 </span><span style="color:navy">mov     bh</span><span style="color:navy">, </span><span style="color:green">';'</span>
<span style="color:black">TRANGROUP:3936                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>ARGV0_ARGSTARTEL ; [ARG+ARGV_ELE.argstartel]
<span style="color:black">TRANGROUP:393A                 </span><span style="color:navy">sub     dx</span><span style="color:navy">, ds:</span>ARG_ARGV ; [ARG+ARGV_ELE.argpointer]
<span style="color:black">TRANGROUP:393E                 </span><span style="color:navy">add     dx</span><span style="color:navy">, offset </span>EXECPATH
<span style="color:black">TRANGROUP:3942
</span><span style="color:black">TRANGROUP:3942 </span><span style="color:gray">path_loop</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3942                 </span><span style="color:navy">call    </span>path_crunch
<span style="color:black">TRANGROUP:3945                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3947                 </span><span style="color:navy">lahf
</span><span style="color:black">TRANGROUP:3948                 </span><span style="color:navy">or      bp</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:394A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">path_found</span>
<span style="color:black">TRANGROUP:394C                 </span><span style="color:navy">sahf
</span><span style="color:black">TRANGROUP:394D                 </span><span style="color:navy">jnb     short </span><span style="color:gray">path_loop</span>
<span style="color:black">TRANGROUP:394F
</span><span style="color:black">TRANGROUP:394F </span><span style="color:gray">path_failure</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:394F                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3951                 </span><span style="color:navy">jmp     </span><span style="color:gray">path_exit</span>
<span style="color:black">TRANGROUP:3954 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3954
</span><span style="color:black">TRANGROUP:3954 </span><span style="color:gray">path_found</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3954                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>EXECPATH
<span style="color:black">TRANGROUP:3957                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>pathinfo<span style="color:navy">+</span><span style="color:green">4</span>
<span style="color:black">TRANGROUP:395B                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>pathinfo<span style="color:navy">+</span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:395F                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:3960                 </span><span style="color:navy">push    ds:</span>pathinfo     ; [pathinfo+0]
<span style="color:black">TRANGROUP:3964                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:3965                 </span><span style="color:navy">cmp     byte ptr es:[si+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">2Eh</span> <span style="color:gray">; '.'
</span><span style="color:black">TRANGROUP:396A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">path_cpy</span>
<span style="color:black">TRANGROUP:396C                 </span><span style="color:navy">cmp     byte ptr es:[si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':'
</span><span style="color:black">TRANGROUP:3971                 </span><span style="color:navy">jnz     short </span><span style="color:gray">path_cpy</span>
<span style="color:black">TRANGROUP:3973                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3974                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[si]</span>
<span style="color:black">TRANGROUP:3977                 </span><span style="color:navy">mov     [di]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3979                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:397D                 </span><span style="color:navy">mov     [di+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3980                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>psep_char
<span style="color:black">TRANGROUP:3983                 </span><span style="color:navy">mov     [di+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3986                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:3987                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, es:[si]</span>
<span style="color:black">TRANGROUP:398A                 </span><span style="color:navy">or      dl</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:398D                 </span><span style="color:navy">sub     dl</span><span style="color:navy">, </span><span style="color:green">60h</span>         ; 'a'-1
<span style="color:black">TRANGROUP:3990                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3992                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:3995                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4700h</span>
<span style="color:black">TRANGROUP:3998                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET CURRENT DIRECTORY
<span style="color:black">TRANGROUP:3998                                         </span>; DL = drive (0=default, 1=A, etc.)
<span style="color:black">TRANGROUP:3998                                         </span>; DS:SI points to 64-byte buffer area
<span style="color:black">TRANGROUP:399A                 </span><span style="color:navy">call    </span>dstrlen
<span style="color:black">TRANGROUP:399D                 </span><span style="color:navy">add     si</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:399F                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:39A0                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:39A2                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:39A3                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:39A6                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:39A7
</span><span style="color:black">TRANGROUP:39A7 </span><span style="color:gray">path_cpy</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:39A7                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:39A8                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:39AA                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:39AB                 </span><span style="color:navy">push    ds:</span>pathinfo     ; [pathinfo+0]
<span style="color:black">TRANGROUP:39AF                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:39B0                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:39B1
</span><span style="color:black">TRANGROUP:39B1 </span><span style="color:gray">kloop</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:39B1                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:39B2                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:39B3                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:39B6                 </span><span style="color:navy">jz      short </span><span style="color:gray">notkanj1</span>
<span style="color:black">TRANGROUP:39B8                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:39B9                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">popdone</span>
<span style="color:black">TRANGROUP:39BB                 </span><span style="color:navy">movsb
</span><span style="color:black">TRANGROUP:39BC                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:39BD                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:39C0                 </span><span style="color:navy">ja      short </span><span style="color:gray">kloop</span>
<span style="color:black">TRANGROUP:39C2
</span><span style="color:black">TRANGROUP:39C2 </span><span style="color:gray">popdone</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:39C2                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:39C3                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>psep_char
<span style="color:black">TRANGROUP:39C6                 </span><span style="color:navy">jmp     short </span><span style="color:gray">path_store</span>
<span style="color:black">TRANGROUP:39C8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:39C8
</span><span style="color:black">TRANGROUP:39C8 </span><span style="color:gray">notkanj1</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:39C8                 </span><span style="color:navy">loop    </span><span style="color:gray">kloop</span>
<span style="color:black">TRANGROUP:39CA                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:39CB                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:39CC                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>psep_char
<span style="color:black">TRANGROUP:39CF                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, [di-</span><span style="color:green">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:39D2                 </span><span style="color:navy">jz      short </span>path_success
<span style="color:black">TRANGROUP:39D4
</span><span style="color:black">TRANGROUP:39D4 </span><span style="color:gray">path_store</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:39D4                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:39D5
</span><span style="color:black">TRANGROUP:39D5 </span>path_success<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:39D5                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>search_best_buf
<span style="color:black">TRANGROUP:39D8                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:39DA
</span><span style="color:black">TRANGROUP:39DA </span><span style="color:gray">path_succ_loop</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:39DA                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:39DB                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:39DC                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:39DE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">path_succ_loop</span>
<span style="color:black">TRANGROUP:39E0                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:39E2
</span><span style="color:black">TRANGROUP:39E2 </span><span style="color:gray">path_exit</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:39E2                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:39E3                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:39E4                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:39E5                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:39E6                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:39E7                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:39E8                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:39E9                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:39E9 </span>path_search     endp
<span style="color:black">TRANGROUP:39E9
</span><span style="color:black">TRANGROUP:39EA
</span><span style="color:black">TRANGROUP:39EA </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:39EA
</span><span style="color:black">TRANGROUP:39EA
</span><span style="color:black">TRANGROUP:39EA </span>STORE_PCHAR     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:39EA                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:39EB                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Fh</span> <span style="color:gray">; '/'
</span><span style="color:black">TRANGROUP:39ED                 </span><span style="color:navy">call    </span>pathchrcmp
<span style="color:black">TRANGROUP:39F0                 </span><span style="color:navy">jz      short </span><span style="color:gray">STORE_SLASH</span>
<span style="color:black">TRANGROUP:39F2                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">5Ch</span> <span style="color:gray">; '\'
</span><span style="color:black">TRANGROUP:39F4                 </span><span style="color:navy">mov     ds:</span>psep_char<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:39F7                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:39F8                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:39F9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:39F9
</span><span style="color:black">TRANGROUP:39F9 </span><span style="color:gray">STORE_SLASH</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:39F9                 </span><span style="color:navy">mov     ds:</span>psep_char<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:39FC                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:39FD                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:39FD </span>STORE_PCHAR     endp
<span style="color:black">TRANGROUP:39FD
</span><span style="color:black">TRANGROUP:39FE
</span><span style="color:black">TRANGROUP:39FE </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:39FE
</span><span style="color:black">TRANGROUP:39FE
</span><span style="color:black">TRANGROUP:39FE </span>path_crunch     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:39FE                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:39FF                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3A00                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:3A01                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3A02                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:3A03                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:3A04                 </span><span style="color:navy">call    </span>STORE_PCHAR
<span style="color:black">TRANGROUP:3A07                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>TPBUF
<span style="color:black">TRANGROUP:3A0A                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>pathinfo<span style="color:navy">+</span><span style="color:green">4</span>
<span style="color:black">TRANGROUP:3A0E                 </span><span style="color:navy">mov     ds:</span>pathinfo<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3A12                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:3A13                 </span><span style="color:navy">push    ds:</span>pathinfo     ; [pathinfo+0]
<span style="color:black">TRANGROUP:3A17                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3A18                 </span><span style="color:navy">xor     cl</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:3A1A
</span><span style="color:black">TRANGROUP:3A1A </span><span style="color:gray">path_cr_copy</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3A1A                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3A1B                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3A1D                 </span><span style="color:navy">jz      short </span><span style="color:gray">path_seg</span>
<span style="color:black">TRANGROUP:3A1F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:3A21                 </span><span style="color:navy">jz      short </span><span style="color:gray">path_seg</span>
<span style="color:black">TRANGROUP:3A23                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:3A26                 </span><span style="color:navy">jz      short </span><span style="color:gray">_notkanj2</span>
<span style="color:black">TRANGROUP:3A28                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3A29                 </span><span style="color:navy">movsb
</span><span style="color:black">TRANGROUP:3A2A                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:3A2C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">path_cr_copy</span>
<span style="color:black">TRANGROUP:3A2E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3A2E
</span><span style="color:black">TRANGROUP:3A2E </span><span style="color:gray">_notkanj2</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3A2E                 </span><span style="color:navy">xor     cl</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:3A30                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3A31                 </span><span style="color:navy">jmp     short </span><span style="color:gray">path_cr_copy</span>
<span style="color:black">TRANGROUP:3A33 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3A33
</span><span style="color:black">TRANGROUP:3A33 </span><span style="color:gray">path_seg</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3A33                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3A34                 </span><span style="color:navy">mov     ds:</span>pathinfo<span style="color:navy">+</span><span style="color:green">4</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3A38                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3A3A                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3A3C                 </span><span style="color:navy">cmp     di</span><span style="color:navy">, offset </span>TPBUF
<span style="color:black">TRANGROUP:3A40                 </span><span style="color:navy">jz      short </span><span style="color:gray">path_cr_leave</span>
<span style="color:black">TRANGROUP:3A42
</span><span style="color:black">TRANGROUP:3A42 </span>path_cr_look<span style="color:navy">:
</span><span style="color:black">TRANGROUP:3A42                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>psep_char
<span style="color:black">TRANGROUP:3A45                 </span><span style="color:navy">or      cl</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:3A47                 </span><span style="color:navy">jnz     short </span><span style="color:gray">path_cr_store</span>
<span style="color:black">TRANGROUP:3A49                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, [di-</span><span style="color:green">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:3A4C                 </span><span style="color:navy">jz      short </span><span style="color:gray">path_cr_l1</span>
<span style="color:black">TRANGROUP:3A4E
</span><span style="color:black">TRANGROUP:3A4E </span><span style="color:gray">path_cr_store</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3A4E                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3A4F
</span><span style="color:black">TRANGROUP:3A4F </span><span style="color:gray">path_cr_l1</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3A4F                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3A51
</span><span style="color:black">TRANGROUP:3A51 </span><span style="color:gray">path_cr_l2</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3A51                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3A52                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3A53                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3A55                 </span><span style="color:navy">jnz     short </span><span style="color:gray">path_cr_l2</span>
<span style="color:black">TRANGROUP:3A57                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>TPBUF
<span style="color:black">TRANGROUP:3A5A                 </span><span style="color:navy">mov     ds:</span>search_error<span style="color:navy">, offset </span>BADPMES_PTR
<span style="color:black">TRANGROUP:3A60                 </span><span style="color:navy">call    </span>PSEARCH
<span style="color:black">TRANGROUP:3A63
</span><span style="color:black">TRANGROUP:3A63 </span><span style="color:gray">path_cr_leave</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3A63                 </span><span style="color:navy">or      bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:3A65                 </span><span style="color:navy">jz      short </span><span style="color:gray">path_cr_empty</span>
<span style="color:black">TRANGROUP:3A67                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3A68                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:3A69                 </span><span style="color:navy">jmp     short </span><span style="color:gray">path_cr_exit</span>
<span style="color:black">TRANGROUP:3A6B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3A6B
</span><span style="color:black">TRANGROUP:3A6B </span><span style="color:gray">path_cr_empty</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3A6B                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3A6C                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:3A6D
</span><span style="color:black">TRANGROUP:3A6D </span><span style="color:gray">path_cr_exit</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3A6D                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:3A6E                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:3A6F                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:3A70                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:3A71                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:3A72                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3A72 </span>path_crunch     endp
<span style="color:black">TRANGROUP:3A72
</span><span style="color:black">TRANGROUP:3A73
</span><span style="color:black">TRANGROUP:3A73 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3A73
</span><span style="color:black">TRANGROUP:3A73
</span><span style="color:black">TRANGROUP:3A73 </span>PSEARCH         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3A73                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3A74                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:3A75                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3A76                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:3A77                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:3A78                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:3A79                 </span><span style="color:navy">mov     di</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3A7B                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>search_curdir_buf
<span style="color:black">TRANGROUP:3A7E                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3A80                 </span><span style="color:navy">cmp     byte ptr [di+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':'
</span><span style="color:black">TRANGROUP:3A84                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SEARCH_DIR_CHECK</span>
<span style="color:black">TRANGROUP:3A86                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, [di]</span>
<span style="color:black">TRANGROUP:3A88                 </span><span style="color:navy">and     dl</span><span style="color:navy">, </span><span style="color:green">0DFh</span>        ; ~20h  ; uppercase
<span style="color:black">TRANGROUP:3A8B                 </span><span style="color:navy">sub     dl</span><span style="color:navy">, </span><span style="color:#ff8000">40h</span> <span style="color:gray">; '@'   </span>; convert to drive number
<span style="color:black">TRANGROUP:3A8E
</span><span style="color:black">TRANGROUP:3A8E </span><span style="color:gray">SEARCH_DIR_CHECK</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3A8E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4700h</span>
<span style="color:black">TRANGROUP:3A91                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET CURRENT DIRECTORY
<span style="color:black">TRANGROUP:3A91                                         </span>; DL = drive (0=default, 1=A, etc.)
<span style="color:black">TRANGROUP:3A91                                         </span>; DS:SI points to 64-byte buffer area
<span style="color:black">TRANGROUP:3A93                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:3A94                 </span><span style="color:navy">jb      short </span><span style="color:gray">SEARCH_INVALID_DRIVE</span>
<span style="color:black">TRANGROUP:3A96                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">13h</span>         ; search_attr
<span style="color:black">TRANGROUP:3A99                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4E00h</span>
<span style="color:black">TRANGROUP:3A9C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
<span style="color:black">TRANGROUP:3A9C                                         </span>; CX = search attributes
<span style="color:black">TRANGROUP:3A9C                                         </span>; DS:DX -&gt; ASCIZ filespec
<span style="color:black">TRANGROUP:3A9C                                         </span>; (drive, path, and wildcards allowed)
<span style="color:black">TRANGROUP:3A9E                 </span><span style="color:navy">jb      short </span><span style="color:gray">SEARCH_NO_FILE</span>
<span style="color:black">TRANGROUP:3AA0                 </span><span style="color:navy">mov     ds:</span>search_best<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; SEARCH_FILE_NOT_FOUND ; 0
<span style="color:black">TRANGROUP:3AA5                 </span><span style="color:navy">mov     ds:</span>search_best_buf<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; ANULL ; 0
<span style="color:black">TRANGROUP:3AAA
</span><span style="color:black">TRANGROUP:3AAA </span><span style="color:gray">SEARCH_LOOP</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3AAA                 </span><span style="color:navy">call    </span>SEARCH_FTYPE
<span style="color:black">TRANGROUP:3AAD                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>search_best
<span style="color:black">TRANGROUP:3AB1                 </span><span style="color:navy">jle     short </span><span style="color:gray">SEARCH_NEXT</span>
<span style="color:black">TRANGROUP:3AB3                 </span><span style="color:navy">mov     ds:</span>search_best<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3AB6                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>FBUF<span style="color:navy">+</span><span style="color:green">1Eh</span><span style="color:navy">)</span> ; FBUF+FIND_BUF.PNAME
<span style="color:black">TRANGROUP:3AB9                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>search_best_buf
<span style="color:black">TRANGROUP:3ABC                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">13</span>          ; FNAME_MAX_LEN
<span style="color:black">TRANGROUP:3ABF                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:3AC0                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:3AC2                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; SEARCH_COM
<span style="color:black">TRANGROUP:3AC4                 </span><span style="color:navy">jz      short </span><span style="color:gray">SEARCH_DONE</span>
<span style="color:black">TRANGROUP:3AC6
</span><span style="color:black">TRANGROUP:3AC6 </span><span style="color:gray">SEARCH_NEXT</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3AC6                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">13h</span>         ; SEARCH_ATTR
<span style="color:black">TRANGROUP:3AC9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4F00h</span>
<span style="color:black">TRANGROUP:3ACC                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - FIND NEXT ASCIZ (FINDNEXT)
<span style="color:black">TRANGROUP:3ACC                                         </span>; [DTA] = data block from
<span style="color:black">TRANGROUP:3ACC                                         </span>; last AH = 4Eh/4Fh call
<span style="color:black">TRANGROUP:3ACE                 </span><span style="color:navy">jnb     short </span><span style="color:gray">SEARCH_LOOP</span>
<span style="color:black">TRANGROUP:3AD0
</span><span style="color:black">TRANGROUP:3AD0 </span><span style="color:gray">SEARCH_DONE</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3AD0                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>search_best
<span style="color:black">TRANGROUP:3AD3                 </span><span style="color:navy">cmp     ds:</span>ext_entered<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:3AD8                 </span><span style="color:navy">jz      short </span><span style="color:gray">SEARCH_EXIT</span>
<span style="color:black">TRANGROUP:3ADA                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>ext_entered
<span style="color:black">TRANGROUP:3ADD                 </span><span style="color:navy">mov     ds:</span>search_best<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3AE0                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SEARCH_EXIT</span>
<span style="color:black">TRANGROUP:3AE2 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3AE2
</span><span style="color:black">TRANGROUP:3AE2 </span><span style="color:gray">SEARCH_INVALID_DRIVE</span><span style="color:navy">:                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3AE2                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>search_error
<span style="color:black">TRANGROUP:3AE6                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:3AE9
</span><span style="color:black">TRANGROUP:3AE9 </span><span style="color:gray">SEARCH_NO_FILE</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3AE9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3AEC
</span><span style="color:black">TRANGROUP:3AEC </span><span style="color:gray">SEARCH_EXIT</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3AEC                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3AED                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:3AEE                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:3AEF                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:3AF0                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:3AF1                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3AF1 </span>PSEARCH         endp
<span style="color:black">TRANGROUP:3AF1
</span><span style="color:black">TRANGROUP:3AF2
</span><span style="color:black">TRANGROUP:3AF2 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3AF2
</span><span style="color:black">TRANGROUP:3AF2
</span><span style="color:black">TRANGROUP:3AF2 </span>SEARCH_FTYPE    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3AF2                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3AF3                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:3AF4                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3AF7                 </span><span style="color:navy">mov     di</span><span style="color:navy">, (offset </span>FBUF<span style="color:navy">+</span><span style="color:green">1Eh</span><span style="color:navy">)</span> ; FBUF+FIND_BUF.PNAME
<span style="color:black">TRANGROUP:3AFA                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">13</span>          ; FNAME_MAX_LEN
<span style="color:black">TRANGROUP:3AFD                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:3AFE                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:3B00                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FTYPE_EXIT</span>
<span style="color:black">TRANGROUP:3B02                 </span><span style="color:navy">sub     di</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>
<span style="color:black">TRANGROUP:3B05                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>comext <span style="color:gray">; &quot;.COM&quot;
</span><span style="color:black">TRANGROUP:3B08                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3B0A                 </span><span style="color:navy">cmpsw
</span><span style="color:black">TRANGROUP:3B0B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FTYPE_EXE</span>
<span style="color:black">TRANGROUP:3B0D                 </span><span style="color:navy">cmpsw
</span><span style="color:black">TRANGROUP:3B0E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FTYPE_EXE</span>
<span style="color:black">TRANGROUP:3B10                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; SEARCH_COM
<span style="color:black">TRANGROUP:3B13                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FTYPE_EXIT</span>
<span style="color:black">TRANGROUP:3B15 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3B15
</span><span style="color:black">TRANGROUP:3B15 </span><span style="color:gray">FTYPE_EXE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3B15                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3B17                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>exeext <span style="color:gray">; &quot;.EXE&quot;
</span><span style="color:black">TRANGROUP:3B1A                 </span><span style="color:navy">cmpsw
</span><span style="color:black">TRANGROUP:3B1B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FTYPE_BAT</span>
<span style="color:black">TRANGROUP:3B1D                 </span><span style="color:navy">cmpsw
</span><span style="color:black">TRANGROUP:3B1E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FTYPE_BAT</span>
<span style="color:black">TRANGROUP:3B20                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; SEARCH_EXE
<span style="color:black">TRANGROUP:3B23                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FTYPE_EXIT</span>
<span style="color:black">TRANGROUP:3B25 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3B25
</span><span style="color:black">TRANGROUP:3B25 </span><span style="color:gray">FTYPE_BAT</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3B25                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3B27                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>batext <span style="color:gray">; &quot;.BAT&quot;
</span><span style="color:black">TRANGROUP:3B2A                 </span><span style="color:navy">cmpsw
</span><span style="color:black">TRANGROUP:3B2B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FTYPE_FAIL</span>
<span style="color:black">TRANGROUP:3B2D                 </span><span style="color:navy">cmpsw
</span><span style="color:black">TRANGROUP:3B2E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FTYPE_FAIL</span>
<span style="color:black">TRANGROUP:3B30                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; SEARCH_BAT
<span style="color:black">TRANGROUP:3B33                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FTYPE_EXIT</span>
<span style="color:black">TRANGROUP:3B35 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3B35
</span><span style="color:black">TRANGROUP:3B35 </span><span style="color:gray">FTYPE_FAIL</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3B35                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3B38
</span><span style="color:black">TRANGROUP:3B38 </span><span style="color:gray">FTYPE_EXIT</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3B38                 </span><span style="color:navy">cmp     ds:</span>ext_entered<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:3B3D                 </span><span style="color:navy">jz      short </span><span style="color:gray">FTYPE_DONE</span>
<span style="color:black">TRANGROUP:3B3F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; ANULL
<span style="color:black">TRANGROUP:3B42                 </span><span style="color:navy">jz      short </span><span style="color:gray">FTYPE_DONE</span>
<span style="color:black">TRANGROUP:3B44                 </span><span style="color:navy">mov     ds:</span>ext_entered<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3B47                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; SEARCH_COM
<span style="color:black">TRANGROUP:3B4A
</span><span style="color:black">TRANGROUP:3B4A </span><span style="color:gray">FTYPE_DONE</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3B4A                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:3B4B                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:3B4C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3B4C </span>SEARCH_FTYPE    endp
<span style="color:black">TRANGROUP:3B4C
</span><span style="color:black">TRANGROUP:3B4D
</span><span style="color:black">TRANGROUP:3B4D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3B4D
</span><span style="color:black">TRANGROUP:3B4D
</span><span style="color:black">TRANGROUP:3B4D </span>STRIP           proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3B4D                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:3B4E                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:3B4F                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3B50                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:3B51                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3B52                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:3B53                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:3B54                 </span><span style="color:navy">mov     ds:</span>ext_entered<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:3B59                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>ARG_ARGV ; [ARG+ARGV_ELE.argpointer]
<span style="color:black">TRANGROUP:3B5D                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ds:</span>ARGV0_ARGSTARTEL ; [ARG+ARGV_ELE.argstartel]
<span style="color:black">TRANGROUP:3B61                 </span><span style="color:navy">cmp     byte ptr [di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3B64                 </span><span style="color:navy">jz      short </span><span style="color:gray">STRIP_ERROR</span>
<span style="color:black">TRANGROUP:3B66                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3B68                 </span><span style="color:navy">add     cx</span><span style="color:navy">, ds:</span>ARGV0_ARGLEN ; [ARG+ARGV_ELE.arglen]
<span style="color:black">TRANGROUP:3B6C                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3B6E                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:3B6F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Eh</span> <span style="color:gray">; '.'
</span><span style="color:black">TRANGROUP:3B71                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:3B72                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:3B74                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">PROCESS_EXT</span>
<span style="color:black">TRANGROUP:3B76                 </span><span style="color:navy">mov     ds:</span>ext_entered<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3B7B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3B7D                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:3B7F
</span><span style="color:black">TRANGROUP:3B7F </span><span style="color:gray">PROCESS_EXT</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3B7F                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3B81                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3B83                 </span><span style="color:navy">sub     bx</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:3B86                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:3B88                 </span><span style="color:navy">jg      short </span><span style="color:gray">STRIP_ERROR</span>
<span style="color:black">TRANGROUP:3B8A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3B8C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3B8E                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:3B8F                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:3B91                 </span><span style="color:navy">cmp     ds:</span>ext_entered<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:3B96                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SKIP_WILDS</span>
<span style="color:black">TRANGROUP:3B98                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:3B99                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3B9A                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Fh</span> <span style="color:gray">; '?'
</span><span style="color:black">TRANGROUP:3B9C                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3B9D                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3B9E                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3B9F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3BA1                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3BA2
</span><span style="color:black">TRANGROUP:3BA2 </span><span style="color:gray">SKIP_WILDS</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3BA2                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3BA3                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:3BA4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">STRIP_EXIT</span>
<span style="color:black">TRANGROUP:3BA6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3BA6
</span><span style="color:black">TRANGROUP:3BA6 </span><span style="color:gray">STRIP_ERROR</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3BA6                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3BA7                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:3BA8
</span><span style="color:black">TRANGROUP:3BA8 </span><span style="color:gray">STRIP_EXIT</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3BA8                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:3BA9                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:3BAA                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:3BAB                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:3BAC                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:3BAD                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:3BAE                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3BAE </span>STRIP           endp
<span style="color:black">TRANGROUP:3BAE
</span><span style="color:black">TRANGROUP:3BAF
</span><span style="color:black">TRANGROUP:3BAF </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3BAF
</span><span style="color:black">TRANGROUP:3BAF
</span><span style="color:black">TRANGROUP:3BAF </span>SAVE_ARGS       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3BAF                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:3BB0                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3BB1                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:3BB2                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3BB3                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:3BB4                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:3BB5                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:3BB6                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:green">1363</span>        ; ARG_UNIT.SIZE+15
<span style="color:black">TRANGROUP:3BBA                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:3BBC                 </span><span style="color:navy">shr     bx</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:3BBE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4800h</span>
<span style="color:black">TRANGROUP:3BC1                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - ALLOCATE MEMORY
<span style="color:black">TRANGROUP:3BC1                                         </span>; BX = number of 16-byte paragraphs desired
<span style="color:black">TRANGROUP:3BC3                 </span><span style="color:navy">jb      short </span><span style="color:gray">SAVE_ERROR</span>
<span style="color:black">TRANGROUP:3BC5                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3BC7                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:3BC8                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3BCA                 </span>assume es:nothing
<span style="color:black">TRANGROUP:3BCA                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">1348</span>        ; ARG_UNIT.SIZE
<span style="color:black">TRANGROUP:3BCD                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3BCF                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ARG_ARGV ; offset ARG
<span style="color:black">TRANGROUP:3BD2                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:3BD4                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>ARG_ARGVCNT ; [ARG+ARG_UNIT.argvcnt]
<span style="color:black">TRANGROUP:3BD8                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3BDA                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ARG_ARGV ; offset ARG
<span style="color:black">TRANGROUP:3BDD
</span><span style="color:black">TRANGROUP:3BDD </span><span style="color:gray">SAVE_PTR_LOOP</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3BDD                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:3BDE                 </span><span style="color:navy">jl      short </span><span style="color:gray">SAVE_DONE</span>
<span style="color:black">TRANGROUP:3BE0                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3BE2                 </span><span style="color:navy">call    </span>argv_calc
<span style="color:black">TRANGROUP:3BE5                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>ARG_ARGV<span style="color:navy">[bx]</span> ; [ARG+ARGV_ELE.argpointer+bx]
<span style="color:black">TRANGROUP:3BE9                 </span><span style="color:navy">sub     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3BEB                 </span><span style="color:navy">mov     es:[bx]</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3BEE                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>ARGV0_ARGSTARTEL<span style="color:navy">[bx]</span> ; [ARG+ARGV_ELE.argstartel+bx]
<span style="color:black">TRANGROUP:3BF2                 </span><span style="color:navy">sub     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3BF4                 </span><span style="color:navy">mov     es:[bx+</span><span style="color:#ff8000">3</span><span style="color:navy">]</span><span style="color:navy">, dx</span>   ; [es:bx+ARGV_ELE.argstartel]
<span style="color:black">TRANGROUP:3BF8                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>ARGV0_OCOMPTR<span style="color:navy">[bx]</span> ; [ARG+ARGV_ELE.arg_ocomptr+bx]
<span style="color:black">TRANGROUP:3BFC                 </span><span style="color:navy">sub     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3BFE                 </span><span style="color:navy">mov     es:[bx+</span><span style="color:#ff8000">9</span><span style="color:navy">]</span><span style="color:navy">, dx</span>   ; [es:bx+ARGV_ELE.arg_ocomptr]
<span style="color:black">TRANGROUP:3C02                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SAVE_PTR_LOOP</span>
<span style="color:black">TRANGROUP:3C04 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3C04
</span><span style="color:black">TRANGROUP:3C04 </span><span style="color:gray">SAVE_DONE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C04                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:3C05                 </span>assume es:nothing
<span style="color:black">TRANGROUP:3C05                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:3C07                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SAVE_OK</span>
<span style="color:black">TRANGROUP:3C09 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3C09
</span><span style="color:black">TRANGROUP:3C09 </span><span style="color:gray">SAVE_ERROR</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C09                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3C0A                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:3C0B                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SAVE_EXIT</span>
<span style="color:black">TRANGROUP:3C0D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3C0D
</span><span style="color:black">TRANGROUP:3C0D </span><span style="color:gray">SAVE_OK</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C0D                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3C0E                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:3C0F
</span><span style="color:black">TRANGROUP:3C0F </span><span style="color:gray">SAVE_EXIT</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C0F                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:3C10                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:3C11                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:3C12                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:3C13                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:3C14                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:3C15                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3C15 </span>SAVE_ARGS       endp
<span style="color:black">TRANGROUP:3C15
</span><span style="color:black">TRANGROUP:3C16 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3C16 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR ERASE
</span><span style="color:black">TRANGROUP:3C16
</span><span style="color:black">TRANGROUP:3C16 </span><span style="color:gray">notest2</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C16                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">11</span>
<span style="color:black">TRANGROUP:3C19                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">5Dh</span>         ; FCB+1
<span style="color:black">TRANGROUP:3C1C
</span><span style="color:black">TRANGROUP:3C1C </span><span style="color:gray">ambspec</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C1C                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3C1D                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'?'</span>
<span style="color:black">TRANGROUP:3C1F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">allfil</span>
<span style="color:black">TRANGROUP:3C21                 </span><span style="color:navy">loop    </span><span style="color:gray">ambspec</span>
<span style="color:black">TRANGROUP:3C23
</span><span style="color:black">TRANGROUP:3C23 </span><span style="color:gray">allfil</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C23                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3C26                 </span><span style="color:navy">jnz     short </span><span style="color:gray">noprmpt</span>
<span style="color:black">TRANGROUP:3C28
</span><span style="color:black">TRANGROUP:3C28 </span><span style="color:gray">askagn</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C28                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>SureMes_Ptr
<span style="color:black">TRANGROUP:3C2B                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:3C2E                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:3C31                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3C33                 </span><span style="color:navy">mov     word ptr [si]</span><span style="color:navy">, </span><span style="color:green">120</span>
<span style="color:black">TRANGROUP:3C37                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0C0Ah</span>
<span style="color:black">TRANGROUP:3C3A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - CLEAR KEYBOARD BUFFER
<span style="color:black">TRANGROUP:3C3A                                         </span>; AL must be 01h, 06h, 07h, 08h, or 0Ah.
<span style="color:black">TRANGROUP:3C3C                 </span><span style="color:navy">lodsw
</span><span style="color:black">TRANGROUP:3C3D                 </span><span style="color:navy">or      ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:3C3F                 </span><span style="color:navy">jz      short </span><span style="color:gray">askagn</span>
<span style="color:black">TRANGROUP:3C41                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:3C44                 </span><span style="color:navy">call    </span>char_in_xlat
<span style="color:black">TRANGROUP:3C47                 </span><span style="color:navy">jnb     short </span><span style="color:gray">check_yn</span>
<span style="color:black">TRANGROUP:3C49
</span><span style="color:black">TRANGROUP:3C49 </span><span style="color:gray">answ_no</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C49                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3C4A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3C4A
</span><span style="color:black">TRANGROUP:3C4A </span><span style="color:gray">check_yn</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C4A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; NO character
<span style="color:black">TRANGROUP:3C4C                 </span><span style="color:navy">jz      short </span><span style="color:gray">answ_no</span>
<span style="color:black">TRANGROUP:3C4E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; YES character
<span style="color:black">TRANGROUP:3C50                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:3C51                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:3C54                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3C55                 </span><span style="color:navy">jnz     short </span><span style="color:gray">askagn</span>
<span style="color:black">TRANGROUP:3C57
</span><span style="color:black">TRANGROUP:3C57 </span><span style="color:gray">noprmpt</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C57                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">13h</span>
<span style="color:black">TRANGROUP:3C59                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">5Ch</span>         ; FCB
<span style="color:black">TRANGROUP:3C5C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - DELETE FILE via FCB
<span style="color:black">TRANGROUP:3C5C                                         </span>; DS:DX -&gt; FCB with filename field filled with
<span style="color:black">TRANGROUP:3C5C                                         </span>; template for  deletion ('?' wildcard allowed, but not '*')
<span style="color:black">TRANGROUP:3C5C                                         </span>; Return: AL = 00h file found, FFh file not found
<span style="color:black">TRANGROUP:3C5E                 </span><span style="color:navy">inc     al</span>
<span style="color:black">TRANGROUP:3C60                 </span><span style="color:navy">jz      short </span>eraerr
<span style="color:black">TRANGROUP:3C62                 </span><span style="color:navy">call    </span>RestUDir
<span style="color:black">TRANGROUP:3C65                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3C66 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3C66
</span><span style="color:black">TRANGROUP:3C66 </span>eraerr<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C66                 </span><span style="color:navy">call    </span>Set_Ext_Error_Msg
<span style="color:black">TRANGROUP:3C69                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:3C6A                 </span><span style="color:navy">call    </span>RestUDir
<span style="color:black">TRANGROUP:3C6D                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:3C6E                 </span><span style="color:navy">cmp     ds:</span>extend_buf_ptr<span style="color:navy">, </span><span style="color:green">18</span> ; ERROR_NO_MORE_FILES
<span style="color:black">TRANGROUP:3C73                 </span><span style="color:navy">jnz     short </span>cerrorj2
<span style="color:black">TRANGROUP:3C75                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, </span><span style="color:#ff8000">2</span> ; ERROR_FILE_NOT_FOUND
<span style="color:black">TRANGROUP:3C7B
</span><span style="color:black">TRANGROUP:3C7B </span>cerrorj2<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C7B                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:3C7E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3C7E
</span><span style="color:black">TRANGROUP:3C7E </span><span style="color:gray">slashp_erase</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C7E                 </span><span style="color:navy">call    </span>build_dir_string
<span style="color:black">TRANGROUP:3C81                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">1Ah</span>
<span style="color:black">TRANGROUP:3C83                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DESTDIR
<span style="color:black">TRANGROUP:3C86                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET DISK TRANSFER AREA ADDRESS
<span style="color:black">TRANGROUP:3C86                                         </span>; DS:DX -&gt; disk transfer buffer
<span style="color:black">TRANGROUP:3C88                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">11h</span>
<span style="color:black">TRANGROUP:3C8A                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">5Ch</span>
<span style="color:black">TRANGROUP:3C8D                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SEARCH FIRST USING FCB
<span style="color:black">TRANGROUP:3C8D                                         </span>; DS:DX -&gt; FCB
<span style="color:black">TRANGROUP:3C8F                 </span><span style="color:navy">inc     al</span>
<span style="color:black">TRANGROUP:3C91                 </span><span style="color:navy">jz      short </span>eraerr
<span style="color:black">TRANGROUP:3C93
</span><span style="color:black">TRANGROUP:3C93 </span><span style="color:gray">delete_prompt_loop</span><span style="color:navy">:                     </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3C93                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>DESTDIR<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:3C96                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>DEST
<span style="color:black">TRANGROUP:3C99                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>DIRCHAR
<span style="color:black">TRANGROUP:3C9C                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3C9D                 </span><span style="color:navy">call    </span>FCB_TO_ASCZ
<span style="color:black">TRANGROUP:3CA0
</span><span style="color:black">TRANGROUP:3CA0 </span><span style="color:gray">slashp_askagn</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3CA0                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:3CA3                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BWDBUF
<span style="color:black">TRANGROUP:3CA6                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3CA8                 </span><span style="color:navy">cmp     byte ptr [bx+</span><span style="color:#ff8000">3</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; END_OF_LINE_OUT
<span style="color:black">TRANGROUP:3CAC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">not_del_root</span>
<span style="color:black">TRANGROUP:3CAE                 </span><span style="color:navy">mov     byte ptr [bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3CB2
</span><span style="color:black">TRANGROUP:3CB2 </span><span style="color:gray">not_del_root</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3CB2                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3CB6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>string_buf_ptr
<span style="color:black">TRANGROUP:3CB9                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:3CBC                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DEST
<span style="color:black">TRANGROUP:3CBF                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3CC3                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>string_buf_ptr
<span style="color:black">TRANGROUP:3CC6                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:3CC9                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>Del_Y_N_Ptr
<span style="color:black">TRANGROUP:3CCC                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:3CCF                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0C01h</span>
<span style="color:black">TRANGROUP:3CD2                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - CLEAR KEYBOARD BUFFER
<span style="color:black">TRANGROUP:3CD2                                         </span>; AL must be 01h, 06h, 07h, 08h, or 0Ah.
<span style="color:black">TRANGROUP:3CD4                 </span><span style="color:navy">call    </span>char_in_xlat
<span style="color:black">TRANGROUP:3CD7                 </span><span style="color:navy">jnb     short </span><span style="color:gray">slashp_check_yn</span>
<span style="color:black">TRANGROUP:3CD9                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3CDA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3CDA
</span><span style="color:black">TRANGROUP:3CDA </span><span style="color:gray">slashp_check_yn</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3CDA                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; NO character
<span style="color:black">TRANGROUP:3CDC                 </span><span style="color:navy">jz      short </span><span style="color:gray">next_del_file</span>
<span style="color:black">TRANGROUP:3CDE                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; YES character
<span style="color:black">TRANGROUP:3CE0                 </span><span style="color:navy">jz      short </span><span style="color:gray">delete_this_file</span>
<span style="color:black">TRANGROUP:3CE2                 </span><span style="color:navy">jmp     short </span><span style="color:gray">slashp_askagn</span>
<span style="color:black">TRANGROUP:3CE4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3CE4
</span><span style="color:black">TRANGROUP:3CE4 </span><span style="color:gray">delete_this_file</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3CE4                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">13h</span>
<span style="color:black">TRANGROUP:3CE6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DESTDIR
<span style="color:black">TRANGROUP:3CE9                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - DELETE FILE via FCB
<span style="color:black">TRANGROUP:3CE9                                         </span>; DS:DX -&gt; FCB with filename field filled with
<span style="color:black">TRANGROUP:3CE9                                         </span>; template for  deletion ('?' wildcard allowed, but not '*')
<span style="color:black">TRANGROUP:3CE9                                         </span>; Return: AL = 00h file found, FFh file not found
<span style="color:black">TRANGROUP:3CEB                 </span><span style="color:navy">inc     al</span>
<span style="color:black">TRANGROUP:3CED                 </span><span style="color:navy">jnz     short </span><span style="color:gray">next_del_file</span>
<span style="color:black">TRANGROUP:3CEF                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:3CF2                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; ERROR_ACCESS_DENIED
<span style="color:black">TRANGROUP:3CF5                 </span><span style="color:navy">jnz     short </span><span style="color:gray">stop_del</span>
<span style="color:black">TRANGROUP:3CF7                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:3CFA                 </span><span style="color:navy">call    </span>Set_Ext_Error_Msg
<span style="color:black">TRANGROUP:3CFD                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:3D00                 </span><span style="color:navy">jmp     short </span><span style="color:gray">next_del_file</span>
<span style="color:black">TRANGROUP:3D02 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3D02
</span><span style="color:black">TRANGROUP:3D02 </span><span style="color:gray">stop_del</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3D02                 </span><span style="color:navy">jmp     </span>eraerr
<span style="color:black">TRANGROUP:3D05 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3D05
</span><span style="color:black">TRANGROUP:3D05 </span><span style="color:gray">next_del_file</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3D05                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">1Ah</span>
<span style="color:black">TRANGROUP:3D07                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DESTDIR
<span style="color:black">TRANGROUP:3D0A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET DISK TRANSFER AREA ADDRESS
<span style="color:black">TRANGROUP:3D0A                                         </span>; DS:DX -&gt; disk transfer buffer
<span style="color:black">TRANGROUP:3D0C                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">12h</span>
<span style="color:black">TRANGROUP:3D0E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">5Ch</span>
<span style="color:black">TRANGROUP:3D11                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SEARCH NEXT USING FCB
<span style="color:black">TRANGROUP:3D11                                         </span>; DS:DX -&gt; FCB
<span style="color:black">TRANGROUP:3D11                                         </span>; Return: AL = status
<span style="color:black">TRANGROUP:3D13                 </span><span style="color:navy">inc     al</span>
<span style="color:black">TRANGROUP:3D15                 </span><span style="color:navy">jz      short </span><span style="color:gray">slash_p_exit</span>
<span style="color:black">TRANGROUP:3D17                 </span><span style="color:navy">jmp     </span><span style="color:gray">delete_prompt_loop</span>
<span style="color:black">TRANGROUP:3D1A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3D1A
</span><span style="color:black">TRANGROUP:3D1A </span><span style="color:gray">slash_p_exit</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3D1A                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:3D1D                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">18</span>          ; ERROR_NO_MORE_FILES
<span style="color:black">TRANGROUP:3D20                 </span><span style="color:navy">jz      short </span><span style="color:gray">good_erase_exit</span>
<span style="color:black">TRANGROUP:3D22                 </span><span style="color:navy">jmp     </span>extend_setup
<span style="color:black">TRANGROUP:3D25 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3D25
</span><span style="color:black">TRANGROUP:3D25 </span><span style="color:gray">good_erase_exit</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3D25                 </span><span style="color:navy">call    </span>RestUDir
<span style="color:black">TRANGROUP:3D28                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:3D2B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3D2B </span><span style="color:gray">; END OF FUNCTION CHUNK FOR ERASE
</span><span style="color:black">TRANGROUP:3D2C
</span><span style="color:black">TRANGROUP:3D2C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3D2C
</span><span style="color:black">TRANGROUP:3D2C
</span><span style="color:black">TRANGROUP:3D2C </span>ECHO            proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:3D2C
</span><span style="color:black">TRANGROUP:3D2C </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:3D88 SIZE 00000021 BYTES
</span><span style="color:black">TRANGROUP:3D2C
</span><span style="color:black">TRANGROUP:3D2C                 </span><span style="color:navy">call    </span>ON_OFF
<span style="color:black">TRANGROUP:3D2F                 </span><span style="color:navy">jb      short </span><span style="color:gray">DOEMES</span>
<span style="color:black">TRANGROUP:3D31                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:3D35                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ECH_OFF</span>
<span style="color:black">TRANGROUP:3D37                 </span><span style="color:navy">or      ds:</span>EchoFlag<span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:3D3C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3D3D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3D3D
</span><span style="color:black">TRANGROUP:3D3D </span><span style="color:gray">ECH_OFF</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3D3D                 </span><span style="color:navy">and     ds:</span>EchoFlag<span style="color:navy">, </span><span style="color:green">0FEh</span>
<span style="color:black">TRANGROUP:3D42                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3D43 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3D43
</span><span style="color:black">TRANGROUP:3D43 </span>CERRORJ<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3D43                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:3D46 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3D46
</span><span style="color:black">TRANGROUP:3D46 </span><span style="color:gray">DOEMES</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3D46                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3D49                 </span><span style="color:navy">jz      short </span><span style="color:gray">PECHO</span>
<span style="color:black">TRANGROUP:3D4B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">82h</span>
<span style="color:black">TRANGROUP:3D4E                 </span><span style="color:navy">call    </span>CRPRINT
<span style="color:black">TRANGROUP:3D51                 </span><span style="color:navy">jmp     </span>CRLF2
<span style="color:black">TRANGROUP:3D54 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3D54
</span><span style="color:black">TRANGROUP:3D54 </span><span style="color:gray">PECHO</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3D54                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:3D58                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, ds:</span>EchoFlag
<span style="color:black">TRANGROUP:3D5C                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:3D5D                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:3D5E                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:3D5E                 </span><span style="color:navy">and     bl</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:3D61                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>EchoMes_Ptr
<span style="color:black">TRANGROUP:3D64                 </span><span style="color:navy">jmp     short </span>PYN
<span style="color:black">TRANGROUP:3D64 </span>ECHO            endp
<span style="color:black">TRANGROUP:3D64
</span><span style="color:black">TRANGROUP:3D66
</span><span style="color:black">TRANGROUP:3D66 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3D66
</span><span style="color:black">TRANGROUP:3D66
</span><span style="color:black">TRANGROUP:3D66 </span>CNTRLC          proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:3D66                 </span><span style="color:navy">call    </span>ON_OFF
<span style="color:black">TRANGROUP:3D69                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3301h</span>       ; (SET_CTRL_C_TRAPPING&lt;&lt;8)|1
<span style="color:black">TRANGROUP:3D6C                 </span><span style="color:navy">jb      short </span><span style="color:gray">PCNTRLC</span>
<span style="color:black">TRANGROUP:3D6E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CNTRLC_OFF</span>
<span style="color:black">TRANGROUP:3D70                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:3D72                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - EXTENDED CONTROL-BREAK CHECKING
<span style="color:black">TRANGROUP:3D72                                         </span>; AL = 00h get state / 01h set state / 02h set AND get
<span style="color:black">TRANGROUP:3D72                                         </span>; DL = 00h for OFF or 01h for ON
<span style="color:black">TRANGROUP:3D74                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3D75 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3D75
</span><span style="color:black">TRANGROUP:3D75 </span><span style="color:gray">CNTRLC_OFF</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3D75                 </span><span style="color:navy">xor     dl</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:3D77                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS -
<span style="color:black">TRANGROUP:3D79                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3D7A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3D7A
</span><span style="color:black">TRANGROUP:3D7A </span><span style="color:gray">PCNTRLC</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3D7A                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3D7D                 </span><span style="color:navy">jnz     short </span>CERRORJ
<span style="color:black">TRANGROUP:3D7F                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3D81                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS -
<span style="color:black">TRANGROUP:3D83                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:3D85                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>CtrlcMes_Ptr
<span style="color:black">TRANGROUP:3D85 </span>CNTRLC          endp
<span style="color:black">TRANGROUP:3D85
</span><span style="color:black">TRANGROUP:3D88 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR ECHO
</span><span style="color:black">TRANGROUP:3D88
</span><span style="color:black">TRANGROUP:3D88 </span>PYN<span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3D88                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ONMES_PTR
<span style="color:black">TRANGROUP:3D8B                 </span><span style="color:navy">or      bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:3D8D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">PRINTVAL</span>
<span style="color:black">TRANGROUP:3D8F                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>OFFMES_PTR
<span style="color:black">TRANGROUP:3D92
</span><span style="color:black">TRANGROUP:3D92 </span><span style="color:gray">PRINTVAL</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3D92                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:3D93                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3D95                 </span><span style="color:navy">lodsw
</span><span style="color:black">TRANGROUP:3D96                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; util_msg_class ; -1
<span style="color:black">TRANGROUP:3D98                 </span><span style="color:navy">call    </span>TSYSGETMSG
<span style="color:black">TRANGROUP:3D9B                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; Ptr_off_pos
<span style="color:black">TRANGROUP:3D9E                 </span><span style="color:navy">mov     [bx]</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3DA0                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:3DA1                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:3DA4                 </span><span style="color:navy">mov     word ptr [bx]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3DA8                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3DA8 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR ECHO
</span><span style="color:black">TRANGROUP:3DA9
</span><span style="color:black">TRANGROUP:3DA9 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3DA9
</span><span style="color:black">TRANGROUP:3DA9
</span><span style="color:black">TRANGROUP:3DA9 </span>VERIFY          proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:3DA9                 </span><span style="color:navy">call    </span>ON_OFF
<span style="color:black">TRANGROUP:3DAC                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2E01h</span>       ; (SET_VERIFY_ON_WRITE&lt;&lt;8)|1
<span style="color:black">TRANGROUP:3DAF                 </span><span style="color:navy">jb      short </span><span style="color:gray">PVERIFY</span>
<span style="color:black">TRANGROUP:3DB1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">VER_OFF</span>
<span style="color:black">TRANGROUP:3DB3                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET VERIFY FLAG
<span style="color:black">TRANGROUP:3DB3                                         </span>; DL = 00h, AL = 01h VERIFY on / 00h VERIFY off
<span style="color:black">TRANGROUP:3DB5                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3DB6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3DB6
</span><span style="color:black">TRANGROUP:3DB6 </span><span style="color:gray">VER_OFF</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3DB6                 </span><span style="color:navy">dec     al</span>
<span style="color:black">TRANGROUP:3DB8                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS -
<span style="color:black">TRANGROUP:3DBA                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3DBB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3DBB
</span><span style="color:black">TRANGROUP:3DBB </span><span style="color:gray">PVERIFY</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3DBB                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3DBE                 </span><span style="color:navy">jnz     short </span>CERRORJ
<span style="color:black">TRANGROUP:3DC0                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">54h</span>
<span style="color:black">TRANGROUP:3DC2                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET VERIFY FLAG
<span style="color:black">TRANGROUP:3DC2                                         </span>; Return: AL = 00h if flag OFF
<span style="color:black">TRANGROUP:3DC2                                         </span>; AL = 01h if flag ON
<span style="color:black">TRANGROUP:3DC4                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3DC6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>VeriMes_Ptr
<span style="color:black">TRANGROUP:3DC9                 </span><span style="color:navy">jmp     short </span>PYN
<span style="color:black">TRANGROUP:3DC9 </span>VERIFY          endp
<span style="color:black">TRANGROUP:3DC9
</span><span style="color:black">TRANGROUP:3DCB
</span><span style="color:black">TRANGROUP:3DCB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3DCB
</span><span style="color:black">TRANGROUP:3DCB
</span><span style="color:black">TRANGROUP:3DCB </span>ON_OFF          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3DCB                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:3DCE
</span><span style="color:black">TRANGROUP:3DCE </span><span style="color:gray">scan_on_off</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3DCE                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:3DCF                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '   </span>; blank
<span style="color:black">TRANGROUP:3DD1                 </span><span style="color:navy">jz      short </span><span style="color:gray">scan_on_off</span>
<span style="color:black">TRANGROUP:3DD3                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>           ; tab_chr
<span style="color:black">TRANGROUP:3DD5                 </span><span style="color:navy">jz      short </span><span style="color:gray">scan_on_off</span>
<span style="color:black">TRANGROUP:3DD7                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Dh</span> <span style="color:gray">; '='   </span>; equal_chr
<span style="color:black">TRANGROUP:3DD9                 </span><span style="color:navy">jz      short </span><span style="color:gray">parse_on_off</span>
<span style="color:black">TRANGROUP:3DDB                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:3DDC
</span><span style="color:black">TRANGROUP:3DDC </span><span style="color:gray">parse_on_off</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3DDC                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_BREAK
<span style="color:black">TRANGROUP:3DDF                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3DE1                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3DE3                 </span><span style="color:navy">call    </span>cmd_parse
<span style="color:black">TRANGROUP:3DE6                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; END_OF_LINE ; -1
<span style="color:black">TRANGROUP:3DE9                 </span><span style="color:navy">jz      short </span><span style="color:gray">BADONF</span>
<span style="color:black">TRANGROUP:3DEB                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:3DEE                 </span><span style="color:navy">jz      short </span><span style="color:gray">on_off_there</span>
<span style="color:black">TRANGROUP:3DF0                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3DF2                 </span><span style="color:navy">jmp     short </span><span style="color:gray">BADONF</span>
<span style="color:black">TRANGROUP:3DF4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3DF4
</span><span style="color:black">TRANGROUP:3DF4 </span><span style="color:gray">on_off_there</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3DF4                 </span><span style="color:navy">cmp     </span>PARSE1_CODE<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; -1
<span style="color:black">TRANGROUP:3DF9                 </span><span style="color:navy">jnz     short </span><span style="color:gray">good_on_off</span>
<span style="color:black">TRANGROUP:3DFB                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">0Ah</span>         ; BadParm_Ptr
<span style="color:black">TRANGROUP:3DFE                 </span><span style="color:navy">jmp     short </span><span style="color:gray">BADONF</span>
<span style="color:black">TRANGROUP:3E00 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3E00
</span><span style="color:black">TRANGROUP:3E00 </span><span style="color:gray">good_on_off</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3E00                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3E02                 </span><span style="color:navy">or      al</span><span style="color:navy">, </span>PARSE1_CODE
<span style="color:black">TRANGROUP:3E06                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:3E07                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>PARSE_BREAK
<span style="color:black">TRANGROUP:3E0A                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:3E0C                 </span><span style="color:navy">call    </span>cmd_parse
<span style="color:black">TRANGROUP:3E0F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; END_OF_LINE
<span style="color:black">TRANGROUP:3E12                 </span><span style="color:navy">jnz     short </span><span style="color:gray">BADONF_flag</span>
<span style="color:black">TRANGROUP:3E14                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3E15                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:3E16                 </span><span style="color:navy">jmp     short </span><span style="color:gray">on_off_end</span>
<span style="color:black">TRANGROUP:3E18 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3E18
</span><span style="color:black">TRANGROUP:3E18 </span><span style="color:gray">BADONF_flag</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3E18                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3E1A                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3E1B
</span><span style="color:black">TRANGROUP:3E1B </span><span style="color:gray">BADONF</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3E1B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>bad_on_off_ptr
<span style="color:black">TRANGROUP:3E1E                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:3E1F
</span><span style="color:black">TRANGROUP:3E1F </span><span style="color:gray">on_off_end</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3E1F                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3E1F </span>ON_OFF          endp
<span style="color:black">TRANGROUP:3E1F
</span><span style="color:maroon">TRANGROUP:3E20 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:3E20
</span><span style="color:maroon">TRANGROUP:3E20 </span>PRINT_DATE<span style="color:navy">:                             </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:3E20                 </span><span style="color:navy">push    es</span>
<span style="color:maroon">TRANGROUP:3E21                 </span><span style="color:navy">push    di</span>
<span style="color:maroon">TRANGROUP:3E22                 </span><span style="color:navy">push    cs</span>
<span style="color:maroon">TRANGROUP:3E23                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">TRANGROUP:3E24                 </span>assume es:TRANGROUP
<span style="color:maroon">TRANGROUP:3E24                 </span><span style="color:navy">call    </span>GetDate
<span style="color:maroon">TRANGROUP:3E27                 </span><span style="color:navy">xchg    dh</span><span style="color:navy">, dl</span>
<span style="color:maroon">TRANGROUP:3E29                 </span><span style="color:navy">mov     </span>promptDat_yr<span style="color:navy">, cx</span>
<span style="color:maroon">TRANGROUP:3E2D                 </span><span style="color:navy">mov     </span>promptDat_moday<span style="color:navy">, dx</span>
<span style="color:maroon">TRANGROUP:3E31                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>promptdat_ptr
<span style="color:maroon">TRANGROUP:3E34                 </span><span style="color:navy">call    </span>std_printf
<span style="color:maroon">TRANGROUP:3E37                 </span><span style="color:navy">pop     di</span>
<span style="color:maroon">TRANGROUP:3E38                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">TRANGROUP:3E39                 </span>assume es:nothing
<span style="color:maroon">TRANGROUP:3E39                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3E3A
</span><span style="color:black">TRANGROUP:3E3A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3E3A
</span><span style="color:black">TRANGROUP:3E3A
</span><span style="color:black">TRANGROUP:3E3A </span>GetDate         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3E3A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>Arg_Buf
<span style="color:black">TRANGROUP:3E3D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2Ah</span>
<span style="color:black">TRANGROUP:3E3F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET CURRENT DATE
<span style="color:black">TRANGROUP:3E3F                                         </span>; Return: DL = day, DH = month, CX = year
<span style="color:black">TRANGROUP:3E3F                                         </span>; AL = day of the week (0=Sunday, 1=Monday, etc.)
<span style="color:black">TRANGROUP:3E41                 </span><span style="color:navy">cbw
</span><span style="color:black">TRANGROUP:3E42                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:3E43                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:3E44                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3E46                 </span><span style="color:navy">shl     si</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:3E48                 </span><span style="color:navy">add     si</span><span style="color:navy">, ax</span>          ; SI=AX*3
<span style="color:black">TRANGROUP:3E4A                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3E4C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span>WeekTab
<span style="color:black">TRANGROUP:3E4F                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; util_msg_class
<span style="color:black">TRANGROUP:3E51                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:3E52                 </span><span style="color:navy">call    </span>TSYSGETMSG
<span style="color:black">TRANGROUP:3E55                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:3E56                 </span><span style="color:navy">add     si</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:3E58                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:3E5B                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:3E5D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; END_OF_LINE_OUT
<span style="color:black">TRANGROUP:3E5F                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:3E60                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:3E61                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:3E62                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3E62 </span>GetDate         endp
<span style="color:black">TRANGROUP:3E62
</span><span style="color:black">TRANGROUP:3E63
</span><span style="color:black">TRANGROUP:3E63 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3E63
</span><span style="color:black">TRANGROUP:3E63
</span><span style="color:black">TRANGROUP:3E63 </span>char_in_xlat    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3E63                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3E65                 </span><span style="color:navy">xor     dh</span><span style="color:navy">, dh</span>
<span style="color:black">TRANGROUP:3E67                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">6523h</span>       ; (GetExtCntry&lt;&lt;8)+35
<span style="color:black">TRANGROUP:3E6A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 4.x internal - COUNTRY-DEPENDENT FILENAME CAPITALIZATION
<span style="color:black">TRANGROUP:3E6A                                         </span>; AL = function -
<span style="color:black">TRANGROUP:3E6C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:3E6C </span>char_in_xlat    endp
<span style="color:black">TRANGROUP:3E6C
</span><span style="color:black">TRANGROUP:3E6D
</span><span style="color:black">TRANGROUP:3E6D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:3E6D
</span><span style="color:black">TRANGROUP:3E6D
</span><span style="color:black">TRANGROUP:3E6D </span>COPY            proc near               <span style="color:#8080ff">; ...
</span><span style="color:black">TRANGROUP:3E6D
</span><span style="color:black">TRANGROUP:3E6D </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:40F3 SIZE 00000037 BYTES
</span><span style="color:black">TRANGROUP:3E6D </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:4151 SIZE 000001C7 BYTES
</span><span style="color:black">TRANGROUP:3E6D
</span><span style="color:black">TRANGROUP:3E6D                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3E6F                 </span><span style="color:navy">mov     </span>Copy_num<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3E72                 </span><span style="color:navy">mov     </span>SRCPT<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3E75                 </span><span style="color:navy">mov     </span>SrcTail<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3E78                 </span><span style="color:navy">mov     </span>CFLAG<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3E7B                 </span><span style="color:navy">mov     </span>NXTADD<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3E7E                 </span><span style="color:navy">mov     </span>ARG2S<span style="color:navy">, ax</span>       ; [DestSwitch]
<span style="color:black">TRANGROUP:3E81                 </span><span style="color:navy">mov     </span>STARTEL<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3E84                 </span><span style="color:navy">mov     </span>DestTail<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3E87                 </span><span style="color:navy">mov     </span>SPECDRV<span style="color:navy">, al</span>     ; [DestClosed]
<span style="color:black">TRANGROUP:3E8A                 </span><span style="color:navy">mov     </span>DestSiz<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3E8D                 </span><span style="color:navy">mov     </span>SrcSiz<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3E90                 </span><span style="color:navy">mov     </span>DestInfo<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3E93                 </span><span style="color:navy">mov     </span>SrcInfo<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3E96                 </span><span style="color:navy">mov     </span>INEXACT<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3E99                 </span><span style="color:navy">mov     </span>DestIsDir<span style="color:navy">, al</span>   ; [DestVars]
<span style="color:black">TRANGROUP:3E9C                 </span><span style="color:navy">mov     </span>SrcIsDir<span style="color:navy">, al</span>    ; [SrcVars]
<span style="color:black">TRANGROUP:3E9F                 </span><span style="color:navy">mov     </span>USERDIR1<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3EA2                 </span><span style="color:navy">mov     </span>NOWRITE<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3EA5                 </span><span style="color:navy">mov     </span>IFNOTFLAG<span style="color:navy">, al</span>   ; [RDEOF]
<span style="color:black">TRANGROUP:3EA8                 </span><span style="color:navy">mov     </span>SRCHAND<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3EAB                 </span><span style="color:navy">mov     </span>CPDATE<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3EAE                 </span><span style="color:navy">mov     </span>CPTIME<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3EB1                 </span><span style="color:navy">mov     </span>SRCISDEV<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3EB4                 </span><span style="color:navy">mov     </span>OCtrlZ<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3EB7                 </span><span style="color:navy">mov     </span>OFilePtr_Lo<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3EBA                 </span><span style="color:navy">mov     </span>OFilePtr_Hi<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3EBD                 </span><span style="color:navy">mov     </span>TERMREAD<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3EC0                 </span><span style="color:navy">mov     </span>comma<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3EC3                 </span><span style="color:navy">mov     </span>plus_comma<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3EC6                 </span><span style="color:navy">mov     </span>msg_flag<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3EC9                 </span><span style="color:navy">mov     </span>ARGTS<span style="color:navy">, ax</span>       ; [AllSwitch]
<span style="color:black">TRANGROUP:3ECC                 </span><span style="color:navy">mov     </span>PARM2<span style="color:navy">, al</span>       ; [ArgC]
<span style="color:black">TRANGROUP:3ECF                 </span><span style="color:navy">mov     </span>PLUS<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3ED2                 </span><span style="color:navy">mov     </span>BINARY<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3ED5                 </span><span style="color:navy">mov     </span>ASCII<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3ED8                 </span><span style="color:navy">mov     </span>FileCnt<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3EDB                 </span><span style="color:navy">mov     </span>WRITTEN<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3EDE                 </span><span style="color:navy">mov     </span>PARM1<span style="color:navy">, al</span>       ; [Concat]
<span style="color:black">TRANGROUP:3EE1                 </span><span style="color:navy">mov     </span>MELCOPY<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3EE4                 </span><span style="color:navy">mov     </span>MELSTART<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3EE7                 </span><span style="color:navy">mov     </span>cox_dest_file<span style="color:navy">, al</span> ; MSDOS 6.22
<span style="color:black">TRANGROUP:3EEA                 </span><span style="color:navy">mov     </span>cox_src_file<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3EED                 </span><span style="color:navy">mov     word ptr </span>ScanBuf<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3EF0                 </span><span style="color:navy">mov     word ptr </span>DestBuf<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3EF3                 </span><span style="color:navy">mov     word ptr </span>SrcBuf<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3EF6                 </span><span style="color:navy">mov     word ptr </span>SDIRBUF<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3EF9                 </span><span style="color:navy">mov     </span>BWDBUF<span style="color:navy">, ax</span>      ; [DIRBUF]
<span style="color:black">TRANGROUP:3EFC                 </span><span style="color:navy">mov     word ptr </span>DESTDIR<span style="color:navy">, ax</span> ; [DestFcb]
<span style="color:black">TRANGROUP:3EFF                 </span><span style="color:navy">mov     </span>ObjCnt<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3F02                 </span><span style="color:navy">dec     ax</span>              ; -1
<span style="color:black">TRANGROUP:3F03                 </span><span style="color:navy">mov     </span>EndDestBuf<span style="color:navy">, ax</span>  ; [DESTHAND]
<span style="color:black">TRANGROUP:3F06                 </span><span style="color:navy">mov     </span>FRSTSRCH<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3F09                 </span><span style="color:navy">mov     </span>FIRSTDEST<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3F0C                 </span><span style="color:navy">mov     </span>DestIsDir<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:3F0F                 </span><span style="color:navy">call    </span>init_copycmd_option
<span style="color:black">TRANGROUP:3F12                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:3F15                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:green">'+'</span>
<span style="color:black">TRANGROUP:3F17                 </span><span style="color:navy">inc     </span>expand_star
<span style="color:black">TRANGROUP:3F1B                 </span><span style="color:navy">mov     </span>cpyflag<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:3F20
</span><span style="color:black">TRANGROUP:3F20 </span><span style="color:gray">DESTSCAN</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3F20                 </span><span style="color:navy">xor     bp</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:3F22                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>ScanBuf
<span style="color:black">TRANGROUP:3F25                 </span><span style="color:navy">mov     </span>parse_last<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3F29                 </span><span style="color:navy">call    </span>cparse
<span style="color:black">TRANGROUP:3F2C                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:3F2D                 </span><span style="color:navy">inc     </span>ObjCnt
<span style="color:black">TRANGROUP:3F31                 </span><span style="color:navy">test    bh</span><span style="color:navy">, </span><span style="color:green">80h</span>         ; no &quot;+&quot; delimiter
<span style="color:black">TRANGROUP:3F34                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOCOPY</span>
<span style="color:black">TRANGROUP:3F36                 </span><span style="color:navy">mov     </span>PLUS<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:3F3B
</span><span style="color:black">TRANGROUP:3F3B </span><span style="color:gray">NOCOPY</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3F3B                 </span><span style="color:navy">test    bh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:3F3E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CHK_CP_SWITCH</span>
<span style="color:black">TRANGROUP:3F40                 </span><span style="color:navy">jmp     </span><span style="color:gray">TESTP2</span>          ; not a switch
<span style="color:black">TRANGROUP:3F43 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3F43
</span><span style="color:black">TRANGROUP:3F43 </span><span style="color:gray">CHK_CP_SWITCH</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3F43                 </span><span style="color:navy">test    bp</span><span style="color:navy">, </span><span style="color:green">10h</span>         ; SwitchV
<span style="color:black">TRANGROUP:3F43                                         </span>; Verify requested?
<span style="color:black">TRANGROUP:3F47                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOT_SLASHV</span>
<span style="color:black">TRANGROUP:3F49                 </span><span style="color:navy">test    </span>ARGTS<span style="color:navy">, </span><span style="color:green">10h</span>      ; test word [AllSwitch],SwitchV
<span style="color:black">TRANGROUP:3F49                                         </span>; Verify already entered?
<span style="color:black">TRANGROUP:3F4F                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOT_SLASHV</span>
<span style="color:black">TRANGROUP:3F51                 </span><span style="color:navy">or      bp</span><span style="color:navy">, </span><span style="color:green">4000h</span>       ; FBadSwitch
<span style="color:black">TRANGROUP:3F51                                         </span>; Set up bad switch
<span style="color:black">TRANGROUP:3F55
</span><span style="color:black">TRANGROUP:3F55 </span><span style="color:gray">NOT_SLASHV</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3F55                 </span><span style="color:navy">test    bp</span><span style="color:navy">, </span><span style="color:green">40h</span>         ; negative Y (-Y) switch flag
<span style="color:black">TRANGROUP:3F59                 </span><span style="color:navy">jz      short </span><span style="color:gray">CHK_SLASHY0</span>
<span style="color:black">TRANGROUP:3F5B                 </span><span style="color:navy">test    </span>ARGTS<span style="color:navy">, </span><span style="color:green">40h</span>      ; [AllSwitch] negative (-Y) flag
<span style="color:black">TRANGROUP:3F61                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOT_SLASHY1</span> ; N flag
<span style="color:black">TRANGROUP:3F63                 </span><span style="color:navy">test    </span>ARGTS<span style="color:navy">, </span><span style="color:green">80h</span>      ; [AllSwitch] SwitchY (Y) flag
<span style="color:black">TRANGROUP:3F69                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOT_SLASHY2</span>
<span style="color:black">TRANGROUP:3F6B
</span><span style="color:black">TRANGROUP:3F6B </span><span style="color:gray">NOT_SLASHY1</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3F6B                 </span><span style="color:navy">or      bp</span><span style="color:navy">, </span><span style="color:green">4000h</span>       ; FBadSwitch (Repetitive)
<span style="color:black">TRANGROUP:3F6B                                         </span>; Set up bad switch
<span style="color:black">TRANGROUP:3F6F
</span><span style="color:black">TRANGROUP:3F6F </span><span style="color:gray">NOT_SLASHY2</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3F6F                 </span><span style="color:navy">mov     </span>cox_y_override<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; cox_y setting will be used
<span style="color:black">TRANGROUP:3F74
</span><span style="color:black">TRANGROUP:3F74 </span><span style="color:gray">CHK_SLASHY0</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3F74                 </span><span style="color:navy">test    bp</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:3F78                 </span><span style="color:navy">jz      short </span><span style="color:gray">CHK_SLASHY4</span> ; not a /Y switch
<span style="color:black">TRANGROUP:3F7A                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:3F7C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'y'</span>
<span style="color:black">TRANGROUP:3F7E                 </span><span style="color:navy">jz      short </span><span style="color:gray">CHK_SLASHY1</span>
<span style="color:black">TRANGROUP:3F80                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'Y'</span>
<span style="color:black">TRANGROUP:3F82                 </span><span style="color:navy">jz      short </span><span style="color:gray">CHK_SLASHY1</span>
<span style="color:black">TRANGROUP:3F84                 </span><span style="color:navy">or      bp</span><span style="color:navy">, </span><span style="color:green">4000h</span>       ; FBadSwitch
<span style="color:black">TRANGROUP:3F84                                         </span>; Set up bad switch
<span style="color:black">TRANGROUP:3F88                 </span><span style="color:navy">jmp     short </span><span style="color:gray">CHK_SLASHY4</span>
<span style="color:black">TRANGROUP:3F8A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3F8A
</span><span style="color:black">TRANGROUP:3F8A </span><span style="color:gray">CHK_SLASHY1</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3F8A                 </span><span style="color:navy">mov     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:3F8D                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:3F8E                 </span><span style="color:navy">test    </span>ARGTS<span style="color:navy">, </span><span style="color:green">40h</span>      ; [AllSwitch] negative (-Y) flag
<span style="color:black">TRANGROUP:3F94                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CHK_SLASHY2</span> ; N flag
<span style="color:black">TRANGROUP:3F96                 </span><span style="color:navy">test    </span>ARGTS<span style="color:navy">, </span><span style="color:green">80h</span>      ; [AllSwitch] SwitchY (Y) flag
<span style="color:black">TRANGROUP:3F9C                 </span><span style="color:navy">jz      short </span><span style="color:gray">CHK_SLASHY3</span>
<span style="color:black">TRANGROUP:3F9E
</span><span style="color:black">TRANGROUP:3F9E </span><span style="color:gray">CHK_SLASHY2</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3F9E                 </span><span style="color:navy">or      bp</span><span style="color:navy">, </span><span style="color:green">4000h</span>       ; FBadSwitch (Repetitive)
<span style="color:black">TRANGROUP:3F9E                                         </span>; Set up bad switch
<span style="color:black">TRANGROUP:3FA2
</span><span style="color:black">TRANGROUP:3FA2 </span><span style="color:gray">CHK_SLASHY3</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3FA2                 </span><span style="color:navy">mov     </span>cox_y_override<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:3FA7
</span><span style="color:black">TRANGROUP:3FA7 </span><span style="color:gray">CHK_SLASHY4</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3FA7                 </span><span style="color:navy">or      </span>ARG2S<span style="color:navy">, bp</span>       ; set [DestSwitch] SwitchY flag to 1
<span style="color:black">TRANGROUP:3FAB                 </span><span style="color:navy">or      </span>ARGTS<span style="color:navy">, bp</span>       ; set [AllSwitch] SwitchY flag to 1
<span style="color:black">TRANGROUP:3FAF                 </span><span style="color:navy">test    bp</span><span style="color:navy">, </span><span style="color:green">7F23h</span>       ; ~SwitchCopy ; not SwitchCopy
<span style="color:black">TRANGROUP:3FB3                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOT_BAD_SWITCH</span>
<span style="color:black">TRANGROUP:3FB5                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3FB6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; BadSwt_Ptr
<span style="color:black">TRANGROUP:3FB9                 </span><span style="color:navy">call    </span>setup_parse_error_msg
<span style="color:black">TRANGROUP:3FBC                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:3FBF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3FBF
</span><span style="color:black">TRANGROUP:3FBF </span><span style="color:gray">NOT_BAD_SWITCH</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3FBF                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3FC0                 </span><span style="color:navy">jb      short </span><span style="color:gray">CHECKDONE</span>
<span style="color:black">TRANGROUP:3FC2                 </span><span style="color:navy">jmp     </span><span style="color:gray">DESTSCAN</span>
<span style="color:black">TRANGROUP:3FC5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3FC5
</span><span style="color:black">TRANGROUP:3FC5 </span><span style="color:gray">TESTP2</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3FC5                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:3FC6                 </span><span style="color:navy">jb      short </span><span style="color:gray">CHECKDONE</span>
<span style="color:black">TRANGROUP:3FC8                 </span><span style="color:navy">test    bh</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:3FCB                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GOTPLUS</span>
<span style="color:black">TRANGROUP:3FCD                 </span><span style="color:navy">inc     </span>PARM2           ; inc byte [ArgC]
<span style="color:black">TRANGROUP:3FD1
</span><span style="color:black">TRANGROUP:3FD1 </span><span style="color:gray">GOTPLUS</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3FD1                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:3FD2                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span>STARTEL
<span style="color:black">TRANGROUP:3FD5                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ScanBuf
<span style="color:black">TRANGROUP:3FD8                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:3FDA                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>DestBuf
<span style="color:black">TRANGROUP:3FDD                 </span><span style="color:navy">add     ax</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:3FDF                 </span><span style="color:navy">mov     </span>DestTail<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:3FE2                 </span><span style="color:navy">mov     </span>DestSiz<span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:3FE6                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:3FE7                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:3FE9                 </span><span style="color:navy">mov     </span>DestInfo<span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:3FED                 </span><span style="color:navy">mov     </span>ARG2S<span style="color:navy">, </span><span style="color:#ff8000">0</span>        ; [DestSwitch]
<span style="color:black">TRANGROUP:3FF3                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:3FF4                 </span><span style="color:navy">jmp     </span><span style="color:gray">DESTSCAN</span>
<span style="color:black">TRANGROUP:3FF7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:3FF7
</span><span style="color:black">TRANGROUP:3FF7 </span><span style="color:gray">CHECKDONE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:3FF7                 </span><span style="color:navy">cmp     </span>PLUS<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:3FFC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CDCONT</span>
<span style="color:black">TRANGROUP:3FFE                 </span><span style="color:navy">cmp     </span>PARM2<span style="color:navy">, </span><span style="color:#ff8000">1</span>        ; [ArgC]
<span style="color:black">TRANGROUP:4003                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CDCONT</span>
<span style="color:black">TRANGROUP:4005                 </span><span style="color:navy">cmp     </span>ObjCnt<span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:400A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CDCONT</span>
<span style="color:black">TRANGROUP:400C                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>OVERWR_PTR
<span style="color:black">TRANGROUP:400F                 </span><span style="color:navy">jmp     </span>COPYERR
<span style="color:black">TRANGROUP:4012 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4012
</span><span style="color:black">TRANGROUP:4012 </span><span style="color:gray">CDCONT</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4012                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span>PLUS
<span style="color:black">TRANGROUP:4015                 </span><span style="color:navy">mov     </span>PARM1<span style="color:navy">, al</span>       ; [Concat]
<span style="color:black">TRANGROUP:4018                 </span><span style="color:navy">shl     al</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:401A                 </span><span style="color:navy">shl     al</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:401C                 </span><span style="color:navy">mov     </span>INEXACT<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:401F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span>PARM2       ; [ArgC]
<span style="color:black">TRANGROUP:4022                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4024                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TRY_TOO_MANY</span>
<span style="color:black">TRANGROUP:4026                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:4029                 </span><span style="color:navy">mov     </span>extend_buf_ptr<span style="color:navy">, </span><span style="color:#ff8000">2</span> ; LessArgs_Ptr
<span style="color:black">TRANGROUP:402F                 </span><span style="color:navy">jmp     short </span><span style="color:gray">CERROR_PARSEJ</span>
<span style="color:black">TRANGROUP:4031 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4031
</span><span style="color:black">TRANGROUP:4031 </span><span style="color:gray">TRY_TOO_MANY</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4031                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:4033                 </span><span style="color:navy">jbe     short </span><span style="color:gray">ACOUNTOK</span>
<span style="color:black">TRANGROUP:4035                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:4038                 </span><span style="color:navy">mov     </span>extend_buf_ptr<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; MoreArgs_Ptr
<span style="color:black">TRANGROUP:403E
</span><span style="color:black">TRANGROUP:403E </span><span style="color:gray">CERROR_PARSEJ</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:403E                 </span><span style="color:navy">mov     </span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">2</span> ; parse_msg_class
<span style="color:black">TRANGROUP:4043
</span><span style="color:black">TRANGROUP:4043 </span><span style="color:gray">CERROR4J</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4043                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:4046 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4046
</span><span style="color:black">TRANGROUP:4046 </span><span style="color:gray">ACOUNTOK</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4046                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, offset </span>DestIsDir ; offset DestVars
<span style="color:black">TRANGROUP:4049                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:404B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GOT2ARGS</span>
<span style="color:black">TRANGROUP:404D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span>CURDRV
<span style="color:black">TRANGROUP:4050                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">'A'</span>
<span style="color:black">TRANGROUP:4052                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:4054                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">2</span> ; [bp+VARSTRUC.SIZ]
<span style="color:black">TRANGROUP:4058                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>DestBuf
<span style="color:black">TRANGROUP:405B                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:405C                 </span><span style="color:navy">mov     </span>ARG2S<span style="color:navy">, </span><span style="color:#ff8000">0</span>        ; [DestSwitch]
<span style="color:black">TRANGROUP:4062                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">2</span> ; [bp+VARSTRUC.INFO]
<span style="color:black">TRANGROUP:4066                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [bp+VARSTRUC.ISDIR]
<span style="color:black">TRANGROUP:406A                 </span><span style="color:navy">call    </span>SETSTARS
<span style="color:black">TRANGROUP:406D
</span><span style="color:black">TRANGROUP:406D </span><span style="color:gray">GOT2ARGS</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:406D                 </span><span style="color:navy">cmp     byte ptr [bp+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:4071                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOTSHORTDEST</span>
<span style="color:black">TRANGROUP:4073                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">':'</span>         ; 3Ah
<span style="color:black">TRANGROUP:4075                 </span><span style="color:navy">cmp     </span>DestBuf<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4079                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOTSHORTDEST</span>
<span style="color:black">TRANGROUP:407B                 </span><span style="color:navy">or      byte ptr [bp+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:407F                 </span><span style="color:navy">mov     di</span><span style="color:navy">, (offset </span>DestBuf<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:4082                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4086                 </span><span style="color:navy">call    </span>SETSTARS
<span style="color:black">TRANGROUP:4089
</span><span style="color:black">TRANGROUP:4089 </span><span style="color:gray">NOTSHORTDEST</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4089                 </span><span style="color:navy">mov     di</span><span style="color:navy">, [bp+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>      ; [bp+VARSTRUC.TTAIL]
<span style="color:black">TRANGROUP:408C                 </span><span style="color:navy">cmp     byte ptr [di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:408F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CHKSWTCHES</span>
<span style="color:black">TRANGROUP:4091                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>badcd_ptr
<span style="color:black">TRANGROUP:4094                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:4096                 </span><span style="color:navy">cmp     [di-</span><span style="color:green">2</span><span style="color:navy">]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4099                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CERROR4J</span>
<span style="color:black">TRANGROUP:409B                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:409F                 </span><span style="color:navy">or      byte ptr [bp+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">6</span>
<span style="color:black">TRANGROUP:40A3                 </span><span style="color:navy">call    </span>SETSTARS
<span style="color:black">TRANGROUP:40A6
</span><span style="color:black">TRANGROUP:40A6 </span><span style="color:gray">CHKSWTCHES</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:40A6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span>ARGTS
<span style="color:black">TRANGROUP:40A9                 </span><span style="color:navy">test    ax</span><span style="color:navy">, </span><span style="color:green">10h</span>         ; SwitchV
<span style="color:black">TRANGROUP:40AC                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOVERIF</span>
<span style="color:black">TRANGROUP:40AE                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">54h</span>
<span style="color:black">TRANGROUP:40B0                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET VERIFY FLAG
<span style="color:black">TRANGROUP:40B0                                         </span>; Return: AL = 00h if flag OFF
<span style="color:black">TRANGROUP:40B0                                         </span>; AL = 01h if flag ON
<span style="color:black">TRANGROUP:40B2                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:40B3                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, </span>RESSEG
<span style="color:black">TRANGROUP:40B7                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:40B7                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:40B9                 </span><span style="color:navy">mov     ds:</span>VerVal<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:40BC                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:40BD                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">2E01h</span>
<span style="color:black">TRANGROUP:40C0                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET VERIFY FLAG
<span style="color:black">TRANGROUP:40C0                                         </span>; DL = 00h, AL = 01h VERIFY on / 00h VERIFY off
<span style="color:black">TRANGROUP:40C2
</span><span style="color:black">TRANGROUP:40C2 </span><span style="color:gray">NOVERIF</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:40C2                 </span><span style="color:navy">xor     bp</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:40C4                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>
<span style="color:black">TRANGROUP:40C7                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:green">'+'</span>         ; plus_chr ; 2Bh
<span style="color:black">TRANGROUP:40C9
</span><span style="color:black">TRANGROUP:40C9 </span><span style="color:gray">SCANFSRC</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:40C9                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>ScanBuf
<span style="color:black">TRANGROUP:40CC                 </span><span style="color:navy">call    </span>cparse
<span style="color:black">TRANGROUP:40CF                 </span><span style="color:navy">test    bh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:40D2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SCANFSRC</span>
<span style="color:black">TRANGROUP:40D4                 </span><span style="color:navy">or      ds:</span>ARG2S<span style="color:navy">, bp</span>    ; [DestSwitch]
<span style="color:black">TRANGROUP:40D8                 </span><span style="color:navy">test    bp</span><span style="color:navy">, </span><span style="color:green">8</span>
<span style="color:black">TRANGROUP:40DC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOSETCASC</span>
<span style="color:black">TRANGROUP:40DE                 </span><span style="color:navy">cmp     ds:</span>PARM1<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; [Concat]
<span style="color:black">TRANGROUP:40E3                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOSETCASC</span>
<span style="color:black">TRANGROUP:40E5                 </span><span style="color:navy">mov     ds:</span>ASCII<span style="color:navy">, </span><span style="color:#ff8000">4</span>     ; SWITCHA
<span style="color:black">TRANGROUP:40EA
</span><span style="color:black">TRANGROUP:40EA </span><span style="color:gray">NOSETCASC</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:40EA                 </span><span style="color:navy">call    </span>SOURCE_SET
<span style="color:black">TRANGROUP:40ED                 </span><span style="color:navy">call    </span>FRSTSRC
<span style="color:black">TRANGROUP:40F0                 </span><span style="color:navy">jmp     </span><span style="color:gray">FIRSTENT</span>
<span style="color:black">TRANGROUP:40F0 </span>COPY            endp
<span style="color:black">TRANGROUP:40F0
</span><span style="color:black">TRANGROUP:40F3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:40F3 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR COPY
</span><span style="color:black">TRANGROUP:40F3
</span><span style="color:black">TRANGROUP:40F3 </span>ENDCOPY<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:40F3                 </span><span style="color:navy">call    </span>CLOSEDEST
<span style="color:black">TRANGROUP:40F6
</span><span style="color:black">TRANGROUP:40F6 </span>ENDCOPY2<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:40F6                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>copied_ptr
<span style="color:black">TRANGROUP:40F9                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>FileCnt
<span style="color:black">TRANGROUP:40FD                 </span><span style="color:navy">mov     ds:</span>Copy_num<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:4101                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:4104                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:4107 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4107
</span><span style="color:black">TRANGROUP:4107 </span><span style="color:gray">SRCNONEXIST</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4107                 </span><span style="color:navy">cmp     ds:</span>PARM1<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; [Concat]
<span style="color:black">TRANGROUP:410C                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NEXTSRC</span>
<span style="color:black">TRANGROUP:410E                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; ext_msg_class
<span style="color:black">TRANGROUP:4113                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:4116                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, </span><span style="color:#ff8000">2</span> ; ERROR_FILE_NOT_FOUND
<span style="color:black">TRANGROUP:411C                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, offset </span>SrcBuf
<span style="color:black">TRANGROUP:4122                 </span><span style="color:navy">mov     ds:</span>extend_buf_sub<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; one_subst
<span style="color:black">TRANGROUP:4127                 </span><span style="color:navy">jmp     </span>COPYERR
<span style="color:black">TRANGROUP:4127 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR COPY
</span><span style="color:black">TRANGROUP:412A
</span><span style="color:black">TRANGROUP:412A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:412A
</span><span style="color:black">TRANGROUP:412A
</span><span style="color:black">TRANGROUP:412A </span>SOURCEPROC      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:412A                 </span><span style="color:navy">call    </span>SOURCE_SET
<span style="color:black">TRANGROUP:412D                 </span><span style="color:navy">cmp     ds:</span>PARM1<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; [Concat]
<span style="color:black">TRANGROUP:4132                 </span><span style="color:navy">jnz     short </span>LEAVECFLAG
<span style="color:black">TRANGROUP:4132 </span>SOURCEPROC      endp
<span style="color:black">TRANGROUP:4132
</span><span style="color:black">TRANGROUP:4134
</span><span style="color:black">TRANGROUP:4134 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4134
</span><span style="color:black">TRANGROUP:4134
</span><span style="color:black">TRANGROUP:4134 </span>FRSTSRC         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4134                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4136                 </span><span style="color:navy">mov     ds:</span>CFLAG<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4139                 </span><span style="color:navy">mov     ds:</span>NXTADD<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:413C                 </span><span style="color:navy">mov     ds:</span>SPECDRV<span style="color:navy">, al</span>  ; [DestClosed]
<span style="color:black">TRANGROUP:413F
</span><span style="color:black">TRANGROUP:413F </span>LEAVECFLAG<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:413F                 </span><span style="color:navy">mov     ds:</span>SRCPT<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:4143                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>USERDIR1
<span style="color:black">TRANGROUP:4146                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, offset </span>SrcIsDir ; offset SrcVars
<span style="color:black">TRANGROUP:4149                 </span><span style="color:navy">call    </span>BUILDPATH
<span style="color:black">TRANGROUP:414C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>SrcTail
<span style="color:black">TRANGROUP:4150                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4150 </span>FRSTSRC         endp
<span style="color:black">TRANGROUP:4150
</span><span style="color:black">TRANGROUP:4151 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4151 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR COPY
</span><span style="color:black">TRANGROUP:4151
</span><span style="color:black">TRANGROUP:4151 </span><span style="color:gray">NEXTSRC</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4151                 </span><span style="color:navy">cmp     ds:</span>PLUS<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4156                 </span><span style="color:navy">jnz     short </span><span style="color:gray">MORECP</span>
<span style="color:black">TRANGROUP:4158
</span><span style="color:black">TRANGROUP:4158 </span><span style="color:gray">ENDCOPYJ2</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4158                 </span><span style="color:navy">jmp     short </span>ENDCOPY
<span style="color:black">TRANGROUP:415A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:415A
</span><span style="color:black">TRANGROUP:415A </span><span style="color:gray">MORECP</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:415A                 </span><span style="color:navy">xor     bp</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:415C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>SRCPT
<span style="color:black">TRANGROUP:4160                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:green">'+'</span>
<span style="color:black">TRANGROUP:4162
</span><span style="color:black">TRANGROUP:4162 </span><span style="color:gray">SCANSRC</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4162                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>ScanBuf
<span style="color:black">TRANGROUP:4165                 </span><span style="color:navy">call    </span>cparse
<span style="color:black">TRANGROUP:4168                 </span><span style="color:navy">jb      short </span><span style="color:gray">ENDCOPYJ2</span>
<span style="color:black">TRANGROUP:416A                 </span><span style="color:navy">test    bh</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:416D                 </span><span style="color:navy">jz      short </span><span style="color:gray">ENDCOPYJ2</span>
<span style="color:black">TRANGROUP:416F                 </span><span style="color:navy">test    bh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:4172                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SCANSRC</span>
<span style="color:black">TRANGROUP:4174                 </span><span style="color:navy">call    </span>SOURCEPROC
<span style="color:black">TRANGROUP:4177                 </span><span style="color:navy">cmp     ds:</span>comma<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:417C                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOSTAMP</span>
<span style="color:black">TRANGROUP:417E                 </span><span style="color:navy">mov     ds:</span>plus_comma<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:4183                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SRCNONEXIST</span>
<span style="color:black">TRANGROUP:4185 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4185
</span><span style="color:black">TRANGROUP:4185 </span><span style="color:gray">NOSTAMP</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4185                 </span><span style="color:navy">mov     ds:</span>plus_comma<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:418A
</span><span style="color:black">TRANGROUP:418A </span><span style="color:gray">FIRSTENT</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:418A                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">5Ch</span>         ; FCB
<span style="color:black">TRANGROUP:418D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">2900h</span>
<span style="color:black">TRANGROUP:4190                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - PARSE FILENAME
<span style="color:black">TRANGROUP:4190                                         </span>; DS:SI -&gt; string to parse
<span style="color:black">TRANGROUP:4190                                         </span>; ES:DI -&gt; buffer to fill with unopened FCB
<span style="color:black">TRANGROUP:4190                                         </span>; AL = bit mask to control parsing
<span style="color:black">TRANGROUP:4192                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4195                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SRCHDONE</span>
<span style="color:black">TRANGROUP:4197                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, word ptr ds:</span>SrcBuf
<span style="color:black">TRANGROUP:419A                 </span><span style="color:navy">cmp     ah</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:419D                 </span><span style="color:navy">jz      short </span><span style="color:gray">DRVSPEC1</span>
<span style="color:black">TRANGROUP:419F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">40h</span> <span style="color:gray">; '@'
</span><span style="color:black">TRANGROUP:41A1
</span><span style="color:black">TRANGROUP:41A1 </span><span style="color:gray">DRVSPEC1</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:41A1                 </span><span style="color:navy">or      al</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:41A3                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">60h</span>
<span style="color:black">TRANGROUP:41A5                 </span><span style="color:navy">mov     ds:</span><span style="color:green">5Ch</span><span style="color:navy">, al</span>      ; mov [FCB],al
<span style="color:black">TRANGROUP:41A8                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">11h</span>         ; DIR_SEARCH_FIRST
<span style="color:black">TRANGROUP:41AA                 </span><span style="color:navy">call    </span>SEARCH
<span style="color:black">TRANGROUP:41AD
</span><span style="color:black">TRANGROUP:41AD </span><span style="color:gray">SRCHDONE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:41AD                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:41AE                 </span><span style="color:navy">call    </span>RestUDir1
<span style="color:black">TRANGROUP:41B1                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:41B2                 </span><span style="color:navy">jz      short </span><span style="color:gray">NEXTAMBIG0</span>
<span style="color:black">TRANGROUP:41B4                 </span><span style="color:navy">jmp     </span><span style="color:gray">SRCNONEXIST</span>
<span style="color:black">TRANGROUP:41B7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:41B7
</span><span style="color:black">TRANGROUP:41B7 </span><span style="color:gray">NEXTAMBIG0</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:41B7                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:41B9                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, ds:</span>FRSTSRCH
<span style="color:black">TRANGROUP:41BD                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:41BF                 </span><span style="color:navy">jz      short </span><span style="color:gray">NEXTAMBIG</span>
<span style="color:black">TRANGROUP:41C1
</span><span style="color:black">TRANGROUP:41C1 </span><span style="color:gray">SETNMEL</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:41C1                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">12</span>
<span style="color:black">TRANGROUP:41C4                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>SDIRBUF
<span style="color:black">TRANGROUP:41C7                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>BWDBUF ; offset DIRBUF
<span style="color:black">TRANGROUP:41CA                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:41CC
</span><span style="color:black">TRANGROUP:41CC </span><span style="color:gray">NEXTAMBIG</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:41CC                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:41CE                 </span><span style="color:navy">mov     ds:</span>NOWRITE<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:41D1                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ds:</span>SrcTail
<span style="color:black">TRANGROUP:41D5                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>BWDBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">)</span> ; offset DIRBUF+1
<span style="color:black">TRANGROUP:41D8                 </span><span style="color:navy">call    </span>FCB_TO_ASCZ
<span style="color:black">TRANGROUP:41DB
</span><span style="color:black">TRANGROUP:41DB </span><span style="color:gray">MELDO0</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:41DB                 </span><span style="color:navy">cmp     ds:</span>cox_y_override<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; /Y switch override (question) enabled ?
<span style="color:black">TRANGROUP:41E0                 </span><span style="color:navy">jz      short </span><span style="color:gray">MELDO</span>     ; no
<span style="color:black">TRANGROUP:41E2                 </span><span style="color:navy">call    </span>BUILDDEST
<span style="color:black">TRANGROUP:41E5                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>SrcBuf
<span style="color:black">TRANGROUP:41E8                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>SRCXNAME
<span style="color:black">TRANGROUP:41EB                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">60h</span>         ; xNameTrans
<span style="color:black">TRANGROUP:41ED                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - RESOLVE PATH STRING TO CANONICAL PATH STRING
<span style="color:black">TRANGROUP:41ED                                         </span>; DS:SI -&gt; ASCIZ relative path string or directory name
<span style="color:black">TRANGROUP:41ED                                         </span>; ES:DI -&gt; 128-byte buffer for ASCIZ canonical fully qualified name
<span style="color:black">TRANGROUP:41EF                 </span><span style="color:navy">call    </span>COMPNAME
<span style="color:black">TRANGROUP:41F2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">MELDO1</span>    ; different file names
<span style="color:black">TRANGROUP:41F4                 </span><span style="color:navy">cmp     ds:</span>PARM1<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; [Concat]
<span style="color:black">TRANGROUP:41F9                 </span><span style="color:navy">jnz     short </span><span style="color:gray">MELDO1</span>    ; concatenating
<span style="color:black">TRANGROUP:41FB                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>file_name_ptr
<span style="color:black">TRANGROUP:41FE                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:4201                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:4204                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>OVERWR_PTR ; &quot;File cannot be copied onto itself&quot;
<span style="color:black">TRANGROUP:4207                 </span><span style="color:navy">jmp     </span>COPYERR
<span style="color:black">TRANGROUP:420A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:420A
</span><span style="color:black">TRANGROUP:420A </span><span style="color:gray">MELDO1</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:420A                 </span><span style="color:navy">cmp     ds:</span>CFLAG<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; destination file created flag
<span style="color:black">TRANGROUP:420F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">MELDO</span>     ; yes, new (created) file
<span style="color:black">TRANGROUP:420F                                         </span>; no, overwrite question (must be confirmed)
<span style="color:black">TRANGROUP:4211                 </span><span style="color:navy">call    </span>get_answer_YNA
<span style="color:black">TRANGROUP:4214                 </span><span style="color:navy">jb      short </span><span style="color:gray">MELDO2</span>    ; answer is no
<span style="color:black">TRANGROUP:4216                 </span><span style="color:navy">cmp     ds:</span>PARM1<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; [Concat]
<span style="color:black">TRANGROUP:421B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">MELDO</span>
<span style="color:black">TRANGROUP:421D                 </span><span style="color:navy">cmp     ds:</span>cox_dest_file<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; is there a (valid) target file ?
<span style="color:black">TRANGROUP:4222                 </span><span style="color:navy">jnz     short </span><span style="color:gray">DOREAD</span>    ; yes
<span style="color:black">TRANGROUP:4224                 </span><span style="color:navy">jmp     short </span><span style="color:gray">MELDO</span>     ; no, destination/target file does not exist
<span style="color:black">TRANGROUP:4226 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4226
</span><span style="color:black">TRANGROUP:4226 </span><span style="color:gray">MELDO2</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4226                 </span><span style="color:navy">cmp     ds:</span>MELCOPY<span style="color:navy">, </span><span style="color:#ff8000">0</span>   ; is 'Mel Hallerman copy' false ?
<span style="color:black">TRANGROUP:422B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">MELDO3</span>    ; no (, it is true)
<span style="color:black">TRANGROUP:422D                 </span><span style="color:navy">cmp     ds:</span>PARM1<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; [Concat]
<span style="color:black">TRANGROUP:4232                 </span><span style="color:navy">jz      short </span><span style="color:gray">MELDO4</span>
<span style="color:black">TRANGROUP:4234
</span><span style="color:black">TRANGROUP:4234 </span><span style="color:gray">MELDO3</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4234                 </span><span style="color:navy">mov     ds:</span>SPECDRV<span style="color:navy">, </span><span style="color:#ff8000">1</span>   ; [DestClosed]
<span style="color:black">TRANGROUP:4239                 </span><span style="color:navy">jmp     </span>ENDCOPY
<span style="color:black">TRANGROUP:423C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:423C
</span><span style="color:black">TRANGROUP:423C </span><span style="color:gray">MELDO4</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:423C                 </span><span style="color:navy">call    </span>SEARCHNEXT
<span style="color:black">TRANGROUP:423F                 </span><span style="color:navy">jz      short </span><span style="color:gray">NEXTAMBIG</span>
<span style="color:black">TRANGROUP:4241                 </span><span style="color:navy">cmp     ds:</span>cox_src_file<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4246                 </span><span style="color:navy">jz      short </span><span style="color:gray">MELDO5</span>
<span style="color:black">TRANGROUP:4248                 </span><span style="color:navy">jmp     </span><span style="color:gray">NEXTSRC</span>
<span style="color:black">TRANGROUP:424B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:424B
</span><span style="color:black">TRANGROUP:424B </span><span style="color:gray">MELDO5</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:424B                 </span><span style="color:navy">mov     ds:</span>SPECDRV<span style="color:navy">, </span><span style="color:#ff8000">1</span>   ; [DestClosed]
<span style="color:black">TRANGROUP:4250                 </span><span style="color:navy">jmp     </span><span style="color:gray">NEXTSRC</span>
<span style="color:black">TRANGROUP:4253 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4253
</span><span style="color:black">TRANGROUP:4253 </span><span style="color:gray">MELDO</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4253                 </span><span style="color:navy">cmp     ds:</span>PARM1<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; [Concat]
<span style="color:black">TRANGROUP:4258                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SHOWCPNAM</span>
<span style="color:black">TRANGROUP:425A                 </span><span style="color:navy">test    ds:</span>SrcInfo<span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:425F                 </span><span style="color:navy">jz      short </span><span style="color:gray">DOREAD</span>
<span style="color:black">TRANGROUP:4261
</span><span style="color:black">TRANGROUP:4261 </span><span style="color:gray">SHOWCPNAM</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4261                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>file_name_ptr
<span style="color:black">TRANGROUP:4264                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:4267                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:426A
</span><span style="color:black">TRANGROUP:426A </span><span style="color:gray">DOREAD</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:426A                 </span><span style="color:navy">call    </span>DOCOPY
<span style="color:black">TRANGROUP:426D                 </span><span style="color:navy">cmp     ds:</span>PARM1<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; [Concat]
<span style="color:black">TRANGROUP:4272                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NODCLOSE</span>
<span style="color:black">TRANGROUP:4274                 </span><span style="color:navy">call    </span>CLOSEDEST
<span style="color:black">TRANGROUP:4277                 </span><span style="color:navy">jb      short </span><span style="color:gray">NODCLOSE</span>
<span style="color:black">TRANGROUP:4279                 </span><span style="color:navy">mov     ds:</span>CFLAG<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; clear new file (created) flag
<span style="color:black">TRANGROUP:427E
</span><span style="color:black">TRANGROUP:427E </span><span style="color:gray">NODCLOSE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:427E                 </span><span style="color:navy">cmp     ds:</span>PARM1<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; [Concat]
<span style="color:black">TRANGROUP:4283                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOFLUSH</span>
<span style="color:black">TRANGROUP:4285                 </span><span style="color:navy">call    </span>FlshFil
<span style="color:black">TRANGROUP:4288                 </span><span style="color:navy">test    ds:</span>MELCOPY<span style="color:navy">, </span><span style="color:green">0FFh</span>
<span style="color:black">TRANGROUP:428D                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOFLUSH</span>
<span style="color:black">TRANGROUP:428F                 </span><span style="color:navy">jmp     short </span><span style="color:gray">DOMELCOPY</span>
<span style="color:black">TRANGROUP:4291 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4291
</span><span style="color:black">TRANGROUP:4291 </span><span style="color:gray">NOFLUSH</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4291                 </span><span style="color:navy">call    </span>SEARCHNEXT
<span style="color:black">TRANGROUP:4294                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NEXTSRCJ</span>
<span style="color:black">TRANGROUP:4296                 </span><span style="color:navy">mov     ds:</span>SPECDRV<span style="color:navy">, </span><span style="color:#ff8000">0</span>   ; [DestClosed]
<span style="color:black">TRANGROUP:429B                 </span><span style="color:navy">jmp     </span><span style="color:gray">NEXTAMBIG</span>
<span style="color:black">TRANGROUP:429E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:429E
</span><span style="color:black">TRANGROUP:429E </span><span style="color:gray">DOMELCOPY</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:429E                 </span><span style="color:navy">cmp     ds:</span>MELCOPY<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:42A3                 </span><span style="color:navy">jz      short </span><span style="color:gray">CONTMEL</span>
<span style="color:black">TRANGROUP:42A5                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>SRCPT
<span style="color:black">TRANGROUP:42A9                 </span><span style="color:navy">mov     ds:</span>MELSTART<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:42AD                 </span><span style="color:navy">mov     ds:</span>MELCOPY<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:42B2
</span><span style="color:black">TRANGROUP:42B2 </span><span style="color:gray">CONTMEL</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:42B2                 </span><span style="color:navy">xor     bp</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:42B4                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>SRCPT
<span style="color:black">TRANGROUP:42B8                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:green">'+'</span>         ; 2Bh
<span style="color:black">TRANGROUP:42BA
</span><span style="color:black">TRANGROUP:42BA </span><span style="color:gray">SCANSRC2</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:42BA                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>ScanBuf
<span style="color:black">TRANGROUP:42BD                 </span><span style="color:navy">call    </span>cparse
<span style="color:black">TRANGROUP:42C0                 </span><span style="color:navy">test    bh</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:42C3                 </span><span style="color:navy">jz      short </span><span style="color:gray">NEXTMEL</span>
<span style="color:black">TRANGROUP:42C5                 </span><span style="color:navy">test    bh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:42C8                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SCANSRC2</span>
<span style="color:black">TRANGROUP:42CA                 </span><span style="color:navy">call    </span>SOURCEPROC
<span style="color:black">TRANGROUP:42CD                 </span><span style="color:navy">call    </span>RestUDir1
<span style="color:black">TRANGROUP:42D0                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>IDLEN ; offset DESTFCB2
<span style="color:black">TRANGROUP:42D3                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">2900h</span>
<span style="color:black">TRANGROUP:42D6                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - PARSE FILENAME
<span style="color:black">TRANGROUP:42D6                                         </span>; DS:SI -&gt; string to parse
<span style="color:black">TRANGROUP:42D6                                         </span>; ES:DI -&gt; buffer to fill with unopened FCB
<span style="color:black">TRANGROUP:42D6                                         </span>; AL = bit mask to control parsing
<span style="color:black">TRANGROUP:42D8                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, (offset </span>SDIRBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:42DB                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ID   ; offset DESTFCB2+1
<span style="color:black">TRANGROUP:42DE                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ds:</span>SrcTail
<span style="color:black">TRANGROUP:42E2                 </span><span style="color:navy">call    </span>BUILDNAME
<span style="color:black">TRANGROUP:42E5                 </span><span style="color:navy">cmp     ds:</span>PARM1<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; [Concat]
<span style="color:black">TRANGROUP:42EA                 </span><span style="color:navy">jz      short </span><span style="color:gray">MELDOJ</span>
<span style="color:black">TRANGROUP:42EC                 </span><span style="color:navy">mov     ds:</span>NOWRITE<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:42F1
</span><span style="color:black">TRANGROUP:42F1 </span><span style="color:gray">MELDOJ</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:42F1                 </span><span style="color:navy">jmp     </span><span style="color:gray">MELDO0</span>
<span style="color:black">TRANGROUP:42F4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:42F4
</span><span style="color:black">TRANGROUP:42F4 </span><span style="color:gray">NEXTSRCJ</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:42F4                 </span><span style="color:navy">jmp     </span><span style="color:gray">NEXTSRC</span>
<span style="color:black">TRANGROUP:42F7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:42F7
</span><span style="color:black">TRANGROUP:42F7 </span><span style="color:gray">NEXTMEL</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:42F7                 </span><span style="color:navy">call    </span>CLOSEDEST
<span style="color:black">TRANGROUP:42FA                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:42FC                 </span><span style="color:navy">mov     ds:</span>CFLAG<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:42FF                 </span><span style="color:navy">mov     ds:</span>NXTADD<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4302                 </span><span style="color:navy">mov     ds:</span>SPECDRV<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4305                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>MELSTART
<span style="color:black">TRANGROUP:4309                 </span><span style="color:navy">mov     ds:</span>SRCPT<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:430D                 </span><span style="color:navy">call    </span>SEARCHNEXT
<span style="color:black">TRANGROUP:4310                 </span><span style="color:navy">jz      short </span><span style="color:gray">SETNMELJ</span>
<span style="color:black">TRANGROUP:4312                 </span><span style="color:navy">jmp     </span>ENDCOPY2
<span style="color:black">TRANGROUP:4315 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4315
</span><span style="color:black">TRANGROUP:4315 </span><span style="color:gray">SETNMELJ</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4315                 </span><span style="color:navy">jmp     </span><span style="color:gray">SETNMEL</span>
<span style="color:black">TRANGROUP:4315 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR COPY
</span><span style="color:black">TRANGROUP:4318
</span><span style="color:black">TRANGROUP:4318 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4318
</span><span style="color:black">TRANGROUP:4318
</span><span style="color:black">TRANGROUP:4318 </span>SEARCHNEXT      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4318                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">12h</span>         ; DIR_SEARCH_NEXT
<span style="color:black">TRANGROUP:431A                 </span><span style="color:navy">test    ds:</span>SrcInfo<span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:431F                 </span><span style="color:navy">jnz     short </span>SEARCH
<span style="color:black">TRANGROUP:4321                 </span><span style="color:navy">or      ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:4323                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4323 </span>SEARCHNEXT      endp
<span style="color:black">TRANGROUP:4323
</span><span style="color:black">TRANGROUP:4324
</span><span style="color:black">TRANGROUP:4324 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4324
</span><span style="color:black">TRANGROUP:4324
</span><span style="color:black">TRANGROUP:4324 </span>SEARCH          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4324                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:4325                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">1Ah</span>
<span style="color:black">TRANGROUP:4327                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BWDBUF
<span style="color:black">TRANGROUP:432A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - SET DISK TRANSFER AREA ADDRESS
<span style="color:black">TRANGROUP:432A                                         </span>; DS:DX -&gt; disk transfer buffer
<span style="color:black">TRANGROUP:432C                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:432D                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">5Ch</span>
<span style="color:black">TRANGROUP:4330                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS -
<span style="color:black">TRANGROUP:4332                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4334                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4334 </span>SEARCH          endp
<span style="color:black">TRANGROUP:4334
</span><span style="color:black">TRANGROUP:4335
</span><span style="color:black">TRANGROUP:4335 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4335
</span><span style="color:black">TRANGROUP:4335
</span><span style="color:black">TRANGROUP:4335 </span>DOCOPY          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4335                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>SrcBuf
<span style="color:black">TRANGROUP:4338                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>SRCXNAME
<span style="color:black">TRANGROUP:433B                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">60h</span>
<span style="color:black">TRANGROUP:433D                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - RESOLVE PATH STRING TO CANONICAL PATH STRING
<span style="color:black">TRANGROUP:433D                                         </span>; DS:SI -&gt; ASCIZ relative path string or directory name
<span style="color:black">TRANGROUP:433D                                         </span>; ES:DI -&gt; 128-byte buffer for ASCIZ canonical fully qualified name
<span style="color:black">TRANGROUP:433F                 </span><span style="color:navy">mov     ds:</span>IFNOTFLAG<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [RDEOF]
<span style="color:black">TRANGROUP:4344                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">6C00h</span>
<span style="color:black">TRANGROUP:4347                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:434A                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:434C                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">101h</span>
<span style="color:black">TRANGROUP:434F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 4.0 - EXTENDED OPEN/CREATE
<span style="color:black">TRANGROUP:434F                                         </span>; BL = open mode as in AL for normal open (INT 21h/AH=3Dh)
<span style="color:black">TRANGROUP:434F                                         </span>; BH = flags, CX = create attribute, DL = action if file exists/does not exists
<span style="color:black">TRANGROUP:434F                                         </span>; DH = 00h (reserved), DS:SI -&gt; ASCIZ file name
<span style="color:black">TRANGROUP:4351                 </span><span style="color:navy">jnb     short </span><span style="color:gray">OPENOK</span>
<span style="color:black">TRANGROUP:4353
</span><span style="color:black">TRANGROUP:4353 </span><span style="color:navy">loc_6A33:
</span><span style="color:black">TRANGROUP:4353                 </span><span style="color:navy">jmp     short </span><span style="color:gray">Error_On_Source</span>
<span style="color:black">TRANGROUP:4355 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4355
</span><span style="color:black">TRANGROUP:4355 </span><span style="color:gray">OPENOK</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4355                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4357                 </span><span style="color:navy">mov     ds:</span>SRCHAND<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:435B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5700h</span>
<span style="color:black">TRANGROUP:435E                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET FILE'S DATE/TIME
<span style="color:black">TRANGROUP:435E                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:4360                 </span><span style="color:navy">jb      short </span><span style="color:gray">Error_On_Source</span>
<span style="color:black">TRANGROUP:4362                 </span><span style="color:navy">mov     ds:</span>CPDATE<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:4366                 </span><span style="color:navy">mov     ds:</span>CPTIME<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:436A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">No_Copy_Xa</span>
<span style="color:black">TRANGROUP:436C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:436C
</span><span style="color:black">TRANGROUP:436C </span><span style="color:gray">Error_On_Source</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:436C                 </span><span style="color:navy">call    </span>Set_Ext_Error_Msg
<span style="color:black">TRANGROUP:436F                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, offset </span>SrcBuf
<span style="color:black">TRANGROUP:4375                 </span><span style="color:navy">mov     ds:</span>extend_buf_sub<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:437A                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:437D                 </span><span style="color:navy">cmp     ds:</span>SRCHAND<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4382                 </span><span style="color:navy">jz      short </span><span style="color:gray">No_Close_Src</span>
<span style="color:black">TRANGROUP:4384                 </span><span style="color:navy">call    </span>CLOSESRC
<span style="color:black">TRANGROUP:4387
</span><span style="color:black">TRANGROUP:4387 </span><span style="color:gray">No_Close_Src</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4387                 </span><span style="color:navy">cmp     ds:</span>CFLAG<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:438C                 </span><span style="color:navy">jz      short </span><span style="color:gray">EndCopyJ3</span>
<span style="color:black">TRANGROUP:438E                 </span><span style="color:navy">jmp     </span>ENDCOPY
<span style="color:black">TRANGROUP:4391 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4391
</span><span style="color:black">TRANGROUP:4391 </span><span style="color:gray">EndCopyJ3</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4391                 </span><span style="color:navy">jmp     </span>ENDCOPY2
<span style="color:black">TRANGROUP:4394 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4394
</span><span style="color:black">TRANGROUP:4394 </span><span style="color:gray">No_Copy_Xa</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4394                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>SRCHAND
<span style="color:black">TRANGROUP:4398                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4400h</span>
<span style="color:black">TRANGROUP:439B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - GET DEVICE INFORMATION
<span style="color:black">TRANGROUP:439B                                         </span>; BX = file or device handle
<span style="color:black">TRANGROUP:439D                 </span><span style="color:navy">and     dl</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:43A0                 </span><span style="color:navy">mov     ds:</span>SRCISDEV<span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:43A4                 </span><span style="color:navy">jz      short </span><span style="color:gray">COPYLP</span>
<span style="color:black">TRANGROUP:43A6                 </span><span style="color:navy">cmp     ds:</span>BINARY<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:43AB                 </span><span style="color:navy">jz      short </span><span style="color:gray">COPYLP</span>
<span style="color:black">TRANGROUP:43AD                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>INBDEV_PTR
<span style="color:black">TRANGROUP:43B0                 </span><span style="color:navy">jmp     </span>COPYERR
<span style="color:black">TRANGROUP:43B3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:43B3
</span><span style="color:black">TRANGROUP:43B3 </span><span style="color:gray">COPYLP</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:43B3                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>SRCHAND
<span style="color:black">TRANGROUP:43B7                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>BYTCNT
<span style="color:black">TRANGROUP:43BB                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>NXTADD
<span style="color:black">TRANGROUP:43BF                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:43C1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">GOTROOM</span>
<span style="color:black">TRANGROUP:43C3                 </span><span style="color:navy">call    </span>FlshFil
<span style="color:black">TRANGROUP:43C6                 </span><span style="color:navy">cmp     ds:</span>TERMREAD<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:43CB                 </span><span style="color:navy">jnz     short </span>CLOSESRC
<span style="color:black">TRANGROUP:43CD                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>BYTCNT
<span style="color:black">TRANGROUP:43D1
</span><span style="color:black">TRANGROUP:43D1 </span><span style="color:gray">GOTROOM</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:43D1                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:43D2                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:43D6                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Fh</span>
<span style="color:black">TRANGROUP:43D8                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - READ FROM FILE WITH HANDLE
<span style="color:black">TRANGROUP:43D8                                         </span>; BX = file handle, CX = number of bytes to read
<span style="color:black">TRANGROUP:43D8                                         </span>; DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:43DA                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:43DB                 </span><span style="color:navy">jb      short </span><span style="color:gray">Error_On_Source</span>
<span style="color:black">TRANGROUP:43DD                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:43DF                 </span><span style="color:navy">jcxz    short </span>CLOSESRC
<span style="color:black">TRANGROUP:43E1                 </span><span style="color:navy">cmp     ds:</span>SRCISDEV<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:43E6                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOTESTA</span>
<span style="color:black">TRANGROUP:43E8                 </span><span style="color:navy">cmp     ds:</span>ASCII<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:43ED                 </span><span style="color:navy">jz      short </span><span style="color:gray">BINREAD</span>
<span style="color:black">TRANGROUP:43EF
</span><span style="color:black">TRANGROUP:43EF </span><span style="color:gray">NOTESTA</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:43EF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:43F1                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ds:</span>NXTADD
<span style="color:black">TRANGROUP:43F5                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1Ah</span>
<span style="color:black">TRANGROUP:43F7                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:43F8                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:43FC                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:43FE                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:43FF                 </span><span style="color:navy">jnz     short </span><span style="color:gray">USEALL</span>
<span style="color:black">TRANGROUP:4401                 </span><span style="color:navy">inc     ds:</span>IFNOTFLAG    ; inc byte [RDEOF]
<span style="color:black">TRANGROUP:4405                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:4406
</span><span style="color:black">TRANGROUP:4406 </span><span style="color:gray">USEALL</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4406                 </span><span style="color:navy">sub     dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:4408                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:440A
</span><span style="color:black">TRANGROUP:440A </span><span style="color:gray">BINREAD</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:440A                 </span><span style="color:navy">add     cx</span><span style="color:navy">, ds:</span>NXTADD
<span style="color:black">TRANGROUP:440E                 </span><span style="color:navy">mov     ds:</span>NXTADD<span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:4412                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, ds:</span>BYTCNT
<span style="color:black">TRANGROUP:4416                 </span><span style="color:navy">jb      short </span><span style="color:gray">TESTDEV</span>
<span style="color:black">TRANGROUP:4418                 </span><span style="color:navy">call    </span>FlshFil
<span style="color:black">TRANGROUP:441B                 </span><span style="color:navy">cmp     ds:</span>TERMREAD<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4420                 </span><span style="color:navy">jnz     short </span>CLOSESRC
<span style="color:black">TRANGROUP:4422                 </span><span style="color:navy">jmp     short </span><span style="color:gray">COPYLP</span>
<span style="color:black">TRANGROUP:4424 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4424
</span><span style="color:black">TRANGROUP:4424 </span><span style="color:gray">TESTDEV</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4424                 </span><span style="color:navy">cmp     ds:</span>SRCISDEV<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4429                 </span><span style="color:navy">jz      short </span>CLOSESRC
<span style="color:black">TRANGROUP:442B                 </span><span style="color:navy">cmp     ds:</span>IFNOTFLAG<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; cmp byte [RDEOF],0
<span style="color:black">TRANGROUP:4430                 </span><span style="color:navy">jz      short </span><span style="color:gray">COPYLP</span>
<span style="color:black">TRANGROUP:4430 </span>DOCOPY          endp
<span style="color:black">TRANGROUP:4430
</span><span style="color:black">TRANGROUP:4432
</span><span style="color:black">TRANGROUP:4432 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4432
</span><span style="color:black">TRANGROUP:4432
</span><span style="color:black">TRANGROUP:4432 </span>CLOSESRC        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4432                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>SRCHAND
<span style="color:black">TRANGROUP:4436                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">TRANGROUP:4438                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">TRANGROUP:4438                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:443A
</span><span style="color:black">TRANGROUP:443A </span>CLOSESRCDEST_RETN<span style="color:navy">:                      </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:443A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:443A </span>CLOSESRC        endp
<span style="color:black">TRANGROUP:443A
</span><span style="color:black">TRANGROUP:443B
</span><span style="color:black">TRANGROUP:443B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:443B
</span><span style="color:black">TRANGROUP:443B
</span><span style="color:black">TRANGROUP:443B </span>CLOSEDEST       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:443B
</span><span style="color:black">TRANGROUP:443B </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:4511 SIZE 00000012 BYTES
</span><span style="color:black">TRANGROUP:443B
</span><span style="color:black">TRANGROUP:443B                 </span><span style="color:navy">cmp     ds:</span>SPECDRV<span style="color:navy">, </span><span style="color:#ff8000">0</span>   ; byte [DestClosed]
<span style="color:black">TRANGROUP:4440                 </span><span style="color:navy">jnz     short </span>CLOSESRCDEST_RETN
<span style="color:black">TRANGROUP:4442                 </span><span style="color:navy">mov     al</span><span style="color:navy">, byte ptr ds:</span>ARG2S ; byte [DestSwitch]
<span style="color:black">TRANGROUP:4445                 </span><span style="color:navy">call    </span>SETASC
<span style="color:black">TRANGROUP:4448                 </span><span style="color:navy">jz      short </span><span style="color:gray">BINCLOS</span>
<span style="color:black">TRANGROUP:444A                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>NXTADD
<span style="color:black">TRANGROUP:444E                 </span><span style="color:navy">call    </span>TRYFLUSH
<span style="color:black">TRANGROUP:4451                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOCONC</span>
<span style="color:black">TRANGROUP:4453
</span><span style="color:black">TRANGROUP:4453 </span><span style="color:gray">CONCHNG</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4453                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:4454                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4455 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4455
</span><span style="color:black">TRANGROUP:4455 </span><span style="color:gray">NOCONC</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4455                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:4457                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:4458                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:445C                 </span><span style="color:navy">mov     word ptr [bx]</span><span style="color:navy">, </span><span style="color:#ff8000">1Ah</span> ; EOF mark (ctrl-Z)
<span style="color:black">TRANGROUP:4460                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:4461                 </span><span style="color:navy">inc     ds:</span>NXTADD
<span style="color:black">TRANGROUP:4465                 </span><span style="color:navy">mov     ds:</span>NOWRITE<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:446A                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>WRITTEN
<span style="color:black">TRANGROUP:446D                 </span><span style="color:navy">add     ax</span><span style="color:navy">, ds:</span>NXTADD
<span style="color:black">TRANGROUP:4471                 </span><span style="color:navy">jb      short </span><span style="color:gray">BINCLOS</span>
<span style="color:black">TRANGROUP:4473                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:4476                 </span><span style="color:navy">jz      short </span><span style="color:gray">FORGETITJ</span>
<span style="color:black">TRANGROUP:4478
</span><span style="color:black">TRANGROUP:4478 </span><span style="color:gray">BINCLOS</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4478                 </span><span style="color:navy">call    </span>TRYFLUSH
<span style="color:black">TRANGROUP:447B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CONCHNG</span>
<span style="color:black">TRANGROUP:447D                 </span><span style="color:navy">cmp     ds:</span>WRITTEN<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4482
</span><span style="color:black">TRANGROUP:4482 </span><span style="color:gray">FORGETITJ</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4482                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NO_FORGET</span>
<span style="color:black">TRANGROUP:4484                 </span><span style="color:navy">jmp     </span><span style="color:gray">FORGETIT</span>
<span style="color:black">TRANGROUP:4487 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4487
</span><span style="color:black">TRANGROUP:4487 </span><span style="color:gray">NO_FORGET</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4487                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>EndDestBuf ; [DESTHAND]
<span style="color:black">TRANGROUP:448B                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>CPTIME
<span style="color:black">TRANGROUP:448F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>CPDATE
<span style="color:black">TRANGROUP:4493                 </span><span style="color:navy">cmp     ds:</span>INEXACT<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4498                 </span><span style="color:navy">jz      short </span>DODCLOSE
<span style="color:black">TRANGROUP:449A                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2Ch</span>
<span style="color:black">TRANGROUP:449C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET CURRENT TIME
<span style="color:black">TRANGROUP:449C                                         </span>; Return: CH = hours, CL = minutes, DH = seconds
<span style="color:black">TRANGROUP:449C                                         </span>; DL = hundredths of seconds
<span style="color:black">TRANGROUP:449E                 </span><span style="color:navy">shl     cl</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:44A0                 </span><span style="color:navy">shl     cl</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:44A2                 </span><span style="color:navy">shl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:44A4                 </span><span style="color:navy">shl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:44A6                 </span><span style="color:navy">shl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:44A8                 </span><span style="color:navy">shr     dh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:44AA                 </span><span style="color:navy">or      cl</span><span style="color:navy">, dh</span>
<span style="color:black">TRANGROUP:44AC                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:44AD                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">2Ah</span>
<span style="color:black">TRANGROUP:44AF                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - GET CURRENT DATE
<span style="color:black">TRANGROUP:44AF                                         </span>; Return: DL = day, DH = month, CX = year
<span style="color:black">TRANGROUP:44AF                                         </span>; AL = day of the week (0=Sunday, 1=Monday, etc.)
<span style="color:black">TRANGROUP:44B1                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, </span><span style="color:green">1980</span>
<span style="color:black">TRANGROUP:44B5                 </span><span style="color:navy">xchg    ch</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:44B7                 </span><span style="color:navy">shl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:44B9                 </span><span style="color:navy">shl     dh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:44BB                 </span><span style="color:navy">shl     dh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:44BD                 </span><span style="color:navy">shl     dh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:44BF                 </span><span style="color:navy">shl     dh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:44C1                 </span><span style="color:navy">shl     dh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:44C3                 </span><span style="color:navy">adc     ch</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:44C6                 </span><span style="color:navy">or      dl</span><span style="color:navy">, dh</span>
<span style="color:black">TRANGROUP:44C8                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:44CA                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:44CA </span>CLOSEDEST       endp
<span style="color:black">TRANGROUP:44CA
</span><span style="color:black">TRANGROUP:44CB
</span><span style="color:black">TRANGROUP:44CB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:44CB
</span><span style="color:black">TRANGROUP:44CB
</span><span style="color:black">TRANGROUP:44CB </span>DODCLOSE        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:44CB                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:44CE                 </span><span style="color:navy">jle     short </span><span style="color:gray">CLOSEDONE</span>
<span style="color:black">TRANGROUP:44D0                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5701h</span>
<span style="color:black">TRANGROUP:44D3                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - SET FILE'S DATE/TIME
<span style="color:black">TRANGROUP:44D3                                         </span>; BX = file handle, CX = time to be set
<span style="color:black">TRANGROUP:44D3                                         </span>; DX = date to be set
<span style="color:black">TRANGROUP:44D5                 </span><span style="color:navy">jb      short </span><span style="color:gray">Cleanup_Err</span>
<span style="color:black">TRANGROUP:44D7                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4202h</span>
<span style="color:black">TRANGROUP:44DA                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:44DC                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:44DE                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:black">TRANGROUP:44DE                                         </span>; AL = method: offset from end of file
<span style="color:black">TRANGROUP:44E0                 </span><span style="color:navy">or      dx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:44E2                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:44E3                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4400h</span>
<span style="color:black">TRANGROUP:44E6                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - GET DEVICE INFORMATION
<span style="color:black">TRANGROUP:44E6                                         </span>; BX = file or device handle
<span style="color:black">TRANGROUP:44E8                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:44E9                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">TRANGROUP:44EB                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">TRANGROUP:44EB                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:44ED                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:44EE                 </span><span style="color:navy">jnb     short </span><span style="color:gray">Close_Cont</span>
<span style="color:black">TRANGROUP:44F0                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:44F1
</span><span style="color:black">TRANGROUP:44F1 </span><span style="color:gray">Cleanup_Err</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:44F1                 </span><span style="color:navy">call    </span>CleanUpErr
<span style="color:black">TRANGROUP:44F4                 </span><span style="color:navy">call    </span>DestDelete
<span style="color:black">TRANGROUP:44F7                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FILECLOSED</span>
<span style="color:black">TRANGROUP:44F9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:44F9
</span><span style="color:black">TRANGROUP:44F9 </span><span style="color:gray">Close_Cont</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:44F9                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:44FA                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CLOSEDONE</span>
<span style="color:black">TRANGROUP:44FC                 </span><span style="color:navy">test    dx</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:4500                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CLOSEDONE</span>
<span style="color:black">TRANGROUP:4502                 </span><span style="color:navy">call    </span>DestDelete
<span style="color:black">TRANGROUP:4505                 </span><span style="color:navy">jmp     short </span><span style="color:gray">FILECLOSED</span>
<span style="color:black">TRANGROUP:4507 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4507
</span><span style="color:black">TRANGROUP:4507 </span><span style="color:gray">CLOSEDONE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4507                 </span><span style="color:navy">inc     ds:</span>FileCnt
<span style="color:black">TRANGROUP:450B
</span><span style="color:black">TRANGROUP:450B </span><span style="color:gray">FILECLOSED</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:450B                 </span><span style="color:navy">inc     ds:</span>SPECDRV      ; [DestClosed]
<span style="color:black">TRANGROUP:450F
</span><span style="color:black">TRANGROUP:450F </span>RET50<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:450F                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:4510                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4510 </span>DODCLOSE        endp
<span style="color:black">TRANGROUP:4510
</span><span style="color:black">TRANGROUP:4511 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4511 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR CLOSEDEST
</span><span style="color:black">TRANGROUP:4511
</span><span style="color:black">TRANGROUP:4511 </span><span style="color:gray">FORGETIT</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4511                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>EndDestBuf ; [DESTHAND]
<span style="color:black">TRANGROUP:4515                 </span><span style="color:navy">call    </span>DODCLOSE
<span style="color:black">TRANGROUP:4518                 </span><span style="color:navy">call    </span>DestDelete
<span style="color:black">TRANGROUP:451B                 </span><span style="color:navy">mov     ds:</span>FileCnt<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4521                 </span><span style="color:navy">jmp     short </span>RET50
<span style="color:black">TRANGROUP:4521 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR CLOSEDEST
</span><span style="color:black">TRANGROUP:4523
</span><span style="color:black">TRANGROUP:4523 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4523
</span><span style="color:black">TRANGROUP:4523
</span><span style="color:black">TRANGROUP:4523 </span>DestDelete      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4523                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DestBuf
<span style="color:black">TRANGROUP:4526                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">41h</span>
<span style="color:black">TRANGROUP:4528                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - DELETE A FILE (UNLINK)
<span style="color:black">TRANGROUP:4528                                         </span>; DS:DX -&gt; ASCIZ pathname of file to delete (no wildcards allowed)
<span style="color:black">TRANGROUP:452A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:452A </span>DestDelete      endp
<span style="color:black">TRANGROUP:452A
</span><span style="color:black">TRANGROUP:452B
</span><span style="color:black">TRANGROUP:452B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:452B
</span><span style="color:black">TRANGROUP:452B
</span><span style="color:black">TRANGROUP:452B </span>SOURCE_SET      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:452B                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:452C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>STARTEL
<span style="color:black">TRANGROUP:452F                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>ScanBuf
<span style="color:black">TRANGROUP:4532                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:4534                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>SrcBuf
<span style="color:black">TRANGROUP:4537                 </span><span style="color:navy">add     ax</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:4539                 </span><span style="color:navy">mov     ds:</span>SrcTail<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:453C                 </span><span style="color:navy">mov     ds:</span>SrcSiz<span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:4540                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:4541                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:4543                 </span><span style="color:navy">mov     ds:</span>SrcInfo<span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:4547                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:4548                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:454A                 </span><span style="color:navy">call    </span>SETASC
<span style="color:black">TRANGROUP:454D                 </span><span style="color:navy">call    </span>SWITCH
<span style="color:black">TRANGROUP:4550                 </span><span style="color:navy">call    </span>SETASC
<span style="color:black">TRANGROUP:4553                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4553 </span>SOURCE_SET      endp
<span style="color:black">TRANGROUP:4553
</span><span style="color:black">TRANGROUP:4554
</span><span style="color:black">TRANGROUP:4554 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4554
</span><span style="color:black">TRANGROUP:4554
</span><span style="color:black">TRANGROUP:4554 </span>CleanUpErr      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4554                 </span><span style="color:navy">cmp     ds:</span>msg_flag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4559                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CleanupErr_Cont</span>
<span style="color:black">TRANGROUP:455B                 </span><span style="color:navy">call    </span>Set_Ext_Error_Msg
<span style="color:black">TRANGROUP:455E                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, offset </span>DestBuf
<span style="color:black">TRANGROUP:4564                 </span><span style="color:navy">mov     ds:</span>extend_buf_sub<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; one_subst
<span style="color:black">TRANGROUP:4569                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:456C
</span><span style="color:black">TRANGROUP:456C </span><span style="color:gray">CleanupErr_Cont</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:456C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:456C </span>CleanUpErr      endp
<span style="color:black">TRANGROUP:456C
</span><span style="color:black">TRANGROUP:456D
</span><span style="color:black">TRANGROUP:456D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:456D
</span><span style="color:black">TRANGROUP:456D
</span><span style="color:black">TRANGROUP:456D </span>get_answer_YNA  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:456D                 </span><span style="color:navy">mov     ds:</span>cox_dest_file<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; clear validation flag
<span style="color:black">TRANGROUP:4572                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4300h</span>
<span style="color:black">TRANGROUP:4575                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DestBuf
<span style="color:black">TRANGROUP:4578                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET FILE ATTRIBUTES
<span style="color:black">TRANGROUP:4578                                         </span>; DS:DX -&gt; ASCIZ file name or directory
<span style="color:black">TRANGROUP:4578                                         </span>; name without trailing slash
<span style="color:black">TRANGROUP:457A                 </span><span style="color:navy">jnb     short </span><span style="color:gray">getansw_1</span>
<span style="color:black">TRANGROUP:457C                 </span><span style="color:navy">jmp     </span><span style="color:gray">getansw_5</span>
<span style="color:black">TRANGROUP:457F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:457F
</span><span style="color:black">TRANGROUP:457F </span><span style="color:gray">getansw_1</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:457F                 </span><span style="color:navy">inc     ds:</span>cox_dest_file ; valid destination file
<span style="color:black">TRANGROUP:4583                 </span><span style="color:navy">lea     si</span><span style="color:navy">, </span>cox_sublist_buff
<span style="color:black">TRANGROUP:4587                 </span><span style="color:navy">mov     word ptr [si]</span><span style="color:navy">, </span><span style="color:green">11</span> ; sublist size, 11 bytes
<span style="color:black">TRANGROUP:458B                 </span><span style="color:navy">mov     word ptr [si+</span><span style="color:green">2</span><span style="color:navy">]</span><span style="color:navy">, offset </span>DestBuf ; sublist value (pointer)
<span style="color:black">TRANGROUP:4590                 </span><span style="color:navy">mov     word ptr [si+</span><span style="color:green">4</span><span style="color:navy">]</span><span style="color:navy">, ds</span> ; sublist segment
<span style="color:black">TRANGROUP:4593                 </span><span style="color:navy">mov     byte ptr [si+</span><span style="color:green">6</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">1</span> ; sub id (N of %N)
<span style="color:black">TRANGROUP:4597                 </span><span style="color:navy">mov     byte ptr [si+</span><span style="color:green">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">10h</span> ; data type flags
<span style="color:black">TRANGROUP:459B                 </span><span style="color:navy">mov     byte ptr [si+</span><span style="color:green">8</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; maximum length (chars)
<span style="color:black">TRANGROUP:459F                 </span><span style="color:navy">mov     byte ptr [si+</span><span style="color:green">9</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; minimum length (chars)
<span style="color:black">TRANGROUP:45A3                 </span><span style="color:navy">mov     byte ptr [si+</span><span style="color:green">10</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; pad field character (0)
<span style="color:black">TRANGROUP:45A7                 </span><span style="color:navy">lea     si</span><span style="color:navy">, </span>cox_sublist_buff
<span style="color:black">TRANGROUP:45AB                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">1103</span>        ; message number
<span style="color:black">TRANGROUP:45AB                                         </span>; 'Overwrite %1 (Yes/No/All)?'
<span style="color:black">TRANGROUP:45AE                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; std error (file handle = 2)
<span style="color:black">TRANGROUP:45B1                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; byte count
<span style="color:black">TRANGROUP:45B4                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; message class (utility)
<span style="color:black">TRANGROUP:45B6                 </span><span style="color:navy">xor     dl</span><span style="color:navy">, dl</span>          ; control flag = 0
<span style="color:black">TRANGROUP:45B8                 </span><span style="color:navy">call    </span>SYSDISPMSG
<span style="color:black">TRANGROUP:45BB                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:45BD
</span><span style="color:black">TRANGROUP:45BD </span><span style="color:gray">getansw_2</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:45BD                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0C08h</span>
<span style="color:black">TRANGROUP:45C0                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - CLEAR KEYBOARD BUFFER
<span style="color:black">TRANGROUP:45C0                                         </span>; AL must be 01h, 06h, 07h, 08h, or 0Ah.
<span style="color:black">TRANGROUP:45C2                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:45C4                 </span><span style="color:navy">jz      short </span><span style="color:gray">getansw_2</span>
<span style="color:black">TRANGROUP:45C6                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:45C8                 </span><span style="color:navy">jz      short </span><span style="color:gray">getansw_4</span>
<span style="color:black">TRANGROUP:45CA                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:45CC                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:45CE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">6520h</span>
<span style="color:black">TRANGROUP:45D1                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 4.x internal - COUNTRY-DEPENDENT FILENAME CAPITALIZATION
<span style="color:black">TRANGROUP:45D1                                         </span>; AL = function -
<span style="color:black">TRANGROUP:45D3                 </span><span style="color:navy">cmp     dl</span><span style="color:navy">, ds:</span>_Y_es    ; 'Y' ?
<span style="color:black">TRANGROUP:45D7                 </span><span style="color:navy">jz      short </span><span style="color:gray">getansw_3</span>
<span style="color:black">TRANGROUP:45D9                 </span><span style="color:navy">cmp     dl</span><span style="color:navy">, ds:</span>_N_o     ; 'N' ?
<span style="color:black">TRANGROUP:45DD                 </span><span style="color:navy">jz      short </span><span style="color:gray">getansw_3</span>
<span style="color:black">TRANGROUP:45DF                 </span><span style="color:navy">cmp     dl</span><span style="color:navy">, ds:</span>_A_ll    ; 'A' ?
<span style="color:black">TRANGROUP:45E3                 </span><span style="color:navy">jnz     short </span><span style="color:gray">getansw_2</span>
<span style="color:black">TRANGROUP:45E5
</span><span style="color:black">TRANGROUP:45E5 </span><span style="color:gray">getansw_3</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:45E5                 </span><span style="color:navy">mov     bh</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:45E7                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:45E8                 </span><span style="color:navy">mov     ds:</span>MSG_1104<span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:45EC                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:45EE                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; std error (file handle = 2)
<span style="color:black">TRANGROUP:45F1                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; byte count
<span style="color:black">TRANGROUP:45F4                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>MSG_1104
<span style="color:black">TRANGROUP:45F7                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - WRITE TO FILE WITH HANDLE
<span style="color:black">TRANGROUP:45F7                                         </span>; BX = file handle, CX = number of bytes to write, DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:45F9                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:45FB                 </span><span style="color:navy">mov     ds:</span>MSG_1104<span style="color:navy">, </span><span style="color:#ff8000">8</span>  ; backspace (move cursor to back)
<span style="color:black">TRANGROUP:4600                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - WRITE TO FILE WITH HANDLE
<span style="color:black">TRANGROUP:4600                                         </span>; BX = file handle, CX = number of bytes to write, DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:4602                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:4603                 </span><span style="color:navy">jmp     short </span><span style="color:gray">getansw_2</span>
<span style="color:black">TRANGROUP:4605 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4605
</span><span style="color:black">TRANGROUP:4605 </span><span style="color:gray">getansw_4</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4605                 </span><span style="color:navy">cmp     bh</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4608                 </span><span style="color:navy">jz      short </span><span style="color:gray">getansw_2</span>
<span style="color:black">TRANGROUP:460A                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:460C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">6520h</span>
<span style="color:black">TRANGROUP:460F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 4.x internal - COUNTRY-DEPENDENT FILENAME CAPITALIZATION
<span style="color:black">TRANGROUP:460F                                         </span>; AL = function -
<span style="color:black">TRANGROUP:4611                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:4612                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">1070</span>        ; message number
<span style="color:black">TRANGROUP:4615                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; std error (file handle = 2)
<span style="color:black">TRANGROUP:4618                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:461A                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; message class (utility)
<span style="color:black">TRANGROUP:461C                 </span><span style="color:navy">xor     dl</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:461E                 </span><span style="color:navy">call    </span>SYSDISPMSG
<span style="color:black">TRANGROUP:4621                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:4622                 </span><span style="color:navy">cmp     dl</span><span style="color:navy">, ds:</span>_Y_es
<span style="color:black">TRANGROUP:4626                 </span><span style="color:navy">jz      short </span><span style="color:gray">getansw_5</span>
<span style="color:black">TRANGROUP:4628                 </span><span style="color:navy">cmp     dl</span><span style="color:navy">, ds:</span>_N_o
<span style="color:black">TRANGROUP:462C                 </span><span style="color:navy">jz      short </span><span style="color:gray">getansw_6</span>
<span style="color:black">TRANGROUP:462E                 </span><span style="color:navy">mov     ds:</span>cox_y_override<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4633                 </span><span style="color:navy">jmp     short $+</span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:4635
</span><span style="color:black">TRANGROUP:4635 </span><span style="color:gray">getansw_5</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4635                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:4636                 </span><span style="color:navy">jmp     short </span><span style="color:gray">getansw_7</span>
<span style="color:black">TRANGROUP:4638 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4638
</span><span style="color:black">TRANGROUP:4638 </span><span style="color:gray">getansw_6</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4638                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:4639
</span><span style="color:black">TRANGROUP:4639 </span><span style="color:gray">getansw_7</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4639                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4639 </span>get_answer_YNA  endp
<span style="color:black">TRANGROUP:4639
</span><span style="color:black">TRANGROUP:463A
</span><span style="color:black">TRANGROUP:463A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:463A
</span><span style="color:black">TRANGROUP:463A
</span><span style="color:black">TRANGROUP:463A </span>init_copycmd_option proc near           <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:463A                 </span><span style="color:navy">mov     ds:</span>cox_y_override<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; suppress copy overwrite confirmation
<span style="color:black">TRANGROUP:463F                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:4640                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:4644                 </span><span style="color:navy">mov     es</span><span style="color:navy">, es:</span>EnvirSeg
<span style="color:black">TRANGROUP:4649                 </span><span style="color:navy">lea     si</span><span style="color:navy">, </span>copycmd     <span style="color:gray">; &quot;COPYCMD=&quot;
</span><span style="color:black">TRANGROUP:464D                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:black">TRANGROUP:4650                 </span><span style="color:navy">call    </span>getenv_copycmd
<span style="color:black">TRANGROUP:4653                 </span><span style="color:navy">jb      short </span><span style="color:gray">icpcmd_3</span>
<span style="color:black">TRANGROUP:4655                 </span><span style="color:navy">call    </span>get_copycmd_option ; copycmd=/Y or copycmd=/-Y
<span style="color:black">TRANGROUP:4658                 </span><span style="color:navy">jb      short </span><span style="color:gray">icpcmd_2</span>
<span style="color:black">TRANGROUP:465A                 </span><span style="color:navy">inc     di</span>              ; skip '/'
<span style="color:black">TRANGROUP:465B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:465E                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">0DFh</span>        ; convert to uppercase
<span style="color:black">TRANGROUP:4660                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'Y'</span>
<span style="color:black">TRANGROUP:4662                 </span><span style="color:navy">jnz     short </span><span style="color:gray">icpcmd_2</span>
<span style="color:black">TRANGROUP:4664
</span><span style="color:black">TRANGROUP:4664 </span><span style="color:gray">icpcmd_1</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4664                 </span><span style="color:navy">mov     ds:</span>cox_y_override<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; clear copy overwrite question/confirmation
<span style="color:black">TRANGROUP:4664                                         </span>; (don't suppress)
<span style="color:black">TRANGROUP:4669
</span><span style="color:black">TRANGROUP:4669 </span><span style="color:gray">icpcmd_2</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4669                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:466A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:466B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:466B
</span><span style="color:black">TRANGROUP:466B </span><span style="color:gray">icpcmd_3</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:466B                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:466F                 </span><span style="color:navy">cmp     es:</span>cox_Y_option<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; default (/Y) switch option (1 = enabled)
<span style="color:black">TRANGROUP:4675                 </span><span style="color:navy">jz      short </span><span style="color:gray">icpcmd_2</span>
<span style="color:black">TRANGROUP:4677                 </span><span style="color:navy">jmp     short </span><span style="color:gray">icpcmd_1</span>
<span style="color:black">TRANGROUP:4677 </span>init_copycmd_option endp
<span style="color:black">TRANGROUP:4677
</span><span style="color:black">TRANGROUP:4679
</span><span style="color:black">TRANGROUP:4679 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4679
</span><span style="color:black">TRANGROUP:4679
</span><span style="color:black">TRANGROUP:4679 </span>get_copycmd_option proc near            <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4679                 </span><span style="color:navy">cmp     byte ptr es:[di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:467D                 </span><span style="color:navy">jz      short </span><span style="color:gray">gcpcmdo_2</span>
<span style="color:black">TRANGROUP:467F                 </span><span style="color:navy">cmp     byte ptr es:[di]</span><span style="color:navy">, </span><span style="color:green">'/'</span>
<span style="color:black">TRANGROUP:4683                 </span><span style="color:navy">jz      short </span><span style="color:gray">gcpcmdo_1</span>
<span style="color:black">TRANGROUP:4685                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:4686                 </span><span style="color:navy">jmp     short </span>get_copycmd_option
<span style="color:black">TRANGROUP:4688 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4688
</span><span style="color:black">TRANGROUP:4688 </span><span style="color:gray">gcpcmdo_1</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4688                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:4689                 </span><span style="color:navy">jmp     short </span><span style="color:gray">gcpcmdo_3</span>
<span style="color:black">TRANGROUP:468B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:468B
</span><span style="color:black">TRANGROUP:468B </span><span style="color:gray">gcpcmdo_2</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:468B                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:468C
</span><span style="color:black">TRANGROUP:468C </span><span style="color:gray">gcpcmdo_3</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:468C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:468C </span>get_copycmd_option endp
<span style="color:black">TRANGROUP:468C
</span><span style="color:black">TRANGROUP:468D
</span><span style="color:black">TRANGROUP:468D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:468D
</span><span style="color:black">TRANGROUP:468D
</span><span style="color:black">TRANGROUP:468D </span>getenv_copycmd  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:468D                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:468F                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4691
</span><span style="color:black">TRANGROUP:4691 </span><span style="color:gray">gecpcmd_1</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4691                 </span><span style="color:navy">cmp     byte ptr es:[di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4695                 </span><span style="color:navy">jz      short </span><span style="color:gray">gecpcmd_3</span>
<span style="color:black">TRANGROUP:4697                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:4698                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:4699                 </span><span style="color:navy">repe cmpsb
</span><span style="color:black">TRANGROUP:469B                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:469C                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:469D                 </span><span style="color:navy">jz      short </span><span style="color:gray">gecpcmd_2</span>
<span style="color:black">TRANGROUP:469F                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:46A0                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">32768</span>
<span style="color:black">TRANGROUP:46A3                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:46A5                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:46A6                 </span><span style="color:navy">jmp     short </span><span style="color:gray">gecpcmd_1</span>
<span style="color:black">TRANGROUP:46A8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:46A8
</span><span style="color:black">TRANGROUP:46A8 </span><span style="color:gray">gecpcmd_2</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:46A8                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:46A9                 </span><span style="color:navy">jmp     short </span><span style="color:gray">gecpcmd_4</span>
<span style="color:black">TRANGROUP:46AB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:46AB
</span><span style="color:black">TRANGROUP:46AB </span><span style="color:gray">gecpcmd_3</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:46AB                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:46AC
</span><span style="color:black">TRANGROUP:46AC </span><span style="color:gray">gecpcmd_4</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:46AC                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:46AC </span>getenv_copycmd  endp
<span style="color:black">TRANGROUP:46AC
</span><span style="color:black">TRANGROUP:46AD
</span><span style="color:black">TRANGROUP:46AD </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:46AD
</span><span style="color:black">TRANGROUP:46AD
</span><span style="color:black">TRANGROUP:46AD </span>TRYFLUSH        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:46AD                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>PARM1    ; [Concat]
<span style="color:black">TRANGROUP:46B0                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:46B1                 </span><span style="color:navy">call    </span>FlshFil
<span style="color:black">TRANGROUP:46B4                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:46B5                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>PARM1    ; [Concat]
<span style="color:black">TRANGROUP:46B9                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:46B9 </span>TRYFLUSH        endp
<span style="color:black">TRANGROUP:46B9
</span><span style="color:black">TRANGROUP:46BA
</span><span style="color:black">TRANGROUP:46BA </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:46BA
</span><span style="color:black">TRANGROUP:46BA
</span><span style="color:black">TRANGROUP:46BA </span>FlshFil         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:46BA                 </span><span style="color:navy">mov     ds:</span>TERMREAD<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:46BF                 </span><span style="color:navy">cmp     ds:</span>CFLAG<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:46C4                 </span><span style="color:navy">jz      short </span><span style="color:gray">NotExists</span>
<span style="color:black">TRANGROUP:46C6                 </span><span style="color:navy">jmp     </span><span style="color:gray">Exists</span>
<span style="color:black">TRANGROUP:46C9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:46C9
</span><span style="color:black">TRANGROUP:46C9 </span><span style="color:gray">NotExists</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:46C9                 </span><span style="color:navy">call    </span>BUILDDEST
<span style="color:black">TRANGROUP:46CC                 </span><span style="color:navy">call    </span>COMPNAME
<span style="color:black">TRANGROUP:46CF                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ProcDest</span>
<span style="color:black">TRANGROUP:46D1                 </span><span style="color:navy">cmp     ds:</span>SRCISDEV<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:46D6                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ProcDest</span>
<span style="color:black">TRANGROUP:46D8                 </span><span style="color:navy">cmp     ds:</span>PARM1<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; [Concat]
<span style="color:black">TRANGROUP:46DD                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>OVERWR_PTR
<span style="color:black">TRANGROUP:46E0                 </span><span style="color:navy">jnz     short </span><span style="color:gray">No_Concat_Err</span>
<span style="color:black">TRANGROUP:46E2                 </span><span style="color:navy">jmp     </span>COPYERR
<span style="color:black">TRANGROUP:46E5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:46E5
</span><span style="color:black">TRANGROUP:46E5 </span><span style="color:gray">No_Concat_Err</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:46E5                 </span><span style="color:navy">mov     ds:</span>NOWRITE<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:46EA
</span><span style="color:black">TRANGROUP:46EA </span><span style="color:gray">ProcDest</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:46EA                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">6C00h</span>
<span style="color:black">TRANGROUP:46ED                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>DestBuf
<span style="color:black">TRANGROUP:46F0                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">21h</span>
<span style="color:black">TRANGROUP:46F3                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:46F5                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">101h</span>
<span style="color:black">TRANGROUP:46F8                 </span><span style="color:navy">cmp     ds:</span>NOWRITE<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:46FD                 </span><span style="color:navy">jnz     short </span><span style="color:gray">DoDestOpen</span>
<span style="color:black">TRANGROUP:46FF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">112h</span>
<span style="color:black">TRANGROUP:4702
</span><span style="color:black">TRANGROUP:4702 </span><span style="color:gray">DoDestOpen</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4702                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 4.0 - EXTENDED OPEN/CREATE
<span style="color:black">TRANGROUP:4702                                         </span>; BL = open mode as in AL for normal open (INT 21h/AH=3Dh)
<span style="color:black">TRANGROUP:4702                                         </span>; BH = flags, CX = create attribute, DL = action if file exists/does not exists
<span style="color:black">TRANGROUP:4702                                         </span>; DH = 00h (reserved), DS:SI -&gt; ASCIZ file name
<span style="color:black">TRANGROUP:4704                 </span><span style="color:navy">jnb     short </span><span style="color:gray">Dest_Open_Okay</span>
<span style="color:black">TRANGROUP:4706
</span><span style="color:black">TRANGROUP:4706 </span><span style="color:gray">Xa_Set_Error</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4706                 </span><span style="color:navy">call    </span>Set_Ext_Error_Msg
<span style="color:black">TRANGROUP:4709                 </span><span style="color:navy">mov     ds:</span>string_ptr_2<span style="color:navy">, offset </span>DestBuf
<span style="color:black">TRANGROUP:470F                 </span><span style="color:navy">mov     ds:</span>extend_buf_sub<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:4714                 </span><span style="color:navy">jmp     </span>COPYERR
<span style="color:black">TRANGROUP:4717 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4717
</span><span style="color:black">TRANGROUP:4717 </span><span style="color:gray">Dest_Open_Okay</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4717                 </span><span style="color:navy">mov     ds:</span>EndDestBuf<span style="color:navy">, ax</span> ; [DESTHAND]
<span style="color:black">TRANGROUP:471A                 </span><span style="color:navy">mov     ds:</span>CFLAG<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:471F                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4721                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4400h</span>
<span style="color:black">TRANGROUP:4724                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - GET DEVICE INFORMATION
<span style="color:black">TRANGROUP:4724                                         </span>; BX = file or device handle
<span style="color:black">TRANGROUP:4726                 </span><span style="color:navy">mov     ds:</span>DESTISDEV<span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:472A                 </span><span style="color:navy">test    dl</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:472D                 </span><span style="color:navy">jz      short </span><span style="color:gray">Exists</span>
<span style="color:black">TRANGROUP:472F                 </span><span style="color:navy">mov     al</span><span style="color:navy">, byte ptr ds:</span>ARG2S ; [DestSwitch]
<span style="color:black">TRANGROUP:4732                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">0Ch</span>         ; SWITCHA+SWITCHB ; 4+8
<span style="color:black">TRANGROUP:4734                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TestBoth</span>
<span style="color:black">TRANGROUP:4736                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>ASCII
<span style="color:black">TRANGROUP:4739                 </span><span style="color:navy">or      al</span><span style="color:navy">, ds:</span>BINARY
<span style="color:black">TRANGROUP:473D                 </span><span style="color:navy">jz      short </span><span style="color:gray">ExSetA</span>
<span style="color:black">TRANGROUP:473F
</span><span style="color:black">TRANGROUP:473F </span><span style="color:gray">TestBoth</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:473F                 </span><span style="color:navy">jp      short </span><span style="color:gray">Exists</span>
<span style="color:black">TRANGROUP:4741                 </span><span style="color:navy">test    al</span><span style="color:navy">, </span><span style="color:green">8</span>           ; SWITCHB
<span style="color:black">TRANGROUP:4743                 </span><span style="color:navy">jz      short </span><span style="color:gray">Exists</span>
<span style="color:black">TRANGROUP:4745                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4401h</span>
<span style="color:black">TRANGROUP:4748                 </span><span style="color:navy">xor     dh</span><span style="color:navy">, dh</span>
<span style="color:black">TRANGROUP:474A                 </span><span style="color:navy">or      dl</span><span style="color:navy">, </span><span style="color:green">20h</span>         ; devid_RAW
<span style="color:black">TRANGROUP:474D                 </span><span style="color:navy">mov     ds:</span>DESTISDEV<span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:4751                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - SET DEVICE INFORMATION
<span style="color:black">TRANGROUP:4751                                         </span>; BX = device handle, DH = 0
<span style="color:black">TRANGROUP:4751                                         </span>; DL = device information to set (bits 0-7 from function 0)
<span style="color:black">TRANGROUP:4753                 </span><span style="color:navy">jmp     short </span><span style="color:gray">Exists</span>
<span style="color:black">TRANGROUP:4755 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4755                 </span><span style="color:navy">jmp     </span>COPYERR
<span style="color:black">TRANGROUP:4758 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4758
</span><span style="color:black">TRANGROUP:4758 </span><span style="color:gray">ExSetA</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4758                 </span><span style="color:navy">mov     ds:</span>ASCII<span style="color:navy">, </span><span style="color:#ff8000">4</span>     ; SWITCHA
<span style="color:black">TRANGROUP:475D                 </span><span style="color:navy">or      ds:</span>INEXACT<span style="color:navy">, </span><span style="color:green">4</span>   ; SWITCHA
<span style="color:black">TRANGROUP:4762
</span><span style="color:black">TRANGROUP:4762 </span><span style="color:gray">Exists</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4762                 </span><span style="color:navy">cmp     ds:</span>NOWRITE<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4767                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NoChecking</span>
<span style="color:black">TRANGROUP:4769                 </span><span style="color:navy">cmp     ds:</span>plus_comma<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:476E                 </span><span style="color:navy">jz      short </span><span style="color:gray">NoChecking</span>
<span style="color:black">TRANGROUP:4770                 </span><span style="color:navy">call    </span>COMPNAME
<span style="color:black">TRANGROUP:4773                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NoChecking</span>
<span style="color:black">TRANGROUP:4775                 </span><span style="color:navy">cmp     ds:</span>SRCISDEV<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:477A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NoChecking</span>
<span style="color:black">TRANGROUP:477C                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>LOSTERR_PTR
<span style="color:black">TRANGROUP:477F                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:4782                 </span><span style="color:navy">mov     ds:</span>NXTADD<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4788                 </span><span style="color:navy">inc     ds:</span>TERMREAD
<span style="color:black">TRANGROUP:478C
</span><span style="color:black">TRANGROUP:478C </span><span style="color:gray">Ret60</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:478C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:478D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:478D
</span><span style="color:black">TRANGROUP:478D </span><span style="color:gray">NoChecking</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:478D                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>EndDestBuf ; [DESTHAND]
<span style="color:black">TRANGROUP:4791                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:4793                 </span><span style="color:navy">xchg    cx</span><span style="color:navy">, ds:</span>NXTADD
<span style="color:black">TRANGROUP:4797                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">Ret60</span>
<span style="color:black">TRANGROUP:4799                 </span><span style="color:navy">inc     ds:</span>WRITTEN
<span style="color:black">TRANGROUP:479D                 </span><span style="color:navy">cmp     ds:</span>NOWRITE<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:47A2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SeekEnd</span>
<span style="color:black">TRANGROUP:47A4                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:47A6                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:47A7                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:47AB                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:47AD                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - WRITE TO FILE WITH HANDLE
<span style="color:black">TRANGROUP:47AD                                         </span>; BX = file handle, CX = number of bytes to write, DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:47AF                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:47B0                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>NOSPACE_PTR
<span style="color:black">TRANGROUP:47B3                 </span><span style="color:navy">jnb     short </span><span style="color:gray">NoChecking2</span>
<span style="color:black">TRANGROUP:47B5                 </span><span style="color:navy">jmp     </span><span style="color:gray">Xa_Set_Error</span>
<span style="color:black">TRANGROUP:47B8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:47B8
</span><span style="color:black">TRANGROUP:47B8 </span><span style="color:gray">NoChecking2</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:47B8                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:47BA                 </span><span style="color:navy">jz      short </span><span style="color:gray">Ret60</span>
<span style="color:black">TRANGROUP:47BC                 </span><span style="color:navy">test    ds:</span>DESTISDEV<span style="color:navy">, </span><span style="color:green">80h</span> ; devid_ISDEV
<span style="color:black">TRANGROUP:47C1                 </span><span style="color:navy">jz      short </span>COPYERR
<span style="color:black">TRANGROUP:47C3                 </span><span style="color:navy">test    ds:</span>DESTISDEV<span style="color:navy">, </span><span style="color:green">20h</span> ; devid_RAW
<span style="color:black">TRANGROUP:47C8                 </span><span style="color:navy">jnz     short </span><span style="color:gray">DevWrtErr</span>
<span style="color:black">TRANGROUP:47CA                 </span><span style="color:navy">cmp     ds:</span>INEXACT<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:47CF                 </span><span style="color:navy">jnz     short </span><span style="color:gray">Ret60</span>
<span style="color:black">TRANGROUP:47D1                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:47D2                 </span><span style="color:navy">jz      short </span><span style="color:gray">Ret60</span>
<span style="color:black">TRANGROUP:47D4
</span><span style="color:black">TRANGROUP:47D4 </span><span style="color:gray">DevWrtErr</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:47D4                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DEVWMES_PTR
<span style="color:black">TRANGROUP:47D7                 </span><span style="color:navy">jmp     short </span>COPYERR
<span style="color:black">TRANGROUP:47D9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:47D9
</span><span style="color:black">TRANGROUP:47D9 </span><span style="color:gray">SeekEnd</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:47D9                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:47DB                 </span><span style="color:navy">xchg    dx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:47DD                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4201h</span>
<span style="color:black">TRANGROUP:47E0                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:black">TRANGROUP:47E0                                         </span>; AL = method: offset from present location
<span style="color:black">TRANGROUP:47E2                 </span><span style="color:navy">mov     ds:</span>OFilePtr_Lo<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:47E5                 </span><span style="color:navy">mov     ds:</span>OFilePtr_Hi<span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:47E9                 </span><span style="color:navy">cmp     ds:</span>IFNOTFLAG<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; cmp byte [RDEOF],0
<span style="color:black">TRANGROUP:47EE                 </span><span style="color:navy">jz      short </span><span style="color:gray">Ret60</span>
<span style="color:black">TRANGROUP:47F0                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:47F2                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - WRITE TO FILE WITH HANDLE
<span style="color:black">TRANGROUP:47F2                                         </span>; BX = file handle, CX = number of bytes to write, DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:47F4                 </span><span style="color:navy">jb      short </span><span style="color:gray">Xa_Set_Error_Jmp</span>
<span style="color:black">TRANGROUP:47F6                 </span><span style="color:navy">mov     ds:</span>OCtrlZ<span style="color:navy">, </span><span style="color:#ff8000">1Ah</span>
<span style="color:black">TRANGROUP:47FB                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:47FC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:47FC
</span><span style="color:black">TRANGROUP:47FC </span>COPYERR<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:47FC                 </span><span style="color:navy">call    </span>std_eprintf
<span style="color:black">TRANGROUP:47FF
</span><span style="color:black">TRANGROUP:47FF </span>CopErrP<span style="color:navy">:                                </span>; inc byte [DestClosed]
<span style="color:black">TRANGROUP:47FF                 </span><span style="color:navy">inc     ds:</span>SPECDRV
<span style="color:black">TRANGROUP:4803                 </span><span style="color:navy">cmp     ds:</span>CFLAG<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4808                 </span><span style="color:navy">jz      short </span><span style="color:gray">EndCopyJ</span>
<span style="color:black">TRANGROUP:480A                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>EndDestBuf ; [DESTHAND]
<span style="color:black">TRANGROUP:480E                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4811                 </span><span style="color:navy">jle     short </span><span style="color:gray">NoClose</span>
<span style="color:black">TRANGROUP:4813                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>OFilePtr_Hi
<span style="color:black">TRANGROUP:4817                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>OFilePtr_Lo
<span style="color:black">TRANGROUP:481B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:481D                 </span><span style="color:navy">or      ax</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:481F                 </span><span style="color:navy">jz      short </span><span style="color:gray">ceClose</span>
<span style="color:black">TRANGROUP:4821                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4200h</span>
<span style="color:black">TRANGROUP:4824                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
<span style="color:black">TRANGROUP:4824                                         </span>; AL = method: offset from beginning of file
<span style="color:black">TRANGROUP:4826                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:4828                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:482A                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - WRITE TO FILE WITH HANDLE
<span style="color:black">TRANGROUP:482A                                         </span>; BX = file handle, CX = number of bytes to write, DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:482C                 </span><span style="color:navy">cmp     ds:</span>OCtrlZ<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4831                 </span><span style="color:navy">jz      short </span><span style="color:gray">ceClose0</span>
<span style="color:black">TRANGROUP:4833                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:4834                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>OCtrlZ
<span style="color:black">TRANGROUP:4837                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:4839                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - WRITE TO FILE WITH HANDLE
<span style="color:black">TRANGROUP:4839                                         </span>; BX = file handle, CX = number of bytes to write, DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:483B
</span><span style="color:black">TRANGROUP:483B </span><span style="color:gray">ceClose0</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:483B                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">TRANGROUP:483D                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">TRANGROUP:483D                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:483F                 </span><span style="color:navy">jmp     </span>ENDCOPY
<span style="color:black">TRANGROUP:4842 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4842
</span><span style="color:black">TRANGROUP:4842 </span><span style="color:gray">ceClose</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4842                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">TRANGROUP:4844                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">TRANGROUP:4844                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:4846
</span><span style="color:black">TRANGROUP:4846 </span><span style="color:gray">NoClose</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4846                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>DestBuf
<span style="color:black">TRANGROUP:4849                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">41h</span>
<span style="color:black">TRANGROUP:484B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - DELETE A FILE (UNLINK)
<span style="color:black">TRANGROUP:484B                                         </span>; DS:DX -&gt; ASCIZ pathname of file to delete (no wildcards allowed)
<span style="color:black">TRANGROUP:484D                 </span><span style="color:navy">mov     ds:</span>CFLAG<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4852
</span><span style="color:black">TRANGROUP:4852 </span><span style="color:gray">EndCopyJ</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4852                 </span><span style="color:navy">jmp     </span>ENDCOPY
<span style="color:black">TRANGROUP:4855 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4855
</span><span style="color:black">TRANGROUP:4855 </span><span style="color:gray">Xa_Set_Error_Jmp</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4855                 </span><span style="color:navy">jmp     </span><span style="color:gray">Xa_Set_Error</span>
<span style="color:black">TRANGROUP:4855 </span>FlshFil         endp
<span style="color:black">TRANGROUP:4855
</span><span style="color:black">TRANGROUP:4858
</span><span style="color:black">TRANGROUP:4858 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4858
</span><span style="color:black">TRANGROUP:4858
</span><span style="color:black">TRANGROUP:4858 </span>SETASC          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4858                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">0Ch</span>         ; SWITCHA+SWITCHB
<span style="color:black">TRANGROUP:485A                 </span><span style="color:navy">jp      short </span><span style="color:gray">LOADSW</span>
<span style="color:black">TRANGROUP:485C                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:485D                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">8</span>
<span style="color:black">TRANGROUP:485F                 </span><span style="color:navy">mov     ds:</span>BINARY<span style="color:navy">, al</span>   ; SWITCHB
<span style="color:black">TRANGROUP:4862                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:4863                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">4</span>           ; SWITCHA
<span style="color:black">TRANGROUP:4865                 </span><span style="color:navy">mov     ds:</span>ASCII<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4868                 </span><span style="color:navy">or      ds:</span>INEXACT<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:486C
</span><span style="color:black">TRANGROUP:486C </span><span style="color:gray">LOADSW</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:486C                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>ASCII
<span style="color:black">TRANGROUP:486F                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4871                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4871 </span>SETASC          endp
<span style="color:black">TRANGROUP:4871
</span><span style="color:black">TRANGROUP:4872
</span><span style="color:black">TRANGROUP:4872 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4872
</span><span style="color:black">TRANGROUP:4872
</span><span style="color:black">TRANGROUP:4872 </span>BUILDDEST       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4872                 </span><span style="color:navy">cmp     ds:</span>DestIsDir<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; -1
<span style="color:black">TRANGROUP:4877                 </span><span style="color:navy">jnz     short </span><span style="color:gray">KNOWABOUTDEST</span>
<span style="color:black">TRANGROUP:4879                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>USERDIR1
<span style="color:black">TRANGROUP:487C                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, offset </span>DestIsDir ; offset DestVars
<span style="color:black">TRANGROUP:487F                 </span><span style="color:navy">call    </span>BUILDPATH
<span style="color:black">TRANGROUP:4882                 </span><span style="color:navy">call    </span>RestUDir1
<span style="color:black">TRANGROUP:4885
</span><span style="color:black">TRANGROUP:4885 </span><span style="color:gray">KNOWABOUTDEST</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4885                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4887                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, ds:</span>FIRSTDEST
<span style="color:black">TRANGROUP:488B                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:488D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">FIRSTDST</span>
<span style="color:black">TRANGROUP:488F                 </span><span style="color:navy">jmp     </span><span style="color:gray">NOFIRSTDEST</span>
<span style="color:black">TRANGROUP:4892 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4892
</span><span style="color:black">TRANGROUP:4892 </span><span style="color:gray">FIRSTDST</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4892                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ds:</span>DestTail
<span style="color:black">TRANGROUP:4896                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>DESTDIR ; offset DestFcb
<span style="color:black">TRANGROUP:4899                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">2900h</span>
<span style="color:black">TRANGROUP:489C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - PARSE FILENAME
<span style="color:black">TRANGROUP:489C                                         </span>; DS:SI -&gt; string to parse
<span style="color:black">TRANGROUP:489C                                         </span>; ES:DI -&gt; buffer to fill with unopened FCB
<span style="color:black">TRANGROUP:489C                                         </span>; AL = bit mask to control parsing
<span style="color:black">TRANGROUP:489E                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:48A1                 </span><span style="color:navy">jz      short </span><span style="color:gray">GOODPARSE</span>
<span style="color:black">TRANGROUP:48A3                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>FULLDIR_PTR
<span style="color:black">TRANGROUP:48A6                 </span><span style="color:navy">jmp     </span>COPYERR
<span style="color:black">TRANGROUP:48A9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:48A9
</span><span style="color:black">TRANGROUP:48A9 </span><span style="color:gray">GOODPARSE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:48A9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, word ptr ds:</span>DestBuf
<span style="color:black">TRANGROUP:48AC                 </span><span style="color:navy">cmp     ah</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:48AF                 </span><span style="color:navy">jz      short </span><span style="color:gray">DRVSPEC4</span>
<span style="color:black">TRANGROUP:48B1                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">40h</span> <span style="color:gray">; '@'
</span><span style="color:black">TRANGROUP:48B3
</span><span style="color:black">TRANGROUP:48B3 </span><span style="color:gray">DRVSPEC4</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:48B3                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, ds:</span>ASCII
<span style="color:black">TRANGROUP:48B7                 </span><span style="color:navy">or      al</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:48B9                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">60h</span>
<span style="color:black">TRANGROUP:48BB                 </span><span style="color:navy">mov     ds:</span>DESTDIR<span style="color:navy">, al</span>  ; [DestFcb]
<span style="color:black">TRANGROUP:48BE                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>DestInfo
<span style="color:black">TRANGROUP:48C1                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, ds:</span>SrcInfo
<span style="color:black">TRANGROUP:48C5                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">202h</span>
<span style="color:black">TRANGROUP:48C8                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:48CA                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOTMELCOPY</span>
<span style="color:black">TRANGROUP:48CC                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:48CE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOTMELCOPY</span>
<span style="color:black">TRANGROUP:48D0                 </span><span style="color:navy">cmp     ds:</span>PLUS<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:48D5                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOTMELCOPY</span>
<span style="color:black">TRANGROUP:48D7                 </span><span style="color:navy">inc     ds:</span>MELCOPY
<span style="color:black">TRANGROUP:48DB                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:48DD                 </span><span style="color:navy">jmp     short </span><span style="color:gray">SETCONC</span>
<span style="color:black">TRANGROUP:48DF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:48DF
</span><span style="color:black">TRANGROUP:48DF </span><span style="color:gray">NOTMELCOPY</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:48DF                 </span><span style="color:navy">xor     al</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:48E1                 </span><span style="color:navy">and     al</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:48E3                 </span><span style="color:navy">shr     al</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:48E5
</span><span style="color:black">TRANGROUP:48E5 </span><span style="color:gray">SETCONC</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:48E5                 </span><span style="color:navy">or      al</span><span style="color:navy">, ds:</span>PLUS
<span style="color:black">TRANGROUP:48E9                 </span><span style="color:navy">mov     ds:</span>PARM1<span style="color:navy">, al</span>    ; [Concat]
<span style="color:black">TRANGROUP:48EC                 </span><span style="color:navy">shl     al</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:48EE                 </span><span style="color:navy">shl     al</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:48F0                 </span><span style="color:navy">mov     ds:</span>INEXACT<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:48F3                 </span><span style="color:navy">cmp     ds:</span>BINARY<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:48F8                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOFIRSTDEST</span>
<span style="color:black">TRANGROUP:48FA                 </span><span style="color:navy">or      ds:</span>ASCII<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:48FE                 </span><span style="color:navy">or      cl</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:4900                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOFIRSTDEST</span>
<span style="color:black">TRANGROUP:4902                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4904                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOFIRSTDEST</span>
<span style="color:black">TRANGROUP:4906                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ds:</span>NXTADD
<span style="color:black">TRANGROUP:490A                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">NOFIRSTDEST</span>
<span style="color:black">TRANGROUP:490C                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1Ah</span>
<span style="color:black">TRANGROUP:490E                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:490F                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:4911                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>TPA
<span style="color:black">TRANGROUP:4915                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:4917                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:4918                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOFIRSTDEST</span>
<span style="color:black">TRANGROUP:491A                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:491B                 </span><span style="color:navy">mov     ds:</span>NXTADD<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:491F
</span><span style="color:black">TRANGROUP:491F </span><span style="color:gray">NOFIRSTDEST</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:491F                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, (offset </span>BWDBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">)</span> ; DIRBUF+1
<span style="color:black">TRANGROUP:4922                 </span><span style="color:navy">cmp     ds:</span>PARM1<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; [Concat]
<span style="color:black">TRANGROUP:4927                 </span><span style="color:navy">jz      short </span><span style="color:gray">GOTCHRSRC</span>
<span style="color:black">TRANGROUP:4929                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, (offset </span>SDIRBUF<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:492C
</span><span style="color:black">TRANGROUP:492C </span><span style="color:gray">GOTCHRSRC</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:492C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, (offset </span>DESTDIR<span style="color:navy">+</span><span style="color:green">1</span><span style="color:navy">)</span>
<span style="color:black">TRANGROUP:492F                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ds:</span>DestTail
<span style="color:black">TRANGROUP:492F </span>BUILDDEST       endp
<span style="color:black">TRANGROUP:492F
</span><span style="color:black">TRANGROUP:4933
</span><span style="color:black">TRANGROUP:4933 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4933
</span><span style="color:black">TRANGROUP:4933
</span><span style="color:black">TRANGROUP:4933 </span>BUILDNAME       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4933                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:black">TRANGROUP:4936
</span><span style="color:black">TRANGROUP:4936 </span><span style="color:gray">BUILDMAIN</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4936                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:4937                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'?'</span>
<span style="color:black">TRANGROUP:4939                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOTAMBIG</span>
<span style="color:black">TRANGROUP:493B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [bx]</span>
<span style="color:black">TRANGROUP:493D
</span><span style="color:black">TRANGROUP:493D </span><span style="color:gray">NOTAMBIG</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:493D                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:493F                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOSTORE</span>
<span style="color:black">TRANGROUP:4941                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:4942
</span><span style="color:black">TRANGROUP:4942 </span><span style="color:gray">NOSTORE</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4942                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:4943                 </span><span style="color:navy">loop    </span><span style="color:gray">BUILDMAIN</span>
<span style="color:black">TRANGROUP:4945                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:4947                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:4949                 </span><span style="color:navy">cmp     [si]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:494B                 </span><span style="color:navy">jz      short </span><span style="color:gray">ENDDEST</span>
<span style="color:black">TRANGROUP:494D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'.'</span>         ; 2Eh ; dot_chr
<span style="color:black">TRANGROUP:494F                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:4950
</span><span style="color:black">TRANGROUP:4950 </span><span style="color:gray">BUILDEXT</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4950                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:4951                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'?'</span>         ; 3Fh
<span style="color:black">TRANGROUP:4953                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOTAMBIGE</span>
<span style="color:black">TRANGROUP:4955                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [bx]</span>
<span style="color:black">TRANGROUP:4957
</span><span style="color:black">TRANGROUP:4957 </span><span style="color:gray">NOTAMBIGE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4957                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:4959                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOSTOREE</span>
<span style="color:black">TRANGROUP:495B                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:495C
</span><span style="color:black">TRANGROUP:495C </span><span style="color:gray">NOSTOREE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:495C                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:495D                 </span><span style="color:navy">loop    </span><span style="color:gray">BUILDEXT</span>
<span style="color:black">TRANGROUP:495F
</span><span style="color:black">TRANGROUP:495F </span><span style="color:gray">ENDDEST</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:495F                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4961                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:4962                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4962 </span>BUILDNAME       endp
<span style="color:black">TRANGROUP:4962
</span><span style="color:black">TRANGROUP:4963
</span><span style="color:black">TRANGROUP:4963 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4963
</span><span style="color:black">TRANGROUP:4963
</span><span style="color:black">TRANGROUP:4963 </span>BUILDPATH       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4963
</span><span style="color:black">TRANGROUP:4963 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:2078 SIZE 00000011 BYTES
</span><span style="color:black">TRANGROUP:4963
</span><span style="color:black">TRANGROUP:4963                 </span><span style="color:navy">test    byte ptr [bp+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">2</span> ; [bp+VARSTRUC.INFO]
<span style="color:black">TRANGROUP:4967                 </span><span style="color:navy">jnz     short </span><span style="color:gray">NOTPFILE</span>
<span style="color:black">TRANGROUP:4969                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:496B                 </span><span style="color:navy">add     dx</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; add dx,VARSTRUC.BUF
<span style="color:black">TRANGROUP:496E                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:496F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">6C00h</span>
<span style="color:black">TRANGROUP:4972                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">40h</span>         ; deny_none or read_open_mode
<span style="color:black">TRANGROUP:4975                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:4977                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:4979                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:#ff8000">101h</span>        ; read_open_flag
<span style="color:black">TRANGROUP:497C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 4.0 - EXTENDED OPEN/CREATE
<span style="color:black">TRANGROUP:497C                                         </span>; BL = open mode as in AL for normal open (INT 21h/AH=3Dh)
<span style="color:black">TRANGROUP:497C                                         </span>; BH = flags, CX = create attribute, DL = action if file exists/does not exists
<span style="color:black">TRANGROUP:497C                                         </span>; DH = 00h (reserved), DS:SI -&gt; ASCIZ file name
<span style="color:black">TRANGROUP:497E                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:497F                 </span><span style="color:navy">jnb     short </span><span style="color:gray">PURE_FILE</span>
<span style="color:black">TRANGROUP:4981                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:4984                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; ERROR_FILE_NOT_FOUND
<span style="color:black">TRANGROUP:4987                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOTPFILE</span>
<span style="color:black">TRANGROUP:4989                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; ERROR_PATH_NOT_FOUND
<span style="color:black">TRANGROUP:498C                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOTPFILE</span>
<span style="color:black">TRANGROUP:498E                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; ERROR_ACCESS_DENIED
<span style="color:black">TRANGROUP:4991                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOTPFILE</span>
<span style="color:black">TRANGROUP:4993                 </span><span style="color:navy">jmp     </span>extend_setup
<span style="color:black">TRANGROUP:4996 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4996
</span><span style="color:black">TRANGROUP:4996 </span><span style="color:gray">PURE_FILE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4996                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4998                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">4400h</span>
<span style="color:black">TRANGROUP:499B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - IOCTL - GET DEVICE INFORMATION
<span style="color:black">TRANGROUP:499B                                         </span>; BX = file or device handle
<span style="color:black">TRANGROUP:499D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Eh</span>
<span style="color:black">TRANGROUP:499F                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CLOSE A FILE WITH HANDLE
<span style="color:black">TRANGROUP:499F                                         </span>; BX = file handle
<span style="color:black">TRANGROUP:49A1                 </span><span style="color:navy">test    dl</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:49A4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ISADEV</span>
<span style="color:black">TRANGROUP:49A6                 </span><span style="color:navy">test    byte ptr [bp+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">4</span> ; [bp+VARSTRUC.INFO]
<span style="color:black">TRANGROUP:49AA                 </span><span style="color:navy">jz      short </span><span style="color:gray">ISADEV</span>
<span style="color:black">TRANGROUP:49AC
</span><span style="color:black">TRANGROUP:49AC </span><span style="color:gray">NOTPFILE</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:49AC                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, [bp+</span><span style="color:#ff8000">5</span><span style="color:navy">]</span>      ; [bp+VARSTRUC.BUF]
<span style="color:black">TRANGROUP:49AF                 </span><span style="color:navy">cmp     dl</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:49B2                 </span><span style="color:navy">jz      short </span><span style="color:gray">SET_DRIVE_SPEC</span>
<span style="color:black">TRANGROUP:49B4                 </span><span style="color:navy">cmp     dh</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':'
</span><span style="color:black">TRANGROUP:49B7                 </span><span style="color:navy">jz      short </span><span style="color:gray">DRVSPEC5</span>
<span style="color:black">TRANGROUP:49B9
</span><span style="color:black">TRANGROUP:49B9 </span><span style="color:gray">SET_DRIVE_SPEC</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:49B9                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:#ff8000">40h</span> <span style="color:gray">; '@'
</span><span style="color:black">TRANGROUP:49BB
</span><span style="color:black">TRANGROUP:49BB </span><span style="color:gray">DRVSPEC5</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:49BB                 </span><span style="color:navy">or      dl</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:49BE                 </span><span style="color:navy">sub     dl</span><span style="color:navy">, </span><span style="color:green">60h</span>         ; A = 1
<span style="color:black">TRANGROUP:49C1                 </span><span style="color:navy">call    </span>SAVUDIR1
<span style="color:black">TRANGROUP:49C4                 </span><span style="color:navy">jnb     short </span><span style="color:gray">CURDIR_OK</span>
<span style="color:black">TRANGROUP:49C6                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:49C9                 </span><span style="color:navy">jmp     </span>extend_setup
<span style="color:black">TRANGROUP:49CC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:49CC
</span><span style="color:black">TRANGROUP:49CC </span><span style="color:gray">CURDIR_OK</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:49CC                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:49CE                 </span><span style="color:navy">add     dx</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; add dx,VARSTRUC.BUF
<span style="color:black">TRANGROUP:49D1                 </span><span style="color:navy">mov     bh</span><span style="color:navy">, [bp+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>      ; [bp+VARSTRUC.INFO]
<span style="color:black">TRANGROUP:49D4                 </span><span style="color:navy">and     bh</span><span style="color:navy">, </span><span style="color:green">6</span>
<span style="color:black">TRANGROUP:49D7                 </span><span style="color:navy">cmp     bh</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>
<span style="color:black">TRANGROUP:49DA                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CHECKAMB</span>
<span style="color:black">TRANGROUP:49DC                 </span><span style="color:navy">mov     si</span><span style="color:navy">, [bp+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>      ; [bp+VARSTRUC.TTAIL]
<span style="color:black">TRANGROUP:49DF                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':'
</span><span style="color:black">TRANGROUP:49E1                 </span><span style="color:navy">cmp     [si-</span><span style="color:green">2</span><span style="color:navy">]</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:49E4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">KNOWNOTSPEC</span>
<span style="color:black">TRANGROUP:49E6                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">2</span> ; [bp+VARSTRUC.ISDIR]
<span style="color:black">TRANGROUP:49EA                 </span><span style="color:navy">jmp     short </span><span style="color:gray">DOPCDJ</span>
<span style="color:black">TRANGROUP:49EC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:49EC
</span><span style="color:black">TRANGROUP:49EC </span><span style="color:gray">KNOWNOTSPEC</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:49EC                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:49F0                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:49F1
</span><span style="color:black">TRANGROUP:49F1 </span><span style="color:gray">DOPCDJ</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:49F1                 </span><span style="color:navy">jmp     </span><span style="color:gray">DOPCD</span>
<span style="color:black">TRANGROUP:49F4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:49F4
</span><span style="color:black">TRANGROUP:49F4 </span><span style="color:gray">CHECKAMB</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:49F4                 </span><span style="color:navy">cmp     bh</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:49F7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">CHECKCD</span>
<span style="color:black">TRANGROUP:49F9
</span><span style="color:black">TRANGROUP:49F9 </span><span style="color:gray">ISADEV</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:49F9                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:49FD                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:49FE </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:49FE
</span><span style="color:black">TRANGROUP:49FE </span><span style="color:gray">CHECKCD</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:49FE                 </span><span style="color:navy">call    </span>SetRest1
<span style="color:black">TRANGROUP:4A01                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Bh</span>
<span style="color:black">TRANGROUP:4A03                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
<span style="color:black">TRANGROUP:4A03                                         </span>; DS:DX -&gt; ASCIZ directory name (may include drive)
<span style="color:black">TRANGROUP:4A05                 </span><span style="color:navy">jb      short </span><span style="color:gray">NOTPDIR</span>
<span style="color:black">TRANGROUP:4A07                 </span><span style="color:navy">mov     di</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:4A09                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4A0B                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4A0D                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:4A0E
</span><span style="color:black">TRANGROUP:4A0E </span><span style="color:gray">Kloop</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4A0E                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:4A11                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:4A12                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4A14                 </span><span style="color:navy">jz      short </span><span style="color:gray">DONE</span>
<span style="color:black">TRANGROUP:4A16                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:4A18                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:4A1B                 </span><span style="color:navy">jz      short </span><span style="color:gray">Kloop</span>
<span style="color:black">TRANGROUP:4A1D                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:4A1E                 </span><span style="color:navy">inc     ah</span>
<span style="color:black">TRANGROUP:4A20                 </span><span style="color:navy">jmp     short </span><span style="color:gray">Kloop</span>
<span style="color:black">TRANGROUP:4A22 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4A22
</span><span style="color:black">TRANGROUP:4A22 </span><span style="color:gray">DONE</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4A22                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:4A23                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>DIRCHAR
<span style="color:black">TRANGROUP:4A26                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">2</span> ; [bp+VARSTRUC.ISDIR]
<span style="color:black">TRANGROUP:4A2A                 </span><span style="color:navy">or      ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:4A2C                 </span><span style="color:navy">jnz     short </span><span style="color:gray">_STORE_PCHAR</span>
<span style="color:black">TRANGROUP:4A2E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, [di-</span><span style="color:green">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:4A31                 </span><span style="color:navy">jz      short </span><span style="color:gray">GOTSRCSLSH</span>
<span style="color:black">TRANGROUP:4A33
</span><span style="color:black">TRANGROUP:4A33 </span><span style="color:gray">_STORE_PCHAR</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4A33                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:4A34                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:4A38
</span><span style="color:black">TRANGROUP:4A38 </span><span style="color:gray">GOTSRCSLSH</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4A38                 </span><span style="color:navy">or      byte ptr [bp+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">6</span> ; [bp+VARSTRUC.INFO]
<span style="color:black">TRANGROUP:4A3C                 </span><span style="color:navy">call    </span>SETSTARS
<span style="color:black">TRANGROUP:4A3F
</span><span style="color:black">TRANGROUP:4A3F </span><span style="color:gray">NOTPDIR_RETN</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4A3F                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4A40 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4A40
</span><span style="color:black">TRANGROUP:4A40 </span><span style="color:gray">NOTPDIR</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4A40                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:4A43                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; ERROR_PATH_NOT_FOUND
<span style="color:black">TRANGROUP:4A46                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOTPDIR_TRY</span>
<span style="color:black">TRANGROUP:4A48                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; ERROR_ACCESS_DENIED
<span style="color:black">TRANGROUP:4A4B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">EXTEND_SETUPJ</span>
<span style="color:black">TRANGROUP:4A4D
</span><span style="color:black">TRANGROUP:4A4D </span><span style="color:gray">NOTPDIR_TRY</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4A4D                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [bp+VARSTRUC.ISDIR]
<span style="color:black">TRANGROUP:4A51                 </span><span style="color:navy">mov     bh</span><span style="color:navy">, [bp+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>      ; [bp+VARSTRUC.INFO]
<span style="color:black">TRANGROUP:4A54                 </span><span style="color:navy">test    bh</span><span style="color:navy">, </span><span style="color:green">4</span>
<span style="color:black">TRANGROUP:4A57                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOTPDIR_RETN</span>
<span style="color:black">TRANGROUP:4A59                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:4A5D                 </span><span style="color:navy">mov     si</span><span style="color:navy">, [bp+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>      ; [bp+VARSTRUC.TTAIL]
<span style="color:black">TRANGROUP:4A60                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4A63                 </span><span style="color:navy">jz      short </span><span style="color:gray">BADCDERRJ2</span>
<span style="color:black">TRANGROUP:4A65                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:#ff8000">2Eh</span> <span style="color:gray">; '.'
</span><span style="color:black">TRANGROUP:4A67                 </span><span style="color:navy">cmp     [si]</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:4A69                 </span><span style="color:navy">jz      short </span><span style="color:gray">BADCDERRJ2</span>
<span style="color:black">TRANGROUP:4A6B                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':'
</span><span style="color:black">TRANGROUP:4A6D                 </span><span style="color:navy">cmp     [si-</span><span style="color:green">2</span><span style="color:navy">]</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:4A70                 </span><span style="color:navy">jz      short </span><span style="color:gray">DOPCD</span>
<span style="color:black">TRANGROUP:4A72                 </span><span style="color:navy">mov     byte ptr [bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:4A76                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:4A77
</span><span style="color:black">TRANGROUP:4A77 </span><span style="color:gray">DOPCD</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4A77                 </span><span style="color:navy">xor     bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:4A79                 </span><span style="color:navy">xchg    bl</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:4A7B                 </span><span style="color:navy">call    </span>SetRest1
<span style="color:black">TRANGROUP:4A7E                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:4A80                 </span><span style="color:navy">jnb     short </span><span style="color:gray">LookBack</span>
<span style="color:black">TRANGROUP:4A82                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:4A83                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:4A84                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:4A86                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:4A88
</span><span style="color:black">TRANGROUP:4A88 </span><span style="color:gray">Kloop2</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4A88                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:4A89                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:4A8C                 </span><span style="color:navy">jz      short </span><span style="color:gray">NotKanj4</span>
<span style="color:black">TRANGROUP:4A8E                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:4A8F                 </span><span style="color:navy">cmp     si</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:4A91                 </span><span style="color:navy">jb      short </span><span style="color:gray">Kloop2</span>
<span style="color:black">TRANGROUP:4A93                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:4A94                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:4A95                 </span><span style="color:navy">jmp     short </span><span style="color:gray">DoCdr</span>
<span style="color:black">TRANGROUP:4A97 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4A97
</span><span style="color:black">TRANGROUP:4A97 </span><span style="color:gray">NotKanj4</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4A97                 </span><span style="color:navy">cmp     si</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:4A99                 </span><span style="color:navy">jb      short </span><span style="color:gray">Kloop2</span>
<span style="color:black">TRANGROUP:4A9B                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:4A9C                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:4A9D
</span><span style="color:black">TRANGROUP:4A9D </span><span style="color:gray">LookBack</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4A9D                 </span><span style="color:navy">cmp     bl</span><span style="color:navy">, [si-</span><span style="color:green">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:4AA0                 </span><span style="color:navy">jz      short </span><span style="color:gray">BADCDERRJ2</span>
<span style="color:black">TRANGROUP:4AA2
</span><span style="color:black">TRANGROUP:4AA2 </span><span style="color:gray">DoCdr</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4AA2                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">3Bh</span>
<span style="color:black">TRANGROUP:4AA4                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
<span style="color:black">TRANGROUP:4AA4                                         </span>; DS:DX -&gt; ASCIZ directory name (may include drive)
<span style="color:black">TRANGROUP:4AA6                 </span><span style="color:navy">xchg    bl</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:4AA8                 </span><span style="color:navy">jnb     short </span><span style="color:gray">NOTPDIR_RETN</span>
<span style="color:black">TRANGROUP:4AAA                 </span><span style="color:navy">call    </span>get_ext_error_number
<span style="color:black">TRANGROUP:4AAD
</span><span style="color:black">TRANGROUP:4AAD </span><span style="color:gray">EXTEND_SETUPJ</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4AAD                 </span><span style="color:navy">jmp     </span>extend_setup
<span style="color:black">TRANGROUP:4AB0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4AB0
</span><span style="color:black">TRANGROUP:4AB0 </span><span style="color:gray">BADCDERRJ2</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4AB0                 </span><span style="color:navy">jmp     </span>badpath_err
<span style="color:black">TRANGROUP:4AB0 </span>BUILDPATH       endp
<span style="color:black">TRANGROUP:4AB0
</span><span style="color:black">TRANGROUP:4AB3
</span><span style="color:black">TRANGROUP:4AB3 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4AB3
</span><span style="color:black">TRANGROUP:4AB3
</span><span style="color:black">TRANGROUP:4AB3 </span>SETSTARS        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4AB3                 </span><span style="color:navy">mov     [bp+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, di</span>      ; [bp+VARSTRUC.TTAIL]
<span style="color:black">TRANGROUP:4AB6                 </span><span style="color:navy">add     byte ptr [bp+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">12</span> ; [bp+VARSTRUC.SIZ]
<span style="color:black">TRANGROUP:4ABA                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">'.?'</span>        ;  &quot;?.&quot; ; dot_qmark ; 2E3Fh
<span style="color:black">TRANGROUP:4ABD                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:black">TRANGROUP:4AC0                 </span><span style="color:navy">rep stosb
</span><span style="color:black">TRANGROUP:4AC2                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:4AC4                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:4AC5                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:4AC7                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:4AC9                 </span><span style="color:navy">rep stosb
</span><span style="color:black">TRANGROUP:4ACB                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4ACD                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:4ACE                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4ACE </span>SETSTARS        endp
<span style="color:black">TRANGROUP:4ACE
</span><span style="color:black">TRANGROUP:4ACF
</span><span style="color:black">TRANGROUP:4ACF </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4ACF
</span><span style="color:black">TRANGROUP:4ACF
</span><span style="color:black">TRANGROUP:4ACF </span>COMPNAME        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4ACF                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>DestBuf
<span style="color:black">TRANGROUP:4AD2                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>TRGXNAME
<span style="color:black">TRANGROUP:4AD5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">60h</span>         ; xNameTrans
<span style="color:black">TRANGROUP:4AD7                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - RESOLVE PATH STRING TO CANONICAL PATH STRING
<span style="color:black">TRANGROUP:4AD7                                         </span>; DS:SI -&gt; ASCIZ relative path string or directory name
<span style="color:black">TRANGROUP:4AD7                                         </span>; ES:DI -&gt; 128-byte buffer for ASCIZ canonical fully qualified name
<span style="color:black">TRANGROUP:4AD9                 </span><span style="color:navy">mov     si</span><span style="color:navy">, offset </span>SRCXNAME
<span style="color:black">TRANGROUP:4ADC                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>TRGXNAME
<span style="color:black">TRANGROUP:4ADF                 </span><span style="color:navy">call    </span>STRCOMP
<span style="color:black">TRANGROUP:4AE2                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4AE2 </span>COMPNAME        endp
<span style="color:black">TRANGROUP:4AE2
</span><span style="color:black">TRANGROUP:4AE3
</span><span style="color:black">TRANGROUP:4AE3 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4AE3
</span><span style="color:black">TRANGROUP:4AE3
</span><span style="color:black">TRANGROUP:4AE3 </span>cparse          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4AE3                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4AE5                 </span><span style="color:navy">mov     ds:</span>STARTEL<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:4AE9                 </span><span style="color:navy">mov     ds:</span>ELPOS<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4AEC                 </span><span style="color:navy">mov     ds:</span>SKPDEL<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4AEF                 </span><span style="color:navy">mov     bh</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4AF1                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:4AF2                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:4AF3                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:4AF5                 </span><span style="color:navy">mov     ds:</span>comma<span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:4AF9
</span><span style="color:black">TRANGROUP:4AF9 </span><span style="color:gray">moredelim</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4AF9                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:4AFA                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:4AFD                 </span><span style="color:navy">jnz     short </span><span style="color:gray">SCANCDONE</span>
<span style="color:black">TRANGROUP:4AFF                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:4B01                 </span><span style="color:navy">jz      short </span><span style="color:gray">moredelim</span>
<span style="color:black">TRANGROUP:4B03                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">TRANGROUP:4B05                 </span><span style="color:navy">jz      short </span><span style="color:gray">moredelim</span>
<span style="color:black">TRANGROUP:4B07                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, ds:</span>SKPDEL
<span style="color:black">TRANGROUP:4B0B                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:4B0D                 </span><span style="color:navy">jz      short </span><span style="color:gray">moredelim</span>
<span style="color:black">TRANGROUP:4B0F                 </span><span style="color:navy">test    bh</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:4B12                 </span><span style="color:navy">jz      short </span><span style="color:gray">no_comma</span>
<span style="color:black">TRANGROUP:4B14                 </span><span style="color:navy">mov     ds:</span>comma<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:4B19
</span><span style="color:black">TRANGROUP:4B19 </span><span style="color:gray">no_comma</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4B19                 </span><span style="color:navy">jmp     </span><span style="color:gray">x_done</span>
<span style="color:black">TRANGROUP:4B1C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4B1C
</span><span style="color:black">TRANGROUP:4B1C </span><span style="color:gray">SCANCDONE</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4B1C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:4B1E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">nospec</span>
<span style="color:black">TRANGROUP:4B20                 </span><span style="color:navy">or      bh</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:4B23                 </span><span style="color:navy">jmp     short </span><span style="color:gray">moredelim</span>
<span style="color:black">TRANGROUP:4B25 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4B25
</span><span style="color:black">TRANGROUP:4B25 </span><span style="color:gray">nospec</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4B25                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:4B27                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ncperror</span>
<span style="color:black">TRANGROUP:4B29                 </span><span style="color:navy">jmp     </span><span style="color:gray">cperror</span>
<span style="color:black">TRANGROUP:4B2C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4B2C
</span><span style="color:black">TRANGROUP:4B2C </span><span style="color:gray">ncperror</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4B2C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>SWITCHAR
<span style="color:black">TRANGROUP:4B30                 </span><span style="color:navy">jnz     short </span><span style="color:gray">na_switch</span>
<span style="color:black">TRANGROUP:4B32                 </span><span style="color:navy">jmp     </span><span style="color:gray">a_switch</span>
<span style="color:black">TRANGROUP:4B35 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4B35
</span><span style="color:black">TRANGROUP:4B35 </span><span style="color:gray">na_switch</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4B35                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:green">':'</span>
<span style="color:black">TRANGROUP:4B37                 </span><span style="color:navy">cmp     [si]</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:4B39                 </span><span style="color:navy">jnz     short </span><span style="color:gray">anum_chard</span>
<span style="color:black">TRANGROUP:4B3B                 </span><span style="color:navy">cmp     ds:</span>cpyflag<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:4B40                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cpcont2</span>
<span style="color:black">TRANGROUP:4B42                 </span><span style="color:navy">call    </span>UPCONV
<span style="color:black">TRANGROUP:4B45
</span><span style="color:black">TRANGROUP:4B45 </span><span style="color:gray">cpcont2</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4B45                 </span><span style="color:navy">call    </span>move_char
<span style="color:black">TRANGROUP:4B48                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:4B49                 </span><span style="color:navy">call    </span>move_char
<span style="color:black">TRANGROUP:4B4C                 </span><span style="color:navy">mov     ds:</span>STARTEL<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:4B50                 </span><span style="color:navy">mov     ds:</span>ELCNT<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4B55                 </span><span style="color:navy">jmp     </span><span style="color:gray">anum_test</span>
<span style="color:black">TRANGROUP:4B58 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4B58
</span><span style="color:black">TRANGROUP:4B58 </span><span style="color:gray">anum_chard</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4B58                 </span><span style="color:navy">mov     ds:</span>STARTEL<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:4B5C                 </span><span style="color:navy">mov     ds:</span>ELCNT<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4B61                 </span><span style="color:navy">cmp     ds:</span>cpyflag<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:4B66                 </span><span style="color:navy">jnz     short </span><span style="color:gray">anum_char</span>
<span style="color:black">TRANGROUP:4B68                 </span><span style="color:navy">call    </span>pathchrcmp
<span style="color:black">TRANGROUP:4B6B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">anum_char</span>
<span style="color:black">TRANGROUP:4B6D                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:4B6E                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>CURDRV
<span style="color:black">TRANGROUP:4B71                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:#ff8000">41h</span> <span style="color:gray">; 'A'
</span><span style="color:black">TRANGROUP:4B73                 </span><span style="color:navy">call    </span>move_char
<span style="color:black">TRANGROUP:4B76                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':'
</span><span style="color:black">TRANGROUP:4B78                 </span><span style="color:navy">call    </span>move_char
<span style="color:black">TRANGROUP:4B7B                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:4B7C                 </span><span style="color:navy">mov     ds:</span>STARTEL<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:4B80                 </span><span style="color:navy">mov     ds:</span>ELCNT<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4B85
</span><span style="color:black">TRANGROUP:4B85 </span><span style="color:gray">anum_char</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4B85                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:4B88                 </span><span style="color:navy">jz      short </span><span style="color:gray">NOTKANJ</span>
<span style="color:black">TRANGROUP:4B8A                 </span><span style="color:navy">call    </span>move_char
<span style="color:black">TRANGROUP:4B8D                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:4B8E                 </span><span style="color:navy">jmp     short </span><span style="color:gray">notspecial</span>
<span style="color:black">TRANGROUP:4B90 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4B90
</span><span style="color:black">TRANGROUP:4B90 </span><span style="color:gray">NOTKANJ</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4B90                 </span><span style="color:navy">cmp     ds:</span>cpyflag<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:4B95                 </span><span style="color:navy">jnz     short </span><span style="color:gray">TESTDOT</span>
<span style="color:black">TRANGROUP:4B97                 </span><span style="color:navy">call    </span>UPCONV
<span style="color:black">TRANGROUP:4B9A
</span><span style="color:black">TRANGROUP:4B9A </span><span style="color:gray">TESTDOT</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4B9A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Eh</span> <span style="color:gray">; '.'   </span>; dot_chr
<span style="color:black">TRANGROUP:4B9C                 </span><span style="color:navy">jnz     short </span><span style="color:gray">testquest</span>
<span style="color:black">TRANGROUP:4B9E                 </span><span style="color:navy">inc     ds:</span>ELPOS
<span style="color:black">TRANGROUP:4BA2                 </span><span style="color:navy">mov     ds:</span>ELCNT<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:4BA7
</span><span style="color:black">TRANGROUP:4BA7 </span><span style="color:gray">testquest</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4BA7                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Fh</span> <span style="color:gray">; '?'
</span><span style="color:black">TRANGROUP:4BA9                 </span><span style="color:navy">jnz     short </span><span style="color:gray">testsplat</span>
<span style="color:black">TRANGROUP:4BAB                 </span><span style="color:navy">or      bh</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:4BAE
</span><span style="color:black">TRANGROUP:4BAE </span><span style="color:gray">testsplat</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4BAE                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Ah</span> <span style="color:gray">; '*'   </span>; star
<span style="color:black">TRANGROUP:4BB0                 </span><span style="color:navy">jnz     short </span><span style="color:gray">testpath</span>
<span style="color:black">TRANGROUP:4BB2                 </span><span style="color:navy">or      bh</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:4BB5                 </span><span style="color:navy">cmp     ds:</span>expand_star<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4BBA                 </span><span style="color:navy">jnz     short </span><span style="color:gray">expand_filename</span>
<span style="color:black">TRANGROUP:4BBC                 </span><span style="color:navy">jmp     short </span><span style="color:gray">testpath</span>
<span style="color:black">TRANGROUP:4BBE </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4BBE
</span><span style="color:black">TRANGROUP:4BBE </span><span style="color:gray">BADPERR2J</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4BBE                 </span><span style="color:navy">jmp     short </span><span style="color:gray">BADPERR2</span>
<span style="color:black">TRANGROUP:4BC0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4BC0
</span><span style="color:black">TRANGROUP:4BC0 </span><span style="color:gray">expand_filename</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4BC0                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">7</span>
<span style="color:black">TRANGROUP:4BC2                 </span><span style="color:navy">cmp     ds:</span>ELPOS<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4BC7                 </span><span style="color:navy">jz      short </span><span style="color:gray">gotelcnt</span>
<span style="color:black">TRANGROUP:4BC9                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:4BCB
</span><span style="color:black">TRANGROUP:4BCB </span><span style="color:gray">gotelcnt</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4BCB                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Fh</span> <span style="color:gray">; '?'
</span><span style="color:black">TRANGROUP:4BCD                 </span><span style="color:navy">sub     ah</span><span style="color:navy">, ds:</span>ELCNT
<span style="color:black">TRANGROUP:4BD1                 </span><span style="color:navy">jb      short </span><span style="color:gray">BADPERR2J</span>
<span style="color:black">TRANGROUP:4BD3                 </span><span style="color:navy">xchg    ah</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:4BD5                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">testpathx</span>
<span style="color:black">TRANGROUP:4BD7
</span><span style="color:black">TRANGROUP:4BD7 </span><span style="color:gray">qmove</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4BD7                 </span><span style="color:navy">xchg    ah</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:4BD9                 </span><span style="color:navy">call    </span>move_char
<span style="color:black">TRANGROUP:4BDC                 </span><span style="color:navy">xchg    ah</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:4BDE                 </span><span style="color:navy">loop    </span><span style="color:gray">qmove</span>
<span style="color:black">TRANGROUP:4BE0
</span><span style="color:black">TRANGROUP:4BE0 </span><span style="color:gray">testpathx</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4BE0                 </span><span style="color:navy">xchg    ah</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:4BE2
</span><span style="color:black">TRANGROUP:4BE2 </span><span style="color:gray">testpath</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4BE2                 </span><span style="color:navy">call    </span>pathchrcmp
<span style="color:black">TRANGROUP:4BE5                 </span><span style="color:navy">jnz     short </span><span style="color:gray">notspecial</span>
<span style="color:black">TRANGROUP:4BE7                 </span><span style="color:navy">or      bh</span><span style="color:navy">, </span><span style="color:green">4</span>
<span style="color:black">TRANGROUP:4BEA                 </span><span style="color:navy">cmp     ds:</span>expand_star<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4BEF                 </span><span style="color:navy">jz      short </span><span style="color:gray">no_err_check</span>
<span style="color:black">TRANGROUP:4BF1                 </span><span style="color:navy">test    bh</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:4BF4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">BADPERR</span>
<span style="color:black">TRANGROUP:4BF6
</span><span style="color:black">TRANGROUP:4BF6 </span><span style="color:gray">no_err_check</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4BF6                 </span><span style="color:navy">mov     ds:</span>STARTEL<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:4BFA                 </span><span style="color:navy">inc     ds:</span>STARTEL
<span style="color:black">TRANGROUP:4BFE                 </span><span style="color:navy">mov     ds:</span>ELCNT<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:4C03                 </span><span style="color:navy">mov     ds:</span>ELPOS<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4C08
</span><span style="color:black">TRANGROUP:4C08 </span><span style="color:gray">notspecial</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C08                 </span><span style="color:navy">call    </span>move_char
<span style="color:black">TRANGROUP:4C0B
</span><span style="color:black">TRANGROUP:4C0B </span><span style="color:gray">anum_test</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C0B                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:4C0C
</span><span style="color:black">TRANGROUP:4C0C </span>cpcont3<span style="color:navy">:
</span><span style="color:black">TRANGROUP:4C0C                 </span><span style="color:navy">call    </span>DELIM
<span style="color:black">TRANGROUP:4C0F                 </span><span style="color:navy">jz      short </span><span style="color:gray">x_done</span>
<span style="color:black">TRANGROUP:4C11                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:4C13                 </span><span style="color:navy">jz      short </span><span style="color:gray">x_done</span>
<span style="color:black">TRANGROUP:4C15                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>SWITCHAR
<span style="color:black">TRANGROUP:4C19                 </span><span style="color:navy">jz      short </span><span style="color:gray">x_done</span>
<span style="color:black">TRANGROUP:4C1B                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:4C1D                 </span><span style="color:navy">jz      short </span><span style="color:gray">x_done</span>
<span style="color:black">TRANGROUP:4C1F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':'
</span><span style="color:black">TRANGROUP:4C21                 </span><span style="color:navy">jz      short </span><span style="color:gray">FOO15</span>
<span style="color:black">TRANGROUP:4C23                 </span><span style="color:navy">jmp     </span><span style="color:gray">anum_char</span>
<span style="color:black">TRANGROUP:4C26 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4C26
</span><span style="color:black">TRANGROUP:4C26 </span><span style="color:gray">FOO15</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C26                 </span><span style="color:navy">cmp     ds:</span>cpyflag<span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:4C2B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cpcont4</span>
<span style="color:black">TRANGROUP:4C2D                 </span><span style="color:navy">call    </span>move_char
<span style="color:black">TRANGROUP:4C30                 </span><span style="color:navy">jmp     short </span><span style="color:gray">anum_test</span>
<span style="color:black">TRANGROUP:4C32 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4C32
</span><span style="color:black">TRANGROUP:4C32 </span><span style="color:gray">cpcont4</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C32                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:4C33                 </span><span style="color:navy">jmp     short </span><span style="color:gray">x_done</span>
<span style="color:black">TRANGROUP:4C35 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4C35                 </span><span style="color:navy">jmp     </span><span style="color:gray">anum_char</span>
<span style="color:black">TRANGROUP:4C38 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4C38
</span><span style="color:black">TRANGROUP:4C38 </span><span style="color:gray">BADPERR2</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C38                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>BADCPMES_PTR
<span style="color:black">TRANGROUP:4C3B                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:4C3E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4C3E
</span><span style="color:black">TRANGROUP:4C3E </span><span style="color:gray">BADPERR</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C3E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>badcd_ptr
<span style="color:black">TRANGROUP:4C41                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:4C44 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4C44
</span><span style="color:black">TRANGROUP:4C44 </span><span style="color:gray">cperror</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C44                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:4C45                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:4C46                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:4C47                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:4C48                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4C49 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4C49
</span><span style="color:black">TRANGROUP:4C49 </span><span style="color:gray">x_done</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C49                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:4C4A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">out_token</span>
<span style="color:black">TRANGROUP:4C4C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4C4C
</span><span style="color:black">TRANGROUP:4C4C </span><span style="color:gray">a_switch</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C4C                 </span><span style="color:navy">or      bh</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:4C4F                 </span><span style="color:navy">or      bp</span><span style="color:navy">, </span><span style="color:green">8000h</span>       ; FSWITCH
<span style="color:black">TRANGROUP:4C53                 </span><span style="color:navy">call    </span>scanoff
<span style="color:black">TRANGROUP:4C56                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:4C57                 </span><span style="color:navy">call    </span>testkanj
<span style="color:black">TRANGROUP:4C5A                 </span><span style="color:navy">jz      short </span><span style="color:gray">a_switch_notkanj</span>
<span style="color:black">TRANGROUP:4C5C                 </span><span style="color:navy">call    </span>move_char
<span style="color:black">TRANGROUP:4C5F                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:4C60                 </span><span style="color:navy">call    </span>move_char
<span style="color:black">TRANGROUP:4C63                 </span><span style="color:navy">or      bp</span><span style="color:navy">, </span><span style="color:green">4000h</span>       ; FBADSWITCH
<span style="color:black">TRANGROUP:4C67                 </span><span style="color:navy">jmp     short </span><span style="color:gray">out_token</span>
<span style="color:black">TRANGROUP:4C69 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4C69
</span><span style="color:black">TRANGROUP:4C69 </span><span style="color:gray">a_switch_notkanj</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C69                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:4C6B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">Store_swt</span>
<span style="color:black">TRANGROUP:4C6D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4C6F                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:4C70                 </span><span style="color:navy">or      bp</span><span style="color:navy">, </span><span style="color:green">4000h</span>
<span style="color:black">TRANGROUP:4C74                 </span><span style="color:navy">jmp     short </span><span style="color:gray">cperror</span>
<span style="color:black">TRANGROUP:4C76 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4C76
</span><span style="color:black">TRANGROUP:4C76 </span><span style="color:gray">Store_swt</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C76                 </span><span style="color:navy">call    </span>move_char
<span style="color:black">TRANGROUP:4C79                 </span><span style="color:navy">call    </span>UPCONV
<span style="color:black">TRANGROUP:4C7C                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:4C7D                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:4C7E                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:4C7F                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:4C80                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:4C81                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:4C81                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>switch_list <span style="color:gray">; &quot;-Y?VBAPW&quot;
</span><span style="color:black">TRANGROUP:4C84                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; SWCOUNT
<span style="color:black">TRANGROUP:4C87                 </span><span style="color:navy">or      bp</span><span style="color:navy">, </span><span style="color:green">4000h</span>       ; FBADSWITCH
<span style="color:black">TRANGROUP:4C8B                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:4C8D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">out_tokenp</span>
<span style="color:black">TRANGROUP:4C8F                 </span><span style="color:navy">and     bp</span><span style="color:navy">, </span><span style="color:green">0BFFFh</span>      ; ~FBADSWITCH ; not FBADSWITCH
<span style="color:black">TRANGROUP:4C93                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:4C96                 </span><span style="color:navy">shl     ax</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:4C98                 </span><span style="color:navy">or      bp</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4C9A
</span><span style="color:black">TRANGROUP:4C9A </span><span style="color:gray">out_tokenp</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C9A                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:4C9B                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:4C9C                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:4C9D                 </span>assume es:nothing
<span style="color:black">TRANGROUP:4C9D
</span><span style="color:black">TRANGROUP:4C9D </span><span style="color:gray">out_token</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4C9D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:4C9F                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:4CA0                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:4CA1                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:4CA2                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:4CA3                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4CA3 </span>cparse          endp
<span style="color:black">TRANGROUP:4CA3
</span><span style="color:black">TRANGROUP:4CA4
</span><span style="color:black">TRANGROUP:4CA4 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4CA4
</span><span style="color:black">TRANGROUP:4CA4
</span><span style="color:black">TRANGROUP:4CA4 </span>move_char       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4CA4                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:4CA5                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:4CA6                 </span><span style="color:navy">inc     ds:</span>ELCNT
<span style="color:black">TRANGROUP:4CAA                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4CAA </span>move_char       endp
<span style="color:black">TRANGROUP:4CAA
</span><span style="color:black">TRANGROUP:4CAB
</span><span style="color:black">TRANGROUP:4CAB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4CAB
</span><span style="color:black">TRANGROUP:4CAB
</span><span style="color:black">TRANGROUP:4CAB </span>sysparse        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4CAB                 </span><span style="color:navy">mov     word ptr cs:</span>$P_Flags<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; mov psdata_seg:$P_Flags,0
<span style="color:black">TRANGROUP:4CB2                 </span><span style="color:navy">mov     cs:</span>$P_ORIG_ORD<span style="color:navy">, cx</span> ; MOV PSDATA_SEG:$P_ORIG_ORD,CX
<span style="color:black">TRANGROUP:4CB7                 </span><span style="color:navy">mov     cs:</span>$P_ORIG_STACK<span style="color:navy">, sp</span>
<span style="color:black">TRANGROUP:4CBC                 </span><span style="color:navy">mov     cs:</span>$P_ORIG_SI<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:4CC1
</span><span style="color:black">TRANGROUP:4CC1 </span>$P_Redo_Time<span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4CC1                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:4CC2                 </span><span style="color:navy">mov     cs:</span>$P_ORDINAL<span style="color:navy">, cx</span> ; mov psdata_seg:$P_ordinal,cx
<span style="color:black">TRANGROUP:4CC7                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; mov psdata_seg:$P_RC,$P_No_Error
<span style="color:black">TRANGROUP:4CCE                 </span><span style="color:navy">mov     cs:</span>$P_Found_SYNONYM<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; mov psdata_seg:$P_Found_SYNONYM,0
<span style="color:black">TRANGROUP:4CD5                 </span><span style="color:navy">mov     cs:</span>$P_DX<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; mov word ptr psdata_seg:$P_DX,0
<span style="color:black">TRANGROUP:4CDC                 </span><span style="color:navy">mov     word ptr cs:</span>$P_FileSp_Char<span style="color:navy">, </span><span style="color:green">']['</span> <span style="color:gray">; &quot;[]|&lt;&gt;+=;\&quot;&quot;
</span><span style="color:black">TRANGROUP:4CE3                 </span><span style="color:navy">mov     word ptr cs:</span>$P_FileSp_Char<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, </span><span style="color:green">'&lt;|'</span>
<span style="color:black">TRANGROUP:4CEA                 </span><span style="color:navy">mov     word ptr cs:</span>$P_FileSp_Char<span style="color:navy">+</span><span style="color:green">4</span><span style="color:navy">, </span><span style="color:green">'+&gt;'</span>
<span style="color:black">TRANGROUP:4CF1                 </span><span style="color:navy">mov     word ptr cs:</span>$P_FileSp_Char<span style="color:navy">+</span><span style="color:green">6</span><span style="color:navy">, </span><span style="color:green">';='</span>
<span style="color:black">TRANGROUP:4CF8                 </span><span style="color:navy">call    </span>$P_Skip_Delim
<span style="color:black">TRANGROUP:4CFB                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$P_Start</span>
<span style="color:black">TRANGROUP:4CFD                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; $P_RC_EOL
<span style="color:black">TRANGROUP:4D00                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:4D01                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:[di]</span>     ; es:[di].$P_PARMSX_Address
<span style="color:black">TRANGROUP:4D04                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, es:[bx]</span>     ; es:[bx].$P_MinP
<span style="color:black">TRANGROUP:4D07                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$P_Fin</span>
<span style="color:black">TRANGROUP:4D09                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; $P_Op_Missing
<span style="color:black">TRANGROUP:4D0C
</span><span style="color:black">TRANGROUP:4D0C </span><span style="color:gray">$P_Fin</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4D0C                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:4D0D                 </span><span style="color:navy">jmp     </span><span style="color:gray">$P_Single_Exit</span>
<span style="color:black">TRANGROUP:4D10 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4D10
</span><span style="color:black">TRANGROUP:4D10 </span><span style="color:gray">$P_Start</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4D10                 </span><span style="color:navy">mov     cs:</span>$P_SaveSI_Cmpx<span style="color:navy">, si</span> ; mov psdata_seg:$P_SaveSI_Cmpx,si
<span style="color:black">TRANGROUP:4D15                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:4D16                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:4D17                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:4D18                 </span><span style="color:navy">lea     bx</span><span style="color:navy">, </span>$P_STRING_BUF
<span style="color:black">TRANGROUP:4D1C                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">20h</span> ; $P_Extra
<span style="color:black">TRANGROUP:4D22                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Pack_End</span>
<span style="color:black">TRANGROUP:4D24
</span><span style="color:black">TRANGROUP:4D24 </span><span style="color:gray">$P_Pack_Loop</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4D24                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:4D25                 </span><span style="color:navy">call    </span>$P_Chk_Switch
<span style="color:black">TRANGROUP:4D28                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Pack_End_BY_EOL</span>
<span style="color:black">TRANGROUP:4D2A                 </span><span style="color:navy">call    </span>$P_Chk_EOL
<span style="color:black">TRANGROUP:4D2D                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Pack_End_BY_EOL</span>
<span style="color:black">TRANGROUP:4D2F                 </span><span style="color:navy">call    </span>$P_Chk_Delim
<span style="color:black">TRANGROUP:4D32                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_PL01</span>
<span style="color:black">TRANGROUP:4D34                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">20h</span> ; test psdata_seg:$P_Flags2,$P_Extra
<span style="color:black">TRANGROUP:4D3A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Pack_End_backup_si</span>
<span style="color:black">TRANGROUP:4D3C                 </span><span style="color:navy">call    </span>$P_Skip_Delim
<span style="color:black">TRANGROUP:4D3F                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Pack_End</span>
<span style="color:black">TRANGROUP:4D41 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4D41
</span><span style="color:black">TRANGROUP:4D41 </span><span style="color:gray">$P_Pack_End_backup_si</span><span style="color:navy">:                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4D41                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">41h</span> ; test psdata_seg:$P_Flags2,$P_SW+$P_equ
<span style="color:black">TRANGROUP:4D47                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Pack_End</span>
<span style="color:black">TRANGROUP:4D49                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:4D4A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Pack_End</span>
<span style="color:black">TRANGROUP:4D4C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4D4C
</span><span style="color:black">TRANGROUP:4D4C </span><span style="color:gray">$P_PL01</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4D4C                 </span><span style="color:navy">mov     cs:[bx]</span><span style="color:navy">, al</span>     ; mov psdata_seg:[bx],al
<span style="color:black">TRANGROUP:4D4F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'='</span>         ; cmp al,$P_Keyword
<span style="color:black">TRANGROUP:4D51                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_PL00</span>
<span style="color:black">TRANGROUP:4D53                 </span><span style="color:navy">or      cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">1</span> ; or psdata_seg:$P_Flags2,$P_equ
<span style="color:black">TRANGROUP:4D59
</span><span style="color:black">TRANGROUP:4D59 </span><span style="color:gray">$P_PL00</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4D59                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:4D5A                 </span><span style="color:navy">call    </span>$P_Chk_DBCS
<span style="color:black">TRANGROUP:4D5D                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$P_Pack_Loop</span>
<span style="color:black">TRANGROUP:4D5F                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:4D60                 </span><span style="color:navy">mov     cs:[bx]</span><span style="color:navy">, al</span>     ; mov psdata_seg:[bx],al
<span style="color:black">TRANGROUP:4D63                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:4D64                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Pack_Loop</span>
<span style="color:black">TRANGROUP:4D66 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4D66
</span><span style="color:black">TRANGROUP:4D66 </span><span style="color:gray">$P_Pack_End_BY_EOL</span><span style="color:navy">:                     </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4D66                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:4D67
</span><span style="color:black">TRANGROUP:4D67 </span><span style="color:gray">$P_Pack_End</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4D67                 </span><span style="color:navy">mov     cs:</span>$P_SI_Save<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:4D6C                 </span><span style="color:navy">mov     byte ptr cs:[bx]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; mov byte ptr psdata_seg:[bx],$P_NULL
<span style="color:black">TRANGROUP:4D70                 </span><span style="color:navy">mov     cs:</span>$P_Save_EOB<span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:4D75                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:[di]</span>     ; es:[di].$P_PARMSX_Address
<span style="color:black">TRANGROUP:4D78                 </span><span style="color:navy">lea     si</span><span style="color:navy">, </span>$P_STRING_BUF ; lea si,psdata_seg:$P_STRING_BUF
<span style="color:black">TRANGROUP:4D78                                         </span>; (lea si,ds:9E6Ah)
<span style="color:black">TRANGROUP:4D7C                 </span><span style="color:navy">cmp     byte ptr cs:[si]</span><span style="color:navy">, </span><span style="color:green">'/'</span> ; psdata_seg:[si],$P_Switch
<span style="color:black">TRANGROUP:4D80                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_SW_Manager</span>
<span style="color:black">TRANGROUP:4D82                 </span><span style="color:navy">cmp     byte ptr cs:[si]</span><span style="color:navy">, </span><span style="color:green">'&quot;'</span> ; psdata_seg:[si],$P_DQuote
<span style="color:black">TRANGROUP:4D86                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Positional_Manager</span>
<span style="color:black">TRANGROUP:4D88                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">1</span> ; test psdata_seg:$P_Flags2,$P_equ
<span style="color:black">TRANGROUP:4D8E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Key_Manager</span>
<span style="color:black">TRANGROUP:4D90
</span><span style="color:black">TRANGROUP:4D90 </span><span style="color:gray">$P_Positional_Manager</span><span style="color:navy">:                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4D90                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[bx+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>   ; es:[bx].$P_MaxP
<span style="color:black">TRANGROUP:4D94                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:4D96                 </span><span style="color:navy">cmp     cs:</span>$P_ORDINAL<span style="color:navy">, ax</span> ; psdata_seg:$P_ORDINAL,ax
<span style="color:black">TRANGROUP:4D9B                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$P_Too_Many_Error</span>
<span style="color:black">TRANGROUP:4D9D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_ORDINAL ; psdata_seg:$P_ORDINAL
<span style="color:black">TRANGROUP:4DA1                 </span><span style="color:navy">shl     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:4DA3                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:4DA4                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:4DA5                 </span><span style="color:navy">add     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4DA7                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:[bx]</span>
<span style="color:black">TRANGROUP:4DAA                 </span><span style="color:navy">call    </span>$P_Chk_Pos_Control
<span style="color:black">TRANGROUP:4DAD                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Return_to_Caller</span>
<span style="color:black">TRANGROUP:4DAF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4DAF
</span><span style="color:black">TRANGROUP:4DAF </span><span style="color:gray">$P_Too_Many_Error</span><span style="color:navy">:                      </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4DAF                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">1</span>     ; psdata_seg:$P_RC,$P_Too_Many
<span style="color:black">TRANGROUP:4DB6                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Return_to_Caller</span>
<span style="color:black">TRANGROUP:4DB8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4DB8
</span><span style="color:black">TRANGROUP:4DB8 </span><span style="color:gray">$P_SW_Manager</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4DB8                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[bx+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>   ; mov al,[es:bx+$P_PARMSX_BLK.$P_MaxP]
<span style="color:black">TRANGROUP:4DBC                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:4DBE                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:4DBF                 </span><span style="color:navy">shl     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:4DC1                 </span><span style="color:navy">add     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4DC3                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:[bx]</span>
<span style="color:black">TRANGROUP:4DC6                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:4DC8                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:4DCA                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_SW_Not_Found</span>
<span style="color:black">TRANGROUP:4DCC                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:4DCD
</span><span style="color:black">TRANGROUP:4DCD </span><span style="color:gray">$P_SW_Mgr_Loop</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4DCD                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:4DCE                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:[bx]</span>
<span style="color:black">TRANGROUP:4DD1                 </span><span style="color:navy">call    </span>$P_Chk_SW_Control
<span style="color:black">TRANGROUP:4DD4                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:4DD5                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$P_Return_to_Caller</span>
<span style="color:black">TRANGROUP:4DD7                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:4DD8                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:4DD9                 </span><span style="color:navy">loop    </span><span style="color:gray">$P_SW_Mgr_Loop</span>
<span style="color:black">TRANGROUP:4DDB
</span><span style="color:black">TRANGROUP:4DDB </span><span style="color:gray">$P_SW_Not_Found</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4DDB                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">3</span>
<span style="color:black">TRANGROUP:4DE2                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Return_to_Caller</span>
<span style="color:black">TRANGROUP:4DE4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4DE4
</span><span style="color:black">TRANGROUP:4DE4 </span><span style="color:gray">$P_Key_Manager</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4DE4                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[bx+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>   ; es:[bx].$P_MaxP
<span style="color:black">TRANGROUP:4DE8                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:4DEA                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:4DEB                 </span><span style="color:navy">shl     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:4DED                 </span><span style="color:navy">add     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4DEF                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[bx]</span>
<span style="color:black">TRANGROUP:4DF2                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:4DF4                 </span><span style="color:navy">shl     ax</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:4DF6                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:4DF7                 </span><span style="color:navy">add     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4DF9                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:[bx]</span>
<span style="color:black">TRANGROUP:4DFC                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:4DFE                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:4E00                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Key_Not_Found</span>
<span style="color:black">TRANGROUP:4E02                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:4E03
</span><span style="color:black">TRANGROUP:4E03 </span><span style="color:gray">$P_Key_Mgr_Loop</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E03                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:4E04                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:[bx]</span>
<span style="color:black">TRANGROUP:4E07                 </span><span style="color:navy">call    </span>$P_Chk_Key_Control
<span style="color:black">TRANGROUP:4E0A                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:4E0B                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$P_Return_to_Caller</span>
<span style="color:black">TRANGROUP:4E0D                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:4E0E                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:4E0F                 </span><span style="color:navy">loop    </span><span style="color:gray">$P_Key_Mgr_Loop</span>
<span style="color:black">TRANGROUP:4E11
</span><span style="color:black">TRANGROUP:4E11 </span><span style="color:gray">$P_Key_Not_Found</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E11                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">4</span>     ; psdata_seg:$P_RC,$P_Not_In_Key
<span style="color:black">TRANGROUP:4E18
</span><span style="color:black">TRANGROUP:4E18 </span><span style="color:gray">$P_Return_to_Caller</span><span style="color:navy">:                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E18                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:4E19                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:4E1A                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:4E1B                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, cs:</span>$P_ORDINAL ; mov cx,psdata_seg:$P_Ordinal
<span style="color:black">TRANGROUP:4E20                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_RC
<span style="color:black">TRANGROUP:4E24                 </span><span style="color:navy">mov     si</span><span style="color:navy">, cs:</span>$P_SI_Save ; mov si,psdata_seg:$P_SI_Sav
<span style="color:black">TRANGROUP:4E29                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, cs:</span>$P_DX
<span style="color:black">TRANGROUP:4E2E                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, cs:</span>$P_Terminator
<span style="color:black">TRANGROUP:4E33
</span><span style="color:black">TRANGROUP:4E33 </span><span style="color:gray">$P_Single_Exit</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E33                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:4E34                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4E34 </span>sysparse        endp
<span style="color:black">TRANGROUP:4E34
</span><span style="color:black">TRANGROUP:4E35
</span><span style="color:black">TRANGROUP:4E35 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4E35
</span><span style="color:black">TRANGROUP:4E35
</span><span style="color:black">TRANGROUP:4E35 </span>$P_Chk_Pos_Control proc near            <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E35                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:4E36                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:[bx]</span>     ; [es:bx+$P_CONTROL_BLK.$P_Match_Flag]
<span style="color:black">TRANGROUP:4E39                 </span><span style="color:navy">test    ax</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:4E3C                 </span><span style="color:navy">jnz     short </span>$P_CPC00
<span style="color:black">TRANGROUP:4E3E                 </span><span style="color:navy">inc     cs:</span>$P_ORDINAL
<span style="color:black">TRANGROUP:4E43
</span><span style="color:black">TRANGROUP:4E43 </span>$P_CPC00<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E43                 </span><span style="color:navy">cmp     byte ptr cs:[si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $P_NULL
<span style="color:black">TRANGROUP:4E47                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_CPC01</span>
<span style="color:black">TRANGROUP:4E49                 </span><span style="color:navy">test    ax</span><span style="color:navy">, </span><span style="color:green">1</span>           ; $P_Optional
<span style="color:black">TRANGROUP:4E4C                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_CPC02</span>
<span style="color:black">TRANGROUP:4E4E                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">2</span>     ; $P_Op_Missing
<span style="color:black">TRANGROUP:4E55                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_CPC_Exit</span>
<span style="color:black">TRANGROUP:4E57 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4E57
</span><span style="color:black">TRANGROUP:4E57 </span><span style="color:gray">$P_CPC02</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E57                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:4E58                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; $P_String
<span style="color:black">TRANGROUP:4E5A                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; $P_No_Tag
<span style="color:black">TRANGROUP:4E5C                 </span><span style="color:navy">call    </span>$P_Fill_Result
<span style="color:black">TRANGROUP:4E5F                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:4E60                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_CPC_Exit</span>
<span style="color:black">TRANGROUP:4E62 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4E62
</span><span style="color:black">TRANGROUP:4E62 </span><span style="color:gray">$P_CPC01</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E62                 </span><span style="color:navy">call    </span>$P_Check_Match_Flags
<span style="color:black">TRANGROUP:4E65
</span><span style="color:black">TRANGROUP:4E65 </span><span style="color:gray">$P_CPC_Exit</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E65                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:4E66                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4E66 </span>$P_Chk_Pos_Control endp
<span style="color:black">TRANGROUP:4E66
</span><span style="color:black">TRANGROUP:4E67
</span><span style="color:black">TRANGROUP:4E67 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4E67
</span><span style="color:black">TRANGROUP:4E67
</span><span style="color:black">TRANGROUP:4E67 </span>$P_Chk_Key_Control proc near            <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E67                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:4E68                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4E68 </span>$P_Chk_Key_Control endp
<span style="color:black">TRANGROUP:4E68
</span><span style="color:black">TRANGROUP:4E69
</span><span style="color:black">TRANGROUP:4E69 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4E69
</span><span style="color:black">TRANGROUP:4E69
</span><span style="color:black">TRANGROUP:4E69 </span>$P_Search_KEYorSW proc near             <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E69                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:4E6A                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:4E6B                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:[bx+</span><span style="color:#ff8000">8</span><span style="color:navy">]</span>   ; [es:bx+$P_CONTROL_BLK.$P_nid]
<span style="color:black">TRANGROUP:4E6F                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:4E71                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:4E73                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_KEYorSW_Not_Found</span>
<span style="color:black">TRANGROUP:4E75                 </span><span style="color:navy">lea     bp</span><span style="color:navy">, [bx+</span><span style="color:#ff8000">9</span><span style="color:navy">]</span>      ; [es:bx+$P_CONTROL_BLK.$P_KEYorSW]
<span style="color:black">TRANGROUP:4E78
</span><span style="color:black">TRANGROUP:4E78 </span><span style="color:gray">$P_KEYorSW_Loop</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E78                 </span><span style="color:navy">call    </span>$P_String_Comp
<span style="color:black">TRANGROUP:4E7B                 </span><span style="color:navy">jnb     short </span><span style="color:gray">P_KEYorSW_Found</span>
<span style="color:black">TRANGROUP:4E7D                 </span><span style="color:navy">call    </span>$P_MoveBP_NUL
<span style="color:black">TRANGROUP:4E80                 </span><span style="color:navy">loop    </span><span style="color:gray">$P_KEYorSW_Loop</span>
<span style="color:black">TRANGROUP:4E82
</span><span style="color:black">TRANGROUP:4E82 </span><span style="color:gray">$P_KEYorSW_Not_Found</span><span style="color:navy">:                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E82                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:4E83                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_KEYorSW_Exit</span>
<span style="color:black">TRANGROUP:4E85 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4E85
</span><span style="color:black">TRANGROUP:4E85 </span><span style="color:gray">P_KEYorSW_Found</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E85                 </span><span style="color:navy">mov     cs:</span>$P_Found_SYNONYM<span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:4E8A                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:4E8B
</span><span style="color:black">TRANGROUP:4E8B </span><span style="color:gray">$P_KEYorSW_Exit</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E8B                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:4E8C                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:4E8D                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4E8D </span>$P_Search_KEYorSW endp
<span style="color:black">TRANGROUP:4E8D
</span><span style="color:black">TRANGROUP:4E8E
</span><span style="color:black">TRANGROUP:4E8E </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4E8E
</span><span style="color:black">TRANGROUP:4E8E
</span><span style="color:black">TRANGROUP:4E8E </span>$P_MoveBP_NUL   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E8E                 </span><span style="color:navy">cmp     byte ptr es:[bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $P_NULL
<span style="color:black">TRANGROUP:4E93                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_MBP_Exit</span>
<span style="color:black">TRANGROUP:4E95                 </span><span style="color:navy">inc     bp</span>
<span style="color:black">TRANGROUP:4E96                 </span><span style="color:navy">jmp     short </span>$P_MoveBP_NUL
<span style="color:black">TRANGROUP:4E98 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4E98
</span><span style="color:black">TRANGROUP:4E98 </span><span style="color:gray">$P_MBP_Exit</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E98                 </span><span style="color:navy">inc     bp</span>
<span style="color:black">TRANGROUP:4E99                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4E99 </span>$P_MoveBP_NUL   endp
<span style="color:black">TRANGROUP:4E99
</span><span style="color:black">TRANGROUP:4E9A
</span><span style="color:black">TRANGROUP:4E9A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4E9A
</span><span style="color:black">TRANGROUP:4E9A
</span><span style="color:black">TRANGROUP:4E9A </span>$P_Chk_SW_Control proc near             <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4E9A                 </span><span style="color:navy">or      cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">10h</span> ; or psdata_seg:$P_Flags2,$P_Sw_Cmp
<span style="color:black">TRANGROUP:4EA0                 </span><span style="color:navy">call    </span>$P_Search_KEYorSW
<span style="color:black">TRANGROUP:4EA3                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Chk_SW_Err0</span>
<span style="color:black">TRANGROUP:4EA5                 </span><span style="color:navy">and     cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">0EFh</span> ; and psdata_seg:$P_Flags2,0ffh-$P_Sw_Cmp
<span style="color:black">TRANGROUP:4EAB                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:4EAC                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_KEYorSW_Ptr ; psdata_seg:$P_KEYorSW_Ptr
<span style="color:black">TRANGROUP:4EB0                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:4EB2                 </span><span style="color:navy">add     cs:</span>$P_SaveSI_Cmpx<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4EB7                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:4EB8                 </span><span style="color:navy">mov     si</span><span style="color:navy">, cs:</span>$P_KEYorSW_Ptr
<span style="color:black">TRANGROUP:4EBD                 </span><span style="color:navy">cmp     byte ptr cs:[si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; psdata_seg:[si],$P_NULL
<span style="color:black">TRANGROUP:4EC1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_CSW00</span>
<span style="color:black">TRANGROUP:4EC3                 </span><span style="color:navy">cmp     byte ptr cs:[si-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">':'</span> ; psdata_seg:[si-1],$P_Colon
<span style="color:black">TRANGROUP:4EC8                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Chk_if_data_required</span>
<span style="color:black">TRANGROUP:4ECA                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; $P_Syntax
<span style="color:black">TRANGROUP:4ED1                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Chk_SW_Exit</span>
<span style="color:black">TRANGROUP:4ED3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4ED3
</span><span style="color:black">TRANGROUP:4ED3 </span><span style="color:gray">$P_Chk_if_data_required</span><span style="color:navy">:                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4ED3                 </span><span style="color:navy">cmp     word ptr es:[bx]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; cmp es:[bx].$P_Match_Flag,0
<span style="color:black">TRANGROUP:4ED7                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Chk_SW_Exit</span>
<span style="color:black">TRANGROUP:4ED9                 </span><span style="color:navy">test    word ptr es:[bx]</span><span style="color:navy">, </span><span style="color:green">1</span> ; test es:[bx].$P_Match_Flag,$P_Optional
<span style="color:black">TRANGROUP:4EDE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Chk_SW_Exit</span>
<span style="color:black">TRANGROUP:4EE0                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">2</span>     ; mov psdata_seg:$P_RC,$P_Op_Missing
<span style="color:black">TRANGROUP:4EE7                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Chk_SW_Exit</span>
<span style="color:black">TRANGROUP:4EE9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4EE9
</span><span style="color:black">TRANGROUP:4EE9 </span><span style="color:gray">$P_CSW00</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4EE9                 </span><span style="color:navy">call    </span>$P_Check_Match_Flags
<span style="color:black">TRANGROUP:4EEC                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:4EED                 </span><span style="color:navy">jmp     short </span><span style="color:gray">P_Chk_SW_Single_Exit</span>
<span style="color:black">TRANGROUP:4EEF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4EEF
</span><span style="color:black">TRANGROUP:4EEF </span><span style="color:gray">$P_Chk_SW_Err0</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4EEF                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:4EF0                 </span><span style="color:navy">jmp     short </span><span style="color:gray">P_Chk_SW_Single_Exit</span>
<span style="color:black">TRANGROUP:4EF2 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4EF2
</span><span style="color:black">TRANGROUP:4EF2 </span><span style="color:gray">$P_Chk_SW_Exit</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4EF2                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:4EF3                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; mov al,$P_String
<span style="color:black">TRANGROUP:4EF5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; mov ah,$P_No_Tag
<span style="color:black">TRANGROUP:4EF7                 </span><span style="color:navy">call    </span>$P_Fill_Result
<span style="color:black">TRANGROUP:4EFA                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:4EFB                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:4EFC
</span><span style="color:black">TRANGROUP:4EFC </span><span style="color:gray">P_Chk_SW_Single_Exit</span><span style="color:navy">:                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4EFC                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4EFC </span>$P_Chk_SW_Control endp
<span style="color:black">TRANGROUP:4EFC
</span><span style="color:black">TRANGROUP:4EFD
</span><span style="color:black">TRANGROUP:4EFD </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4EFD
</span><span style="color:black">TRANGROUP:4EFD
</span><span style="color:black">TRANGROUP:4EFD </span>$P_Fill_Result  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4EFD                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:4EFE                 </span><span style="color:navy">mov     di</span><span style="color:navy">, es:[bx+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>   ; [es:bx+$P_CONTROL_BLK.$P_Result_Buf]
<span style="color:black">TRANGROUP:4F02                 </span><span style="color:navy">mov     cs:</span>$P_DX<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:4F07                 </span><span style="color:navy">mov     es:[di]</span><span style="color:navy">, al</span>     ; [es:di+$P_RESULT_BLK.$P_Type]
<span style="color:black">TRANGROUP:4F0A                 </span><span style="color:navy">mov     es:[di+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, ah</span>   ; [es:di+$P_RESULT_BLK.$P_Item_Tag]
<span style="color:black">TRANGROUP:4F0E                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:4F0F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_Found_SYNONYM
<span style="color:black">TRANGROUP:4F13                 </span><span style="color:navy">mov     es:[di+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, ax</span>   ; [es:di+$P_RESULT_BLK.$P_SYNONYM_Ptr]
<span style="color:black">TRANGROUP:4F17                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:4F18                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; $P_Number
<span style="color:black">TRANGROUP:4F1A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_RLT00</span>
<span style="color:black">TRANGROUP:4F1C
</span><span style="color:black">TRANGROUP:4F1C </span><span style="color:gray">$P_RLT02</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4F1C                 </span><span style="color:navy">mov     es:[di+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, dx</span>   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
<span style="color:black">TRANGROUP:4F20                 </span><span style="color:navy">mov     es:[di+</span><span style="color:#ff8000">6</span><span style="color:navy">]</span><span style="color:navy">, cx</span>   ; [es:di+2+$P_RESULT_BLK.$P_Picked_Val]
<span style="color:black">TRANGROUP:4F24                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_RLT_Exit</span>
<span style="color:black">TRANGROUP:4F26 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4F26
</span><span style="color:black">TRANGROUP:4F26 </span><span style="color:gray">$P_RLT00</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4F26                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; $P_List_Idx
<span style="color:black">TRANGROUP:4F28                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_RLT01</span>
<span style="color:black">TRANGROUP:4F2A                 </span><span style="color:navy">mov     es:[di+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, dx</span>   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
<span style="color:black">TRANGROUP:4F2E                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_RLT_Exit</span>
<span style="color:black">TRANGROUP:4F30 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4F30
</span><span style="color:black">TRANGROUP:4F30 </span><span style="color:gray">$P_RLT01</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4F30                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">7</span>           ; $P_Date_F
<span style="color:black">TRANGROUP:4F32                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_RLT02</span>
<span style="color:black">TRANGROUP:4F34                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; $P_Time_F
<span style="color:black">TRANGROUP:4F36                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_RLT02</span>
<span style="color:black">TRANGROUP:4F38                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>           ; $P_Drive
<span style="color:black">TRANGROUP:4F3A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_RLT03</span>
<span style="color:black">TRANGROUP:4F3C                 </span><span style="color:navy">mov     es:[di+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, dl</span>   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
<span style="color:black">TRANGROUP:4F40                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_RLT_Exit</span>
<span style="color:black">TRANGROUP:4F42 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4F42
</span><span style="color:black">TRANGROUP:4F42 </span><span style="color:gray">$P_RLT03</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4F42                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; $P_Complex
<span style="color:black">TRANGROUP:4F44                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_RLT05</span>
<span style="color:black">TRANGROUP:4F46                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_SaveSI_Cmpx
<span style="color:black">TRANGROUP:4F4A                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:4F4B                 </span><span style="color:navy">mov     es:[di+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, ax</span>   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
<span style="color:black">TRANGROUP:4F4F                 </span><span style="color:navy">mov     word ptr es:[di+</span><span style="color:#ff8000">6</span><span style="color:navy">]</span><span style="color:navy">, ds</span> ; [es:di+2+$P_RESULT_BLK.$P_Picked_Val]
<span style="color:black">TRANGROUP:4F53                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_RLT_Exit</span>
<span style="color:black">TRANGROUP:4F55 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4F55
</span><span style="color:black">TRANGROUP:4F55 </span><span style="color:gray">$P_RLT05</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4F55                 </span><span style="color:navy">mov     es:[di+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, si</span>   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
<span style="color:black">TRANGROUP:4F59                 </span><span style="color:navy">mov     word ptr es:[di+</span><span style="color:#ff8000">6</span><span style="color:navy">]</span><span style="color:navy">, cs</span> ; [es:di+2+$P_RESULT_BLK.$P_Picked_Val]
<span style="color:black">TRANGROUP:4F5D                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:4F5E                 </span><span style="color:navy">test    byte ptr es:[bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">1</span> ; [es:bx+$P_CONTROL_BLK.$P_Function_Flag],$P_CAP_File
<span style="color:black">TRANGROUP:4F63                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_RLT_CAP00</span>
<span style="color:black">TRANGROUP:4F65                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; $P_DOSTBL_File
<span style="color:black">TRANGROUP:4F67                 </span><span style="color:navy">jmp     short </span><span style="color:gray">P_RLT_CAP02</span>
<span style="color:black">TRANGROUP:4F69 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4F69
</span><span style="color:black">TRANGROUP:4F69 </span><span style="color:gray">$P_RLT_CAP00</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4F69                 </span><span style="color:navy">test    byte ptr es:[bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">2</span> ; [es:bx+$P_CONTROL_BLK.$P_Function_Flag],$P_CAP_Char
<span style="color:black">TRANGROUP:4F6E                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_RLT_CAP01</span>
<span style="color:black">TRANGROUP:4F70                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; $P_DOSTBL_Char
<span style="color:black">TRANGROUP:4F72
</span><span style="color:black">TRANGROUP:4F72 </span><span style="color:gray">P_RLT_CAP02</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4F72                 </span><span style="color:navy">call    </span>$P_Do_CAPS_String
<span style="color:black">TRANGROUP:4F75
</span><span style="color:black">TRANGROUP:4F75 </span><span style="color:gray">$P_RLT_CAP01</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4F75                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:4F76                 </span><span style="color:navy">test    byte ptr es:[bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">10h</span> ; [es:bx+$P_CONTROL_BLK.$P_Function_Flag],$P_Rm_Colon
<span style="color:black">TRANGROUP:4F7B                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_RLT_Exit</span>
<span style="color:black">TRANGROUP:4F7D                 </span><span style="color:navy">call    </span>$P_Remove_Colon
<span style="color:black">TRANGROUP:4F80
</span><span style="color:black">TRANGROUP:4F80 </span><span style="color:gray">$P_RLT_Exit</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4F80                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:4F81                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:4F81 </span>$P_Fill_Result  endp
<span style="color:black">TRANGROUP:4F81
</span><span style="color:black">TRANGROUP:4F82
</span><span style="color:black">TRANGROUP:4F82 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:4F82
</span><span style="color:black">TRANGROUP:4F82
</span><span style="color:black">TRANGROUP:4F82 </span>$P_Check_Match_Flags proc near          <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4F82                 </span><span style="color:navy">mov     cs:</span>$P_err_flag<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $P_NULL
<span style="color:black">TRANGROUP:4F88                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:4F89                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:[bx]</span>     ; [es:bx+$P_CONTROL_BLK.$P_Match_Flag]
<span style="color:black">TRANGROUP:4F8C                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:4F8E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Mat</span>
<span style="color:black">TRANGROUP:4F90                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:4F91                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:4F92                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:4F93                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:4F94                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; $P_Syntax
<span style="color:black">TRANGROUP:4F9B                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; $P_No_Tag
<span style="color:black">TRANGROUP:4F9D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; $P_String
<span style="color:black">TRANGROUP:4F9F                 </span><span style="color:navy">call    </span>$P_Fill_Result
<span style="color:black">TRANGROUP:4FA2                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:4FA3                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:4FA4                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:4FA5                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:4FA6                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Bridge</span>
<span style="color:black">TRANGROUP:4FA8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4FA8
</span><span style="color:black">TRANGROUP:4FA8 </span><span style="color:gray">$P_Mat</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4FA8                 </span><span style="color:navy">test    ax</span><span style="color:navy">, </span><span style="color:green">1000h</span>       ; $P_Date_S
<span style="color:black">TRANGROUP:4FAB                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Match02</span>
<span style="color:black">TRANGROUP:4FAD                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; $P_No_Error
<span style="color:black">TRANGROUP:4FB4                 </span><span style="color:navy">call    </span>$P_Date_Format
<span style="color:black">TRANGROUP:4FB7                 </span><span style="color:navy">cmp     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; $P_Syntax
<span style="color:black">TRANGROUP:4FBD                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Bridge</span>
<span style="color:black">TRANGROUP:4FBF
</span><span style="color:black">TRANGROUP:4FBF </span><span style="color:gray">$P_Match02</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4FBF                 </span><span style="color:navy">test    ax</span><span style="color:navy">, </span><span style="color:green">800h</span>
<span style="color:black">TRANGROUP:4FC2                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Match03</span>
<span style="color:black">TRANGROUP:4FC4                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; $P_No_Error
<span style="color:black">TRANGROUP:4FCB                 </span><span style="color:navy">call    </span>$P_Time_Format
<span style="color:black">TRANGROUP:4FCE                 </span><span style="color:navy">cmp     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; $P_Syntax
<span style="color:black">TRANGROUP:4FD4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Bridge</span>
<span style="color:black">TRANGROUP:4FD6                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Match03</span>
<span style="color:black">TRANGROUP:4FD8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4FD8
</span><span style="color:black">TRANGROUP:4FD8 </span><span style="color:gray">$P_Bridge</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4FD8                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Match_Exit</span>
<span style="color:black">TRANGROUP:4FDA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:4FDA                 </span><span style="color:navy">nop
</span><span style="color:black">TRANGROUP:4FDB
</span><span style="color:black">TRANGROUP:4FDB </span><span style="color:gray">$P_Match03</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4FDB                 </span><span style="color:navy">test    ax</span><span style="color:navy">, </span><span style="color:green">8000h</span>       ; $P_Num_Val
<span style="color:black">TRANGROUP:4FDE                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Match04</span>
<span style="color:black">TRANGROUP:4FE0                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; $P_No_Error
<span style="color:black">TRANGROUP:4FE7                 </span><span style="color:navy">call    </span>$P_Value
<span style="color:black">TRANGROUP:4FEA                 </span><span style="color:navy">cmp     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; $P_Syntax
<span style="color:black">TRANGROUP:4FF0                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Match_Exit</span>
<span style="color:black">TRANGROUP:4FF2
</span><span style="color:black">TRANGROUP:4FF2 </span><span style="color:gray">$P_Match04</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:4FF2                 </span><span style="color:navy">test    ax</span><span style="color:navy">, </span><span style="color:green">4000h</span>       ; $P_SNum_Val
<span style="color:black">TRANGROUP:4FF5                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Match05</span>
<span style="color:black">TRANGROUP:4FF7                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; $P_No_Error
<span style="color:black">TRANGROUP:4FFE                 </span><span style="color:navy">call    </span>$P_SValue
<span style="color:black">TRANGROUP:5001                 </span><span style="color:navy">cmp     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; $P_Syntax
<span style="color:black">TRANGROUP:5007                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Match_Exit</span>
<span style="color:black">TRANGROUP:5009
</span><span style="color:black">TRANGROUP:5009 </span><span style="color:gray">$P_Match05</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5009                 </span><span style="color:navy">test    ax</span><span style="color:navy">, </span><span style="color:green">100h</span>        ; $P_Drv_Only
<span style="color:black">TRANGROUP:500C                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Match06</span>
<span style="color:black">TRANGROUP:500E                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; $P_No_Error
<span style="color:black">TRANGROUP:5015                 </span><span style="color:navy">call    </span>$P_File_Format
<span style="color:black">TRANGROUP:5018                 </span><span style="color:navy">call    </span>$P_Drive_Format
<span style="color:black">TRANGROUP:501B                 </span><span style="color:navy">cmp     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; $P_Syntax
<span style="color:black">TRANGROUP:5021                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Match_Exit</span>
<span style="color:black">TRANGROUP:5023
</span><span style="color:black">TRANGROUP:5023 </span><span style="color:gray">$P_Match06</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5023                 </span><span style="color:navy">test    ax</span><span style="color:navy">, </span><span style="color:green">200h</span>        ; $P_File_Spc
<span style="color:black">TRANGROUP:5026                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Match07</span>
<span style="color:black">TRANGROUP:5028                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:502F                 </span><span style="color:navy">call    </span>$P_File_Format
<span style="color:black">TRANGROUP:5032                 </span><span style="color:navy">cmp     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">TRANGROUP:5038                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Match_Exit</span>
<span style="color:black">TRANGROUP:503A
</span><span style="color:black">TRANGROUP:503A </span><span style="color:gray">$P_Match07</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:503A                 </span><span style="color:navy">test    ax</span><span style="color:navy">, </span><span style="color:green">2000h</span>       ; $P_Simple_S
<span style="color:black">TRANGROUP:503D                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Match_Exit</span>
<span style="color:black">TRANGROUP:503F                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:5046                 </span><span style="color:navy">call    </span>$P_Simple_String
<span style="color:black">TRANGROUP:5049
</span><span style="color:black">TRANGROUP:5049 </span><span style="color:gray">$P_Match_Exit</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5049                 </span><span style="color:navy">cmp     cs:</span>$P_err_flag<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; $P_error_filespec
<span style="color:black">TRANGROUP:504F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Match2_Exit</span>
<span style="color:black">TRANGROUP:5051                 </span><span style="color:navy">cmp     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">0</span>     ; $P_No_Error
<span style="color:black">TRANGROUP:5057                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Match2_Exit</span>
<span style="color:black">TRANGROUP:5059                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; $P_Syntax
<span style="color:black">TRANGROUP:5060
</span><span style="color:black">TRANGROUP:5060 </span><span style="color:gray">$P_Match2_Exit</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5060                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5061                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5061 </span>$P_Check_Match_Flags endp
<span style="color:black">TRANGROUP:5061
</span><span style="color:black">TRANGROUP:5062
</span><span style="color:black">TRANGROUP:5062 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5062
</span><span style="color:black">TRANGROUP:5062
</span><span style="color:black">TRANGROUP:5062 </span>$P_Remove_Colon proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5062                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5063                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:5064
</span><span style="color:black">TRANGROUP:5064 </span><span style="color:gray">$P_RCOL_Loop</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5064                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si]</span>
<span style="color:black">TRANGROUP:5067                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5069                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_RCOL_Exit</span>
<span style="color:black">TRANGROUP:506B                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">':'</span>         ; $P_Colon
<span style="color:black">TRANGROUP:506D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_RCOL00</span>
<span style="color:black">TRANGROUP:506F                 </span><span style="color:navy">cmp     byte ptr cs:[si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $P_NULL
<span style="color:black">TRANGROUP:5074                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_RCOL00</span>
<span style="color:black">TRANGROUP:5076                 </span><span style="color:navy">mov     byte ptr cs:[si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:507A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_RCOL_Exit</span>
<span style="color:black">TRANGROUP:507C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:507C
</span><span style="color:black">TRANGROUP:507C </span><span style="color:gray">$P_RCOL00</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:507C                 </span><span style="color:navy">call    </span>$P_Chk_DBCS
<span style="color:black">TRANGROUP:507F                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$P_RCOL01</span>
<span style="color:black">TRANGROUP:5081                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:5082
</span><span style="color:black">TRANGROUP:5082 </span><span style="color:gray">$P_RCOL01</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5082                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:5083                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_RCOL_Loop</span>
<span style="color:black">TRANGROUP:5085 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5085
</span><span style="color:black">TRANGROUP:5085 </span><span style="color:gray">$P_RCOL_Exit</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5085                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:5086                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5087                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5087 </span>$P_Remove_Colon endp
<span style="color:black">TRANGROUP:5087
</span><span style="color:black">TRANGROUP:5088
</span><span style="color:black">TRANGROUP:5088 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5088
</span><span style="color:black">TRANGROUP:5088
</span><span style="color:black">TRANGROUP:5088 </span>$P_Do_CAPS_String proc near             <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5088                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:5089                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:508A                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:508C
</span><span style="color:black">TRANGROUP:508C </span><span style="color:gray">$P_DCS_Loop</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:508C                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si]</span>
<span style="color:black">TRANGROUP:508F                 </span><span style="color:navy">call    </span>$P_Chk_DBCS
<span style="color:black">TRANGROUP:5092                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_DCS0</span>
<span style="color:black">TRANGROUP:5094                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5096                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_DCS_Exit</span>
<span style="color:black">TRANGROUP:5098                 </span><span style="color:navy">call    </span>$P_Do_CAPS_Char
<span style="color:black">TRANGROUP:509B                 </span><span style="color:navy">mov     cs:[si]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:509E                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_DCS01</span>
<span style="color:black">TRANGROUP:50A0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:50A0
</span><span style="color:black">TRANGROUP:50A0 </span><span style="color:gray">$P_DCS0</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:50A0                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:50A1
</span><span style="color:black">TRANGROUP:50A1 </span><span style="color:gray">$P_DCS01</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:50A1                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:50A2                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_DCS_Loop</span>
<span style="color:black">TRANGROUP:50A4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:50A4
</span><span style="color:black">TRANGROUP:50A4 </span><span style="color:gray">$P_DCS_Exit</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:50A4                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:50A5                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:50A6                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:50A6 </span>$P_Do_CAPS_String endp
<span style="color:black">TRANGROUP:50A6
</span><span style="color:black">TRANGROUP:50A7
</span><span style="color:black">TRANGROUP:50A7 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:50A7
</span><span style="color:black">TRANGROUP:50A7
</span><span style="color:black">TRANGROUP:50A7 </span>$P_Do_CAPS_Char proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:50A7                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">80h</span>         ; $P_ASCII80
<span style="color:black">TRANGROUP:50A9                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$P_DCC_Go</span>
<span style="color:black">TRANGROUP:50AB                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">61h</span> <span style="color:gray">; 'a'
</span><span style="color:black">TRANGROUP:50AD                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_CAPS_Ret</span>
<span style="color:black">TRANGROUP:50AF                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">7Ah</span> <span style="color:gray">; 'z'
</span><span style="color:black">TRANGROUP:50B1                 </span><span style="color:navy">ja      short </span><span style="color:gray">$P_CAPS_Ret</span>
<span style="color:black">TRANGROUP:50B3                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">0DFh</span>        ; $P_Make_Upper
<span style="color:black">TRANGROUP:50B5                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_CAPS_Ret</span>
<span style="color:black">TRANGROUP:50B7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:50B7
</span><span style="color:black">TRANGROUP:50B7 </span><span style="color:gray">$P_DCC_Go</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:50B7                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:50B8                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:50B9                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:50BA                 </span><span style="color:navy">lea     di</span><span style="color:navy">, </span>$P_File_CAP_Ptr
<span style="color:black">TRANGROUP:50BE                 </span><span style="color:navy">cmp     dl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; $P_DOSTBL_File
<span style="color:black">TRANGROUP:50C1                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_DCC00</span>
<span style="color:black">TRANGROUP:50C3                 </span><span style="color:navy">lea     di</span><span style="color:navy">, </span>$P_Char_CAP_Ptr
<span style="color:black">TRANGROUP:50C7
</span><span style="color:black">TRANGROUP:50C7 </span><span style="color:gray">$P_DCC00</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:50C7                 </span><span style="color:navy">cmp     cs:[di]</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:50CA                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_DCC01</span>
<span style="color:black">TRANGROUP:50CC                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:50CD                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:50CE                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:50CF                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:50D0                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:50D1                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:50D1                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">65h</span>         ; $P_DOS_Get_TBL
<span style="color:black">TRANGROUP:50D3                 </span><span style="color:navy">mov     al</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:50D5                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1 ; get active CON
<span style="color:black">TRANGROUP:50D8                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; buffer length
<span style="color:black">TRANGROUP:50DB                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1 ; get for default code page
<span style="color:black">TRANGROUP:50DE                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 4.x internal - COUNTRY-DEPENDENT FILENAME CAPITALIZATION
<span style="color:black">TRANGROUP:50DE                                         </span>; AL = function -
<span style="color:black">TRANGROUP:50E0                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:50E1                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:50E2                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:50E3
</span><span style="color:black">TRANGROUP:50E3 </span><span style="color:gray">$P_DCC01</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:50E3                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, cs:[di+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>   ; [cs:di+$P_DOS_TBL.$P_DOS_TBL_Off]
<span style="color:black">TRANGROUP:50E7                 </span><span style="color:navy">mov     es</span><span style="color:navy">, word ptr cs:[di+</span><span style="color:#ff8000">3</span><span style="color:navy">]</span> ; [cs:di+$P_DOS_TBL.$P_DOS_TBL_Seg]
<span style="color:black">TRANGROUP:50EB                 </span>assume es:nothing
<span style="color:black">TRANGROUP:50EB                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:50EC                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:50ED                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">80h</span>
<span style="color:black">TRANGROUP:50EF                 </span><span style="color:navy">xlat    byte ptr es:[bx]</span> ; $P_ASCII80
<span style="color:black">TRANGROUP:50F1                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:50F2                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:50F3                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:50F4
</span><span style="color:black">TRANGROUP:50F4 </span><span style="color:gray">$P_CAPS_Ret</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:50F4                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:50F4 </span>$P_Do_CAPS_Char endp
<span style="color:black">TRANGROUP:50F4
</span><span style="color:black">TRANGROUP:50F5
</span><span style="color:black">TRANGROUP:50F5 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:50F5
</span><span style="color:black">TRANGROUP:50F5
</span><span style="color:black">TRANGROUP:50F5 </span>$P_SValue       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:50F5                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:50F6                 </span><span style="color:navy">or      cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">80h</span> ; $P_Signed
<span style="color:black">TRANGROUP:50FC                 </span><span style="color:navy">and     cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">0FDh</span> ; 0FFh-$P_Neg
<span style="color:black">TRANGROUP:5102                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si]</span>
<span style="color:black">TRANGROUP:5105                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Bh</span> <span style="color:gray">; '+'   </span>; $P_Plus
<span style="color:black">TRANGROUP:5107                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_SVal00</span>
<span style="color:black">TRANGROUP:5109                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Dh</span> <span style="color:gray">; '-'   </span>; $P_Minus
<span style="color:black">TRANGROUP:510B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Sval01</span>
<span style="color:black">TRANGROUP:510D                 </span><span style="color:navy">or      cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">2</span> ; $P_Neg
<span style="color:black">TRANGROUP:5113
</span><span style="color:black">TRANGROUP:5113 </span><span style="color:gray">$P_SVal00</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5113                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:5114
</span><span style="color:black">TRANGROUP:5114 </span><span style="color:gray">$P_Sval01</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5114                 </span><span style="color:navy">call    </span>$P_Value
<span style="color:black">TRANGROUP:5117                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5118                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5118 </span>$P_SValue       endp
<span style="color:black">TRANGROUP:5118
</span><span style="color:black">TRANGROUP:5119
</span><span style="color:black">TRANGROUP:5119 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5119
</span><span style="color:black">TRANGROUP:5119
</span><span style="color:black">TRANGROUP:5119 </span>$P_Value        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5119                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:511A                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:511B                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:511C                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:511D                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:511F                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5121                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:5122
</span><span style="color:black">TRANGROUP:5122 </span><span style="color:gray">$P_Value_Loop</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5122                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si]</span>
<span style="color:black">TRANGROUP:5125                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5127                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Value00</span>
<span style="color:black">TRANGROUP:5129                 </span><span style="color:navy">call    </span>$P_0099
<span style="color:black">TRANGROUP:512C                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Value_Err0</span>
<span style="color:black">TRANGROUP:512E                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:5130                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5132                 </span><span style="color:navy">shl     dx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:5134                 </span><span style="color:navy">rcl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:5136                 </span><span style="color:navy">call    </span>$P_Check_OVF
<span style="color:black">TRANGROUP:5139                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Value_Err0</span>
<span style="color:black">TRANGROUP:513B                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:513D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:513F                 </span><span style="color:navy">shl     dx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:5141                 </span><span style="color:navy">rcl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:5143                 </span><span style="color:navy">call    </span>$P_Check_OVF
<span style="color:black">TRANGROUP:5146                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Value_Err0</span>
<span style="color:black">TRANGROUP:5148                 </span><span style="color:navy">shl     dx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:514A                 </span><span style="color:navy">rcl     cx</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:514C                 </span><span style="color:navy">call    </span>$P_Check_OVF
<span style="color:black">TRANGROUP:514F                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Value_Err0</span>
<span style="color:black">TRANGROUP:5151                 </span><span style="color:navy">add     dx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5153                 </span><span style="color:navy">adc     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5155                 </span><span style="color:navy">call    </span>$P_Check_OVF
<span style="color:black">TRANGROUP:5158                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Value_Err0</span>
<span style="color:black">TRANGROUP:515A                 </span><span style="color:navy">add     dx</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:515C                 </span><span style="color:navy">adc     cx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:515F                 </span><span style="color:navy">call    </span>$P_Check_OVF
<span style="color:black">TRANGROUP:5162                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Value_Err0</span>
<span style="color:black">TRANGROUP:5164                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:5165                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Value_Loop</span>
<span style="color:black">TRANGROUP:5167 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5167
</span><span style="color:black">TRANGROUP:5167 </span><span style="color:gray">$P_Value_Err0</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5167                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:5168                 </span><span style="color:navy">jmp     </span><span style="color:gray">$P_Value_Err</span>
<span style="color:black">TRANGROUP:516B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:516B
</span><span style="color:black">TRANGROUP:516B </span><span style="color:gray">$P_Value00</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:516B                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:516C                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">2</span> ; $P_Neg
<span style="color:black">TRANGROUP:5172                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Value01</span>
<span style="color:black">TRANGROUP:5174                 </span><span style="color:navy">not     cx</span>
<span style="color:black">TRANGROUP:5176                 </span><span style="color:navy">not     dx</span>
<span style="color:black">TRANGROUP:5178                 </span><span style="color:navy">add     dx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:517B                 </span><span style="color:navy">adc     cx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:517E
</span><span style="color:black">TRANGROUP:517E </span><span style="color:gray">$P_Value01</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:517E                 </span><span style="color:navy">mov     si</span><span style="color:navy">, es:[bx+</span><span style="color:#ff8000">6</span><span style="color:navy">]</span>   ; [es:bx+$P_CONTROL_BLK.$P_Value_List]
<span style="color:black">TRANGROUP:5182                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[si]</span>
<span style="color:black">TRANGROUP:5185                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; $P_nval_None
<span style="color:black">TRANGROUP:5185                                         </span>;
<span style="color:black">TRANGROUP:5187                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Value02</span>
<span style="color:black">TRANGROUP:5189                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:518B                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:518D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Value_Exit</span>
<span style="color:black">TRANGROUP:518F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:518F                 </span><span style="color:navy">nop
</span><span style="color:black">TRANGROUP:5190
</span><span style="color:black">TRANGROUP:5190 </span><span style="color:gray">$P_Value02</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5190                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:5191                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[si]</span>
<span style="color:black">TRANGROUP:5194                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:5196                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Value_Err</span> ; $P_Value03
<span style="color:black">TRANGROUP:5198                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:5199
</span><span style="color:black">TRANGROUP:5199 </span><span style="color:gray">$P_Val02_Loop</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5199                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">80h</span> ; $P_Signed
<span style="color:black">TRANGROUP:519F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Val02_Sign</span>
<span style="color:black">TRANGROUP:51A1                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, es:[si+</span><span style="color:#ff8000">3</span><span style="color:navy">]</span>   ; [es:si+$P_VAL_LIST.$P_Val_XH]
<span style="color:black">TRANGROUP:51A5                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Val02_Next</span>
<span style="color:black">TRANGROUP:51A7                 </span><span style="color:navy">ja      short </span><span style="color:gray">$P_Val_In</span>
<span style="color:black">TRANGROUP:51A9                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, es:[si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>   ; [es:si+$P_VAL_LIST.$P_Val_XL]
<span style="color:black">TRANGROUP:51AD                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Val02_Next</span>
<span style="color:black">TRANGROUP:51AF
</span><span style="color:black">TRANGROUP:51AF </span><span style="color:gray">$P_Val_In</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:51AF                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, es:[si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span>   ; [es:si+$P_VAL_LIST.$P_Val_YH]
<span style="color:black">TRANGROUP:51B3                 </span><span style="color:navy">ja      short </span><span style="color:gray">$P_Val02_Next</span>
<span style="color:black">TRANGROUP:51B5                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Val_Found</span>
<span style="color:black">TRANGROUP:51B7                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, es:[si+</span><span style="color:#ff8000">5</span><span style="color:navy">]</span>   ; [es:si+$P_VAL_LIST.$P_Val_YL]
<span style="color:black">TRANGROUP:51BB                 </span><span style="color:navy">ja      short </span><span style="color:gray">$P_Val02_Next</span>
<span style="color:black">TRANGROUP:51BD                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Val_Found</span>
<span style="color:black">TRANGROUP:51BF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:51BF
</span><span style="color:black">TRANGROUP:51BF </span><span style="color:gray">$P_Val02_Sign</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:51BF                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, es:[si+</span><span style="color:#ff8000">3</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:51C3                 </span><span style="color:navy">jl      short </span><span style="color:gray">$P_Val02_Next</span>
<span style="color:black">TRANGROUP:51C5                 </span><span style="color:navy">jg      short </span><span style="color:gray">$P_SVal_In</span>
<span style="color:black">TRANGROUP:51C7                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, es:[si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:51CB                 </span><span style="color:navy">jl      short </span><span style="color:gray">$P_Val02_Next</span>
<span style="color:black">TRANGROUP:51CD
</span><span style="color:black">TRANGROUP:51CD </span><span style="color:gray">$P_SVal_In</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:51CD                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, es:[si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:51D1                 </span><span style="color:navy">jg      short </span><span style="color:gray">$P_Val02_Next</span>
<span style="color:black">TRANGROUP:51D3                 </span><span style="color:navy">jl      short </span><span style="color:gray">$P_Val_Found</span>
<span style="color:black">TRANGROUP:51D5                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, es:[si+</span><span style="color:#ff8000">5</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:51D9                 </span><span style="color:navy">jg      short </span><span style="color:gray">$P_Val02_Next</span>
<span style="color:black">TRANGROUP:51DB                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Val_Found</span>
<span style="color:black">TRANGROUP:51DD </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:51DD
</span><span style="color:black">TRANGROUP:51DD </span><span style="color:gray">$P_Val02_Next</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:51DD                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>           ; $P_Len_Range
<span style="color:black">TRANGROUP:51E0                 </span><span style="color:navy">dec     al</span>
<span style="color:black">TRANGROUP:51E2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Val02_Loop</span>
<span style="color:black">TRANGROUP:51E4                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">6</span>     ; $P_Out_Of_Range
<span style="color:black">TRANGROUP:51EB                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; $P_Number
<span style="color:black">TRANGROUP:51ED                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; $P_No_Tag
<span style="color:black">TRANGROUP:51EF                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Value_Exit</span>
<span style="color:black">TRANGROUP:51F1 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:51F1
</span><span style="color:black">TRANGROUP:51F1 </span><span style="color:gray">$P_Val_Found</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:51F1                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:51F3                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, es:[si]</span>
<span style="color:black">TRANGROUP:51F6                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Value_Exit</span>
<span style="color:black">TRANGROUP:51F8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:51F8
</span><span style="color:black">TRANGROUP:51F8 </span><span style="color:gray">$P_Value_Err</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:51F8                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; $P_Syntax
<span style="color:black">TRANGROUP:51FF                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; $P_String
<span style="color:black">TRANGROUP:5201                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; $P_No_Tag
<span style="color:black">TRANGROUP:5203
</span><span style="color:black">TRANGROUP:5203 </span><span style="color:gray">$P_Value_Exit</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5203                 </span><span style="color:navy">call    </span>$P_Fill_Result
<span style="color:black">TRANGROUP:5206                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:5207                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:5208                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:5209                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:520A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:520A </span>$P_Value        endp
<span style="color:black">TRANGROUP:520A
</span><span style="color:black">TRANGROUP:520B
</span><span style="color:black">TRANGROUP:520B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:520B
</span><span style="color:black">TRANGROUP:520B
</span><span style="color:black">TRANGROUP:520B </span>$P_Check_OVF    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:520B                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:520C                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">2</span> ; $P_Neg
<span style="color:black">TRANGROUP:5212                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_COVF</span>
<span style="color:black">TRANGROUP:5214                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:5215                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5216 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5216
</span><span style="color:black">TRANGROUP:5216 </span><span style="color:gray">$P_COVF</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5216                 </span><span style="color:navy">popf
</span><span style="color:black">TRANGROUP:5217                 </span><span style="color:navy">jo      short </span><span style="color:gray">$P_COVF00</span>
<span style="color:black">TRANGROUP:5219                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:521A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:521B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:521B
</span><span style="color:black">TRANGROUP:521B </span><span style="color:gray">$P_COVF00</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:521B                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:521C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:521C </span>$P_Check_OVF    endp
<span style="color:black">TRANGROUP:521C
</span><span style="color:black">TRANGROUP:521D
</span><span style="color:black">TRANGROUP:521D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:521D
</span><span style="color:black">TRANGROUP:521D
</span><span style="color:black">TRANGROUP:521D </span>$P_0099         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:521D                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">30h</span> <span style="color:gray">; '0'
</span><span style="color:black">TRANGROUP:521F                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_0099Err</span>
<span style="color:black">TRANGROUP:5221                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">39h</span> <span style="color:gray">; '9'
</span><span style="color:black">TRANGROUP:5223                 </span><span style="color:navy">ja      short </span><span style="color:gray">$P_0099Err</span>
<span style="color:black">TRANGROUP:5225                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:#ff8000">30h</span> <span style="color:gray">; '0'
</span><span style="color:black">TRANGROUP:5227                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5228                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5229 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5229
</span><span style="color:black">TRANGROUP:5229 </span><span style="color:gray">$P_0099Err</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5229                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:522A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:522A </span>$P_0099         endp
<span style="color:black">TRANGROUP:522A
</span><span style="color:black">TRANGROUP:522B
</span><span style="color:black">TRANGROUP:522B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:522B
</span><span style="color:black">TRANGROUP:522B
</span><span style="color:black">TRANGROUP:522B </span>$P_Simple_String proc near              <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:522B                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:522C                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:522D                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:522E                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:522F                 </span><span style="color:navy">mov     di</span><span style="color:navy">, es:[bx+</span><span style="color:#ff8000">6</span><span style="color:navy">]</span>   ; [es:bx+$P_CONTROL_BLK.$P_Value_List]
<span style="color:black">TRANGROUP:5233                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5236                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5238                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Sim00</span>
<span style="color:black">TRANGROUP:523A                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:523C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Sim_Exit</span>
<span style="color:black">TRANGROUP:523E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:523E
</span><span style="color:black">TRANGROUP:523E </span><span style="color:gray">$P_Sim00</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:523E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; $P_nval_String
<span style="color:black">TRANGROUP:5240                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Sim01</span>
<span style="color:black">TRANGROUP:5242                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5243                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5246                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>           ; $P_Len_Range
<span style="color:black">TRANGROUP:5248                 </span><span style="color:navy">mul     ah</span>
<span style="color:black">TRANGROUP:524A                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:524B                 </span><span style="color:navy">add     di</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:524D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5250                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; $P_Len_Value
<span style="color:black">TRANGROUP:5252                 </span><span style="color:navy">mul     ah</span>
<span style="color:black">TRANGROUP:5254                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:5255                 </span><span style="color:navy">add     di</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5257                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:525A                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:525B                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:525C
</span><span style="color:black">TRANGROUP:525C </span><span style="color:gray">$P_Sim_Loop</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:525C                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:525F                 </span><span style="color:navy">call    </span>$P_String_Comp
<span style="color:black">TRANGROUP:5262                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$P_Sim_Found</span>
<span style="color:black">TRANGROUP:5264                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; $P_Len_String
<span style="color:black">TRANGROUP:5267                 </span><span style="color:navy">dec     al</span>
<span style="color:black">TRANGROUP:5269                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Sim_Loop</span>
<span style="color:black">TRANGROUP:526B                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">8</span>     ; $P_Not_In_Str
<span style="color:black">TRANGROUP:5272                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; $P_No_Tag
<span style="color:black">TRANGROUP:5274                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Sim_Exit</span>
<span style="color:black">TRANGROUP:5276 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5276
</span><span style="color:black">TRANGROUP:5276 </span><span style="color:gray">$P_Sim_Found</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5276                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, es:[di-</span><span style="color:green">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:527A                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; $P_List_Idx
<span style="color:black">TRANGROUP:527C                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:527F                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Sim_Exit0</span>
<span style="color:black">TRANGROUP:5281 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5281
</span><span style="color:black">TRANGROUP:5281 </span><span style="color:gray">$P_Sim01</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5281                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; $P_Syntax
<span style="color:black">TRANGROUP:5288                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; $P_No_Tag
<span style="color:black">TRANGROUP:528A
</span><span style="color:black">TRANGROUP:528A </span><span style="color:gray">$P_Sim_Exit</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:528A                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; $P_String
<span style="color:black">TRANGROUP:528C
</span><span style="color:black">TRANGROUP:528C </span><span style="color:gray">$P_Sim_Exit0</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:528C                 </span><span style="color:navy">call    </span>$P_Fill_Result
<span style="color:black">TRANGROUP:528F                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5290                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:5291                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:5292                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5293                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5293 </span>$P_Simple_String endp
<span style="color:black">TRANGROUP:5293
</span><span style="color:black">TRANGROUP:5294
</span><span style="color:black">TRANGROUP:5294 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5294
</span><span style="color:black">TRANGROUP:5294
</span><span style="color:black">TRANGROUP:5294 </span>$P_String_Comp  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5294                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5295                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:5296                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:5297                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:5298                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; $P_DOSTBL_Char
<span style="color:black">TRANGROUP:529A
</span><span style="color:black">TRANGROUP:529A </span><span style="color:gray">$P_SCOM_Loop</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:529A                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si]</span>     ; 1st string
<span style="color:black">TRANGROUP:529D                 </span><span style="color:navy">call    </span>$P_Chk_DBCS
<span style="color:black">TRANGROUP:52A0                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_SCOM00</span>
<span style="color:black">TRANGROUP:52A2                 </span><span style="color:navy">call    </span>$P_Do_CAPS_Char
<span style="color:black">TRANGROUP:52A5                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">8</span> ; $P_Key_Cmp
<span style="color:black">TRANGROUP:52AB                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_SCOM04</span>
<span style="color:black">TRANGROUP:52AD                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Dh</span> <span style="color:gray">; '='   </span>; $P_Keyword
<span style="color:black">TRANGROUP:52AF                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_SCOM03</span>
<span style="color:black">TRANGROUP:52B1                 </span><span style="color:navy">cmp     byte ptr es:[bp+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:52B6                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_SCOM_Differ</span>
<span style="color:black">TRANGROUP:52B8                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_SCOM05</span>
<span style="color:black">TRANGROUP:52BA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:52BA
</span><span style="color:black">TRANGROUP:52BA </span><span style="color:gray">$P_SCOM04</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:52BA                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">10h</span> ; $P_SW_Cmp
<span style="color:black">TRANGROUP:52C0                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_SCOM03</span>
<span style="color:black">TRANGROUP:52C2                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':'   </span>; $P_Colon
<span style="color:black">TRANGROUP:52C4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_SCOM03</span>
<span style="color:black">TRANGROUP:52C6                 </span><span style="color:navy">cmp     byte ptr es:[bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $P_NULL
<span style="color:black">TRANGROUP:52CB                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_SCOM_Differ</span>
<span style="color:black">TRANGROUP:52CD
</span><span style="color:black">TRANGROUP:52CD </span><span style="color:gray">$P_SCOM05</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:52CD                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:52CE                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_SCOM_Same</span>
<span style="color:black">TRANGROUP:52D0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:52D0
</span><span style="color:black">TRANGROUP:52D0 </span><span style="color:gray">$P_SCOM03</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:52D0                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span>   ; 2nd string (must be upper case)
<span style="color:black">TRANGROUP:52D4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_SCOM_Differ0</span>
<span style="color:black">TRANGROUP:52D6                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:52D8                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_SCOM_Same</span>
<span style="color:black">TRANGROUP:52DA                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:52DB                 </span><span style="color:navy">inc     bp</span>
<span style="color:black">TRANGROUP:52DC                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_SCOM01</span>
<span style="color:black">TRANGROUP:52DE </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:52DE
</span><span style="color:black">TRANGROUP:52DE </span><span style="color:gray">$P_SCOM00</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:52DE                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:52E2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_SCOM_Differ</span>
<span style="color:black">TRANGROUP:52E4                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:52E5                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si]</span>
<span style="color:black">TRANGROUP:52E8                 </span><span style="color:navy">inc     bp</span>
<span style="color:black">TRANGROUP:52E9                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:52ED                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_SCOM_Differ</span>
<span style="color:black">TRANGROUP:52EF                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:52F0                 </span><span style="color:navy">inc     bp</span>
<span style="color:black">TRANGROUP:52F1
</span><span style="color:black">TRANGROUP:52F1 </span><span style="color:gray">$P_SCOM01</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:52F1                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_SCOM_Loop</span>
<span style="color:black">TRANGROUP:52F3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:52F3
</span><span style="color:black">TRANGROUP:52F3 </span><span style="color:gray">$P_SCOM_Differ0</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:52F3                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">40h</span> ; $P_SW
<span style="color:black">TRANGROUP:52F9                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_not_applicable</span>
<span style="color:black">TRANGROUP:52FB                 </span><span style="color:navy">test    word ptr es:[bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">20h</span> ; [es:bx+$P_CONTROL_BLK.$P_Function_Flag],$P_colon_is_not_necessary
<span style="color:black">TRANGROUP:5301                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_not_applicable</span>
<span style="color:black">TRANGROUP:5303                 </span><span style="color:navy">cmp     byte ptr es:[bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:5308                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_SCOM_Same</span>
<span style="color:black">TRANGROUP:530A
</span><span style="color:black">TRANGROUP:530A </span><span style="color:gray">$P_not_applicable</span><span style="color:navy">:                      </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:530A                 </span><span style="color:navy">test    word ptr es:[bx]</span><span style="color:navy">, </span><span style="color:green">10h</span> ; [es:bx+$P_CONTROL_BLK.$P_Match_Flag],$P_Ig_Colon
<span style="color:black">TRANGROUP:530F                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_SCOM_Differ</span>
<span style="color:black">TRANGROUP:5311                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':'   </span>; $P_Colon
<span style="color:black">TRANGROUP:5313                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_SCOM02</span>
<span style="color:black">TRANGROUP:5315                 </span><span style="color:navy">cmp     byte ptr es:[bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $P_NULL
<span style="color:black">TRANGROUP:531A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_SCOM_Differ</span>
<span style="color:black">TRANGROUP:531C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_SCOM_Same</span>
<span style="color:black">TRANGROUP:531E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:531E
</span><span style="color:black">TRANGROUP:531E </span><span style="color:gray">$P_SCOM02</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:531E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:5320                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_SCOM_Differ</span>
<span style="color:black">TRANGROUP:5322                 </span><span style="color:navy">cmp     byte ptr es:[bp+</span><span style="color:#ff8000">0</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':'
</span><span style="color:black">TRANGROUP:5327                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_SCOM_Same</span>
<span style="color:black">TRANGROUP:5329
</span><span style="color:black">TRANGROUP:5329 </span><span style="color:gray">$P_SCOM_Differ</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5329                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:532A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_SCOM_Exit</span>
<span style="color:black">TRANGROUP:532C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:532C
</span><span style="color:black">TRANGROUP:532C </span><span style="color:gray">$P_SCOM_Same</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:532C                 </span><span style="color:navy">mov     cs:</span>$P_KEYorSW_Ptr<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:5331                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5332
</span><span style="color:black">TRANGROUP:5332 </span><span style="color:gray">$P_SCOM_Exit</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5332                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:5333                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:5334                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:5335                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5336                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5336 </span>$P_String_Comp  endp
<span style="color:black">TRANGROUP:5336
</span><span style="color:black">TRANGROUP:5337
</span><span style="color:black">TRANGROUP:5337 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5337
</span><span style="color:black">TRANGROUP:5337
</span><span style="color:black">TRANGROUP:5337 </span>$P_Date_Format  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5337                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5338                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:5339                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:533A                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:533B                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:533C                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:533D                 </span><span style="color:navy">call    </span>$P_Set_CDI
<span style="color:black">TRANGROUP:5340                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:5341                 </span><span style="color:navy">mov     cs:</span>$P_1st_Val<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:5348                 </span><span style="color:navy">mov     cs:</span>$P_2nd_Val<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; mov psdata_seg:$P_2nd_Val,0
<span style="color:black">TRANGROUP:534F                 </span><span style="color:navy">mov     cs:</span>$P_3rd_Val<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:5356                 </span><span style="color:navy">call    </span>$P_Get_DecNum
<span style="color:black">TRANGROUP:5359                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_DateF_Err0</span>
<span style="color:black">TRANGROUP:535B                 </span><span style="color:navy">mov     cs:</span>$P_1st_Val<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:535F                 </span><span style="color:navy">or      bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:5361                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_DateF_YMD</span>
<span style="color:black">TRANGROUP:5363                 </span><span style="color:navy">call    </span>$P_Get_DecNum
<span style="color:black">TRANGROUP:5366                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_DateF_Error</span>
<span style="color:black">TRANGROUP:5368                 </span><span style="color:navy">mov     cs:</span>$P_2nd_Val<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:536C                 </span><span style="color:navy">or      bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:536E                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_DateF_YMD</span>
<span style="color:black">TRANGROUP:5370                 </span><span style="color:navy">call    </span>$P_Get_DecNum
<span style="color:black">TRANGROUP:5373
</span><span style="color:black">TRANGROUP:5373 </span><span style="color:gray">$P_DateF_Err0</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5373                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_DateF_Error</span>
<span style="color:black">TRANGROUP:5375                 </span><span style="color:navy">mov     cs:</span>$P_3rd_Val<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5379                 </span><span style="color:navy">or      bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:537B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_DateF_Error</span>
<span style="color:black">TRANGROUP:537D
</span><span style="color:black">TRANGROUP:537D </span><span style="color:gray">$P_DateF_YMD</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:537D                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, cs:</span>$P_Country_Info ; [cs:$P_Country_Info+$P_CDI.$P_CDI_DateF]
<span style="color:black">TRANGROUP:537D                                         </span>; mov bx,psdata_seg:$P_Country_Info.$P_CDI_DateF
<span style="color:black">TRANGROUP:5382                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; bx,$P_Date_YMD
<span style="color:black">TRANGROUP:5385                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_DateF00</span>
<span style="color:black">TRANGROUP:5387                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_1st_Val
<span style="color:black">TRANGROUP:538B                 </span><span style="color:navy">or      ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:538D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_DateF_Error</span>
<span style="color:black">TRANGROUP:538F                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5391                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_2nd_Val
<span style="color:black">TRANGROUP:5395                 </span><span style="color:navy">or      ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:5397                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_DateF_Error</span>
<span style="color:black">TRANGROUP:5399                 </span><span style="color:navy">mov     ch</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:539B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, cs:</span>$P_3rd_Val
<span style="color:black">TRANGROUP:53A0                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; bx,$P_Date_DMY
<span style="color:black">TRANGROUP:53A3                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_DateF01</span>
<span style="color:black">TRANGROUP:53A5                 </span><span style="color:navy">xchg    ch</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:53A7
</span><span style="color:black">TRANGROUP:53A7 </span><span style="color:gray">$P_DateF01</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:53A7                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_DateF02</span>
<span style="color:black">TRANGROUP:53A9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:53A9
</span><span style="color:black">TRANGROUP:53A9 </span><span style="color:gray">$P_DateF00</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:53A9                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, cs:</span>$P_1st_Val
<span style="color:black">TRANGROUP:53AE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_2nd_Val
<span style="color:black">TRANGROUP:53B2                 </span><span style="color:navy">or      ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:53B4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_DateF_Error</span>
<span style="color:black">TRANGROUP:53B6                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:53B8                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_3rd_Val
<span style="color:black">TRANGROUP:53BC                 </span><span style="color:navy">or      ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:53BE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_DateF_Error</span>
<span style="color:black">TRANGROUP:53C0                 </span><span style="color:navy">mov     ch</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:53C2
</span><span style="color:black">TRANGROUP:53C2 </span><span style="color:gray">$P_DateF02</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:53C2                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, </span><span style="color:green">100</span>
<span style="color:black">TRANGROUP:53C5                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$P_DateF03</span>
<span style="color:black">TRANGROUP:53C7                 </span><span style="color:navy">add     dx</span><span style="color:navy">, </span><span style="color:green">1900</span>
<span style="color:black">TRANGROUP:53CB
</span><span style="color:black">TRANGROUP:53CB </span><span style="color:gray">$P_DateF03</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:53CB                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:53CC                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:53CD                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; $P_No_Tag
<span style="color:black">TRANGROUP:53CF                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">7</span>           ; $P_Date_F
<span style="color:black">TRANGROUP:53D1                 </span><span style="color:navy">call    </span>$P_Fill_Result
<span style="color:black">TRANGROUP:53D4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Date_Format_Exit</span>
<span style="color:black">TRANGROUP:53D6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:53D6
</span><span style="color:black">TRANGROUP:53D6 </span><span style="color:gray">$P_DateF_Error</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:53D6                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:53D7                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:53D8                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; $P_No_Tag
<span style="color:black">TRANGROUP:53DA                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; $P_String
<span style="color:black">TRANGROUP:53DC                 </span><span style="color:navy">call    </span>$P_Fill_Result
<span style="color:black">TRANGROUP:53DF                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; mov psdata_seg:$P_RC,$P_Syntax
<span style="color:black">TRANGROUP:53E6
</span><span style="color:black">TRANGROUP:53E6 </span><span style="color:gray">$P_Date_Format_Exit</span><span style="color:navy">:                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:53E6                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:53E7                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:53E8                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:53E9                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:53E9 </span>$P_Date_Format  endp
<span style="color:black">TRANGROUP:53E9
</span><span style="color:black">TRANGROUP:53EA
</span><span style="color:black">TRANGROUP:53EA </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:53EA
</span><span style="color:black">TRANGROUP:53EA
</span><span style="color:black">TRANGROUP:53EA </span>$P_Set_CDI      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:53EA                 </span><span style="color:navy">lea     si</span><span style="color:navy">, </span>$P_Country_Info ; (lea si,ds:9EF1h)
<span style="color:black">TRANGROUP:53EA                                         </span>; lea si,psdata_seg:$P_Country_Info
<span style="color:black">TRANGROUP:53EE                 </span><span style="color:navy">cmp     word ptr cs:[si]</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span> ;
<span style="color:black">TRANGROUP:53EE                                         </span>; cmp psdata_seg:[si].$P_CDI_DateF,$P_NeedToBeRead
<span style="color:black">TRANGROUP:53F2                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Read_CDI</span>
<span style="color:black">TRANGROUP:53F4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Set_CDI_Exit</span>
<span style="color:black">TRANGROUP:53F6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:53F6
</span><span style="color:black">TRANGROUP:53F6 </span><span style="color:gray">$P_Read_CDI</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:53F6                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:53F7                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:53F8                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:53F9                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:53FA                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:53FB                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:53FB                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3800h</span>       ; $P_DOS_Get_CDI
<span style="color:black">TRANGROUP:53FE                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:5400                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET COUNTRY-DEPENDENT INFORMATION
<span style="color:black">TRANGROUP:5400                                         </span>; get current-country info
<span style="color:black">TRANGROUP:5400                                         </span>; DS:DX -&gt; buffer for returned info
<span style="color:black">TRANGROUP:5402                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5403                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:5404                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:5405                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:5405
</span><span style="color:black">TRANGROUP:5405 </span><span style="color:gray">$P_Set_CDI_Exit</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5405                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5405 </span>$P_Set_CDI      endp
<span style="color:black">TRANGROUP:5405
</span><span style="color:black">TRANGROUP:5406
</span><span style="color:black">TRANGROUP:5406 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5406
</span><span style="color:black">TRANGROUP:5406
</span><span style="color:black">TRANGROUP:5406 </span>$P_Get_DecNum   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5406                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:5407                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:5408                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:540A
</span><span style="color:black">TRANGROUP:540A </span><span style="color:gray">$P_GetNum_Loop</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:540A                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si]</span>     ; mov al,psdata_seg:[si]
<span style="color:black">TRANGROUP:540D                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:540F                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_GetNum00</span>
<span style="color:black">TRANGROUP:5411                 </span><span style="color:navy">cmp     cs:</span>$P_Got_Time<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; cmp psdata_seg:$P_Got_Time,0
<span style="color:black">TRANGROUP:5417                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Do_Date_Delims</span>
<span style="color:black">TRANGROUP:5419                 </span><span style="color:navy">cmp     bl</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; cmp bl,$P_colon_period
<span style="color:black">TRANGROUP:541C                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Do_Time_Delim1</span>
<span style="color:black">TRANGROUP:541E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">':'</span>         ; $P_Colon
<span style="color:black">TRANGROUP:5420                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_GetNum01</span>
<span style="color:black">TRANGROUP:5422
</span><span style="color:black">TRANGROUP:5422 </span><span style="color:gray">$P_Do_Time_Delim1</span><span style="color:navy">:                      </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5422                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'.'</span>         ; $P_Period
<span style="color:black">TRANGROUP:5424                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_GetNum01</span>
<span style="color:black">TRANGROUP:5426                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Neither_Delims</span>
<span style="color:black">TRANGROUP:5428 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5428
</span><span style="color:black">TRANGROUP:5428 </span><span style="color:gray">$P_Do_Date_Delims</span><span style="color:navy">:                      </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5428                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'-'</span>         ; $P_Minus
<span style="color:black">TRANGROUP:542A                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_GetNum01</span>
<span style="color:black">TRANGROUP:542C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'/'</span>         ; $P_Slash
<span style="color:black">TRANGROUP:542E                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_GetNum01</span>
<span style="color:black">TRANGROUP:5430                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'.'</span>         ; $P_Period
<span style="color:black">TRANGROUP:5432                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_GetNum01</span>
<span style="color:black">TRANGROUP:5434
</span><span style="color:black">TRANGROUP:5434 </span><span style="color:gray">$P_Neither_Delims</span><span style="color:navy">:                      </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5434                 </span><span style="color:navy">call    </span>$P_0099
<span style="color:black">TRANGROUP:5437                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_GetNum_Exit</span>
<span style="color:black">TRANGROUP:5439                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:543B                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:543C                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, </span><span style="color:green">10</span>
<span style="color:black">TRANGROUP:543F                 </span><span style="color:navy">mul     dx</span>
<span style="color:black">TRANGROUP:5441                 </span><span style="color:navy">or      dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5443                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_GetNum02</span>
<span style="color:black">TRANGROUP:5445                 </span><span style="color:navy">add     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5447                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_GetNum_Exit</span>
<span style="color:black">TRANGROUP:5449                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:544A                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:544B                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_GetNum_Loop</span>
<span style="color:black">TRANGROUP:544D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:544D
</span><span style="color:black">TRANGROUP:544D </span><span style="color:gray">$P_GetNum00</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:544D                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:544F                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5450                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_GetNum_Exit</span>
<span style="color:black">TRANGROUP:5452 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5452
</span><span style="color:black">TRANGROUP:5452 </span><span style="color:gray">$P_GetNum01</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5452                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:5453                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5454                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_GetNum_Exit</span>
<span style="color:black">TRANGROUP:5456 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5456
</span><span style="color:black">TRANGROUP:5456 </span><span style="color:gray">$P_GetNum02</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5456                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5457
</span><span style="color:black">TRANGROUP:5457 </span><span style="color:gray">$P_GetNum_Exit</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5457                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5459                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:545A                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:545B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:545B </span>$P_Get_DecNum   endp
<span style="color:black">TRANGROUP:545B
</span><span style="color:black">TRANGROUP:545C
</span><span style="color:black">TRANGROUP:545C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:545C
</span><span style="color:black">TRANGROUP:545C
</span><span style="color:black">TRANGROUP:545C </span>$P_Time_Format  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:545C                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:545D                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:545E                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:545F                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:5460                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:5461                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:5462                 </span><span style="color:navy">call    </span>$P_Set_CDI
<span style="color:black">TRANGROUP:5465                 </span><span style="color:navy">test    byte ptr cs:[si+</span><span style="color:#ff8000">11h</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">1</span> ;
<span style="color:black">TRANGROUP:5465                                         </span>; test byte ptr psdata_seg:[si].$P_CDI_TimeF,1
<span style="color:black">TRANGROUP:546A                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:546B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_TimeF00</span>
<span style="color:black">TRANGROUP:546D                 </span><span style="color:navy">call    </span>$P_Time_2412
<span style="color:black">TRANGROUP:5470
</span><span style="color:black">TRANGROUP:5470 </span><span style="color:gray">$P_TimeF00</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5470                 </span><span style="color:navy">mov     cs:</span>$P_1st_Val<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:5477                 </span><span style="color:navy">mov     cs:</span>$P_2nd_Val<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:547E                 </span><span style="color:navy">mov     cs:</span>$P_3rd_Val<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; mov psdata_seg:$P_3rd_Val,0
<span style="color:black">TRANGROUP:5485                 </span><span style="color:navy">mov     cs:</span>$P_4th_Val<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:548C                 </span><span style="color:navy">mov     cs:</span>$P_Got_Time<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; mov psdata_seg:$P_Got_Time,1
<span style="color:black">TRANGROUP:5492                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; $P_colon_period
<span style="color:black">TRANGROUP:5494                 </span><span style="color:navy">call    </span>$P_Get_DecNum
<span style="color:black">TRANGROUP:5497                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_TimeF_Err0</span>
<span style="color:black">TRANGROUP:5499                 </span><span style="color:navy">mov     cs:</span>$P_1st_Val<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:549D                 </span><span style="color:navy">or      bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:549F                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_TimeF_Rlt</span>
<span style="color:black">TRANGROUP:54A1                 </span><span style="color:navy">call    </span>$P_Get_DecNum
<span style="color:black">TRANGROUP:54A4                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_TimeF_Err0</span>
<span style="color:black">TRANGROUP:54A6                 </span><span style="color:navy">mov     cs:</span>$P_2nd_Val<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:54AA                 </span><span style="color:navy">or      bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:54AC                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_TimeF_Rlt</span>
<span style="color:black">TRANGROUP:54AE                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; mov bl,$P_period_only
<span style="color:black">TRANGROUP:54B0                 </span><span style="color:navy">call    </span>$P_Get_DecNum
<span style="color:black">TRANGROUP:54B3                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_TimeF_Err0</span>
<span style="color:black">TRANGROUP:54B5                 </span><span style="color:navy">mov     cs:</span>$P_3rd_Val<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:54B9                 </span><span style="color:navy">or      bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:54BB                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Time_4</span>
<span style="color:black">TRANGROUP:54BD                 </span><span style="color:navy">test    cs:</span>$P_Flags<span style="color:navy">, </span><span style="color:green">2</span>  ; test psdata_seg:$P_Flags1,$P_Time_Again
<span style="color:black">TRANGROUP:54C3                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_TimeF_Rlt</span>
<span style="color:black">TRANGROUP:54C5                 </span><span style="color:navy">mov     si</span><span style="color:navy">, cs:</span>$P_SI_Save ; mov si,psdata_seg:$P_SI_Save
<span style="color:black">TRANGROUP:54CA                 </span><span style="color:navy">cmp     byte ptr [si-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">','</span> ; cmp byte ptr [si-1],$P_Comma
<span style="color:black">TRANGROUP:54CE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_TimeF_Rlt</span>
<span style="color:black">TRANGROUP:54D0                 </span><span style="color:navy">mov     byte ptr [si-</span><span style="color:green">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">'.'</span> ; mov byte ptr [si-1],$P_Period
<span style="color:black">TRANGROUP:54D4                 </span><span style="color:navy">mov     word ptr cs:</span>$P_Flags<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:54DB                 </span><span style="color:navy">or      cs:</span>$P_Flags<span style="color:navy">, </span><span style="color:green">2</span>  ; or psdata_seg:$P_Flags1,$P_Time_Again
<span style="color:black">TRANGROUP:54E1                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, cs:</span>$P_ORIG_ORD
<span style="color:black">TRANGROUP:54E6                 </span><span style="color:navy">mov     sp</span><span style="color:navy">, cs:</span>$P_ORIG_STACK
<span style="color:black">TRANGROUP:54EB                 </span><span style="color:navy">mov     si</span><span style="color:navy">, cs:</span>$P_ORIG_SI
<span style="color:black">TRANGROUP:54F0                 </span><span style="color:navy">jmp     </span>$P_Redo_Time
<span style="color:black">TRANGROUP:54F3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:54F3
</span><span style="color:black">TRANGROUP:54F3 </span><span style="color:gray">$P_Time_4</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:54F3                 </span><span style="color:navy">call    </span>$P_Get_DecNum
<span style="color:black">TRANGROUP:54F6
</span><span style="color:black">TRANGROUP:54F6 </span><span style="color:gray">$P_TimeF_Err0</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:54F6                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_TimeF_Error</span>
<span style="color:black">TRANGROUP:54F8                 </span><span style="color:navy">mov     cs:</span>$P_4th_Val<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:54FC                 </span><span style="color:navy">or      bl</span><span style="color:navy">, bl</span>
<span style="color:black">TRANGROUP:54FE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_TimeF_Error</span>
<span style="color:black">TRANGROUP:5500
</span><span style="color:black">TRANGROUP:5500 </span><span style="color:gray">$P_TimeF_Rlt</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5500                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_1st_Val
<span style="color:black">TRANGROUP:5504                 </span><span style="color:navy">or      ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:5506                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_TimeF_Error</span>
<span style="color:black">TRANGROUP:5508                 </span><span style="color:navy">test    cs:</span>$P_Flags<span style="color:navy">, </span><span style="color:green">1</span>  ; test psdata_seg:$P_Flags1,$P_Time12am
<span style="color:black">TRANGROUP:550E                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Time_notAM</span>
<span style="color:black">TRANGROUP:5510                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">12</span>
<span style="color:black">TRANGROUP:5512                 </span><span style="color:navy">ja      short </span><span style="color:gray">$P_TimeF_Error</span>
<span style="color:black">TRANGROUP:5514                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Time_notAM</span>
<span style="color:black">TRANGROUP:5516                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5518
</span><span style="color:black">TRANGROUP:5518 </span><span style="color:gray">$P_Time_notAM</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5518                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">4</span> ; test psdata_seg:$P_Flags2,$P_Time12
<span style="color:black">TRANGROUP:551E                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_TimeSkip00</span>
<span style="color:black">TRANGROUP:5520                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">12</span>
<span style="color:black">TRANGROUP:5522                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_TimeSkip00</span>
<span style="color:black">TRANGROUP:5524                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">12</span>
<span style="color:black">TRANGROUP:5526                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_TimeF_Error</span>
<span style="color:black">TRANGROUP:5528                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">24</span>
<span style="color:black">TRANGROUP:552A                 </span><span style="color:navy">ja      short </span><span style="color:gray">$P_TimeF_Error</span>
<span style="color:black">TRANGROUP:552C
</span><span style="color:black">TRANGROUP:552C </span><span style="color:gray">$P_TimeSkip00</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:552C                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:552E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_2nd_Val
<span style="color:black">TRANGROUP:5532                 </span><span style="color:navy">or      ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:5534                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_TimeF_Error</span>
<span style="color:black">TRANGROUP:5536                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5538                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_3rd_Val
<span style="color:black">TRANGROUP:553C                 </span><span style="color:navy">or      ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:553E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_TimeF_Error</span>
<span style="color:black">TRANGROUP:5540                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5542                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cs:</span>$P_4th_Val ; mov ax,psdata_seg:$P_4th_Val
<span style="color:black">TRANGROUP:5546                 </span><span style="color:navy">or      ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:5548                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_TimeF_Error</span>
<span style="color:black">TRANGROUP:554A                 </span><span style="color:navy">mov     ch</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:554C                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:554D                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:554E                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; $P_No_Tag
<span style="color:black">TRANGROUP:5550                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; $P_Time_F
<span style="color:black">TRANGROUP:5552                 </span><span style="color:navy">call    </span>$P_Fill_Result
<span style="color:black">TRANGROUP:5555                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Time_Format_Exit</span>
<span style="color:black">TRANGROUP:5557 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5557
</span><span style="color:black">TRANGROUP:5557 </span><span style="color:gray">$P_TimeF_Error</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5557                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:5558                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:5559                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>
<span style="color:black">TRANGROUP:555B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; $P_String
<span style="color:black">TRANGROUP:555D                 </span><span style="color:navy">call    </span>$P_Fill_Result
<span style="color:black">TRANGROUP:5560                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; mov psdata_seg:$P_RC,$P_Syntax
<span style="color:black">TRANGROUP:5567
</span><span style="color:black">TRANGROUP:5567 </span><span style="color:gray">$P_Time_Format_Exit</span><span style="color:navy">:                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5567                 </span><span style="color:navy">mov     cs:</span>$P_Got_Time<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; mov psdata_seg:$P_Got_Time,0
<span style="color:black">TRANGROUP:556D                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:556E                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:556F                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5570                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5570 </span>$P_Time_Format  endp
<span style="color:black">TRANGROUP:5570
</span><span style="color:black">TRANGROUP:5571
</span><span style="color:black">TRANGROUP:5571 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5571
</span><span style="color:black">TRANGROUP:5571
</span><span style="color:black">TRANGROUP:5571 </span>$P_Time_2412    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5571                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5572                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:5573
</span><span style="color:black">TRANGROUP:5573 </span><span style="color:gray">$P_T12_Loop</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5573                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si]</span>     ; mov al,psdata_seg:[si]
<span style="color:black">TRANGROUP:5576                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:5577                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5579                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_T12_Loop</span>
<span style="color:black">TRANGROUP:557B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si-</span><span style="color:green">2</span><span style="color:navy">]</span>   ; mov al,psdata_seg:[si-word]
<span style="color:black">TRANGROUP:557F                 </span><span style="color:navy">or      al</span><span style="color:navy">, </span><span style="color:green">20h</span>         ; or al,$P_Make_Lower
<span style="color:black">TRANGROUP:5581                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'p'</span>
<span style="color:black">TRANGROUP:5583                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_T1200</span>
<span style="color:black">TRANGROUP:5585                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'a'</span>
<span style="color:black">TRANGROUP:5587                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_T1201</span>
<span style="color:black">TRANGROUP:5589                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'m'</span>
<span style="color:black">TRANGROUP:558B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_T12_Exit</span>
<span style="color:black">TRANGROUP:558D                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:558E                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si-</span><span style="color:green">2</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:5592                 </span><span style="color:navy">or      al</span><span style="color:navy">, </span><span style="color:green">20h</span>
<span style="color:black">TRANGROUP:5594                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'p'</span>
<span style="color:black">TRANGROUP:5596                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_T1200</span>
<span style="color:black">TRANGROUP:5598                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'a'</span>
<span style="color:black">TRANGROUP:559A                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_T1201</span>
<span style="color:black">TRANGROUP:559C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_T12_Exit</span>
<span style="color:black">TRANGROUP:559E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:559E
</span><span style="color:black">TRANGROUP:559E </span><span style="color:gray">$P_T1200</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:559E                 </span><span style="color:navy">or      cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">4</span> ; or psdata_seg:$P_Flags2,$P_Time12
<span style="color:black">TRANGROUP:55A4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Tclr_chr</span>
<span style="color:black">TRANGROUP:55A6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:55A6
</span><span style="color:black">TRANGROUP:55A6 </span><span style="color:gray">$P_T1201</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:55A6                 </span><span style="color:navy">or      cs:</span>$P_Flags<span style="color:navy">, </span><span style="color:green">1</span>  ; or psdata_seg:$P_Flags1,$P_Time12AM
<span style="color:black">TRANGROUP:55AC
</span><span style="color:black">TRANGROUP:55AC </span><span style="color:gray">$P_Tclr_chr</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:55AC                 </span><span style="color:navy">mov     byte ptr cs:[si-</span><span style="color:green">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; psdata_seg:[si-2],$P_NULL
<span style="color:black">TRANGROUP:55B1
</span><span style="color:black">TRANGROUP:55B1 </span><span style="color:gray">$P_T12_Exit</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:55B1                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:55B2                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:55B3                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:55B3 </span>$P_Time_2412    endp
<span style="color:black">TRANGROUP:55B3
</span><span style="color:black">TRANGROUP:55B4
</span><span style="color:black">TRANGROUP:55B4 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:55B4
</span><span style="color:black">TRANGROUP:55B4
</span><span style="color:black">TRANGROUP:55B4 </span>$P_File_Format  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:55B4                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:55B5                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:55B6                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:55B7                 </span><span style="color:navy">mov     di</span><span style="color:navy">, cs:</span>$P_SaveSI_Cmpx
<span style="color:black">TRANGROUP:55BC                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si]</span>
<span style="color:black">TRANGROUP:55BF                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:55C1                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_FileF_Err</span>
<span style="color:black">TRANGROUP:55C3                 </span><span style="color:navy">call    </span>$P_FileSp_Chk
<span style="color:black">TRANGROUP:55C6                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_FileF03</span>
<span style="color:black">TRANGROUP:55C8                 </span><span style="color:navy">mov     cs:</span>$P_err_flag<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; $P_error_filespec
<span style="color:black">TRANGROUP:55CE                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:55CF                 </span><span style="color:navy">mov     byte ptr cs:[si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $P_NULL
<span style="color:black">TRANGROUP:55D3                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:55D4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_FileF02</span>
<span style="color:black">TRANGROUP:55D6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:55D6
</span><span style="color:black">TRANGROUP:55D6 </span><span style="color:gray">$P_FileF_Err</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:55D6                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:55D7                 </span><span style="color:navy">mov     byte ptr cs:[si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:55DB                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:55DC                 </span><span style="color:navy">test    word ptr es:[bx]</span><span style="color:navy">, </span><span style="color:green">1</span> ; [es:bx+$P_CONTROL_BLK.$P_Match_Flag],$P_Optional
<span style="color:black">TRANGROUP:55E1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_FileF02</span>
<span style="color:black">TRANGROUP:55E3                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">2</span>     ; $P_Op_Missing
<span style="color:black">TRANGROUP:55EA                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_FileF02</span>
<span style="color:black">TRANGROUP:55EC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:55EC
</span><span style="color:black">TRANGROUP:55EC </span><span style="color:gray">$P_FileF03</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:55EC                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:55ED                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:55EE
</span><span style="color:black">TRANGROUP:55EE </span><span style="color:gray">$P_FileF_Loop1</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:55EE                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si]</span>
<span style="color:black">TRANGROUP:55F1                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:55F3                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_FileF_RLT</span>
<span style="color:black">TRANGROUP:55F5                 </span><span style="color:navy">call    </span>$P_FileSp_Chk
<span style="color:black">TRANGROUP:55F8                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_FileF00</span>
<span style="color:black">TRANGROUP:55FA                 </span><span style="color:navy">call    </span>$P_Chk_DBCS
<span style="color:black">TRANGROUP:55FD                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$P_FileF01</span>
<span style="color:black">TRANGROUP:55FF                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5600                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:5601
</span><span style="color:black">TRANGROUP:5601 </span><span style="color:gray">$P_FileF01</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5601                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5602                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:5603                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_FileF_Loop1</span>
<span style="color:black">TRANGROUP:5605 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5605
</span><span style="color:black">TRANGROUP:5605 </span><span style="color:gray">$P_FileF00</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5605                 </span><span style="color:navy">mov     cs:</span>$P_Terminator<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5609                 </span><span style="color:navy">mov     byte ptr cs:[si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:560D                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:560E                 </span><span style="color:navy">mov     cs:</span>$P_SI_Save<span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:5613
</span><span style="color:black">TRANGROUP:5613 </span><span style="color:gray">$P_FileF_RLT</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5613                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:5614                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5615
</span><span style="color:black">TRANGROUP:5615 </span><span style="color:gray">$P_FileF02</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5615                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5616                 </span><span style="color:navy">test    ax</span><span style="color:navy">, </span><span style="color:green">200h</span>        ; $P_File_Spc
<span style="color:black">TRANGROUP:5619                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Drv_Only_Exit</span>
<span style="color:black">TRANGROUP:561B                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:561C                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; $P_No_Tag
<span style="color:black">TRANGROUP:561E                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">5</span>           ; $P_File_Spec
<span style="color:black">TRANGROUP:5620                 </span><span style="color:navy">call    </span>$P_Fill_Result
<span style="color:black">TRANGROUP:5623                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5624
</span><span style="color:black">TRANGROUP:5624 </span><span style="color:gray">$P_Drv_Only_Exit</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5624                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5624 </span>$P_File_Format  endp
<span style="color:black">TRANGROUP:5624
</span><span style="color:black">TRANGROUP:5625
</span><span style="color:black">TRANGROUP:5625 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5625
</span><span style="color:black">TRANGROUP:5625
</span><span style="color:black">TRANGROUP:5625 </span>$P_FileSp_Chk   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5625                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:5626                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:5627                 </span><span style="color:navy">lea     bx</span><span style="color:navy">, </span>$P_FileSp_Char <span style="color:gray">; &quot;[]|&lt;&gt;+=;\&quot;&quot;
</span><span style="color:black">TRANGROUP:562B                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>           ; $P_FileSp_Len
<span style="color:black">TRANGROUP:562E
</span><span style="color:black">TRANGROUP:562E </span><span style="color:gray">$P_FileSp_Loop</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:562E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, cs:[bx]</span>
<span style="color:black">TRANGROUP:5631                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_FileSp_Exit</span>
<span style="color:black">TRANGROUP:5633                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5634                 </span><span style="color:navy">loop    </span><span style="color:gray">$P_FileSp_Loop</span>
<span style="color:black">TRANGROUP:5636                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:5637
</span><span style="color:black">TRANGROUP:5637 </span><span style="color:gray">$P_FileSp_Exit</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5637                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:5638                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:5639                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5639 </span>$P_FileSp_Chk   endp
<span style="color:black">TRANGROUP:5639
</span><span style="color:black">TRANGROUP:563A
</span><span style="color:black">TRANGROUP:563A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:563A
</span><span style="color:black">TRANGROUP:563A
</span><span style="color:black">TRANGROUP:563A </span>$P_Drive_Format proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:563A                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:563B                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:563C                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[si]</span>
<span style="color:black">TRANGROUP:563F                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5641                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Drv_Exit</span>
<span style="color:black">TRANGROUP:5643                 </span><span style="color:navy">call    </span>$P_Chk_DBCS
<span style="color:black">TRANGROUP:5646                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Drv_Err</span>
<span style="color:black">TRANGROUP:5648                 </span><span style="color:navy">cmp     word ptr cs:[si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">3Ah</span> <span style="color:gray">; ':' </span>; $P_Colon
<span style="color:black">TRANGROUP:564D                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_DrvF00</span>
<span style="color:black">TRANGROUP:564F                 </span><span style="color:navy">test    word ptr es:[bx]</span><span style="color:navy">, </span><span style="color:green">10h</span> ; $P_Ig_Colon
<span style="color:black">TRANGROUP:5654                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Drv_Err</span>
<span style="color:black">TRANGROUP:5656                 </span><span style="color:navy">cmp     byte ptr cs:[si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:565B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Drv_Err</span>
<span style="color:black">TRANGROUP:565D
</span><span style="color:black">TRANGROUP:565D </span><span style="color:gray">$P_DrvF00</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:565D                 </span><span style="color:navy">or      al</span><span style="color:navy">, </span><span style="color:green">20h</span>         ; $P_Make_Lower
<span style="color:black">TRANGROUP:565F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">61h</span> <span style="color:gray">; 'a'
</span><span style="color:black">TRANGROUP:5661                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Drv_Err</span>
<span style="color:black">TRANGROUP:5663                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">7Ah</span> <span style="color:gray">; 'z'
</span><span style="color:black">TRANGROUP:5665                 </span><span style="color:navy">ja      short </span><span style="color:gray">$P_Drv_Err</span>
<span style="color:black">TRANGROUP:5667                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:#ff8000">60h</span> <span style="color:gray">; '`'
</span><span style="color:black">TRANGROUP:5669                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:566B                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; $P_No_Tag
<span style="color:black">TRANGROUP:566D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>           ; $P_Drive
<span style="color:black">TRANGROUP:566F                 </span><span style="color:navy">call    </span>$P_Fill_Result
<span style="color:black">TRANGROUP:5672                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Drv_Exit</span>
<span style="color:black">TRANGROUP:5674 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5674
</span><span style="color:black">TRANGROUP:5674 </span><span style="color:gray">$P_Drv_Err</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5674                 </span><span style="color:navy">mov     cs:</span>$P_RC<span style="color:navy">, </span><span style="color:#ff8000">9</span>     ; $P_Syntax
<span style="color:black">TRANGROUP:567B
</span><span style="color:black">TRANGROUP:567B </span><span style="color:gray">$P_Drv_Exit</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:567B                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:567C                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:567D                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:567D </span>$P_Drive_Format endp
<span style="color:black">TRANGROUP:567D
</span><span style="color:black">TRANGROUP:567E
</span><span style="color:black">TRANGROUP:567E </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:567E
</span><span style="color:black">TRANGROUP:567E
</span><span style="color:black">TRANGROUP:567E </span>$P_Skip_Delim   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:567E                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:567F                 </span><span style="color:navy">call    </span>$P_Chk_EOL
<span style="color:black">TRANGROUP:5682                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Skip_Delim_CY</span>
<span style="color:black">TRANGROUP:5684                 </span><span style="color:navy">call    </span>$P_Chk_Delim
<span style="color:black">TRANGROUP:5687                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Skip_Delim_NCY</span>
<span style="color:black">TRANGROUP:5689                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">20h</span> ; $P_Extra
<span style="color:black">TRANGROUP:568F                 </span><span style="color:navy">jz      short </span>$P_Skip_Delim
<span style="color:black">TRANGROUP:5691                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">41h</span>
<span style="color:black">TRANGROUP:5697                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Exit_At_Extra</span>
<span style="color:black">TRANGROUP:5699                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:569A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Exit_At_Extra</span>
<span style="color:black">TRANGROUP:569C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:569C
</span><span style="color:black">TRANGROUP:569C </span><span style="color:gray">$P_Skip_Delim_CY</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:569C                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:569D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Skip_Delim_Exit</span>
<span style="color:black">TRANGROUP:569F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:569F
</span><span style="color:black">TRANGROUP:569F </span><span style="color:gray">$P_Skip_Delim_NCY</span><span style="color:navy">:                      </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:569F                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:56A0
</span><span style="color:black">TRANGROUP:56A0 </span><span style="color:gray">$P_Skip_Delim_Exit</span><span style="color:navy">:                     </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:56A0                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:56A1                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:56A2 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:56A2
</span><span style="color:black">TRANGROUP:56A2 </span><span style="color:gray">$P_Exit_At_Extra</span><span style="color:navy">:                       </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:56A2                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:56A3                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:56A3 </span>$P_Skip_Delim   endp
<span style="color:black">TRANGROUP:56A3
</span><span style="color:black">TRANGROUP:56A4
</span><span style="color:black">TRANGROUP:56A4 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:56A4
</span><span style="color:black">TRANGROUP:56A4
</span><span style="color:black">TRANGROUP:56A4 </span>$P_Chk_EOL      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:56A4                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:56A5                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:56A6                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>         ; $P_CR
<span style="color:black">TRANGROUP:56A8                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Chk_EOL_Exit</span>
<span style="color:black">TRANGROUP:56AA                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; $P_NULL
<span style="color:black">TRANGROUP:56AC                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Chk_EOL_Exit</span>
<span style="color:black">TRANGROUP:56AE                 </span><span style="color:navy">cmp     byte ptr es:[di+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">2</span> ; [es:di+$P_PARMS_BLK.$P_Num_Extra],$P_I_Have_EOL
<span style="color:black">TRANGROUP:56B3                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Chk_EOL_Exit</span>
<span style="color:black">TRANGROUP:56B5                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:56B7                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, es:[di+</span><span style="color:#ff8000">3</span><span style="color:navy">]</span>   ; [es:di+$P_PARMS_BLK.$P_Len_Extra_Delim]
<span style="color:black">TRANGROUP:56BB                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; $P_Len_PARMS
<span style="color:black">TRANGROUP:56BE                 </span><span style="color:navy">cmp     byte ptr es:[bx+di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $P_I_Use_Default
<span style="color:black">TRANGROUP:56C2                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Chk_EOL_NZ</span>
<span style="color:black">TRANGROUP:56C4                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:56C6                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:[bx+di]</span>
<span style="color:black">TRANGROUP:56C9
</span><span style="color:black">TRANGROUP:56C9 </span><span style="color:gray">$P_Chk_EOL_Loop</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:56C9                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:56CA                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[bx+di]</span>
<span style="color:black">TRANGROUP:56CD                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Chk_EOL_Exit</span>
<span style="color:black">TRANGROUP:56CF                 </span><span style="color:navy">loop    </span><span style="color:gray">$P_Chk_EOL_Loop</span>
<span style="color:black">TRANGROUP:56D1
</span><span style="color:black">TRANGROUP:56D1 </span><span style="color:gray">$P_Chk_EOL_NZ</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:56D1                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>
<span style="color:black">TRANGROUP:56D3
</span><span style="color:black">TRANGROUP:56D3 </span><span style="color:gray">$P_Chk_EOL_Exit</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:56D3                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:56D4                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:56D5                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:56D5 </span>$P_Chk_EOL      endp
<span style="color:black">TRANGROUP:56D5
</span><span style="color:black">TRANGROUP:56D6
</span><span style="color:black">TRANGROUP:56D6 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:56D6
</span><span style="color:black">TRANGROUP:56D6
</span><span style="color:black">TRANGROUP:56D6 </span>$P_Chk_Delim    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:56D6                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:56D7                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:56D8                 </span><span style="color:navy">mov     cs:</span>$P_Terminator<span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' ' </span>; $P_Space
<span style="color:black">TRANGROUP:56DE                 </span><span style="color:navy">and     cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">0DFh</span> ; 0FFh-$P_Extra
<span style="color:black">TRANGROUP:56E4                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '   </span>; $P_Space
<span style="color:black">TRANGROUP:56E6                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Chk_Delim_Exit</span>
<span style="color:black">TRANGROUP:56E8                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>           ; $P_TAB
<span style="color:black">TRANGROUP:56EA                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Chk_Delim_Exit</span>
<span style="color:black">TRANGROUP:56EC                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Ch</span> <span style="color:gray">; ','   </span>; $P_Comma
<span style="color:black">TRANGROUP:56EE                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Chk_Delim_Exit0</span>
<span style="color:black">TRANGROUP:56F0                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '   </span>; $P_DBSP1
<span style="color:black">TRANGROUP:56F2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Chk_Delim01</span>
<span style="color:black">TRANGROUP:56F4                 </span><span style="color:navy">cmp     byte ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' ' </span>; $P_DBSP2
<span style="color:black">TRANGROUP:56F7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_Chk_Delim01</span>
<span style="color:black">TRANGROUP:56F9                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '
</span><span style="color:black">TRANGROUP:56FB                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:56FC                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:56FE                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Chk_Delim_Exit</span>
<span style="color:black">TRANGROUP:5700 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5700
</span><span style="color:black">TRANGROUP:5700 </span><span style="color:gray">$P_Chk_Delim01</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5700                 </span><span style="color:navy">cmp     byte ptr es:[di+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">1</span> ; [es:di+$P_PARMS_BLK.$P_Num_Extra],$P_I_Have_Delim
<span style="color:black">TRANGROUP:5705                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_Chk_Delim_Exit</span>
<span style="color:black">TRANGROUP:5707                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5709                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:[di+</span><span style="color:#ff8000">3</span><span style="color:navy">]</span>   ; [es:di+$P_PARMS_BLK.$P_Len_Extra_Delim]
<span style="color:black">TRANGROUP:570D                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:570F                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Chk_Delim_NZ</span>
<span style="color:black">TRANGROUP:5711                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; $P_Len_PARMS-1
<span style="color:black">TRANGROUP:5714
</span><span style="color:black">TRANGROUP:5714 </span><span style="color:gray">$P_Chk_Delim_Loop</span><span style="color:navy">:                      </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5714                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5715                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[bx+di]</span>
<span style="color:black">TRANGROUP:5718                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_Chk_Delim_Exit0</span>
<span style="color:black">TRANGROUP:571A                 </span><span style="color:navy">loop    </span><span style="color:gray">$P_Chk_Delim_Loop</span>
<span style="color:black">TRANGROUP:571C
</span><span style="color:black">TRANGROUP:571C </span><span style="color:gray">$P_Chk_Delim_NZ</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:571C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '   </span>; $P_Space
<span style="color:black">TRANGROUP:571E
</span><span style="color:black">TRANGROUP:571E </span><span style="color:gray">$P_Chk_Delim_Exit</span><span style="color:navy">:                      </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:571E                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:571F                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:5720                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5721 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5721
</span><span style="color:black">TRANGROUP:5721 </span><span style="color:gray">$P_Chk_Delim_Exit0</span><span style="color:navy">:                     </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5721                 </span><span style="color:navy">mov     cs:</span>$P_Terminator<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5725                 </span><span style="color:navy">test    cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">1</span> ; $P_equ
<span style="color:black">TRANGROUP:572B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_No_Set_Extra</span>
<span style="color:black">TRANGROUP:572D                 </span><span style="color:navy">or      cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">20h</span> ; $P_Extra
<span style="color:black">TRANGROUP:5733
</span><span style="color:black">TRANGROUP:5733 </span><span style="color:gray">$P_No_Set_Extra</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5733                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5735                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_Chk_Delim_Exit</span>
<span style="color:black">TRANGROUP:5735 </span>$P_Chk_Delim    endp
<span style="color:black">TRANGROUP:5735
</span><span style="color:black">TRANGROUP:5737
</span><span style="color:black">TRANGROUP:5737 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5737
</span><span style="color:black">TRANGROUP:5737
</span><span style="color:black">TRANGROUP:5737 </span>$P_Chk_Switch   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5737                 </span><span style="color:navy">lea     bp</span><span style="color:navy">, </span>$P_STRING_BUF
<span style="color:black">TRANGROUP:573B                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:573D                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_STRUC_L2</span>
<span style="color:black">TRANGROUP:573F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Fh</span> <span style="color:gray">; '/'   </span>; $P_Switch
<span style="color:black">TRANGROUP:5741                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_STRUC_L5</span>
<span style="color:black">TRANGROUP:5743                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5744                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5745                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cs:[bx-</span><span style="color:green">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:5749                 </span><span style="color:navy">call    </span>$P_0099
<span style="color:black">TRANGROUP:574C                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_STRUC_L7</span>
<span style="color:black">TRANGROUP:574E                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:5750                 </span><span style="color:navy">call    </span>$P_0099
<span style="color:black">TRANGROUP:5753
</span><span style="color:black">TRANGROUP:5753 </span><span style="color:gray">$P_STRUC_L7</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5753                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5754                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_STRUC_L1</span>
<span style="color:black">TRANGROUP:5756 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5756
</span><span style="color:black">TRANGROUP:5756 </span><span style="color:gray">$P_STRUC_L5</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5756                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5757                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_STRUC_L1</span>
<span style="color:black">TRANGROUP:5759 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5759
</span><span style="color:black">TRANGROUP:5759 </span><span style="color:gray">$P_STRUC_L2</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5759                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">2Fh</span> <span style="color:gray">; '/'   </span>; $P_Switch
<span style="color:black">TRANGROUP:575B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_STRUC_L12</span>
<span style="color:black">TRANGROUP:575D                 </span><span style="color:navy">or      cs:</span>$P_Flags2<span style="color:navy">, </span><span style="color:green">40h</span> ; $P_SW
<span style="color:black">TRANGROUP:5763
</span><span style="color:black">TRANGROUP:5763 </span><span style="color:gray">$P_STRUC_L12</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5763                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5764
</span><span style="color:black">TRANGROUP:5764 </span><span style="color:gray">$P_STRUC_L1</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5764                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5764 </span>$P_Chk_Switch   endp
<span style="color:black">TRANGROUP:5764
</span><span style="color:black">TRANGROUP:5765
</span><span style="color:black">TRANGROUP:5765 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5765
</span><span style="color:black">TRANGROUP:5765
</span><span style="color:black">TRANGROUP:5765 </span>$P_Chk_DBCS     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5765                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:5766                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:5767                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:5768                 </span><span style="color:navy">cmp     cs:</span>$P_DBCSEV_SEG<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; cmp psdata_seg:$P_DBCSEV_SEG
<span style="color:black">TRANGROUP:576E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$P_DBCS00</span>
<span style="color:black">TRANGROUP:5770                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5771                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:5772                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:5773                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:5774                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:5775                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:5776                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5777                 </span><span style="color:navy">xor     si</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:5779                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:577B                 </span>assume ds:RESGROUP
<span style="color:black">TRANGROUP:577B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">6300h</span>
<span style="color:black">TRANGROUP:577E                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3.2+ only - GET DOUBLE BYTE CHARACTER SET LEAD TABLE
<span style="color:black">TRANGROUP:5780                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds</span>
<span style="color:black">TRANGROUP:5782                 </span><span style="color:navy">or      bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5784                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5785                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:5786                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5787                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:5788                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:5789                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:578A                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:578A                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:578B                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_NON_DBCS</span>
<span style="color:black">TRANGROUP:578D                 </span><span style="color:navy">mov     cs:</span>$P_DBCSEV_OFF<span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:5792                 </span><span style="color:navy">mov     cs:</span>$P_DBCSEV_SEG<span style="color:navy">, bx</span> ; psdata_seg:$P_DBCSEV_SEG,bx
<span style="color:black">TRANGROUP:5797
</span><span style="color:black">TRANGROUP:5797 </span><span style="color:gray">$P_DBCS00</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5797                 </span><span style="color:navy">mov     si</span><span style="color:navy">, cs:</span>$P_DBCSEV_OFF ; psdata_seg:$P_DBCSEV_OFF
<span style="color:black">TRANGROUP:579C                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, cs:</span>$P_DBCSEV_SEG
<span style="color:black">TRANGROUP:57A1
</span><span style="color:black">TRANGROUP:57A1 </span><span style="color:gray">$P_DBCS_LOOP</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:57A1                 </span><span style="color:navy">cmp     word ptr [si]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:57A4                 </span><span style="color:navy">jz      short </span><span style="color:gray">$P_NON_DBCS</span>
<span style="color:black">TRANGROUP:57A6                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, [si]</span>
<span style="color:black">TRANGROUP:57A8                 </span><span style="color:navy">jb      short </span><span style="color:gray">$P_DBCS01</span>
<span style="color:black">TRANGROUP:57AA                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:57AD                 </span><span style="color:navy">ja      short </span><span style="color:gray">$P_DBCS01</span>
<span style="color:black">TRANGROUP:57AF                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:57B0                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_DBCS_EXIT</span>
<span style="color:black">TRANGROUP:57B2 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:57B2
</span><span style="color:black">TRANGROUP:57B2 </span><span style="color:gray">$P_DBCS01</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:57B2                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:57B3                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:57B4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$P_DBCS_LOOP</span>
<span style="color:black">TRANGROUP:57B6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:57B6
</span><span style="color:black">TRANGROUP:57B6 </span><span style="color:gray">$P_NON_DBCS</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:57B6                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:57B7
</span><span style="color:black">TRANGROUP:57B7 </span><span style="color:gray">$P_DBCS_EXIT</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:57B7                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:57B8                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:57B9                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:57BA                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:57BA </span>$P_Chk_DBCS     endp
<span style="color:black">TRANGROUP:57BA
</span><span style="color:black">TRANGROUP:57BB
</span><span style="color:black">TRANGROUP:57BB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:57BB
</span><span style="color:black">TRANGROUP:57BB
</span><span style="color:black">TRANGROUP:57BB </span>cmd_parse       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:57BB                 </span><span style="color:navy">call    </span>sysparse
<span style="color:black">TRANGROUP:57BE                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:57BE </span>cmd_parse       endp
<span style="color:black">TRANGROUP:57BE
</span><span style="color:maroon">TRANGROUP:57BF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:57BF
</span><span style="color:maroon">TRANGROUP:57BF </span>append_parse<span style="color:navy">:                           </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:57BF                 </span><span style="color:navy">call    </span>sysparse
<span style="color:maroon">TRANGROUP:57C2                 </span><span style="color:navy">retf
</span><span style="color:maroon">TRANGROUP:57C3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:57C3
</span><span style="color:maroon">TRANGROUP:57C3 </span>Printf_Init<span style="color:navy">:                            </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:57C3                 </span><span style="color:navy">call    </span>std_printf
<span style="color:maroon">TRANGROUP:57C6                 </span><span style="color:navy">retf
</span><span style="color:black">TRANGROUP:57C7
</span><span style="color:black">TRANGROUP:57C7 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:57C7
</span><span style="color:black">TRANGROUP:57C7
</span><span style="color:black">TRANGROUP:57C7 </span>Printf_Crlf     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:57C7                 </span><span style="color:navy">call    </span>std_printf
<span style="color:black">TRANGROUP:57CA                 </span><span style="color:navy">call    </span>CRLF2
<span style="color:black">TRANGROUP:57CD                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:57CD </span>Printf_Crlf     endp
<span style="color:black">TRANGROUP:57CD
</span><span style="color:black">TRANGROUP:57CE
</span><span style="color:black">TRANGROUP:57CE </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:57CE
</span><span style="color:black">TRANGROUP:57CE
</span><span style="color:black">TRANGROUP:57CE </span>std_eprintf     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:57CE                 </span><span style="color:navy">mov     ds:</span>PRINTF_HANDLE<span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:57D4                 </span><span style="color:navy">jmp     short </span>new_printf
<span style="color:black">TRANGROUP:57D4 </span>std_eprintf     endp
<span style="color:black">TRANGROUP:57D4
</span><span style="color:black">TRANGROUP:57D6
</span><span style="color:black">TRANGROUP:57D6 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:57D6
</span><span style="color:black">TRANGROUP:57D6
</span><span style="color:black">TRANGROUP:57D6 </span>std_printf      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:57D6                 </span><span style="color:navy">mov     ds:</span>PRINTF_HANDLE<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:57DC
</span><span style="color:black">TRANGROUP:57DC </span>new_printf<span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:57DC                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:57DD                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:57DE                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:57DF                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:57E0                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:57E1                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:57E2                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:57E3                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:57E4                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:57E5                 </span><span style="color:navy">mov     ds:</span>print_err_flag<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; mov word [print_err_flag],0
<span style="color:black">TRANGROUP:57EB                 </span><span style="color:navy">mov     si</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:57ED                 </span><span style="color:navy">lodsw
</span><span style="color:black">TRANGROUP:57EE                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:57EF                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:57F0                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:57F2                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:57F4                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:57F5                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:57F8                 </span><span style="color:navy">jz      short </span><span style="color:gray">ready_to_print</span>
<span style="color:black">TRANGROUP:57FA                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>subst_buffer
<span style="color:black">TRANGROUP:57FD                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:57FE                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:57FF
</span><span style="color:black">TRANGROUP:57FF </span><span style="color:gray">move_subst</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:57FF                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:5800                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:5802                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">11</span>          ; parm_block_size
<span style="color:black">TRANGROUP:5805                 </span><span style="color:navy">rep movsb
</span><span style="color:black">TRANGROUP:5807                 </span><span style="color:navy">test    byte ptr [bx+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">4</span> ; [bx.$M_S_FLAG],date_type
<span style="color:black">TRANGROUP:580B                 </span><span style="color:navy">jz      short </span><span style="color:gray">move_subst_cont</span>
<span style="color:black">TRANGROUP:580D                 </span><span style="color:navy">mov     word ptr [bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [bx.$M_S_VALUE],0
<span style="color:black">TRANGROUP:5812                 </span><span style="color:navy">mov     word ptr [bx+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [bx.$M_S_VALUE+2],0
<span style="color:black">TRANGROUP:5817
</span><span style="color:black">TRANGROUP:5817 </span><span style="color:gray">move_subst_cont</span><span style="color:navy">:                        </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5817                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:5818                 </span><span style="color:navy">loop    </span><span style="color:gray">move_subst</span>
<span style="color:black">TRANGROUP:581A                 </span><span style="color:navy">pop     cx</span>              ; (number of substitutions)
<span style="color:black">TRANGROUP:581B                 </span><span style="color:navy">push    ax</span>              ; (Message Number)
<span style="color:black">TRANGROUP:581C                 </span><span style="color:navy">cmp     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; Util_Msg_Class
<span style="color:black">TRANGROUP:5821                 </span><span style="color:navy">jz      short </span><span style="color:gray">check_fix</span>
<span style="color:black">TRANGROUP:5823                 </span><span style="color:navy">mov     ds:</span>msg_flag<span style="color:navy">, </span><span style="color:#ff8000">1</span>  ; ext_msg_class
<span style="color:black">TRANGROUP:5828                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:582B                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:582D                 </span><span style="color:navy">stosw
</span><span style="color:black">TRANGROUP:582E                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:582F
</span><span style="color:black">TRANGROUP:582F </span><span style="color:gray">check_fix</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:582F                 </span><span style="color:navy">pop     ax</span>              ; (Message Number)
<span style="color:black">TRANGROUP:5830                 </span><span style="color:navy">pop     di</span>              ; (subst_buffer)
<span style="color:black">TRANGROUP:5831                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:5833                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:5835                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:5836
</span><span style="color:black">TRANGROUP:5836 </span><span style="color:gray">set_subst</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5836                 </span><span style="color:navy">cmp     word ptr [bx+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; [bx.$M_S_VALUE+2],0
<span style="color:black">TRANGROUP:583A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">subst_seg_set</span>
<span style="color:black">TRANGROUP:583C                 </span><span style="color:navy">test    byte ptr [bx+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">4</span> ; [bx.$M_S_FLAG],date_type
<span style="color:black">TRANGROUP:5840                 </span><span style="color:navy">jnz     short </span><span style="color:gray">subst_seg_set</span>
<span style="color:black">TRANGROUP:5842                 </span><span style="color:navy">mov     word ptr [bx+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span><span style="color:navy">, cs</span> ; [bx.$M_S_VALUE+2],cs
<span style="color:black">TRANGROUP:5845
</span><span style="color:black">TRANGROUP:5845 </span><span style="color:gray">subst_seg_set</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5845                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:green">11</span>          ; parm_block_size
<span style="color:black">TRANGROUP:5848                 </span><span style="color:navy">loop    </span><span style="color:gray">set_subst</span>
<span style="color:black">TRANGROUP:584A                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:584B                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:584D                 </span><span style="color:navy">cmp     word ptr [bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, offset </span>string_ptr_2 ;
<span style="color:black">TRANGROUP:584D                                         </span>; [bx.$M_S_VALUE],offset trangroup:string_ptr_2
<span style="color:black">TRANGROUP:5852                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ready_to_print</span>
<span style="color:black">TRANGROUP:5854                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ds:</span>string_ptr_2
<span style="color:black">TRANGROUP:5858                 </span><span style="color:navy">mov     [bx+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span><span style="color:navy">, dx</span>      ; [bx.$M_S_VALUE],dx
<span style="color:black">TRANGROUP:585B
</span><span style="color:black">TRANGROUP:585B </span><span style="color:gray">ready_to_print</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:585B                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ds:</span>PRINTF_HANDLE
<span style="color:black">TRANGROUP:585F                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, ds:</span>msg_cont_flag
<span style="color:black">TRANGROUP:5863                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, ds:</span>msg_disp_class
<span style="color:black">TRANGROUP:5867                 </span><span style="color:navy">mov     ds:</span>msg_cont_flag<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; no_cont_flag (no control flag)
<span style="color:black">TRANGROUP:586C                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; Util_Msg_Class
<span style="color:black">TRANGROUP:5871                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:5872                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5873                 </span><span style="color:navy">call    </span>SYSDISPMSG
<span style="color:black">TRANGROUP:5876                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5877                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:5878                 </span><span style="color:navy">jnb     short </span><span style="color:gray">print_success</span>
<span style="color:black">TRANGROUP:587A                 </span><span style="color:navy">mov     ds:</span>print_err_flag<span style="color:navy">, ax</span> ; cmp word [print_err_flag],0
<span style="color:black">TRANGROUP:587D
</span><span style="color:black">TRANGROUP:587D </span><span style="color:gray">print_success</span><span style="color:navy">:                          </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:587D                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:587E                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:587F                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5880                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5881                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:5882                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:5883                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5884                 </span><span style="color:navy">cmp     ds:</span>print_err_flag<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:5889                 </span><span style="color:navy">jnz     short </span><span style="color:gray">print_err</span>
<span style="color:black">TRANGROUP:588B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:588C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:588C
</span><span style="color:black">TRANGROUP:588C </span><span style="color:gray">print_err</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:588C                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:588D                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:588E                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:588E                 </span><span style="color:navy">cmp     ds:</span>PRINTF_HANDLE<span style="color:navy">, </span><span style="color:#ff8000">2</span>
<span style="color:black">TRANGROUP:5893                 </span><span style="color:navy">jnz     short </span><span style="color:gray">not_stderr</span>
<span style="color:black">TRANGROUP:5895                 </span><span style="color:navy">jmp     </span>TCOMMAND
<span style="color:black">TRANGROUP:5898 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5898
</span><span style="color:black">TRANGROUP:5898 </span><span style="color:gray">not_stderr</span><span style="color:navy">:                             </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5898                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>print_err_flag
<span style="color:black">TRANGROUP:589B                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:589F                 </span>assume es:nothing
<span style="color:black">TRANGROUP:589F                 </span><span style="color:navy">test    es:</span>PipeFlag<span style="color:navy">, </span><span style="color:green">0FFh</span> ; -1
<span style="color:black">TRANGROUP:58A5                 </span><span style="color:navy">jz      short </span><span style="color:gray">_go_to_error</span>
<span style="color:black">TRANGROUP:58A7                 </span><span style="color:navy">call    </span>PipeOff
<span style="color:black">TRANGROUP:58AA                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>PIPEEMES_PTR
<span style="color:black">TRANGROUP:58AD                 </span><span style="color:navy">jmp     short </span><span style="color:gray">print_err_exit</span>
<span style="color:black">TRANGROUP:58AF </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:58AF
</span><span style="color:black">TRANGROUP:58AF </span><span style="color:gray">_go_to_error</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:58AF                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; ext_msg_class
<span style="color:black">TRANGROUP:58B4                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:58B7                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:58BA
</span><span style="color:black">TRANGROUP:58BA </span><span style="color:gray">print_err_exit</span><span style="color:navy">:                         </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:58BA                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:58BB                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:58BC                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:58BC                 </span><span style="color:navy">jmp     </span>cerror
<span style="color:black">TRANGROUP:58BC </span>std_printf      endp
<span style="color:black">TRANGROUP:58BC
</span><span style="color:black">TRANGROUP:58BF
</span><span style="color:black">TRANGROUP:58BF </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:58BF
</span><span style="color:black">TRANGROUP:58BF
</span><span style="color:black">TRANGROUP:58BF </span>TSYSLOADMSG     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:58BF                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:58C0                 </span><span style="color:navy">call    </span>SYSLOADMSG
<span style="color:black">TRANGROUP:58C3                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:58C4                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:58C4 </span>TSYSLOADMSG     endp
<span style="color:black">TRANGROUP:58C4
</span><span style="color:black">TRANGROUP:58C5
</span><span style="color:black">TRANGROUP:58C5 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:58C5
</span><span style="color:black">TRANGROUP:58C5
</span><span style="color:black">TRANGROUP:58C5 </span>TSYSGETMSG      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:58C5                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:58C6                 </span><span style="color:navy">call    </span>SYSGETMSG
<span style="color:black">TRANGROUP:58C9                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:58CA                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:58CA </span>TSYSGETMSG      endp
<span style="color:black">TRANGROUP:58CA
</span><span style="color:black">TRANGROUP:58CB
</span><span style="color:black">TRANGROUP:58CB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:58CB
</span><span style="color:black">TRANGROUP:58CB
</span><span style="color:black">TRANGROUP:58CB </span>SYSLOADMSG      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:58CB                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:58CC                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:58CD                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:58CE                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:58CF                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:58D0                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:58D2                 </span><span style="color:navy">mov     es</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:58D4                 </span>assume es:RESGROUP
<span style="color:black">TRANGROUP:58D4                 </span><span style="color:navy">xor     di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:58D6                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">122Eh</span>       ; DOS_GET_EXT_PARSE_ADD
<span style="color:black">TRANGROUP:58D9                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; DOS_GET_EXTENDED
<span style="color:black">TRANGROUP:58DB                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; Multiplex - DOS 3+ internal - GET OR SET ERROR TABLE ADDRESSES
<span style="color:black">TRANGROUP:58DB                                         </span>; DL = subfunction - get standard DOS error table (errors 00h-12h,50h-5Bh)
<span style="color:black">TRANGROUP:58DB                                         </span>; Return: ES:DI -&gt; error table
<span style="color:black">TRANGROUP:58DD                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_EXT_COMMAND<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span> ; [$M_RT+10]
<span style="color:black">TRANGROUP:58E1                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_EXT_COMMAND<span style="color:navy">, di</span> ; [$M_RT+8]
<span style="color:black">TRANGROUP:58E5                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">122Eh</span>
<span style="color:black">TRANGROUP:58E8                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; DOS_GET_PARSE
<span style="color:black">TRANGROUP:58EA                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; Multiplex - DOS 3+ internal - GET OR SET ERROR TABLE ADDRESSES
<span style="color:black">TRANGROUP:58EA                                         </span>; DL = subfunction - get parameter error table (errors 00h-0Ah)
<span style="color:black">TRANGROUP:58EA                                         </span>; ES:DI -&gt; error table
<span style="color:black">TRANGROUP:58EC                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_PARSE_COMMAND<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span> ; [$M_RT+18]
<span style="color:black">TRANGROUP:58F0                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_PARSE_COMMAND<span style="color:navy">, di</span> ; [$M_RT+16]
<span style="color:black">TRANGROUP:58F4                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">122Eh</span>
<span style="color:black">TRANGROUP:58F7                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; DOS_GET_CRITICAL
<span style="color:black">TRANGROUP:58F9                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; Multiplex - DOS 3+ internal - GET OR SET ERROR TABLE ADDRESSES
<span style="color:black">TRANGROUP:58F9                                         </span>; DL = subfunction - get critical/SHARE error table (errors 13h-2Bh)
<span style="color:black">TRANGROUP:58F9                                         </span>; ES:DI -&gt; error table
<span style="color:black">TRANGROUP:58FB                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_CRIT_COMMAND<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span> ; [$M_RT+34]
<span style="color:black">TRANGROUP:58FF                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_CRIT_COMMAND<span style="color:navy">, di</span> ; [$M_RT+32]
<span style="color:black">TRANGROUP:5903                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">122Eh</span>
<span style="color:black">TRANGROUP:5906                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:#ff8000">6</span>           ; DOS_GET_FILE
<span style="color:black">TRANGROUP:5908                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; Multiplex - DOS 3+ internal - GET OR SET ERROR TABLE ADDRESSES
<span style="color:black">TRANGROUP:5908                                         </span>; DL = subfunction - get ??? error table
<span style="color:black">TRANGROUP:5908                                         </span>; ES:DI -&gt; error table
<span style="color:black">TRANGROUP:590A                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_EXT_FILE<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span> ; [$M_RT+6]
<span style="color:black">TRANGROUP:590E                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_EXT_FILE<span style="color:navy">, di</span> ; [$M_RT+4]
<span style="color:black">TRANGROUP:5912                 </span><span style="color:navy">call    </span>$M_MSGSERV_1
<span style="color:black">TRANGROUP:5915                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_EXT_ERR_ADDRS<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span> ; [$M_RT+2]
<span style="color:black">TRANGROUP:5919                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_EXT_ERR_ADDRS<span style="color:navy">, di</span> ; [$M_RT+0]
<span style="color:black">TRANGROUP:591D                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_CRIT_ADDRS<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span> ; [$M_RT+30]
<span style="color:black">TRANGROUP:5921                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_CRIT_ADDRS<span style="color:navy">, di</span> ; [$M_RT+28]
<span style="color:black">TRANGROUP:5925                 </span><span style="color:navy">call    </span>$M_MSGSERV_2
<span style="color:black">TRANGROUP:5928                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_PARSE_ADDRS<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span> ; [$M_RT+22]
<span style="color:black">TRANGROUP:592C                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_PARSE_ADDRS<span style="color:navy">, di</span> ; [$M_RT+20]
<span style="color:black">TRANGROUP:5930                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">122Eh</span>
<span style="color:black">TRANGROUP:5933                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>
<span style="color:black">TRANGROUP:5935                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; Multiplex - DOS 3+ internal - GET OR SET ERROR TABLE ADDRESSES
<span style="color:black">TRANGROUP:5935                                         </span>; DL = subfunction - get ??? error table
<span style="color:black">TRANGROUP:5935                                         </span>; Return: ES:DI -&gt; error table
<span style="color:black">TRANGROUP:5937                 </span><span style="color:navy">mov     word ptr ds:</span>$M_RT_$M_DISK_PROC_ADDR<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span> ; [$M_RT+42]
<span style="color:black">TRANGROUP:593B                 </span><span style="color:navy">mov     word ptr ds:</span>$M_RT_$M_DISK_PROC_ADDR<span style="color:navy">, di</span> ; [$M_RT+40]
<span style="color:black">TRANGROUP:593F                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_CRLF<span style="color:navy">, </span><span style="color:#ff8000">0A0Dh</span> ; CRLF
<span style="color:black">TRANGROUP:5945                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_BUF_TERM<span style="color:navy">, </span><span style="color:#ff8000">24h</span> <span style="color:gray">; '$'
</span><span style="color:black">TRANGROUP:594A                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_MSG_NUM<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_NULL
<span style="color:black">TRANGROUP:5950                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DIVISOR<span style="color:navy">, </span><span style="color:green">10</span> ; $M_BASE10
<span style="color:black">TRANGROUP:5956                 </span><span style="color:navy">call    </span>$M_CLS_3        ; Get addressibilty to class F
<span style="color:black">TRANGROUP:5959                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_CLASS_ADDRS<span style="color:navy">, di</span> ; $M_RT.$M_CLASS_ADDRS+$M_INDEX ; $M_INDEX = 0
<span style="color:black">TRANGROUP:5959                                         </span>; [$M_RT+44]
<span style="color:black">TRANGROUP:595D                 </span><span style="color:navy">call    </span>$M_GET_DBCS_VEC
<span style="color:black">TRANGROUP:5960                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5961                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF20</span>
<span style="color:black">TRANGROUP:5963                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5964                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5965                 </span>assume es:nothing
<span style="color:black">TRANGROUP:5965                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:5966                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:5967                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5968                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN20</span>
<span style="color:black">TRANGROUP:596A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:596A
</span><span style="color:black">TRANGROUP:596A </span><span style="color:gray">$MIF20</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:596A                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">10</span>
<span style="color:black">TRANGROUP:596D                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:596E
</span><span style="color:black">TRANGROUP:596E </span><span style="color:gray">$MEN20</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:596E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:596E </span>SYSLOADMSG      endp
<span style="color:black">TRANGROUP:596E
</span><span style="color:black">TRANGROUP:596F
</span><span style="color:black">TRANGROUP:596F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:596F
</span><span style="color:black">TRANGROUP:596F
</span><span style="color:black">TRANGROUP:596F </span>$M_GET_DBCS_VEC proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:596F                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5970                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:5971                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:5972                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">6300h</span>
<span style="color:black">TRANGROUP:5975                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3.2+ only - GET DOUBLE BYTE CHARACTER SET LEAD TABLE
<span style="color:black">TRANGROUP:5977                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:5978                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5979                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:597A                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF23</span>
<span style="color:black">TRANGROUP:597C                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DBCS_VEC<span style="color:navy">, si</span> ; $M_RT.$M_DBCS_VEC
<span style="color:black">TRANGROUP:597C                                         </span>; [$M_RT+60]
<span style="color:black">TRANGROUP:5980                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DBCS_VEC<span style="color:navy">+</span><span style="color:green">2</span><span style="color:navy">, es</span> ; [$M_RT+62]
<span style="color:black">TRANGROUP:5984
</span><span style="color:black">TRANGROUP:5984 </span><span style="color:gray">$MIF23</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5984                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:5985                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5986                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5986 </span>$M_GET_DBCS_VEC endp
<span style="color:black">TRANGROUP:5986
</span><span style="color:black">TRANGROUP:5987
</span><span style="color:black">TRANGROUP:5987 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5987
</span><span style="color:black">TRANGROUP:5987
</span><span style="color:black">TRANGROUP:5987 </span>SYSGETMSG       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5987                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5988                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5989                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:598A                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:598B                 </span><span style="color:navy">call    </span>$M_GET_MSG_ADDRESS
<span style="color:black">TRANGROUP:598E                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF31</span>
<span style="color:black">TRANGROUP:5990                 </span><span style="color:navy">cmp     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; UTILITY_MSG_CLASS
<span style="color:black">TRANGROUP:5993                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5994                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF32</span>
<span style="color:black">TRANGROUP:5996                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5997                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:5998                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN32</span>
<span style="color:black">TRANGROUP:599A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:599A
</span><span style="color:black">TRANGROUP:599A </span><span style="color:gray">$MIF32</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:599A                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:599B                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:599C                 </span>assume ds:TRANGROUP
<span style="color:black">TRANGROUP:599C
</span><span style="color:black">TRANGROUP:599C </span><span style="color:gray">$MEN32</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:599C                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:599E
</span><span style="color:black">TRANGROUP:599E </span><span style="color:gray">$MIF31</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:599E                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:599F                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:59A0                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:59A1                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:59A2                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:59A2 </span>SYSGETMSG       endp
<span style="color:black">TRANGROUP:59A2
</span><span style="color:black">TRANGROUP:59A3
</span><span style="color:black">TRANGROUP:59A3 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:59A3
</span><span style="color:black">TRANGROUP:59A3
</span><span style="color:black">TRANGROUP:59A3 </span>$M_GET_MSG_ADDRESS proc near            <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:59A3
</span><span style="color:black">TRANGROUP:59A3 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:5A3C SIZE 00000007 BYTES
</span><span style="color:black">TRANGROUP:59A3
</span><span style="color:black">TRANGROUP:59A3                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:59A4                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:59A5                 </span><span style="color:navy">xor     si</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:59A7                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:59A9
</span><span style="color:black">TRANGROUP:59A9 </span><span style="color:gray">$MDO36</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:59A9                 </span><span style="color:navy">cmp     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; UTILITY_MSG_CLASS
<span style="color:black">TRANGROUP:59AC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF37</span>
<span style="color:black">TRANGROUP:59AE                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span>$M_RT_$M_CLASS_ADDRS<span style="color:navy">[si]</span> ;
<span style="color:black">TRANGROUP:59AE                                         </span>; mov di,[si+$M_RT+$M_RES_ADDRS.$M_CLASS_ADDRS]
<span style="color:black">TRANGROUP:59B2                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:59B4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN37</span>
<span style="color:black">TRANGROUP:59B6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:59B6
</span><span style="color:black">TRANGROUP:59B6 </span><span style="color:gray">$MIF37</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:59B6                 </span><span style="color:navy">test    dh</span><span style="color:navy">, </span><span style="color:green">2</span>           ; PARSE_ERR_CLASS
<span style="color:black">TRANGROUP:59B9                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF39</span>
<span style="color:black">TRANGROUP:59BB                 </span><span style="color:navy">les     di</span><span style="color:navy">, dword ptr </span>$M_RT_$M_PARSE_COMMAND<span style="color:navy">[si]</span> ;
<span style="color:black">TRANGROUP:59BB                                         </span>; les di,[si+$M_RT+$M_RES_ADDRS.$M_PARSE_COMMAND]
<span style="color:black">TRANGROUP:59BF                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:59C1                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN37</span>
<span style="color:black">TRANGROUP:59C3 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:59C3
</span><span style="color:black">TRANGROUP:59C3 </span><span style="color:gray">$MIF39</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:59C3                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">19</span>          ; $M_CRIT_LO
<span style="color:black">TRANGROUP:59C6                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF41</span>
<span style="color:black">TRANGROUP:59C8                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">39</span>          ; $M_CRIT_HI
<span style="color:black">TRANGROUP:59CB                 </span><span style="color:navy">ja      short </span><span style="color:gray">$MIF41</span>
<span style="color:black">TRANGROUP:59CD                 </span><span style="color:navy">les     di</span><span style="color:navy">, dword ptr </span>$M_RT_$M_CRIT_ADDRS<span style="color:navy">[si]</span> ;
<span style="color:black">TRANGROUP:59CD                                         </span>; les di,[si+$M_RT+$M_RES_ADDRS.$M_CRIT_ADDRS]
<span style="color:black">TRANGROUP:59D1                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:59D3                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN37</span>
<span style="color:black">TRANGROUP:59D5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:59D5
</span><span style="color:black">TRANGROUP:59D5 </span><span style="color:gray">$MIF41</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:59D5                 </span><span style="color:navy">les     di</span><span style="color:navy">, dword ptr </span>$M_RT_$M_EXT_ERR_ADDRS<span style="color:navy">[si]</span> ;
<span style="color:black">TRANGROUP:59D5                                         </span>; les di,[si+$M_RT+$M_RES_ADDRS.$M_EXT_ERR_ADDRS]
<span style="color:black">TRANGROUP:59D9                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:59DB
</span><span style="color:black">TRANGROUP:59DB </span><span style="color:gray">$MEN37</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:59DB                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; $M_TERMINATING_FLAG
<span style="color:black">TRANGROUP:59DE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF46</span>
<span style="color:black">TRANGROUP:59E0                 </span><span style="color:navy">cmp     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; UTILITY_MSG_CLASS
<span style="color:black">TRANGROUP:59E3                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF47</span>
<span style="color:black">TRANGROUP:59E5                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:59E6                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN47</span>
<span style="color:black">TRANGROUP:59E8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:59E8
</span><span style="color:black">TRANGROUP:59E8 </span><span style="color:gray">$MIF47</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:59E8                 </span><span style="color:navy">mov     </span>$M_RT_$M_MSG_NUM<span style="color:navy">, ax</span> ; $M_RT.$M_MSG_NUM
<span style="color:black">TRANGROUP:59E8                                         </span>; [$M_RT+72]
<span style="color:black">TRANGROUP:59EB                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; $M_SPECIAL_MSG_NUM
<span style="color:black">TRANGROUP:59EE                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; $M_ONE_REPLACE
<span style="color:black">TRANGROUP:59F1                 </span><span style="color:navy">xor     si</span><span style="color:navy">, si</span>
<span style="color:black">TRANGROUP:59F3                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:59F4
</span><span style="color:black">TRANGROUP:59F4 </span><span style="color:gray">$MEN47</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:59F4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN46</span>
<span style="color:black">TRANGROUP:59F6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:59F6
</span><span style="color:black">TRANGROUP:59F6 </span><span style="color:gray">$MIF46</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:59F6                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; $M_CLASS_NOT_EXIST
<span style="color:black">TRANGROUP:59F9                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF51</span>
<span style="color:black">TRANGROUP:59FB                 </span><span style="color:navy">call    </span>$M_FIND_SPECIFIED_MSG
<span style="color:black">TRANGROUP:59FE
</span><span style="color:black">TRANGROUP:59FE </span><span style="color:gray">$MIF51</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:59FE                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; $M_ADDR_SZ_FAR
<span style="color:black">TRANGROUP:5A01                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5A02
</span><span style="color:black">TRANGROUP:5A02 </span><span style="color:gray">$MEN46</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A02                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MEN36</span>
<span style="color:black">TRANGROUP:5A04                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5A06                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MEN36</span>
<span style="color:black">TRANGROUP:5A08                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MDO36</span>
<span style="color:black">TRANGROUP:5A0A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5A0A
</span><span style="color:black">TRANGROUP:5A0A </span><span style="color:gray">$MEN36</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A0A                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:5A0B                 </span><span style="color:navy">cmp     dh</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; EXT_ERR_CLASS
<span style="color:black">TRANGROUP:5A0E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF56</span>
<span style="color:black">TRANGROUP:5A10                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:5A11                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:5A12                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:5A13                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5A14                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:5A15                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5A16                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">500h</span>        ; IFSFUNC_INSTALL_CHECK
<span style="color:black">TRANGROUP:5A19                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; Multiplex - DOS 3+ CRITICAL ERROR HANDLER - INSTALLATION CHECK
<span style="color:black">TRANGROUP:5A19                                         </span>; Return: AL = 00h not installed, OK to install
<span style="color:black">TRANGROUP:5A19                                         </span>; 01h not installed, can't install
<span style="color:black">TRANGROUP:5A19                                         </span>; FFh installed
<span style="color:black">TRANGROUP:5A1B                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; IFSFUNC_INSTALLED
<span style="color:black">TRANGROUP:5A1D                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5A1E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF57</span>
<span style="color:black">TRANGROUP:5A20                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5A22                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">502h</span>        ; IFS_GET_ERR_TEXT
<span style="color:black">TRANGROUP:5A25                 </span><span style="color:navy">int     </span><span style="color:green">2Fh</span>             ; Multiplex - DOS 3+ CRITICAL ERROR HANDLER -
<span style="color:black">TRANGROUP:5A27                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN57</span>
<span style="color:black">TRANGROUP:5A29 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5A29
</span><span style="color:black">TRANGROUP:5A29 </span><span style="color:gray">$MIF57</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A29                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5A2A
</span><span style="color:black">TRANGROUP:5A2A </span><span style="color:gray">$MEN57</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A2A                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MIF60</span>
<span style="color:black">TRANGROUP:5A2C                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5A2D                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5A2E                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:5A2F                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN60</span>
<span style="color:black">TRANGROUP:5A31 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5A31
</span><span style="color:black">TRANGROUP:5A31 </span><span style="color:gray">$MIF60</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A31                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">6</span>
<span style="color:black">TRANGROUP:5A34                 </span><span style="color:navy">call    </span>$M_SET_LEN_IN_CX
<span style="color:black">TRANGROUP:5A37
</span><span style="color:black">TRANGROUP:5A37 </span><span style="color:gray">$MEN60</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A37                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:5A38                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:5A39
</span><span style="color:black">TRANGROUP:5A39 </span><span style="color:gray">$MIF56</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A39                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$M_MYRET</span>
<span style="color:black">TRANGROUP:5A39 </span>$M_GET_MSG_ADDRESS endp
<span style="color:black">TRANGROUP:5A39
</span><span style="color:maroon">TRANGROUP:5A3B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:5A3B
</span><span style="color:maroon">TRANGROUP:5A3B </span>m_popf_iret<span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:5A3B                 </span><span style="color:navy">iret
</span><span style="color:black">TRANGROUP:5A3C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5A3C </span><span style="color:gray">; START OF FUNCTION CHUNK FOR $M_GET_MSG_ADDRESS
</span><span style="color:black">TRANGROUP:5A3C
</span><span style="color:black">TRANGROUP:5A3C </span><span style="color:gray">$M_MYRET</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A3C                 </span><span style="color:navy">push    cs</span>              ; $M_POPF (macro)
<span style="color:black">TRANGROUP:5A3D                 </span><span style="color:navy">call    </span>m_popf_iret
<span style="color:black">TRANGROUP:5A40                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:5A41                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:5A42                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5A42 </span><span style="color:gray">; END OF FUNCTION CHUNK FOR $M_GET_MSG_ADDRESS
</span><span style="color:black">TRANGROUP:5A43
</span><span style="color:black">TRANGROUP:5A43 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5A43
</span><span style="color:black">TRANGROUP:5A43
</span><span style="color:black">TRANGROUP:5A43 </span>$M_SET_LEN_IN_CX proc near              <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A43                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:5A44                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5A45                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; -1 ; 65535
<span style="color:black">TRANGROUP:5A48                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5A4A                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:5A4C                 </span><span style="color:navy">not     cx</span>
<span style="color:black">TRANGROUP:5A4E                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:5A4F                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5A50                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5A51                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5A51 </span>$M_SET_LEN_IN_CX endp
<span style="color:black">TRANGROUP:5A51
</span><span style="color:black">TRANGROUP:5A52
</span><span style="color:black">TRANGROUP:5A52 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5A52
</span><span style="color:black">TRANGROUP:5A52
</span><span style="color:black">TRANGROUP:5A52 </span>$M_FIND_SPECIFIED_MSG proc near         <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A52                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:5A55                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF64</span>
<span style="color:black">TRANGROUP:5A57                 </span><span style="color:navy">cmp     word ptr </span>$M_RT_$M_DISK_PROC_ADDR<span style="color:navy">, </span><span style="color:green">0FFFFh</span> ; [$M_RT+40],-1
<span style="color:black">TRANGROUP:5A5C                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF64</span>
<span style="color:black">TRANGROUP:5A5E                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:5A61                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF65</span>
<span style="color:black">TRANGROUP:5A63                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5A64                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span>$M_RT_$M_MSG_NUM ; $M_RT.$M_MSG_NUM
<span style="color:black">TRANGROUP:5A64                                         </span>; [$M_RT+72]
<span style="color:black">TRANGROUP:5A67                 </span><span style="color:navy">call    </span>$M_RT_$M_DISK_PROC_ADDR ; DWORD PTR $M_RT.$M_DISK_PROC_ADDR
<span style="color:black">TRANGROUP:5A67                                         </span>; call far [$M_RT+$M_RES_ADDRS.$M_DISK_PROC_ADDR]
<span style="color:black">TRANGROUP:5A6B                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5A6C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN65</span>
<span style="color:black">TRANGROUP:5A6E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5A6E
</span><span style="color:black">TRANGROUP:5A6E </span><span style="color:gray">$MIF65</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A6E                 </span><span style="color:navy">call    </span>$M_RT_$M_DISK_PROC_ADDR ;
<span style="color:black">TRANGROUP:5A6E                                         </span>; call far [$M_RT+$M_RES_ADDRS.$M_DISK_PROC_ADDR]
<span style="color:black">TRANGROUP:5A72
</span><span style="color:black">TRANGROUP:5A72 </span><span style="color:gray">$MEN65</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A72                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN64</span>
<span style="color:black">TRANGROUP:5A74 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5A74
</span><span style="color:black">TRANGROUP:5A74 </span><span style="color:gray">$MIF64</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A74                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5A76                 </span><span style="color:navy">cmp     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; UTILITY_MSG_CLASS
<span style="color:black">TRANGROUP:5A79                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF69</span>
<span style="color:black">TRANGROUP:5A7B                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:[di+</span><span style="color:#ff8000">3</span><span style="color:navy">]</span>   ; BYTE PTR ES:[DI].$M_NUM_CLS_MSG
<span style="color:black">TRANGROUP:5A7F                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN69</span>
<span style="color:black">TRANGROUP:5A81 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5A81
</span><span style="color:black">TRANGROUP:5A81 </span><span style="color:gray">$MIF69</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A81                 </span><span style="color:navy">cmp     cs:[di]</span><span style="color:navy">, dh</span>     ; BYTE PTR CS:[DI].$M_CLASS_ID,DH
<span style="color:black">TRANGROUP:5A84                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MEN69</span>
<span style="color:black">TRANGROUP:5A86                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, cs:[di+</span><span style="color:#ff8000">3</span><span style="color:navy">]</span>   ; BYTE PTR CS:[DI].$M_NUM_CLS_MSG
<span style="color:black">TRANGROUP:5A8A
</span><span style="color:black">TRANGROUP:5A8A </span><span style="color:gray">$MEN69</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A8A                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; $M_CLASS_ID_SZ
<span style="color:black">TRANGROUP:5A8D                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5A8E
</span><span style="color:black">TRANGROUP:5A8E </span><span style="color:gray">$MEN64</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A8E                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MIF75</span>
<span style="color:black">TRANGROUP:5A90                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5A91
</span><span style="color:black">TRANGROUP:5A91 </span><span style="color:gray">$MDO76</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A91                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5A93                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MEN76</span>
<span style="color:black">TRANGROUP:5A95                 </span><span style="color:navy">cmp     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; UTILITY_MSG_CLASS
<span style="color:black">TRANGROUP:5A98                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF78</span>
<span style="color:black">TRANGROUP:5A9A                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, es:[di]</span>     ; WORD PTR ES:[DI].$M_NUM
<span style="color:black">TRANGROUP:5A9D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN78</span>
<span style="color:black">TRANGROUP:5A9F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5A9F
</span><span style="color:black">TRANGROUP:5A9F </span><span style="color:gray">$MIF78</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5A9F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, cs:[di]</span>     ; WORD PTR CS:[DI].$M_NUM
<span style="color:black">TRANGROUP:5AA2
</span><span style="color:black">TRANGROUP:5AA2 </span><span style="color:gray">$MEN78</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5AA2                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF76</span>
<span style="color:black">TRANGROUP:5AA4                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MSR76</span>
<span style="color:black">TRANGROUP:5AA6 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5AA6
</span><span style="color:black">TRANGROUP:5AA6 </span><span style="color:gray">$MIF76</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5AA6                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:5AA7                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MEN76</span>
<span style="color:black">TRANGROUP:5AA9                 </span><span style="color:navy">add     di</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:5AAC                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MDO76</span>
<span style="color:black">TRANGROUP:5AAE </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5AAE
</span><span style="color:black">TRANGROUP:5AAE </span><span style="color:gray">$MEN76</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5AAE                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5AAF
</span><span style="color:black">TRANGROUP:5AAF </span><span style="color:gray">$MSR76</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5AAF                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF75</span>
<span style="color:black">TRANGROUP:5AB1                 </span><span style="color:navy">cmp     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; UTILITY_MSG_CLASS
<span style="color:black">TRANGROUP:5AB4                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5AB5                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF87</span>
<span style="color:black">TRANGROUP:5AB7                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:5AB8                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5AB9                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:5AB9
</span><span style="color:black">TRANGROUP:5AB9 </span><span style="color:gray">$MIF87</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5AB9                 </span><span style="color:navy">add     di</span><span style="color:navy">, es:[di+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>   ; WORD PTR ES:[DI].$M_TXT_PTR
<span style="color:black">TRANGROUP:5ABD
</span><span style="color:black">TRANGROUP:5ABD </span><span style="color:gray">$MIF75</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5ABD                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF91</span>
<span style="color:black">TRANGROUP:5ABF                 </span><span style="color:navy">xor     ch</span><span style="color:navy">, ch</span>
<span style="color:black">TRANGROUP:5AC1                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5AC4                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5AC5
</span><span style="color:black">TRANGROUP:5AC5 </span><span style="color:gray">$MIF91</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5AC5                 </span><span style="color:navy">mov     </span>$M_RT_$M_SIZE<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_RT.$M_SIZE,$M_NULL
<span style="color:black">TRANGROUP:5AC5                                         </span>; [$M_RT+66]
<span style="color:black">TRANGROUP:5ACA                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5ACA </span>$M_FIND_SPECIFIED_MSG endp
<span style="color:black">TRANGROUP:5ACA
</span><span style="color:black">TRANGROUP:5ACB
</span><span style="color:black">TRANGROUP:5ACB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5ACB
</span><span style="color:black">TRANGROUP:5ACB
</span><span style="color:black">TRANGROUP:5ACB </span>SYSDISPMSG      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5ACB                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5ACC                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:5ACD                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:5ACE                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:5ACF                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:5AD0                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5AD1                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:5AD2                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5AD4                 </span><span style="color:navy">mov     </span>$M_RT_$M_HANDLE<span style="color:navy">, bx</span> ; [$M_RT+$M_RES_ADDRS.$M_HANDLE]
<span style="color:black">TRANGROUP:5AD4                                         </span>; [$M_RT+64],bx
<span style="color:black">TRANGROUP:5AD8                 </span><span style="color:navy">mov     </span>$M_RT_$M_CLASS<span style="color:navy">, dh</span> ; [$M_RT+$M_RES_ADDRS.$M_CLASS]
<span style="color:black">TRANGROUP:5AD8                                         </span>; [$M_RT+69],dh
<span style="color:black">TRANGROUP:5ADC                 </span><span style="color:navy">call    </span>$M_GET_MSG_ADDRESS
<span style="color:black">TRANGROUP:5ADF                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>          ; (message length)
<span style="color:black">TRANGROUP:5AE1                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF93</span>
<span style="color:black">TRANGROUP:5AE3                 </span><span style="color:navy">or      bp</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:5AE5                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF94</span>
<span style="color:black">TRANGROUP:5AE7                 </span><span style="color:navy">call    </span>$M_DISPLAY_STRING ; (es:di = message/text address)
<span style="color:black">TRANGROUP:5AEA                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN94</span>
<span style="color:black">TRANGROUP:5AEC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5AEC
</span><span style="color:black">TRANGROUP:5AEC </span><span style="color:gray">$MIF94</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5AEC                 </span><span style="color:navy">call    </span>$M_DISPLAY_MESSAGE
<span style="color:black">TRANGROUP:5AEF
</span><span style="color:black">TRANGROUP:5AEF </span><span style="color:gray">$MEN94</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5AEF                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF97</span>
<span style="color:black">TRANGROUP:5AF1                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:5AF2                 </span><span style="color:navy">call    </span>$M_ADD_CRLF
<span style="color:black">TRANGROUP:5AF5                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5AF6                 </span>assume es:nothing
<span style="color:black">TRANGROUP:5AF6                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5AF7                 </span><span style="color:navy">or      dl</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:5AF9                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF98</span>
<span style="color:black">TRANGROUP:5AFB                 </span><span style="color:navy">call    </span>$M_WAIT_FOR_INPUT ; MSDOS 6.0 (to 6.22)
<span style="color:black">TRANGROUP:5AFE
</span><span style="color:black">TRANGROUP:5AFE </span><span style="color:gray">$MIF98</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5AFE                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN97</span>
<span style="color:black">TRANGROUP:5B00 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5B00
</span><span style="color:black">TRANGROUP:5B00 </span><span style="color:gray">$MIF97</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B00                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">6</span>
<span style="color:black">TRANGROUP:5B03                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5B04
</span><span style="color:black">TRANGROUP:5B04 </span><span style="color:gray">$MEN97</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B04                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN93</span>
<span style="color:black">TRANGROUP:5B06 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5B06
</span><span style="color:black">TRANGROUP:5B06 </span><span style="color:gray">$MIF93</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B06                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5B07                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5B08                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:5B09                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5B0A
</span><span style="color:black">TRANGROUP:5B0A </span><span style="color:gray">$MEN93</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B0A                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF104</span>
<span style="color:black">TRANGROUP:5B0C                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:5B0D                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:5B0E                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:5B0F                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">2</span>
<span style="color:black">TRANGROUP:5B12                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN104</span>
<span style="color:black">TRANGROUP:5B14 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5B14
</span><span style="color:black">TRANGROUP:5B14 </span><span style="color:gray">$MIF104</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B14                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">8</span>
<span style="color:black">TRANGROUP:5B17                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5B18
</span><span style="color:black">TRANGROUP:5B18 </span><span style="color:gray">$MEN104</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B18                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5B18 </span>SYSDISPMSG      endp
<span style="color:black">TRANGROUP:5B18
</span><span style="color:black">TRANGROUP:5B19
</span><span style="color:black">TRANGROUP:5B19 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5B19
</span><span style="color:black">TRANGROUP:5B19
</span><span style="color:black">TRANGROUP:5B19 </span>$M_DISPLAY_STRING proc near             <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B19                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5B1A                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:5B1B                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:5B1C                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span>$M_RT_$M_HANDLE ; $M_RT.$M_HANDLE
<span style="color:black">TRANGROUP:5B1C                                         </span>; [$M_RT+64]
<span style="color:black">TRANGROUP:5B20                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; $M_NO_HANDLE
<span style="color:black">TRANGROUP:5B23                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF107</span>
<span style="color:black">TRANGROUP:5B25                 </span><span style="color:navy">call    </span>$M_DISPLAY_$_STRING
<span style="color:black">TRANGROUP:5B28                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN107</span>
<span style="color:black">TRANGROUP:5B2A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5B2A
</span><span style="color:black">TRANGROUP:5B2A </span><span style="color:gray">$MIF107</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B2A                 </span><span style="color:navy">call    </span>$M_DISPLAY_H_STRING
<span style="color:black">TRANGROUP:5B2D
</span><span style="color:black">TRANGROUP:5B2D </span><span style="color:gray">$MEN107</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B2D                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MIF110</span>
<span style="color:black">TRANGROUP:5B2F                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">59h</span>         ; DOS_GET_EXT_ERROR
<span style="color:black">TRANGROUP:5B31                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:5B34                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET EXTENDED ERROR CODE
<span style="color:black">TRANGROUP:5B34                                         </span>; BX = version code (0000h for DOS 3.x)
<span style="color:black">TRANGROUP:5B36                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:5B38                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">6</span>
<span style="color:black">TRANGROUP:5B3B                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5B3C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN110</span>
<span style="color:black">TRANGROUP:5B3E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5B3E
</span><span style="color:black">TRANGROUP:5B3E </span><span style="color:gray">$MIF110</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B3E                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>      ; $M_NO_HANDLE
<span style="color:black">TRANGROUP:5B41                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MEN110</span>
<span style="color:black">TRANGROUP:5B43                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5B45                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MEN110</span>
<span style="color:black">TRANGROUP:5B47                 </span><span style="color:navy">call    </span>$M_GET_EXT_ERR_39
<span style="color:black">TRANGROUP:5B4A                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">6</span>
<span style="color:black">TRANGROUP:5B4D                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5B4E
</span><span style="color:black">TRANGROUP:5B4E </span><span style="color:gray">$MEN110</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B4E                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF117</span>
<span style="color:black">TRANGROUP:5B50                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:5B51                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:5B52                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5B53
</span><span style="color:black">TRANGROUP:5B53 </span><span style="color:gray">$MIF117</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B53                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5B53 </span><span style="background:red">$M_DISPLAY_STRING endp</span><span style="background:red"> ; sp =  6</span>
<span style="color:black">TRANGROUP:5B53
</span><span style="color:black">TRANGROUP:5B54
</span><span style="color:black">TRANGROUP:5B54 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5B54
</span><span style="color:black">TRANGROUP:5B54
</span><span style="color:black">TRANGROUP:5B54 </span>$M_DISPLAY_$_STRING proc near           <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B54                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:5B55                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5B56                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:5B57                 </span>assume ds:nothing
<span style="color:black">TRANGROUP:5B57                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; $M_SINGLE_CHAR
<span style="color:black">TRANGROUP:5B5A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF119</span>
<span style="color:black">TRANGROUP:5B5C                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; DOS_DISP_CHAR
<span style="color:black">TRANGROUP:5B5E                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5B61                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - DISPLAY OUTPUT
<span style="color:black">TRANGROUP:5B61                                         </span>; DL = character to send to standard output
<span style="color:black">TRANGROUP:5B63                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:5B64                 </span><span style="color:navy">mov     al</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:5B66                 </span><span style="color:navy">call    </span>$M_IS_IT_DBCS
<span style="color:black">TRANGROUP:5B69                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:5B6A                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5B6B                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:5B6C                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MIF120</span>
<span style="color:black">TRANGROUP:5B6E                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, es:[di+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:5B72                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS -
<span style="color:black">TRANGROUP:5B74                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5B75
</span><span style="color:black">TRANGROUP:5B75 </span><span style="color:gray">$MIF120</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B75                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN119</span>
<span style="color:black">TRANGROUP:5B77 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5B77
</span><span style="color:black">TRANGROUP:5B77 </span><span style="color:gray">$MIF119</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B77                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; DOS_DISP_CHAR
<span style="color:black">TRANGROUP:5B79
</span><span style="color:black">TRANGROUP:5B79 </span><span style="color:gray">$MDO123</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B79                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5B7B                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MEN119</span>
<span style="color:black">TRANGROUP:5B7D                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5B80                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - DISPLAY OUTPUT
<span style="color:black">TRANGROUP:5B80                                         </span>; DL = character to send to standard output
<span style="color:black">TRANGROUP:5B82                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5B83                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:5B84                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MDO123</span>
<span style="color:black">TRANGROUP:5B86
</span><span style="color:black">TRANGROUP:5B86 </span><span style="color:gray">$MEN119</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B86                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5B87                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:5B88                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5B88 </span>$M_DISPLAY_$_STRING endp
<span style="color:black">TRANGROUP:5B88
</span><span style="color:black">TRANGROUP:5B89
</span><span style="color:black">TRANGROUP:5B89 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5B89
</span><span style="color:black">TRANGROUP:5B89
</span><span style="color:black">TRANGROUP:5B89 </span>scan_ctrlz      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B89                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:5B8A                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5B8B                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5B8C                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:5B8D                 </span><span style="color:navy">mov     di</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5B8F                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:5B90                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5B91                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5B93                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1Ah</span>         ; Ctrl-Z
<span style="color:black">TRANGROUP:5B95                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:5B96                 </span><span style="color:navy">repne scasb
</span><span style="color:black">TRANGROUP:5B98                 </span><span style="color:navy">jnz     short </span><span style="color:gray">noCtrlz</span>
<span style="color:black">TRANGROUP:5B9A                 </span><span style="color:navy">sub     bx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5B9C                 </span><span style="color:navy">dec     bx</span>
<span style="color:black">TRANGROUP:5B9D
</span><span style="color:black">TRANGROUP:5B9D </span><span style="color:gray">noCtrlz</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5B9D                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5B9F                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:5BA0                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5BA1                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5BA2                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5BA3                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5BA3 </span>scan_ctrlz      endp
<span style="color:black">TRANGROUP:5BA3
</span><span style="color:black">TRANGROUP:5BA4
</span><span style="color:black">TRANGROUP:5BA4 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5BA4
</span><span style="color:black">TRANGROUP:5BA4
</span><span style="color:black">TRANGROUP:5BA4 </span>$M_DISPLAY_H_STRING proc near           <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5BA4
</span><span style="color:black">TRANGROUP:5BA4 </span><span style="color:gray">; FUNCTION CHUNK AT TRANGROUP:5BD8 SIZE 00000006 BYTES
</span><span style="color:black">TRANGROUP:5BA4
</span><span style="color:black">TRANGROUP:5BA4                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5BA6                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5BA8                 </span><span style="color:navy">jz      short </span>$MIF127
<span style="color:black">TRANGROUP:5BAA                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:5BAB                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5BAC                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:5BAD                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:5BAF                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:5BB1                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; $M_SINGLE_CHAR
<span style="color:black">TRANGROUP:5BB4                 </span><span style="color:navy">jnz     short </span>$MIF128
<span style="color:black">TRANGROUP:5BB6                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - WRITE TO FILE WITH HANDLE
<span style="color:black">TRANGROUP:5BB6                                         </span>; BX = file handle, CX = number of bytes to write, DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:5BB8                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:5BB9                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5BBA                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5BBD                 </span><span style="color:navy">call    </span>$M_IS_IT_DBCS
<span style="color:black">TRANGROUP:5BC0                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5BC1                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:5BC2                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5BC3                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:5BC4                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MIF129</span>
<span style="color:black">TRANGROUP:5BC6                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5BC7                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">40h</span>
<span style="color:black">TRANGROUP:5BC9                 </span><span style="color:navy">inc     dx</span>
<span style="color:black">TRANGROUP:5BCA                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - WRITE TO FILE WITH HANDLE
<span style="color:black">TRANGROUP:5BCA                                         </span>; BX = file handle, CX = number of bytes to write, DS:DX -&gt; buffer
<span style="color:black">TRANGROUP:5BCC
</span><span style="color:black">TRANGROUP:5BCC </span><span style="color:gray">$MIF129</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5BCC                 </span><span style="color:navy">pushf
</span><span style="color:black">TRANGROUP:5BCD                 </span><span style="color:navy">cmp     byte ptr es:[di]</span><span style="color:navy">, </span><span style="color:#ff8000">1Ah</span> ; Ctrl-Z?
<span style="color:black">TRANGROUP:5BD1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">m_popf_j</span>  ; @@:
<span style="color:black">TRANGROUP:5BD3                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5BD5
</span><span style="color:black">TRANGROUP:5BD5 </span><span style="color:gray">m_popf_j</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5BD5                 </span><span style="color:navy">jmp     short </span><span style="color:gray">m_popf</span>
<span style="color:black">TRANGROUP:5BD5 </span>$M_DISPLAY_H_STRING endp
<span style="color:black">TRANGROUP:5BD5
</span><span style="color:maroon">TRANGROUP:5BD7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:5BD7
</span><span style="color:maroon">TRANGROUP:5BD7 </span>intret<span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:5BD7                 </span><span style="color:navy">iret
</span><span style="color:black">TRANGROUP:5BD8 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5BD8 </span><span style="color:gray">; START OF FUNCTION CHUNK FOR $M_DISPLAY_H_STRING
</span><span style="color:black">TRANGROUP:5BD8
</span><span style="color:black">TRANGROUP:5BD8 </span><span style="color:gray">m_popf</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5BD8                 </span><span style="color:navy">push    cs</span>              ; $M_Popf (macro)
<span style="color:black">TRANGROUP:5BD9                 </span><span style="color:navy">call    </span>intret
<span style="color:black">TRANGROUP:5BDC                 </span><span style="color:navy">jmp     short </span>$MEN128
<span style="color:black">TRANGROUP:5BDC </span><span style="color:gray">; END OF FUNCTION CHUNK FOR $M_DISPLAY_H_STRING
</span><span style="color:maroon">TRANGROUP:5BDE </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:5BDE
</span><span style="color:maroon">TRANGROUP:5BDE </span>$MIF128<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:5BDE                 </span><span style="color:navy">push    bp</span>
<span style="color:maroon">TRANGROUP:5BDF                 </span><span style="color:navy">push    cx</span>
<span style="color:maroon">TRANGROUP:5BE0                 </span><span style="color:navy">call    </span>scan_ctrlz
<span style="color:maroon">TRANGROUP:5BE3                 </span><span style="color:navy">mov     bp</span><span style="color:navy">, cx</span>
<span style="color:maroon">TRANGROUP:5BE5                 </span><span style="color:navy">pop     cx</span>
<span style="color:maroon">TRANGROUP:5BE6                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS -
<span style="color:maroon">TRANGROUP:5BE8                 </span><span style="color:navy">jnb     short </span>chk_count
<span style="color:maroon">TRANGROUP:5BEA                 </span><span style="color:navy">jmp     short </span>m_cnt_ok
<span style="color:maroon">TRANGROUP:5BEC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:5BEC
</span><span style="color:maroon">TRANGROUP:5BEC </span>chk_count<span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:5BEC                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, ax</span>
<span style="color:maroon">TRANGROUP:5BEE                 </span><span style="color:navy">jz      short </span>m_cnt_ok
<span style="color:maroon">TRANGROUP:5BF0                 </span><span style="color:navy">cmp     bp</span><span style="color:navy">, ax</span>
<span style="color:maroon">TRANGROUP:5BF2                 </span><span style="color:navy">clc
</span><span style="color:maroon">TRANGROUP:5BF3                 </span><span style="color:navy">jnz     short </span>m_cnt_ok
<span style="color:maroon">TRANGROUP:5BF5                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cx</span>
<span style="color:maroon">TRANGROUP:5BF7
</span><span style="color:maroon">TRANGROUP:5BF7 </span>m_cnt_ok<span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:5BF7                 </span><span style="color:navy">pop     bp</span>
<span style="color:maroon">TRANGROUP:5BF8
</span><span style="color:maroon">TRANGROUP:5BF8 </span>$MEN128<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:5BF8                 </span><span style="color:navy">pop     ds</span>
<span style="color:maroon">TRANGROUP:5BF9
</span><span style="color:maroon">TRANGROUP:5BF9 </span>$MIF127<span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:5BF9                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5BFA
</span><span style="color:black">TRANGROUP:5BFA </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5BFA
</span><span style="color:black">TRANGROUP:5BFA
</span><span style="color:black">TRANGROUP:5BFA </span>$M_GET_EXT_ERR_39 proc near             <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5BFA                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">27h</span>         ; EXT_ERR_39
<span style="color:black">TRANGROUP:5BFD                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; (ERROR_CLASS_39 SHR 8) + ACTION_39
<span style="color:black">TRANGROUP:5C00                 </span><span style="color:navy">mov     ch</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; LOCUS_39
<span style="color:black">TRANGROUP:5C02                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5C02 </span>$M_GET_EXT_ERR_39 endp
<span style="color:black">TRANGROUP:5C02
</span><span style="color:black">TRANGROUP:5C03
</span><span style="color:black">TRANGROUP:5C03 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5C03
</span><span style="color:black">TRANGROUP:5C03
</span><span style="color:black">TRANGROUP:5C03 </span>$M_ADD_CRLF     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C03                 </span><span style="color:navy">cmp     dh</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; UTILITY_MSG_CLASS
<span style="color:black">TRANGROUP:5C06                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF134</span>
<span style="color:black">TRANGROUP:5C08                 </span><span style="color:navy">test    dh</span><span style="color:navy">, </span><span style="color:green">80h</span>         ; $M_NO_CRLF_MASK
<span style="color:black">TRANGROUP:5C0B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF134</span>
<span style="color:black">TRANGROUP:5C0D                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:5C0E                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5C0F                 </span><span style="color:navy">lea     di</span><span style="color:navy">, </span>$M_RT_$M_CRLF ; $M_RT.$M_CRLF
<span style="color:black">TRANGROUP:5C0F                                         </span>; [$M_RT+67]
<span style="color:black">TRANGROUP:5C13                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; $M_CRLF_SIZE
<span style="color:black">TRANGROUP:5C16                 </span><span style="color:navy">call    </span>$M_DISPLAY_STRING
<span style="color:black">TRANGROUP:5C19
</span><span style="color:black">TRANGROUP:5C19 </span><span style="color:gray">$MIF134</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C19                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5C19 </span>$M_ADD_CRLF     endp
<span style="color:black">TRANGROUP:5C19
</span><span style="color:black">TRANGROUP:5C1A
</span><span style="color:black">TRANGROUP:5C1A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5C1A
</span><span style="color:black">TRANGROUP:5C1A
</span><span style="color:black">TRANGROUP:5C1A </span>$M_IS_IT_DBCS   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C1A                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5C1B                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:5C1C                 </span><span style="color:navy">les     di</span><span style="color:navy">, dword ptr ds:</span>$M_RT_$M_DBCS_VEC ; $M_RT.$M_DBCS_VEC
<span style="color:black">TRANGROUP:5C1C                                         </span>; [$M_RT+60]
<span style="color:black">TRANGROUP:5C1C                                         </span>; les di,[$M_RT+$M_RES_ADDRS.$M_DBCS_VEC]
<span style="color:black">TRANGROUP:5C20                 </span><span style="color:navy">or      di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:5C22                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF138</span>
<span style="color:black">TRANGROUP:5C24
</span><span style="color:black">TRANGROUP:5C24 </span><span style="color:gray">$MDO139</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C24                 </span><span style="color:navy">cmp     word ptr es:[di]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_DBCS_TERM
<span style="color:black">TRANGROUP:5C28                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5C29                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF138</span>
<span style="color:black">TRANGROUP:5C2B                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5C2E                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF141</span>
<span style="color:black">TRANGROUP:5C30                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[di+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:5C34                 </span><span style="color:navy">ja      short </span><span style="color:gray">$MIF141</span>
<span style="color:black">TRANGROUP:5C36                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5C37
</span><span style="color:black">TRANGROUP:5C37 </span><span style="color:gray">$MIF141</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C37                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5C38                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5C39                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MDO139</span>
<span style="color:black">TRANGROUP:5C3B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5C3B
</span><span style="color:black">TRANGROUP:5C3B </span><span style="color:gray">$MIF138</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C3B                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5C3C                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5C3D                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5C3D </span>$M_IS_IT_DBCS   endp
<span style="color:black">TRANGROUP:5C3D
</span><span style="color:black">TRANGROUP:5C3E
</span><span style="color:black">TRANGROUP:5C3E </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5C3E
</span><span style="color:black">TRANGROUP:5C3E
</span><span style="color:black">TRANGROUP:5C3E </span>$M_CONVERT2ASC  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C3E                 </span><span style="color:navy">pop     ds:</span>$M_RT_$M_RETURN_ADDR ; pop word [$M_RT+70]
<span style="color:black">TRANGROUP:5C42                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5C44                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5C45                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5C46
</span><span style="color:black">TRANGROUP:5C46 </span><span style="color:gray">$MDO145</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C46                 </span><span style="color:navy">div     ds:</span>$M_RT_$M_DIVISOR ; div word [$M_RT+74]
<span style="color:black">TRANGROUP:5C4A                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5C4B                 </span><span style="color:navy">div     ds:</span>$M_RT_$M_DIVISOR ; [$M_RT+74]
<span style="color:black">TRANGROUP:5C4F                 </span><span style="color:navy">cmp     dx</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>
<span style="color:black">TRANGROUP:5C52                 </span><span style="color:navy">jbe     short </span><span style="color:gray">$MIF146</span>
<span style="color:black">TRANGROUP:5C54                 </span><span style="color:navy">add     dl</span><span style="color:navy">, </span><span style="color:green">55</span>          ; add dl,37h
<span style="color:black">TRANGROUP:5C57                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN146</span>
<span style="color:black">TRANGROUP:5C59 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5C59
</span><span style="color:black">TRANGROUP:5C59 </span><span style="color:gray">$MIF146</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C59                 </span><span style="color:navy">add     dl</span><span style="color:navy">, </span><span style="color:green">'0'</span>         ; 30h
<span style="color:black">TRANGROUP:5C5C
</span><span style="color:black">TRANGROUP:5C5C </span><span style="color:gray">$MEN146</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C5C                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:5C5D                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:5C5E                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5C60                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MLL149</span>
<span style="color:black">TRANGROUP:5C62                 </span><span style="color:navy">or      bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5C64                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MEN145</span>
<span style="color:black">TRANGROUP:5C66
</span><span style="color:black">TRANGROUP:5C66 </span><span style="color:gray">$MLL149</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C66                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; $M_FIRST_THOU
<span style="color:black">TRANGROUP:5C69                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF150</span>
<span style="color:black">TRANGROUP:5C6B                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">0Ah</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">','</span> ;
<span style="color:black">TRANGROUP:5C6B                                         </span>; $M_SL.$M_S_PAD,$M_COMMA ($M_SL = [DS:SI])
<span style="color:black">TRANGROUP:5C6F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF151</span>
<span style="color:black">TRANGROUP:5C71                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_THOU_SEPARA ; word $M_RT.$M_THOU_SEPARA
<span style="color:black">TRANGROUP:5C75                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:5C76
</span><span style="color:black">TRANGROUP:5C76 </span><span style="color:gray">$MIF151</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C76                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN154</span>
<span style="color:black">TRANGROUP:5C78 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5C78
</span><span style="color:black">TRANGROUP:5C78 </span><span style="color:gray">$MIF150</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C78                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:#ff8000">7</span>           ; $M_SECOND_THOU
<span style="color:black">TRANGROUP:5C78                                         </span>; (It was 'cmp cx,6' in MSDOS 5.0 COMMAND.COM!)
<span style="color:black">TRANGROUP:5C7B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF154</span>
<span style="color:black">TRANGROUP:5C7D                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">0Ah</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">','</span>
<span style="color:black">TRANGROUP:5C81                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF155</span>
<span style="color:black">TRANGROUP:5C83                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_THOU_SEPARA ; [$M_RT+83]
<span style="color:black">TRANGROUP:5C87                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:5C88
</span><span style="color:black">TRANGROUP:5C88 </span><span style="color:gray">$MIF155</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C88                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN154</span>
<span style="color:black">TRANGROUP:5C8A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5C8A
</span><span style="color:black">TRANGROUP:5C8A </span><span style="color:gray">$MIF154</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C8A                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:green">11</span>          ; $M_THIRD_THOU
<span style="color:black">TRANGROUP:5C8A                                         </span>; (It was 'cmp cx,9' in MSDOS 5.0 COMMAND.COM!)
<span style="color:black">TRANGROUP:5C8D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MEN154</span>
<span style="color:black">TRANGROUP:5C8F                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">0Ah</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">','</span> ; $M_SL.$M_S_PAD,$M_COMMA
<span style="color:black">TRANGROUP:5C93                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MEN154</span>
<span style="color:black">TRANGROUP:5C95                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_THOU_SEPARA ; [$M_RT+83]
<span style="color:black">TRANGROUP:5C99                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:5C9A
</span><span style="color:black">TRANGROUP:5C9A </span><span style="color:gray">$MEN154</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C9A                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5C9B                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5C9D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MDO145</span>
<span style="color:black">TRANGROUP:5C9F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5C9F
</span><span style="color:black">TRANGROUP:5C9F </span><span style="color:gray">$MEN145</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5C9F                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5CA1                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5CA3                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_RETURN_ADDR ; [$M_RT+70]
<span style="color:black">TRANGROUP:5CA7                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5CA7 </span><span style="background:red">$M_CONVERT2ASC  endp</span><span style="background:red"> ; sp = -2</span>
<span style="color:black">TRANGROUP:5CA7
</span><span style="color:black">TRANGROUP:5CA8
</span><span style="color:black">TRANGROUP:5CA8 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5CA8
</span><span style="color:black">TRANGROUP:5CA8
</span><span style="color:black">TRANGROUP:5CA8 </span>$M_DISPLAY_MESSAGE proc near            <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5CA8                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>          ; $MDO165
<span style="color:black">TRANGROUP:5CAA                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>          ; (byte count of the message/text)
<span style="color:black">TRANGROUP:5CAC                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF166</span>
<span style="color:black">TRANGROUP:5CAE                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">'%'</span>
<span style="color:black">TRANGROUP:5CB0                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:5CB2
</span><span style="color:black">TRANGROUP:5CB2 </span><span style="color:gray">$MDO167</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5CB2                 </span><span style="color:navy">cmp     es:[di]</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:5CB5                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MLL168</span>
<span style="color:black">TRANGROUP:5CB7                 </span><span style="color:navy">cmp     es:[di+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:5CBB                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MLL168</span>
<span style="color:black">TRANGROUP:5CBD                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:5CBF                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF166</span>
<span style="color:black">TRANGROUP:5CC1
</span><span style="color:black">TRANGROUP:5CC1 </span><span style="color:gray">$MLL168</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5CC1                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5CC4                 </span><span style="color:navy">call    </span>$M_IS_IT_DBCS
<span style="color:black">TRANGROUP:5CC7                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MIF169</span>
<span style="color:black">TRANGROUP:5CC9                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5CCA
</span><span style="color:black">TRANGROUP:5CCA </span><span style="color:gray">$MIF169</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5CCA                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5CCB                 </span><span style="color:navy">inc     dx</span>
<span style="color:black">TRANGROUP:5CCC                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:5CCD                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MDO167</span>
<span style="color:black">TRANGROUP:5CCF
</span><span style="color:black">TRANGROUP:5CCF </span><span style="color:gray">$MIF166</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5CCF                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:5CD0                 </span><span style="color:navy">xchg    cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5CD2                 </span><span style="color:navy">or      bp</span><span style="color:navy">, bp</span>
<span style="color:black">TRANGROUP:5CD4                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF173</span>
<span style="color:black">TRANGROUP:5CD6                 </span><span style="color:navy">dec     bp</span>
<span style="color:black">TRANGROUP:5CD7                 </span><span style="color:navy">cmp     ds:</span>$M_RT_$M_MSG_NUM<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_RT.$M_MSG_NUM,$M_NULL
<span style="color:black">TRANGROUP:5CD7                                         </span>; [$M_RT+72]],0
<span style="color:black">TRANGROUP:5CDC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF173</span>
<span style="color:black">TRANGROUP:5CDE
</span><span style="color:black">TRANGROUP:5CDE </span><span style="color:gray">$MDO175</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5CDE                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">6</span><span style="color:navy">]</span>      ; $M_SL.$M_S_ID
<span style="color:black">TRANGROUP:5CE1                 </span><span style="color:navy">add     al</span><span style="color:navy">, </span><span style="color:green">30h</span>
<span style="color:black">TRANGROUP:5CE3                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, es:[di+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:5CE7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF175</span>
<span style="color:black">TRANGROUP:5CE9                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MIF173</span>
<span style="color:black">TRANGROUP:5CEB </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5CEB
</span><span style="color:black">TRANGROUP:5CEB </span><span style="color:gray">$MIF175</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5CEB                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">30h</span>         ; $M_SPECIAL_CASE
<span style="color:black">TRANGROUP:5CED                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MLL178</span>
<span style="color:black">TRANGROUP:5CEF                 </span><span style="color:navy">or      dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5CF1                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MEN175</span>
<span style="color:black">TRANGROUP:5CF3
</span><span style="color:black">TRANGROUP:5CF3 </span><span style="color:gray">$MLL178</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5CF3                 </span><span style="color:navy">add     si</span><span style="color:navy">, [si]</span>        ; add si,[si+$M_SUBLIST_STRUC.$M_S_SIZE]
<span style="color:black">TRANGROUP:5CF3                                         </span>; add si,[si+0]
<span style="color:black">TRANGROUP:5CF5                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MDO175</span>
<span style="color:black">TRANGROUP:5CF7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5CF7
</span><span style="color:black">TRANGROUP:5CF7 </span><span style="color:gray">$MEN175</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5CF7                 </span><span style="color:navy">cmp     ds:</span>$M_RT_$M_CLASS<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; $M_RT.$M_CLASS,UTILITY_MSG_CLASS
<span style="color:black">TRANGROUP:5CF7                                         </span>; cmp byte [$M_RT+69],0FFh
<span style="color:black">TRANGROUP:5CFC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF180</span>
<span style="color:black">TRANGROUP:5CFE                 </span><span style="color:navy">inc     dx</span>
<span style="color:black">TRANGROUP:5CFF                 </span><span style="color:navy">inc     dx</span>
<span style="color:black">TRANGROUP:5D00                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:5D01                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:5D02                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:5D03                 </span><span style="color:navy">dec     di</span>
<span style="color:black">TRANGROUP:5D04                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MIF173</span>
<span style="color:black">TRANGROUP:5D06 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5D06
</span><span style="color:black">TRANGROUP:5D06 </span><span style="color:gray">$MIF180</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D06                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, -</span><span style="color:green">1</span>          ; 0FFFFh
<span style="color:black">TRANGROUP:5D09
</span><span style="color:black">TRANGROUP:5D09 </span><span style="color:gray">$MIF173</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D09                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:5D0A                 </span><span style="color:navy">sub     di</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5D0C                 </span><span style="color:navy">call    </span>$M_DISPLAY_STRING
<span style="color:black">TRANGROUP:5D0F                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5D10                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:5D11                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MXL3</span>
<span style="color:black">TRANGROUP:5D13                 </span><span style="color:navy">jmp     </span><span style="color:gray">$MEN165</span>
<span style="color:black">TRANGROUP:5D16 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5D16
</span><span style="color:black">TRANGROUP:5D16 </span><span style="color:gray">$MXL3</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D16                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:5D17                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5D19                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">6</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_SL.$M_S_ID,$M_SPECIAL_CASE-30H
<span style="color:black">TRANGROUP:5D1D                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF187</span>
<span style="color:black">TRANGROUP:5D1F                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5D21                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF188</span>
<span style="color:black">TRANGROUP:5D23                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:5D24                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:5D25                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5D26                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5D27                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN188</span>
<span style="color:black">TRANGROUP:5D29 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5D29
</span><span style="color:black">TRANGROUP:5D29 </span><span style="color:gray">$MIF188</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D29                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:5D2A
</span><span style="color:black">TRANGROUP:5D2A </span><span style="color:gray">$MEN188</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D2A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN187</span>
<span style="color:black">TRANGROUP:5D2C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5D2C
</span><span style="color:black">TRANGROUP:5D2C </span><span style="color:gray">$MIF187</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D2C                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5D2E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF192</span>
<span style="color:black">TRANGROUP:5D30                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:5D31                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN187</span>
<span style="color:black">TRANGROUP:5D33 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5D33
</span><span style="color:black">TRANGROUP:5D33 </span><span style="color:gray">$MIF192</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D33                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, -</span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:5D36                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF194</span>
<span style="color:black">TRANGROUP:5D38                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5D3A
</span><span style="color:black">TRANGROUP:5D3A </span><span style="color:gray">$MIF194</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D3A                 </span><span style="color:navy">or      di</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:5D3C
</span><span style="color:black">TRANGROUP:5D3C </span><span style="color:gray">$MEN187</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D3C                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MEN165</span>
<span style="color:black">TRANGROUP:5D3E                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:5D3F                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:5D40                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5D41                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:5D42                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5D44                 </span><span style="color:navy">cmp     ds:</span>$M_RT_$M_MSG_NUM<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_RT.$M_MSG_NUM,$M_NULL
<span style="color:black">TRANGROUP:5D44                                         </span>; [$M_RT+72],0
<span style="color:black">TRANGROUP:5D49                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF199</span>
<span style="color:black">TRANGROUP:5D4B                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Fh</span> ;
<span style="color:black">TRANGROUP:5D4B                                         </span>; $M_SL.$M_S_FLAG,NOT Char_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5D4F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF200</span>
<span style="color:black">TRANGROUP:5D51                 </span><span style="color:navy">les     di</span><span style="color:navy">, [si+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>      ; $M_SL.$M_S_VALUE
<span style="color:black">TRANGROUP:5D54                 </span><span style="color:navy">call    </span>$M_CHAR_REPLACE
<span style="color:black">TRANGROUP:5D57                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN200</span>
<span style="color:black">TRANGROUP:5D59 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5D59
</span><span style="color:black">TRANGROUP:5D59 </span><span style="color:gray">$MIF200</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D59                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Dh</span> ;
<span style="color:black">TRANGROUP:5D59                                         </span>; $M_SL.$M_S_FLAG,NOT Sgn_Bin_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5D5D                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MLL202</span>
<span style="color:black">TRANGROUP:5D5F                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Eh</span> ;
<span style="color:black">TRANGROUP:5D5F                                         </span>; $M_SL.$M_S_FLAG,NOT Unsgn_Bin_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5D63                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MLL202</span>
<span style="color:black">TRANGROUP:5D65                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Ch</span> ;
<span style="color:black">TRANGROUP:5D65                                         </span>; $M_SL.$M_S_FLAG,NOT Bin_Hex_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5D69                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF202</span>
<span style="color:black">TRANGROUP:5D6B
</span><span style="color:black">TRANGROUP:5D6B </span><span style="color:gray">$MLL202</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D6B                 </span><span style="color:navy">les     di</span><span style="color:navy">, [si+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:5D6E                 </span><span style="color:navy">call    </span>$M_BIN2ASC_REPLACE
<span style="color:black">TRANGROUP:5D71                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN200</span>
<span style="color:black">TRANGROUP:5D73 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5D73
</span><span style="color:black">TRANGROUP:5D73 </span><span style="color:gray">$MIF202</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D73                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Bh</span> ; $M_SL.$M_S_FLAG,NOT Date_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5D73                                         </span>; ($M_SL = [ds:si])
<span style="color:black">TRANGROUP:5D77                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF204</span>
<span style="color:black">TRANGROUP:5D79                 </span><span style="color:navy">call    </span>$M_DATE_REPLACE
<span style="color:black">TRANGROUP:5D7C                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN200</span>
<span style="color:black">TRANGROUP:5D7E </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5D7E
</span><span style="color:black">TRANGROUP:5D7E </span><span style="color:gray">$MIF204</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D7E                 </span><span style="color:navy">call    </span>$M_TIME_REPLACE
<span style="color:black">TRANGROUP:5D81
</span><span style="color:black">TRANGROUP:5D81 </span><span style="color:gray">$MEN200</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D81                 </span><span style="color:navy">call    </span>$M_DISPLAY_REPLACE
<span style="color:black">TRANGROUP:5D84                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN199</span>
<span style="color:black">TRANGROUP:5D86 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5D86
</span><span style="color:black">TRANGROUP:5D86 </span><span style="color:gray">$MIF199</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D86                 </span><span style="color:navy">call    </span>$M_EXT_PAR_REPLACE
<span style="color:black">TRANGROUP:5D89
</span><span style="color:black">TRANGROUP:5D89 </span><span style="color:gray">$MEN199</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D89                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF211</span>
<span style="color:black">TRANGROUP:5D8B                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:5D8C                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5D8D                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5D8E                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:5D8F                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:5D90                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN211</span>
<span style="color:black">TRANGROUP:5D92 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5D92
</span><span style="color:black">TRANGROUP:5D92 </span><span style="color:gray">$MIF211</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D92                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">10</span>
<span style="color:black">TRANGROUP:5D95                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5D96
</span><span style="color:black">TRANGROUP:5D96 </span><span style="color:gray">$MEN211</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5D96                 </span><span style="color:navy">cmp     ds:</span>$M_RT_$M_MSG_NUM<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_RT.$M_MSG_NUM,$M_NUL
<span style="color:black">TRANGROUP:5D96                                         </span>; cmp word [$M_RT+72],0
<span style="color:black">TRANGROUP:5D9B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MEN165</span>
<span style="color:black">TRANGROUP:5D9D                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MEN165</span>
<span style="color:black">TRANGROUP:5D9F                 </span><span style="color:navy">jmp     </span>$M_DISPLAY_MESSAGE ; jmp $MDO165
<span style="color:black">TRANGROUP:5DA2 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5DA2
</span><span style="color:black">TRANGROUP:5DA2 </span><span style="color:gray">$MEN165</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5DA2                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_MSG_NUM<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_RT.$M_MSG_NUM,0
<span style="color:black">TRANGROUP:5DA2                                         </span>; mov word [$M_RT+72],0
<span style="color:black">TRANGROUP:5DA8                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5DA8 </span>$M_DISPLAY_MESSAGE endp
<span style="color:black">TRANGROUP:5DA8
</span><span style="color:black">TRANGROUP:5DA9
</span><span style="color:black">TRANGROUP:5DA9 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5DA9
</span><span style="color:black">TRANGROUP:5DA9
</span><span style="color:black">TRANGROUP:5DA9 </span>$M_EXT_PAR_REPLACE proc near            <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5DA9                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5DAB                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>$M_RT_$M_MSG_NUM ; $M_RT.$M_MSG_NUM
<span style="color:black">TRANGROUP:5DAB                                         </span>; mov ax,[$M_RT+72]
<span style="color:black">TRANGROUP:5DAE                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DIVISOR<span style="color:navy">, </span><span style="color:green">10</span> ; $M_RT.$M_DIVISOR,$M_BASE10
<span style="color:black">TRANGROUP:5DAE                                         </span>; [$M_RT+74],10
<span style="color:black">TRANGROUP:5DB4                 </span><span style="color:navy">call    </span>$M_CONVERT2ASC
<span style="color:black">TRANGROUP:5DB7
</span><span style="color:black">TRANGROUP:5DB7 </span><span style="color:gray">$MDO215</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5DB7                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5DB8                 </span><span style="color:navy">mov     byte ptr ds:</span>$M_RT_$M_TEMP_BUF<span style="color:navy">[bx]</span><span style="color:navy">, al</span> ; [bx+$M_RT+76]
<span style="color:black">TRANGROUP:5DB8                                         </span>; [bx+$M_RT+$M_RES_ADDRS.$M_TEMP_BUF]
<span style="color:black">TRANGROUP:5DBC                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5DBD                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:green">64</span>          ; $M_TEMP_BUF_SZ
<span style="color:black">TRANGROUP:5DC0                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF216</span>
<span style="color:black">TRANGROUP:5DC2                 </span><span style="color:navy">call    </span>$M_FLUSH_BUF
<span style="color:black">TRANGROUP:5DC5
</span><span style="color:black">TRANGROUP:5DC5 </span><span style="color:gray">$MIF216</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5DC5                 </span><span style="color:navy">dec     cl</span>
<span style="color:black">TRANGROUP:5DC7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MDO215</span>
<span style="color:black">TRANGROUP:5DC9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">0A0Dh</span>       ; $M_CR_LF
<span style="color:black">TRANGROUP:5DCC                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_TEMP_BUF<span style="color:navy">[bx]</span><span style="color:navy">, ax</span> ; $M_RT.$M_TEMP_BUF[BX],AX
<span style="color:black">TRANGROUP:5DD0                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5DD1                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5DD2                 </span><span style="color:navy">call    </span>$M_FLUSH_BUF
<span style="color:black">TRANGROUP:5DD5                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5DD5 </span><span style="background:red">$M_EXT_PAR_REPLACE endp</span><span style="background:red"> ; sp =  2</span>
<span style="color:black">TRANGROUP:5DD5
</span><span style="color:black">TRANGROUP:5DD6
</span><span style="color:black">TRANGROUP:5DD6 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5DD6
</span><span style="color:black">TRANGROUP:5DD6
</span><span style="color:black">TRANGROUP:5DD6 </span>$M_DISPLAY_REPLACE proc near            <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5DD6                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5DD8                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">6</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_SL.$M_S_ID,$M_SPECIAL_CASE-30H
<span style="color:black">TRANGROUP:5DDC                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF276</span>
<span style="color:black">TRANGROUP:5DDE                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_TEMP_BUF<span style="color:navy">[bx]</span><span style="color:navy">, </span><span style="color:#ff8000">2D20h</span> ;
<span style="color:black">TRANGROUP:5DDE                                         </span>; $M_RT.$M_TEMP_BUF[BX],$M_SPACE_HYP
<span style="color:black">TRANGROUP:5DE4                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5DE5                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5DE6                 </span><span style="color:navy">mov     byte ptr ds:</span>$M_RT_$M_TEMP_BUF<span style="color:navy">[bx]</span><span style="color:navy">, </span><span style="color:green">20h</span> ;
<span style="color:black">TRANGROUP:5DE6                                         </span>; $M_RT.$M_TEMP_BUF[BX],$M_SPACE
<span style="color:black">TRANGROUP:5DEB                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5DEC                 </span><span style="color:navy">call    </span>$M_FLUSH_BUF
<span style="color:black">TRANGROUP:5DEF
</span><span style="color:black">TRANGROUP:5DEF </span><span style="color:gray">$MIF276</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5DEF                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:5DF0                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5DF2                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5DF4                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_SIZE<span style="color:navy">, cl</span> ; $M_RT.$M_SIZE
<span style="color:black">TRANGROUP:5DF4                                         </span>; mov [$M_RT+66],cl
<span style="color:black">TRANGROUP:5DF8                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">9</span><span style="color:navy">]</span>      ; $M_SL.$M_S_MINW
<span style="color:black">TRANGROUP:5DFB                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:5DFD                 </span><span style="color:navy">jbe     short </span><span style="color:gray">$MIF278</span>
<span style="color:black">TRANGROUP:5DFF                 </span><span style="color:navy">sub     al</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:5E01                 </span><span style="color:navy">mov     dh</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5E03                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">80h</span> ; BYTE PTR $M_SL.$M_S_FLAG,Right_Align
<span style="color:black">TRANGROUP:5E07                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF278</span>
<span style="color:black">TRANGROUP:5E09
</span><span style="color:black">TRANGROUP:5E09 </span><span style="color:gray">MDO280</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E09                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">0Ah</span><span style="color:navy">]</span>    ; $M_SL.$M_S_PAD
<span style="color:black">TRANGROUP:5E0C                 </span><span style="color:navy">mov     byte ptr ds:</span>$M_RT_$M_TEMP_BUF<span style="color:navy">[bx]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5E10                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5E11                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:green">64</span>          ; $M_TEMP_BUF_SZ
<span style="color:black">TRANGROUP:5E14                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF281</span>
<span style="color:black">TRANGROUP:5E16                 </span><span style="color:navy">call    </span>$M_FLUSH_BUF
<span style="color:black">TRANGROUP:5E19
</span><span style="color:black">TRANGROUP:5E19 </span><span style="color:gray">$MIF281</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E19                 </span><span style="color:navy">dec     dh</span>
<span style="color:black">TRANGROUP:5E1B                 </span><span style="color:navy">jnz     short </span><span style="color:gray">MDO280</span>
<span style="color:black">TRANGROUP:5E1D
</span><span style="color:black">TRANGROUP:5E1D </span><span style="color:gray">$MIF278</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E1D                 </span><span style="color:navy">cmp     byte ptr [si+</span><span style="color:#ff8000">8</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_SL.$M_S_MAXW,$M_UNLIM_W
<span style="color:black">TRANGROUP:5E21                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF286</span>
<span style="color:black">TRANGROUP:5E23                 </span><span style="color:navy">cmp     [si+</span><span style="color:#ff8000">8</span><span style="color:navy">]</span><span style="color:navy">, cl</span>      ; $M_SL.$M_S_MAXW
<span style="color:black">TRANGROUP:5E26                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MIF286</span>
<span style="color:black">TRANGROUP:5E28                 </span><span style="color:navy">sub     cl</span><span style="color:navy">, [si+</span><span style="color:#ff8000">8</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:5E2B                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:5E2D                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, [si+</span><span style="color:#ff8000">8</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:5E30
</span><span style="color:black">TRANGROUP:5E30 </span><span style="color:gray">$MIF286</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E30                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5E32                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF290</span>
<span style="color:black">TRANGROUP:5E34
</span><span style="color:black">TRANGROUP:5E34 </span><span style="color:gray">$MDO291</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E34                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Fh</span> ;
<span style="color:black">TRANGROUP:5E34                                         </span>; $M_SL.$M_S_FLAG,NOT Char_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5E38                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF292</span>
<span style="color:black">TRANGROUP:5E3A                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">10h</span> ;
<span style="color:black">TRANGROUP:5E3A                                         </span>; $M_SL.$M_S_FLAG,Char_field_ASCIIZ AND $M_SIZE_MASK
<span style="color:black">TRANGROUP:5E3E                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF292</span>
<span style="color:black">TRANGROUP:5E40                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5E43                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5E44                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN292</span>
<span style="color:black">TRANGROUP:5E46 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5E46
</span><span style="color:black">TRANGROUP:5E46 </span><span style="color:gray">$MIF292</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E46                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5E47
</span><span style="color:black">TRANGROUP:5E47 </span><span style="color:gray">$MEN292</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E47                 </span><span style="color:navy">mov     byte ptr ds:</span>$M_RT_$M_TEMP_BUF<span style="color:navy">[bx]</span><span style="color:navy">, al</span> ;
<span style="color:black">TRANGROUP:5E47                                         </span>; MOV BYTE PTR $M_RT.$M_TEMP_BUF[BX],AL
<span style="color:black">TRANGROUP:5E47                                         </span>; mov [bx+$M_RT+76],al
<span style="color:black">TRANGROUP:5E4B                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5E4C                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:green">64</span>          ; $M_TEMP_BUF_SZ
<span style="color:black">TRANGROUP:5E4F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF295</span>
<span style="color:black">TRANGROUP:5E51                 </span><span style="color:navy">call    </span>$M_FLUSH_BUF
<span style="color:black">TRANGROUP:5E54
</span><span style="color:black">TRANGROUP:5E54 </span><span style="color:gray">$MIF295</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E54                 </span><span style="color:navy">dec     cl</span>
<span style="color:black">TRANGROUP:5E56                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MDO291</span>
<span style="color:black">TRANGROUP:5E58
</span><span style="color:black">TRANGROUP:5E58 </span><span style="color:gray">$MIF290</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E58                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">80h</span> ; $M_SL.$M_S_FLAG,Right_Align
<span style="color:black">TRANGROUP:5E5C                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF299</span>
<span style="color:black">TRANGROUP:5E5E                 </span><span style="color:navy">or      dh</span><span style="color:navy">, dh</span>
<span style="color:black">TRANGROUP:5E60                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF299</span>
<span style="color:black">TRANGROUP:5E62
</span><span style="color:black">TRANGROUP:5E62 </span><span style="color:gray">$MDO301</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E62                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">0Ah</span><span style="color:navy">]</span>    ; $M_SL.$M_S_PAD
<span style="color:black">TRANGROUP:5E62                                         </span>; (ds:si+$M_SUBLIST_STRUC.$M_S_PAD)
<span style="color:black">TRANGROUP:5E65                 </span><span style="color:navy">mov     byte ptr ds:</span>$M_RT_$M_TEMP_BUF<span style="color:navy">[bx]</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5E69                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5E6A                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, </span><span style="color:green">64</span>          ; $M_TEMP_BUF_SZ
<span style="color:black">TRANGROUP:5E6D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF302</span>
<span style="color:black">TRANGROUP:5E6F                 </span><span style="color:navy">call    </span>$M_FLUSH_BUF
<span style="color:black">TRANGROUP:5E72
</span><span style="color:black">TRANGROUP:5E72 </span><span style="color:gray">$MIF302</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E72                 </span><span style="color:navy">dec     dh</span>
<span style="color:black">TRANGROUP:5E74                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MDO301</span>
<span style="color:black">TRANGROUP:5E76
</span><span style="color:black">TRANGROUP:5E76 </span><span style="color:gray">$MIF299</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E76                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Fh</span> ;
<span style="color:black">TRANGROUP:5E76                                         </span>; $M_SL.$M_S_FLAG,NOT Char_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5E7A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF307</span>
<span style="color:black">TRANGROUP:5E7C                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">10h</span> ;
<span style="color:black">TRANGROUP:5E7C                                         </span>; $M_SL.$M_S_FLAG,Char_field_ASCIIZ AND $M_SIZE_MASK
<span style="color:black">TRANGROUP:5E80                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF307</span>
<span style="color:black">TRANGROUP:5E82                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN307</span>
<span style="color:black">TRANGROUP:5E84 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5E84
</span><span style="color:black">TRANGROUP:5E84 </span><span style="color:gray">$MIF307</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E84                 </span><span style="color:navy">or      dl</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:5E86                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MEN307</span>
<span style="color:black">TRANGROUP:5E88
</span><span style="color:black">TRANGROUP:5E88 </span><span style="color:gray">$MDO310</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E88                 </span><span style="color:navy">pop     ds:</span>$M_RT_$M_RETURN_ADDR ; pop [$M_RT.$M_RETURN_ADDR]
<span style="color:black">TRANGROUP:5E88                                         </span>; pop word [$M_RT+70]
<span style="color:black">TRANGROUP:5E8C                 </span><span style="color:navy">dec     dl</span>
<span style="color:black">TRANGROUP:5E8E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MDO310</span>
<span style="color:black">TRANGROUP:5E90
</span><span style="color:black">TRANGROUP:5E90 </span><span style="color:gray">$MEN307</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E90                 </span><span style="color:navy">call    </span>$M_FLUSH_BUF
<span style="color:black">TRANGROUP:5E93                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:5E94                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5E94 </span><span style="background:red">$M_DISPLAY_REPLACE endp</span><span style="background:red"> ; sp =  4</span>
<span style="color:black">TRANGROUP:5E94
</span><span style="color:black">TRANGROUP:5E95
</span><span style="color:black">TRANGROUP:5E95 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5E95
</span><span style="color:black">TRANGROUP:5E95
</span><span style="color:black">TRANGROUP:5E95 </span>$M_FLUSH_BUF    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5E95                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:5E96                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:5E97                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:5E98                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:5E99                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5E9A                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5E9C                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5E9E                 </span><span style="color:navy">lea     di</span><span style="color:navy">, </span>$M_RT_$M_TEMP_BUF ; $M_RT.$M_TEMP_BUF
<span style="color:black">TRANGROUP:5E9E                                         </span>; lea di,[$M_RT+76]
<span style="color:black">TRANGROUP:5EA2                 </span><span style="color:navy">call    </span>$M_DISPLAY_STRING
<span style="color:black">TRANGROUP:5EA5                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF314</span>
<span style="color:black">TRANGROUP:5EA7                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:5EA8                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:5EA9                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:5EAA                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN314</span>
<span style="color:black">TRANGROUP:5EAC </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5EAC
</span><span style="color:black">TRANGROUP:5EAC </span><span style="color:gray">$MIF314</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5EAC                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">6</span>
<span style="color:black">TRANGROUP:5EAF                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:5EB0
</span><span style="color:black">TRANGROUP:5EB0 </span><span style="color:gray">$MEN314</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5EB0                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5EB0 </span>$M_FLUSH_BUF    endp
<span style="color:black">TRANGROUP:5EB0
</span><span style="color:black">TRANGROUP:5EB1
</span><span style="color:black">TRANGROUP:5EB1 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5EB1
</span><span style="color:black">TRANGROUP:5EB1
</span><span style="color:black">TRANGROUP:5EB1 </span>$M_CHAR_REPLACE proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5EB1                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:5EB2                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">30h</span> ;
<span style="color:black">TRANGROUP:5EB2                                         </span>; $M_SL.$M_S_FLAG,NOT Char_Field_Char AND $M_SIZE_MASK
<span style="color:black">TRANGROUP:5EB6                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF317</span>
<span style="color:black">TRANGROUP:5EB8                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5EBB                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5EBC                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:5EBD                 </span><span style="color:navy">call    </span>$M_IS_IT_DBCS
<span style="color:black">TRANGROUP:5EC0                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MIF318</span>
<span style="color:black">TRANGROUP:5EC2                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:5EC6                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:5EC7                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:5EC8
</span><span style="color:black">TRANGROUP:5EC8 </span><span style="color:gray">$MIF318</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5EC8                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN317</span>
<span style="color:black">TRANGROUP:5ECA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5ECA
</span><span style="color:black">TRANGROUP:5ECA </span><span style="color:gray">$MIF317</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5ECA                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5ECD                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5ECF                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MEN321</span>
<span style="color:black">TRANGROUP:5ED1                 </span><span style="color:navy">inc     di</span>
<span style="color:black">TRANGROUP:5ED2                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:5ED3                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MIF317</span>
<span style="color:black">TRANGROUP:5ED5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5ED5
</span><span style="color:black">TRANGROUP:5ED5 </span><span style="color:gray">$MEN321</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5ED5                 </span><span style="color:navy">sub     di</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:5ED7
</span><span style="color:black">TRANGROUP:5ED7 </span><span style="color:gray">$MEN317</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5ED7                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:5ED8                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5ED8 </span>$M_CHAR_REPLACE endp
<span style="color:black">TRANGROUP:5ED8
</span><span style="color:black">TRANGROUP:5ED9
</span><span style="color:black">TRANGROUP:5ED9 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5ED9
</span><span style="color:black">TRANGROUP:5ED9
</span><span style="color:black">TRANGROUP:5ED9 </span>$M_BIN2ASC_REPLACE proc near            <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5ED9                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:5EDA                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5EDC                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5EDE                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DIVISOR<span style="color:navy">, </span><span style="color:#ff8000">10h</span> ; $M_RT.$M_DIVISOR,$M_BASE16
<span style="color:black">TRANGROUP:5EDE                                         </span>; mov word [$M_RT+74],16
<span style="color:black">TRANGROUP:5EE4                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5EE6                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">20h</span> ; $M_SL.$M_S_FLAG,NOT $M_BYTE AND $M_SIZE_MASK
<span style="color:black">TRANGROUP:5EEA                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF325</span>
<span style="color:black">TRANGROUP:5EEC                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5EEF                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Dh</span> ; $M_SL.$M_S_FLAG,NOT Sgn_Bin_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5EF3                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF326</span>
<span style="color:black">TRANGROUP:5EF5                 </span><span style="color:navy">test    al</span><span style="color:navy">, </span><span style="color:green">80h</span>         ; test al,10000000b
<span style="color:black">TRANGROUP:5EF7                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF327</span>
<span style="color:black">TRANGROUP:5EF9                 </span><span style="color:navy">inc     bx</span>              ; negative number
<span style="color:black">TRANGROUP:5EFA                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">7Fh</span>         ; and al,01111111b
<span style="color:black">TRANGROUP:5EFC
</span><span style="color:black">TRANGROUP:5EFC </span><span style="color:gray">$MIF327</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5EFC                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DIVISOR<span style="color:navy">, </span><span style="color:green">10</span> ; $M_RT.$M_DIVISOR,$M_BASE10
<span style="color:black">TRANGROUP:5EFC                                         </span>; mov word [$M_RT+74],10
<span style="color:black">TRANGROUP:5F02
</span><span style="color:black">TRANGROUP:5F02 </span><span style="color:gray">$MIF326</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F02                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Eh</span> ; $M_SL.$M_S_FLAG,NOT Unsgn_Bin_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5F06                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF330</span>
<span style="color:black">TRANGROUP:5F08                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DIVISOR<span style="color:navy">, </span><span style="color:green">10</span> ; mov word [$M_RT+74],10
<span style="color:black">TRANGROUP:5F0E
</span><span style="color:black">TRANGROUP:5F0E </span><span style="color:gray">$MIF330</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F0E                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN333</span>
<span style="color:black">TRANGROUP:5F10 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5F10
</span><span style="color:black">TRANGROUP:5F10 </span><span style="color:gray">$MIF325</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F10                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">10h</span> ; $M_SL.$M_S_FLAG,NOT $M_WORD AND $M_SIZE_MASK
<span style="color:black">TRANGROUP:5F14                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF333</span>
<span style="color:black">TRANGROUP:5F16                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5F19                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Dh</span> ; $M_SL.$M_S_FLAG,NOT Sgn_Bin_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5F1D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF334</span>
<span style="color:black">TRANGROUP:5F1F                 </span><span style="color:navy">test    ah</span><span style="color:navy">, </span><span style="color:green">80h</span>         ; test ah,10000000b
<span style="color:black">TRANGROUP:5F22                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF335</span>
<span style="color:black">TRANGROUP:5F24                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5F25                 </span><span style="color:navy">and     ah</span><span style="color:navy">, </span><span style="color:green">7Fh</span>         ; and ah,01111111b
<span style="color:black">TRANGROUP:5F28
</span><span style="color:black">TRANGROUP:5F28 </span><span style="color:gray">$MIF335</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F28                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DIVISOR<span style="color:navy">, </span><span style="color:green">10</span>
<span style="color:black">TRANGROUP:5F2E
</span><span style="color:black">TRANGROUP:5F2E </span><span style="color:gray">$MIF334</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F2E                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Eh</span> ; $M_SL.$M_S_FLAG,NOT Unsgn_Bin_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5F32                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF338</span>
<span style="color:black">TRANGROUP:5F34                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DIVISOR<span style="color:navy">, </span><span style="color:green">10</span> ; $M_RT.$M_DIVISOR,$M_BASE10
<span style="color:black">TRANGROUP:5F34                                         </span>; mov word [$M_RT+74],10
<span style="color:black">TRANGROUP:5F3A
</span><span style="color:black">TRANGROUP:5F3A </span><span style="color:gray">$MIF338</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F3A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN333</span>
<span style="color:black">TRANGROUP:5F3C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5F3C
</span><span style="color:black">TRANGROUP:5F3C </span><span style="color:gray">$MIF333</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F3C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:[di]</span>
<span style="color:black">TRANGROUP:5F3F                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, es:[di+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:5F43                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Dh</span> ; $M_SL.$M_S_FLAG,NOT Sgn_Bin_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5F47                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF341</span>
<span style="color:black">TRANGROUP:5F49                 </span><span style="color:navy">test    dh</span><span style="color:navy">, </span><span style="color:green">80h</span>         ; test dh,10000000b
<span style="color:black">TRANGROUP:5F4C                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF342</span>
<span style="color:black">TRANGROUP:5F4E                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:5F4F                 </span><span style="color:navy">and     dh</span><span style="color:navy">, </span><span style="color:green">7Fh</span>         ; and dh,01111111b
<span style="color:black">TRANGROUP:5F52
</span><span style="color:black">TRANGROUP:5F52 </span><span style="color:gray">$MIF342</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F52                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DIVISOR<span style="color:navy">, </span><span style="color:green">10</span> ; mov word [$M_RT+74],10
<span style="color:black">TRANGROUP:5F58
</span><span style="color:black">TRANGROUP:5F58 </span><span style="color:gray">$MIF341</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F58                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">0Eh</span> ; $M_SL.$M_S_FLAG,NOT Unsgn_Bin_Type AND $M_TYPE_MASK
<span style="color:black">TRANGROUP:5F58                                         </span>; ($M_SL = [ds:si]) ($M_SUBLIST_STRUC.$M_S_FLAG = 7)
<span style="color:black">TRANGROUP:5F5C                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MEN333</span>
<span style="color:black">TRANGROUP:5F5E                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DIVISOR<span style="color:navy">, </span><span style="color:green">10</span>
<span style="color:black">TRANGROUP:5F64
</span><span style="color:black">TRANGROUP:5F64 </span><span style="color:gray">$MEN333</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F64                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">40h</span> ; MSDOS 6.22
<span style="color:black">TRANGROUP:5F64                                         </span>; (Custom/International flag for thousand separator)
<span style="color:black">TRANGROUP:5F68                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MEN325</span>
<span style="color:black">TRANGROUP:5F6A                 </span><span style="color:navy">push    ax</span>              ; MSDOS 6.22
<span style="color:black">TRANGROUP:5F6B                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:5F6C                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">38h</span>         ; International
<span style="color:black">TRANGROUP:5F6E                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:5F70                 </span><span style="color:navy">lea     dx</span><span style="color:navy">, </span>$M_RT_$M_TEMP_BUF
<span style="color:black">TRANGROUP:5F74                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET COUNTRY-DEPENDENT INFORMATION
<span style="color:black">TRANGROUP:5F74                                         </span>; get current-country info
<span style="color:black">TRANGROUP:5F74                                         </span>; DS:DX -&gt; buffer for returned info
<span style="color:black">TRANGROUP:5F76                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MEN341</span>   ; (use country depended thousand separator)
<span style="color:black">TRANGROUP:5F78                 </span><span style="color:navy">mov     byte ptr ds:</span>$M_RT_$M_THOU_SEPARA<span style="color:navy">, </span><span style="color:green">','</span>
<span style="color:black">TRANGROUP:5F7D
</span><span style="color:black">TRANGROUP:5F7D </span><span style="color:gray">$MEN341</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F7D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">0Ah</span><span style="color:navy">]</span>    ; (save pad character)
<span style="color:black">TRANGROUP:5F80                 </span><span style="color:navy">mov     di</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5F82                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:5F83                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:5F84                 </span><span style="color:navy">mov     byte ptr [si+</span><span style="color:#ff8000">0Ah</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">','</span> ; (comma is needed for converting procedure)
<span style="color:black">TRANGROUP:5F88                 </span><span style="color:navy">call    </span>$M_CONVERT2ASC
<span style="color:black">TRANGROUP:5F8B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:5F8D                 </span><span style="color:navy">mov     [si+</span><span style="color:#ff8000">0Ah</span><span style="color:navy">]</span><span style="color:navy">, al</span>    ; (restore pad character)
<span style="color:black">TRANGROUP:5F90                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN345</span>   ; MSDOS 6.22
<span style="color:black">TRANGROUP:5F92 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:5F92                 </span><span style="color:navy">nop
</span><span style="color:black">TRANGROUP:5F93
</span><span style="color:black">TRANGROUP:5F93 </span><span style="color:gray">$MEN325</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F93                 </span><span style="color:navy">call    </span>$M_CONVERT2ASC
<span style="color:black">TRANGROUP:5F96
</span><span style="color:black">TRANGROUP:5F96 </span><span style="color:gray">$MEN345</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F96                 </span><span style="color:navy">or      bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:5F98                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF349</span>
<span style="color:black">TRANGROUP:5F9A                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5F9C                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, </span><span style="color:green">'-'</span>         ; $M_NEG_SIGN
<span style="color:black">TRANGROUP:5F9E                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:5F9F
</span><span style="color:black">TRANGROUP:5F9F </span><span style="color:gray">$MIF349</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5F9F                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:5FA0                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:5FA0 </span><span style="background:red">$M_BIN2ASC_REPLACE endp</span><span style="background:red"> ; sp = -2</span>
<span style="color:black">TRANGROUP:5FA0
</span><span style="color:black">TRANGROUP:5FA1
</span><span style="color:black">TRANGROUP:5FA1 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:5FA1
</span><span style="color:black">TRANGROUP:5FA1
</span><span style="color:black">TRANGROUP:5FA1 </span>$M_DATE_REPLACE proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5FA1                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:5FA2                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DIVISOR<span style="color:navy">, </span><span style="color:green">10</span> ; $M_RT.$M_DIVISOR,$M_BASE10
<span style="color:black">TRANGROUP:5FA2                                         </span>; mov word [$M_RT+74],10
<span style="color:black">TRANGROUP:5FA8                 </span><span style="color:navy">call    </span>$M_GET_DATE
<span style="color:black">TRANGROUP:5FAB                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:5FAD                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5FAF                 </span><span style="color:navy">cmp     ds:</span>$M_RT_$M_TEMP_BUF<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_RT.$M_DATE_FORMAT,0
<span style="color:black">TRANGROUP:5FAF                                         </span>; cmp word [$M_RT+76],0
<span style="color:black">TRANGROUP:5FB4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF351</span>
<span style="color:black">TRANGROUP:5FB6                 </span><span style="color:navy">call    </span>$M_YEAR
<span style="color:black">TRANGROUP:5FB9                 </span><span style="color:navy">call    </span>$M_CONVERTDATE
<span style="color:black">TRANGROUP:5FBC                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_DATE_SEPARA ; $M_RT.$M_DATE_SEPARA
<span style="color:black">TRANGROUP:5FBC                                         </span>; push word [$M_RT+87]
<span style="color:black">TRANGROUP:5FC0                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:5FC1                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5FC3                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">5</span><span style="color:navy">]</span>      ; $M_SL.$M_S_VALUE+3
<span style="color:black">TRANGROUP:5FC6                 </span><span style="color:navy">call    </span>$M_CONVERTDATE
<span style="color:black">TRANGROUP:5FC9                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_DATE_SEPARA
<span style="color:black">TRANGROUP:5FCD                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:5FCE                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>      ; $M_SL.$M_S_VALUE+2
<span style="color:black">TRANGROUP:5FD1                 </span><span style="color:navy">call    </span>$M_CONVERTDATE
<span style="color:black">TRANGROUP:5FD4
</span><span style="color:black">TRANGROUP:5FD4 </span><span style="color:gray">$MIF351</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5FD4                 </span><span style="color:navy">cmp     ds:</span>$M_RT_$M_TEMP_BUF<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; $M_RT.$M_DATE_FORMAT,1
<span style="color:black">TRANGROUP:5FD9                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF353</span>
<span style="color:black">TRANGROUP:5FDB                 </span><span style="color:navy">call    </span>$M_YEAR
<span style="color:black">TRANGROUP:5FDE                 </span><span style="color:navy">call    </span>$M_CONVERTDATE
<span style="color:black">TRANGROUP:5FE1                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_DATE_SEPARA ; push word [$M_RT+87]
<span style="color:black">TRANGROUP:5FE5                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:5FE6                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:5FE8                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>      ; $M_SL.$M_S_VALUE+2
<span style="color:black">TRANGROUP:5FEB                 </span><span style="color:navy">call    </span>$M_CONVERTDATE
<span style="color:black">TRANGROUP:5FEE                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_DATE_SEPARA
<span style="color:black">TRANGROUP:5FF2                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:5FF3                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">5</span><span style="color:navy">]</span>      ; $M_SL.$M_S_VALUE+3
<span style="color:black">TRANGROUP:5FF6                 </span><span style="color:navy">call    </span>$M_CONVERTDATE
<span style="color:black">TRANGROUP:5FF9
</span><span style="color:black">TRANGROUP:5FF9 </span><span style="color:gray">$MIF353</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:5FF9                 </span><span style="color:navy">cmp     ds:</span>$M_RT_$M_TEMP_BUF<span style="color:navy">, </span><span style="color:#ff8000">2</span> ; $M_RT.$M_DATE_FORMAT,2
<span style="color:black">TRANGROUP:5FFE                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF355</span>
<span style="color:black">TRANGROUP:6000                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">5</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:6003                 </span><span style="color:navy">call    </span>$M_CONVERTDATE
<span style="color:black">TRANGROUP:6006                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_DATE_SEPARA
<span style="color:black">TRANGROUP:600A                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:600B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:600E                 </span><span style="color:navy">call    </span>$M_CONVERTDATE
<span style="color:black">TRANGROUP:6011                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_DATE_SEPARA ; $M_RT.$M_DATE_SEPARA
<span style="color:black">TRANGROUP:6015                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:6016                 </span><span style="color:navy">call    </span>$M_YEAR
<span style="color:black">TRANGROUP:6019                 </span><span style="color:navy">call    </span>$M_CONVERTDATE
<span style="color:black">TRANGROUP:601C
</span><span style="color:black">TRANGROUP:601C </span><span style="color:gray">$MIF355</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:601C                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:601D                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:601D </span><span style="background:red">$M_DATE_REPLACE endp</span><span style="background:red"> ; sp = -0Ch</span>
<span style="color:black">TRANGROUP:601D
</span><span style="color:black">TRANGROUP:601E
</span><span style="color:black">TRANGROUP:601E </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:601E
</span><span style="color:black">TRANGROUP:601E
</span><span style="color:black">TRANGROUP:601E </span>$M_GET_DATE     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:601E                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">38h</span>         ; DOS_GET_COUNTRY
<span style="color:black">TRANGROUP:6020                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:6022                 </span><span style="color:navy">lea     dx</span><span style="color:navy">, </span>$M_RT_$M_TEMP_BUF ; lea dx,[$M_RT+76]
<span style="color:black">TRANGROUP:6026                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET COUNTRY-DEPENDENT INFORMATION
<span style="color:black">TRANGROUP:6026                                         </span>; get current-country info
<span style="color:black">TRANGROUP:6026                                         </span>; DS:DX -&gt; buffer for returned info
<span style="color:black">TRANGROUP:6028                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MIF357</span>
<span style="color:black">TRANGROUP:602A                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_TEMP_BUF<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_RT.$M_DATE_FORMAT,$M_DEF_DATE_FORM
<span style="color:black">TRANGROUP:6030                 </span><span style="color:navy">mov     byte ptr ds:</span>$M_RT_$M_DATE_SEPARA<span style="color:navy">, </span><span style="color:green">'-'</span> ;
<span style="color:black">TRANGROUP:6030                                         </span>; $M_RT.$M_DATE_SEPARA,$M_DEF_DATE_SEP
<span style="color:black">TRANGROUP:6030                                         </span>; mov byte [$M_RT+87],'-'
<span style="color:black">TRANGROUP:6035
</span><span style="color:black">TRANGROUP:6035 </span><span style="color:gray">$MIF357</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6035                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6035 </span>$M_GET_DATE     endp
<span style="color:black">TRANGROUP:6035
</span><span style="color:black">TRANGROUP:6036
</span><span style="color:black">TRANGROUP:6036 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6036
</span><span style="color:black">TRANGROUP:6036
</span><span style="color:black">TRANGROUP:6036 </span>$M_YEAR         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6036                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, [si+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>      ; $M_SL.$M_S_VALUE
<span style="color:black">TRANGROUP:6036                                         </span>; ($M_SUBLIST_STRUC.$M_S_VALUE = 2)
<span style="color:black">TRANGROUP:6039                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">10h</span> ; $M_SL.$M_S_FLAG,Date_MDY_4 AND $M_DATE_MASK
<span style="color:black">TRANGROUP:603D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF360</span>
<span style="color:black">TRANGROUP:603F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">99</span>          ; $M_MAX_2_YEAR
<span style="color:black">TRANGROUP:6042                 </span><span style="color:navy">jbe     short </span><span style="color:gray">$MIF360</span>
<span style="color:black">TRANGROUP:6044                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">99</span>
<span style="color:black">TRANGROUP:6047
</span><span style="color:black">TRANGROUP:6047 </span><span style="color:gray">$MIF360</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6047                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6047 </span>$M_YEAR         endp
<span style="color:black">TRANGROUP:6047
</span><span style="color:black">TRANGROUP:6048
</span><span style="color:black">TRANGROUP:6048 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6048
</span><span style="color:black">TRANGROUP:6048
</span><span style="color:black">TRANGROUP:6048 </span>$M_CONVERTDATE  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6048                 </span><span style="color:navy">pop     ds:</span>$M_RT_$M_TEMP_BUF ; $M_RT.$M_TEMP_BUF
<span style="color:black">TRANGROUP:6048                                         </span>; pop word [$M_RT+76]
<span style="color:black">TRANGROUP:604C                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_SIZE<span style="color:navy">, cl</span> ; $M_RT.$M_SIZE
<span style="color:black">TRANGROUP:6050                 </span><span style="color:navy">call    </span>$M_CONVERT2ASC
<span style="color:black">TRANGROUP:6053                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:6054                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, ds:</span>$M_RT_$M_SIZE
<span style="color:black">TRANGROUP:6058                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF363</span>
<span style="color:black">TRANGROUP:605A                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">'0'</span>         ; $M_TIMEDATE_PAD
<span style="color:black">TRANGROUP:605D                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:605E                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:605F
</span><span style="color:black">TRANGROUP:605F </span><span style="color:gray">$MIF363</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:605F                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:6060                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_TEMP_BUF ; push word [$M_RT+76]
<span style="color:black">TRANGROUP:6064                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6064 </span><span style="background:red">$M_CONVERTDATE  endp</span><span style="background:red"> ; sp = -2</span>
<span style="color:black">TRANGROUP:6064
</span><span style="color:black">TRANGROUP:6065
</span><span style="color:black">TRANGROUP:6065 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6065
</span><span style="color:black">TRANGROUP:6065
</span><span style="color:black">TRANGROUP:6065 </span>$M_TIME_REPLACE proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6065                 </span><span style="color:navy">pop     bp</span>
<span style="color:black">TRANGROUP:6066                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_DIVISOR<span style="color:navy">, </span><span style="color:green">10</span> ; MOV $M_RT.$M_DIVISOR,$M_BASE10
<span style="color:black">TRANGROUP:606C                 </span><span style="color:navy">call    </span>$M_GET_TIME
<span style="color:black">TRANGROUP:606F                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">1</span> ; $M_SL.$M_S_FLAG,Time_Cty_Type AND $M_TIME_MASK
<span style="color:black">TRANGROUP:6073                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF365</span>
<span style="color:black">TRANGROUP:6075                 </span><span style="color:navy">cmp     ds:</span>$M_RT_$M_TIME_FORMAT<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_RT.$M_TIME_FORMAT
<span style="color:black">TRANGROUP:6075                                         </span>; cmp byte [$M_RT+93],0
<span style="color:black">TRANGROUP:607A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF365</span>
<span style="color:black">TRANGROUP:607C                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>      ; $M_SL.$M_S_VALUE ($M_SL = [ds:si])
<span style="color:black">TRANGROUP:607F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">12</span>
<span style="color:black">TRANGROUP:6081                 </span><span style="color:navy">jl      short </span><span style="color:gray">$MLL367</span>
<span style="color:black">TRANGROUP:6083                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">23</span>
<span style="color:black">TRANGROUP:6085                 </span><span style="color:navy">jle     short </span><span style="color:gray">MIF367</span>
<span style="color:black">TRANGROUP:6087
</span><span style="color:black">TRANGROUP:6087 </span><span style="color:gray">$MLL367</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6087                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'a'</span>         ; $M_AM
<span style="color:black">TRANGROUP:6089                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:608A                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:608B                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MIF365</span>
<span style="color:black">TRANGROUP:608D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:608D
</span><span style="color:black">TRANGROUP:608D </span><span style="color:gray">MIF367</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:608D                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">'p'</span>         ; $M_PM
<span style="color:black">TRANGROUP:608F                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:6090                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:6091
</span><span style="color:black">TRANGROUP:6091 </span><span style="color:gray">$MIF365</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6091                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:6093                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:6095                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">20h</span> ;
<span style="color:black">TRANGROUP:6095                                         </span>; $M_SL.$M_S_FLAG,Time_HHMMSSHH_Cty AND $M_SIZE_MASK
<span style="color:black">TRANGROUP:6099                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF372</span>
<span style="color:black">TRANGROUP:609B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">5</span><span style="color:navy">]</span>      ; $M_SL.$M_S_VALUE+3 ($M_SUBLIST_STRUC.$M_S_VALUE = 2)
<span style="color:black">TRANGROUP:609E                 </span><span style="color:navy">call    </span>$M_CONVERTTIME
<span style="color:black">TRANGROUP:60A1                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_DECI_SEPARA ; $M_RT.$M_DECI_SEPARA
<span style="color:black">TRANGROUP:60A1                                         </span>; push word [$M_RT+85]
<span style="color:black">TRANGROUP:60A5                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:60A6
</span><span style="color:black">TRANGROUP:60A6 </span><span style="color:gray">$MIF372</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:60A6                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">20h</span> ;
<span style="color:black">TRANGROUP:60A6                                         </span>; $M_SL.$M_S_FLAG,Time_HHMMSSHH_Cty AND $M_SIZE_MASK
<span style="color:black">TRANGROUP:60AA                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MLL374</span>
<span style="color:black">TRANGROUP:60AC                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">10h</span> ;
<span style="color:black">TRANGROUP:60AC                                         </span>; $M_SL.$M_S_FLAG,Time_HHMMSS_Cty AND $M_SIZE_MASK
<span style="color:black">TRANGROUP:60B0                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF374</span>
<span style="color:black">TRANGROUP:60B2
</span><span style="color:black">TRANGROUP:60B2 </span><span style="color:gray">$MLL374</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:60B2                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">4</span><span style="color:navy">]</span>      ; $M_SL.$M_S_VALUE+2
<span style="color:black">TRANGROUP:60B5                 </span><span style="color:navy">call    </span>$M_CONVERTTIME
<span style="color:black">TRANGROUP:60B8                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_TIME_SEPARA ; $M_RT.$M_TIME_SEPARA
<span style="color:black">TRANGROUP:60B8                                         </span>; push word [$M_RT+89]
<span style="color:black">TRANGROUP:60BC                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:60BD
</span><span style="color:black">TRANGROUP:60BD </span><span style="color:gray">$MIF374</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:60BD                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">3</span><span style="color:navy">]</span>      ; $M_SL.$M_S_VALUE+1
<span style="color:black">TRANGROUP:60C0                 </span><span style="color:navy">call    </span>$M_CONVERTTIME
<span style="color:black">TRANGROUP:60C3                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_TIME_SEPARA
<span style="color:black">TRANGROUP:60C7                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:60C8                 </span><span style="color:navy">mov     al</span><span style="color:navy">, [si+</span><span style="color:#ff8000">2</span><span style="color:navy">]</span>      ; $M_SL.$M_S_VALUE
<span style="color:black">TRANGROUP:60CB                 </span><span style="color:navy">test    byte ptr [si+</span><span style="color:#ff8000">7</span><span style="color:navy">]</span><span style="color:navy">, </span><span style="color:green">1</span> ;
<span style="color:black">TRANGROUP:60CB                                         </span>; $M_SL.$M_S_FLAG,Time_Cty_Type AND $M_TIME_MASK
<span style="color:black">TRANGROUP:60CF                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF376</span>
<span style="color:black">TRANGROUP:60D1                 </span><span style="color:navy">cmp     ds:</span>$M_RT_$M_TIME_FORMAT<span style="color:navy">, </span><span style="color:#ff8000">0</span> ; $M_RT.$M_TIME_FORMAT
<span style="color:black">TRANGROUP:60D1                                         </span>; cmp byte [$M_RT+93],0
<span style="color:black">TRANGROUP:60D6                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF376</span>
<span style="color:black">TRANGROUP:60D8                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">13</span>
<span style="color:black">TRANGROUP:60DA                 </span><span style="color:navy">jl      short </span><span style="color:gray">$MIF378</span>
<span style="color:black">TRANGROUP:60DC                 </span><span style="color:navy">sub     al</span><span style="color:navy">, </span><span style="color:green">12</span>
<span style="color:black">TRANGROUP:60DE
</span><span style="color:black">TRANGROUP:60DE </span><span style="color:gray">$MIF378</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:60DE                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:60E0                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF376</span>
<span style="color:black">TRANGROUP:60E2                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:green">12</span>
<span style="color:black">TRANGROUP:60E4
</span><span style="color:black">TRANGROUP:60E4 </span><span style="color:gray">$MIF376</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:60E4                 </span><span style="color:navy">call    </span>$M_CONVERT2ASC
<span style="color:black">TRANGROUP:60E7                 </span><span style="color:navy">push    bp</span>
<span style="color:black">TRANGROUP:60E8                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:60E8 </span><span style="background:red">$M_TIME_REPLACE endp</span><span style="background:red"> ; sp = -8</span>
<span style="color:black">TRANGROUP:60E8
</span><span style="color:black">TRANGROUP:60E9
</span><span style="color:black">TRANGROUP:60E9 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:60E9
</span><span style="color:black">TRANGROUP:60E9
</span><span style="color:black">TRANGROUP:60E9 </span>$M_GET_TIME     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:60E9                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">38h</span>         ; DOS_GET_COUNTRY
<span style="color:black">TRANGROUP:60EB                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:60ED                 </span><span style="color:navy">lea     dx</span><span style="color:navy">, </span>$M_RT_$M_TEMP_BUF
<span style="color:black">TRANGROUP:60F1                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ - GET COUNTRY-DEPENDENT INFORMATION
<span style="color:black">TRANGROUP:60F1                                         </span>; get current-country info
<span style="color:black">TRANGROUP:60F1                                         </span>; DS:DX -&gt; buffer for returned info
<span style="color:black">TRANGROUP:60F3                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MIF384</span>
<span style="color:black">TRANGROUP:60F5                 </span><span style="color:navy">mov     word ptr ds:</span>$M_RT_$M_TIME_FORMAT<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; $M_DEF_TIME_FORM
<span style="color:black">TRANGROUP:60FB                 </span><span style="color:navy">mov     byte ptr ds:</span>$M_RT_$M_TIME_SEPARA<span style="color:navy">, </span><span style="color:green">':'</span> ; $M_DEF_TIME_SEP
<span style="color:black">TRANGROUP:6100                 </span><span style="color:navy">mov     byte ptr ds:</span>$M_RT_$M_DECI_SEPARA<span style="color:navy">, </span><span style="color:green">'.'</span> ; $M_DEF_DECI_SEP
<span style="color:black">TRANGROUP:6105
</span><span style="color:black">TRANGROUP:6105 </span><span style="color:gray">$MIF384</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6105                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6105 </span>$M_GET_TIME     endp
<span style="color:black">TRANGROUP:6105
</span><span style="color:black">TRANGROUP:6106
</span><span style="color:black">TRANGROUP:6106 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6106
</span><span style="color:black">TRANGROUP:6106
</span><span style="color:black">TRANGROUP:6106 </span>$M_CONVERTTIME  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6106                 </span><span style="color:navy">pop     ds:</span>$M_RT_$M_TEMP_BUF ; $M_RT.$M_TEMP_BUF
<span style="color:black">TRANGROUP:6106                                         </span>; pop word [$M_RT+76]
<span style="color:black">TRANGROUP:610A                 </span><span style="color:navy">mov     ds:</span>$M_RT_$M_SIZE<span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:610E                 </span><span style="color:navy">call    </span>$M_CONVERT2ASC
<span style="color:black">TRANGROUP:6111                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:6112                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, ds:</span>$M_RT_$M_SIZE ; $M_RT.$M_SIZE
<span style="color:black">TRANGROUP:6116                 </span><span style="color:navy">jnz     short </span><span style="color:gray">$MIF386</span>
<span style="color:black">TRANGROUP:6118                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">'0'</span>         ; $M_TIMEDATE_PAD
<span style="color:black">TRANGROUP:611B                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:611C                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:611D
</span><span style="color:black">TRANGROUP:611D </span><span style="color:gray">$MIF386</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:611D                 </span><span style="color:navy">inc     cx</span>
<span style="color:black">TRANGROUP:611E                 </span><span style="color:navy">push    ds:</span>$M_RT_$M_TEMP_BUF
<span style="color:black">TRANGROUP:6122                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6122 </span><span style="background:red">$M_CONVERTTIME  endp</span><span style="background:red"> ; sp = -2</span>
<span style="color:black">TRANGROUP:6122
</span><span style="color:black">TRANGROUP:6123
</span><span style="color:black">TRANGROUP:6123 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6123
</span><span style="color:black">TRANGROUP:6123
</span><span style="color:black">TRANGROUP:6123 </span>$M_WAIT_FOR_INPUT proc near             <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6123                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:6124                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:6125                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:6126                 </span><span style="color:navy">cmp     dl</span><span style="color:navy">, </span><span style="color:green">0C0h</span>        ; DOS_CLR_KEYB_BUF_MASK
<span style="color:black">TRANGROUP:6129                 </span><span style="color:navy">jbe     short </span><span style="color:gray">$MIF388</span>
<span style="color:black">TRANGROUP:612B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:612D                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">0Fh</span>         ; LOW_NIB_MASK
<span style="color:black">TRANGROUP:612F                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">0Ch</span>         ; DOS_CLR_KEYB_BUF
<span style="color:black">TRANGROUP:6131                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN388</span>
<span style="color:black">TRANGROUP:6133 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6133
</span><span style="color:black">TRANGROUP:6133 </span><span style="color:gray">$MIF388</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6133                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:6135
</span><span style="color:black">TRANGROUP:6135 </span><span style="color:gray">$MEN388</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6135                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:6136                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:6137                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:6139                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS -
<span style="color:black">TRANGROUP:613B                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:613C                 </span><span style="color:navy">cmp     dl</span><span style="color:navy">, </span><span style="color:green">0Ah</span>         ; DOS_BUF_KEYB_INP
<span style="color:black">TRANGROUP:613F                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:6140                 </span><span style="color:navy">jz      short </span><span style="color:gray">$MIF391</span>
<span style="color:black">TRANGROUP:6142                 </span><span style="color:navy">call    </span>$M_IS_IT_DBCS
<span style="color:black">TRANGROUP:6145                 </span><span style="color:navy">jnb     short </span><span style="color:gray">$MIF392</span>
<span style="color:black">TRANGROUP:6147                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:6149                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:614B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS -
<span style="color:black">TRANGROUP:614D                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:614F                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:6150                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MIF391</span>
<span style="color:black">TRANGROUP:6152 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6152
</span><span style="color:black">TRANGROUP:6152 </span><span style="color:gray">$MIF392</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6152                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:6154
</span><span style="color:black">TRANGROUP:6154 </span><span style="color:gray">$MIF391</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6154                 </span><span style="color:navy">jb      short </span><span style="color:gray">$MIF396</span>
<span style="color:black">TRANGROUP:6156                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:6157                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:6158                 </span><span style="color:navy">jmp     short </span><span style="color:gray">$MEN396</span>
<span style="color:black">TRANGROUP:615A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:615A
</span><span style="color:black">TRANGROUP:615A </span><span style="color:gray">$MIF396</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:615A                 </span><span style="color:navy">add     sp</span><span style="color:navy">, </span><span style="color:green">4</span>
<span style="color:black">TRANGROUP:615D                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:615E
</span><span style="color:black">TRANGROUP:615E </span><span style="color:gray">$MEN396</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:615E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:615E </span>$M_WAIT_FOR_INPUT endp
<span style="color:black">TRANGROUP:615E
</span><span style="color:black">TRANGROUP:615F
</span><span style="color:black">TRANGROUP:615F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:615F
</span><span style="color:black">TRANGROUP:615F
</span><span style="color:black">TRANGROUP:615F </span>InitVar         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:615F                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:6160                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:6161                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:6162                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:6163                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:6167                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:6169                 </span><span style="color:navy">mov     es:</span>fUmbTiny<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:616D                 </span><span style="color:navy">mov     es:</span>fInHigh<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:6171                 </span><span style="color:navy">mov     es:</span>SegLoad<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:6175                 </span><span style="color:navy">mov     es:</span>UmbLoad<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; UNSPECIFIED
<span style="color:black">TRANGROUP:617B                 </span><span style="color:navy">mov     es:</span>fm_argc<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:617F                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:6180                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">16</span>          ; MAXUMB
<span style="color:black">TRANGROUP:6183                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>UmbUsed
<span style="color:black">TRANGROUP:6186                 </span><span style="color:navy">rep stosb
</span><span style="color:black">TRANGROUP:6188                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:green">16</span>          ; MAXUMB
<span style="color:black">TRANGROUP:618B                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>UmbSize
<span style="color:black">TRANGROUP:618E                 </span><span style="color:navy">rep stosw
</span><span style="color:black">TRANGROUP:6190                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:6191                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:6192                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:6193                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:6194                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6194 </span>InitVar         endp
<span style="color:black">TRANGROUP:6194
</span><span style="color:black">TRANGROUP:6195
</span><span style="color:black">TRANGROUP:6195 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6195
</span><span style="color:black">TRANGROUP:6195
</span><span style="color:black">TRANGROUP:6195 </span>FixMem          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6195                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:6196                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:6197                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:6198                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:6199                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:619A                 </span><span style="color:navy">call    </span>fm_link
<span style="color:black">TRANGROUP:619D                 </span><span style="color:navy">call    </span>UmbHead
<span style="color:black">TRANGROUP:61A0                 </span><span style="color:navy">jb      short </span><span style="color:gray">fmX</span>
<span style="color:black">TRANGROUP:61A2                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:61A4                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:61A6                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:61A8                 </span><span style="color:navy">inc     dx</span>
<span style="color:black">TRANGROUP:61A9
</span><span style="color:black">TRANGROUP:61A9 </span><span style="color:gray">fm10</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:61A9                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:</span><span style="color:green">0</span>        ; es:[arena_signature]
<span style="color:black">TRANGROUP:61AD                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:</span><span style="color:green">1</span>        ; es:[arena_owner]
<span style="color:black">TRANGROUP:61B2                 </span><span style="color:navy">or      bx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:61B4                 </span><span style="color:navy">jnz     short </span><span style="color:gray">fm30</span>
<span style="color:black">TRANGROUP:61B6
</span><span style="color:black">TRANGROUP:61B6 </span>fm20<span style="color:navy">:
</span><span style="color:black">TRANGROUP:61B6                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es:</span><span style="color:green">3</span>
<span style="color:black">TRANGROUP:61BB                 </span><span style="color:navy">mov     es</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:61BD                 </span>assume es:RESGROUP
<span style="color:black">TRANGROUP:61BD                 </span><span style="color:navy">mov     es:</span><span style="color:green">0</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:61C1                 </span><span style="color:navy">add     bx</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; es:[arena_size]
<span style="color:black">TRANGROUP:61C6                 </span><span style="color:navy">add     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:61C9                 </span><span style="color:navy">mov     es:</span><span style="color:green">3</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:61CE
</span><span style="color:black">TRANGROUP:61CE </span><span style="color:gray">fm30</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:61CE                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:61D0                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, es:</span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:61D5                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:61D7                 </span><span style="color:navy">add     bx</span><span style="color:navy">, es:</span><span style="color:green">3</span>
<span style="color:black">TRANGROUP:61DC                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:61DD                 </span><span style="color:navy">mov     es</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:61DF                 </span>assume es:nothing
<span style="color:black">TRANGROUP:61DF                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">5Ah</span> <span style="color:gray">; 'Z'
</span><span style="color:black">TRANGROUP:61E1                 </span><span style="color:navy">jnz     short </span><span style="color:gray">fm10</span>
<span style="color:black">TRANGROUP:61E3
</span><span style="color:black">TRANGROUP:61E3 </span><span style="color:gray">fmX</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:61E3                 </span><span style="color:navy">call    </span>fm_unlink
<span style="color:black">TRANGROUP:61E6                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:61E7                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:61E8                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:61E9                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:61EA                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:61EB                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:61EB </span>FixMem          endp
<span style="color:black">TRANGROUP:61EB
</span><span style="color:black">TRANGROUP:61EC
</span><span style="color:black">TRANGROUP:61EC </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:61EC
</span><span style="color:black">TRANGROUP:61EC
</span><span style="color:black">TRANGROUP:61EC </span>fm_link         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:61EC                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5802h</span>
<span style="color:black">TRANGROUP:61EF                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">TRANGROUP:61EF                                         </span>; AL = function code: (DOS 5beta) get UMB link state
<span style="color:black">TRANGROUP:61F1                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:61F2                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:61F6                 </span><span style="color:navy">mov     es:</span>fm_umb<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:61FA                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:61FB                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">5803h</span>
<span style="color:black">TRANGROUP:61FE                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:6201                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">TRANGROUP:6201                                         </span>; AL = function code: (DOS 5beta) set UMB link state
<span style="color:black">TRANGROUP:6203                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6203 </span>fm_link         endp
<span style="color:black">TRANGROUP:6203
</span><span style="color:black">TRANGROUP:6204
</span><span style="color:black">TRANGROUP:6204 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6204
</span><span style="color:black">TRANGROUP:6204
</span><span style="color:black">TRANGROUP:6204 </span>fm_unlink       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6204                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:6206                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:6207                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:620B                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, ds:</span>fm_umb
<span style="color:black">TRANGROUP:620F                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:6210                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5803h</span>
<span style="color:black">TRANGROUP:6213                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">TRANGROUP:6213                                         </span>; AL = function code: (DOS 5beta) set UMB link state
<span style="color:black">TRANGROUP:6215                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6215 </span>fm_unlink       endp
<span style="color:black">TRANGROUP:6215
</span><span style="color:black">TRANGROUP:6216
</span><span style="color:black">TRANGROUP:6216 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6216
</span><span style="color:black">TRANGROUP:6216
</span><span style="color:black">TRANGROUP:6216 </span>ParseVar        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6216                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:6217                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:6218                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:6219                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:621A                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:621B                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:621C
</span><span style="color:black">TRANGROUP:621C </span><span style="color:gray">pv10</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:621C                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:621D                 </span><span style="color:navy">call    </span>isWhite
<span style="color:black">TRANGROUP:6220                 </span><span style="color:navy">jz      short </span><span style="color:gray">pv10</span>
<span style="color:black">TRANGROUP:6222                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'/'</span>         ; SWTCH
<span style="color:black">TRANGROUP:6224                 </span><span style="color:navy">jz      short </span><span style="color:gray">pv20</span>
<span style="color:black">TRANGROUP:6226                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:6227                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:6228                 </span><span style="color:navy">jmp     short </span><span style="color:gray">pvX</span>
<span style="color:black">TRANGROUP:622A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:622A
</span><span style="color:black">TRANGROUP:622A </span><span style="color:gray">pv20</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:622A                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:622B                 </span><span style="color:navy">and     al</span><span style="color:navy">, </span><span style="color:green">0DFh</span>        ; toUpper (macro)
<span style="color:black">TRANGROUP:622D                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'S'</span>         ; optS ; just read 'S'?
<span style="color:black">TRANGROUP:622F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">pv30</span>
<span style="color:black">TRANGROUP:6231                 </span><span style="color:navy">call    </span>incArgc         ; it is /S, another arg for LH is skipped
<span style="color:black">TRANGROUP:6234                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:6235                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:6239                 </span><span style="color:navy">mov     es:</span>fUmbTiny<span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:623F                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:6240                 </span><span style="color:navy">jmp     short </span><span style="color:gray">pv10</span>
<span style="color:black">TRANGROUP:6242 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6242
</span><span style="color:black">TRANGROUP:6242 </span><span style="color:gray">pv30</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6242                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'L'</span>         ; optL ; If it's not 'L', it is a bad switch
<span style="color:black">TRANGROUP:6244                 </span><span style="color:navy">jnz     short </span><span style="color:gray">pvE1</span>
<span style="color:black">TRANGROUP:6246                 </span><span style="color:navy">call    </span>incArgc         ; it is /L, another arg for LH is skipped
<span style="color:black">TRANGROUP:6249                 </span><span style="color:navy">call    </span>parseL
<span style="color:black">TRANGROUP:624C                 </span><span style="color:navy">jnb     short </span><span style="color:gray">pv10</span>
<span style="color:black">TRANGROUP:624E                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:624F                 </span><span style="color:navy">jmp     short </span><span style="color:gray">pvErr</span>
<span style="color:black">TRANGROUP:6251 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6251
</span><span style="color:black">TRANGROUP:6251 </span><span style="color:gray">pvE1</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6251                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; PV_InvSwt ; Unrecognized switch passed
<span style="color:black">TRANGROUP:6254
</span><span style="color:black">TRANGROUP:6254 </span><span style="color:gray">pvErr</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6254                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:6255                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:6256                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:6257
</span><span style="color:black">TRANGROUP:6257 </span><span style="color:gray">pvX</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6257                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:6258                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:6259                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:625A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:625A </span>ParseVar        endp
<span style="color:black">TRANGROUP:625A
</span><span style="color:black">TRANGROUP:625B
</span><span style="color:black">TRANGROUP:625B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:625B
</span><span style="color:black">TRANGROUP:625B
</span><span style="color:black">TRANGROUP:625B </span>parseL          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:625B                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:625C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">':'</span>         ; Make sure they did /L:
<span style="color:black">TRANGROUP:625E                 </span><span style="color:navy">jnz     short </span><span style="color:gray">plE1</span>
<span style="color:black">TRANGROUP:6260
</span><span style="color:black">TRANGROUP:6260 </span><span style="color:gray">pl10</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6260                 </span><span style="color:navy">call    </span>GetXNum
<span style="color:black">TRANGROUP:6263                 </span><span style="color:navy">jb      short </span><span style="color:gray">plE2</span>
<span style="color:black">TRANGROUP:6265                 </span><span style="color:navy">call    </span>convUMB         ; Convert any address to a UMB number
<span style="color:black">TRANGROUP:6268                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:626A                 </span><span style="color:navy">call    </span>stowUMB         ; Mark this UMB # as used
<span style="color:black">TRANGROUP:626D                 </span><span style="color:navy">jb      short </span><span style="color:gray">plE2</span>
<span style="color:black">TRANGROUP:626F                 </span><span style="color:navy">call    </span>incArgc         ; Each UMB number is another arg for LH to skip
<span style="color:black">TRANGROUP:6272                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:6273                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">';'</span>         ; Did &quot;umb;&quot; ?
<span style="color:black">TRANGROUP:6275                 </span><span style="color:navy">jz      short </span><span style="color:gray">pl10</span>      ; get another UMB
<span style="color:black">TRANGROUP:6277                 </span><span style="color:navy">call    </span>isWhite         ; Did &quot;umb &quot; ?
<span style="color:black">TRANGROUP:627A                 </span><span style="color:navy">jz      short </span><span style="color:gray">plX</span>       ; return
<span style="color:black">TRANGROUP:627C                 </span><span style="color:navy">call    </span>isEOL           ; Did &quot;umb&quot; ?
<span style="color:black">TRANGROUP:627F                 </span><span style="color:navy">jz      short </span><span style="color:gray">plSwX</span>     ; backup and exit
<span style="color:black">TRANGROUP:6281                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'/'</span>         ; Did &quot;umb/&quot; ? (as in, &quot;/L:1,100;2/S&quot;)
<span style="color:black">TRANGROUP:6283                 </span><span style="color:navy">jz      short </span><span style="color:gray">plSwX</span>     ; backup one character and return
<span style="color:black">TRANGROUP:6285                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">','</span>         ; Did &quot;umb,&quot; ?
<span style="color:black">TRANGROUP:6287                 </span><span style="color:navy">jnz     short </span><span style="color:gray">plE1</span>      ; return error
<span style="color:black">TRANGROUP:6289                 </span><span style="color:navy">call    </span>GetXNum         ; Stop on &quot;size;&quot; or &quot;size &quot; or anything else
<span style="color:black">TRANGROUP:628C                 </span><span style="color:navy">jb      short </span><span style="color:gray">plE1</span>      ; bad size
<span style="color:black">TRANGROUP:628E                 </span><span style="color:navy">call    </span>toPara          ; Convert from bytes to paragraphs
<span style="color:black">TRANGROUP:6291                 </span><span style="color:navy">call    </span>stowSiz         ; CL still has the UMB number for this routine
<span style="color:black">TRANGROUP:6294                 </span><span style="color:navy">call    </span>incArgc         ; Each UMB size is another arg for LH to skip
<span style="color:black">TRANGROUP:6297                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:6298                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">';'</span>         ; They did &quot;umb,size;&quot;, so get another UMB.
<span style="color:black">TRANGROUP:629A                 </span><span style="color:navy">jz      short </span><span style="color:gray">pl10</span>
<span style="color:black">TRANGROUP:629C                 </span><span style="color:navy">call    </span>isWhite         ; Did it end with whitespace?
<span style="color:black">TRANGROUP:629F                 </span><span style="color:navy">jz      short </span><span style="color:gray">plX</span>       ; we're done here--go back
<span style="color:black">TRANGROUP:62A1                 </span><span style="color:navy">call    </span>isEOL           ; Did they do &quot;umb,size&quot; and end??? (stupid)
<span style="color:black">TRANGROUP:62A4                 </span><span style="color:navy">jz      short </span><span style="color:gray">plSwX</span>     ; backup and exit like everything's ok
<span style="color:black">TRANGROUP:62A6                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'/'</span>         ; Did they do &quot;umb,size/&quot; ?
<span style="color:black">TRANGROUP:62A8                 </span><span style="color:navy">jz      short </span><span style="color:gray">plSwX</span>     ; we're done here
<span style="color:black">TRANGROUP:62AA
</span><span style="color:black">TRANGROUP:62AA </span><span style="color:gray">plE1</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:62AA                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; PV_InvArg ; we don't know WHAT they did..
<span style="color:black">TRANGROUP:62AD                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:62AE                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:62AF                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:62B0 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:62B0
</span><span style="color:black">TRANGROUP:62B0 </span><span style="color:gray">plE2</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:62B0                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; PV_BadUMB ; they've specified a UMB twice
<span style="color:black">TRANGROUP:62B3                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:62B4                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:62B5 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:62B5
</span><span style="color:black">TRANGROUP:62B5 </span><span style="color:gray">plSwX</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:62B5                 </span><span style="color:navy">dec     si</span>              ; we hit a '/' character, back up one char
<span style="color:black">TRANGROUP:62B6
</span><span style="color:black">TRANGROUP:62B6 </span><span style="color:gray">plX</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:62B6                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:62B7                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:62B7 </span>parseL          endp
<span style="color:black">TRANGROUP:62B7
</span><span style="color:black">TRANGROUP:62B8
</span><span style="color:black">TRANGROUP:62B8 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:62B8
</span><span style="color:black">TRANGROUP:62B8
</span><span style="color:black">TRANGROUP:62B8 </span>incArgc         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:62B8                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:62B9                 </span><span style="color:navy">push    ds</span>              ; getdata (macro)
<span style="color:black">TRANGROUP:62B9                                         </span>; getdata al, fm_argc
<span style="color:black">TRANGROUP:62BA                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:62BE                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>fm_argc  ; Obtain previous value of fm_argc,
<span style="color:black">TRANGROUP:62C1                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:62C2                 </span><span style="color:navy">inc     al</span>              ; increment it,
<span style="color:black">TRANGROUP:62C4                 </span><span style="color:navy">push    es</span>              ; putdata (macro)
<span style="color:black">TRANGROUP:62C4                                         </span>; putdata fm_argc, al
<span style="color:black">TRANGROUP:62C5                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:62C9                 </span><span style="color:navy">mov     es:</span>fm_argc<span style="color:navy">, al</span>  ; and store it right back.
<span style="color:black">TRANGROUP:62CD                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:62CE                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:62CF                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:62CF </span>incArgc         endp
<span style="color:black">TRANGROUP:62CF
</span><span style="color:black">TRANGROUP:62D0
</span><span style="color:black">TRANGROUP:62D0 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:62D0
</span><span style="color:black">TRANGROUP:62D0
</span><span style="color:black">TRANGROUP:62D0 </span>isEOL           proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:62D0                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>           ; Null-terminator
<span style="color:black">TRANGROUP:62D2                 </span><span style="color:navy">jz      short </span><span style="color:gray">ieX</span>
<span style="color:black">TRANGROUP:62D4                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>         ; Carriage Return
<span style="color:black">TRANGROUP:62D6                 </span><span style="color:navy">jz      short </span><span style="color:gray">ieX</span>
<span style="color:black">TRANGROUP:62D8                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Ah</span>         ; LineFeed
<span style="color:black">TRANGROUP:62DA
</span><span style="color:black">TRANGROUP:62DA </span><span style="color:gray">ieX</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:62DA                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:62DA </span>isEOL           endp
<span style="color:black">TRANGROUP:62DA
</span><span style="color:black">TRANGROUP:62DB
</span><span style="color:black">TRANGROUP:62DB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:62DB
</span><span style="color:black">TRANGROUP:62DB
</span><span style="color:black">TRANGROUP:62DB </span>isWhite         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:62DB                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '   </span>; Space
<span style="color:black">TRANGROUP:62DD                 </span><span style="color:navy">jz      short </span><span style="color:gray">iwX</span>
<span style="color:black">TRANGROUP:62DF                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">3Dh</span> <span style="color:gray">; '='   </span>; Equals (treat as whitespace)
<span style="color:black">TRANGROUP:62E1                 </span><span style="color:navy">jz      short </span><span style="color:gray">iwX</span>
<span style="color:black">TRANGROUP:62E3                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>           ; Tab
<span style="color:black">TRANGROUP:62E5
</span><span style="color:black">TRANGROUP:62E5 </span><span style="color:gray">iwX</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:62E5                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:62E5 </span>isWhite         endp
<span style="color:black">TRANGROUP:62E5
</span><span style="color:black">TRANGROUP:62E6
</span><span style="color:black">TRANGROUP:62E6 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:62E6
</span><span style="color:black">TRANGROUP:62E6
</span><span style="color:black">TRANGROUP:62E6 </span>unMarkUMB       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:62E6                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:62E7                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:62E8                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:62E9                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:62EA                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:62EE                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:62F0                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:62F2                 </span><span style="color:navy">mov     es:</span>UmbUsed<span style="color:navy">[bx]</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; marks the UMB as unused
<span style="color:black">TRANGROUP:62F8                 </span><span style="color:navy">cmp     es:</span>UmbLoad<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:62FD                 </span><span style="color:navy">jnz     short </span><span style="color:gray">umu10</span>
<span style="color:black">TRANGROUP:62FF                 </span><span style="color:navy">mov     es:</span>UmbLoad<span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:6305
</span><span style="color:black">TRANGROUP:6305 </span><span style="color:gray">umu10</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6305                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:6306                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:6307                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:6308                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:6309                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6309 </span>unMarkUMB       endp
<span style="color:black">TRANGROUP:6309
</span><span style="color:black">TRANGROUP:630A
</span><span style="color:black">TRANGROUP:630A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:630A
</span><span style="color:black">TRANGROUP:630A
</span><span style="color:black">TRANGROUP:630A </span>stowUMB         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:630A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">16</span>          ; MAXUMB
<span style="color:black">TRANGROUP:630C                 </span><span style="color:navy">jb      short </span><span style="color:gray">su10</span>
<span style="color:black">TRANGROUP:630E                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:630F                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6310 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6310
</span><span style="color:black">TRANGROUP:6310 </span><span style="color:gray">su10</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6310                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:6311                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:6312                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:6313                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:6314                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:6315                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:6319                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:631D                 </span><span style="color:navy">cmp     ds:</span>UmbLoad<span style="color:navy">, </span><span style="color:#ff8000">0FFh</span> ; UNSPECIFIED
<span style="color:black">TRANGROUP:6322                 </span><span style="color:navy">jnz     short </span><span style="color:gray">su20</span>
<span style="color:black">TRANGROUP:6324                 </span><span style="color:navy">mov     ds:</span>UmbLoad<span style="color:navy">, al</span>  ; remember this UMB as the load UMB slot
<span style="color:black">TRANGROUP:6327
</span><span style="color:black">TRANGROUP:6327 </span><span style="color:gray">su20</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6327                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:6329                 </span><span style="color:navy">jz      short </span><span style="color:gray">su30</span>      ; umb number is 0, nothing to do
<span style="color:black">TRANGROUP:632B                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:632D                 </span><span style="color:navy">xor     bh</span><span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:632F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; Now, AX = 1 and BX = UMB Number
<span style="color:black">TRANGROUP:6332                 </span><span style="color:navy">xchg    al</span><span style="color:navy">, es:</span>UmbUsed<span style="color:navy">[bx]</span> ; mark the UMB as used
<span style="color:black">TRANGROUP:6337                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>          ; If it was already 1, that means an error
<span style="color:black">TRANGROUP:6339                 </span><span style="color:navy">jz      short </span><span style="color:gray">su30</span>
<span style="color:black">TRANGROUP:633B                 </span><span style="color:navy">stc                     </span>; OOOPS! This one's been used before.
<span style="color:black">TRANGROUP:633C
</span><span style="color:black">TRANGROUP:633C </span><span style="color:gray">su30</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:633C                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:633D                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:633E                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:633F                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:6340                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:6341                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6341 </span>stowUMB         endp
<span style="color:black">TRANGROUP:6341
</span><span style="color:black">TRANGROUP:6342
</span><span style="color:black">TRANGROUP:6342 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6342
</span><span style="color:black">TRANGROUP:6342
</span><span style="color:black">TRANGROUP:6342 </span>stowSiz         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6342                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:6343                 </span><span style="color:navy">push    di</span>
<span style="color:black">TRANGROUP:6344                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:6345                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:6349                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, cl</span>          ; bl==UMB number, AX==size
<span style="color:black">TRANGROUP:634B                 </span><span style="color:navy">mov     bh</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:634D                 </span><span style="color:navy">shl     bl</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:634F                 </span><span style="color:navy">mov     es:</span>UmbSize<span style="color:navy">[bx]</span><span style="color:navy">, ax</span> ; bx==offset into array, AX=size
<span style="color:black">TRANGROUP:6354                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:6355                 </span><span style="color:navy">pop     di</span>
<span style="color:black">TRANGROUP:6356                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:6357                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6357 </span>stowSiz         endp
<span style="color:black">TRANGROUP:6357
</span><span style="color:black">TRANGROUP:6357 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:gray">TRANGROUP:6358 </span>gnradix         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:6358                                         </span>; Must be a word--16x16 multiplication
<span style="color:black">TRANGROUP:635A
</span><span style="color:black">TRANGROUP:635A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:635A
</span><span style="color:black">TRANGROUP:635A
</span><span style="color:black">TRANGROUP:635A </span>toDigit         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:635A                 </span><span style="color:navy">cmp     ds:</span>gnradix<span style="color:navy">, </span><span style="color:green">16</span>
<span style="color:black">TRANGROUP:635F                 </span><span style="color:navy">jnz     short </span><span style="color:gray">td20</span>      ; Don't check hex digits if radix isn't 16
<span style="color:black">TRANGROUP:6361                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:green">'a'</span>
<span style="color:black">TRANGROUP:6364                 </span><span style="color:navy">jb      short </span><span style="color:gray">td10</span>
<span style="color:black">TRANGROUP:6366                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:green">'f'</span>
<span style="color:black">TRANGROUP:6369                 </span><span style="color:navy">ja      short </span><span style="color:gray">tdE</span>
<span style="color:black">TRANGROUP:636B                 </span><span style="color:navy">sub     cl</span><span style="color:navy">, </span><span style="color:green">57h</span>         ; 'a'-10 ; 87 ; make 'a' == 10
<span style="color:black">TRANGROUP:636E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:636F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:636F
</span><span style="color:black">TRANGROUP:636F </span><span style="color:gray">td10</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:636F                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:green">'A'</span>
<span style="color:black">TRANGROUP:6372                 </span><span style="color:navy">jb      short </span><span style="color:gray">td20</span>
<span style="color:black">TRANGROUP:6374                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:green">'F'</span>
<span style="color:black">TRANGROUP:6377                 </span><span style="color:navy">ja      short </span><span style="color:gray">tdE</span>
<span style="color:black">TRANGROUP:6379                 </span><span style="color:navy">sub     cl</span><span style="color:navy">, </span><span style="color:green">37h</span>         ; 'A'-10 ; 55 ; make 'A' == 10
<span style="color:black">TRANGROUP:637C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:637D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:637D
</span><span style="color:black">TRANGROUP:637D </span><span style="color:gray">td20</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:637D                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:green">'0'</span>
<span style="color:black">TRANGROUP:6380                 </span><span style="color:navy">jb      short </span><span style="color:gray">tdE</span>
<span style="color:black">TRANGROUP:6382                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:green">'9'</span>
<span style="color:black">TRANGROUP:6385                 </span><span style="color:navy">ja      short </span><span style="color:gray">tdE</span>
<span style="color:black">TRANGROUP:6387                 </span><span style="color:navy">sub     cl</span><span style="color:navy">, </span><span style="color:green">'0'</span>         ; 30h ;  make '0' == 0
<span style="color:black">TRANGROUP:638A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:638B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:638B
</span><span style="color:black">TRANGROUP:638B </span><span style="color:gray">tdE</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:638B                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:638C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:638C </span>toDigit         endp
<span style="color:black">TRANGROUP:638C
</span><span style="color:black">TRANGROUP:638D
</span><span style="color:black">TRANGROUP:638D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:638D
</span><span style="color:black">TRANGROUP:638D
</span><span style="color:black">TRANGROUP:638D </span>GetXNum         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:638D                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:638E                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:638F                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:6390                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:6391                 </span><span style="color:navy">xor     ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:6393                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:6395                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:6397                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:6399                 </span><span style="color:navy">mov     ds:</span>gnradix<span style="color:navy">, </span><span style="color:green">10</span>  ; default radix is 10
<span style="color:black">TRANGROUP:639F                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:[si]</span>
<span style="color:black">TRANGROUP:63A2                 </span><span style="color:navy">call    </span>toDigit
<span style="color:black">TRANGROUP:63A5                 </span><span style="color:navy">jb      short </span><span style="color:gray">gxnE</span>      ; it is not a digit
<span style="color:black">TRANGROUP:63A7                 </span><span style="color:navy">or      cl</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:63A9                 </span><span style="color:navy">jnz     short </span><span style="color:gray">gxn20</span>     ; Doesn't have '0x'
<span style="color:black">TRANGROUP:63AB                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:[si+</span><span style="color:#ff8000">1</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:63AF                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:green">'x'</span>         ; 'x' means it's hexadecimal
<span style="color:black">TRANGROUP:63B2                 </span><span style="color:navy">jz      short </span><span style="color:gray">gxn10</span>
<span style="color:black">TRANGROUP:63B4                 </span><span style="color:navy">cmp     cl</span><span style="color:navy">, </span><span style="color:green">'X'</span>         ; 'X' means it's hexadecimal
<span style="color:black">TRANGROUP:63B7                 </span><span style="color:navy">jnz     short </span><span style="color:gray">gxn20</span>
<span style="color:black">TRANGROUP:63B9
</span><span style="color:black">TRANGROUP:63B9 </span><span style="color:gray">gxn10</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:63B9                 </span><span style="color:navy">mov     ds:</span>gnradix<span style="color:navy">, </span><span style="color:green">16</span>  ; Since we read &quot;0x&quot;, march over it.
<span style="color:black">TRANGROUP:63BF                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:63C0                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:63C1
</span><span style="color:black">TRANGROUP:63C1 </span><span style="color:gray">gxn20</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:63C1                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, es:[si]</span>     ; Now DX:AX=current total,
<span style="color:black">TRANGROUP:63C1                                         </span>; CH=0, CL=number &lt;=15
<span style="color:black">TRANGROUP:63C4                 </span><span style="color:navy">inc     si</span>
<span style="color:black">TRANGROUP:63C5                 </span><span style="color:navy">call    </span>toDigit
<span style="color:black">TRANGROUP:63C8                 </span><span style="color:navy">jb      short </span><span style="color:gray">gxnQ</span>      ; not a digit, stop
<span style="color:black">TRANGROUP:63CA                 </span><span style="color:navy">call    </span>mul32           ; Multiply DX:AX by gnradix
<span style="color:black">TRANGROUP:63CD                 </span><span style="color:navy">jb      short </span><span style="color:gray">gxnX</span>      ; (if it's too big, error out)
<span style="color:black">TRANGROUP:63CF                 </span><span style="color:navy">add     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:63D1                 </span><span style="color:navy">adc     dx</span><span style="color:navy">, bx</span>          ; bx = 0
<span style="color:black">TRANGROUP:63D3                 </span><span style="color:navy">jb      short </span><span style="color:gray">gxnX</span>
<span style="color:black">TRANGROUP:63D5                 </span><span style="color:navy">jmp     short </span><span style="color:gray">gxn20</span>
<span style="color:black">TRANGROUP:63D7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:63D7
</span><span style="color:black">TRANGROUP:63D7 </span><span style="color:gray">gxnE</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:63D7                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:63D8                 </span><span style="color:navy">jmp     short </span><span style="color:gray">gxnX</span>
<span style="color:black">TRANGROUP:63DA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:63DA
</span><span style="color:black">TRANGROUP:63DA </span><span style="color:gray">gxnQ</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:63DA                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:63DB                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:63DC
</span><span style="color:black">TRANGROUP:63DC </span><span style="color:gray">gxnX</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:63DC                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:63DD                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:63DE                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:63DF                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:63DF </span>GetXNum         endp
<span style="color:black">TRANGROUP:63DF
</span><span style="color:black">TRANGROUP:63E0
</span><span style="color:black">TRANGROUP:63E0 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:63E0
</span><span style="color:black">TRANGROUP:63E0
</span><span style="color:black">TRANGROUP:63E0 </span>mul32           proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:63E0                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:63E1                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:63E3                 </span><span style="color:navy">mul     ds:</span>gnradix
<span style="color:black">TRANGROUP:63E7                 </span><span style="color:navy">jb      short </span><span style="color:gray">m32E</span>      ; too big?
<span style="color:black">TRANGROUP:63E9                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:63EB                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:63EC                 </span><span style="color:navy">xchg    dx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:63EE                 </span><span style="color:navy">mul     ds:</span>gnradix
<span style="color:black">TRANGROUP:63F2                 </span><span style="color:navy">xchg    dx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:63F4                 </span><span style="color:navy">add     dx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:63F6                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:63F8                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:63F9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:63F9
</span><span style="color:black">TRANGROUP:63F9 </span><span style="color:gray">m32E</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:63F9                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:63FA                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:63FA </span>mul32           endp
<span style="color:black">TRANGROUP:63FA
</span><span style="color:black">TRANGROUP:63FB
</span><span style="color:black">TRANGROUP:63FB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:63FB
</span><span style="color:black">TRANGROUP:63FB
</span><span style="color:black">TRANGROUP:63FB </span>toPara          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:63FB                 </span><span style="color:navy">push    cx</span>              ; divide DX:AX by 16; result in AX only
<span style="color:black">TRANGROUP:63FB                                         </span>; DX:AX=HHHH hhhh hhhh hhhh:LLLL llll llll llll
<span style="color:black">TRANGROUP:63FC                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>
<span style="color:black">TRANGROUP:63FE                 </span><span style="color:navy">shr     ax</span><span style="color:navy">, cl</span>          ; DX:AX=HHHH hhhh hhhh hhhh:0000 LLLL llll llll
<span style="color:black">TRANGROUP:6400                 </span><span style="color:navy">xchg    ax</span><span style="color:navy">, dx</span>          ; DX:AX=0000 LLLL llll llll:HHHH hhhh hhhh hhhh
<span style="color:black">TRANGROUP:6401                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, </span><span style="color:green">12</span>
<span style="color:black">TRANGROUP:6403                 </span><span style="color:navy">shl     ax</span><span style="color:navy">, cl</span>          ; DX:AX=0000 LLLL llll llll:hhhh 0000 0000 0000
<span style="color:black">TRANGROUP:6405                 </span><span style="color:navy">or      ax</span><span style="color:navy">, dx</span>          ;    AX=hhhh LLLL llll llll
<span style="color:black">TRANGROUP:6407                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:6408                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6408 </span>toPara          endp
<span style="color:black">TRANGROUP:6408
</span><span style="color:black">TRANGROUP:6409
</span><span style="color:black">TRANGROUP:6409 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6409
</span><span style="color:black">TRANGROUP:6409
</span><span style="color:black">TRANGROUP:6409 </span>UmbHead         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6409                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:640A                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:640B                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:640C                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">52h</span>         ; DOS_GET_DOS_LISTS
<span style="color:black">TRANGROUP:640E                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ internal - GET LIST OF LISTS
<span style="color:black">TRANGROUP:640E                                         </span>; Return: ES:BX -&gt; DOS list of lists
<span style="color:black">TRANGROUP:6410                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">8Ch</span>      ; [DOS_UMB_HEAD]
<span style="color:black">TRANGROUP:6414                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:6417                 </span><span style="color:navy">jz      short </span><span style="color:gray">uhE</span>       ; error (ax = 0FFFFh)
<span style="color:black">TRANGROUP:6419                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:641A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">uhX</span>
<span style="color:black">TRANGROUP:641C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:641C
</span><span style="color:black">TRANGROUP:641C </span><span style="color:gray">uhE</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:641C                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:641D
</span><span style="color:black">TRANGROUP:641D </span><span style="color:gray">uhX</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:641D                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:641E                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:641F                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:6420                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6420 </span>UmbHead         endp
<span style="color:black">TRANGROUP:6420
</span><span style="color:black">TRANGROUP:6421
</span><span style="color:black">TRANGROUP:6421 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6421
</span><span style="color:black">TRANGROUP:6421
</span><span style="color:black">TRANGROUP:6421 </span>isSysMCB        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6421                 </span><span style="color:navy">push    ax</span>              ; sets ZF
<span style="color:black">TRANGROUP:6421                                         </span>; if ES points to an MCB owned by &quot;SC&quot;+(8or9)
<span style="color:black">TRANGROUP:6422                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">1</span>        ; mov ax, es:[arena_owner]
<span style="color:black">TRANGROUP:6426                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; SystemPSPOwner (for US or Japan)
<span style="color:black">TRANGROUP:6429                 </span><span style="color:navy">jz      short </span><span style="color:gray">ism10</span>
<span style="color:black">TRANGROUP:642B                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">9</span>           ; JapanPSPOwner (for Japan)
<span style="color:black">TRANGROUP:642E                 </span><span style="color:navy">jz      short </span><span style="color:gray">ism10</span>
<span style="color:black">TRANGROUP:6430                 </span><span style="color:navy">jmp     short </span><span style="color:gray">ismX</span>
<span style="color:black">TRANGROUP:6432 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6432
</span><span style="color:black">TRANGROUP:6432 </span><span style="color:gray">ism10</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6432                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">8</span>        ; mov ax, word ptr es:[arena_name]
<span style="color:black">TRANGROUP:6436                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">'CS'</span>        ; 'SC'
<span style="color:black">TRANGROUP:6439
</span><span style="color:black">TRANGROUP:6439 </span><span style="color:gray">ismX</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6439                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:643A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:643A </span>isSysMCB        endp
<span style="color:black">TRANGROUP:643A
</span><span style="color:black">TRANGROUP:643B
</span><span style="color:black">TRANGROUP:643B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:643B
</span><span style="color:black">TRANGROUP:643B
</span><span style="color:black">TRANGROUP:643B </span>AddrToUmb       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:643B                 </span><span style="color:navy">push    cx</span>              ; convert segment addr in AX to UMB number
<span style="color:black">TRANGROUP:643C                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:643D                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:643E                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:6440                 </span><span style="color:navy">call    </span>UmbHead
<span style="color:black">TRANGROUP:6443                 </span><span style="color:navy">jb      short </span><span style="color:gray">atuE</span>
<span style="color:black">TRANGROUP:6445                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:6447                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>          ; cx = UMB# = 0
<span style="color:black">TRANGROUP:6449
</span><span style="color:black">TRANGROUP:6449 </span><span style="color:gray">atu10</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6449                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:644B                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, dx</span>          ; Present segment &gt;= given segment?
<span style="color:black">TRANGROUP:644D                 </span><span style="color:navy">jnb     short </span><span style="color:gray">atuX</span>
<span style="color:black">TRANGROUP:644F                 </span><span style="color:navy">call    </span>isSysMCB
<span style="color:black">TRANGROUP:6452                 </span><span style="color:navy">jnz     short </span><span style="color:gray">atu20</span>
<span style="color:black">TRANGROUP:6454                 </span><span style="color:navy">inc     cx</span>              ; If it _was_ a system MCB,
<span style="color:black">TRANGROUP:6454                                         </span>; we're in a new UMB.
<span style="color:black">TRANGROUP:6455
</span><span style="color:black">TRANGROUP:6455 </span><span style="color:gray">atu20</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6455                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:</span><span style="color:green">0</span>        ; mov al, es:[arena_signature]
<span style="color:black">TRANGROUP:6459                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'Z'</span>         ; arena_signature_end
<span style="color:black">TRANGROUP:645B                 </span><span style="color:navy">jz      short </span><span style="color:gray">atu30</span>     ; 'Z' means this was the last MCB
<span style="color:black">TRANGROUP:645D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:645F                 </span><span style="color:navy">add     ax</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; NextMCB (macro)
<span style="color:black">TRANGROUP:6464                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:6465                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:6467                 </span><span style="color:navy">jmp     short </span><span style="color:gray">atu10</span>
<span style="color:black">TRANGROUP:6469 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6469
</span><span style="color:black">TRANGROUP:6469 </span><span style="color:gray">atu30</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6469                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:646B                 </span><span style="color:navy">add     ax</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; add ax, es:[arena_size]
<span style="color:black">TRANGROUP:6470                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, dx</span>          ; Present &gt;= given?
<span style="color:black">TRANGROUP:6472                 </span><span style="color:navy">jnb     short </span><span style="color:gray">atuX</span>      ; Yes, it _was_ inside
<span style="color:black">TRANGROUP:6474
</span><span style="color:black">TRANGROUP:6474 </span><span style="color:gray">atuE</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6474                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>          ; Else, fall through with UMB # == -1
<span style="color:black">TRANGROUP:6476                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:6477
</span><span style="color:black">TRANGROUP:6477 </span><span style="color:gray">atuX</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6477                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cx</span>          ; Return the UMB number in AX
<span style="color:black">TRANGROUP:6479                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:647A                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:647B                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:647C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:647C </span>AddrToUmb       endp
<span style="color:black">TRANGROUP:647C
</span><span style="color:black">TRANGROUP:647D
</span><span style="color:black">TRANGROUP:647D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:647D
</span><span style="color:black">TRANGROUP:647D
</span><span style="color:black">TRANGROUP:647D </span>convUMB         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:647D                 </span><span style="color:navy">cmp     ds:</span>gnradix<span style="color:navy">, </span><span style="color:green">16</span>
<span style="color:black">TRANGROUP:6482                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cu10</span>      ; If it didn't read in hex, it's not an address
<span style="color:black">TRANGROUP:6484                 </span><span style="color:navy">call    </span>AddrToUmb       ; convert the address to a UMB number
<span style="color:black">TRANGROUP:6487                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">0FFFFh</span>
<span style="color:black">TRANGROUP:648A                 </span><span style="color:navy">jnz     short </span><span style="color:gray">cu10</span>
<span style="color:black">TRANGROUP:648C                 </span><span style="color:navy">inc     ax</span>              ; If too high, ignore it (make it conventional)
<span style="color:black">TRANGROUP:648D
</span><span style="color:black">TRANGROUP:648D </span><span style="color:gray">cu10</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:648D                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:648D </span>convUMB         endp
<span style="color:black">TRANGROUP:648D
</span><span style="color:black">TRANGROUP:648E
</span><span style="color:black">TRANGROUP:648E </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:648E
</span><span style="color:black">TRANGROUP:648E
</span><span style="color:black">TRANGROUP:648E </span>setUMBs         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:648E                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:648F                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:6490                 </span><span style="color:navy">call    </span>fm_link
<span style="color:black">TRANGROUP:6493                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5800h</span>       ; DOS_CHECK_STRATEGY
<span style="color:black">TRANGROUP:6496                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">TRANGROUP:6496                                         </span>; AL = function code: get allocation strategy
<span style="color:black">TRANGROUP:6498                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:6499                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:649D                 </span><span style="color:navy">mov     es:</span>fm_strat<span style="color:navy">, al</span> ; store the current strategy
<span style="color:black">TRANGROUP:64A1                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:64A2                 </span><span style="color:navy">and     ax</span><span style="color:navy">, </span><span style="color:green">7Fh</span>         ; 0000.0000.0111.1111 == All that other stuff
<span style="color:black">TRANGROUP:64A5                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:64A6                 </span><span style="color:navy">call    </span>loadLow         ; returns al==0 if load low, al==1 if loadhigh
<span style="color:black">TRANGROUP:64A9                 </span><span style="color:navy">ror     al</span><span style="color:navy">, </span><span style="color:green">1</span>           ; shift that to al==0 or al==0x80
<span style="color:black">TRANGROUP:64AB                 </span><span style="color:navy">pop     bx</span>              ; restore pushed ax above
<span style="color:black">TRANGROUP:64AC                 </span><span style="color:navy">or      bl</span><span style="color:navy">, al</span>          ; now we have 0000.0000.?111.1111 in BX
<span style="color:black">TRANGROUP:64AE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5801h</span>       ; DOS_SET_STRATEGY ; with ? ==1 if load highfirs
<span style="color:black">TRANGROUP:64B1                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">TRANGROUP:64B1                                         </span>; AL = function code: set allocation strategy
<span style="color:black">TRANGROUP:64B3                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:64B4                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:64B5                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:64B5 </span>setUMBs         endp
<span style="color:black">TRANGROUP:64B5
</span><span style="color:black">TRANGROUP:64B6
</span><span style="color:black">TRANGROUP:64B6 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:64B6
</span><span style="color:black">TRANGROUP:64B6
</span><span style="color:black">TRANGROUP:64B6 </span>loadLow         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:64B6                 </span><span style="color:navy">push    ds</span>              ; returns AL==0 if UMB0 == 0, else AL==1
<span style="color:black">TRANGROUP:64B7                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:64BB                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>UmbLoad
<span style="color:black">TRANGROUP:64BE                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; UNSPECIFIED
<span style="color:black">TRANGROUP:64C0                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ll10</span>
<span style="color:black">TRANGROUP:64C2                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>           ; Return with AL==1 &amp;&amp; STC if no UMBs specified
<span style="color:black">TRANGROUP:64C4                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:64C5                 </span><span style="color:navy">jmp     short </span><span style="color:gray">llX</span>
<span style="color:black">TRANGROUP:64C7 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:64C7
</span><span style="color:black">TRANGROUP:64C7 </span><span style="color:gray">ll10</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:64C7                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>          ; AL=the load UMB: Is it == 0?
<span style="color:black">TRANGROUP:64C9                 </span><span style="color:navy">jz      short </span><span style="color:gray">llX</span>       ; yes, CF==0 (from OR) &amp;&amp; AL=0, so just exit
<span style="color:black">TRANGROUP:64CB                 </span><span style="color:navy">mov     al</span><span style="color:navy">, </span><span style="color:#ff8000">1</span>
<span style="color:black">TRANGROUP:64CD                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:64CE
</span><span style="color:black">TRANGROUP:64CE </span><span style="color:gray">llX</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:64CE                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:64CF                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:64CF </span>loadLow         endp
<span style="color:black">TRANGROUP:64CF
</span><span style="color:black">TRANGROUP:64D0
</span><span style="color:black">TRANGROUP:64D0 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:64D0
</span><span style="color:black">TRANGROUP:64D0
</span><span style="color:black">TRANGROUP:64D0 </span>HideUMBs        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:64D0                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:64D1                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:64D2                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:64D3                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:64D4                 </span><span style="color:navy">call    </span>UmbTest         ; see if we REALLY linked in anything...
<span style="color:black">TRANGROUP:64D7                 </span><span style="color:navy">jb      short </span><span style="color:gray">husX</span>      ; if not, there's nothing for us to do.
<span style="color:black">TRANGROUP:64D9                 </span><span style="color:navy">call    </span>FixMem          ; concatenate adjacent free MCBs in upper mem
<span style="color:black">TRANGROUP:64DC                 </span><span style="color:navy">call    </span>setUMBs         ; link UMBs and set memory-allocation strategy
<span style="color:black">TRANGROUP:64DF                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:64E0                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:64E4                 </span><span style="color:navy">mov     es:</span>fInHigh<span style="color:navy">, </span><span style="color:#ff8000">1</span>   ; remember that we're now running high
<span style="color:black">TRANGROUP:64EA                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:64EB                 </span><span style="color:navy">call    </span>GetLoadUMB      ; see if they gave us a list to leave free
<span style="color:black">TRANGROUP:64EE                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; UNSPECIFIED ; if they didn't,
<span style="color:black">TRANGROUP:64F0                 </span><span style="color:navy">jz      short </span><span style="color:gray">husX</span>      ; then we shouldn't do this loop
<span style="color:black">TRANGROUP:64F2                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:64F4
</span><span style="color:black">TRANGROUP:64F4 </span><span style="color:gray">hus10</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:64F4                 </span><span style="color:navy">inc     cx</span>              ; for each UMB
<span style="color:black">TRANGROUP:64F5                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, </span><span style="color:green">16</span>
<span style="color:black">TRANGROUP:64F8                 </span><span style="color:navy">jnb     short </span><span style="color:gray">hus20</span>
<span style="color:black">TRANGROUP:64FA                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cl</span>          ; stopping as soon as we're outside of the
<span style="color:black">TRANGROUP:64FA                                         </span>; valid range of UMBs
<span style="color:black">TRANGROUP:64FC                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:64FD                 </span><span style="color:navy">call    </span>findumb
<span style="color:black">TRANGROUP:6500                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:6501                 </span><span style="color:navy">jb      short </span><span style="color:gray">hus20</span>
<span style="color:black">TRANGROUP:6503                 </span><span style="color:navy">call    </span>hideUMB?        ; hide what we need to hide
<span style="color:black">TRANGROUP:6506                 </span><span style="color:navy">jmp     short </span><span style="color:gray">hus10</span>
<span style="color:black">TRANGROUP:6508 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6508
</span><span style="color:black">TRANGROUP:6508 </span><span style="color:gray">hus20</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6508                 </span><span style="color:navy">call    </span>GetLoadUMB      ; now check if they offered /L:0
<span style="color:black">TRANGROUP:650B                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>          ; is the load UMB 0? (-1==unspecified)
<span style="color:black">TRANGROUP:650D                 </span><span style="color:navy">jnz     short </span><span style="color:gray">husX</span>      ; if not, we're done
<span style="color:black">TRANGROUP:650F                 </span><span style="color:navy">call    </span>hl_unlink       ; if so, however, fix UMBs and strategy
<span style="color:black">TRANGROUP:6512
</span><span style="color:black">TRANGROUP:6512 </span><span style="color:gray">husX</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6512                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:6513                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:6514                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:6515                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:6516                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6516 </span>HideUMBs        endp
<span style="color:black">TRANGROUP:6516
</span><span style="color:black">TRANGROUP:6517
</span><span style="color:black">TRANGROUP:6517 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6517
</span><span style="color:black">TRANGROUP:6517
</span><span style="color:black">TRANGROUP:6517 </span>GetLoadUMB      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6517                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:6518                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG   ; getdata (macro)
<span style="color:black">TRANGROUP:6518                                         </span>; getdata al,UmbLoad
<span style="color:black">TRANGROUP:651C                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>UmbLoad
<span style="color:black">TRANGROUP:651F                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:6520                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6520 </span>GetLoadUMB      endp
<span style="color:black">TRANGROUP:6520
</span><span style="color:black">TRANGROUP:6521
</span><span style="color:black">TRANGROUP:6521 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6521
</span><span style="color:black">TRANGROUP:6521
</span><span style="color:black">TRANGROUP:6521 </span>GetLoadSize     proc near
<span style="color:black">TRANGROUP:6521                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:6522                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:6523                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:6524                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:6528                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>UmbLoad
<span style="color:black">TRANGROUP:652B                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>          ; ax==UMB
<span style="color:black">TRANGROUP:652D                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>UmbSize
<span style="color:black">TRANGROUP:6530                 </span><span style="color:navy">shl     al</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:6532                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:6534                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ax</span>          ; ds:si==element index
<span style="color:black">TRANGROUP:6536                 </span><span style="color:navy">lodsw                   </span>; ax==size
<span style="color:black">TRANGROUP:6537                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:6538                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:6539                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:653A                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:653A </span>GetLoadSize     endp
<span style="color:black">TRANGROUP:653A
</span><span style="color:black">TRANGROUP:653B
</span><span style="color:black">TRANGROUP:653B </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:653B
</span><span style="color:black">TRANGROUP:653B
</span><span style="color:black">TRANGROUP:653B </span>GetSize         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:653B                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:653C                 </span><span style="color:navy">push    si</span>
<span style="color:black">TRANGROUP:653D                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:653E                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:6542                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>          ; ax==UMB
<span style="color:black">TRANGROUP:6544                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, offset </span>UmbSize
<span style="color:black">TRANGROUP:6547                 </span><span style="color:navy">shl     al</span><span style="color:navy">, </span><span style="color:green">1</span>
<span style="color:black">TRANGROUP:6549                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:654B                 </span><span style="color:navy">mov     si</span><span style="color:navy">, ax</span>          ; ds:si==element index
<span style="color:black">TRANGROUP:654D                 </span><span style="color:navy">lodsw                   </span>; ax==size
<span style="color:black">TRANGROUP:654E                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:654F                 </span><span style="color:navy">pop     si</span>
<span style="color:black">TRANGROUP:6550                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:6551                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6551 </span>GetSize         endp
<span style="color:black">TRANGROUP:6551
</span><span style="color:black">TRANGROUP:6552
</span><span style="color:black">TRANGROUP:6552 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6552
</span><span style="color:black">TRANGROUP:6552
</span><span style="color:black">TRANGROUP:6552 </span>StoLoadUMB      proc near
<span style="color:black">TRANGROUP:6552                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:6553                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:6557                 </span><span style="color:navy">mov     es:</span>UmbLoad<span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:655B                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:655C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:655C </span>StoLoadUMB      endp
<span style="color:black">TRANGROUP:655C
</span><span style="color:black">TRANGROUP:655D
</span><span style="color:black">TRANGROUP:655D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:655D
</span><span style="color:black">TRANGROUP:655D
</span><span style="color:black">TRANGROUP:655D </span>StoLoadSize     proc near
<span style="color:black">TRANGROUP:655D                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:655E                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:655F                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:6563                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, ds:</span>UmbLoad  ; Put UMB# in DL and size in AX
<span style="color:black">TRANGROUP:6567                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:6568                 </span><span style="color:navy">cmp     dl</span><span style="color:navy">, </span><span style="color:#ff8000">0FFh</span>        ; UNSPECIFIED
<span style="color:black">TRANGROUP:656B                 </span><span style="color:navy">jz      short </span><span style="color:gray">sls10</span>
<span style="color:black">TRANGROUP:656D                 </span><span style="color:navy">call    </span>stowSiz
<span style="color:black">TRANGROUP:6570
</span><span style="color:black">TRANGROUP:6570 </span><span style="color:gray">sls10</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6570                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:6571                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6571 </span>StoLoadSize     endp
<span style="color:black">TRANGROUP:6571
</span><span style="color:black">TRANGROUP:6572
</span><span style="color:black">TRANGROUP:6572 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6572
</span><span style="color:black">TRANGROUP:6572
</span><span style="color:black">TRANGROUP:6572 </span>hideUMB         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6572                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:6573                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:6574                 </span><span style="color:navy">call    </span>findumb
<span style="color:black">TRANGROUP:6577                 </span><span style="color:navy">jb      short </span><span style="color:gray">huX</span>
<span style="color:black">TRANGROUP:6579
</span><span style="color:black">TRANGROUP:6579 </span><span style="color:gray">hu10</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6579                 </span><span style="color:navy">call    </span>isSysMCB
<span style="color:black">TRANGROUP:657C                 </span><span style="color:navy">jz      short </span><span style="color:gray">huX</span>
<span style="color:black">TRANGROUP:657E                 </span><span style="color:navy">call    </span>isFreeMCB       ; ZF = 1 if owner is 0
<span style="color:black">TRANGROUP:6581                 </span><span style="color:navy">jnz     short </span><span style="color:gray">hu20</span>      ; ZF = 0
<span style="color:black">TRANGROUP:6583                 </span><span style="color:navy">call    </span>hideMCB
<span style="color:black">TRANGROUP:6586
</span><span style="color:black">TRANGROUP:6586 </span><span style="color:gray">hu20</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6586                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:</span><span style="color:green">0</span>        ; mov al, es:[arena_signature]
<span style="color:black">TRANGROUP:658A                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'Z'</span>         ; arena_signature_end
<span style="color:black">TRANGROUP:658C                 </span><span style="color:navy">jz      short </span><span style="color:gray">huX</span>       ; 'Z' means this was the last MCB
<span style="color:black">TRANGROUP:658E                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>          ; NextMCB (macro)
<span style="color:black">TRANGROUP:658E                                         </span>; NextMCB es, ax
<span style="color:black">TRANGROUP:6590                 </span><span style="color:navy">add     ax</span><span style="color:navy">, es:</span><span style="color:green">3</span>
<span style="color:black">TRANGROUP:6595                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:6596                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:6598                 </span><span style="color:navy">jmp     short </span><span style="color:gray">hu10</span>
<span style="color:black">TRANGROUP:659A </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:659A
</span><span style="color:black">TRANGROUP:659A </span><span style="color:gray">huX</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:659A                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:659B                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:659C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:659C </span>hideUMB         endp
<span style="color:black">TRANGROUP:659C
</span><span style="color:black">TRANGROUP:659D
</span><span style="color:black">TRANGROUP:659D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:659D
</span><span style="color:black">TRANGROUP:659D
</span><span style="color:black">TRANGROUP:659D </span>isTiny          proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:659D                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:659E                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:659F                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG   ; getdata (macro)
<span style="color:black">TRANGROUP:659F                                         </span>; getdata al, fUmbTiny
<span style="color:black">TRANGROUP:65A3                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>fUmbTiny
<span style="color:black">TRANGROUP:65A6                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:65A7                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:65A9                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:65AA                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:65AA </span>isTiny          endp
<span style="color:black">TRANGROUP:65AA
</span><span style="color:black">TRANGROUP:65AB
</span><span style="color:black">TRANGROUP:65AB </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:65AB
</span><span style="color:black">TRANGROUP:65AB
</span><span style="color:black">TRANGROUP:65AB </span>isFreeMCB       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:65AB                 </span><span style="color:navy">or      word ptr es:</span><span style="color:green">1</span><span style="color:navy">, </span><span style="color:green">0</span> ; or es:[arena_owner], 0
<span style="color:black">TRANGROUP:65B1                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:65B1 </span>isFreeMCB       endp
<span style="color:black">TRANGROUP:65B1
</span><span style="color:black">TRANGROUP:65B2
</span><span style="color:black">TRANGROUP:65B2 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:65B2
</span><span style="color:black">TRANGROUP:65B2
</span><span style="color:black">TRANGROUP:65B2 </span>hideMCB         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:65B2                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">1</span><span style="color:navy">, </span><span style="color:#ff8000">8</span> ; mov es:[arena_owner], SystemPSPOwner
<span style="color:black">TRANGROUP:65B9                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">8</span><span style="color:navy">, </span><span style="color:green">4948h</span> ; 'HIDDEN  '
<span style="color:black">TRANGROUP:65B9                                         </span>; mov word ptr es:[arena_name+0], 'IH'
<span style="color:black">TRANGROUP:65C0                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">0Ah</span><span style="color:navy">, </span><span style="color:green">4444h</span> ; mov word ptr es:[arena_name+2], 'DD'
<span style="color:black">TRANGROUP:65C7                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">0Ch</span><span style="color:navy">, </span><span style="color:green">4E45h</span> ; mov word ptr es:[arena_name+4], 'NE'
<span style="color:black">TRANGROUP:65CE                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">0Eh</span><span style="color:navy">, </span><span style="color:green">2020h</span> ; mov word ptr es:[arena_name+6], '  '
<span style="color:black">TRANGROUP:65D5                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:65D5 </span>hideMCB         endp
<span style="color:black">TRANGROUP:65D5
</span><span style="color:black">TRANGROUP:65D6
</span><span style="color:black">TRANGROUP:65D6 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:65D6
</span><span style="color:black">TRANGROUP:65D6
</span><span style="color:black">TRANGROUP:65D6 </span>unHideMCB       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:65D6                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:65D7                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">1</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; mov es:[arena_owner], FreePSPOwner
<span style="color:black">TRANGROUP:65DE                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2020h</span>       ; mov ax, '  '
<span style="color:black">TRANGROUP:65E1                 </span><span style="color:navy">mov     es:</span><span style="color:green">8</span><span style="color:navy">, ax</span>        ; mov word ptr es:[arena_name+0], ax
<span style="color:black">TRANGROUP:65E5                 </span><span style="color:navy">mov     es:</span><span style="color:green">0Ah</span><span style="color:navy">, ax</span>      ; mov word ptr es:[arena_name+2], ax
<span style="color:black">TRANGROUP:65E9                 </span><span style="color:navy">mov     es:</span><span style="color:green">0Ch</span><span style="color:navy">, ax</span>      ; mov word ptr es:[arena_name+4], ax
<span style="color:black">TRANGROUP:65ED                 </span><span style="color:navy">mov     es:</span><span style="color:green">0Eh</span><span style="color:navy">, ax</span>      ; mov word ptr es:[arena_name+6], ax
<span style="color:black">TRANGROUP:65F1                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:65F2                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:65F2 </span>unHideMCB       endp
<span style="color:black">TRANGROUP:65F2
</span><span style="color:black">TRANGROUP:65F3
</span><span style="color:black">TRANGROUP:65F3 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:65F3
</span><span style="color:black">TRANGROUP:65F3
</span><span style="color:black">TRANGROUP:65F3 </span>findumb         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:65F3                 </span><span style="color:navy">push    ax</span>              ; makes ES:0 point to the first MCB in UMB given as AL
<span style="color:black">TRANGROUP:65F4                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:65F5                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:65F6                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:65F8                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ax</span>          ; Store the to-be-found UMB number in DX
<span style="color:black">TRANGROUP:65FA                 </span><span style="color:navy">call    </span>UmbHead         ; Returns first UMB segment in AX
<span style="color:black">TRANGROUP:65FD                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:65FF                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>          ; Pretend we're on UMB 0 for now.
<span style="color:black">TRANGROUP:6601
</span><span style="color:black">TRANGROUP:6601 </span><span style="color:gray">fu10</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6601                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:6603                 </span><span style="color:navy">jz      short </span><span style="color:gray">fuX</span>
<span style="color:black">TRANGROUP:6605                 </span><span style="color:navy">call    </span>isSysMCB        ; Returns with ZF set if owner is SYSTEM
<span style="color:black">TRANGROUP:6608                 </span><span style="color:navy">jnz     short </span><span style="color:gray">fu20</span>
<span style="color:black">TRANGROUP:660A                 </span><span style="color:navy">inc     cx</span>              ; If it _was_ SYSTEM, we're in a new UMB
<span style="color:black">TRANGROUP:660B
</span><span style="color:black">TRANGROUP:660B </span><span style="color:gray">fu20</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:660B                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:</span><span style="color:green">0</span>        ; mov al, es:[arena_signature]
<span style="color:black">TRANGROUP:660F                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">5Ah</span> <span style="color:gray">; 'Z'   </span>; cmp al, arena_signature_end
<span style="color:black">TRANGROUP:6611                 </span><span style="color:navy">jz      short </span><span style="color:gray">fuE</span>       ; 'Z' means this was the last MCB
<span style="color:black">TRANGROUP:6613                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>          ; NextMCB (macro)
<span style="color:black">TRANGROUP:6613                                         </span>; NextMCB es, ax
<span style="color:black">TRANGROUP:6615                 </span><span style="color:navy">add     ax</span><span style="color:navy">, es:</span><span style="color:green">3</span>
<span style="color:black">TRANGROUP:661A                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:661B                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:661D                 </span><span style="color:navy">jmp     short </span><span style="color:gray">fu10</span>
<span style="color:black">TRANGROUP:661F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:661F
</span><span style="color:black">TRANGROUP:661F </span><span style="color:gray">fuE</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:661F                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:6620
</span><span style="color:black">TRANGROUP:6620 </span><span style="color:gray">fuX</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6620                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:6621                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:6622                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:6623                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6623 </span>findumb         endp
<span style="color:black">TRANGROUP:6623
</span><span style="color:black">TRANGROUP:6624
</span><span style="color:black">TRANGROUP:6624 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6624
</span><span style="color:black">TRANGROUP:6624
</span><span style="color:black">TRANGROUP:6624 </span>BigFree         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6624                 </span><span style="color:navy">push    bx</span>              ; makes ES:0 point to the largest free MCB in UMB given as AL
<span style="color:black">TRANGROUP:6625                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:6626                 </span><span style="color:navy">call    </span>findumb
<span style="color:black">TRANGROUP:6629                 </span><span style="color:navy">jb      short </span><span style="color:gray">bfX</span>
<span style="color:black">TRANGROUP:662B                 </span><span style="color:navy">xor     bx</span><span style="color:navy">, bx</span>          ; Segment address of largest free MCB
<span style="color:black">TRANGROUP:662D                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>          ; Size of largest free MCB
<span style="color:black">TRANGROUP:662F
</span><span style="color:black">TRANGROUP:662F </span><span style="color:gray">bf10</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:662F                 </span><span style="color:navy">call    </span>isSysMCB        ; If we've left the MCB, we're done
<span style="color:black">TRANGROUP:6632                 </span><span style="color:navy">jz      short </span><span style="color:gray">bf30</span>
<span style="color:black">TRANGROUP:6634                 </span><span style="color:navy">call    </span>isFreeMCB       ; Returns with ZF set if owner is 0
<span style="color:black">TRANGROUP:6637                 </span><span style="color:navy">jnz     short </span><span style="color:gray">bf20</span>
<span style="color:black">TRANGROUP:6639                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; es:[arena_size]
<span style="color:black">TRANGROUP:663E                 </span><span style="color:navy">jg      short </span><span style="color:gray">bf20</span>
<span style="color:black">TRANGROUP:6640                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:6642                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, es:</span><span style="color:green">3</span>
<span style="color:black">TRANGROUP:6647
</span><span style="color:black">TRANGROUP:6647 </span><span style="color:gray">bf20</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6647                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:</span><span style="color:green">0</span>        ; es:[arena_signature]
<span style="color:black">TRANGROUP:664B                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">5Ah</span> <span style="color:gray">; 'Z'   </span>; arena_signature_end
<span style="color:black">TRANGROUP:664D                 </span><span style="color:navy">jz      short </span><span style="color:gray">bf30</span>
<span style="color:black">TRANGROUP:664F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>          ; NextMCB es, ax
<span style="color:black">TRANGROUP:6651                 </span><span style="color:navy">add     ax</span><span style="color:navy">, es:</span><span style="color:green">3</span>
<span style="color:black">TRANGROUP:6656                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:6657                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:6659                 </span><span style="color:navy">jmp     short </span><span style="color:gray">bf10</span>
<span style="color:black">TRANGROUP:665B </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:665B
</span><span style="color:black">TRANGROUP:665B </span><span style="color:gray">bf30</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:665B                 </span><span style="color:navy">mov     es</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:665D                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:665F                 </span><span style="color:navy">or      bx</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:6661                 </span><span style="color:navy">jnz     short </span><span style="color:gray">bfX</span>       ; (if size==0, there's nothing free)
<span style="color:black">TRANGROUP:6663                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:6664
</span><span style="color:black">TRANGROUP:6664 </span><span style="color:gray">bfX</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6664                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:6665                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:6666                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6666 </span>BigFree         endp
<span style="color:black">TRANGROUP:6666
</span><span style="color:black">TRANGROUP:6667
</span><span style="color:black">TRANGROUP:6667 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6667
</span><span style="color:black">TRANGROUP:6667
</span><span style="color:black">TRANGROUP:6667 </span>isSpecified     proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6667                 </span><span style="color:navy">push    ax</span>              ; sets ZF if UMB in AL wasn't specified in DH/LH line
<span style="color:black">TRANGROUP:6668                 </span><span style="color:navy">xor     bh</span><span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:666A                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:666C                 </span><span style="color:navy">push    ds</span>              ; getdata al, ds:UmbUsed[bx]
<span style="color:black">TRANGROUP:666D                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:6671                 </span><span style="color:navy">mov     al</span><span style="color:navy">, ds:</span>UmbUsed<span style="color:navy">[bx]</span>
<span style="color:black">TRANGROUP:6675                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:6676                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>          ; Sets ZF if al==0 (ie, if unspecified)
<span style="color:black">TRANGROUP:6678                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:6679                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6679 </span>isSpecified     endp
<span style="color:black">TRANGROUP:6679
</span><span style="color:black">TRANGROUP:667A
</span><span style="color:black">TRANGROUP:667A </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:667A
</span><span style="color:black">TRANGROUP:667A
</span><span style="color:black">TRANGROUP:667A </span>shrinkMCB       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:667A                 </span><span style="color:navy">push    bx</span>              ; breaks an MCB into two pieces,
<span style="color:black">TRANGROUP:667A                                         </span>; the lowest one's size==AX
<span style="color:black">TRANGROUP:667B                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:667C                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:667D                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:667F                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:6681                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; es:[arena_size]
<span style="color:black">TRANGROUP:6686                 </span><span style="color:navy">sub     cx</span><span style="color:navy">, </span><span style="color:green">32</span>          ; MIN_SPLIT_SIZE
<span style="color:black">TRANGROUP:6689                 </span><span style="color:navy">cmp     bx</span><span style="color:navy">, cx</span>          ; {New size} vs {Current Size-20h}
<span style="color:black">TRANGROUP:668B                 </span><span style="color:navy">ja      short </span><span style="color:gray">smE</span>       ; if wanted_size &gt; cur-20h, abort.
<span style="color:black">TRANGROUP:668D                 </span><span style="color:navy">mov     dl</span><span style="color:navy">, es:</span><span style="color:green">0</span>        ; es:[arena_signature]
<span style="color:black">TRANGROUP:6692                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; es:[arena_size]
<span style="color:black">TRANGROUP:6697                 </span><span style="color:navy">mov     es:</span><span style="color:green">3</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:669C                 </span><span style="color:navy">mov     byte ptr es:</span><span style="color:green">0</span><span style="color:navy">, </span><span style="color:green">'M'</span> ; 4Dh
<span style="color:black">TRANGROUP:66A2                 </span><span style="color:navy">add     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:66A4                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:66A5                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>          ; move to new arena area
<span style="color:black">TRANGROUP:66A7                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:66A9                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:66AB                 </span><span style="color:navy">dec     ax</span>              ; and prepare the new size
<span style="color:black">TRANGROUP:66AC                 </span><span style="color:navy">mov     es:</span><span style="color:green">0</span><span style="color:navy">, dl</span>
<span style="color:black">TRANGROUP:66B1                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">1</span><span style="color:navy">, </span><span style="color:#ff8000">0</span> ; es:[arena_owner]
<span style="color:black">TRANGROUP:66B8                 </span><span style="color:navy">mov     es:</span><span style="color:green">3</span><span style="color:navy">, ax</span>        ; es:[arena_size]
<span style="color:black">TRANGROUP:66BC                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2020h</span>
<span style="color:black">TRANGROUP:66BF                 </span><span style="color:navy">mov     es:</span><span style="color:green">8</span><span style="color:navy">, ax</span>        ; es:[arena_name+0]
<span style="color:black">TRANGROUP:66C3                 </span><span style="color:navy">mov     es:</span><span style="color:green">0Ah</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:66C7                 </span><span style="color:navy">mov     es:</span><span style="color:green">0Ch</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:66CB                 </span><span style="color:navy">mov     es:</span><span style="color:green">0Eh</span><span style="color:navy">, ax</span>      ; es:[arena_name+6]
<span style="color:black">TRANGROUP:66CF                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:66D0                 </span><span style="color:navy">jmp     short </span><span style="color:gray">smX</span>
<span style="color:black">TRANGROUP:66D2 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:66D2
</span><span style="color:black">TRANGROUP:66D2 </span><span style="color:gray">smE</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:66D2                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:66D3
</span><span style="color:black">TRANGROUP:66D3 </span><span style="color:gray">smX</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:66D3                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:66D4                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:66D5                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:66D6                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:66D6 </span>shrinkMCB       endp
<span style="color:black">TRANGROUP:66D6
</span><span style="color:black">TRANGROUP:66D7
</span><span style="color:black">TRANGROUP:66D7 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:66D7
</span><span style="color:black">TRANGROUP:66D7
</span><span style="color:black">TRANGROUP:66D7 </span>hideUMB?        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:66D7                 </span><span style="color:navy">push    bx</span>              ; hides as appropriate the UMB in CL
<span style="color:black">TRANGROUP:66D8                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:66D9                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:66DA                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:66DC                 </span><span style="color:navy">call    </span>isSpecified     ; Returns ZF set if al's umb was NOT specified.
<span style="color:black">TRANGROUP:66DF                 </span><span style="color:navy">jz      short </span><span style="color:gray">hu?20</span>
<span style="color:black">TRANGROUP:66E1                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cl</span>          ; Retrieve the size of the largest
<span style="color:black">TRANGROUP:66E3                 </span><span style="color:navy">call    </span>BigFree         ; free element in AX; put its address in ES.
<span style="color:black">TRANGROUP:66E6                 </span><span style="color:navy">jb      short </span><span style="color:gray">hu?20</span>     ; Oops. Errors mean skip this part.
<span style="color:black">TRANGROUP:66E8                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:66E9                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:66EB                 </span><span style="color:navy">call    </span>GetSize         ; Retrieve the user's specified
<span style="color:black">TRANGROUP:66EB                                         </span>; minimum size for this umb (into AX).
<span style="color:black">TRANGROUP:66EE                 </span><span style="color:navy">pop     bx</span>              ; Now BX==BigFree, AX==Specified Size
<span style="color:black">TRANGROUP:66EF                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:66F1                 </span><span style="color:navy">jz      short </span><span style="color:gray">hu?20</span>     ; If they didn't specify one,
<span style="color:black">TRANGROUP:66F1                                         </span>; skip over all this.
<span style="color:black">TRANGROUP:66F3                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, bx</span>          ; if (specified &gt; max free)
<span style="color:black">TRANGROUP:66F5                 </span><span style="color:navy">jbe     short </span><span style="color:gray">hu?10</span>
<span style="color:black">TRANGROUP:66F7                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cl</span>          ; Then mark that UMB as unused.
<span style="color:black">TRANGROUP:66F9                 </span><span style="color:navy">call    </span>unMarkUMB
<span style="color:black">TRANGROUP:66FC                 </span><span style="color:navy">jmp     short </span><span style="color:gray">hu?20</span>
<span style="color:black">TRANGROUP:66FE </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:66FE
</span><span style="color:black">TRANGROUP:66FE </span><span style="color:gray">hu?10</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:66FE                 </span><span style="color:navy">call    </span>isTiny          ; Returns ZF clear if user specified /S.
<span style="color:black">TRANGROUP:6701                 </span><span style="color:navy">jz      short </span><span style="color:gray">hu?20</span>
<span style="color:black">TRANGROUP:6703                 </span><span style="color:navy">call    </span>shrinkMCB       ; They specified /S, so shrink the MCB to AX.
<span style="color:black">TRANGROUP:6706                 </span><span style="color:navy">jb      short </span><span style="color:gray">hu?20</span>     ; if didn't shrink after all, skip this
<span style="color:black">TRANGROUP:6708                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:670A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">hu?30</span>     ; Skip the spec check.
<span style="color:black">TRANGROUP:670C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:670C
</span><span style="color:black">TRANGROUP:670C </span><span style="color:gray">hu?20</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:670C                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:670E                 </span><span style="color:navy">call    </span>isSpecified     ; If they specified this UMB, we're done.
<span style="color:black">TRANGROUP:6711                 </span><span style="color:navy">jnz     short </span><span style="color:gray">hu?X</span>
<span style="color:black">TRANGROUP:6713                 </span><span style="color:navy">xor     dx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:6715
</span><span style="color:black">TRANGROUP:6715 </span><span style="color:gray">hu?30</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6715                 </span><span style="color:navy">mov     al</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:6717                 </span><span style="color:navy">call    </span>hideUMB         ; Hides everything in UMB #al
<span style="color:black">TRANGROUP:671A                 </span><span style="color:navy">or      dx</span><span style="color:navy">, dx</span>          ; Did we shrink a UMB? If not, DX==0,
<span style="color:black">TRANGROUP:671C                 </span><span style="color:navy">jz      short </span><span style="color:gray">hu?X</span>      ; So we should leave.
<span style="color:black">TRANGROUP:671E                 </span><span style="color:navy">mov     es</span><span style="color:navy">, dx</span>          ; DX==the MCB's address
<span style="color:black">TRANGROUP:6720                 </span><span style="color:navy">call    </span>unHideMCB       ; Un-hides the lower portion of that MCB.
<span style="color:black">TRANGROUP:6723
</span><span style="color:black">TRANGROUP:6723 </span><span style="color:gray">hu?X</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6723                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:6724                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:6725                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:6726                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6726 </span>hideUMB?        endp
<span style="color:black">TRANGROUP:6726
</span><span style="color:black">TRANGROUP:6727
</span><span style="color:black">TRANGROUP:6727 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6727
</span><span style="color:black">TRANGROUP:6727
</span><span style="color:black">TRANGROUP:6727 </span>UnFreeze        proc near
<span style="color:black">TRANGROUP:6727                 </span><span style="color:navy">push    ax</span>              ; Marks FROZEN elements as FREE
<span style="color:black">TRANGROUP:6728                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:6729                 </span><span style="color:navy">call    </span>UmbHead         ; Returns with carry if err, else ES == MCB
<span style="color:black">TRANGROUP:672C                 </span><span style="color:navy">jb      short </span><span style="color:gray">ufX</span>
<span style="color:black">TRANGROUP:672E                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:6730
</span><span style="color:black">TRANGROUP:6730 </span><span style="color:gray">uf10</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6730                 </span><span style="color:navy">call    </span>isFrozMCB       ; Returns with ZF set if MCB is FROZEN
<span style="color:black">TRANGROUP:6733                 </span><span style="color:navy">jnz     short </span><span style="color:gray">uf20</span>
<span style="color:black">TRANGROUP:6735                 </span><span style="color:navy">call    </span>unHideMCB
<span style="color:black">TRANGROUP:6738
</span><span style="color:black">TRANGROUP:6738 </span><span style="color:gray">uf20</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6738                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:</span><span style="color:green">0</span>        ; es:[arena_signature]
<span style="color:black">TRANGROUP:673C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">5Ah</span> <span style="color:gray">; 'Z'   </span>; 'Z' means this was the last MCB.
<span style="color:black">TRANGROUP:673E                 </span><span style="color:navy">jz      short </span><span style="color:gray">ufX</span>
<span style="color:black">TRANGROUP:6740                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>          ; NextMCB es, ax
<span style="color:black">TRANGROUP:6740                                         </span>; Go on forward.
<span style="color:black">TRANGROUP:6742                 </span><span style="color:navy">add     ax</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; es:[arena_size]
<span style="color:black">TRANGROUP:6747                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:6748                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:674A                 </span><span style="color:navy">jmp     short </span><span style="color:gray">uf10</span>
<span style="color:black">TRANGROUP:674C </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:674C
</span><span style="color:black">TRANGROUP:674C </span><span style="color:gray">ufX</span><span style="color:navy">:                                    </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:674C                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:674D                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:674E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:674E </span>UnFreeze        endp
<span style="color:black">TRANGROUP:674E
</span><span style="color:black">TRANGROUP:674F
</span><span style="color:black">TRANGROUP:674F </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:674F
</span><span style="color:black">TRANGROUP:674F
</span><span style="color:black">TRANGROUP:674F </span>isFrozMCB       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:674F                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:6750                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">1</span>        ; es:[arena_owner]
<span style="color:black">TRANGROUP:6754                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">8</span>           ; SystemPSPOwner
<span style="color:black">TRANGROUP:6757                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ifmX</span>
<span style="color:black">TRANGROUP:6759                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">8</span>        ; 'FROZEN  '
<span style="color:black">TRANGROUP:6759                                         </span>; mov ax, word ptr es:[arena_name]
<span style="color:black">TRANGROUP:675D                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">'RF'</span>        ; 4256h
<span style="color:black">TRANGROUP:6760                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ifmX</span>
<span style="color:black">TRANGROUP:6762                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">0Ah</span>
<span style="color:black">TRANGROUP:6766                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">'ZO'</span>        ; 5A4Fh
<span style="color:black">TRANGROUP:6769                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ifmX</span>
<span style="color:black">TRANGROUP:676B                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">0Ch</span>
<span style="color:black">TRANGROUP:676F                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">'NE'</span>        ; 4E45h
<span style="color:black">TRANGROUP:6772                 </span><span style="color:navy">jnz     short </span><span style="color:gray">ifmX</span>
<span style="color:black">TRANGROUP:6774                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:</span><span style="color:green">0Eh</span>
<span style="color:black">TRANGROUP:6778                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">'  '</span>        ; 2020h
<span style="color:black">TRANGROUP:677B
</span><span style="color:black">TRANGROUP:677B </span><span style="color:gray">ifmX</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:677B                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:677C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:677C </span>isFrozMCB       endp
<span style="color:black">TRANGROUP:677C
</span><span style="color:black">TRANGROUP:677D
</span><span style="color:black">TRANGROUP:677D </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:677D
</span><span style="color:black">TRANGROUP:677D
</span><span style="color:black">TRANGROUP:677D </span>frezMCB         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:677D                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">1</span><span style="color:navy">, </span><span style="color:#ff8000">8</span> ; mov es:[arena_owner], SystemPSPOwner
<span style="color:black">TRANGROUP:6784                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">8</span><span style="color:navy">, </span><span style="color:green">'RF'</span> ; 'FROZEN  '
<span style="color:black">TRANGROUP:6784                                         </span>; mov word ptr es:[arena_name+0], 'RF'
<span style="color:black">TRANGROUP:678B                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">0Ah</span><span style="color:navy">, </span><span style="color:green">'ZO'</span>
<span style="color:black">TRANGROUP:6792                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">0Ch</span><span style="color:navy">, </span><span style="color:green">'NE'</span>
<span style="color:black">TRANGROUP:6799                 </span><span style="color:navy">mov     word ptr es:</span><span style="color:green">0Eh</span><span style="color:navy">, </span><span style="color:green">'  '</span> ;
<span style="color:black">TRANGROUP:6799                                         </span>; mov word ptr es:[arena_name+6], 2020h
<span style="color:black">TRANGROUP:67A0                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:67A0 </span>frezMCB         endp
<span style="color:black">TRANGROUP:67A0
</span><span style="color:black">TRANGROUP:67A1
</span><span style="color:black">TRANGROUP:67A1 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:67A1
</span><span style="color:black">TRANGROUP:67A1
</span><span style="color:black">TRANGROUP:67A1 </span>FreezeUM        proc near
<span style="color:black">TRANGROUP:67A1                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:67A2                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:67A3                 </span><span style="color:navy">push    dx</span>
<span style="color:black">TRANGROUP:67A4                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:67A5                 </span><span style="color:navy">call    </span>GetLoadUMB
<span style="color:black">TRANGROUP:67A8                 </span><span style="color:navy">xor     ah</span><span style="color:navy">, ah</span>
<span style="color:black">TRANGROUP:67AA                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, ax</span>          ; Store the load UMB in DX, so we can skip it
<span style="color:black">TRANGROUP:67AC                 </span><span style="color:navy">call    </span>UmbHead         ; Returns first UMB segment in AX
<span style="color:black">TRANGROUP:67AF                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:67B1                 </span><span style="color:navy">xor     cx</span><span style="color:navy">, cx</span>
<span style="color:black">TRANGROUP:67B3
</span><span style="color:black">TRANGROUP:67B3 </span><span style="color:gray">fum10</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:67B3                 </span><span style="color:navy">call    </span>isSysMCB        ; Returns with ZF set if owner is SYSTEM
<span style="color:black">TRANGROUP:67B6                 </span><span style="color:navy">jnz     short </span><span style="color:gray">fum20</span>
<span style="color:black">TRANGROUP:67B8                 </span><span style="color:navy">inc     cx</span>              ; If it _was_ SYSTEM, we're in a new UMB.
<span style="color:black">TRANGROUP:67B9
</span><span style="color:black">TRANGROUP:67B9 </span><span style="color:gray">fum20</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:67B9                 </span><span style="color:navy">cmp     cx</span><span style="color:navy">, dx</span>
<span style="color:black">TRANGROUP:67BB                 </span><span style="color:navy">jz      short </span><span style="color:gray">fum30</span>
<span style="color:black">TRANGROUP:67BD                 </span><span style="color:navy">call    </span>isFreeMCB       ; If it's not free, we can't freeze it.
<span style="color:black">TRANGROUP:67C0                 </span><span style="color:navy">jnz     short </span><span style="color:gray">fum30</span>
<span style="color:black">TRANGROUP:67C2                 </span><span style="color:navy">call    </span>frezMCB
<span style="color:black">TRANGROUP:67C5
</span><span style="color:black">TRANGROUP:67C5 </span><span style="color:gray">fum30</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:67C5                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:</span><span style="color:green">0</span>        ; es:[arena_signature]
<span style="color:black">TRANGROUP:67C9                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'Z'</span>         ; arena_signature_end
<span style="color:black">TRANGROUP:67CB                 </span><span style="color:navy">jz      short </span><span style="color:gray">fumX</span>      ; 'Z' means this was the last MCB.
<span style="color:black">TRANGROUP:67CD                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>          ; NextMCB es, ax
<span style="color:black">TRANGROUP:67CD                                         </span>; Go on forward.
<span style="color:black">TRANGROUP:67CF                 </span><span style="color:navy">add     ax</span><span style="color:navy">, es:</span><span style="color:green">3</span>        ; es:[arena_size]
<span style="color:black">TRANGROUP:67D4                 </span><span style="color:navy">inc     ax</span>
<span style="color:black">TRANGROUP:67D5                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:67D7                 </span><span style="color:navy">jmp     short </span><span style="color:gray">fum10</span>
<span style="color:black">TRANGROUP:67D9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:67D9
</span><span style="color:black">TRANGROUP:67D9 </span><span style="color:gray">fumX</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:67D9                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:67DA                 </span><span style="color:navy">pop     dx</span>
<span style="color:black">TRANGROUP:67DB                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:67DC                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:67DD                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:67DD </span>FreezeUM        endp
<span style="color:black">TRANGROUP:67DD
</span><span style="color:black">TRANGROUP:67DE
</span><span style="color:black">TRANGROUP:67DE </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:67DE
</span><span style="color:black">TRANGROUP:67DE
</span><span style="color:black">TRANGROUP:67DE </span>UmbTest         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:67DE                 </span><span style="color:navy">push    ax</span>              ; returns with carry set if UMBs are not available,
<span style="color:black">TRANGROUP:67DE                                         </span>; else CF==false
<span style="color:black">TRANGROUP:67DF                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:67E0                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:67E1                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:67E2                 </span><span style="color:navy">call    </span>fm_link         ; Link in UMBs (if not already linked)
<span style="color:black">TRANGROUP:67E5                 </span><span style="color:navy">call    </span>WalkMem         ; Check to see if they're really linked
<span style="color:black">TRANGROUP:67E8                 </span><span style="color:navy">pushf                   </span>; remember what we found out.
<span style="color:black">TRANGROUP:67E9                 </span><span style="color:navy">call    </span>fm_unlink       ; Unlink UMBs (if WE have linked them)
<span style="color:black">TRANGROUP:67EC                 </span><span style="color:navy">popf                    </span>; restore what we found out.
<span style="color:black">TRANGROUP:67ED                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:67EE                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:67EF                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:67F0                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:67F1                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:67F1 </span>UmbTest         endp
<span style="color:black">TRANGROUP:67F1
</span><span style="color:black">TRANGROUP:67F2
</span><span style="color:black">TRANGROUP:67F2 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:67F2
</span><span style="color:black">TRANGROUP:67F2
</span><span style="color:black">TRANGROUP:67F2 </span>WalkMem         proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:67F2                 </span><span style="color:navy">push    ax</span>              ; travels memory chain
<span style="color:black">TRANGROUP:67F2                                         </span>; and returns carry clear if UMBs are linked
<span style="color:black">TRANGROUP:67F3                 </span><span style="color:navy">push    bx</span>
<span style="color:black">TRANGROUP:67F4                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:67F5                 </span><span style="color:navy">mov     ah</span><span style="color:navy">, </span><span style="color:green">52h</span>         ; DOS_GET_DOS_LISTS
<span style="color:black">TRANGROUP:67F7                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 2+ internal - GET LIST OF LISTS
<span style="color:black">TRANGROUP:67F7                                         </span>; Return: ES:BX -&gt; DOS list of lists
<span style="color:black">TRANGROUP:67F9                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es:[bx-</span><span style="color:green">2</span><span style="color:navy">]</span>
<span style="color:black">TRANGROUP:67FD                 </span><span style="color:navy">mov     es</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:67FF
</span><span style="color:black">TRANGROUP:67FF </span><span style="color:gray">um10</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:67FF                 </span><span style="color:navy">mov     al</span><span style="color:navy">, es:</span><span style="color:green">0</span>        ; es:[arena_signature]
<span style="color:black">TRANGROUP:6803                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'Z'</span>         ; 5Ah, arena_signature_end
<span style="color:black">TRANGROUP:6805                 </span><span style="color:navy">jz      short </span><span style="color:gray">um20</span>
<span style="color:black">TRANGROUP:6807                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, es</span>          ; NextMCB es, bx
<span style="color:black">TRANGROUP:6809                 </span><span style="color:navy">add     bx</span><span style="color:navy">, es:</span><span style="color:green">3</span>
<span style="color:black">TRANGROUP:680E                 </span><span style="color:navy">inc     bx</span>
<span style="color:black">TRANGROUP:680F                 </span><span style="color:navy">mov     es</span><span style="color:navy">, bx</span>
<span style="color:black">TRANGROUP:6811                 </span><span style="color:navy">jmp     short </span><span style="color:gray">um10</span>
<span style="color:black">TRANGROUP:6813 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6813
</span><span style="color:black">TRANGROUP:6813 </span><span style="color:gray">um20</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6813                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, es</span>
<span style="color:black">TRANGROUP:6815                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:green">9FFFh</span>       ;  This sets CF if ax &lt; 9FFF.
<span style="color:black">TRANGROUP:6818                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:6819                 </span><span style="color:navy">pop     bx</span>
<span style="color:black">TRANGROUP:681A                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:681B                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:681B </span>WalkMem         endp
<span style="color:black">TRANGROUP:681B
</span><span style="color:black">TRANGROUP:681C
</span><span style="color:black">TRANGROUP:681C </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:681C
</span><span style="color:black">TRANGROUP:681C
</span><span style="color:black">TRANGROUP:681C </span>hl_unlink       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:681C                 </span><span style="color:navy">xor     bh</span><span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:681E                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:681F                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:6823                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, ds:</span>fm_umb   ; Restore original link-state
<span style="color:black">TRANGROUP:6827                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:6828                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5803h</span>       ; DOS_SET_UMBLINK
<span style="color:black">TRANGROUP:682B                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">TRANGROUP:682B                                         </span>; AL = function code: (DOS 5beta) set UMB link state
<span style="color:black">TRANGROUP:682D                 </span><span style="color:navy">xor     bh</span><span style="color:navy">, bh</span>
<span style="color:black">TRANGROUP:682F                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:6830                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:6834                 </span><span style="color:navy">mov     bl</span><span style="color:navy">, ds:</span>fm_strat ; Restore original mem-alloc strategy
<span style="color:black">TRANGROUP:6838                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:6839                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:green">5801h</span>       ; DOS_SET_STRATEGY
<span style="color:black">TRANGROUP:683C                 </span><span style="color:navy">int     </span><span style="color:green">21h</span>             ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
<span style="color:black">TRANGROUP:683C                                         </span>; AL = function code: set allocation strategy
<span style="color:black">TRANGROUP:683E                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:683E </span>hl_unlink       endp
<span style="color:black">TRANGROUP:683E
</span><span style="color:maroon">TRANGROUP:683F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:683F
</span><span style="color:maroon">TRANGROUP:683F </span>LoadHigh<span style="color:navy">:                               </span><span style="color:#8080ff">; ...
</span><span style="color:maroon">TRANGROUP:683F                 </span><span style="color:navy">push    ds</span>
<span style="color:maroon">TRANGROUP:6840                 </span><span style="color:navy">pop     es</span>
<span style="color:maroon">TRANGROUP:6841                 </span><span style="color:navy">call    </span>ParseLhCmd      ; parse the command line
<span style="color:maroon">TRANGROUP:6844                 </span><span style="color:navy">jb      short </span>LhErr
<span style="color:maroon">TRANGROUP:6846                 </span><span style="color:navy">call    </span>SetupCmdLine    ; setup pgm's command line
<span style="color:maroon">TRANGROUP:6849                 </span><span style="color:navy">call    </span>SetupPath       ; setup path for file
<span style="color:maroon">TRANGROUP:684C                 </span><span style="color:navy">jb      short </span>LhErr
<span style="color:maroon">TRANGROUP:684E                 </span><span style="color:navy">call    </span>HideUMBs        ; prepare upper-memory for load
<span style="color:maroon">TRANGROUP:6851                 </span><span style="color:navy">jmp     </span>LH_EXECUTE      ; go and exec file
<span style="color:maroon">TRANGROUP:6854 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:maroon">TRANGROUP:6854
</span><span style="color:maroon">TRANGROUP:6854 </span>LhErr<span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:maroon">TRANGROUP:6854                 </span><span style="color:navy">jmp     </span>cerror          ; print error message and recycle
<span style="color:black">TRANGROUP:6857
</span><span style="color:black">TRANGROUP:6857 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6857
</span><span style="color:black">TRANGROUP:6857
</span><span style="color:black">TRANGROUP:6857 </span>ParseLhCmd      proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6857                 </span><span style="color:navy">mov     si</span><span style="color:navy">, </span><span style="color:green">81h</span>         ; iCmdLine
<span style="color:black">TRANGROUP:6857                                         </span>; ds:si points at command line
<span style="color:black">TRANGROUP:685A                 </span><span style="color:navy">push    es</span>
<span style="color:black">TRANGROUP:685B                 </span><span style="color:navy">push    ds</span>
<span style="color:black">TRANGROUP:685C                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:685D                 </span><span style="color:navy">call    </span>InitVar         ; Initialize data for ParseVar
<span style="color:black">TRANGROUP:6860                 </span><span style="color:navy">call    </span>ParseVar        ; And parse the command line
<span style="color:black">TRANGROUP:6863                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:6864                 </span><span style="color:navy">jnb     short </span><span style="color:gray">plcC</span>
<span style="color:black">TRANGROUP:6866                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; PV_BadUMB ; Bad UMB passed?
<span style="color:black">TRANGROUP:6869                 </span><span style="color:navy">jnz     short </span><span style="color:gray">plc10</span>
<span style="color:black">TRANGROUP:686B                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>LhBadUMB_Ptr
<span style="color:black">TRANGROUP:686E                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:686F                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6870 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6870
</span><span style="color:black">TRANGROUP:6870 </span><span style="color:gray">plc10</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6870                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>LhInvSwt_Ptr
<span style="color:black">TRANGROUP:6873                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">3</span>           ; PV_InvSwt ; Unrecognized switch passed?
<span style="color:black">TRANGROUP:6876                 </span><span style="color:navy">jz      short </span><span style="color:gray">plc20</span>
<span style="color:black">TRANGROUP:6878                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>LhInvArg_Ptr
<span style="color:black">TRANGROUP:687B
</span><span style="color:black">TRANGROUP:687B </span><span style="color:gray">plc20</span><span style="color:navy">:                                  </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:687B                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:687C                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:687D </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:687D
</span><span style="color:black">TRANGROUP:687D </span><span style="color:gray">plcC</span><span style="color:navy">:                                   </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:687D                 </span><span style="color:navy">call    </span>LhCopyFilename  ; copy filename into our buffer
<span style="color:black">TRANGROUP:6880                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6880 </span>ParseLhCmd      endp
<span style="color:black">TRANGROUP:6880
</span><span style="color:black">TRANGROUP:6881
</span><span style="color:black">TRANGROUP:6881 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:6881
</span><span style="color:black">TRANGROUP:6881
</span><span style="color:black">TRANGROUP:6881 </span>LhCopyFilename  proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6881                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>EXECPATH
<span style="color:black">TRANGROUP:6884                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, </span><span style="color:#ff8000">0</span>
<span style="color:black">TRANGROUP:6887
</span><span style="color:black">TRANGROUP:6887 </span><span style="color:gray">lhcpfn1</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6887                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:6888                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'*'</span>         ; wildcard? (*)
<span style="color:black">TRANGROUP:688A                 </span><span style="color:navy">jz      short </span><span style="color:gray">lhfilerr</span>
<span style="color:black">TRANGROUP:688C                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:green">'?'</span>         ; wildcard? (?)
<span style="color:black">TRANGROUP:688E                 </span><span style="color:navy">jz      short </span><span style="color:gray">lhfilerr</span>
<span style="color:black">TRANGROUP:6890                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>         ; carriage return?
<span style="color:black">TRANGROUP:6892                 </span><span style="color:navy">jz      short </span><span style="color:gray">lhcpfn2</span>
<span style="color:black">TRANGROUP:6894                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, ds:</span>SWITCHAR ; '/'?
<span style="color:black">TRANGROUP:6898                 </span><span style="color:navy">jz      short </span><span style="color:gray">lhcpfn2</span>
<span style="color:black">TRANGROUP:689A                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>          ; EOS?
<span style="color:black">TRANGROUP:689C                 </span><span style="color:navy">jz      short </span><span style="color:gray">lhcpfn2</span>
<span style="color:black">TRANGROUP:689E                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">20h</span> <span style="color:gray">; ' '   </span>; Space?
<span style="color:black">TRANGROUP:68A0                 </span><span style="color:navy">jz      short </span><span style="color:gray">lhcpfn2</span>
<span style="color:black">TRANGROUP:68A2                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:68A4                 </span><span style="color:navy">jz      short </span><span style="color:gray">lhcpfn2</span>
<span style="color:black">TRANGROUP:68A6                 </span><span style="color:navy">stosb                   </span>; store char
<span style="color:black">TRANGROUP:68A7                 </span><span style="color:navy">inc     cx</span>              ; number of chars stored
<span style="color:black">TRANGROUP:68A8                 </span><span style="color:navy">jmp     short </span><span style="color:gray">lhcpfn1</span>
<span style="color:black">TRANGROUP:68AA </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:68AA
</span><span style="color:black">TRANGROUP:68AA </span><span style="color:gray">lhcpfn2</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:68AA                 </span><span style="color:navy">xor     al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:68AC                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:68AD                 </span><span style="color:navy">or      cx</span><span style="color:navy">, cx</span>          ; If we didn't copy any characters,
<span style="color:black">TRANGROUP:68AF                 </span><span style="color:navy">jz      short </span><span style="color:gray">lhmissing</span> ; they didn't give a filename.
<span style="color:black">TRANGROUP:68B1                 </span><span style="color:navy">dec     si</span>
<span style="color:black">TRANGROUP:68B2                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:68B3                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:68B4 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:68B4
</span><span style="color:black">TRANGROUP:68B4 </span><span style="color:gray">lhfilerr</span><span style="color:navy">:                               </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:68B4                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>LhInvFil_Ptr ; &quot;Invalid Filename&quot;
<span style="color:black">TRANGROUP:68B7                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:68B8                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:68B9 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:68B9
</span><span style="color:black">TRANGROUP:68B9 </span><span style="color:gray">lhmissing</span><span style="color:navy">:                              </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:68B9                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>ReqParmMiss ; &quot;Required parm missing&quot;
<span style="color:black">TRANGROUP:68BC                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:68BD                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:68BD </span>LhCopyFilename  endp
<span style="color:black">TRANGROUP:68BD
</span><span style="color:black">TRANGROUP:68BE
</span><span style="color:black">TRANGROUP:68BE </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:68BE
</span><span style="color:black">TRANGROUP:68BE
</span><span style="color:black">TRANGROUP:68BE </span>SetupCmdLine    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:68BE                 </span><span style="color:navy">mov     di</span><span style="color:navy">, </span><span style="color:green">81h</span>         ; iCmdLine
<span style="color:black">TRANGROUP:68C1                 </span><span style="color:navy">xor     cl</span><span style="color:navy">, cl</span>
<span style="color:black">TRANGROUP:68C3                 </span><span style="color:navy">dec     cl</span>              ; just CR means count = 0
<span style="color:black">TRANGROUP:68C5
</span><span style="color:black">TRANGROUP:68C5 </span><span style="color:gray">scmdl1</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:68C5                 </span><span style="color:navy">lodsb
</span><span style="color:black">TRANGROUP:68C6                 </span><span style="color:navy">stosb
</span><span style="color:black">TRANGROUP:68C7                 </span><span style="color:navy">inc     cl</span>              ; update count
<span style="color:black">TRANGROUP:68C9                 </span><span style="color:navy">or      al</span><span style="color:navy">, al</span>
<span style="color:black">TRANGROUP:68CB                 </span><span style="color:navy">jz      short </span><span style="color:gray">scmdl2</span>
<span style="color:black">TRANGROUP:68CD                 </span><span style="color:navy">cmp     al</span><span style="color:navy">, </span><span style="color:#ff8000">0Dh</span>         ; carriage return?
<span style="color:black">TRANGROUP:68CF                 </span><span style="color:navy">jnz     short </span><span style="color:gray">scmdl1</span>    ; no, continue storing
<span style="color:black">TRANGROUP:68D1
</span><span style="color:black">TRANGROUP:68D1 </span><span style="color:gray">scmdl2</span><span style="color:navy">:                                 </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:68D1                 </span><span style="color:navy">mov     es:</span><span style="color:green">80h</span><span style="color:navy">, cl</span>      ; store new cmd line length
<span style="color:black">TRANGROUP:68D6                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:68D6 </span>SetupCmdLine    endp
<span style="color:black">TRANGROUP:68D6
</span><span style="color:black">TRANGROUP:68D7
</span><span style="color:black">TRANGROUP:68D7 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:68D7
</span><span style="color:black">TRANGROUP:68D7
</span><span style="color:black">TRANGROUP:68D7 </span>LhSetupErrMsg   proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:68D7                 </span><span style="color:navy">mov     ds:</span>msg_disp_class<span style="color:navy">, </span><span style="color:#ff8000">1</span> ; EXT_MSG_CLASS
<span style="color:black">TRANGROUP:68DC                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>extend_buf_ptr
<span style="color:black">TRANGROUP:68DF                 </span><span style="color:navy">mov     ds:</span>extend_buf_ptr<span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:68E2                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:68E2 </span>LhSetupErrMsg   endp
<span style="color:black">TRANGROUP:68E2
</span><span style="color:black">TRANGROUP:68E3
</span><span style="color:black">TRANGROUP:68E3 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:68E3
</span><span style="color:black">TRANGROUP:68E3
</span><span style="color:black">TRANGROUP:68E3 </span>SetupPath       proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:68E3                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, ds:</span>ARG_ARGVCNT ; arg.argvcnt
<span style="color:black">TRANGROUP:68E3                                         </span>; total number of arguments
<span style="color:black">TRANGROUP:68E6                 </span><span style="color:navy">dec     ax</span>
<span style="color:black">TRANGROUP:68E7                 </span><span style="color:navy">mov     bx</span><span style="color:navy">, </span><span style="color:green">11</span>          ; SIZE Argv_ele
<span style="color:black">TRANGROUP:68EA                 </span><span style="color:navy">mul     bx</span>              ; dx:ax = size of argument lists
<span style="color:black">TRANGROUP:68EC                 </span><span style="color:navy">push    ds</span>              ; getdata (macro)
<span style="color:black">TRANGROUP:68EC                                         </span>; getdata cl, fm_argc
<span style="color:black">TRANGROUP:68EC                                         </span>; CL = number of arguments to skip
<span style="color:black">TRANGROUP:68ED                 </span><span style="color:navy">mov     ds</span><span style="color:navy">, ds:</span>RESSEG
<span style="color:black">TRANGROUP:68F1                 </span><span style="color:navy">mov     cl</span><span style="color:navy">, ds:</span>fm_argc
<span style="color:black">TRANGROUP:68F5                 </span><span style="color:navy">pop     ds</span>
<span style="color:black">TRANGROUP:68F6                 </span><span style="color:navy">inc     cl</span>              ; Skip one arg, to get over &quot;lh&quot;
<span style="color:black">TRANGROUP:68F8
</span><span style="color:black">TRANGROUP:68F8 </span><span style="color:gray">argloop</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:68F8                 </span><span style="color:navy">jcxz    short </span><span style="color:gray">argdone</span>
<span style="color:black">TRANGROUP:68FA                 </span><span style="color:navy">dec     cx</span>
<span style="color:black">TRANGROUP:68FB                 </span><span style="color:navy">push    ax</span>
<span style="color:black">TRANGROUP:68FC                 </span><span style="color:navy">push    cx</span>
<span style="color:black">TRANGROUP:68FD                 </span><span style="color:navy">mov     cx</span><span style="color:navy">, ax</span>
<span style="color:black">TRANGROUP:68FF                 </span><span style="color:navy">mov     di</span><span style="color:navy">, offset </span>ARG_ARGV ; offset TRANGROUP:Arg
<span style="color:black">TRANGROUP:68FF                                         </span>; Copy TO argv[0]
<span style="color:black">TRANGROUP:6902                 </span><span style="color:navy">mov     si</span><span style="color:navy">, di</span>
<span style="color:black">TRANGROUP:6904                 </span><span style="color:navy">add     si</span><span style="color:navy">, </span><span style="color:green">11</span>          ; SIZE Argv_ele
<span style="color:black">TRANGROUP:6904                                         </span>; Copy FROM argv[1]
<span style="color:black">TRANGROUP:6907                 </span><span style="color:navy">cld
</span><span style="color:black">TRANGROUP:6908                 </span><span style="color:navy">rep movsb               </span>; Move the argument list
<span style="color:black">TRANGROUP:690A                 </span><span style="color:navy">dec     ds:</span>ARG_ARGVCNT  ; arg.argvcnt
<span style="color:black">TRANGROUP:690A                                         </span>; Fake one less argument, and
<span style="color:black">TRANGROUP:690E                 </span><span style="color:navy">sub     ax</span><span style="color:navy">, </span><span style="color:green">11</span>          ; there's one argument we don't copy.
<span style="color:black">TRANGROUP:6911                 </span><span style="color:navy">pop     cx</span>
<span style="color:black">TRANGROUP:6912                 </span><span style="color:navy">pop     ax</span>
<span style="color:black">TRANGROUP:6913                 </span><span style="color:navy">jmp     short </span><span style="color:gray">argloop</span>
<span style="color:black">TRANGROUP:6915 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6915
</span><span style="color:black">TRANGROUP:6915 </span><span style="color:gray">argdone</span><span style="color:navy">:                                </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6915                 </span><span style="color:navy">call    </span>path_search     ; look in the path
<span style="color:black">TRANGROUP:6915                                         </span>;
<span style="color:black">TRANGROUP:6915                                         </span>; ax = 0, no file found
<span style="color:black">TRANGROUP:6915                                         </span>; ax &lt; 4, batch file found -- cant be executed
<span style="color:black">TRANGROUP:6915                                         </span>; ax = 4,8 =&gt; .com or .exe file found
<span style="color:black">TRANGROUP:6915                                         </span>;
<span style="color:black">TRANGROUP:6918                 </span><span style="color:navy">or      ax</span><span style="color:navy">, ax</span>          ; any file found?
<span style="color:black">TRANGROUP:691A                 </span><span style="color:navy">jz      short </span><span style="color:gray">no_exec_file</span> ; no, error
<span style="color:black">TRANGROUP:691C                 </span><span style="color:navy">cmp     ax</span><span style="color:navy">, </span><span style="color:#ff8000">4</span>           ; executable file?
<span style="color:black">TRANGROUP:691F                 </span><span style="color:navy">jl      short </span><span style="color:gray">no_exec_bat</span> ; no, indicate fail
<span style="color:black">TRANGROUP:6921                 </span><span style="color:navy">clc
</span><span style="color:black">TRANGROUP:6922                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:6923 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6923
</span><span style="color:black">TRANGROUP:6923 </span><span style="color:gray">no_exec_bat</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6923                 </span><span style="color:navy">mov     dx</span><span style="color:navy">, offset </span>NoExecBat_Ptr ; offset TRANGROUP:NoExecBat_Ptr
<span style="color:black">TRANGROUP:6923                                         </span>; Setup message ptr
<span style="color:black">TRANGROUP:6926                 </span><span style="color:navy">jmp     short </span><span style="color:gray">lhsp_errret</span>
<span style="color:black">TRANGROUP:6928 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:black">TRANGROUP:6928
</span><span style="color:black">TRANGROUP:6928 </span><span style="color:gray">no_exec_file</span><span style="color:navy">:                           </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:6928                 </span><span style="color:navy">mov     ax</span><span style="color:navy">, </span><span style="color:#ff8000">2</span>           ; ERROR_FILE_NOT_FOUND
<span style="color:black">TRANGROUP:692B                 </span><span style="color:navy">call    </span>LhSetupErrMsg   ; setup error message
<span style="color:black">TRANGROUP:692E
</span><span style="color:black">TRANGROUP:692E </span><span style="color:gray">lhsp_errret</span><span style="color:navy">:                            </span><span style="color:green">; ...
</span><span style="color:black">TRANGROUP:692E                 </span><span style="color:navy">stc
</span><span style="color:black">TRANGROUP:692F                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:692F </span>SetupPath       endp
<span style="color:black">TRANGROUP:692F
</span><span style="color:black">TRANGROUP:692F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:gray">TRANGROUP:6930 </span>$M_CLASS_3_STRUC <span style="color:navy">db </span><span style="color:#008040">0FFh                </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:6931                 </span><span style="color:navy">dw </span><span style="color:#008040">1606h                </span>; $M_COMMAND_VER (COMMAND.COM version)
<span style="color:gray">TRANGROUP:6933                 </span><span style="color:navy">db </span><span style="color:#008040">187                  </span>; Total number of messages
<span style="color:gray">TRANGROUP:6934 </span>$M_ID_3_1       <span style="color:navy">dw </span><span style="color:#008040">1020
</span><span style="color:gray">TRANGROUP:6936                 </span><span style="color:navy">dw </span><span style="color:#008040">748
</span><span style="color:gray">TRANGROUP:6938 </span>$M_ID_3_2       <span style="color:navy">dw </span><span style="color:#008040">1015
</span><span style="color:gray">TRANGROUP:693A                 </span><span style="color:navy">dw </span><span style="color:#008040">760
</span><span style="color:gray">TRANGROUP:693C </span>$M_ID_3_3       <span style="color:navy">dw </span><span style="color:#008040">1004</span><span style="color:navy">, </span><span style="color:#008040">792</span><span style="color:navy">,</span><span style="color:#008040">1026</span><span style="color:navy">, </span><span style="color:#008040">814</span><span style="color:navy">,</span><span style="color:#008040">1031</span><span style="color:navy">, </span><span style="color:#008040">830</span><span style="color:navy">,</span><span style="color:#008040">1035</span><span style="color:navy">, </span><span style="color:#008040">841</span><span style="color:navy">,</span><span style="color:#008040">1062</span><span style="color:navy">, </span><span style="color:#008040">852
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1028</span><span style="color:navy">, </span><span style="color:#008040">863</span><span style="color:navy">,</span><span style="color:#008040">1045</span><span style="color:navy">, </span><span style="color:#008040">893</span><span style="color:navy">,</span><span style="color:#008040">1041</span><span style="color:navy">, </span><span style="color:#008040">918</span><span style="color:navy">,</span><span style="color:#008040">1042</span><span style="color:navy">, </span><span style="color:#008040">948</span><span style="color:navy">,</span><span style="color:#008040">1043</span><span style="color:navy">, </span><span style="color:#008040">971
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1002</span><span style="color:navy">, </span><span style="color:#008040">999</span><span style="color:navy">,</span><span style="color:#008040">1003</span><span style="color:navy">,</span><span style="color:#008040">1035</span><span style="color:navy">,</span><span style="color:#008040">1007</span><span style="color:navy">,</span><span style="color:#008040">1059</span><span style="color:navy">,</span><span style="color:#008040">1008</span><span style="color:navy">,</span><span style="color:#008040">1082</span><span style="color:navy">,</span><span style="color:#008040">1009</span><span style="color:navy">,</span><span style="color:#008040">1100
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1010</span><span style="color:navy">,</span><span style="color:#008040">1117</span><span style="color:navy">,</span><span style="color:#008040">1011</span><span style="color:navy">,</span><span style="color:#008040">1145</span><span style="color:navy">,</span><span style="color:#008040">1014</span><span style="color:navy">,</span><span style="color:#008040">1168</span><span style="color:navy">,</span><span style="color:#008040">1016</span><span style="color:navy">,</span><span style="color:#008040">1181</span><span style="color:navy">,</span><span style="color:#008040">1017</span><span style="color:navy">,</span><span style="color:#008040">1219
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1018</span><span style="color:navy">,</span><span style="color:#008040">1252</span><span style="color:navy">,</span><span style="color:#008040">1019</span><span style="color:navy">,</span><span style="color:#008040">1268</span><span style="color:navy">,</span><span style="color:#008040">1021</span><span style="color:navy">,</span><span style="color:#008040">1276</span><span style="color:navy">,</span><span style="color:#008040">1022</span><span style="color:navy">,</span><span style="color:#008040">1302</span><span style="color:navy">,</span><span style="color:#008040">1023</span><span style="color:navy">,</span><span style="color:#008040">1337
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1024</span><span style="color:navy">,</span><span style="color:#008040">1377</span><span style="color:navy">,</span><span style="color:#008040">1025</span><span style="color:navy">,</span><span style="color:#008040">1396</span><span style="color:navy">,</span><span style="color:#008040">1027</span><span style="color:navy">,</span><span style="color:#008040">1416</span><span style="color:navy">,</span><span style="color:#008040">1029</span><span style="color:navy">,</span><span style="color:#008040">1445</span><span style="color:navy">,</span><span style="color:#008040">1030</span><span style="color:navy">,</span><span style="color:#008040">1459
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1032</span><span style="color:navy">,</span><span style="color:#008040">1470</span><span style="color:navy">,</span><span style="color:#008040">1033</span><span style="color:navy">,</span><span style="color:#008040">1490</span><span style="color:navy">,</span><span style="color:#008040">1034</span><span style="color:navy">,</span><span style="color:#008040">1508</span><span style="color:navy">,</span><span style="color:#008040">1036</span><span style="color:navy">,</span><span style="color:#008040">1526</span><span style="color:navy">,</span><span style="color:#008040">1037</span><span style="color:navy">,</span><span style="color:#008040">1543
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1038</span><span style="color:navy">,</span><span style="color:#008040">1556</span><span style="color:navy">,</span><span style="color:#008040">1039</span><span style="color:navy">,</span><span style="color:#008040">1571</span><span style="color:navy">,</span><span style="color:#008040">1040</span><span style="color:navy">,</span><span style="color:#008040">1628</span><span style="color:navy">,</span><span style="color:#008040">1044</span><span style="color:navy">,</span><span style="color:#008040">1645</span><span style="color:navy">,</span><span style="color:#008040">1046</span><span style="color:navy">,</span><span style="color:#008040">1661
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1047</span><span style="color:navy">,</span><span style="color:#008040">1712</span><span style="color:navy">,</span><span style="color:#008040">1048</span><span style="color:navy">,</span><span style="color:#008040">1733</span><span style="color:navy">,</span><span style="color:#008040">1049</span><span style="color:navy">,</span><span style="color:#008040">1747</span><span style="color:navy">,</span><span style="color:#008040">1050</span><span style="color:navy">,</span><span style="color:#008040">1753</span><span style="color:navy">,</span><span style="color:#008040">1051</span><span style="color:navy">,</span><span style="color:#008040">1780
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1052</span><span style="color:navy">,</span><span style="color:#008040">1793</span><span style="color:navy">,</span><span style="color:#008040">1053</span><span style="color:navy">,</span><span style="color:#008040">1812</span><span style="color:navy">,</span><span style="color:#008040">1054</span><span style="color:navy">,</span><span style="color:#008040">1846</span><span style="color:navy">,</span><span style="color:#008040">1055</span><span style="color:navy">,</span><span style="color:#008040">1881</span><span style="color:navy">,</span><span style="color:#008040">1056</span><span style="color:navy">,</span><span style="color:#008040">1891
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1057</span><span style="color:navy">,</span><span style="color:#008040">1902</span><span style="color:navy">,</span><span style="color:#008040">1059</span><span style="color:navy">,</span><span style="color:#008040">1911</span><span style="color:navy">,</span><span style="color:#008040">1060</span><span style="color:navy">,</span><span style="color:#008040">1912</span><span style="color:navy">,</span><span style="color:#008040">1061</span><span style="color:navy">,</span><span style="color:#008040">1912</span><span style="color:navy">,</span><span style="color:#008040">1063</span><span style="color:navy">,</span><span style="color:#008040">1934
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1064</span><span style="color:navy">,</span><span style="color:#008040">1933</span><span style="color:navy">,</span><span style="color:#008040">1065</span><span style="color:navy">,</span><span style="color:#008040">1932</span><span style="color:navy">,</span><span style="color:#008040">1066</span><span style="color:navy">,</span><span style="color:#008040">1931</span><span style="color:navy">,</span><span style="color:#008040">1067</span><span style="color:navy">,</span><span style="color:#008040">1930</span><span style="color:navy">,</span><span style="color:#008040">1068</span><span style="color:navy">,</span><span style="color:#008040">1928
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1069</span><span style="color:navy">,</span><span style="color:#008040">1935</span><span style="color:navy">,</span><span style="color:#008040">1070</span><span style="color:navy">,</span><span style="color:#008040">1935</span><span style="color:navy">,</span><span style="color:#008040">1071</span><span style="color:navy">,</span><span style="color:#008040">1934</span><span style="color:navy">,</span><span style="color:#008040">1072</span><span style="color:navy">,</span><span style="color:#008040">1933</span><span style="color:navy">,</span><span style="color:#008040">1073</span><span style="color:navy">,</span><span style="color:#008040">1939
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1074</span><span style="color:navy">,</span><span style="color:#008040">1945</span><span style="color:navy">,</span><span style="color:#008040">1075</span><span style="color:navy">,</span><span style="color:#008040">1951</span><span style="color:navy">,</span><span style="color:#008040">1076</span><span style="color:navy">,</span><span style="color:#008040">1953</span><span style="color:navy">,</span><span style="color:#008040">1077</span><span style="color:navy">,</span><span style="color:#008040">1952</span><span style="color:navy">,</span><span style="color:#008040">1078</span><span style="color:navy">,</span><span style="color:#008040">1956
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1079</span><span style="color:navy">,</span><span style="color:#008040">1979</span><span style="color:navy">,</span><span style="color:#008040">1080</span><span style="color:navy">,</span><span style="color:#008040">1986</span><span style="color:navy">,</span><span style="color:#008040">1081</span><span style="color:navy">,</span><span style="color:#008040">2004</span><span style="color:navy">,</span><span style="color:#008040">1082</span><span style="color:navy">,</span><span style="color:#008040">2043</span><span style="color:navy">,</span><span style="color:#008040">1083</span><span style="color:navy">,</span><span style="color:#008040">2047
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1084</span><span style="color:navy">,</span><span style="color:#008040">2046</span><span style="color:navy">,</span><span style="color:#008040">1090</span><span style="color:navy">,</span><span style="color:#008040">2058</span><span style="color:navy">,</span><span style="color:#008040">1091</span><span style="color:navy">,</span><span style="color:#008040">2068</span><span style="color:navy">,</span><span style="color:#008040">1092</span><span style="color:navy">,</span><span style="color:#008040">2078</span><span style="color:navy">,</span><span style="color:#008040">1093</span><span style="color:navy">,</span><span style="color:#008040">2088
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1094</span><span style="color:navy">,</span><span style="color:#008040">2105</span><span style="color:navy">,</span><span style="color:#008040">1095</span><span style="color:navy">,</span><span style="color:#008040">2130</span><span style="color:navy">,</span><span style="color:#008040">1096</span><span style="color:navy">,</span><span style="color:#008040">2155</span><span style="color:navy">,</span><span style="color:#008040">1097</span><span style="color:navy">,</span><span style="color:#008040">2200</span><span style="color:navy">,</span><span style="color:#008040">1098</span><span style="color:navy">,</span><span style="color:#008040">2225
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1099</span><span style="color:navy">,</span><span style="color:#008040">2250</span><span style="color:navy">,</span><span style="color:#008040">1100</span><span style="color:navy">,</span><span style="color:#008040">2268</span><span style="color:navy">,</span><span style="color:#008040">1101</span><span style="color:navy">,</span><span style="color:#008040">2302</span><span style="color:navy">,</span><span style="color:#008040">1102</span><span style="color:navy">,</span><span style="color:#008040">2313</span><span style="color:navy">,</span><span style="color:#008040">1103</span><span style="color:navy">,</span><span style="color:#008040">2367
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1104</span><span style="color:navy">,</span><span style="color:#008040">2390</span><span style="color:navy">,</span><span style="color:#008040">1105</span><span style="color:navy">,</span><span style="color:#008040">2390</span><span style="color:navy">,</span><span style="color:#008040">1200</span><span style="color:navy">,</span><span style="color:#008040">2391</span><span style="color:navy">,</span><span style="color:#008040">1300</span><span style="color:navy">,</span><span style="color:#008040">2388</span><span style="color:navy">,</span><span style="color:#008040">1320</span><span style="color:navy">,</span><span style="color:#008040">2519
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1321</span><span style="color:navy">,</span><span style="color:#008040">2579</span><span style="color:navy">,</span><span style="color:#008040">1340</span><span style="color:navy">,</span><span style="color:#008040">2688</span><span style="color:navy">,</span><span style="color:#008040">1341</span><span style="color:navy">,</span><span style="color:#008040">2776</span><span style="color:navy">,</span><span style="color:#008040">1342</span><span style="color:navy">,</span><span style="color:#008040">2871</span><span style="color:navy">,</span><span style="color:#008040">1360</span><span style="color:navy">,</span><span style="color:#008040">3013
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1400</span><span style="color:navy">,</span><span style="color:#008040">3037</span><span style="color:navy">,</span><span style="color:#008040">1401</span><span style="color:navy">,</span><span style="color:#008040">3190</span><span style="color:navy">,</span><span style="color:#008040">1402</span><span style="color:navy">,</span><span style="color:#008040">3291</span><span style="color:navy">,</span><span style="color:#008040">1403</span><span style="color:navy">,</span><span style="color:#008040">3406</span><span style="color:navy">,</span><span style="color:#008040">1404</span><span style="color:navy">,</span><span style="color:#008040">3466
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1405</span><span style="color:navy">,</span><span style="color:#008040">3579</span><span style="color:navy">,</span><span style="color:#008040">1406</span><span style="color:navy">,</span><span style="color:#008040">3690</span><span style="color:navy">,</span><span style="color:#008040">1407</span><span style="color:navy">,</span><span style="color:#008040">3753</span><span style="color:navy">,</span><span style="color:#008040">1420</span><span style="color:navy">,</span><span style="color:#008040">3885</span><span style="color:navy">,</span><span style="color:#008040">1440</span><span style="color:navy">,</span><span style="color:#008040">4020
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1441</span><span style="color:navy">,</span><span style="color:#008040">4110</span><span style="color:navy">,</span><span style="color:#008040">1460</span><span style="color:navy">,</span><span style="color:#008040">4238</span><span style="color:navy">,</span><span style="color:#008040">1461</span><span style="color:navy">,</span><span style="color:#008040">4335</span><span style="color:navy">,</span><span style="color:#008040">1462</span><span style="color:navy">,</span><span style="color:#008040">4463</span><span style="color:navy">,</span><span style="color:#008040">1480</span><span style="color:navy">,</span><span style="color:#008040">4539
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1481</span><span style="color:navy">,</span><span style="color:#008040">4673</span><span style="color:navy">,</span><span style="color:#008040">1482</span><span style="color:navy">,</span><span style="color:#008040">4700</span><span style="color:navy">,</span><span style="color:#008040">1483</span><span style="color:navy">,</span><span style="color:#008040">4777</span><span style="color:navy">,</span><span style="color:#008040">1484</span><span style="color:navy">,</span><span style="color:#008040">4863</span><span style="color:navy">,</span><span style="color:#008040">1485</span><span style="color:navy">,</span><span style="color:#008040">4986
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1486</span><span style="color:navy">,</span><span style="color:#008040">5106</span><span style="color:navy">,</span><span style="color:#008040">1487</span><span style="color:navy">,</span><span style="color:#008040">5252</span><span style="color:navy">,</span><span style="color:#008040">1488</span><span style="color:navy">,</span><span style="color:#008040">5319</span><span style="color:navy">,</span><span style="color:#008040">1489</span><span style="color:navy">,</span><span style="color:#008040">5443</span><span style="color:navy">,</span><span style="color:#008040">1490</span><span style="color:navy">,</span><span style="color:#008040">5505
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1491</span><span style="color:navy">,</span><span style="color:#008040">5529</span><span style="color:navy">,</span><span style="color:#008040">1492</span><span style="color:navy">,</span><span style="color:#008040">5608</span><span style="color:navy">,</span><span style="color:#008040">1493</span><span style="color:navy">,</span><span style="color:#008040">5751</span><span style="color:navy">,</span><span style="color:#008040">1494</span><span style="color:navy">,</span><span style="color:#008040">5770</span><span style="color:navy">,</span><span style="color:#008040">1500</span><span style="color:navy">,</span><span style="color:#008040">5796
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1520</span><span style="color:navy">,</span><span style="color:#008040">5855</span><span style="color:navy">,</span><span style="color:#008040">1540</span><span style="color:navy">,</span><span style="color:#008040">5913</span><span style="color:navy">,</span><span style="color:#008040">1541</span><span style="color:navy">,</span><span style="color:#008040">6003</span><span style="color:navy">,</span><span style="color:#008040">1542</span><span style="color:navy">,</span><span style="color:#008040">6107</span><span style="color:navy">,</span><span style="color:#008040">1560</span><span style="color:navy">,</span><span style="color:#008040">6163
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1561</span><span style="color:navy">,</span><span style="color:#008040">6215</span><span style="color:navy">,</span><span style="color:#008040">1562</span><span style="color:navy">,</span><span style="color:#008040">6336</span><span style="color:navy">,</span><span style="color:#008040">1563</span><span style="color:navy">,</span><span style="color:#008040">6380</span><span style="color:navy">,</span><span style="color:#008040">1564</span><span style="color:navy">,</span><span style="color:#008040">6419</span><span style="color:navy">,</span><span style="color:#008040">1565</span><span style="color:navy">,</span><span style="color:#008040">6477
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1566</span><span style="color:navy">,</span><span style="color:#008040">6526</span><span style="color:navy">,</span><span style="color:#008040">1567</span><span style="color:navy">,</span><span style="color:#008040">6567</span><span style="color:navy">,</span><span style="color:#008040">1568</span><span style="color:navy">,</span><span style="color:#008040">6685</span><span style="color:navy">,</span><span style="color:#008040">1580</span><span style="color:navy">,</span><span style="color:#008040">6758</span><span style="color:navy">,</span><span style="color:#008040">1600</span><span style="color:navy">,</span><span style="color:#008040">6826
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1601</span><span style="color:navy">,</span><span style="color:#008040">6851</span><span style="color:navy">,</span><span style="color:#008040">1602</span><span style="color:navy">,</span><span style="color:#008040">6931</span><span style="color:navy">,</span><span style="color:#008040">1620</span><span style="color:navy">,</span><span style="color:#008040">7088</span><span style="color:navy">,</span><span style="color:#008040">1621</span><span style="color:navy">,</span><span style="color:#008040">7172</span><span style="color:navy">,</span><span style="color:#008040">1622</span><span style="color:navy">,</span><span style="color:#008040">7298
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1640</span><span style="color:navy">,</span><span style="color:#008040">7370</span><span style="color:navy">,</span><span style="color:#008040">1641</span><span style="color:navy">,</span><span style="color:#008040">7412</span><span style="color:navy">,</span><span style="color:#008040">1660</span><span style="color:navy">,</span><span style="color:#008040">7540</span><span style="color:navy">,</span><span style="color:#008040">1680</span><span style="color:navy">,</span><span style="color:#008040">7607</span><span style="color:navy">,</span><span style="color:#008040">1700</span><span style="color:navy">,</span><span style="color:#008040">7641
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1720</span><span style="color:navy">,</span><span style="color:#008040">7815</span><span style="color:navy">,</span><span style="color:#008040">1740</span><span style="color:navy">,</span><span style="color:#008040">7894</span><span style="color:navy">,</span><span style="color:#008040">1741</span><span style="color:navy">,</span><span style="color:#008040">7982</span><span style="color:navy">,</span><span style="color:#008040">1760</span><span style="color:navy">,</span><span style="color:#008040">8093</span><span style="color:navy">,</span><span style="color:#008040">1780</span><span style="color:navy">,</span><span style="color:#008040">8166
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1800</span><span style="color:navy">,</span><span style="color:#008040">8270</span><span style="color:navy">,</span><span style="color:#008040">1801</span><span style="color:navy">,</span><span style="color:#008040">8344</span><span style="color:navy">,</span><span style="color:#008040">1820</span><span style="color:navy">,</span><span style="color:#008040">8428</span><span style="color:navy">,</span><span style="color:#008040">1821</span><span style="color:navy">,</span><span style="color:#008040">8496</span><span style="color:navy">,</span><span style="color:#008040">1840</span><span style="color:navy">,</span><span style="color:#008040">8631
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1860</span><span style="color:navy">,</span><span style="color:#008040">8702</span><span style="color:navy">,</span><span style="color:#008040">1861</span><span style="color:navy">,</span><span style="color:#008040">8789</span><span style="color:navy">,</span><span style="color:#008040">1862</span><span style="color:navy">,</span><span style="color:#008040">8856</span><span style="color:navy">,</span><span style="color:#008040">1863</span><span style="color:navy">,</span><span style="color:#008040">8978</span><span style="color:navy">,</span><span style="color:#008040">1864</span><span style="color:navy">,</span><span style="color:#008040">9137
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1865</span><span style="color:navy">,</span><span style="color:#008040">9236</span><span style="color:navy">,</span><span style="color:#008040">1866</span><span style="color:navy">,</span><span style="color:#008040">9339</span><span style="color:navy">,</span><span style="color:#008040">1880</span><span style="color:navy">,</span><span style="color:#008040">9439</span><span style="color:navy">,</span><span style="color:#008040">1881</span><span style="color:navy">,</span><span style="color:#008040">9555</span><span style="color:navy">,</span><span style="color:#008040">1882</span><span style="color:navy">,</span><span style="color:#008040">9677
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1883</span><span style="color:navy">,</span><span style="color:#008040">9760</span><span style="color:navy">,</span><span style="color:#008040">1900</span><span style="color:navy">,</span><span style="color:#008040">9919</span><span style="color:navy">,</span><span style="color:#008040">1920</span><span style="color:navy">,</span><span style="color:#008040">9939</span><span style="color:navy">,</span><span style="color:#008040">1921</span><span style="color:navy">,</span><span style="color:#008040">9983</span><span style="color:navy">,</span><span style="color:#008040">1922</span><span style="color:navy">,</span><span style="color:#008040">10137
</span><span style="color:gray">TRANGROUP:693C                 </span><span style="color:navy">dw </span><span style="color:#008040">1923</span><span style="color:navy">,</span><span style="color:#008040">10316</span><span style="color:navy">,</span><span style="color:#008040">1924</span><span style="color:navy">,</span><span style="color:#008040">10446</span><span style="color:navy">,</span><span style="color:#008040">1925</span><span style="color:navy">,</span><span style="color:#008040">10570</span><span style="color:navy">,</span><span style="color:#008040">1926</span><span style="color:navy">,</span><span style="color:#008040">10698
</span><span style="color:gray">TRANGROUP:6C1C </span>$M_ID_3_187     <span style="color:navy">dw </span><span style="color:#008040">1927                 </span>; Message Number = 1927
<span style="color:gray">TRANGROUP:6C1E                 </span><span style="color:navy">dw </span><span style="color:#008040">10782                </span>; Message offset from message number
<span style="color:gray">TRANGROUP:6C20 </span>MSG_1020        <span style="color:navy">db </span><span style="color:#008040">0Fh
</span><span style="color:gray">TRANGROUP:6C21                 </span><span style="color:navy">db '%1 bytes free',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6C30 </span>MSG_1015        <span style="color:navy">db </span><span style="color:#008040">23h
</span><span style="color:gray">TRANGROUP:6C31                 </span><span style="color:navy">db 'File cannot be copied onto itself',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6C54 </span>MSG_1004        <span style="color:navy">db </span><span style="color:#008040">19h
</span><span style="color:gray">TRANGROUP:6C55                 </span><span style="color:navy">db 'Insufficient disk space',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6C6E </span>MSG_1026        <span style="color:navy">db </span><span style="color:#008040">13h
</span><span style="color:gray">TRANGROUP:6C6F                 </span><span style="color:navy">db 'Invalid code page',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6C82 </span>MSG_1031        <span style="color:navy">db </span><span style="color:#008040">0Eh
</span><span style="color:gray">TRANGROUP:6C83                 </span><span style="color:navy">db 'Invalid date',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6C91 </span>MSG_1035        <span style="color:navy">db </span><span style="color:#008040">0Eh
</span><span style="color:gray">TRANGROUP:6C92                 </span><span style="color:navy">db 'Invalid time',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6CA0 </span>MSG_1062        <span style="color:navy">db </span><span style="color:#008040">0Eh
</span><span style="color:gray">TRANGROUP:6CA1                 </span><span style="color:navy">db 'Invalid path',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6CAF </span>MSG_1028        <span style="color:navy">db </span><span style="color:#008040">21h
</span><span style="color:gray">TRANGROUP:6CB0                 </span><span style="color:navy">db 'Press any key to continue . . .',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6CD1 </span>MSG_1045        <span style="color:navy">db </span><span style="color:#008040">1Ch
</span><span style="color:gray">TRANGROUP:6CD2                 </span><span style="color:navy">db 'Unable to create directory',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6CEE </span>MSG_1041        <span style="color:navy">db </span><span style="color:#008040">21h
</span><span style="color:gray">TRANGROUP:6CEF                 </span><span style="color:navy">db 'Volume in drive %1 has no label',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6D10 </span>MSG_1042        <span style="color:navy">db </span><span style="color:#008040">1Ah
</span><span style="color:gray">TRANGROUP:6D11                 </span><span style="color:navy">db 'Volume in drive %1 is %2',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6D2B </span>MSG_1043        <span style="color:navy">db </span><span style="color:#008040">1Fh
</span><span style="color:gray">TRANGROUP:6D2C                 </span><span style="color:navy">db 'Volume Serial Number is %1-%2',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6D4B </span>MSG_1002        <span style="color:navy">db </span><span style="color:#008040">27h
</span><span style="color:gray">TRANGROUP:6D4C                 </span><span style="color:navy">db 'Duplicate file name or file not found',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6D73 </span>MSG_1003        <span style="color:navy">db </span><span style="color:#008040">1Bh
</span><span style="color:gray">TRANGROUP:6D74                 </span><span style="color:navy">db 'Invalid path or file name',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6D8F </span>MSG_1007        <span style="color:navy">db </span><span style="color:#008040">1Ah
</span><span style="color:gray">TRANGROUP:6D90                 </span><span style="color:navy">db 'Out of environment space',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6DAA </span>MSG_1008        <span style="color:navy">db </span><span style="color:#008040">15h
</span><span style="color:gray">TRANGROUP:6DAB                 </span><span style="color:navy">db 'File creation error',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6DC0 </span>MSG_1009        <span style="color:navy">db </span><span style="color:#008040">14h
</span><span style="color:gray">TRANGROUP:6DC1                 </span><span style="color:navy">db 'Batch file missing',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6DD5 </span>MSG_1010        <span style="color:navy">db </span><span style="color:#008040">1Fh
</span><span style="color:gray">TRANGROUP:6DD6                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:6DD6                 </span><span style="color:navy">db 'Insert disk with batch file',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6DF5 </span>MSG_1011        <span style="color:navy">db </span><span style="color:#008040">1Ah
</span><span style="color:gray">TRANGROUP:6DF6                 </span><span style="color:navy">db 'Bad command or file name',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6E10 </span>MSG_1014        <span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:6E11                 </span><span style="color:navy">db 'Access denied ',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6E21 </span>MSG_1016        <span style="color:navy">db </span><span style="color:#008040">29h
</span><span style="color:gray">TRANGROUP:6E22                 </span><span style="color:navy">db 'Content of destination lost before copy',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6E4B </span>MSG_1017        <span style="color:navy">db </span><span style="color:#008040">24h
</span><span style="color:gray">TRANGROUP:6E4C                 </span><span style="color:navy">db 'Invalid filename or file not found',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6E70                 </span><span style="color:navy">db </span><span style="color:#008040">13h
</span><span style="color:gray">TRANGROUP:6E71                 </span><span style="color:navy">db '%1 file(s) copied',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6E84                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:6E85                 </span><span style="color:navy">db '%1 file(s) '
</span><span style="color:gray">TRANGROUP:6E90                 </span><span style="color:navy">db </span><span style="color:#008040">1Dh
</span><span style="color:gray">TRANGROUP:6E91                 </span><span style="color:navy">db 'Invalid drive specification',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6EAE                 </span><span style="color:navy">db </span><span style="color:#008040">26h
</span><span style="color:gray">TRANGROUP:6EAF                 </span><span style="color:navy">db 'Code page %1 not prepared for system',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6ED5                 </span><span style="color:navy">db </span><span style="color:#008040">2Bh
</span><span style="color:gray">TRANGROUP:6ED6                 </span><span style="color:navy">db 'Code page %1 not prepared for all devices',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6F01                 </span><span style="color:navy">db </span><span style="color:#008040">16h
</span><span style="color:gray">TRANGROUP:6F02                 </span><span style="color:navy">db 'Active code page: %1',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6F18                 </span><span style="color:navy">db </span><span style="color:#008040">17h
</span><span style="color:gray">TRANGROUP:6F19                 </span><span style="color:navy">db 'NLSFUNC not installed',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6F30                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:6F31                 </span><span style="color:navy">db 'Current drive is no longer valid'
</span><span style="color:gray">TRANGROUP:6F51                 </span><span style="color:navy">db </span><span style="color:#008040">11h
</span><span style="color:gray">TRANGROUP:6F52                 </span><span style="color:navy">db 'Label not found',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6F63                 </span><span style="color:navy">db </span><span style="color:#008040">0Eh
</span><span style="color:gray">TRANGROUP:6F64                 </span><span style="color:navy">db 'Syntax error',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6F72                 </span><span style="color:navy">db </span><span style="color:#008040">17h
</span><span style="color:gray">TRANGROUP:6F73                 </span><span style="color:navy">db 'Current date is %1 %2',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6F8A                 </span><span style="color:navy">db </span><span style="color:#008040">15h
</span><span style="color:gray">TRANGROUP:6F8B                 </span><span style="color:navy">db 'SunMonTueWedThuFriSat'
</span><span style="color:gray">TRANGROUP:6FA0                 </span><span style="color:navy">db </span><span style="color:#008040">15h
</span><span style="color:gray">TRANGROUP:6FA1                 </span><span style="color:navy">db 'Enter new date (%1): '
</span><span style="color:gray">TRANGROUP:6FB6                 </span><span style="color:navy">db </span><span style="color:#008040">14h
</span><span style="color:gray">TRANGROUP:6FB7                 </span><span style="color:navy">db 'Current time is %1',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6FCB                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:6FCC                 </span><span style="color:navy">db 'Enter new time: '
</span><span style="color:gray">TRANGROUP:6FDC                 </span><span style="color:navy">db </span><span style="color:#008040">12h
</span><span style="color:gray">TRANGROUP:6FDD                 </span><span style="color:navy">db ',    Delete (Y/N)?'
</span><span style="color:gray">TRANGROUP:6FEF                 </span><span style="color:navy">db </span><span style="color:#008040">3Ch
</span><span style="color:gray">TRANGROUP:6FF0                 </span><span style="color:navy">db 'All files in directory will be deleted!',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:6FF0                 </span><span style="color:navy">db 'Are you sure (Y/N)?'
</span><span style="color:gray">TRANGROUP:702C                 </span><span style="color:navy">db </span><span style="color:#008040">14h
</span><span style="color:gray">TRANGROUP:702D                 </span><span style="color:navy">db 'MS-DOS Version %1.%2'
</span><span style="color:gray">TRANGROUP:7041                 </span><span style="color:navy">db </span><span style="color:#008040">13h
</span><span style="color:gray">TRANGROUP:7042                 </span><span style="color:navy">db 'Invalid directory',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7055                 </span><span style="color:navy">db </span><span style="color:#008040">36h
</span><span style="color:gray">TRANGROUP:7056                 </span><span style="color:navy">db 'Invalid path, not directory,',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7056                 </span><span style="color:navy">db 'or directory not empty',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:708C                 </span><span style="color:navy">db </span><span style="color:#008040">18h
</span><span style="color:gray">TRANGROUP:708D                 </span><span style="color:navy">db 'Must specify ON or OFF',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:70A5                 </span><span style="color:navy">db </span><span style="color:#008040">11h
</span><span style="color:gray">TRANGROUP:70A6                 </span><span style="color:navy">db 'Directory of %1',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:70B7                 </span><span style="color:navy">db </span><span style="color:#008040">9
</span><span style="color:gray">TRANGROUP:70B8                 </span><span style="color:navy">db 'No Path',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:70C1                 </span><span style="color:navy">db </span><span style="color:#008040">1Eh
</span><span style="color:gray">TRANGROUP:70C2                 </span><span style="color:navy">db 'Invalid drive in search path',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:70E0                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:70E1                 </span><span style="color:navy">db 'Invalid device',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:70F1                 </span><span style="color:navy">db </span><span style="color:#008040">16h
</span><span style="color:gray">TRANGROUP:70F2                 </span><span style="color:navy">db 'FOR cannot be nested',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7108                 </span><span style="color:navy">db </span><span style="color:#008040">25h
</span><span style="color:gray">TRANGROUP:7109                 </span><span style="color:navy">db 'Intermediate file error during pipe',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:712E                 </span><span style="color:navy">db </span><span style="color:#008040">26h
</span><span style="color:gray">TRANGROUP:712F                 </span><span style="color:navy">db 'Cannot do binary reads from a device',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7155 </span>MSG_1055        <span style="color:navy">db </span><span style="color:#008040">0Dh
</span><span style="color:gray">TRANGROUP:7156                 </span><span style="color:navy">db 'BREAK is %1',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7163                 </span><span style="color:navy">db </span><span style="color:#008040">0Eh
</span><span style="color:gray">TRANGROUP:7164                 </span><span style="color:navy">db 'VERIFY is %1',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7172                 </span><span style="color:navy">db </span><span style="color:#008040">0Ch
</span><span style="color:gray">TRANGROUP:7173                 </span><span style="color:navy">db 'ECHO is %1',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:717F                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:7180                 </span><span style="color:navy">db 'off',0
</span><span style="color:gray">TRANGROUP:7184                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:7185                 </span><span style="color:navy">db 'on',0
</span><span style="color:gray">TRANGROUP:7188 </span>MSG_1061        <span style="color:navy">db </span><span style="color:#008040">19h
</span><span style="color:gray">TRANGROUP:7189                 </span><span style="color:navy">db 'Error writing to device',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:71A2 </span>MSG_1063        <span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:71A3                 </span><span style="color:navy">db '%1'
</span><span style="color:gray">TRANGROUP:71A5                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:71A6                 </span><span style="color:navy">db '%1'
</span><span style="color:gray">TRANGROUP:71A8                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:71A9                 </span><span style="color:navy">db '%1'
</span><span style="color:gray">TRANGROUP:71AB                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:71AC                 </span><span style="color:navy">db '%1'
</span><span style="color:gray">TRANGROUP:71AE </span>MSG_1067        <span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:71AF                 </span><span style="color:navy">db </span><span style="color:#008040">9
</span><span style="color:gray">TRANGROUP:71B0 </span>MSG_1068        <span style="color:navy">db </span><span style="color:#008040">10
</span><span style="color:gray">TRANGROUP:71B1                 </span><span style="color:navy">db ' &lt;DIR&gt;    '
</span><span style="color:gray">TRANGROUP:71BB                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:71BC                 </span><span style="color:navy">db    </span><span style="color:#008040">8</span><span style="color:navy">, </span><span style="color:#008040">20h</span><span style="color:navy">,   </span><span style="color:#008040">8
</span><span style="color:gray">TRANGROUP:71BF </span>MSG_1070        <span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:71C0                 </span><span style="color:navy">db  </span><span style="color:#008040">0Dh</span><span style="color:navy">, </span><span style="color:#008040">0Ah
</span><span style="color:gray">TRANGROUP:71C2                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:71C3                 </span><span style="color:navy">db '%1'
</span><span style="color:gray">TRANGROUP:71C5 </span>MSG_1072        <span style="color:navy">db </span><span style="color:#008040">9
</span><span style="color:gray">TRANGROUP:71C6                 </span><span style="color:navy">db 'mm-dd-yy',0
</span><span style="color:gray">TRANGROUP:71CF </span>MSG_1073        <span style="color:navy">db </span><span style="color:#008040">9
</span><span style="color:gray">TRANGROUP:71D0                 </span><span style="color:navy">db 'dd-mm-yy',0
</span><span style="color:gray">TRANGROUP:71D9 </span>MSG_1074        <span style="color:navy">db </span><span style="color:#008040">9
</span><span style="color:gray">TRANGROUP:71DA                 </span><span style="color:navy">db 'yy-mm-dd',0
</span><span style="color:gray">TRANGROUP:71E3 </span>MSG_1075        <span style="color:navy">db </span><span style="color:#008040">5
</span><span style="color:gray">TRANGROUP:71E4                 </span><span style="color:navy">db '%1 %2'
</span><span style="color:gray">TRANGROUP:71E9                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:71EA                 </span><span style="color:navy">db '%1'
</span><span style="color:gray">TRANGROUP:71EC                 </span><span style="color:navy">db </span><span style="color:#008040">7
</span><span style="color:gray">TRANGROUP:71ED                 </span><span style="color:navy">db ' %1  %2'
</span><span style="color:gray">TRANGROUP:71F4 </span>MSG_1078        <span style="color:navy">db </span><span style="color:#008040">1Ah
</span><span style="color:gray">TRANGROUP:71F5                 </span><span style="color:navy">db 'Directory already exists',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:720F </span>MSG_1079        <span style="color:navy">db </span><span style="color:#008040">10
</span><span style="color:gray">TRANGROUP:7210                 </span><span style="color:navy">db '%1 bytes',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:721A </span>MSG_1080        <span style="color:navy">db </span><span style="color:#008040">15h
</span><span style="color:gray">TRANGROUP:721B                 </span><span style="color:navy">db 'Total files listed:',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7230                 </span><span style="color:navy">db </span><span style="color:#008040">2Ah
</span><span style="color:gray">TRANGROUP:7231                 </span><span style="color:navy">db '(Error occurred in environment variable)',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:725B </span>MSG_1082        <span style="color:navy">db </span><span style="color:#008040">7
</span><span style="color:gray">TRANGROUP:725C                 </span><span style="color:navy">db ' [Y/N]?'
</span><span style="color:gray">TRANGROUP:7263 </span>MSG_1083        <span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:7264                 </span><span style="color:navy">db 'YN'
</span><span style="color:gray">TRANGROUP:7266 </span>MSG_1084        <span style="color:navy">db </span><span style="color:#008040">0Fh
</span><span style="color:gray">TRANGROUP:7267                 </span><span style="color:navy">db '(continuing %1)'
</span><span style="color:gray">TRANGROUP:7276                 </span><span style="color:navy">db </span><span style="color:#008040">0Dh
</span><span style="color:gray">TRANGROUP:7277                 </span><span style="color:navy">db 'Revision %1',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7284                 </span><span style="color:navy">db </span><span style="color:#008040">0Dh
</span><span style="color:gray">TRANGROUP:7285                 </span><span style="color:navy">db 'DOS is in ROM'
</span><span style="color:gray">TRANGROUP:7292                 </span><span style="color:navy">db </span><span style="color:#008040">0Dh
</span><span style="color:gray">TRANGROUP:7293                 </span><span style="color:navy">db 'DOS is in HMA'
</span><span style="color:gray">TRANGROUP:72A0                 </span><span style="color:navy">db </span><span style="color:#008040">14h
</span><span style="color:gray">TRANGROUP:72A1                 </span><span style="color:navy">db 'DOS is in low memory'
</span><span style="color:gray">TRANGROUP:72B5                 </span><span style="color:navy">db </span><span style="color:#008040">1Ch
</span><span style="color:gray">TRANGROUP:72B6                 </span><span style="color:navy">db 'Cannot Loadhigh batch file',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:72D2 </span>MSG_1095        <span style="color:navy">db </span><span style="color:#008040">28
</span><span style="color:gray">TRANGROUP:72D3                 </span><span style="color:navy">db 'LoadHigh: Invalid filename',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:72EF                 </span><span style="color:navy">db </span><span style="color:#008040">30h
</span><span style="color:gray">TRANGROUP:72F0                 </span><span style="color:navy">db 'Cannot open specified country information file',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7320 </span>MSG_1097        <span style="color:navy">db </span><span style="color:#008040">28
</span><span style="color:gray">TRANGROUP:7321                 </span><span style="color:navy">db 'LoadHigh: Invalid argument',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:733D </span>MSG_1098        <span style="color:navy">db </span><span style="color:#008040">28
</span><span style="color:gray">TRANGROUP:733E                 </span><span style="color:navy">db 'Required parameter missing',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:735A                 </span><span style="color:navy">db </span><span style="color:#008040">21
</span><span style="color:gray">TRANGROUP:735B                 </span><span style="color:navy">db 'Unrecognized switch',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7370                 </span><span style="color:navy">db </span><span style="color:#008040">37
</span><span style="color:gray">TRANGROUP:7371                 </span><span style="color:navy">db 'A bad UMB number has been specified',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7396 </span>MSG_1101        <span style="color:navy">db </span><span style="color:#008040">14
</span><span style="color:gray">TRANGROUP:7397                 </span><span style="color:navy">db '  %1.%2 to 1.0'
</span><span style="color:gray">TRANGROUP:73A5 </span>MSG_1102        <span style="color:navy">db </span><span style="color:#008040">57
</span><span style="color:gray">TRANGROUP:73A6                 </span><span style="color:navy">db '                 %1.%2 to 1.0 average compression ratio',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:73DF </span>MSG_1103        <span style="color:navy">db </span><span style="color:#008040">26
</span><span style="color:gray">TRANGROUP:73E0                 </span><span style="color:navy">db 'Overwrite %1 (Yes/No/All)?'
</span><span style="color:gray">TRANGROUP:73FA </span>MSG_1104        <span style="color:navy">db </span><span style="color:#008040">3                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:73FB </span>_Y_es           <span style="color:navy">db </span><span style="color:green">'Y'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:73FC </span>_N_o            <span style="color:navy">db </span><span style="color:green">'N'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:73FD </span>_A_ll           <span style="color:navy">db </span><span style="color:green">'A'                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:73FE </span>MSG_1105        <span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:73FF                 </span><span style="color:navy">db '    '
</span><span style="color:gray">TRANGROUP:7403 </span>MSG_1200        <span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:7404 </span>MSG_1300        <span style="color:navy">db </span><span style="color:#008040">86h
</span><span style="color:gray">TRANGROUP:7405                 </span><span style="color:navy">db 'Sets or clears extended CTRL+C checking.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7405                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7405                 </span><span style="color:navy">db 'BREAK [ON | OFF]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7405                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7405                 </span><span style="color:navy">db 'Type BREAK without a parameter to display the current BREAK setti'
</span><span style="color:gray">TRANGROUP:7405                 </span><span style="color:navy">db 'ng.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:748B                 </span><span style="color:navy">db </span><span style="color:#008040">3Fh
</span><span style="color:gray">TRANGROUP:748C                 </span><span style="color:navy">db 'Displays or sets the active code page number.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:748C                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:748C                 </span><span style="color:navy">db 'CHCP [nnn]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:748C                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:74CB                 </span><span style="color:navy">db </span><span style="color:#008040">70h
</span><span style="color:gray">TRANGROUP:74CC                 </span><span style="color:navy">db '  nnn   Specifies a code page number.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:74CC                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:74CC                 </span><span style="color:navy">db 'Type CHCP without a parameter to display the active code page num'
</span><span style="color:gray">TRANGROUP:74CC                 </span><span style="color:navy">db 'ber.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:753C                 </span><span style="color:navy">db </span><span style="color:#008040">5Bh
</span><span style="color:gray">TRANGROUP:753D                 </span><span style="color:navy">db 'Displays the name of or changes the current directory.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:753D                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:753D                 </span><span style="color:navy">db 'CHDIR [drive:][path]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:753D                 </span><span style="color:navy">db 'CHDIR[..]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7598                 </span><span style="color:navy">db </span><span style="color:#008040">62h
</span><span style="color:gray">TRANGROUP:7599                 </span><span style="color:navy">db 'CD [drive:][path]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7599                 </span><span style="color:navy">db 'CD[..]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7599                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7599                 </span><span style="color:navy">db '  ..   Specifies that you want to change to the parent directory.'
</span><span style="color:gray">TRANGROUP:7599                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7599                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:75FB                 </span><span style="color:navy">db </span><span style="color:#008040">91h
</span><span style="color:gray">TRANGROUP:75FC                 </span><span style="color:navy">db 'Type CD drive: to display the current directory in the specified '
</span><span style="color:gray">TRANGROUP:75FC                 </span><span style="color:navy">db 'drive.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:75FC                 </span><span style="color:navy">db 'Type CD without parameters to display the current drive and direc'
</span><span style="color:gray">TRANGROUP:75FC                 </span><span style="color:navy">db 'tory.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:768D                 </span><span style="color:navy">db </span><span style="color:#008040">1Bh
</span><span style="color:gray">TRANGROUP:768E                 </span><span style="color:navy">db 'Clears the screen.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:768E                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:768E                 </span><span style="color:navy">db 'CLS',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:76A9 </span>MSG_1400        <span style="color:navy">db </span><span style="color:#008040">156
</span><span style="color:gray">TRANGROUP:76AA                 </span><span style="color:navy">db 'Copies one or more files to another location.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:76AA                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:76AA                 </span><span style="color:navy">db 'COPY [/A | /B] source [/A | /B] [+ source [/A | /B] [+ ...]] [des'
</span><span style="color:gray">TRANGROUP:76AA                 </span><span style="color:navy">db 'tination',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:76AA                 </span><span style="color:navy">db '  [/A | /B]] [/V] [/Y | /-Y]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:76AA                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7746                 </span><span style="color:navy">db </span><span style="color:#008040">68h
</span><span style="color:gray">TRANGROUP:7747                 </span><span style="color:navy">db '  source       Specifies the file or files to be copied.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7747                 </span><span style="color:navy">db '  /A           Indicates an ASCII text file.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:77AF                 </span><span style="color:navy">db </span><span style="color:#008040">76h
</span><span style="color:gray">TRANGROUP:77B0                 </span><span style="color:navy">db '  /B           Indicates a binary file.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:77B0                 </span><span style="color:navy">db '  destination  Specifies the directory and/or filename for the ne'
</span><span style="color:gray">TRANGROUP:77B0                 </span><span style="color:navy">db 'w file(s).',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7826 </span>MSG_1403        <span style="color:navy">db </span><span style="color:#008040">63
</span><span style="color:gray">TRANGROUP:7827                 </span><span style="color:navy">db '  /V           Verifies that new files are written correctly.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7866 </span>MSG_1404        <span style="color:navy">db </span><span style="color:#008040">116
</span><span style="color:gray">TRANGROUP:7867                 </span><span style="color:navy">db '  /Y           Suppresses prompting to confirm you want to overwr'
</span><span style="color:gray">TRANGROUP:7867                 </span><span style="color:navy">db 'ite an',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7867                 </span><span style="color:navy">db '               existing destination file.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:78DB </span>MSG_1405        <span style="color:navy">db </span><span style="color:#008040">114
</span><span style="color:gray">TRANGROUP:78DC                 </span><span style="color:navy">db '  /-Y          Causes prompting to confirm you want to overwrite '
</span><span style="color:gray">TRANGROUP:78DC                 </span><span style="color:navy">db 'an',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:78DC                 </span><span style="color:navy">db '               existing destination file.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:78DC                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:794E </span>MSG_1406        <span style="color:navy">db </span><span style="color:#008040">66
</span><span style="color:gray">TRANGROUP:794F                 </span><span style="color:navy">db 'The switch /Y may be preset in the COPYCMD environment variable.',0Dh
</span><span style="color:gray">TRANGROUP:794F                 </span><span style="color:navy">db </span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7991 </span>MSG_1407        <span style="color:navy">db </span><span style="color:#008040">135
</span><span style="color:gray">TRANGROUP:7992                 </span><span style="color:navy">db 'To append files, specify a single file for destination, but multi'
</span><span style="color:gray">TRANGROUP:7992                 </span><span style="color:navy">db 'ple files',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7992                 </span><span style="color:navy">db 'for source (using wildcards or file1+file2+file3 format).',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7A19 </span>MSG_1420        <span style="color:navy">db </span><span style="color:#008040">8Ah
</span><span style="color:gray">TRANGROUP:7A1A                 </span><span style="color:navy">db 'Changes the terminal device used to control your system.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7A1A                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7A1A                 </span><span style="color:navy">db 'CTTY device',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7A1A                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7A1A                 </span><span style="color:navy">db '  device   The terminal device you want to use, such as COM1.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7AA4 </span>MSG_1440        <span style="color:navy">db </span><span style="color:#008040">93
</span><span style="color:gray">TRANGROUP:7AA5                 </span><span style="color:navy">db 'Displays or sets the date.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7AA5                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7AA5                 </span><span style="color:navy">db 'DATE [mm-dd-yy]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7AA5                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7AA5                 </span><span style="color:navy">db '  mm-dd-yy    Sets the date you specify.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7AA5                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7B02                 </span><span style="color:navy">db </span><span style="color:#008040">83h
</span><span style="color:gray">TRANGROUP:7B03                 </span><span style="color:navy">db 'Type DATE without parameters to display the current date setting '
</span><span style="color:gray">TRANGROUP:7B03                 </span><span style="color:navy">db 'and',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7B03                 </span><span style="color:navy">db 'a prompt for a new one.  Press ENTER to keep the same date.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7B86 </span>MSG_1460        <span style="color:navy">db </span><span style="color:#008040">64h
</span><span style="color:gray">TRANGROUP:7B87                 </span><span style="color:navy">db 'Deletes one or more files.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7B87                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7B87                 </span><span style="color:navy">db 'DEL [drive:][path]filename [/P]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7B87                 </span><span style="color:navy">db 'ERASE [drive:][path]filename [/P]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7B87                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7BEB                 </span><span style="color:navy">db </span><span style="color:#008040">83h
</span><span style="color:gray">TRANGROUP:7BEC                 </span><span style="color:navy">db '  [drive:][path]filename  Specifies the file(s) to delete.  Speci'
</span><span style="color:gray">TRANGROUP:7BEC                 </span><span style="color:navy">db 'fy multiple',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7BEC                 </span><span style="color:navy">db '                          files by using wildcards.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7C6F                 </span><span style="color:navy">db </span><span style="color:#008040">4Fh
</span><span style="color:gray">TRANGROUP:7C70                 </span><span style="color:navy">db '  /P                      Prompts for confirmation before deletin'
</span><span style="color:gray">TRANGROUP:7C70                 </span><span style="color:navy">db 'g each file.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7CBF </span>MSG_1480        <span style="color:navy">db </span><span style="color:#008040">137
</span><span style="color:gray">TRANGROUP:7CC0                 </span><span style="color:navy">db 'Displays a list of files and subdirectories in a directory.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7CC0                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7CC0                 </span><span style="color:navy">db 'DIR [drive:][path][filename] [/P] [/W] [/A[[:]attribs]] [/O[[:]so'
</span><span style="color:gray">TRANGROUP:7CC0                 </span><span style="color:navy">db 'rtord]]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7D49                 </span><span style="color:navy">db </span><span style="color:#008040">30
</span><span style="color:gray">TRANGROUP:7D4A                 </span><span style="color:navy">db '    [/S] [/B] [/L] [/C[H]]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7D4A                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:7D68                 </span><span style="color:navy">db </span><span style="color:#008040">80
</span><span style="color:gray">TRANGROUP:7D69                 </span><span style="color:navy">db '  [drive:][path][filename]   Specifies drive, directory, and/or f'
</span><span style="color:gray">TRANGROUP:7D69                 </span><span style="color:navy">db 'iles to list.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7DB9                 </span><span style="color:navy">db </span><span style="color:#008040">89
</span><span style="color:gray">TRANGROUP:7DBA                 </span><span style="color:navy">db '  /P      Pauses after each screenful of information.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7DBA                 </span><span style="color:navy">db '  /W      Uses wide list format.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7E13                 </span><span style="color:navy">db </span><span style="color:#008040">126
</span><span style="color:gray">TRANGROUP:7E14                 </span><span style="color:navy">db '  /A      Displays files with specified attributes.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7E14                 </span><span style="color:navy">db '  attribs   D  Directories   R  Read-only files         H  Hidden'
</span><span style="color:gray">TRANGROUP:7E14                 </span><span style="color:navy">db ' files',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7E92 </span>MSG_1485        <span style="color:navy">db </span><span style="color:#008040">123
</span><span style="color:gray">TRANGROUP:7E93                 </span><span style="color:navy">db '            S  System files  A  Files ready to archive  -  Prefix'
</span><span style="color:gray">TRANGROUP:7E93                 </span><span style="color:navy">db ' meaning &quot;not&quot;',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7E93                 </span><span style="color:navy">db '  /O      List by files in sorted order.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7F0E                 </span><span style="color:navy">db </span><span style="color:#008040">149
</span><span style="color:gray">TRANGROUP:7F0F                 </span><span style="color:navy">db '  sortord   N  By name (alphabetic)       S  By size (smallest fi'
</span><span style="color:gray">TRANGROUP:7F0F                 </span><span style="color:navy">db 'rst)',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7F0F                 </span><span style="color:navy">db '            E  By extension (alphabetic)  D  By date &amp; time (earl'
</span><span style="color:gray">TRANGROUP:7F0F                 </span><span style="color:navy">db 'iest first)',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7FA4 </span>MSG_1487        <span style="color:navy">db </span><span style="color:#008040">70
</span><span style="color:gray">TRANGROUP:7FA5                 </span><span style="color:navy">db '            G  Group directories first    -  Prefix to reverse or'
</span><span style="color:gray">TRANGROUP:7FA5                 </span><span style="color:navy">db 'der',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7FEB                 </span><span style="color:navy">db </span><span style="color:#008040">127
</span><span style="color:gray">TRANGROUP:7FEC                 </span><span style="color:navy">db '            C  By compression ratio (smallest first)',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:7FEC                 </span><span style="color:navy">db '  /S      Displays files in specified directory and all subdirect'
</span><span style="color:gray">TRANGROUP:7FEC                 </span><span style="color:navy">db 'ories.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:806B                 </span><span style="color:navy">db </span><span style="color:#008040">65
</span><span style="color:gray">TRANGROUP:806C                 </span><span style="color:navy">db '  /B      Uses bare format (no heading information or summary).',0Dh
</span><span style="color:gray">TRANGROUP:806C                 </span><span style="color:navy">db </span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:80AD </span>MSG_1490        <span style="color:navy">db </span><span style="color:#008040">27
</span><span style="color:gray">TRANGROUP:80AE                 </span><span style="color:navy">db '  /L      Uses lowercase.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:80C9                 </span><span style="color:navy">db </span><span style="color:#008040">82
</span><span style="color:gray">TRANGROUP:80CA                 </span><span style="color:navy">db '  /C[H]   Displays file compression ratio; /CH uses host allocati'
</span><span style="color:gray">TRANGROUP:80CA                 </span><span style="color:navy">db 'on unit size.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:80CA                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:811C </span>MSG_1492        <span style="color:navy">db </span><span style="color:#008040">146
</span><span style="color:gray">TRANGROUP:811D                 </span><span style="color:navy">db 'Switches may be preset in the DIRCMD environment variable.  Overr'
</span><span style="color:gray">TRANGROUP:811D                 </span><span style="color:navy">db 'ide',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:811D                 </span><span style="color:navy">db 'preset switches by prefixing any switch with - (hyphen)--for exam'
</span><span style="color:gray">TRANGROUP:811D                 </span><span style="color:navy">db 'ple, /-W.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:81AF                 </span><span style="color:navy">db </span><span style="color:#008040">22
</span><span style="color:gray">TRANGROUP:81B0                 </span><span style="color:navy">db '    [/S] [/B] [/L]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:81B0                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:81C6 </span>MSG_1494        <span style="color:navy">db </span><span style="color:#008040">29
</span><span style="color:gray">TRANGROUP:81C7                 </span><span style="color:navy">db '  /L      Uses lowercase.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:81C7                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:81E4 </span>MSG_1500        <span style="color:navy">db </span><span style="color:#008040">3Eh
</span><span style="color:gray">TRANGROUP:81E5                 </span><span style="color:navy">db 'Quits the COMMAND.COM program (command interpreter).',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:81E5                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:81E5                 </span><span style="color:navy">db 'EXIT',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8223 </span>MSG_1520        <span style="color:navy">db </span><span style="color:#008040">3Dh
</span><span style="color:gray">TRANGROUP:8224                 </span><span style="color:navy">db 'Creates a directory.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8224                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8224                 </span><span style="color:navy">db 'MKDIR [drive:]path',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8224                 </span><span style="color:navy">db 'MD [drive:]path',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8261 </span>MSG_1540        <span style="color:navy">db </span><span style="color:#008040">5Dh
</span><span style="color:gray">TRANGROUP:8262                 </span><span style="color:navy">db 'Displays or sets a search path for executable files.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8262                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8262                 </span><span style="color:navy">db 'PATH [[drive:]path[;...]]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8262                 </span><span style="color:navy">db 'PATH ;',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8262                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:82BF                 </span><span style="color:navy">db </span><span style="color:#008040">6Bh
</span><span style="color:gray">TRANGROUP:82C0                 </span><span style="color:navy">db 'Type PATH ; to clear all search-path settings and direct MS-DOS t'
</span><span style="color:gray">TRANGROUP:82C0                 </span><span style="color:navy">db 'o search',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:82C0                 </span><span style="color:navy">db 'only in the current directory.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:832B                 </span><span style="color:navy">db </span><span style="color:#008040">3Bh
</span><span style="color:gray">TRANGROUP:832C                 </span><span style="color:navy">db 'Type PATH without parameters to display the current path.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8367 </span>MSG_1560        <span style="color:navy">db </span><span style="color:#008040">37h
</span><span style="color:gray">TRANGROUP:8368                 </span><span style="color:navy">db 'Changes the MS-DOS command prompt.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8368                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8368                 </span><span style="color:navy">db 'PROMPT [text]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8368                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:839F                 </span><span style="color:navy">db </span><span style="color:#008040">7Ch
</span><span style="color:gray">TRANGROUP:83A0                 </span><span style="color:navy">db '  text    Specifies a new command prompt.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:83A0                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:83A0                 </span><span style="color:navy">db 'Prompt can be made up of normal characters and the following spec'
</span><span style="color:gray">TRANGROUP:83A0                 </span><span style="color:navy">db 'ial codes:',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:83A0                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:841C                 </span><span style="color:navy">db </span><span style="color:#008040">2Fh
</span><span style="color:gray">TRANGROUP:841D                 </span><span style="color:navy">db '  $Q   = (equal sign)',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:841D                 </span><span style="color:navy">db '  $$   $ (dollar sign)',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:844C                 </span><span style="color:navy">db </span><span style="color:#008040">2Ah
</span><span style="color:gray">TRANGROUP:844D                 </span><span style="color:navy">db '  $T   Current time',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:844D                 </span><span style="color:navy">db '  $D   Current date',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8477                 </span><span style="color:navy">db </span><span style="color:#008040">3Dh
</span><span style="color:gray">TRANGROUP:8478                 </span><span style="color:navy">db '  $P   Current drive and path',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8478                 </span><span style="color:navy">db '  $V   MS-DOS version number',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:84B5 </span>MSG_1565        <span style="color:navy">db </span><span style="color:#008040">34h
</span><span style="color:gray">TRANGROUP:84B6                 </span><span style="color:navy">db '  $N   Current drive',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:84B6                 </span><span style="color:navy">db '  $G   &gt; (greater-than sign)',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:84EA                 </span><span style="color:navy">db </span><span style="color:#008040">2Ch
</span><span style="color:gray">TRANGROUP:84EB                 </span><span style="color:navy">db '  $L   &lt; (less-than sign)',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:84EB                 </span><span style="color:navy">db '  $B   | (pipe)',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8517                 </span><span style="color:navy">db </span><span style="color:#008040">79h
</span><span style="color:gray">TRANGROUP:8518                 </span><span style="color:navy">db '  $H   Backspace (erases previous character)',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8518                 </span><span style="color:navy">db '  $E   Escape code (ASCII code 27)',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8518                 </span><span style="color:navy">db '  $_   Carriage return and linefeed',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8518                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8591                 </span><span style="color:navy">db </span><span style="color:#008040">4Ch
</span><span style="color:gray">TRANGROUP:8592                 </span><span style="color:navy">db 'Type PROMPT without parameters to reset the prompt to the default'
</span><span style="color:gray">TRANGROUP:8592                 </span><span style="color:navy">db ' setting.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:85DE </span>MSG_1580        <span style="color:navy">db </span><span style="color:#008040">47h
</span><span style="color:gray">TRANGROUP:85DF                 </span><span style="color:navy">db 'Removes (deletes) a directory.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:85DF                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:85DF                 </span><span style="color:navy">db 'RMDIR [drive:]path',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:85DF                 </span><span style="color:navy">db 'RD [drive:]path',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8626 </span>MSG_1600        <span style="color:navy">db </span><span style="color:#008040">1Ch
</span><span style="color:gray">TRANGROUP:8627                 </span><span style="color:navy">db 'Renames a file or files.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8627                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8643                 </span><span style="color:navy">db </span><span style="color:#008040">53h
</span><span style="color:gray">TRANGROUP:8644                 </span><span style="color:navy">db 'RENAME [drive:][path]filename1 filename2',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8644                 </span><span style="color:navy">db 'REN [drive:][path]filename1 filename2',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8644                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8697 </span>MSG_1602        <span style="color:navy">db </span><span style="color:#008040">160
</span><span style="color:gray">TRANGROUP:8698                 </span><span style="color:navy">db 'Note that you cannot specify a new drive or path for your destina'
</span><span style="color:gray">TRANGROUP:8698                 </span><span style="color:navy">db 'tion file.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8698                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8698                 </span><span style="color:navy">db 'Use MOVE to rename a directory, or to move files from one directo'
</span><span style="color:gray">TRANGROUP:8698                 </span><span style="color:navy">db 'ry to another.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8738 </span>MSG_1620        <span style="color:navy">db </span><span style="color:#008040">57h
</span><span style="color:gray">TRANGROUP:8739                 </span><span style="color:navy">db 'Displays, sets, or removes MS-DOS environment variables.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8739                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8739                 </span><span style="color:navy">db 'SET [variable=[string]]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8739                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8790                 </span><span style="color:navy">db </span><span style="color:#008040">81h
</span><span style="color:gray">TRANGROUP:8791                 </span><span style="color:navy">db '  variable  Specifies the environment-variable name.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8791                 </span><span style="color:navy">db '  string    Specifies a series of characters to assign to the var'
</span><span style="color:gray">TRANGROUP:8791                 </span><span style="color:navy">db 'iable.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8791                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8812 </span>MSG_1622        <span style="color:navy">db </span><span style="color:#008040">4Bh
</span><span style="color:gray">TRANGROUP:8813                 </span><span style="color:navy">db 'Type SET without parameters to display the current environment va'
</span><span style="color:gray">TRANGROUP:8813                 </span><span style="color:navy">db 'riables.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:885E </span>MSG_1640        <span style="color:navy">db </span><span style="color:#008040">45
</span><span style="color:gray">TRANGROUP:885F                 </span><span style="color:navy">db 'Displays or sets the time.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:885F                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:885F                 </span><span style="color:navy">db 'TIME [time]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:885F                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:888C                 </span><span style="color:navy">db </span><span style="color:#008040">83h
</span><span style="color:gray">TRANGROUP:888D                 </span><span style="color:navy">db 'Type TIME without parameters to display the current time setting '
</span><span style="color:gray">TRANGROUP:888D                 </span><span style="color:navy">db 'and',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:888D                 </span><span style="color:navy">db 'a prompt for a new one.  Press ENTER to keep the same time.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8910 </span>MSG_1660        <span style="color:navy">db </span><span style="color:#008040">46h
</span><span style="color:gray">TRANGROUP:8911                 </span><span style="color:navy">db 'Displays the contents of a text file.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8911                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8911                 </span><span style="color:navy">db 'TYPE [drive:][path]filename',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8957 </span>MSG_1680        <span style="color:navy">db </span><span style="color:#008040">25h
</span><span style="color:gray">TRANGROUP:8958                 </span><span style="color:navy">db 'Displays the MS-DOS version.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8958                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8958                 </span><span style="color:navy">db 'VER',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:897D </span>MSG_1700        <span style="color:navy">db </span><span style="color:#008040">177
</span><span style="color:gray">TRANGROUP:897E                 </span><span style="color:navy">db 'Tells MS-DOS whether to verify that your files are written correc'
</span><span style="color:gray">TRANGROUP:897E                 </span><span style="color:navy">db 'tly to a',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:897E                 </span><span style="color:navy">db 'disk.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:897E                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:897E                 </span><span style="color:navy">db 'VERIFY [ON | OFF]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:897E                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:897E                 </span><span style="color:navy">db 'Type VERIFY without a parameter to display the current VERIFY set'
</span><span style="color:gray">TRANGROUP:897E                 </span><span style="color:navy">db 'ting.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8A2F </span>MSG_1720        <span style="color:navy">db </span><span style="color:#008040">52h
</span><span style="color:gray">TRANGROUP:8A30                 </span><span style="color:navy">db 'Displays the disk volume label and serial number, if they exist.',0Dh
</span><span style="color:gray">TRANGROUP:8A30                 </span><span style="color:navy">db </span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8A30                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8A30                 </span><span style="color:navy">db 'VOL [drive:]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8A82 </span>MSG_1740        <span style="color:navy">db </span><span style="color:#008040">5Bh
</span><span style="color:gray">TRANGROUP:8A83                 </span><span style="color:navy">db 'Calls one batch program from another.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8A83                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8A83                 </span><span style="color:navy">db 'CALL [drive:][path]filename [batch-parameters]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8A83                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8ADE </span>MSG_1741        <span style="color:navy">db </span><span style="color:#008040">72h
</span><span style="color:gray">TRANGROUP:8ADF                 </span><span style="color:navy">db '  batch-parameters   Specifies any command-line information requi'
</span><span style="color:gray">TRANGROUP:8ADF                 </span><span style="color:navy">db 'red by the',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8ADF                 </span><span style="color:navy">db '                     batch program.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8B51 </span>MSG_1760        <span style="color:navy">db </span><span style="color:#008040">4Ch
</span><span style="color:gray">TRANGROUP:8B52                 </span><span style="color:navy">db 'Records comments (remarks) in a batch file or CONFIG.SYS.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8B52                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8B52                 </span><span style="color:navy">db 'REM [comment]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8B9E </span>MSG_1780        <span style="color:navy">db </span><span style="color:#008040">6Bh
</span><span style="color:gray">TRANGROUP:8B9F                 </span><span style="color:navy">db 'Suspends processing of a batch program and displays the message &quot;'
</span><span style="color:gray">TRANGROUP:8B9F                 </span><span style="color:navy">db 'Press any',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8B9F                 </span><span style="color:navy">db 'key to continue....&quot;',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8B9F                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8B9F                 </span><span style="color:navy">db 'PAUSE',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8C0A </span>MSG_1800        <span style="color:navy">db </span><span style="color:#008040">4Dh
</span><span style="color:gray">TRANGROUP:8C0B                 </span><span style="color:navy">db 'Displays messages, or turns command-echoing on or off.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8C0B                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8C0B                 </span><span style="color:navy">db '  ECHO [ON | OFF]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8C58 </span>MSG_1801        <span style="color:navy">db </span><span style="color:#008040">57h
</span><span style="color:gray">TRANGROUP:8C59                 </span><span style="color:navy">db '  ECHO [message]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8C59                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8C59                 </span><span style="color:navy">db 'Type ECHO without parameters to display the current echo setting.'
</span><span style="color:gray">TRANGROUP:8C59                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8CB0                 </span><span style="color:navy">db </span><span style="color:#008040">47h
</span><span style="color:gray">TRANGROUP:8CB1                 </span><span style="color:navy">db 'Directs MS-DOS to a labelled line in a batch program.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8CB1                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8CB1                 </span><span style="color:navy">db 'GOTO label',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8CB1                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8CF8                 </span><span style="color:navy">db </span><span style="color:#008040">8Ah
</span><span style="color:gray">TRANGROUP:8CF9                 </span><span style="color:navy">db '  label   Specifies a text string used in the batch program as a '
</span><span style="color:gray">TRANGROUP:8CF9                 </span><span style="color:navy">db 'label.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8CF9                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8CF9                 </span><span style="color:navy">db 'You type a label on a line by itself, beginning with a colon.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8D83 </span>MSG_1840        <span style="color:navy">db </span><span style="color:#008040">4Ah
</span><span style="color:gray">TRANGROUP:8D84                 </span><span style="color:navy">db 'Changes the position of replaceable parameters in a batch file.',0Dh
</span><span style="color:gray">TRANGROUP:8D84                 </span><span style="color:navy">db </span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8D84                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8D84                 </span><span style="color:navy">db 'SHIFT',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8DCE </span>MSG_1860        <span style="color:navy">db </span><span style="color:#008040">5Ah
</span><span style="color:gray">TRANGROUP:8DCF                 </span><span style="color:navy">db 'Performs conditional processing in batch programs.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8DCF                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8E05                 </span><span style="color:navy">db 'IF [NOT] ERRORLEVEL number command',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8E29                 </span><span style="color:navy">db </span><span style="color:#008040">46h
</span><span style="color:gray">TRANGROUP:8E2A                 </span><span style="color:navy">db 'IF [NOT] string1==string2 command',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8E2A                 </span><span style="color:navy">db 'IF [NOT] EXIST filename command',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8E2A                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:8E70                 </span><span style="color:navy">db </span><span style="color:#008040">7Dh
</span><span style="color:gray">TRANGROUP:8E71                 </span><span style="color:navy">db '  NOT               Specifies that MS-DOS should carry out the co'
</span><span style="color:gray">TRANGROUP:8E71                 </span><span style="color:navy">db 'mmand only',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8E71                 </span><span style="color:navy">db '                    if the condition is false.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8EEE </span>MSG_1863        <span style="color:navy">db </span><span style="color:#008040">0A2h
</span><span style="color:gray">TRANGROUP:8EEF                 </span><span style="color:navy">db '  ERRORLEVEL number Specifies a true condition if the last progra'
</span><span style="color:gray">TRANGROUP:8EEF                 </span><span style="color:navy">db 'm run returned',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8EEF                 </span><span style="color:navy">db '                    an exit code equal to or greater than the num'
</span><span style="color:gray">TRANGROUP:8EEF                 </span><span style="color:navy">db 'ber specified.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8F91                 </span><span style="color:navy">db </span><span style="color:#008040">66h
</span><span style="color:gray">TRANGROUP:8F92                 </span><span style="color:navy">db '  command           Specifies the command to carry out if the con'
</span><span style="color:gray">TRANGROUP:8F92                 </span><span style="color:navy">db 'dition is',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8F92                 </span><span style="color:navy">db '                    met.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8FF8                 </span><span style="color:navy">db </span><span style="color:#008040">6Ah
</span><span style="color:gray">TRANGROUP:8FF9                 </span><span style="color:navy">db '  string1==string2  Specifies a true condition if the specified t'
</span><span style="color:gray">TRANGROUP:8FF9                 </span><span style="color:navy">db 'ext strings',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:8FF9                 </span><span style="color:navy">db '                    match.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:9063                 </span><span style="color:navy">db </span><span style="color:#008040">67h
</span><span style="color:gray">TRANGROUP:9064                 </span><span style="color:navy">db '  EXIST filename    Specifies a true condition if the specified f'
</span><span style="color:gray">TRANGROUP:9064                 </span><span style="color:navy">db 'ilename',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:9064                 </span><span style="color:navy">db '                    exists.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:90CB </span>MSG_1880        <span style="color:navy">db </span><span style="color:#008040">77h
</span><span style="color:gray">TRANGROUP:90CC                 </span><span style="color:navy">db 'Runs a specified command for each file in a set of files.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:90CC                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:90CC                 </span><span style="color:navy">db 'FOR %variable IN (set) DO command [command-parameters]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:90CC                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:9143                 </span><span style="color:navy">db </span><span style="color:#008040">7Dh
</span><span style="color:gray">TRANGROUP:9144                 </span><span style="color:navy">db '  %variable  Specifies a replaceable parameter.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:9144                 </span><span style="color:navy">db '  (set)      Specifies a set of one or more files.  Wildcards may'
</span><span style="color:gray">TRANGROUP:9144                 </span><span style="color:navy">db ' be used.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:91C1                 </span><span style="color:navy">db </span><span style="color:#008040">56h
</span><span style="color:gray">TRANGROUP:91C2                 </span><span style="color:navy">db '  command    Specifies the command to carry out for each file.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:91C2                 </span><span style="color:navy">db '  command-parameters',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:9218 </span>MSG_1883        <span style="color:navy">db </span><span style="color:#008040">0A2h
</span><span style="color:gray">TRANGROUP:9219                 </span><span style="color:navy">db '             Specifies parameters or switches for the specified c'
</span><span style="color:gray">TRANGROUP:9219                 </span><span style="color:navy">db 'ommand.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:9219                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:9219                 </span><span style="color:navy">db 'To use the FOR command in a batch program, specify %%variable ins'
</span><span style="color:gray">TRANGROUP:9219                 </span><span style="color:navy">db 'tead of',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:9219                 </span><span style="color:navy">db '%variable.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:92BB </span>MSG_1900        <span style="color:navy">db </span><span style="color:#008040">17h
</span><span style="color:gray">TRANGROUP:92BC                 </span><span style="color:navy">db 'Reserved command name',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:92D3 </span>MSG_1920        <span style="color:navy">db </span><span style="color:#008040">2Fh
</span><span style="color:gray">TRANGROUP:92D4                 </span><span style="color:navy">db 'Loads a program into the upper memory area.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:92D4                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:9303 </span>MSG_1921        <span style="color:navy">db </span><span style="color:#008040">157
</span><span style="color:gray">TRANGROUP:9304                 </span><span style="color:navy">db 'LOADHIGH [drive:][path]filename [parameters]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:9304                 </span><span style="color:navy">db 'LOADHIGH [/L:region1[,minsize1][;region2[,minsize2]...] [/S]]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:9304                 </span><span style="color:navy">db '         [drive:][path]filename [parameters]',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:9304                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:93A1 </span>MSG_1922        <span style="color:navy">db </span><span style="color:#008040">182
</span><span style="color:gray">TRANGROUP:93A2                 </span><span style="color:navy">db '/L:region1[,minsize1][;region2[,minsize2]]...',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:93A2                 </span><span style="color:navy">db '            Specifies the region(s) of memory into which to load',0Dh
</span><span style="color:gray">TRANGROUP:93A2                 </span><span style="color:navy">db </span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:93A2                 </span><span style="color:navy">db '            the program.  Region1 specifies the number of the fir'
</span><span style="color:gray">TRANGROUP:93A2                 </span><span style="color:navy">db 'st',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:9458 </span>MSG_1923        <span style="color:navy">db </span><span style="color:#008040">133
</span><span style="color:gray">TRANGROUP:9459                 </span><span style="color:navy">db '            memory region; minsize1 specifies the minimum size, i'
</span><span style="color:gray">TRANGROUP:9459                 </span><span style="color:navy">db 'f',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:9459                 </span><span style="color:navy">db '            any, for region1.  Region2 and minsize2 specify the',0Dh
</span><span style="color:gray">TRANGROUP:9459                 </span><span style="color:navy">db </span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:94DE                 </span><span style="color:navy">db </span><span style="color:#008040">127
</span><span style="color:gray">TRANGROUP:94DF                 </span><span style="color:navy">db '            number and minimum size of the second region, if any.'
</span><span style="color:gray">TRANGROUP:94DF                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:94DF                 </span><span style="color:navy">db '            You can specify as many regions as you want.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:94DF                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:955E </span>MSG_1925        <span style="color:navy">db </span><span style="color:#008040">131
</span><span style="color:gray">TRANGROUP:955F                 </span><span style="color:navy">db '/S          Shrinks a UMB to its minimum size while the program',0Dh
</span><span style="color:gray">TRANGROUP:955F                 </span><span style="color:navy">db </span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:955F                 </span><span style="color:navy">db '            is loading.  /S is normally used only by MemMaker.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:955F                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:95E2                 </span><span style="color:navy">db </span><span style="color:#008040">87
</span><span style="color:gray">TRANGROUP:95E3                 </span><span style="color:navy">db '[drive:][path]filename',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:95E3                 </span><span style="color:navy">db '            Specifies the location and name of the program.',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:95E3                 </span><span style="color:navy">db </span><span style="color:green">0Dh</span><span style="color:navy">,</span><span style="color:green">0Ah
</span><span style="color:gray">TRANGROUP:963A </span>MSG_1927        <span style="color:navy">db </span><span style="color:#008040">90
</span><span style="color:gray">TRANGROUP:963B                 </span><span style="color:navy">db 'parameters  Specifies any command-line information required by',0Dh,0Ah
</span><span style="color:gray">TRANGROUP:963B                 </span><span style="color:navy">db '            the program.',0Dh,0Ah
</span><span style="color:black">TRANGROUP:9695
</span><span style="color:black">TRANGROUP:9695 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:9695
</span><span style="color:black">TRANGROUP:9695
</span><span style="color:black">TRANGROUP:9695 </span>$M_CLS_3        proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:9695                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:9696                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:9697                 </span>assume es:TRANGROUP
<span style="color:black">TRANGROUP:9697                 </span><span style="color:navy">lea     di</span><span style="color:navy">, </span>$M_CLASS_3_STRUC
<span style="color:black">TRANGROUP:969B                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:green">11627</span>       ; ADD CX,$-$M_CLASS_3_STRUC
<span style="color:black">TRANGROUP:969F                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:969F </span>$M_CLS_3        endp
<span style="color:black">TRANGROUP:969F
</span><span style="color:black">TRANGROUP:969F </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:gray">TRANGROUP:96A0 </span>$M_CLASS_1_STRUC <span style="color:navy">db </span><span style="color:#008040">1                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:96A0                                         </span>; $M_CLASS_ID
<span style="color:gray">TRANGROUP:96A1                 </span><span style="color:navy">dw </span><span style="color:#008040">1606h                </span>; EXPECTED_VERSION (COMMAND.COM version)
<span style="color:gray">TRANGROUP:96A3                 </span><span style="color:navy">db </span><span style="color:#008040">4                    </span>; Class_1_MessageCount
<span style="color:gray">TRANGROUP:96A4 </span>$M_ID_1_1       <span style="color:navy">dw </span><span style="color:#008040">2                    </span>; Message Number = 2
<span style="color:gray">TRANGROUP:96A6                 </span><span style="color:navy">dw </span><span style="color:#008040">10h                  </span>; Message offset from message number
<span style="color:gray">TRANGROUP:96A8 </span>$M_ID_1_2       <span style="color:navy">dw </span><span style="color:#008040">3                    </span>; Message Number = 3
<span style="color:gray">TRANGROUP:96AA                 </span><span style="color:navy">dw </span><span style="color:#008040">1Bh                  </span>; Message offset from message number
<span style="color:gray">TRANGROUP:96AC </span>$M_ID_1_3       <span style="color:navy">dw </span><span style="color:#008040">8                    </span>; Message Number = 8
<span style="color:gray">TRANGROUP:96AE                 </span><span style="color:navy">dw </span><span style="color:#008040">26h                  </span>; Message offset from message number
<span style="color:gray">TRANGROUP:96B0 </span>$M_ID_1_4       <span style="color:navy">dw </span><span style="color:#008040">0FFFFh               </span>; Message Number = -1
<span style="color:gray">TRANGROUP:96B2                 </span><span style="color:navy">dw </span><span style="color:#008040">36h                  </span>; Message offset from message number
<span style="color:gray">TRANGROUP:96B4 </span>EXTEND2         <span style="color:navy">db </span><span style="color:#008040">0Eh
</span><span style="color:gray">TRANGROUP:96B5                 </span><span style="color:navy">db 'File not found'
</span><span style="color:gray">TRANGROUP:96C3 </span>EXTEND3         <span style="color:navy">db </span><span style="color:#008040">0Eh
</span><span style="color:gray">TRANGROUP:96C4                 </span><span style="color:navy">db 'Path not found'
</span><span style="color:gray">TRANGROUP:96D2 </span>EXTEND8         <span style="color:navy">db </span><span style="color:#008040">13h
</span><span style="color:gray">TRANGROUP:96D3                 </span><span style="color:navy">db 'Insufficient memory'
</span><span style="color:gray">TRANGROUP:96E6 </span>EXTEND999       <span style="color:navy">db </span><span style="color:#008040">11h
</span><span style="color:gray">TRANGROUP:96E7                 </span><span style="color:navy">db 'Extended Error %1'
</span><span style="color:black">TRANGROUP:96F8
</span><span style="color:black">TRANGROUP:96F8 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:96F8
</span><span style="color:black">TRANGROUP:96F8
</span><span style="color:black">TRANGROUP:96F8 </span>$M_MSGSERV_1    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:96F8                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:96F9                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:96FA                 </span><span style="color:navy">lea     di</span><span style="color:navy">, </span>$M_CLASS_1_STRUC
<span style="color:black">TRANGROUP:96FE                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:green">94</span>          ; $-$M_CLASS_1_STRUC
<span style="color:black">TRANGROUP:9701                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:9701 </span>$M_MSGSERV_1    endp
<span style="color:black">TRANGROUP:9701
</span><span style="color:black">TRANGROUP:9701 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:gray">TRANGROUP:9702 </span>$M_CLASS_2_STRUC <span style="color:navy">db </span><span style="color:#008040">2                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9702                                         </span>; $M_CLASS_ID
<span style="color:gray">TRANGROUP:9703                 </span><span style="color:navy">dw </span><span style="color:#008040">1606h                </span>; EXPECTED_VERSION (COMMAND.COM version)
<span style="color:gray">TRANGROUP:9705                 </span><span style="color:navy">db </span><span style="color:#008040">1                    </span>; Class_2_MessageCount
<span style="color:gray">TRANGROUP:9706 </span>$M_ID_2_1       <span style="color:navy">dw </span><span style="color:#008040">0FFFFh
</span><span style="color:gray">TRANGROUP:9708                 </span><span style="color:navy">dw </span><span style="color:#008040">4                    </span>; Message Number = -1
<span style="color:gray">TRANGROUP:970A </span>PARSE999        <span style="color:navy">db </span><span style="color:#008040">0Eh                  </span>; Message offset from message number
<span style="color:gray">TRANGROUP:970B                 </span><span style="color:navy">db 'Parse Error %1'
</span><span style="color:black">TRANGROUP:9719
</span><span style="color:black">TRANGROUP:9719 </span><span style="color:gray">; --------------- S U B R O U T I N E ---------------------------------------
</span><span style="color:black">TRANGROUP:9719
</span><span style="color:black">TRANGROUP:9719
</span><span style="color:black">TRANGROUP:9719 </span>$M_MSGSERV_2    proc near               <span style="color:green">; ...
</span><span style="color:black">TRANGROUP:9719                 </span><span style="color:navy">push    cs</span>
<span style="color:black">TRANGROUP:971A                 </span><span style="color:navy">pop     es</span>
<span style="color:black">TRANGROUP:971B                 </span><span style="color:navy">lea     di</span><span style="color:navy">, </span>$M_CLASS_2_STRUC
<span style="color:black">TRANGROUP:971F                 </span><span style="color:navy">add     cx</span><span style="color:navy">, </span><span style="color:green">29</span>
<span style="color:black">TRANGROUP:9722                 </span><span style="color:navy">retn
</span><span style="color:black">TRANGROUP:9722 </span>$M_MSGSERV_2    endp
<span style="color:black">TRANGROUP:9722
</span><span style="color:black">TRANGROUP:9722 </span><span style="color:gray">; ¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦
</span><span style="color:gray">TRANGROUP:9723 </span>msg_disp_class  <span style="color:navy">db </span><span style="color:#008040">0FFh                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9724 </span>msg_cont_flag   <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9725 </span>extend_buf_ptr  <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9727 </span>extend_buf_sub  <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9728                 </span><span style="color:navy">db </span><span style="color:#008040">11
</span><span style="color:gray">TRANGROUP:9729                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:972A                 </span><span style="color:navy">dw offset </span>string_ptr_2
<span style="color:gray">TRANGROUP:972C </span>extend_buf_seg  <span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:972E                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:972F                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:9730                 </span><span style="color:navy">db </span><span style="color:#008040">128
</span><span style="color:gray">TRANGROUP:9731                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9732                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:9733 </span>RENERR_PTR      <span style="color:navy">dw </span><span style="color:#008040">1002                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9735                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9736 </span>BADCPMES_PTR    <span style="color:navy">dw </span><span style="color:#008040">1003                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9738                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9739 </span>NOSPACE_PTR     <span style="color:navy">dw </span><span style="color:#008040">1004                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:973B                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:973C </span>ENVERR_PTR      <span style="color:navy">dw </span><span style="color:#008040">1007                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:973E                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:973F </span>FULLDIR_PTR     <span style="color:navy">dw </span><span style="color:#008040">1008                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9741                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9742 </span>BADBAT_PTR      <span style="color:navy">dw </span><span style="color:#008040">1009                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9744                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9745 </span>NEEDBAT_PTR     <span style="color:navy">dw </span><span style="color:#008040">1010                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9747                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9748 </span>BADNAM_PTR      <span style="color:navy">dw </span><span style="color:#008040">1011                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:974A                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:974B </span>ACCDEN_PTR      <span style="color:navy">dw </span><span style="color:#008040">1014                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:974D                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:974E </span>OVERWR_PTR      <span style="color:navy">dw </span><span style="color:#008040">1015                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9750                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9751 </span>LOSTERR_PTR     <span style="color:navy">dw </span><span style="color:#008040">1016                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9753                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9754 </span>INORNOT_PTR     <span style="color:navy">dw </span><span style="color:#008040">1017                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9756                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9757 </span>copied_ptr      <span style="color:navy">dw </span><span style="color:#008040">1018                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9759                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:975A                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:975B                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:975C                 </span><span style="color:navy">dw offset </span>Copy_num
<span style="color:gray">TRANGROUP:975E                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9760                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9761                 </span><span style="color:navy">db </span><span style="color:#008040">0A1h
</span><span style="color:gray">TRANGROUP:9762                 </span><span style="color:navy">db </span><span style="color:#008040">9
</span><span style="color:gray">TRANGROUP:9763                 </span><span style="color:navy">db </span><span style="color:#008040">9
</span><span style="color:gray">TRANGROUP:9764                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:9765 </span>dirmes_ptr      <span style="color:navy">dw </span><span style="color:#008040">1019                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9767                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9768                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh                  </span>; parm_block_size
<span style="color:gray">TRANGROUP:9769                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:976A                 </span><span style="color:navy">dw offset </span>Dir_Num
<span style="color:gray">TRANGROUP:976C                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:976E                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:976F </span>screen_f_3      <span style="color:navy">db </span><span style="color:#008040">0E1h                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:976F                                         </span>; Right_Align+Unsgn_Bin_Word (binary to decimal)
<span style="color:gray">TRANGROUP:976F                                         </span>; + 40h (for 80 columns per row)
<span style="color:gray">TRANGROUP:9770                 </span><span style="color:navy">db </span><span style="color:#008040">9
</span><span style="color:gray">TRANGROUP:9771                 </span><span style="color:navy">db </span><span style="color:#008040">9
</span><span style="color:gray">TRANGROUP:9772                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:9773 </span>bytmes_ptr      <span style="color:navy">dw </span><span style="color:#008040">1020                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9775                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9776                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:9777                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9778                 </span><span style="color:navy">dw offset </span>Bytes_Free
<span style="color:gray">TRANGROUP:977A                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:977C                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:977D </span>screen_f_6      <span style="color:navy">db </span><span style="color:#008040">0F1h                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:977D                                         </span>; Right_Align+Unsgn_Bin_DWord (long binary to decimal)
<span style="color:gray">TRANGROUP:977D                                         </span>; + 40h (for 80 columns per row)
<span style="color:gray">TRANGROUP:977E </span>screen_f_7      <span style="color:navy">db </span><span style="color:#008040">32                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:977F                 </span><span style="color:navy">db </span><span style="color:#008040">32
</span><span style="color:gray">TRANGROUP:9780                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:9781 </span>baddrv_ptr      <span style="color:navy">dw </span><span style="color:#008040">1021                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9783                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9784 </span>cp_not_set_ptr  <span style="color:navy">dw </span><span style="color:#008040">1022                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9786                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9787                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:9788                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9789                 </span><span style="color:navy">dw offset </span>system_cpage
<span style="color:gray">TRANGROUP:978B                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:978D                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:978E                 </span><span style="color:navy">db </span><span style="color:#008040">0A1h
</span><span style="color:gray">TRANGROUP:978F                 </span><span style="color:navy">db </span><span style="color:#008040">5
</span><span style="color:gray">TRANGROUP:9790                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9791                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:9792 </span>cp_not_all_ptr  <span style="color:navy">dw </span><span style="color:#008040">1023                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9794                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9795                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:9796                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9797                 </span><span style="color:navy">dw offset </span>system_cpage
<span style="color:gray">TRANGROUP:9799                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:979B                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:979C                 </span><span style="color:navy">db </span><span style="color:#008040">0A1h
</span><span style="color:gray">TRANGROUP:979D                 </span><span style="color:navy">db </span><span style="color:#008040">5
</span><span style="color:gray">TRANGROUP:979E                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:979F                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:97A0 </span>cp_active_ptr   <span style="color:navy">dw </span><span style="color:#008040">1024                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97A2                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:97A3                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:97A4                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97A5                 </span><span style="color:navy">dw offset </span>system_cpage
<span style="color:gray">TRANGROUP:97A7                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97A9                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:97AA                 </span><span style="color:navy">db </span><span style="color:#008040">0A1h
</span><span style="color:gray">TRANGROUP:97AB                 </span><span style="color:navy">db </span><span style="color:#008040">5
</span><span style="color:gray">TRANGROUP:97AC                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:97AD                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:97AE </span>NLSFUNC_PTR     <span style="color:navy">dw </span><span style="color:#008040">1025                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97B0                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97B1 </span>INV_CODE_PAGE   <span style="color:navy">dw </span><span style="color:#008040">1026                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97B3                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97B4 </span>BADCURDRV       <span style="color:navy">dw </span><span style="color:#008040">1027                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97B6                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97B7 </span>PAUSEMES_PTR    <span style="color:navy">dw </span><span style="color:#008040">1028                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97B9                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97BA </span>BADLAB_PTR      <span style="color:navy">dw </span><span style="color:#008040">1029                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97BC                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97BD </span>SYNTMES_PTR     <span style="color:navy">dw </span><span style="color:#008040">1030                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97BF                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97C0 </span>BADDAT_PTR      <span style="color:navy">dw </span><span style="color:#008040">1031                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97C2                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97C3 </span>CurDat_Ptr      <span style="color:navy">dw </span><span style="color:#008040">1032                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97C5                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:97C6                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:97C7                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97C8                 </span><span style="color:navy">dw offset </span>Arg_Buf
<span style="color:gray">TRANGROUP:97CA                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97CC                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:97CD                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:97CE                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:97CF                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:97D0                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:97D1                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:97D2                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97D3 </span>CurDat_yr       <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97D5 </span>CurDat_mo_day   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97D7                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:97D8                 </span><span style="color:navy">db </span><span style="color:#008040">34h
</span><span style="color:gray">TRANGROUP:97D9                 </span><span style="color:navy">db </span><span style="color:#008040">10
</span><span style="color:gray">TRANGROUP:97DA                 </span><span style="color:navy">db </span><span style="color:#008040">10
</span><span style="color:gray">TRANGROUP:97DB                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:97DC </span>WeekTab         <span style="color:navy">dw </span><span style="color:#008040">1033                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97DE                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97DF </span>NewDat_Ptr      <span style="color:navy">dw </span><span style="color:#008040">1034                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97E1                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:97E2                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:97E3                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97E4 </span>NewDat_Format   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97E6                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97E8                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:97E9                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:97EA                 </span><span style="color:navy">db </span><span style="color:#008040">8
</span><span style="color:gray">TRANGROUP:97EB                 </span><span style="color:navy">db </span><span style="color:#008040">8
</span><span style="color:gray">TRANGROUP:97EC                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:97ED </span>BadTim_Ptr      <span style="color:navy">dw </span><span style="color:#008040">1035                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97EF                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97F0 </span>CurTim_Ptr      <span style="color:navy">dw </span><span style="color:#008040">1036                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97F2                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:97F3                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:97F4                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:97F5 </span>CurTim_hr_min   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97F7 </span>CurTim_Sec_hn   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:97F9                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:97FA                 </span><span style="color:navy">db </span><span style="color:#008040">0A5h
</span><span style="color:gray">TRANGROUP:97FB                 </span><span style="color:navy">db </span><span style="color:#008040">12
</span><span style="color:gray">TRANGROUP:97FC                 </span><span style="color:navy">db </span><span style="color:#008040">12
</span><span style="color:gray">TRANGROUP:97FD                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:97FE </span>NewTim_Ptr      <span style="color:navy">dw </span><span style="color:#008040">1037                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9800                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9801 </span>Del_Y_N_Ptr     <span style="color:navy">dw </span><span style="color:#008040">1038                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9803                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9804 </span>SureMes_Ptr     <span style="color:navy">dw </span><span style="color:#008040">1039                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9806                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9807 </span>VerMes_Ptr      <span style="color:navy">dw </span><span style="color:#008040">1040                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9809                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:980A                 </span><span style="color:navy">db </span><span style="color:#008040">11
</span><span style="color:gray">TRANGROUP:980B                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:980C                 </span><span style="color:navy">dw offset </span>Major_Ver_Num
<span style="color:gray">TRANGROUP:980E                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9810                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9811                 </span><span style="color:navy">db </span><span style="color:#008040">0A1h
</span><span style="color:gray">TRANGROUP:9812                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9813                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9814                 </span><span style="color:navy">db </span><span style="color:#008040">20h                  </span>; blank (pad character)
<span style="color:gray">TRANGROUP:9815                 </span><span style="color:navy">db </span><span style="color:#008040">11
</span><span style="color:gray">TRANGROUP:9816                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9817                 </span><span style="color:navy">dw offset </span>Minor_Ver_Num
<span style="color:gray">TRANGROUP:9819                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:981B                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:981C                 </span><span style="color:navy">db </span><span style="color:#008040">0A1h
</span><span style="color:gray">TRANGROUP:981D                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:981E                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:981F                 </span><span style="color:navy">db </span><span style="color:#008040">30h                  </span>; &quot;0&quot; (pad character)
<span style="color:gray">TRANGROUP:9820 </span>VolMes_Ptr_2    <span style="color:navy">dw </span><span style="color:#008040">1041                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9820                                         </span>; message number
<span style="color:gray">TRANGROUP:9822                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9823                 </span><span style="color:navy">db </span><span style="color:#008040">11                   </span>; 0Bh
<span style="color:gray">TRANGROUP:9824                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9825                 </span><span style="color:navy">dw offset </span>vol_drv
<span style="color:gray">TRANGROUP:9827                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9829                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:982A                 </span><span style="color:navy">db </span><span style="color:#008040">0                    </span>; Char_field_Char (character)
<span style="color:gray">TRANGROUP:982B                 </span><span style="color:navy">db </span><span style="color:#008040">128
</span><span style="color:gray">TRANGROUP:982C                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:982D                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:982E </span>VolMes_Ptr      <span style="color:navy">dw </span><span style="color:#008040">1042                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:982E                                         </span>; &quot;Volume in drive %1 is %2&quot;,13,10
<span style="color:gray">TRANGROUP:9830                 </span><span style="color:navy">db </span><span style="color:#008040">2                    </span>; number of subst
<span style="color:gray">TRANGROUP:9831                 </span><span style="color:navy">db </span><span style="color:#008040">11                   </span>; size of sublist
<span style="color:gray">TRANGROUP:9832                 </span><span style="color:navy">db </span><span style="color:#008040">0                    </span>; reserved
<span style="color:gray">TRANGROUP:9833                 </span><span style="color:navy">dw offset </span>vol_drv       ; offset of drive
<span style="color:gray">TRANGROUP:9835                 </span><span style="color:navy">dw </span><span style="color:#008040">0                    </span>; segment of arg
<span style="color:gray">TRANGROUP:9837                 </span><span style="color:navy">db </span><span style="color:#008040">1                    </span>; first subst
<span style="color:gray">TRANGROUP:9838                 </span><span style="color:navy">db </span><span style="color:#008040">0                    </span>; character (Char_field_Char)
<span style="color:gray">TRANGROUP:9839                 </span><span style="color:navy">db </span><span style="color:#008040">128                  </span>; maximum width
<span style="color:gray">TRANGROUP:983A                 </span><span style="color:navy">db </span><span style="color:#008040">1                    </span>; minimum width
<span style="color:gray">TRANGROUP:983B                 </span><span style="color:navy">db </span><span style="color:#008040">20h                  </span>; pad character (blank)
<span style="color:gray">TRANGROUP:983C                 </span><span style="color:navy">db </span><span style="color:#008040">11                   </span>; size of sublist
<span style="color:gray">TRANGROUP:983D                 </span><span style="color:navy">db </span><span style="color:#008040">0                    </span>; reserved
<span style="color:gray">TRANGROUP:983E                 </span><span style="color:navy">dw offset </span>CHARBUF       ; offset of string
<span style="color:gray">TRANGROUP:9840                 </span><span style="color:navy">dw </span><span style="color:#008040">0                    </span>; segment of arg
<span style="color:gray">TRANGROUP:9842                 </span><span style="color:navy">db </span><span style="color:#008040">2                    </span>; second subst
<span style="color:gray">TRANGROUP:9843                 </span><span style="color:navy">db </span><span style="color:#008040">10h                  </span>; Char_field_ASCIIZ (character string)
<span style="color:gray">TRANGROUP:9844                 </span><span style="color:navy">db </span><span style="color:#008040">128                  </span>; maximum width
<span style="color:gray">TRANGROUP:9845                 </span><span style="color:navy">db </span><span style="color:#008040">1                    </span>; minimum width
<span style="color:gray">TRANGROUP:9846                 </span><span style="color:navy">db </span><span style="color:#008040">20h                  </span>; pad character (blank)
<span style="color:gray">TRANGROUP:9847 </span>VolSerMes_Ptr   <span style="color:navy">dw </span><span style="color:#008040">1043                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9847                                         </span>; &quot;Volume Serial Number is %1-%2&quot;,13,10
<span style="color:gray">TRANGROUP:9849                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:984A                 </span><span style="color:navy">db </span><span style="color:#008040">11                   </span>; 11
<span style="color:gray">TRANGROUP:984B                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:984C                 </span><span style="color:navy">dw offset </span>vol_serial<span style="color:navy">+</span><span style="color:green">2
</span><span style="color:gray">TRANGROUP:984E                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9850                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9851                 </span><span style="color:navy">db </span><span style="color:#008040">0A3h                 </span>; Right_Align+Bin_Hex_Word (binary to hex)
<span style="color:gray">TRANGROUP:9852                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9853                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9854                 </span><span style="color:navy">db </span><span style="color:#008040">30h                  </span>; &quot;0&quot;
<span style="color:gray">TRANGROUP:9855                 </span><span style="color:navy">db </span><span style="color:#008040">11
</span><span style="color:gray">TRANGROUP:9856                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9857                 </span><span style="color:navy">dw offset </span>vol_serial
<span style="color:gray">TRANGROUP:9859                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:985B                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:985C                 </span><span style="color:navy">db </span><span style="color:#008040">0A3h
</span><span style="color:gray">TRANGROUP:985D                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:985E                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:985F                 </span><span style="color:navy">db </span><span style="color:#008040">30h
</span><span style="color:gray">TRANGROUP:9860 </span>badcd_ptr       <span style="color:navy">dw </span><span style="color:#008040">1044                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9862                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9863 </span>badmkd_ptr      <span style="color:navy">dw </span><span style="color:#008040">1045                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9865                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9866 </span>badrmd_ptr      <span style="color:navy">dw </span><span style="color:#008040">1046                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9868                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9869 </span>bad_on_off_ptr  <span style="color:navy">dw </span><span style="color:#008040">1047                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:986B                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:986C </span>dirhead_ptr     <span style="color:navy">dw </span><span style="color:#008040">1048                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:986E                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:986F                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:9870                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9871                 </span><span style="color:navy">dw offset </span>BWDBUF
<span style="color:gray">TRANGROUP:9873                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9875                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9876                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:9877                 </span><span style="color:navy">db </span><span style="color:#008040">128
</span><span style="color:gray">TRANGROUP:9878                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9879                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:987A </span>NULLPATH_PTR    <span style="color:navy">dw </span><span style="color:#008040">1049                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:987C                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:987D </span>BADPMES_PTR     <span style="color:navy">dw </span><span style="color:#008040">1050                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:987F                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9880 </span>BADDEV_PTR      <span style="color:navy">dw </span><span style="color:#008040">1051                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9882                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9883 </span>FORNESTMES_PTR  <span style="color:navy">dw </span><span style="color:#008040">1052                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9885                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9886 </span>PIPEEMES_PTR    <span style="color:navy">dw </span><span style="color:#008040">1053                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9888                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9889 </span>INBDEV_PTR      <span style="color:navy">dw </span><span style="color:#008040">1054                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:988B                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:988C </span>CtrlcMes_Ptr    <span style="color:navy">dw </span><span style="color:#008040">1055                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:988E                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:988F                 </span><span style="color:navy">db </span><span style="color:#008040">11
</span><span style="color:gray">TRANGROUP:9890                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9891                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9893                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9895                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9896                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:9897                 </span><span style="color:navy">db </span><span style="color:#008040">128
</span><span style="color:gray">TRANGROUP:9898                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9899                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:989A </span>VeriMes_Ptr     <span style="color:navy">dw </span><span style="color:#008040">1056                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:989C                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:989D                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:989E                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:989F                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98A1                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98A3                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98A4                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:98A5                 </span><span style="color:navy">db </span><span style="color:#008040">80h
</span><span style="color:gray">TRANGROUP:98A6                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98A7                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:98A8 </span>EchoMes_Ptr     <span style="color:navy">dw </span><span style="color:#008040">1057                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:98AA                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98AB                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:98AC                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98AD                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98AF                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98B1                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98B2                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:98B3                 </span><span style="color:navy">db </span><span style="color:#008040">80h
</span><span style="color:gray">TRANGROUP:98B4                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98B5                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:98B6 </span>OFFMES_PTR      <span style="color:navy">dw </span><span style="color:#008040">1059                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:98B8                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98B9 </span>ONMES_PTR       <span style="color:navy">dw </span><span style="color:#008040">1060                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:98BB                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98BC </span>DEVWMES_PTR     <span style="color:navy">dw </span><span style="color:#008040">1061                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:98BE                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98BF </span>INVAL_PATH_PTR  <span style="color:navy">dw </span><span style="color:#008040">1062
</span><span style="color:gray">TRANGROUP:98C1                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98C2 </span>arg_buf_ptr     <span style="color:navy">dw </span><span style="color:#008040">1063                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:98C4                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98C5                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:98C6                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98C7                 </span><span style="color:navy">dw offset </span>Arg_Buf
<span style="color:gray">TRANGROUP:98C9                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98CB                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98CC                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:98CD                 </span><span style="color:navy">db </span><span style="color:#008040">80h
</span><span style="color:gray">TRANGROUP:98CE                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98CF                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:98D0 </span>file_name_ptr   <span style="color:navy">dw </span><span style="color:#008040">1064                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:98D2                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98D3                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:98D4                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98D5                 </span><span style="color:navy">dw offset </span>SrcBuf
<span style="color:gray">TRANGROUP:98D7                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98D9                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98DA                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:98DB                 </span><span style="color:navy">db </span><span style="color:#008040">80h
</span><span style="color:gray">TRANGROUP:98DC                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98DD                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:98DE </span>disp_file_size_ptr <span style="color:navy">dw </span><span style="color:#008040">1065              </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:98E0                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98E1                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:98E2                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98E3                 </span><span style="color:navy">dw offset </span>File_Size_Low
<span style="color:gray">TRANGROUP:98E5                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98E7                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98E8 </span>screen_f_1      <span style="color:navy">db </span><span style="color:#008040">0F1h                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:98E9 </span>screen_f_2      <span style="color:navy">db </span><span style="color:#008040">14                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:98EA                 </span><span style="color:navy">db </span><span style="color:#008040">14
</span><span style="color:gray">TRANGROUP:98EB                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:98EC </span>string_buf_ptr  <span style="color:navy">dw </span><span style="color:#008040">1066                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:98EE                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98EF                 </span><span style="color:navy">db </span><span style="color:#008040">11
</span><span style="color:gray">TRANGROUP:98F0                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98F1                 </span><span style="color:navy">dw offset </span>string_ptr_2
<span style="color:gray">TRANGROUP:98F3                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98F5                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:98F6                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:98F7                 </span><span style="color:navy">db </span><span style="color:#008040">128
</span><span style="color:gray">TRANGROUP:98F8                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98F9                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:98FA                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98FB </span>tab_ptr         <span style="color:navy">dw </span><span style="color:#008040">1067                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:98FD                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:98FE </span>dmes_ptr        <span style="color:navy">dw </span><span style="color:#008040">1068                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9900                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9901 </span>space_4_ptr     <span style="color:navy">dw </span><span style="color:#008040">1105                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9903                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9904 </span>dback_ptr       <span style="color:navy">dw </span><span style="color:#008040">1069                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9906                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9907 </span>acrlf_ptr       <span style="color:navy">dw </span><span style="color:#008040">1070                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9909                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:990A </span>usadat_Ptr      <span style="color:navy">dw </span><span style="color:#008040">1072                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:990C                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:990D </span>eurdat_ptr      <span style="color:navy">dw </span><span style="color:#008040">1073                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:990F                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9910 </span>japdat_ptr      <span style="color:navy">dw </span><span style="color:#008040">1074                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9912                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9913 </span>promptdat_ptr   <span style="color:navy">dw </span><span style="color:#008040">1075                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9915                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9916                 </span><span style="color:navy">db </span><span style="color:#008040">11
</span><span style="color:gray">TRANGROUP:9917                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9918                 </span><span style="color:navy">dw offset </span>Arg_Buf
<span style="color:gray">TRANGROUP:991A                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:991C                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:991D                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:991E                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:991F                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9920                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:9921                 </span><span style="color:navy">db </span><span style="color:#008040">11
</span><span style="color:gray">TRANGROUP:9922                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9923 </span>promptDat_yr    <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9925 </span>promptDat_moday <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9927                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9928                 </span><span style="color:navy">db </span><span style="color:#008040">34h
</span><span style="color:gray">TRANGROUP:9929                 </span><span style="color:navy">db </span><span style="color:#008040">10
</span><span style="color:gray">TRANGROUP:992A                 </span><span style="color:navy">db </span><span style="color:#008040">8
</span><span style="color:gray">TRANGROUP:992B                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:992C </span>promtim_ptr     <span style="color:navy">dw </span><span style="color:#008040">1076                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:992E                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:992F                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:9930                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9931 </span>PromTim_hr_min  <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9933 </span>PromTim_Sec_hn  <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9935                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9936                 </span><span style="color:navy">db </span><span style="color:#008040">0A6h
</span><span style="color:gray">TRANGROUP:9937                 </span><span style="color:navy">db </span><span style="color:#008040">11
</span><span style="color:gray">TRANGROUP:9938                 </span><span style="color:navy">db </span><span style="color:#008040">11
</span><span style="color:gray">TRANGROUP:9939                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:993A </span>dirdattim_ptr   <span style="color:navy">dw </span><span style="color:#008040">1077                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:993C                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:993D                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:993E                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:993F </span>DirDat_Yr       <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9941 </span>DirDat_Mo_Day   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9943                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9944                 </span><span style="color:navy">db </span><span style="color:#008040">0A4h
</span><span style="color:gray">TRANGROUP:9945                 </span><span style="color:navy">db </span><span style="color:#008040">10
</span><span style="color:gray">TRANGROUP:9946                 </span><span style="color:navy">db </span><span style="color:#008040">8
</span><span style="color:gray">TRANGROUP:9947                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:9948                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:9949                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:994A </span>DirTim_Hr_Min   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:994C </span>DirTim_Sec_hn   <span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:994E                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:994F                 </span><span style="color:navy">db </span><span style="color:#008040">85h
</span><span style="color:gray">TRANGROUP:9950                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9951                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9952                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:9953 </span>MD_EXISTS_PTR   <span style="color:navy">dw </span><span style="color:#008040">1078                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9955                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9956 </span>bytes_ptr       <span style="color:navy">dw </span><span style="color:#008040">1079                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9958                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9959                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:995A                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:995B                 </span><span style="color:navy">dw offset </span>FileSiz
<span style="color:gray">TRANGROUP:995D                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:995F                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9960 </span>screen_f_4      <span style="color:navy">db </span><span style="color:#008040">0F1h                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9961 </span>screen_f_5      <span style="color:navy">db </span><span style="color:#008040">14                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9962                 </span><span style="color:navy">db </span><span style="color:#008040">14
</span><span style="color:gray">TRANGROUP:9963                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:9964 </span>total_ptr       <span style="color:navy">dw </span><span style="color:#008040">1080                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9966                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9967 </span>errparsenv_ptr  <span style="color:navy">dw </span><span style="color:#008040">1081                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9969                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:996A </span>cox_Y_quest_ptr <span style="color:navy">dw </span><span style="color:#008040">1082                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:996C                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:996D </span>cox_Y_answ_ptr  <span style="color:navy">dw </span><span style="color:#008040">1083
</span><span style="color:gray">TRANGROUP:996F                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9970 </span>dircont_ptr     <span style="color:navy">dw </span><span style="color:#008040">1084                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9972                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9973                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:9974                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9975                 </span><span style="color:navy">dw offset </span>BWDBUF
<span style="color:gray">TRANGROUP:9977                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9979                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:997A                 </span><span style="color:navy">db </span><span style="color:#008040">10h
</span><span style="color:gray">TRANGROUP:997B                 </span><span style="color:navy">db </span><span style="color:#008040">80h
</span><span style="color:gray">TRANGROUP:997C                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:997D                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:997E </span>dosrev_ptr      <span style="color:navy">dw </span><span style="color:#008040">1090                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9980                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9981                 </span><span style="color:navy">dw </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:9983                 </span><span style="color:navy">dw offset </span>One_Char_Val
<span style="color:gray">TRANGROUP:9985                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9987                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9988                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9989                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:998A                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:998B                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:998C </span>DosRom_Ptr      <span style="color:navy">dw </span><span style="color:#008040">1091                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:998E                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:998F </span>DosHma_Ptr      <span style="color:navy">dw </span><span style="color:#008040">1092                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9991                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9992 </span>DosLow_Ptr      <span style="color:navy">dw </span><span style="color:#008040">1093                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9994                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9995 </span>NoExecBat_Ptr   <span style="color:navy">dw </span><span style="color:#008040">1094                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9997                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9998 </span>LhInvFil_Ptr    <span style="color:navy">dw </span><span style="color:#008040">1095                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:999A                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:999B </span>NoCntry_Ptr     <span style="color:navy">dw </span><span style="color:#008040">1096                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:999D                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:999E </span>LhInvArg_Ptr    <span style="color:navy">dw </span><span style="color:#008040">1097                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:99A0                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:99A1 </span>ReqParmMiss     <span style="color:navy">dw </span><span style="color:#008040">1098                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:99A3                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:99A4 </span>LhInvSwt_Ptr    <span style="color:navy">dw </span><span style="color:#008040">1099                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:99A6                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:99A7 </span>LhBadUMB_Ptr    <span style="color:navy">dw </span><span style="color:#008040">1100                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:99A9                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:99AA </span>DirCompRatio_Ptr <span style="color:navy">dw </span><span style="color:#008040">1101                </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:99AC                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:99AD                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:99AE                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:99AF                 </span><span style="color:navy">dw offset </span>Dir_CRatio_1
<span style="color:gray">TRANGROUP:99B1                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:99B3                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:99B4                 </span><span style="color:navy">db </span><span style="color:#008040">91h
</span><span style="color:gray">TRANGROUP:99B5                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:99B6                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:99B7                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:99B8                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:99B9                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:99BA                 </span><span style="color:navy">dw offset </span>Dir_CRatio_2
<span style="color:gray">TRANGROUP:99BC                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:99BE                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:99BF                 </span><span style="color:navy">db </span><span style="color:#008040">11h
</span><span style="color:gray">TRANGROUP:99C0                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:99C1                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:99C2                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:99C3 </span>AveCompRatio_Ptr <span style="color:navy">dw </span><span style="color:#008040">1102                </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:99C5                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:99C6                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:99C7                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:99C8                 </span><span style="color:navy">dw offset </span>Dir_CRatio_1
<span style="color:gray">TRANGROUP:99CA                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:99CC                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:99CD                 </span><span style="color:navy">db </span><span style="color:#008040">91h
</span><span style="color:gray">TRANGROUP:99CE                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:99CF                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:99D0                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:99D1                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh
</span><span style="color:gray">TRANGROUP:99D2                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:99D3                 </span><span style="color:navy">dw offset </span>Dir_CRatio_2
<span style="color:gray">TRANGROUP:99D5                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:99D7                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:99D8                 </span><span style="color:navy">db </span><span style="color:#008040">11h
</span><span style="color:gray">TRANGROUP:99D9                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:99DA                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:99DB                 </span><span style="color:navy">db </span><span style="color:#008040">20h
</span><span style="color:gray">TRANGROUP:99DC </span>PATH_TEXT       <span style="color:navy">db 'PATH='              </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:99E1 </span>PROMPT_TEXT     <span style="color:navy">db 'PROMPT='            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:99E8 </span>COMSPECSTR      <span style="color:navy">db 'COMSPEC='           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:99F0 </span>DirEnvVar       <span style="color:navy">db 'DIRCMD='            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:99F7 </span>BreakHelpMsgs   <span style="color:navy">dw </span><span style="color:#008040">1300</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:99FB </span>ChcpHelpMsgs    <span style="color:navy">dw </span><span style="color:#008040">1320</span><span style="color:navy">,</span><span style="color:#008040">1321</span><span style="color:navy">,   </span><span style="color:#008040">0       </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A01 </span>CdHelpMsgs      <span style="color:navy">dw </span><span style="color:#008040">1340</span><span style="color:navy">,</span><span style="color:#008040">1341</span><span style="color:navy">,</span><span style="color:#008040">1342</span><span style="color:navy">,   </span><span style="color:#008040">0  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A09 </span>ClsHelpMsgs     <span style="color:navy">dw </span><span style="color:#008040">1360</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A0D </span>CopyHelpMsgs    <span style="color:navy">dw </span><span style="color:#008040">1400</span><span style="color:navy">,</span><span style="color:#008040">1401</span><span style="color:navy">,</span><span style="color:#008040">1402</span><span style="color:navy">,</span><span style="color:#008040">1403</span><span style="color:navy">,</span><span style="color:#008040">1404</span><span style="color:navy">,</span><span style="color:#008040">1405</span><span style="color:navy">,</span><span style="color:#008040">1406</span><span style="color:navy">,</span><span style="color:#008040">1407</span><span style="color:navy">,   </span><span style="color:#008040">0 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A1F </span>CttyHelpMsgs    <span style="color:navy">dw </span><span style="color:#008040">1420</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A23 </span>DateHelpMsgs    <span style="color:navy">dw </span><span style="color:#008040">1440</span><span style="color:navy">,</span><span style="color:#008040">1441</span><span style="color:navy">,   </span><span style="color:#008040">0       </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A29 </span>DelHelpMsgs     <span style="color:navy">dw </span><span style="color:#008040">1460</span><span style="color:navy">,</span><span style="color:#008040">1461</span><span style="color:navy">,</span><span style="color:#008040">1462</span><span style="color:navy">,   </span><span style="color:#008040">0  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A31 </span>DirHelpMsgs     <span style="color:navy">dw </span><span style="color:#008040">1480</span><span style="color:navy">,</span><span style="color:#008040">1481</span><span style="color:navy">,</span><span style="color:#008040">1482</span><span style="color:navy">,</span><span style="color:#008040">1483</span><span style="color:navy">,</span><span style="color:#008040">1484</span><span style="color:navy">,</span><span style="color:#008040">1485</span><span style="color:navy">,</span><span style="color:#008040">1486</span><span style="color:navy">,</span><span style="color:#008040">1487</span><span style="color:navy">,</span><span style="color:#008040">1488</span><span style="color:navy">,</span><span style="color:#008040">1489</span><span style="color:navy">,</span><span style="color:#008040">1490 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A31                 </span><span style="color:navy">dw </span><span style="color:#008040">1491</span><span style="color:navy">,</span><span style="color:#008040">1492
</span><span style="color:gray">TRANGROUP:9A4B                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9A4D </span>ExitHelpMsgs    <span style="color:navy">dw </span><span style="color:#008040">1500</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A51 </span>MdHelpMsgs      <span style="color:navy">dw </span><span style="color:#008040">1520</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A55 </span>PathHelpMsgs    <span style="color:navy">dw </span><span style="color:#008040">1540</span><span style="color:navy">,</span><span style="color:#008040">1541</span><span style="color:navy">,</span><span style="color:#008040">1542</span><span style="color:navy">,   </span><span style="color:#008040">0  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A5D </span>PromptHelpMsgs  <span style="color:navy">dw </span><span style="color:#008040">1560</span><span style="color:navy">,</span><span style="color:#008040">1561</span><span style="color:navy">,</span><span style="color:#008040">1562</span><span style="color:navy">,</span><span style="color:#008040">1563</span><span style="color:navy">,</span><span style="color:#008040">1564</span><span style="color:navy">,</span><span style="color:#008040">1565</span><span style="color:navy">,</span><span style="color:#008040">1566</span><span style="color:navy">,</span><span style="color:#008040">1567</span><span style="color:navy">,</span><span style="color:#008040">1568</span><span style="color:navy">,   </span><span style="color:#008040">0 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A71 </span>RdHelpMsgs      <span style="color:navy">dw </span><span style="color:#008040">1580</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A75 </span>RenHelpMsgs     <span style="color:navy">dw </span><span style="color:#008040">1600</span><span style="color:navy">,</span><span style="color:#008040">1601</span><span style="color:navy">,</span><span style="color:#008040">1602</span><span style="color:navy">,   </span><span style="color:#008040">0  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A7D </span>SetHelpMsgs     <span style="color:navy">dw </span><span style="color:#008040">1620</span><span style="color:navy">,</span><span style="color:#008040">1621</span><span style="color:navy">,</span><span style="color:#008040">1622</span><span style="color:navy">,   </span><span style="color:#008040">0  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A85 </span>TimeHelpMsgs    <span style="color:navy">dw </span><span style="color:#008040">1640</span><span style="color:navy">,</span><span style="color:#008040">1641</span><span style="color:navy">,   </span><span style="color:#008040">0       </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A8B </span>TypeHelpMsgs    <span style="color:navy">dw </span><span style="color:#008040">1660</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A8F </span>VerHelpMsgs     <span style="color:navy">dw </span><span style="color:#008040">1680</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A93 </span>VerifyHelpMsgs  <span style="color:navy">dw </span><span style="color:#008040">1700</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A97 </span>VolHelpMsgs     <span style="color:navy">dw </span><span style="color:#008040">1720</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9A9B </span>CallHelpMsgs    <span style="color:navy">dw </span><span style="color:#008040">1740</span><span style="color:navy">,</span><span style="color:#008040">1741</span><span style="color:navy">,   </span><span style="color:#008040">0       </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9AA1 </span>RemHelpMsgs     <span style="color:navy">dw </span><span style="color:#008040">1760</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9AA5 </span>PauseHelpMsgs   <span style="color:navy">dw </span><span style="color:#008040">1780</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9AA9 </span>EchoHelpMsgs    <span style="color:navy">dw </span><span style="color:#008040">1800</span><span style="color:navy">,</span><span style="color:#008040">1801</span><span style="color:navy">,   </span><span style="color:#008040">0       </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9AAF </span>GotoHelpMsgs    <span style="color:navy">dw </span><span style="color:#008040">1820</span><span style="color:navy">,</span><span style="color:#008040">1821</span><span style="color:navy">,   </span><span style="color:#008040">0       </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9AB5 </span>ShiftHelpMsgs   <span style="color:navy">dw </span><span style="color:#008040">1840</span><span style="color:navy">,   </span><span style="color:#008040">0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9AB9 </span>IfHelpMsgs      <span style="color:navy">dw </span><span style="color:#008040">1860</span><span style="color:navy">,</span><span style="color:#008040">1861</span><span style="color:navy">,</span><span style="color:#008040">1862</span><span style="color:navy">,</span><span style="color:#008040">1863</span><span style="color:navy">,</span><span style="color:#008040">1864</span><span style="color:navy">,</span><span style="color:#008040">1865</span><span style="color:navy">,</span><span style="color:#008040">1866</span><span style="color:navy">,   </span><span style="color:#008040">0 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9AC9 </span>ForHelpMsgs     <span style="color:navy">dw </span><span style="color:#008040">1880</span><span style="color:navy">,</span><span style="color:#008040">1881</span><span style="color:navy">,</span><span style="color:#008040">1882</span><span style="color:navy">,</span><span style="color:#008040">1883</span><span style="color:navy">,   </span><span style="color:#008040">0 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9AD3 </span>TruenameHelpMsgs <span style="color:navy">dw </span><span style="color:#008040">1900</span><span style="color:navy">,   </span><span style="color:#008040">0           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9AD7 </span>LoadhighHelpMsgs <span style="color:navy">dw </span><span style="color:#008040">1920</span><span style="color:navy">,</span><span style="color:#008040">1921</span><span style="color:navy">,</span><span style="color:#008040">1922</span><span style="color:navy">,</span><span style="color:#008040">1923</span><span style="color:navy">,</span><span style="color:#008040">1924</span><span style="color:navy">,</span><span style="color:#008040">1925</span><span style="color:navy">,</span><span style="color:#008040">1926</span><span style="color:navy">,</span><span style="color:#008040">1927</span><span style="color:navy">,   </span><span style="color:#008040">0 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9AE9 </span>CLSSTRING       <span style="color:navy">db </span><span style="color:#008040">4                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9AEA                 </span><span style="color:navy">db </span><span style="color:#008040">1Bh                  </span>; ESC
<span style="color:gray">TRANGROUP:9AEB </span>clsstring_2     <span style="color:navy">db '[2J'                </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9AEE </span>PROMPT_TABLE    <span style="color:navy">db </span><span style="color:green">'B'
</span><span style="color:gray">TRANGROUP:9AEF                 </span><span style="color:navy">dw offset </span>Print_B
<span style="color:gray">TRANGROUP:9AF1                 </span><span style="color:navy">db </span><span style="color:green">'D'
</span><span style="color:gray">TRANGROUP:9AF2                 </span><span style="color:navy">dw offset </span>PRINT_DATE
<span style="color:gray">TRANGROUP:9AF4                 </span><span style="color:navy">db </span><span style="color:green">'E'
</span><span style="color:gray">TRANGROUP:9AF5                 </span><span style="color:navy">dw offset </span>PRINT_ESC
<span style="color:gray">TRANGROUP:9AF7                 </span><span style="color:navy">db </span><span style="color:green">'G'
</span><span style="color:gray">TRANGROUP:9AF8                 </span><span style="color:navy">dw offset </span>PRINT_G
<span style="color:gray">TRANGROUP:9AFA                 </span><span style="color:navy">db </span><span style="color:green">'H'
</span><span style="color:gray">TRANGROUP:9AFB                 </span><span style="color:navy">dw offset </span>PRINT_BACK
<span style="color:gray">TRANGROUP:9AFD                 </span><span style="color:navy">db </span><span style="color:green">'L'
</span><span style="color:gray">TRANGROUP:9AFE                 </span><span style="color:navy">dw offset </span>PRINT_L
<span style="color:gray">TRANGROUP:9B00                 </span><span style="color:navy">db </span><span style="color:green">'N'
</span><span style="color:gray">TRANGROUP:9B01                 </span><span style="color:navy">dw offset </span>PRINT_DRIVE
<span style="color:gray">TRANGROUP:9B03                 </span><span style="color:navy">db </span><span style="color:green">'P'
</span><span style="color:gray">TRANGROUP:9B04                 </span><span style="color:navy">dw offset </span>build_dir_for_prompt
<span style="color:gray">TRANGROUP:9B06                 </span><span style="color:navy">db </span><span style="color:green">'Q'
</span><span style="color:gray">TRANGROUP:9B07                 </span><span style="color:navy">dw offset </span>PRINT_EQ
<span style="color:gray">TRANGROUP:9B09                 </span><span style="color:navy">db </span><span style="color:green">'T'
</span><span style="color:gray">TRANGROUP:9B0A                 </span><span style="color:navy">dw offset </span>PRINT_TIME
<span style="color:gray">TRANGROUP:9B0C                 </span><span style="color:navy">db </span><span style="color:green">'V'
</span><span style="color:gray">TRANGROUP:9B0D                 </span><span style="color:navy">dw offset </span>PRINT_VERSION
<span style="color:gray">TRANGROUP:9B0F                 </span><span style="color:navy">db </span><span style="color:green">'_'
</span><span style="color:gray">TRANGROUP:9B10                 </span><span style="color:navy">dw offset </span>CRLF2
<span style="color:gray">TRANGROUP:9B12                 </span><span style="color:navy">db </span><span style="color:green">'$'
</span><span style="color:gray">TRANGROUP:9B13                 </span><span style="color:navy">dw offset </span>PRINT_CHAR
<span style="color:gray">TRANGROUP:9B15                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9B16 </span>IFTAB           <span style="color:navy">db </span><span style="color:#008040">3                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9B17                 </span><span style="color:navy">db 'NOT'
</span><span style="color:gray">TRANGROUP:9B1A                 </span><span style="color:navy">dw offset </span>IFNOT
<span style="color:gray">TRANGROUP:9B1C                 </span><span style="color:navy">db </span><span style="color:#008040">10
</span><span style="color:gray">TRANGROUP:9B1D                 </span><span style="color:navy">db 'ERRORLEVEL'
</span><span style="color:gray">TRANGROUP:9B27                 </span><span style="color:navy">dw offset </span>IFERLEV
<span style="color:gray">TRANGROUP:9B29                 </span><span style="color:navy">db </span><span style="color:#008040">5
</span><span style="color:gray">TRANGROUP:9B2A                 </span><span style="color:navy">db 'EXIST'
</span><span style="color:gray">TRANGROUP:9B2F                 </span><span style="color:navy">dw offset </span>IFEXISTS
<span style="color:gray">TRANGROUP:9B31                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9B32 </span>COMTAB          <span style="color:navy">db </span><span style="color:#008040">3                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9B33                 </span><span style="color:navy">db 'DIR'
</span><span style="color:gray">TRANGROUP:9B36                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9B37                 </span><span style="color:navy">dw offset </span>CATALOG
<span style="color:gray">TRANGROUP:9B39                 </span><span style="color:navy">dw offset </span>DirHelpMsgs
<span style="color:gray">TRANGROUP:9B3B                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9B3C                 </span><span style="color:navy">db 'CALL'
</span><span style="color:gray">TRANGROUP:9B40                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9B41                 </span><span style="color:navy">dw offset </span>_$CALL
<span style="color:gray">TRANGROUP:9B43                 </span><span style="color:navy">dw offset </span>CallHelpMsgs
<span style="color:gray">TRANGROUP:9B45                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9B46                 </span><span style="color:navy">db 'CHCP'
</span><span style="color:gray">TRANGROUP:9B4A                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9B4B                 </span><span style="color:navy">dw offset </span>CHCP
<span style="color:gray">TRANGROUP:9B4D                 </span><span style="color:navy">dw offset </span>ChcpHelpMsgs
<span style="color:gray">TRANGROUP:9B4F                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9B50                 </span><span style="color:navy">db 'RENAME'
</span><span style="color:gray">TRANGROUP:9B56                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9B57                 </span><span style="color:navy">dw offset </span>CRENAME
<span style="color:gray">TRANGROUP:9B59                 </span><span style="color:navy">dw offset </span>RenHelpMsgs
<span style="color:gray">TRANGROUP:9B5B                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9B5C                 </span><span style="color:navy">db 'REN'
</span><span style="color:gray">TRANGROUP:9B5F                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9B60                 </span><span style="color:navy">dw offset </span>CRENAME
<span style="color:gray">TRANGROUP:9B62                 </span><span style="color:navy">dw offset </span>RenHelpMsgs
<span style="color:gray">TRANGROUP:9B64                 </span><span style="color:navy">db </span><span style="color:#008040">5
</span><span style="color:gray">TRANGROUP:9B65                 </span><span style="color:navy">db 'ERASE'
</span><span style="color:gray">TRANGROUP:9B6A                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9B6B                 </span><span style="color:navy">dw offset </span>ERASE
<span style="color:gray">TRANGROUP:9B6D                 </span><span style="color:navy">dw offset </span>DelHelpMsgs
<span style="color:gray">TRANGROUP:9B6F                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9B70                 </span><span style="color:navy">db 'DEL'
</span><span style="color:gray">TRANGROUP:9B73                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9B74                 </span><span style="color:navy">dw offset </span>ERASE
<span style="color:gray">TRANGROUP:9B76                 </span><span style="color:navy">dw offset </span>DelHelpMsgs
<span style="color:gray">TRANGROUP:9B78                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9B79                 </span><span style="color:navy">db 'TYPE'
</span><span style="color:gray">TRANGROUP:9B7D                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9B7E                 </span><span style="color:navy">dw offset </span>TYPEFIL
<span style="color:gray">TRANGROUP:9B80                 </span><span style="color:navy">dw offset </span>TypeHelpMsgs
<span style="color:gray">TRANGROUP:9B82                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9B83                 </span><span style="color:navy">db 'REM'
</span><span style="color:gray">TRANGROUP:9B86                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9B87                 </span><span style="color:navy">dw offset </span>TCOMMAND
<span style="color:gray">TRANGROUP:9B89                 </span><span style="color:navy">dw offset </span>RemHelpMsgs
<span style="color:gray">TRANGROUP:9B8B                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9B8C                 </span><span style="color:navy">db 'COPY'
</span><span style="color:gray">TRANGROUP:9B90                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9B91                 </span><span style="color:navy">dw offset </span>COPY
<span style="color:gray">TRANGROUP:9B93                 </span><span style="color:navy">dw offset </span>CopyHelpMsgs
<span style="color:gray">TRANGROUP:9B95                 </span><span style="color:navy">db </span><span style="color:#008040">5
</span><span style="color:gray">TRANGROUP:9B96                 </span><span style="color:navy">db 'PAUSE'
</span><span style="color:gray">TRANGROUP:9B9B                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9B9C                 </span><span style="color:navy">dw offset </span>PAUSE
<span style="color:gray">TRANGROUP:9B9E                 </span><span style="color:navy">dw offset </span>PauseHelpMsgs
<span style="color:gray">TRANGROUP:9BA0                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9BA1                 </span><span style="color:navy">db 'DATE'
</span><span style="color:gray">TRANGROUP:9BA5                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9BA6                 </span><span style="color:navy">dw offset </span>DATE
<span style="color:gray">TRANGROUP:9BA8                 </span><span style="color:navy">dw offset </span>DateHelpMsgs
<span style="color:gray">TRANGROUP:9BAA                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9BAB                 </span><span style="color:navy">db 'TIME'
</span><span style="color:gray">TRANGROUP:9BAF                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9BB0                 </span><span style="color:navy">dw offset </span>CTIME
<span style="color:gray">TRANGROUP:9BB2                 </span><span style="color:navy">dw offset </span>TimeHelpMsgs
<span style="color:gray">TRANGROUP:9BB4                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9BB5                 </span><span style="color:navy">db 'VER'
</span><span style="color:gray">TRANGROUP:9BB8                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9BB9                 </span><span style="color:navy">dw offset </span>VERSION
<span style="color:gray">TRANGROUP:9BBB                 </span><span style="color:navy">dw offset </span>VerHelpMsgs
<span style="color:gray">TRANGROUP:9BBD                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9BBE                 </span><span style="color:navy">db 'VOL'
</span><span style="color:gray">TRANGROUP:9BC1                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9BC2                 </span><span style="color:navy">dw offset </span>VOLUME
<span style="color:gray">TRANGROUP:9BC4                 </span><span style="color:navy">dw offset </span>VolHelpMsgs
<span style="color:gray">TRANGROUP:9BC6                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9BC7                 </span><span style="color:navy">db 'CD'
</span><span style="color:gray">TRANGROUP:9BC9                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9BCA                 </span><span style="color:navy">dw offset </span>_$CHDIR
<span style="color:gray">TRANGROUP:9BCC                 </span><span style="color:navy">dw offset </span>CdHelpMsgs
<span style="color:gray">TRANGROUP:9BCE                 </span><span style="color:navy">db </span><span style="color:#008040">5
</span><span style="color:gray">TRANGROUP:9BCF                 </span><span style="color:navy">db 'CHDIR'
</span><span style="color:gray">TRANGROUP:9BD4                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9BD5                 </span><span style="color:navy">dw offset </span>_$CHDIR
<span style="color:gray">TRANGROUP:9BD7                 </span><span style="color:navy">dw offset </span>CdHelpMsgs
<span style="color:gray">TRANGROUP:9BD9                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9BDA                 </span><span style="color:navy">db 'MD'
</span><span style="color:gray">TRANGROUP:9BDC                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9BDD                 </span><span style="color:navy">dw offset </span>_$MKDIR
<span style="color:gray">TRANGROUP:9BDF                 </span><span style="color:navy">dw offset </span>MdHelpMsgs
<span style="color:gray">TRANGROUP:9BE1                 </span><span style="color:navy">db </span><span style="color:#008040">5
</span><span style="color:gray">TRANGROUP:9BE2                 </span><span style="color:navy">db 'MKDIR'
</span><span style="color:gray">TRANGROUP:9BE7                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9BE8                 </span><span style="color:navy">dw offset </span>_$MKDIR
<span style="color:gray">TRANGROUP:9BEA                 </span><span style="color:navy">dw offset </span>MdHelpMsgs
<span style="color:gray">TRANGROUP:9BEC                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9BED                 </span><span style="color:navy">db 'RD'
</span><span style="color:gray">TRANGROUP:9BEF                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9BF0                 </span><span style="color:navy">dw offset </span>_$RMDIR
<span style="color:gray">TRANGROUP:9BF2                 </span><span style="color:navy">dw offset </span>RdHelpMsgs
<span style="color:gray">TRANGROUP:9BF4                 </span><span style="color:navy">db </span><span style="color:#008040">5
</span><span style="color:gray">TRANGROUP:9BF5                 </span><span style="color:navy">db 'RMDIR'
</span><span style="color:gray">TRANGROUP:9BFA                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9BFB                 </span><span style="color:navy">dw offset </span>_$RMDIR
<span style="color:gray">TRANGROUP:9BFD                 </span><span style="color:navy">dw offset </span>RdHelpMsgs
<span style="color:gray">TRANGROUP:9BFF                 </span><span style="color:navy">db </span><span style="color:#008040">5
</span><span style="color:gray">TRANGROUP:9C00                 </span><span style="color:navy">db 'BREAK'
</span><span style="color:gray">TRANGROUP:9C05                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9C06                 </span><span style="color:navy">dw offset </span>CNTRLC
<span style="color:gray">TRANGROUP:9C08                 </span><span style="color:navy">dw offset </span>BreakHelpMsgs
<span style="color:gray">TRANGROUP:9C0A                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9C0B                 </span><span style="color:navy">db 'VERIFY'
</span><span style="color:gray">TRANGROUP:9C11                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9C12                 </span><span style="color:navy">dw offset </span>VERIFY
<span style="color:gray">TRANGROUP:9C14                 </span><span style="color:navy">dw offset </span>VerifyHelpMsgs
<span style="color:gray">TRANGROUP:9C16                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9C17                 </span><span style="color:navy">db 'SET'
</span><span style="color:gray">TRANGROUP:9C1A                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9C1B                 </span><span style="color:navy">dw offset </span>ADD_NAME_TO_ENVIRONMENT
<span style="color:gray">TRANGROUP:9C1D                 </span><span style="color:navy">dw offset </span>SetHelpMsgs
<span style="color:gray">TRANGROUP:9C1F                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9C20                 </span><span style="color:navy">db 'PROMPT'
</span><span style="color:gray">TRANGROUP:9C26                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9C27                 </span><span style="color:navy">dw offset </span>ADD_PROMPT
<span style="color:gray">TRANGROUP:9C29                 </span><span style="color:navy">dw offset </span>PromptHelpMsgs
<span style="color:gray">TRANGROUP:9C2B                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9C2C                 </span><span style="color:navy">db 'PATH'
</span><span style="color:gray">TRANGROUP:9C30                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9C31                 </span><span style="color:navy">dw offset </span>PATH
<span style="color:gray">TRANGROUP:9C33                 </span><span style="color:navy">dw offset </span>PathHelpMsgs
<span style="color:gray">TRANGROUP:9C35                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9C36                 </span><span style="color:navy">db 'EXIT'
</span><span style="color:gray">TRANGROUP:9C3A                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9C3B                 </span><span style="color:navy">dw offset </span>_$EXIT
<span style="color:gray">TRANGROUP:9C3D                 </span><span style="color:navy">dw offset </span>ExitHelpMsgs
<span style="color:gray">TRANGROUP:9C3F                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9C40                 </span><span style="color:navy">db 'CTTY'
</span><span style="color:gray">TRANGROUP:9C44                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9C45                 </span><span style="color:navy">dw offset </span>CTTY
<span style="color:gray">TRANGROUP:9C47                 </span><span style="color:navy">dw offset </span>CttyHelpMsgs
<span style="color:gray">TRANGROUP:9C49                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9C4A                 </span><span style="color:navy">db 'ECHO'
</span><span style="color:gray">TRANGROUP:9C4E                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9C4F                 </span><span style="color:navy">dw offset </span>ECHO
<span style="color:gray">TRANGROUP:9C51                 </span><span style="color:navy">dw offset </span>EchoHelpMsgs
<span style="color:gray">TRANGROUP:9C53                 </span><span style="color:navy">db </span><span style="color:#008040">4
</span><span style="color:gray">TRANGROUP:9C54                 </span><span style="color:navy">db 'GOTO'
</span><span style="color:gray">TRANGROUP:9C58                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9C59                 </span><span style="color:navy">dw offset </span>GOTO
<span style="color:gray">TRANGROUP:9C5B                 </span><span style="color:navy">dw offset </span>GotoHelpMsgs
<span style="color:gray">TRANGROUP:9C5D                 </span><span style="color:navy">db </span><span style="color:#008040">5
</span><span style="color:gray">TRANGROUP:9C5E                 </span><span style="color:navy">db 'SHIFT'
</span><span style="color:gray">TRANGROUP:9C63                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9C64                 </span><span style="color:navy">dw offset </span>SHIFT
<span style="color:gray">TRANGROUP:9C66                 </span><span style="color:navy">dw offset </span>ShiftHelpMsgs
<span style="color:gray">TRANGROUP:9C68                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9C69                 </span><span style="color:navy">db 'IF'
</span><span style="color:gray">TRANGROUP:9C6B                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9C6C                 </span><span style="color:navy">dw offset </span>_$IF
<span style="color:gray">TRANGROUP:9C6E                 </span><span style="color:navy">dw offset </span>IfHelpMsgs
<span style="color:gray">TRANGROUP:9C70                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9C71                 </span><span style="color:navy">db 'FOR'
</span><span style="color:gray">TRANGROUP:9C74                 </span><span style="color:navy">db </span><span style="color:#008040">6
</span><span style="color:gray">TRANGROUP:9C75                 </span><span style="color:navy">dw offset </span>_$FOR
<span style="color:gray">TRANGROUP:9C77                 </span><span style="color:navy">dw offset </span>ForHelpMsgs
<span style="color:gray">TRANGROUP:9C79                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9C7A                 </span><span style="color:navy">db 'CLS'
</span><span style="color:gray">TRANGROUP:9C7D                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9C7E                 </span><span style="color:navy">dw offset </span>CLS
<span style="color:gray">TRANGROUP:9C80                 </span><span style="color:navy">dw offset </span>ClsHelpMsgs
<span style="color:gray">TRANGROUP:9C82                 </span><span style="color:navy">db </span><span style="color:#008040">8
</span><span style="color:gray">TRANGROUP:9C83                 </span><span style="color:navy">db 'TRUENAME'
</span><span style="color:gray">TRANGROUP:9C8B                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9C8C                 </span><span style="color:navy">dw offset </span>TRUENAME
<span style="color:gray">TRANGROUP:9C8E                 </span><span style="color:navy">dw offset </span>TruenameHelpMsgs
<span style="color:gray">TRANGROUP:9C90                 </span><span style="color:navy">db </span><span style="color:#008040">8
</span><span style="color:gray">TRANGROUP:9C91                 </span><span style="color:navy">db 'LOADHIGH'
</span><span style="color:gray">TRANGROUP:9C99                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9C9A                 </span><span style="color:navy">dw offset </span>LoadHigh
<span style="color:gray">TRANGROUP:9C9C                 </span><span style="color:navy">dw offset </span>LoadhighHelpMsgs
<span style="color:gray">TRANGROUP:9C9E                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9C9F                 </span><span style="color:navy">db 'LH'
</span><span style="color:gray">TRANGROUP:9CA1                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9CA2                 </span><span style="color:navy">dw offset </span>LoadHigh
<span style="color:gray">TRANGROUP:9CA4                 </span><span style="color:navy">dw offset </span>LoadhighHelpMsgs
<span style="color:gray">TRANGROUP:9CA6                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9CA7 </span>comext          <span style="color:navy">db '.COM'               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CAB </span>exeext          <span style="color:navy">db '.EXE'               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CAF </span>batext          <span style="color:navy">db '.BAT'               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CB3 </span>switch_list     <span style="color:navy">db '-Y?VBAPW'           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CBB </span>AttrLtrs        <span style="color:navy">db 'RHSvDA'             </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CC1 </span>OrderLtrs       <span style="color:navy">db 'NEDSGC'             </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CC7 </span>comspec_flag    <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CC8 </span>BATBUFLEN       <span style="color:navy">dw </span><span style="color:#008040">32                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CCA </span>NO_VALUES       <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CCC </span>NULL_VALUE_LIST <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CCD </span>FILE_REQUIRED   <span style="color:navy">dw </span><span style="color:#008040">200h                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CCF                 </span><span style="color:navy">dw </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9CD1                 </span><span style="color:navy">dw offset </span>PARSE1_OUTPUT
<span style="color:gray">TRANGROUP:9CD3                 </span><span style="color:navy">dw offset </span>NO_VALUES
<span style="color:gray">TRANGROUP:9CD5                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9CD6 </span>FILE_OPTIONAL   <span style="color:navy">dw </span><span style="color:#008040">301h                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CD8                 </span><span style="color:navy">dw </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9CDA                 </span><span style="color:navy">dw offset </span>PARSE1_OUTPUT
<span style="color:gray">TRANGROUP:9CDC                 </span><span style="color:navy">dw offset </span>NO_VALUES
<span style="color:gray">TRANGROUP:9CDE                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9CDF </span>FILE_OPTIONAL2  <span style="color:navy">dw </span><span style="color:#008040">201h                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CE1                 </span><span style="color:navy">dw </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9CE3                 </span><span style="color:navy">dw offset </span>PARSE1_OUTPUT
<span style="color:gray">TRANGROUP:9CE5                 </span><span style="color:navy">dw offset </span>NO_VALUES
<span style="color:gray">TRANGROUP:9CE7                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9CE8 </span>SLASH_P_SWITCH  <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CEA                 </span><span style="color:navy">dw </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9CEC                 </span><span style="color:navy">dw offset </span>PARSE1_OUTPUT
<span style="color:gray">TRANGROUP:9CEE                 </span><span style="color:navy">dw offset </span>NO_VALUES
<span style="color:gray">TRANGROUP:9CF0                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9CF1 </span>SLASH_P_SYN     <span style="color:navy">db '/P',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CF4 </span>PARSE_BREAK     <span style="color:navy">dw offset </span>BREAK_PARMS   <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CF6                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9CF7 </span>BREAK_PARMS     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CF8                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9CF9                 </span><span style="color:navy">dw offset </span>BREAK_CONTROL1
<span style="color:gray">TRANGROUP:9CFB                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9CFC                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9CFD </span>BREAK_CONTROL1  <span style="color:navy">dw </span><span style="color:#008040">2001h                </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9CFF                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9D00                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D01                 </span><span style="color:navy">dw offset </span>PARSE1_OUTPUT
<span style="color:gray">TRANGROUP:9D03                 </span><span style="color:navy">dw offset </span>BREAK_VALUES
<span style="color:gray">TRANGROUP:9D05                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D06 </span>BREAK_VALUES    <span style="color:navy">db </span><span style="color:#008040">3                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D07                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D08                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D09                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9D0A                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D0B                 </span><span style="color:navy">dw offset </span>BREAK_ON      <span style="color:gray">; &quot;ON&quot;
</span><span style="color:gray">TRANGROUP:9D0D                 </span><span style="color:navy">db </span><span style="color:green">'f'
</span><span style="color:gray">TRANGROUP:9D0E                 </span><span style="color:navy">dw offset </span>BREAK_OFF     <span style="color:gray">; &quot;OFF&quot;
</span><span style="color:gray">TRANGROUP:9D10 </span>BREAK_ON        <span style="color:navy">db 'ON',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D13 </span>BREAK_OFF       <span style="color:navy">db 'OFF',0              </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D17 </span>PARSE_CHCP      <span style="color:navy">dw offset </span>CHCP_PARMS    <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D19                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D1A </span>CHCP_PARMS      <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D1B                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9D1C                 </span><span style="color:navy">dw offset </span>CHCP_CONTROL1
<span style="color:gray">TRANGROUP:9D1E                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D1F                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D20 </span>CHCP_CONTROL1   <span style="color:navy">dw </span><span style="color:#008040">8001h                </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D22                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D24                 </span><span style="color:navy">dw offset </span>PARSE1_OUTPUT
<span style="color:gray">TRANGROUP:9D26                 </span><span style="color:navy">dw offset </span>CHCP_VALUES
<span style="color:gray">TRANGROUP:9D28                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D29 </span>CHCP_VALUES     <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D2A                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9D2B                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9D2C                 </span><span style="color:navy">dd </span><span style="color:#008040">100
</span><span style="color:gray">TRANGROUP:9D30                 </span><span style="color:navy">dd </span><span style="color:#008040">999
</span><span style="color:gray">TRANGROUP:9D34                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D35                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D36 </span>PARSE_DATE      <span style="color:navy">dw offset </span>DATE_PARMS    <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D38                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D39 </span>DATE_PARMS      <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D3A                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9D3B                 </span><span style="color:navy">dw offset </span>DATE_CONTROL1
<span style="color:gray">TRANGROUP:9D3D                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D3E                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D3F </span>DATE_CONTROL1   <span style="color:navy">dw </span><span style="color:#008040">1001h                </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D41                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D43                 </span><span style="color:navy">dw offset </span>DATE_OUTPUT
<span style="color:gray">TRANGROUP:9D45                 </span><span style="color:navy">dw offset </span>NO_VALUES
<span style="color:gray">TRANGROUP:9D47                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D48 </span>PARSE_TIME      <span style="color:navy">dw offset </span>TIME_PARMS    <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D4A                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D4B </span>TIME_PARMS      <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D4C                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9D4D                 </span><span style="color:navy">dw offset </span>TIME_CONTROL1
<span style="color:gray">TRANGROUP:9D4F                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D50                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D51 </span>TIME_CONTROL1   <span style="color:navy">dw </span><span style="color:#008040">801h                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D53                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D55                 </span><span style="color:navy">dw offset </span>TIME_OUTPUT
<span style="color:gray">TRANGROUP:9D57                 </span><span style="color:navy">dw offset </span>NO_VALUES
<span style="color:gray">TRANGROUP:9D59                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D5A </span>PARSE_VOL       <span style="color:navy">dw offset </span>VOL_PARMS     <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D5C                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D5D </span>VOL_PARMS       <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D5E                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9D5F                 </span><span style="color:navy">dw offset </span>DRIVE_CONTROL1
<span style="color:gray">TRANGROUP:9D61                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D62                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D63 </span>DRIVE_CONTROL1  <span style="color:navy">dw </span><span style="color:#008040">101h                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D65                 </span><span style="color:navy">dw </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9D67                 </span><span style="color:navy">dw offset </span>DRIVE_OUTPUT
<span style="color:gray">TRANGROUP:9D69                 </span><span style="color:navy">dw offset </span>NO_VALUES
<span style="color:gray">TRANGROUP:9D6B                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D6C </span>PARSE_MRDIR     <span style="color:navy">dw offset </span>MRDIR_PARMS   <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D6E                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D6F </span>MRDIR_PARMS     <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D70                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9D71                 </span><span style="color:navy">dw offset </span>FILE_REQUIRED
<span style="color:gray">TRANGROUP:9D73                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D74                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D75 </span>PARSE_CHDIR     <span style="color:navy">dw offset </span>CHDIR_PARMS   <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D77                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D78 </span>CHDIR_PARMS     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D79                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9D7A                 </span><span style="color:navy">dw offset </span>FILE_OPTIONAL
<span style="color:gray">TRANGROUP:9D7C                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D7D                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D7E </span>PARSE_ERASE     <span style="color:navy">dw offset </span>ERASE_PARMS   <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D80                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D81 </span>ERASE_PARMS     <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D82                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9D83                 </span><span style="color:navy">dw offset </span>FILE_REQUIRED
<span style="color:gray">TRANGROUP:9D85                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9D86                 </span><span style="color:navy">dw offset </span>SLASH_P_SWITCH
<span style="color:gray">TRANGROUP:9D88                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D89 </span>PARSE_DIR       <span style="color:navy">dw offset </span>DIR_PARMS     <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D8B                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D8C </span>DIR_PARMS       <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D8D                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9D8E                 </span><span style="color:navy">dw offset </span>FILE_OPTIONAL2
<span style="color:gray">TRANGROUP:9D90                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9D91                 </span><span style="color:navy">dw offset </span>DIR_SW_VALUED
<span style="color:gray">TRANGROUP:9D93                 </span><span style="color:navy">dw offset </span>DIR_SW_UNVALUED
<span style="color:gray">TRANGROUP:9D95                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9D96 </span>DIR_SW_VALUED   <span style="color:navy">dw </span><span style="color:#008040">2001h                </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9D98                 </span><span style="color:navy">dw </span><span style="color:#008040">21h
</span><span style="color:gray">TRANGROUP:9D9A                 </span><span style="color:navy">dw offset </span>PARSE1_OUTPUT
<span style="color:gray">TRANGROUP:9D9C                 </span><span style="color:navy">dw offset </span>NULL_VALUE_LIST
<span style="color:gray">TRANGROUP:9D9E                 </span><span style="color:navy">db </span><span style="color:#008040">3
</span><span style="color:gray">TRANGROUP:9D9F </span>DIR_SW_A        <span style="color:navy">db '/A',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DA2 </span>DIR_SW_O        <span style="color:navy">db '/O',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DA5 </span>DIR_SW_C        <span style="color:navy">db '/C',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DA8 </span>DIR_SW_UNVALUED <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DAA                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9DAC                 </span><span style="color:navy">dw offset </span>PARSE1_OUTPUT
<span style="color:gray">TRANGROUP:9DAE                 </span><span style="color:navy">dw offset </span>NO_VALUES
<span style="color:gray">TRANGROUP:9DB0                 </span><span style="color:navy">db </span><span style="color:#008040">13
</span><span style="color:gray">TRANGROUP:9DB1 </span>DIR_SW_NEG_A    <span style="color:navy">db '/-A',0              </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DB5 </span>DIR_SW_NEG_O    <span style="color:navy">db '/-O',0              </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DB9 </span>DIR_SW_S        <span style="color:navy">db '/S',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DBC </span>DIR_SW_NEG_S    <span style="color:navy">db '/-S',0              </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DC0 </span>DIR_SW_B        <span style="color:navy">db '/B',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DC3 </span>DIR_SW_NEG_B    <span style="color:navy">db '/-B',0              </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DC7 </span>DIR_SW_W        <span style="color:navy">db '/W',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DCA </span>DIR_SW_NEG_W    <span style="color:navy">db '/-W',0              </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DCE </span>DIR_SW_P        <span style="color:navy">db '/P',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DD1 </span>DIR_SW_NEG_P    <span style="color:navy">db '/-P',0              </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DD5 </span>DIR_SW_L        <span style="color:navy">db '/L',0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DD8 </span>DIR_SW_NEG_L    <span style="color:navy">db '/-L',0              </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DDC </span>DIR_SW_NEG_C    <span style="color:navy">db '/-C',0              </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DE0 </span>Dir_Sw_Ptrs     <span style="color:navy">dw offset </span>DIR_SW_NEG_C  <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DE0                                         ; &quot;/-C&quot;
</span><span style="color:gray">TRANGROUP:9DE2 </span>Dir_Sw_Ptrs_2   <span style="color:navy">dw offset </span>DIR_SW_C      <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9DE2                                         ; &quot;/C&quot;
</span><span style="color:gray">TRANGROUP:9DE4                 </span><span style="color:navy">dw offset </span>DIR_SW_NEG_W  <span style="color:gray">; &quot;/-W&quot;
</span><span style="color:gray">TRANGROUP:9DE6                 </span><span style="color:navy">dw offset </span>DIR_SW_W      <span style="color:gray">; &quot;/W&quot;
</span><span style="color:gray">TRANGROUP:9DE8                 </span><span style="color:navy">dw offset </span>DIR_SW_NEG_P  <span style="color:gray">; &quot;/-P&quot;
</span><span style="color:gray">TRANGROUP:9DEA                 </span><span style="color:navy">dw offset </span>DIR_SW_P      <span style="color:gray">; &quot;/P&quot;
</span><span style="color:gray">TRANGROUP:9DEC                 </span><span style="color:navy">dw offset </span>DIR_SW_NEG_S  <span style="color:gray">; &quot;/-S&quot;
</span><span style="color:gray">TRANGROUP:9DEE                 </span><span style="color:navy">dw offset </span>DIR_SW_S      <span style="color:gray">; &quot;/S&quot;
</span><span style="color:gray">TRANGROUP:9DF0                 </span><span style="color:navy">dw offset </span>DIR_SW_NEG_B  <span style="color:gray">; &quot;/-B&quot;
</span><span style="color:gray">TRANGROUP:9DF2                 </span><span style="color:navy">dw offset </span>DIR_SW_B      <span style="color:gray">; &quot;/B&quot;
</span><span style="color:gray">TRANGROUP:9DF4                 </span><span style="color:navy">dw offset </span>DIR_SW_NEG_L  <span style="color:gray">; &quot;/-L&quot;
</span><span style="color:gray">TRANGROUP:9DF6                 </span><span style="color:navy">dw offset </span>DIR_SW_L      <span style="color:gray">; &quot;/L&quot;
</span><span style="color:gray">TRANGROUP:9DF8                 </span><span style="color:navy">dw offset </span>DIR_SW_NEG_O  <span style="color:gray">; &quot;/-O&quot;
</span><span style="color:gray">TRANGROUP:9DFA                 </span><span style="color:navy">dw offset </span>DIR_SW_O      <span style="color:gray">; &quot;/O&quot;
</span><span style="color:gray">TRANGROUP:9DFC                 </span><span style="color:navy">dw offset </span>DIR_SW_NEG_A  <span style="color:gray">; &quot;/-A&quot;
</span><span style="color:gray">TRANGROUP:9DFE                 </span><span style="color:navy">dw offset </span>DIR_SW_A      <span style="color:gray">; &quot;/A&quot;
</span><span style="color:gray">TRANGROUP:9E00 </span>PARSE_RENAME    <span style="color:navy">dw offset </span>RENAME_PARMS  <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E02                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E03 </span>RENAME_PARMS    <span style="color:navy">db </span><span style="color:#008040">2                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E04                 </span><span style="color:navy">db </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9E05                 </span><span style="color:navy">dw offset </span>FILE_REQUIRED
<span style="color:gray">TRANGROUP:9E07                 </span><span style="color:navy">dw offset </span>FILE_REQUIRED
<span style="color:gray">TRANGROUP:9E09                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E0A                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E0B </span>PARSE_CTTY      <span style="color:navy">dw offset </span>CTTY_PARMS    <span style="color:#8080ff">; ...
</span><span style="color:olive">TRANGROUP:9E0D                 </span><span style="color:navy">db    </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E0E </span>CTTY_PARMS      <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E0F                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9E10                 </span><span style="color:navy">dw offset </span>CTTY_CONTROL1
<span style="color:gray">TRANGROUP:9E12                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E13                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E14 </span>CTTY_CONTROL1   <span style="color:navy">dw </span><span style="color:#008040">2000h                </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E16                 </span><span style="color:navy">dw </span><span style="color:#008040">11h
</span><span style="color:gray">TRANGROUP:9E18                 </span><span style="color:navy">dw offset </span>PARSE1_OUTPUT
<span style="color:gray">TRANGROUP:9E1A                 </span><span style="color:navy">dw offset </span>NO_VALUES
<span style="color:gray">TRANGROUP:9E1C                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E1D </span>PARSE_VER       <span style="color:navy">dw offset </span>VER_PARMS     <span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E1F                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E20 </span>VER_PARMS       <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E21                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E22                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9E23                 </span><span style="color:navy">dw offset </span>SLASH_R
<span style="color:gray">TRANGROUP:9E25                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E26 </span>SLASH_R         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E28                 </span><span style="color:navy">dw </span><span style="color:#008040">2
</span><span style="color:gray">TRANGROUP:9E2A                 </span><span style="color:navy">dw offset </span>PARSE1_OUTPUT
<span style="color:gray">TRANGROUP:9E2C                 </span><span style="color:navy">dw offset </span>NO_VALUES
<span style="color:gray">TRANGROUP:9E2E                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9E2F </span>SLASH_R_SYN     <span style="color:navy">db '/R',0
</span><span style="color:gray">TRANGROUP:9E32 </span>Parse_LoadHi    <span style="color:navy">dw offset </span>LoadHi_Parms
<span style="color:gray">TRANGROUP:9E34                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E35 </span>LoadHi_Parms    <span style="color:navy">db </span><span style="color:#008040">1                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E36                 </span><span style="color:navy">db </span><span style="color:#008040">1
</span><span style="color:gray">TRANGROUP:9E37                 </span><span style="color:navy">dw offset </span>FILE_REQUIRED
<span style="color:gray">TRANGROUP:9E39                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E3A                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9E3B </span>TempVarName     <span style="color:navy">db 'TEMP=',0            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E41 </span>copycmd         <span style="color:navy">db 'COPYCMD='           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E49 </span>sCVFRoot        <span style="color:navy">db '\DBLSPACE.'         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E53 </span>$P_ORDINAL      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E55 </span>$P_RC           <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E57 </span>$P_SI_Save      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E59 </span>$P_DX           <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E5B </span>$P_Terminator   <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E5C </span>$P_DBCSEV_OFF   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E5E </span>$P_DBCSEV_SEG   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E60 </span>$P_Flags        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E61 </span>$P_Flags2       <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E62 </span>$P_SaveSI_Cmpx  <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E64 </span>$P_KEYorSW_Ptr  <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E66 </span>$P_Save_EOB     <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E68 </span>$P_Found_SYNONYM <span style="color:navy">dw </span><span style="color:#008040">0                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9E6A </span>$P_STRING_BUF   <span style="color:navy">db </span><span style="color:#008040">128 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9EEA </span>$P_ORIG_ORD     <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9EEC </span>$P_ORIG_STACK   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9EEE </span>$P_ORIG_SI      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9EF0 </span>$P_Got_Time     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9EF1 </span>$P_Country_Info <span style="color:navy">dw </span><span style="color:#008040">0FFFFh               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9EF3                 </span><span style="color:navy">db </span><span style="color:#008040">32 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:9F13 </span>$P_1st_Val      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F15 </span>$P_2nd_Val      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F17 </span>$P_3rd_Val      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F19 </span>$P_4th_Val      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F1B </span>$P_Char_CAP_Ptr <span style="color:navy">db </span><span style="color:#008040">0FFh                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F1C                 </span><span style="color:navy">dd </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9F20 </span>$P_File_CAP_Ptr <span style="color:navy">db </span><span style="color:#008040">0FFh                 </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F21                 </span><span style="color:navy">dd </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:9F25 </span>$P_FileSp_Char  <span style="color:navy">db '[]|&lt;&gt;+=;&quot;'          </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F2E </span>$P_err_flag     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F2F </span>$M_RT_$M_EXT_ERR_ADDRS <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F33 </span>$M_RT_$M_EXT_FILE <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)        </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F37 </span>$M_RT_$M_EXT_COMMAND <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)     </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F3B                 </span><span style="color:navy">dd </span><span style="color:#008040">0FFFFFFFFh
</span><span style="color:gray">TRANGROUP:9F3F </span>$M_RT_$M_PARSE_COMMAND <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F43 </span>$M_RT_$M_PARSE_ADDRS <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)     </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F47                 </span><span style="color:navy">dd </span><span style="color:#008040">0FFFFFFFFh
</span><span style="color:gray">TRANGROUP:9F4B </span>$M_RT_$M_CRIT_ADDRS <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)      </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F4F </span>$M_RT_$M_CRIT_COMMAND <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F53                 </span><span style="color:navy">dd </span><span style="color:#008040">0FFFFFFFFh
</span><span style="color:gray">TRANGROUP:9F57 </span>$M_RT_$M_DISK_PROC_ADDR <span style="color:navy">dd </span><span style="color:#008040">0FFFFFFFFh   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F5B </span>$M_RT_$M_CLASS_ADDRS <span style="color:navy">dw </span><span style="color:#008040">6 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)     </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F67                 </span><span style="color:navy">dd </span><span style="color:#008040">0FFFFFFFFh
</span><span style="color:gray">TRANGROUP:9F6B </span>$M_RT_$M_DBCS_VEC <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)        </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F6F </span>$M_RT_$M_HANDLE <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F71 </span>$M_RT_$M_SIZE   <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F72 </span>$M_RT_$M_CRLF   <span style="color:navy">dw </span><span style="color:#008040">0A0Dh                </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F74 </span>$M_RT_$M_CLASS  <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F75 </span>$M_RT_$M_RETURN_ADDR <span style="color:navy">dw </span><span style="color:#008040">0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F77 </span>$M_RT_$M_MSG_NUM <span style="color:navy">dw </span><span style="color:#008040">0                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F79 </span>$M_RT_$M_DIVISOR <span style="color:navy">dw </span><span style="color:#008040">10                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F7B </span>$M_RT_$M_TEMP_BUF <span style="color:navy">dw </span><span style="color:#008040">2424h              </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F7D </span>$M_RT_$M_CURR_SEPARA <span style="color:navy">db </span><span style="color:#008040">5 </span><span style="color:navy">dup( </span><span style="color:green">'$'</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:9F82 </span>$M_RT_$M_THOU_SEPARA <span style="color:navy">dw </span><span style="color:#008040">2424h           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F84 </span>$M_RT_$M_DECI_SEPARA <span style="color:navy">dw </span><span style="color:#008040">2424h           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F86 </span>$M_RT_$M_DATE_SEPARA <span style="color:navy">dw </span><span style="color:#008040">2424h           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F88 </span>$M_RT_$M_TIME_SEPARA <span style="color:navy">dw </span><span style="color:#008040">2424h           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F8A </span>$M_RT_$M_CURR_FORMAT <span style="color:navy">db </span><span style="color:#008040">24h             </span>; $
<span style="color:gray">TRANGROUP:9F8B </span>$M_RT_$M_SIG_DIGS_CU <span style="color:navy">db </span><span style="color:#008040">24h             </span>; $
<span style="color:gray">TRANGROUP:9F8C </span>$M_RT_$M_TIME_FORMAT <span style="color:navy">db </span><span style="color:#008040">24h             </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9F8C                                         </span>; $
<span style="color:gray">TRANGROUP:9F8D                 </span><span style="color:navy">db </span><span style="color:green">'$'                  </span>; 24h
<span style="color:gray">TRANGROUP:9F8E                 </span><span style="color:navy">db </span><span style="color:#008040">2Dh </span><span style="color:navy">dup( </span><span style="color:green">'$'</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:9FBB </span>$M_RT_$M_BUF_TERM <span style="color:navy">db </span><span style="color:green">'$'                </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:9FBC </span>MsDosVer6_CCopy <span style="color:navy">db 'MS DOS Version 6 (C)Copyright 1981-1994 Microsoft Corp Licensed M'
</span><span style="color:gray">TRANGROUP:9FBC                 </span><span style="color:navy">db 'aterial - Property of Microsoft All rights reserved '
</span><span style="color:gray">TRANGROUP:A031 </span>PRINTF_HANDLE   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A033 </span>SRCXNAME        <span style="color:navy">db </span><span style="color:#008040">87 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A08A </span>TRGXNAME        <span style="color:navy">db </span><span style="color:#008040">87 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A0E1 </span>UCOMBUF         <span style="color:navy">db </span><span style="color:#008040">131 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A164 </span>COMBUF          <span style="color:navy">db </span><span style="color:#008040">131 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A1E7 </span>USERDIR1        <span style="color:navy">db </span><span style="color:#008040">70 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A22D </span>EXECPATH        <span style="color:navy">db </span><span style="color:#008040">131 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A2B0 </span>RE_INSTR        <span style="color:navy">db </span><span style="color:#008040">83 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A303 </span>HEADCALL        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A305 </span>RESSEG          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A307 </span>TPA             <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A309 </span>SWITCHAR        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A30A </span>DIRCHAR         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A30B </span>EXEC_ADDR       <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A30F </span>RCH_ADDR        <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A313                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A315 </span>TRAN_TPA        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A317 </span>CHKDRV          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A318 </span>IFNOTFLAG       <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A319 </span>CURDRV          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A31A </span>PARM1           <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A31B </span>PARM2           <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A31C </span>COMSW           <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A31E </span>ARG1S           <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A320 </span>ARG2S           <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A322 </span>ARGTS           <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A324 </span>CFLAG           <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A325 </span>SPECDRV         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A326 </span>BYTCNT          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A328 </span>savBytCnt       <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A32A </span>NXTADD          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A32C </span>FRSTSRCH        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A32D </span>LeftOnLine      <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A32E </span>PerLine         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A32F </span>LeftOnPage      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A331 </span>FileCnt         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A333 </span>FileSiz         <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)          </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A337 </span>FileCntTotal    <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)          </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A33B </span>FileSizTotal    <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A33F </span>ccluUsed        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A341 </span>ccluUsedDir     <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A343 </span>ccluUsedTotal   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A345 </span>csecUsed        <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)          </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A349 </span>csecUsedDir     <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)          </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A34D </span>csecUsedTotal   <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A351 </span>fhCVF           <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A353 </span>szCVF           <span style="color:navy">db </span><span style="color:#008040">16 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A363 </span>MDBPB           <span style="color:navy">db </span><span style="color:#008040">64 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A3A3 </span>csecPerCluster  <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A3A4 </span>fUseHostSize    <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A3A5 </span>cFATEntries     <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A3A7 </span>entInBuf        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A3A9 </span>segFATBuf       <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A3AB </span>pbufDOSFAT      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A3AD </span>pbufMDFAT       <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A3AF </span>bufDOSFAT       <span style="color:navy">db </span><span style="color:#008040">64 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A3EF </span>bufMDFAT        <span style="color:navy">db </span><span style="color:#008040">128 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)        </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A46F </span>CHARBUF         <span style="color:navy">db </span><span style="color:#008040">80 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A4BF </span>IDLEN           <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A4C0 </span>ID              <span style="color:navy">db </span><span style="color:#008040">8 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)             </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A4C8 </span>COM             <span style="color:navy">db </span><span style="color:#008040">3 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:A4CB </span>DEST            <span style="color:navy">db </span><span style="color:#008040">37 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A4F0 </span>DESTNAME        <span style="color:navy">db </span><span style="color:#008040">11 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:A4FB </span>DESTDIR         <span style="color:navy">db </span><span style="color:#008040">67 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A53E </span>BWDBUF          <span style="color:navy">dw </span><span style="color:#008040">4 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)          </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A546 </span>DIRBUF_8        <span style="color:navy">db </span><span style="color:#008040">11 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A551 </span>DIRBUF_8_DIR_ATTR <span style="color:navy">db </span><span style="color:#008040">0                  </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A552                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A553 </span>DIRBUF_find_buf_attr <span style="color:navy">db </span><span style="color:#008040">0               </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A554                 </span><span style="color:navy">db </span><span style="color:#008040">8 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:A55C </span>DIRBUF_find_buf_pname <span style="color:navy">db </span><span style="color:#008040">13 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A569                 </span><span style="color:navy">db </span><span style="color:#008040">27 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:A584 </span>SDIRBUF         <span style="color:navy">db </span><span style="color:#008040">12 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A590 </span>_Bits           <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A592 </span>PathCnt         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A594 </span>PathPos         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A596 </span>PathSw          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A598 </span>AttrSpecified   <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A599 </span>AttrSelect      <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A59A </span>comma           <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A59B </span>plus_comma      <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A59C </span>DirFlag         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A59D </span>parse_last      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A59F </span>system_cpage    <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A5A1 </span>Arg_Buf         <span style="color:navy">db </span><span style="color:#008040">128 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)           </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A621 </span>File_Size_Low   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A623 </span>File_Size_High  <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A625 </span>string_ptr_2    <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A627 </span>Copy_num        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A629 </span>cpyflag         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A62A </span>Dir_Num         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A62C </span>Dir_CRatio_1    <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A62D </span>Dir_CRatio_2    <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A62E </span>Bytes_Free      <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A632 </span>Major_Ver_Num   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A634 </span>Minor_Ver_Num   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A636 </span>One_Char_Val    <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A637                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A638 </span>vol_drv         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A639 </span>ROM_CALL        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A63A </span>ROM_IP          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A63C </span>ROM_CS          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A63E </span>DestIsDir       <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A63F </span>DestSiz         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A640 </span>DestTail        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A642 </span>DestInfo        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A643 </span>DestBuf         <span style="color:navy">db </span><span style="color:#008040">87 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A69A </span>EndDestBuf      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A69C </span>DESTISDEV       <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A69D </span>FIRSTDEST       <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A69E </span>MELCOPY         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A69F </span>MELSTART        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A6A1 </span>SrcIsDir        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A6A2 </span>SrcSiz          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A6A3 </span>SrcTail         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A6A5 </span>SrcInfo         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A6A6 </span>SrcBuf          <span style="color:navy">db </span><span style="color:#008040">87 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A6FD </span>SRCHAND         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A6FF </span>SRCISDEV        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A700 </span>ScanBuf         <span style="color:navy">db </span><span style="color:#008040">87 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A757 </span>SRCPT           <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A759 </span>INEXACT         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A75A </span>NOWRITE         <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A75B </span>BINARY          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A75C </span>WRITTEN         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A75E </span>TERMREAD        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A75F </span>ASCII           <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A760 </span>PLUS            <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A761 </span>ObjCnt          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A762 </span>CPDATE          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A764 </span>CPTIME          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A766 </span>OFilePtr_Lo     <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A768 </span>OFilePtr_Hi     <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A76A </span>OCtrlZ          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A76B </span>cox_sublist_buff <span style="color:navy">db </span><span style="color:#008040">11 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)        </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A776 </span>cox_y_override  <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A777 </span>cox_dest_file   <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A778 </span>cox_src_file    <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A779 </span>BATHAND         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A77B </span>STARTEL         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A77D </span>ELCNT           <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A77E </span>ELPOS           <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A77F </span>SKPDEL          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A780                 </span><span style="color:navy">db </span><span style="color:#008040">11 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:A78B </span>ext_entered     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A78C </span>Display_Ioctl   <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A78D                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A78E                 </span><span style="color:navy">dw </span><span style="color:#008040">14                   </span>; crt_ioctl_ln
<span style="color:gray">TRANGROUP:A790                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A792 </span>display_mode    <span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A793                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A794                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A796                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A798                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A79A </span>display_width   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A79C </span>LinPerPag       <span style="color:navy">dw </span><span style="color:#008040">25                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A79E </span>vol_ioctl_buf   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7A0 </span>vol_serial      <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7A4                 </span><span style="color:navy">db </span><span style="color:#008040">0Bh </span><span style="color:navy">dup( </span><span style="color:#008040">20h</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:A7AF                 </span><span style="color:navy">db </span><span style="color:#008040">8 </span><span style="color:navy">dup( </span><span style="color:#008040">20h</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:A7B7 </span>expand_star     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7B8 </span>msg_flag        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7B9 </span>Msg_Numb        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7BB </span>append_exec     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7BC </span>print_err_flag  <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7BE </span>subst_buffer    <span style="color:navy">db </span><span style="color:#008040">22 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7D4 </span>KPARSE          <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7D5 </span>ARG_ARGV        <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7D7 </span>ARGV0_ARG_FLAGS <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7D8 </span>ARGV0_ARGSTARTEL <span style="color:navy">dw </span><span style="color:#008040">0                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7DA </span>ARGV0_ARGLEN    <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7DC </span>ARGV0_ARGSW_WORD <span style="color:navy">dw </span><span style="color:#008040">0                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7DE </span>ARGV0_OCOMPTR   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7E0 </span>ARGV1_ARGPOINTER <span style="color:navy">dw </span><span style="color:#008040">0                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7E2                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A7E4                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A7E6                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A7E7 </span>ARGV1_ARGSW_WORD <span style="color:navy">dw </span><span style="color:#008040">0                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7E9                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:A7EB </span>ARGV2_ARGPOINTER <span style="color:navy">dw </span><span style="color:#008040">0                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7ED                 </span><span style="color:navy">db </span><span style="color:#008040">5 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:A7F2 </span>ARGV2_ARGSW_WORD <span style="color:navy">dw </span><span style="color:#008040">0                   </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:A7F4                 </span><span style="color:navy">db </span><span style="color:#008040">673 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:AA95 </span>ARG_ARGVCNT     <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AA97 </span>ARG_ARGSWINFO   <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AA99 </span>ARG_ARGBUF      <span style="color:navy">db </span><span style="color:#008040">512 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)        </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AC99 </span>ARG_ARGFORCOMBUF <span style="color:navy">db </span><span style="color:#008040">128 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)       </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AD19 </span>ARGBUF_PTR      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AD1B </span>TPBUF           <span style="color:navy">db </span><span style="color:#008040">128 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)        </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AD9B </span>LASTARG         <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AD9D </span>COMPTR          <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AD9F </span>FBUF            <span style="color:navy">db </span><span style="color:#008040">43 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:ADCA </span>pathinfo        <span style="color:navy">dw </span><span style="color:#008040">3 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)          </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:ADD0 </span>psep_char       <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:ADD1 </span>search_best     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:ADD2 </span>search_best_buf <span style="color:navy">db </span><span style="color:#008040">13 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:ADDF </span>search_curdir_buf <span style="color:navy">db </span><span style="color:#008040">64 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)       </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AE1F </span>search_error    <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AE21 </span>IF_NOT_COUNT    <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AE23 </span>zflag           <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AE24                 </span><span style="color:navy">db </span><span style="color:#008040">256 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:AF24 </span>STACK           <span style="color:navy">db </span><span style="color:#008040">32 </span><span style="color:navy">dup(</span><span style="color:#008040">0</span><span style="color:navy">)            </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF44 </span>CountryPtrInfo  <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF45 </span>CountryPtr      <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF49 </span>OldCtrlCHandler <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF4D </span>BATBUFPOS       <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF4F </span>BATBUF          <span style="color:navy">db </span><span style="color:#008040">32 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)         </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF6F </span>BATBUFEND       <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF71 </span>TypeFilSiz      <span style="color:navy">dw </span><span style="color:#008040">2 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)          </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF75 </span>PARSE1_OUTPUT   <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF76 </span>PARSE1_CODE     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF77 </span>PARSE1_SYN      <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF79 </span>PARSE1_ADDR     <span style="color:navy">dd </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF7D </span>DATE_OUTPUT     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF7E                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:AF7F                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:AF81 </span>DATE_YEAR       <span style="color:navy">dw </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF83 </span>DATE_MONTH      <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF84 </span>DATE_DAY        <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF85 </span>TIME_OUTPUT     <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF86                 </span><span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:AF87                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:AF89 </span>TIME_HOUR       <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF8A </span>TIME_MINUTES    <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF8B </span>TIME_SECONDS    <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF8C </span>TIME_FRACTION   <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF8D </span>DRIVE_OUTPUT    <span style="color:navy">db </span><span style="color:#008040">0                    </span><span style="color:#8080ff">; ...
</span><span style="color:gray">TRANGROUP:AF8E </span>DRIVE_VALUE     <span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:AF8F                 </span><span style="color:navy">dw </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:AF91 </span>DRIVE_NUMBER    <span style="color:navy">db </span><span style="color:#008040">0
</span><span style="color:gray">TRANGROUP:AF92                 </span><span style="color:navy">db </span><span style="color:#008040">3 </span><span style="color:navy">dup(   </span><span style="color:#008040">0</span><span style="color:navy">)
</span><span style="color:gray">TRANGROUP:AF92 </span>TRANGROUP       ends
<span style="color:gray">TRANGROUP:AF92
</span><span style="color:gray">TRANGROUP:AF92
</span><span style="color:gray">TRANGROUP:AF92                 </span>end StartCode
</pre>
</span>
</body>
</html>
