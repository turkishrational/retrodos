RESGROUP:0100 ;
RESGROUP:0100 ;	ЙННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННН»
RESGROUP:0100 ;	є     This file	is generated by	The Interactive	Disassembler (IDA)	  є
RESGROUP:0100 ;	є     Copyright	(c) 2010 by Hex-Rays SA, <support@hex-rays.com>		  є
RESGROUP:0100 ;	є		       Licensed	to: Freeware version			  є
RESGROUP:0100 ;	ИНННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННј
RESGROUP:0100 ;
RESGROUP:0100 ;	Input MD5   : FAF051453F215165981F10BD73071D88
RESGROUP:0100
RESGROUP:0100 ;	File Name   : C:\Users\Erdoрan\Desktop\COMMAND.COM
RESGROUP:0100 ;	Format	    : MS-DOS COM-file
RESGROUP:0100 ;	Base Address: 0h Range:	100h-D675h Loaded length: D575h
RESGROUP:0100
RESGROUP:0100		      .686p
RESGROUP:0100		      .mmx
RESGROUP:0100		      .model tiny
RESGROUP:0100
RESGROUP:0100 ;	ННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННН
RESGROUP:0100
RESGROUP:0100 ;	Segment	type: Pure code
RESGROUP:0100 RESGROUP	      segment byte public 'CODE' use16
RESGROUP:0100		      assume cs:RESGROUP
RESGROUP:0100		      ;org 100h
RESGROUP:0100		      assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing
RESGROUP:0100
RESGROUP:0100 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:0100
RESGROUP:0100
RESGROUP:0100 StartCode	      proc near
RESGROUP:0100
RESGROUP:0100 ;	FUNCTION CHUNK AT RESGROUP:017E	SIZE 0000000A BYTES
RESGROUP:0100 ;	FUNCTION CHUNK AT RESGROUP:03EA	SIZE 000000CD BYTES
RESGROUP:0100 ;	FUNCTION CHUNK AT RESGROUP:1670	SIZE 000002FA BYTES
RESGROUP:0100 ;	FUNCTION CHUNK AT RESGROUP:196D	SIZE 000003B2 BYTES
RESGROUP:0100
RESGROUP:0100		      jmp     ConProc
RESGROUP:0100 StartCode	      endp
RESGROUP:0100
RESGROUP:0100 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0103 VersionByte     db 66h
RESGROUP:0104 Int2f_Entry     dd MsgInt2fHandler      ;	...
RESGROUP:0108 Int2e_Entry     dd Int_2e		      ;	...
RESGROUP:010C Ctrlc_Entry     dd ContC		      ;	...
RESGROUP:0110 CritErr_Entry   dd DskErr		      ;	...
RESGROUP:0114 Exec_Entry      dd 0		      ;	...
RESGROUP:0118 RemCheck_Entry  dd 0		      ;	...
RESGROUP:011C TrnLodCom1_Entry dd 0		      ;	...
RESGROUP:0120 LodCom_Entry    dd 0		      ;	...
RESGROUP:0124 MsgRetrv_Entry  dd 0		      ;	...
RESGROUP:0128 HeadFix_Entry   dd 0		      ;	...
RESGROUP:012C UMBOff_Entry    dd 0
RESGROUP:0130 XMMCallAddr     dd 0		      ;	...
RESGROUP:0134 ComInHMA	      db 0		      ;	...
RESGROUP:0135 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0135
RESGROUP:0135 Int2f_Trap:			      ;	...
RESGROUP:0135		      call    CheckA20
RESGROUP:0138		      push    ds
RESGROUP:0139		      push    cs
RESGROUP:013A		      jmp     cs:Int2f_Entry
RESGROUP:013F ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:013F
RESGROUP:013F Int2e_Trap:			      ;	...
RESGROUP:013F		      sti
RESGROUP:0140		      call    CheckA20
RESGROUP:0143		      push    ds
RESGROUP:0144		      push    cs
RESGROUP:0145		      jmp     cs:Int2e_Entry
RESGROUP:014A ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:014A
RESGROUP:014A Ctrlc_Trap:			      ;	...
RESGROUP:014A		      sti
RESGROUP:014B		      call    CheckA20
RESGROUP:014E		      push    ds
RESGROUP:014F		      push    cs
RESGROUP:0150		      jmp     cs:Ctrlc_Entry
RESGROUP:0155 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0155
RESGROUP:0155 CritErr_Trap:			      ;	...
RESGROUP:0155		      sti
RESGROUP:0156		      call    CheckA20
RESGROUP:0159		      push    ds
RESGROUP:015A		      push    cs
RESGROUP:015B		      jmp     cs:CritErr_Entry
RESGROUP:0160 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0160
RESGROUP:0160 Exec_Trap:			      ;	...
RESGROUP:0160		      call    CheckA20
RESGROUP:0163		      push    ds
RESGROUP:0164		      push    cs
RESGROUP:0165		      jmp     cs:Exec_Entry
RESGROUP:016A ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:016A
RESGROUP:016A RemCheck_Trap:			      ;	...
RESGROUP:016A		      call    CheckA20
RESGROUP:016D		      push    ds
RESGROUP:016E		      push    cs
RESGROUP:016F		      jmp     cs:RemCheck_Entry
RESGROUP:0174 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0174
RESGROUP:0174 TrnLodCom1_Trap:			      ;	...
RESGROUP:0174		      call    CheckA20
RESGROUP:0177		      push    ds
RESGROUP:0178		      push    cs
RESGROUP:0179		      jmp     cs:TrnLodCom1_Entry
RESGROUP:017E ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:017E ;	START OF FUNCTION CHUNK	FOR StartCode
RESGROUP:017E
RESGROUP:017E LodCom_Trap:			      ;	...
RESGROUP:017E		      call    CheckA20
RESGROUP:0181		      push    ds
RESGROUP:0182		      push    cs
RESGROUP:0183		      jmp     cs:LodCom_Entry
RESGROUP:0183 ;	END OF FUNCTION	CHUNK FOR StartCode
RESGROUP:0188 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0188
RESGROUP:0188 MsgRetrv_Trap:			      ;	...
RESGROUP:0188		      call    CheckA20
RESGROUP:018B		      push    ds
RESGROUP:018C		      push    cs
RESGROUP:018D		      jmp     cs:MsgRetrv_Entry
RESGROUP:0192 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0192
RESGROUP:0192 HeadFix_Trap:			      ;	...
RESGROUP:0192		      call    CheckA20
RESGROUP:0195		      push    ds
RESGROUP:0196		      push    cs
RESGROUP:0197		      jmp     cs:HeadFix_Entry
RESGROUP:019C
RESGROUP:019C ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:019C
RESGROUP:019C
RESGROUP:019C CheckA20	      proc near		      ;	...
RESGROUP:019C		      pushf
RESGROUP:019D		      cmp     cs:ComInHMA, 0
RESGROUP:01A3		      jz      short A20_on
RESGROUP:01A5		      call    QueryA20
RESGROUP:01A8		      jnb     short A20_on
RESGROUP:01AA		      call    EnableA20
RESGROUP:01AD
RESGROUP:01AD A20_on:				      ;	...
RESGROUP:01AD		      popf
RESGROUP:01AE		      retn
RESGROUP:01AE CheckA20	      endp
RESGROUP:01AE
RESGROUP:01AF ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:01AF
RESGROUP:01AF Carousel_i2f_Hook:		      ;	...
RESGROUP:01AF		      jmp     far ptr Int2f_Trap
RESGROUP:01B4
RESGROUP:01B4 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:01B4
RESGROUP:01B4
RESGROUP:01B4 QueryA20	      proc near		      ;	...
RESGROUP:01B4		      push    bx
RESGROUP:01B5		      push    ax
RESGROUP:01B6		      mov     ah, 7
RESGROUP:01B8		      call    cs:XMMCallAddr
RESGROUP:01BD		      or      ax, ax
RESGROUP:01BF		      pop     ax
RESGROUP:01C0		      pop     bx
RESGROUP:01C1		      jnz     short QA20_ON
RESGROUP:01C3		      stc
RESGROUP:01C4		      retn
RESGROUP:01C5 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:01C5
RESGROUP:01C5 QA20_ON:				      ;	...
RESGROUP:01C5		      clc
RESGROUP:01C6		      retn
RESGROUP:01C6 QueryA20	      endp
RESGROUP:01C6
RESGROUP:01C7
RESGROUP:01C7 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:01C7
RESGROUP:01C7
RESGROUP:01C7 EnableA20	      proc near		      ;	...
RESGROUP:01C7		      push    bx
RESGROUP:01C8		      push    ax
RESGROUP:01C9		      mov     ah, 5
RESGROUP:01CB		      call    cs:XMMCallAddr
RESGROUP:01D0		      or      ax, ax
RESGROUP:01D2		      jz      short XMMerror
RESGROUP:01D4		      pop     ax
RESGROUP:01D5		      pop     bx
RESGROUP:01D6		      retn
RESGROUP:01D7 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:01D7
RESGROUP:01D7 XMMerror:				      ;	...
RESGROUP:01D7		      jmp     short XMMerror
RESGROUP:01D7 EnableA20	      endp
RESGROUP:01D7
RESGROUP:01D9
RESGROUP:01D9 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:01D9
RESGROUP:01D9
RESGROUP:01D9 UnHideUMBs      proc near		      ;	...
RESGROUP:01D9		      push    ax	      ;	Marks HIDDEN elements as FREE
RESGROUP:01DA		      push    ds
RESGROUP:01DB		      mov     al, ds:fInHigh
RESGROUP:01DE		      pop     ds
RESGROUP:01DF		      or      al, al
RESGROUP:01E1		      jnz     short uhu10
RESGROUP:01E3		      pop     ax
RESGROUP:01E4		      stc
RESGROUP:01E5		      retn
RESGROUP:01E6 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:01E6
RESGROUP:01E6 uhu10:				      ;	...
RESGROUP:01E6		      call    linkumb	      ;	Make sure UMBs are linked in.
RESGROUP:01E9		      call    FreeUMBs
RESGROUP:01EC		      push    es
RESGROUP:01ED		      mov     es:fInHigh, 0
RESGROUP:01F3		      pop     es
RESGROUP:01F4		      call    he_unlink	      ;	Unlink UMBs
RESGROUP:01F7		      pop     ax
RESGROUP:01F8		      clc
RESGROUP:01F9		      retn
RESGROUP:01F9 UnHideUMBs      endp
RESGROUP:01F9
RESGROUP:01FA
RESGROUP:01FA ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:01FA
RESGROUP:01FA
RESGROUP:01FA he_unlink	      proc near		      ;	...
RESGROUP:01FA		      xor     bh, bh	      ;	unlinks	UMBs if	fm_umb is set to 0
RESGROUP:01FC		      push    ds
RESGROUP:01FD		      mov     bl, ds:fm_umb
RESGROUP:0201		      pop     ds
RESGROUP:0202		      mov     ax, 5803h
RESGROUP:0205		      int     21h	      ;	DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
RESGROUP:0205					      ;	AL = function code: (DOS 5beta)	set UMB	link state
RESGROUP:0207		      xor     bh, bh
RESGROUP:0209		      push    ds
RESGROUP:020A		      mov     bl, ds:fm_strat
RESGROUP:020E		      pop     ds
RESGROUP:020F		      mov     ax, 5801h
RESGROUP:0212		      int     21h	      ;	DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
RESGROUP:0212					      ;	AL = function code: set	allocation strategy
RESGROUP:0214		      retn
RESGROUP:0214 he_unlink	      endp
RESGROUP:0214
RESGROUP:0215
RESGROUP:0215 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:0215
RESGROUP:0215
RESGROUP:0215 FreeUMBs	      proc near		      ;	...
RESGROUP:0215		      push    ax	      ;	frees all HIDDEN memory	elements in upper-memory
RESGROUP:0216		      push    es
RESGROUP:0217		      call    HeadUmb	      ;	Returns	with carry if err, else	ES == MCB
RESGROUP:021A		      jb      short fusX
RESGROUP:021C		      mov     es, ax
RESGROUP:021E
RESGROUP:021E fus10:				      ;	...
RESGROUP:021E		      call    isHideMCB	      ;	Returns	with ZF	set if owner is	0
RESGROUP:0221		      jnz     short fus20
RESGROUP:0223		      call    freeMCB	      ;	Marks as free the MCB at ES:0
RESGROUP:0226
RESGROUP:0226 fus20:				      ;	...
RESGROUP:0226		      mov     al, es:0	      ;	[es:arena_signature]
RESGROUP:022A		      cmp     al, 5Ah ;	'Z'   ; arena_signature_end
RESGROUP:022C		      jz      short fusX      ;	That means this	was the	last MCB.
RESGROUP:022E		      mov     ax, es
RESGROUP:0230		      add     ax, es:3	      ;	[es:arena_size]
RESGROUP:0235		      inc     ax
RESGROUP:0236		      mov     es, ax
RESGROUP:0238		      jmp     short fus10
RESGROUP:023A ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:023A
RESGROUP:023A fusX:				      ;	...
RESGROUP:023A		      pop     es
RESGROUP:023B		      pop     ax
RESGROUP:023C		      retn
RESGROUP:023C FreeUMBs	      endp
RESGROUP:023C
RESGROUP:023D
RESGROUP:023D ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:023D
RESGROUP:023D
RESGROUP:023D isHideMCB	      proc near		      ;	...
RESGROUP:023D		      push    ax
RESGROUP:023E		      cmp     word ptr es:1, 8 ; cmp word [es:arena_owner],SystemPSPOwner
RESGROUP:0244		      jnz     short ihm_x
RESGROUP:0246		      mov     ax, es:8	      ;	[es:arena_name]
RESGROUP:024A		      cmp     ax, 'IH'        ; HIDDEN
RESGROUP:024D		      jnz     short ihm_x
RESGROUP:024F		      mov     ax, es:0Ah      ;	[es:arena_name+2]
RESGROUP:0253		      cmp     ax, 'DD'
RESGROUP:0256		      jnz     short ihm_x
RESGROUP:0258		      mov     ax, es:0Ch      ;	[es:arena_name+4]
RESGROUP:025C		      cmp     ax, 'NE'
RESGROUP:025F		      jnz     short ihm_x
RESGROUP:0261		      mov     ax, es:0Eh      ;	[es:arena_name+6]
RESGROUP:0265		      cmp     ax, '  '
RESGROUP:0268
RESGROUP:0268 ihm_x:				      ;	...
RESGROUP:0268		      pop     ax
RESGROUP:0269		      retn
RESGROUP:0269 isHideMCB	      endp
RESGROUP:0269
RESGROUP:026A
RESGROUP:026A ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:026A
RESGROUP:026A
RESGROUP:026A freeMCB	      proc near		      ;	...
RESGROUP:026A		      mov     word ptr es:1, 0 ; mov word [es:arena_owner],0
RESGROUP:0271		      mov     ax, 2020h
RESGROUP:0274		      mov     es:8, ax	      ;	[es:arena_name+0],ax
RESGROUP:0278		      mov     es:0Ah, ax
RESGROUP:027C		      mov     es:0Ch, ax
RESGROUP:0280		      mov     es:0Eh, ax      ;	[es:arena_name+6],ax
RESGROUP:0284		      retn
RESGROUP:0284 freeMCB	      endp
RESGROUP:0284
RESGROUP:0285
RESGROUP:0285 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:0285
RESGROUP:0285
RESGROUP:0285 HeadUmb	      proc near		      ;	...
RESGROUP:0285		      push    si	      ;	returns	in AX the address of the first UMB block
RESGROUP:0285					      ;	(0x9FFF)
RESGROUP:0286		      push    ds
RESGROUP:0287		      push    es
RESGROUP:0288		      mov     ah, 52h	      ;	DOS_GET_LISTS
RESGROUP:028A		      int     21h	      ;	DOS - 2+ internal - GET	LIST OF	LISTS
RESGROUP:028A					      ;	Return:	ES:BX -> DOS list of lists
RESGROUP:028C		      mov     ax, es:8Ch      ;	[es:UMB_HeadIdx]
RESGROUP:0290		      cmp     ax, 0FFFFh
RESGROUP:0293		      jz      short xhu_e
RESGROUP:0295		      clc
RESGROUP:0296		      jmp     short xhu_x
RESGROUP:0298 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0298
RESGROUP:0298 xhu_e:				      ;	...
RESGROUP:0298		      stc
RESGROUP:0299
RESGROUP:0299 xhu_x:				      ;	...
RESGROUP:0299		      pop     es
RESGROUP:029A		      pop     ds
RESGROUP:029B		      pop     si
RESGROUP:029C		      retn
RESGROUP:029C HeadUmb	      endp
RESGROUP:029C
RESGROUP:029D
RESGROUP:029D ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:029D
RESGROUP:029D
RESGROUP:029D linkumb	      proc near		      ;	...
RESGROUP:029D		      mov     ax, 5802h
RESGROUP:02A0		      int     21h	      ;	DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
RESGROUP:02A0					      ;	AL = function code: (DOS 5beta)	get UMB	link state
RESGROUP:02A2		      or      al, al
RESGROUP:02A4		      jnz     short lumbX
RESGROUP:02A6		      mov     ax, 5803h
RESGROUP:02A9		      mov     bx, 1
RESGROUP:02AC		      int     21h	      ;	DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
RESGROUP:02AC					      ;	AL = function code: (DOS 5beta)	set UMB	link state
RESGROUP:02AE
RESGROUP:02AE lumbX:				      ;	...
RESGROUP:02AE		      retn
RESGROUP:02AE linkumb	      endp
RESGROUP:02AE
RESGROUP:02AF ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:02AF
RESGROUP:02AF Issue_Exec_Call:			      ;	...
RESGROUP:02AF		      int     21h	      ;	DOS -
RESGROUP:02B1		      cli
RESGROUP:02B2		      push    cs
RESGROUP:02B3		      pop     ss
RESGROUP:02B4		      assume ss:RESGROUP
RESGROUP:02B4		      mov     sp, 60Ah	      ;	DATARES:RStack ; stack is set up
RESGROUP:02B7		      sti
RESGROUP:02B8		      push    cs
RESGROUP:02B9		      pop     ds	      ;	ds = DATARES
RESGROUP:02BA		      assume ds:RESGROUP
RESGROUP:02BA		      pushf
RESGROUP:02BB		      call    UnHideUMBs      ;	This call frees	HIDDEN umb's,
RESGROUP:02BB					      ;	restores the memory-allocation
RESGROUP:02BB					      ;	strategy and link state, as app.
RESGROUP:02BE		      popf
RESGROUP:02BF		      jmp     Exec_Trap
RESGROUP:02BF ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:02C2 cox_location    db 'cox'
RESGROUP:02C5 cox_Y_option    dw 0		      ;	...
RESGROUP:02C7 BlkDevErrSubst  db 2		      ;	...
RESGROUP:02C8 BlkDevErrRw     dw 0		      ;	...
RESGROUP:02CA		      db 1
RESGROUP:02CB		      dw offset	DrvLet
RESGROUP:02CD DrvLet	      db 'A'                  ; ...
RESGROUP:02CE CharDevErrSubst db 2		      ;	...
RESGROUP:02CF CharDevErrRw    dw 0		      ;	...
RESGROUP:02D1		      db 2
RESGROUP:02D2		      dw offset	DevName
RESGROUP:02D4 DevName	      db 8 dup(0)	      ;	...
RESGROUP:02DC		      db 0
RESGROUP:02DD NeedVolSubst    db 2		      ;	...
RESGROUP:02DE		      dw offset	VolName
RESGROUP:02E0		      db 3
RESGROUP:02E1		      dw offset	VolSer+2
RESGROUP:02E3		      db 3
RESGROUP:02E4		      dw offset	VolSer
RESGROUP:02E6 VolName	      db 11 dup(0)	      ;	...
RESGROUP:02F1		      db 0
RESGROUP:02F2 VolSer	      dd 0		      ;	...
RESGROUP:02F6 CDevAt	      db 0		      ;	...
RESGROUP:02F7 BadFatSubst     db 1		      ;	...
RESGROUP:02F8 off_2F8	      dw offset	DrvLet
RESGROUP:02FA PutBackSubst    db 2		      ;	...
RESGROUP:02FB PutBackComSpec  dw 0		      ;	...
RESGROUP:02FD		      db 1
RESGROUP:02FE off_2FE	      dw offset	PutBackDrv
RESGROUP:0300 PutBackDrv      db 20h		      ;	...
RESGROUP:0301 ExecErrSubst    db 2		      ;	...
RESGROUP:0302		      dw offset	SafePathBuffer
RESGROUP:0304 NeedVol	      dd 0		      ;	...
RESGROUP:0308 ErrType	      db 0		      ;	...
RESGROUP:0309 Int_2e_Ret      dd 0		      ;	...
RESGROUP:030D Save_Pdb	      dw 0		      ;	...
RESGROUP:030F Parent	      dw 0		      ;	...
RESGROUP:0311 OldTerm	      dw 2 dup(0)	      ;	...
RESGROUP:0315 ErrCd_24	      dw 0		      ;	...
RESGROUP:0317 Handle01	      dw 0		      ;	...
RESGROUP:0319 Loading	      db 0		      ;	...
RESGROUP:031A Batch	      dw 0		      ;	...
RESGROUP:031C ComSpec	      db 64 dup(0)	      ;	...
RESGROUP:035C ComSpec_End     dw 0		      ;	...
RESGROUP:035E Trans	      dw offset	COMMAND	      ;	...
RESGROUP:0360 TrnSeg	      dw 0		      ;	...
RESGROUP:0362 TrnMvFlg	      db 0		      ;	...
RESGROUP:0363 In_Batch	      db 0		      ;	...
RESGROUP:0364 Batch_Abort     db 0		      ;	...
RESGROUP:0365 ComDrv	      db 0		      ;	...
RESGROUP:0366 MemSiz	      dw 0		      ;	...
RESGROUP:0368 Sum	      dw 0		      ;	...
RESGROUP:036A ExtCom	      db 1		      ;	...
RESGROUP:036B RetCode	      dw 0		      ;	...
RESGROUP:036D Crit_Err_Info   db 0		      ;	...
RESGROUP:036E EchoFlag	      db 1		      ;	...
RESGROUP:036F Suppress	      db 1		      ;	...
RESGROUP:0370 Io_Save	      dw 0		      ;	...
RESGROUP:0372 RestDir	      db 0		      ;	...
RESGROUP:0373 PermCom	      db 0		      ;	...
RESGROUP:0374 SemiPermCom     dw 0FFFFh		      ;	...
RESGROUP:0376 SingleCom	      dw 0		      ;	...
RESGROUP:0378 VerVal	      dw 0FFFFh		      ;	...
RESGROUP:037A fFail	      db 0		      ;	...
RESGROUP:037B IfFlag	      db 0		      ;	...
RESGROUP:037C ForFlag	      db 0		      ;	...
RESGROUP:037D ForPtr	      dw 0		      ;	...
RESGROUP:037F Nest	      dw 0		      ;	...
RESGROUP:0381 Call_Flag	      db 0		      ;	...
RESGROUP:0382 Call_Batch_Flag db 0		      ;	...
RESGROUP:0383 Next_Batch      dw 0		      ;	...
RESGROUP:0385 NullFlag	      db 0		      ;	...
RESGROUP:0386 FUCase_Addr     db 5 dup(0)	      ;	...
RESGROUP:038B Crit_Msg_Off    dw 0		      ;	...
RESGROUP:038D Crit_Msg_Seg    dw 0		      ;	...
RESGROUP:038F Dbcs_Vector_Addr dd 0		      ;	...
RESGROUP:0393 Append_State    dw 0		      ;	...
RESGROUP:0395 Append_Flag     db 0		      ;	...
RESGROUP:0396 Re_Out_App      db 0		      ;	...
RESGROUP:0397 Re_OutStr	      db 80 dup(0)	      ;	...
RESGROUP:03E7 InitFlag	      db 1		      ;	...
RESGROUP:03E8 PipeFlag	      db 0		      ;	...
RESGROUP:03E9 PipeFiles	      db 0		      ;	...
RESGROUP:03EA ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:03EA ;	START OF FUNCTION CHUNK	FOR StartCode
RESGROUP:03EA
RESGROUP:03EA EndInit:				      ;	...
RESGROUP:03EA		      push    ds
RESGROUP:03EB		      push    es
RESGROUP:03EC		      push    cs
RESGROUP:03ED		      pop     ds
RESGROUP:03EE		      mov     dx, TrnSize
RESGROUP:03F2		      mov     ax, OldEnv
RESGROUP:03F5		      mov     bx, EnvSiz
RESGROUP:03F9		      mov     cx, UsedEnv
RESGROUP:03FD		      push    ax
RESGROUP:03FE		      push    bx
RESGROUP:03FF		      push    cx
RESGROUP:0400		      mov     bx, ds
RESGROUP:0402		      mov     es, bx
RESGROUP:0404		      assume es:RESGROUP
RESGROUP:0404		      mov     bx, ResSize
RESGROUP:0408		      mov     ah, 4Ah
RESGROUP:040A		      int     21h	      ;	DOS - 2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
RESGROUP:040A					      ;	ES = segment address of	block to change
RESGROUP:040A					      ;	BX = new size in paragraphs
RESGROUP:040C		      cmp     PermCom, 1      ;	permanent command.com?
RESGROUP:0411		      jnz     short adjust_env ; no, do	not free batchseg
RESGROUP:0413		      cmp     Batch, 0
RESGROUP:0418		      jz      short adjust_env
RESGROUP:041A		      mov     bx, 4	      ;	mov bx,((BATCHSEGMENT.SIZE)+16+0Fh)/16
RESGROUP:041A					      ;	(33+16+15)/16
RESGROUP:041D		      mov     ah, 48h
RESGROUP:041F		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:041F					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:0421		      jb      short adjust_env ; no memory, use	old batchseg
RESGROUP:0423		      mov     es, ax	      ;	es = New batch segment
RESGROUP:0425		      assume es:nothing
RESGROUP:0425		      xor     di, di
RESGROUP:0427		      xor     si, si
RESGROUP:0429		      push    ds
RESGROUP:042A		      mov     ds, Batch	      ;	ds = Old Batch Segment
RESGROUP:042E		      assume ds:nothing
RESGROUP:042E		      mov     cx, 33	      ;	BATCHSEGMENT.SIZE+16
RESGROUP:0431		      add     cx, 16
RESGROUP:0434		      cld
RESGROUP:0435		      rep movsb
RESGROUP:0437		      pop     ds
RESGROUP:0438		      mov     cx, es
RESGROUP:043A		      mov     es, ds:Batch
RESGROUP:043E		      mov     ah, 49h
RESGROUP:0440		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:0440					      ;	ES = segment address of	area to	be freed
RESGROUP:0442		      mov     ds:Batch,	cx
RESGROUP:0446
RESGROUP:0446 adjust_env:			      ;	...
RESGROUP:0446		      pop     cx
RESGROUP:0447		      pop     bx
RESGROUP:0448		      pop     bp
RESGROUP:0449		      mov     ah, 48h	      ;	...
RESGROUP:044B		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:044B					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:044D		      jb      short nomem_err
RESGROUP:044F		      mov     ds:EnvirSeg, ax
RESGROUP:0452		      mov     ds:2Ch, ax      ;	[PDB.ENVIRON]
RESGROUP:0455		      mov     es, ax
RESGROUP:0457		      push    ds
RESGROUP:0458		      mov     ds, bp
RESGROUP:045A		      xor     si, si
RESGROUP:045C		      mov     di, si
RESGROUP:045E		      cld
RESGROUP:045F		      rep movsb
RESGROUP:0461		      pop     ds	      ;	ds = RESGROUP
RESGROUP:0462		      cmp     ds:AllocedEnv, 0
RESGROUP:0467		      jz      short no_free
RESGROUP:0469		      mov     es, bp
RESGROUP:046B		      mov     ah, 49h
RESGROUP:046D		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:046D					      ;	ES = segment address of	area to	be freed
RESGROUP:046F
RESGROUP:046F no_free:				      ;	...
RESGROUP:046F		      mov     ds:TrnMvFlg, 1
RESGROUP:0474		      push    es
RESGROUP:0475		      mov     si, 26E0h	      ;	mov si,TRANSTART (26E0h)
RESGROUP:0478		      mov     di, 0
RESGROUP:047B		      mov     cx, 0AF95h      ;	TRANSIENT portion size
RESGROUP:047B					      ;	(TRANSPACEEND)
RESGROUP:047E		      mov     bx, 0FFFFh
RESGROUP:0481		      mov     ah, 48h
RESGROUP:0483		      int     21h	      ;	...
RESGROUP:0483					      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:0483					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:0485		      cmp     bx, dx
RESGROUP:0487		      jb      short nomem_err
RESGROUP:0489		      mov     ah, 48h
RESGROUP:048B		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:048B					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:048D		      jb      short nomem_err
RESGROUP:048F		      push    ax
RESGROUP:0490		      add     ax, bx
RESGROUP:0492		      sub     ax, dx
RESGROUP:0494		      mov     ds:TrnSeg, ax
RESGROUP:0497		      mov     es, ax
RESGROUP:0499		      pop     ax
RESGROUP:049A		      add     si, cx
RESGROUP:049C		      dec     si
RESGROUP:049D		      add     di, cx
RESGROUP:049F		      dec     di
RESGROUP:04A0		      std
RESGROUP:04A1		      rep movsb
RESGROUP:04A3		      cld
RESGROUP:04A4		      mov     es, ax
RESGROUP:04A6		      mov     ah, 49h
RESGROUP:04A8		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:04A8					      ;	ES = segment address of	area to	be freed
RESGROUP:04AA		      mov     ds:InitFlag, 0
RESGROUP:04AF		      pop     es
RESGROUP:04B0		      pop     ds
RESGROUP:04B1		      jmp     LodCom_Trap
RESGROUP:04B4 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:04B4
RESGROUP:04B4 nomem_err:			      ;	...
RESGROUP:04B4		      jmp     Alloc_error
RESGROUP:04B4 ;	END OF FUNCTION	CHUNK FOR StartCode
RESGROUP:04B4 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:04B7 EndCodeInit     db 84 dup(0)
RESGROUP:050B InPipePtr	      dw 3EAh		      ;	...
RESGROUP:050D OutPipePtr      dw 439h		      ;	...
RESGROUP:050F EnvirSeg	      dw 0		      ;	...
RESGROUP:0511 Com_Ptr	      dw 80h, 0		      ;	...
RESGROUP:0515 Com_Fcb1	      dw 5Ch, 0		      ;	...
RESGROUP:0519 Com_Fcb2	      dw 6Ch, 0		      ;	...
RESGROUP:051D TranVars	      dw offset	HeadFix_Trap  ;	...
RESGROUP:051F MySeg	      dw 0		      ;	...
RESGROUP:0521 LTpa	      dw 0		      ;	...
RESGROUP:0523 RSwitChar	      db '/'                  ; ...
RESGROUP:0524 RDirChar	      db '\'                  ; ...
RESGROUP:0525		      dw offset	Issue_Exec_Call
RESGROUP:0527 MySeg1	      dw 0		      ;	...
RESGROUP:0529		      dw offset	RemCheck_Trap
RESGROUP:052B MySeg2	      dw 0		      ;	...
RESGROUP:052D ResTest	      dw 0
RESGROUP:052F Res_Tpa	      dw 0		      ;	...
RESGROUP:0531 Y_Flag	      dw 0		      ;	...
RESGROUP:0533 OldErrNo	      dw 0		      ;	...
RESGROUP:0535 SafePathBuffer  db 80 dup(0)	      ;	...
RESGROUP:0585 Int2fHandler    dw 2 dup(0)	      ;	...
RESGROUP:0589 ResMsgEnd	      dw 0		      ;	...
RESGROUP:058B ResSize	      dw 0		      ;	...
RESGROUP:058D		      db 125 dup(0)
RESGROUP:060A RStack	      dw 0		      ;	...
RESGROUP:060C fInHigh	      db 0		      ;	...
RESGROUP:060D fUmbTiny	      db 0		      ;	...
RESGROUP:060E SegLoad	      dw 0		      ;	...
RESGROUP:0610 UmbLoad	      db 0		      ;	...
RESGROUP:0611 UmbUsed	      db 16 dup(   0)	      ;	...
RESGROUP:0621 UmbSize	      dw 16 dup(   0)	      ;	...
RESGROUP:0641 fm_umb	      db 0		      ;	...
RESGROUP:0642 fm_strat	      db 0		      ;	...
RESGROUP:0643 fm_argc	      db 0		      ;	...
RESGROUP:0644 ABORT_CHAR      db 'A'                  ; ...
RESGROUP:0645 RETRY_CHAR      db 'R'                  ; ...
RESGROUP:0646 IGNORE_CHAR     db 'I'                  ; ...
RESGROUP:0647 FAIL_CHAR	      db 'F'                  ; ...
RESGROUP:0648 YES_CHAR	      db 'Y'                  ; ...
RESGROUP:0649 NO_CHAR	      db 'N'                  ; ...
RESGROUP:064A REQ_ABORT	      db 5		      ;	...
RESGROUP:064B		      db 'Abort'
RESGROUP:0650 REQ_RETRY	      db 7		      ;	...
RESGROUP:0651		      db ', Retry'
RESGROUP:0658 REQ_IGNORE      db 8		      ;	...
RESGROUP:0659		      db ', Ignore'
RESGROUP:0661 REQ_FAIL	      db 6		      ;	...
RESGROUP:0662		      db ', Fail'
RESGROUP:0668 REQ_END	      db 1		      ;	...
RESGROUP:0669		      db '?'
RESGROUP:066A MREAD	      db 8		      ;	...
RESGROUP:066B		      db 'reading',0
RESGROUP:0673 MWRITE	      db 8		      ;	...
RESGROUP:0674		      db 'writing',0
RESGROUP:067C MDRIVE	      db 14		      ;	...
RESGROUP:067D		      db ' %1 drive %2',0Dh,0Ah
RESGROUP:068B MDEVICE	      db 15		      ;	...
RESGROUP:068C		      db ' %1 device %2',0Dh,0Ah
RESGROUP:069B MVOLSERIAL      db 38		      ;	...
RESGROUP:069C		      db 'Please insert volume %1 serial %2-%3',0Dh,0Ah
RESGROUP:06C2 BADFATMSG	      db 37		      ;	...
RESGROUP:06C3		      db 'File allocation table bad, drive %1',0Dh,0Ah
RESGROUP:06E8 COMBAD	      db 21		      ;	...
RESGROUP:06E9		      db 'Invalid COMMAND.COM',0Dh,0Ah
RESGROUP:06FE PUTBACKMSG      db 33		      ;	...
RESGROUP:06FF		      db 'Insert disk with %1 in drive %2',0Dh,0Ah
RESGROUP:0720 PROMPT	      db 33		      ;	...
RESGROUP:0721		      db 'Press any key to continue . . .',0Dh,0Ah
RESGROUP:0742 ENDBATMES	      db 28		      ;	...
RESGROUP:0743		      db 0Dh,0Ah
RESGROUP:0743		      db 'Terminate batch job (Y/N)?'
RESGROUP:075F EXECEMES	      db 19		      ;	...
RESGROUP:0760		      db 'Cannot execute %1',0Dh,0Ah
RESGROUP:0773 EXEBAD	      db 19		      ;	...
RESGROUP:0774		      db 'Error in EXE file',0Dh,0Ah
RESGROUP:0787 TOOBIG	      db 34		      ;	...
RESGROUP:0788		      db 'Program too big to fit in memory',0Dh,0Ah
RESGROUP:07AA NOHANDMES	      db 22		      ;	...
RESGROUP:07AB		      db 0Dh,0Ah
RESGROUP:07AB		      db 'No free file handles'
RESGROUP:07C1 RBADNAM	      db 26		      ;	...
RESGROUP:07C2		      db 'Bad Command or file name',0Dh,0Ah
RESGROUP:07DC ACCDEN	      db 0Eh		      ;	...
RESGROUP:07DD		      db 'Access denied '
RESGROUP:07EB BMEMMES	      db 25		      ;	...
RESGROUP:07EC		      db 0Dh,0Ah
RESGROUP:07EC		      db 'Memory allocation error'
RESGROUP:0805 HALTMES	      db 38		      ;	...
RESGROUP:0806		      db 0Dh,0Ah
RESGROUP:0806		      db 'Cannot load COMMAND, system halted',0Dh,0Ah
RESGROUP:082C FRETMES	      db 33		      ;	...
RESGROUP:082D		      db 0Dh,0Ah
RESGROUP:082D		      db 'Cannot start COMMAND, exiting',0Dh,0Ah
RESGROUP:084E PATRICIDE	      db 46		      ;	...
RESGROUP:084F		      db 0Dh,0Ah
RESGROUP:084F		      db 'Top level process aborted, cannot continue',0Dh,0Ah
RESGROUP:087D NEWLINE	      db 2		      ;	...
RESGROUP:087E		      db 0Dh, 0Ah
RESGROUP:0880 MsgPtrLists     dd 10D8Fh		      ;	...
RESGROUP:0880					      ;	extended error messages
RESGROUP:0884		      dw offset	PARSMSGPTRS   ;	parse	error messages
RESGROUP:0886		      dw 1
RESGROUP:0888		      dw offset	EXTMSGPTRS    ;	critical error messages
RESGROUP:088A		      dw 1
RESGROUP:088C		      dw 0		      ;	File system error messages
RESGROUP:088C					      ;	are not	supported.
RESGROUP:088E		      dw 0
RESGROUP:0890		      dw offset	MsgRetrv_Trap ;	disk retriever routine
RESGROUP:0892 MySeg3	      dw 0		      ;	...
RESGROUP:0892					      ;	segment	of retriever routine
RESGROUP:0894 CRMSG0	      db 13h		      ;	...
RESGROUP:0895		      db 'Write protect error'
RESGROUP:08A8 CRMSG1	      db 0Ch		      ;	...
RESGROUP:08A9		      db 'Invalid unit'
RESGROUP:08B5 CRMSG2	      db 9		      ;	...
RESGROUP:08B6		      db 'Not ready'
RESGROUP:08BF CRMSG3	      db 16h		      ;	...
RESGROUP:08C0		      db 'Invalid device request'
RESGROUP:08D6 CRMSG4	      db 0Ah		      ;	...
RESGROUP:08D7		      db 'Data error'
RESGROUP:08E1 CRMSG5	      db 21h		      ;	...
RESGROUP:08E2		      db 'Invalid device request parameters'
RESGROUP:0903 CRMSG6	      db 0Ah		      ;	...
RESGROUP:0904		      db 'Seek error'
RESGROUP:090E CRMSG7	      db 12h		      ;	...
RESGROUP:090F		      db 'Invalid media type'
RESGROUP:0921 CRMSG8	      db 10h		      ;	...
RESGROUP:0922		      db 'Sector not found'
RESGROUP:0932 CRMSG9	      db 1Ah		      ;	...
RESGROUP:0933		      db 'Printer out of paper error'
RESGROUP:094D CRMSG10	      db 11h		      ;	...
RESGROUP:094E		      db 'Write fault error'
RESGROUP:095F CRMSG11	      db 10h		      ;	...
RESGROUP:0960		      db 'Read fault error'
RESGROUP:0970 CRMSG12	      db 0Fh		      ;	...
RESGROUP:0971		      db 'General failure'
RESGROUP:0980 CRMSG13	      db 11h		      ;	...
RESGROUP:0981		      db 'Sharing violation'
RESGROUP:0992 CRMSG14	      db 0Eh		      ;	...
RESGROUP:0993		      db 'Lock violation'
RESGROUP:09A1 CRMSG15	      db 13h		      ;	...
RESGROUP:09A2		      db 'Invalid disk change'
RESGROUP:09B5 CRMSG16	      db 0Fh		      ;	...
RESGROUP:09B6		      db 'FCB unavailable'
RESGROUP:09C5 CRMSG17	      db 19h		      ;	...
RESGROUP:09C6		      db 'System resource exhausted'
RESGROUP:09DF CRMSG18	      db 12h		      ;	...
RESGROUP:09E0		      db 'Code page mismatch'
RESGROUP:09F2 CRMSG19	      db 0Ch		      ;	...
RESGROUP:09F3		      db 'Out of input'
RESGROUP:09FF CRMSG20	      db 17h		      ;	...
RESGROUP:0A00		      db 'Insufficient disk space'
RESGROUP:0A17 CRITMSGPTRS     dw offset	CRMSG0	      ;	...
RESGROUP:0A19		      dw offset	CRMSG1
RESGROUP:0A1B		      dw offset	CRMSG2
RESGROUP:0A1D		      dw offset	CRMSG3
RESGROUP:0A1F		      dw offset	CRMSG4
RESGROUP:0A21		      dw offset	CRMSG5
RESGROUP:0A23		      dw offset	CRMSG6
RESGROUP:0A25		      dw offset	CRMSG7
RESGROUP:0A27		      dw offset	CRMSG8
RESGROUP:0A29		      dw offset	CRMSG9
RESGROUP:0A2B		      dw offset	CRMSG10
RESGROUP:0A2D		      dw offset	CRMSG11
RESGROUP:0A2F		      dw offset	CRMSG12
RESGROUP:0A31		      dw offset	CRMSG13
RESGROUP:0A33		      dw offset	CRMSG14
RESGROUP:0A35		      dw offset	CRMSG15
RESGROUP:0A37		      dw offset	CRMSG16
RESGROUP:0A39		      dw offset	CRMSG17
RESGROUP:0A3B		      dw offset	CRMSG18
RESGROUP:0A3D		      dw offset	CRMSG19
RESGROUP:0A3F		      dw offset	CRMSG20
RESGROUP:0A41 PAERRMSG0	      db 13h		      ;	...
RESGROUP:0A42		      db 'Too many parameters'
RESGROUP:0A55 PAERRMSG1	      db 1Ah		      ;	...
RESGROUP:0A56		      db 'Required parameter missing'
RESGROUP:0A70 PAERRMSG2	      db 0Eh		      ;	...
RESGROUP:0A71		      db 'Invalid switch'
RESGROUP:0A7F PAERRMSG3	      db 0Fh		      ;	...
RESGROUP:0A80		      db 'Invalid keyword'
RESGROUP:0A8F PAERRMSG4	      db 1		      ;	...
RESGROUP:0A90		      db ' '
RESGROUP:0A91 PAERRMSG5	      db 24h		      ;	...
RESGROUP:0A92		      db 'Parameter value not in allowed range'
RESGROUP:0AB6 PAERRMSG6	      db 1Bh		      ;	...
RESGROUP:0AB7		      db 'Parameter value not allowed'
RESGROUP:0AD2 PAERRMSG7	      db 1Bh		      ;	...
RESGROUP:0AD3		      db 'Parameter value not allowed'
RESGROUP:0AEE PAERRMSG8	      db 1Ch		      ;	...
RESGROUP:0AEF		      db 'Parameter format not correct'
RESGROUP:0B0B PAERRMSG9	      db 11h		      ;	...
RESGROUP:0B0C		      db 'Invalid parameter'
RESGROUP:0B1D PAERRMSG10      db 1Dh		      ;	...
RESGROUP:0B1E		      db 'Invalid parameter combination'
RESGROUP:0B3B PARSMSGPTRS     dw offset	PAERRMSG0     ;	...
RESGROUP:0B3D		      dw offset	PAERRMSG1
RESGROUP:0B3F		      dw offset	PAERRMSG2
RESGROUP:0B41		      dw offset	PAERRMSG3
RESGROUP:0B43		      dw offset	PAERRMSG4
RESGROUP:0B45		      dw offset	PAERRMSG5
RESGROUP:0B47		      dw offset	PAERRMSG6
RESGROUP:0B49		      dw offset	PAERRMSG7
RESGROUP:0B4B		      dw offset	PAERRMSG8
RESGROUP:0B4D		      dw offset	PAERRMSG9
RESGROUP:0B4F		      dw offset	PAERRMSG10
RESGROUP:0B51 INVLFUNCT	      db 10h		      ;	...
RESGROUP:0B52		      db 'Invalid function'
RESGROUP:0B62 FNOTFOUND	      db 0Eh		      ;	...
RESGROUP:0B63		      db 'File not found'
RESGROUP:0B71 PNOTFOUND	      db 0Eh		      ;	...
RESGROUP:0B72		      db 'Path not found'
RESGROUP:0B80 TOOMANYOF	      db 13h		      ;	...
RESGROUP:0B81		      db 'Too many open files'
RESGROUP:0B94 ACCDENIED	      db 0Eh		      ;	...
RESGROUP:0B95		      db 'Access denied '
RESGROUP:0BA3 INVHANDLE	      db 0Eh		      ;	...
RESGROUP:0BA4		      db 'Invalid handle'
RESGROUP:0BB2 MEMCBDEST	      db 1Fh		      ;	...
RESGROUP:0BB3		      db 'Memory control blocks destroyed'
RESGROUP:0BD2 INSUFFMEM	      db 13h		      ;	...
RESGROUP:0BD3		      db 'Insufficient memory'
RESGROUP:0BE6 INVMEMBLA	      db 1Ch		      ;	...
RESGROUP:0BE7		      db 'Invalid memory block address'
RESGROUP:0C03 INVENVIRO	      db 13h		      ;	...
RESGROUP:0C04		      db 'Invalid Environment'
RESGROUP:0C17 INVFORMAT	      db 0Eh		      ;	...
RESGROUP:0C18		      db 'Invalid format'
RESGROUP:0C26 INVFNPARM	      db 1Ah		      ;	...
RESGROUP:0C27		      db 'Invalid function parameter'
RESGROUP:0C41 INVLDDATA	      db 0Ch		      ;	...
RESGROUP:0C42		      db 'Invalid data'
RESGROUP:0C4E INVDRVSPC	      db 1Bh		      ;	...
RESGROUP:0C4F		      db 'Invalid drive specification'
RESGROUP:0C6A ATRCURDIR	      db 23h		      ;	...
RESGROUP:0C6B		      db 'Attempt to remove current directory'
RESGROUP:0C8E NOTSAMDEV	      db 0Fh		      ;	...
RESGROUP:0C8F		      db 'Not same device'
RESGROUP:0C9E NOMOREFIL	      db 0Dh		      ;	...
RESGROUP:0C9F		      db 'No more files'
RESGROUP:0CAC FILEXISTS	      db 0Bh		      ;	...
RESGROUP:0CAD		      db 'File exists'
RESGROUP:0CB8 CANTMKDIR	      db 1Bh		      ;	...
RESGROUP:0CB9		      db 'Cannot make directory entry'
RESGROUP:0CD4 FAILINT24	      db 0Eh		      ;	...
RESGROUP:0CD5		      db 'Fail on INT 24'
RESGROUP:0CE3 TOOMANYRD	      db 15h		      ;	...
RESGROUP:0CE4		      db 'Too many redirections'
RESGROUP:0CF9 DUPLREDIR	      db 15h		      ;	...
RESGROUP:0CFA		      db 'Duplicate redirection'
RESGROUP:0D0F INVPASSWD	      db 10h		      ;	...
RESGROUP:0D10		      db 'Invalid password'
RESGROUP:0D20 INVLDPARM	      db 11h		      ;	...
RESGROUP:0D21		      db 'Invalid parameter'
RESGROUP:0D32 NETDATFAU	      db 12h		      ;	...
RESGROUP:0D33		      db 'Network data fault'
RESGROUP:0D45 FNOSUPNET	      db 21h		      ;	...
RESGROUP:0D46		      db 'Function not supported by network'
RESGROUP:0D67 RSCNOTINS	      db 27h		      ;	...
RESGROUP:0D68		      db 'Required system component not installed'
RESGROUP:0D8F EXTMSGPTRS      dw offset	INVLFUNCT     ;	...
RESGROUP:0D91		      dw offset	FNOTFOUND
RESGROUP:0D93		      dw offset	PNOTFOUND
RESGROUP:0D95		      dw offset	TOOMANYOF
RESGROUP:0D97		      dw offset	ACCDENIED
RESGROUP:0D99		      dw offset	INVHANDLE
RESGROUP:0D9B		      dw offset	MEMCBDEST
RESGROUP:0D9D		      dw offset	INSUFFMEM
RESGROUP:0D9F		      dw offset	INVMEMBLA
RESGROUP:0DA1		      dw offset	INVENVIRO
RESGROUP:0DA3		      dw offset	INVFORMAT
RESGROUP:0DA5		      dw offset	INVFNPARM
RESGROUP:0DA7		      dw offset	INVLDDATA
RESGROUP:0DA9		      dw 0
RESGROUP:0DAB		      dw offset	INVDRVSPC
RESGROUP:0DAD		      dw offset	ATRCURDIR
RESGROUP:0DAF		      dw offset	NOTSAMDEV
RESGROUP:0DB1		      dw offset	NOMOREFIL
RESGROUP:0DB3		      dw offset	CRMSG0
RESGROUP:0DB5		      dw offset	CRMSG1
RESGROUP:0DB7		      dw offset	CRMSG2
RESGROUP:0DB9		      dw offset	CRMSG3
RESGROUP:0DBB		      dw offset	CRMSG4
RESGROUP:0DBD		      dw offset	CRMSG5
RESGROUP:0DBF		      dw offset	CRMSG6
RESGROUP:0DC1		      dw offset	CRMSG7
RESGROUP:0DC3		      dw offset	CRMSG8
RESGROUP:0DC5		      dw offset	CRMSG9
RESGROUP:0DC7		      dw offset	CRMSG10
RESGROUP:0DC9		      dw offset	CRMSG11
RESGROUP:0DCB		      dw offset	CRMSG12
RESGROUP:0DCD		      dw offset	CRMSG13
RESGROUP:0DCF		      dw offset	CRMSG14
RESGROUP:0DD1		      dw offset	CRMSG15
RESGROUP:0DD3		      dw offset	CRMSG16
RESGROUP:0DD5		      dw offset	CRMSG17
RESGROUP:0DD7		      dw offset	CRMSG18
RESGROUP:0DD9		      dw offset	CRMSG19
RESGROUP:0DDB		      dw offset	CRMSG20
RESGROUP:0DDD		      db 80 dup(0)
RESGROUP:0E2D		      dw offset	FILEXISTS
RESGROUP:0E2F		      dw 0
RESGROUP:0E31		      dw offset	CANTMKDIR
RESGROUP:0E33		      dw offset	FAILINT24
RESGROUP:0E35		      dw offset	TOOMANYRD
RESGROUP:0E37		      dw offset	DUPLREDIR
RESGROUP:0E39		      dw offset	INVPASSWD
RESGROUP:0E3B		      dw offset	INVLDPARM
RESGROUP:0E3D		      dw offset	NETDATFAU
RESGROUP:0E3F		      dw offset	FNOSUPNET
RESGROUP:0E41		      dw offset	RSCNOTINS
RESGROUP:0E43 ExtMsgEnd	      db 13 dup(0)	      ;	...
RESGROUP:0E50 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0E50
RESGROUP:0E50 Exec_Err:				      ;	...
RESGROUP:0E50		      mov     bx, offset RBADNAM ; RCODE_START = 0E50h
RESGROUP:0E53		      cmp     al, 2
RESGROUP:0E55		      jz      short GotExecEMes
RESGROUP:0E57		      mov     bx, offset TOOBIG
RESGROUP:0E5A		      cmp     al, 8
RESGROUP:0E5C		      jz      short GotExecEMes
RESGROUP:0E5E		      mov     bx, offset EXEBAD
RESGROUP:0E61		      cmp     al, 0Bh
RESGROUP:0E63		      jz      short GotExecEMes
RESGROUP:0E65		      mov     bx, offset ACCDEN
RESGROUP:0E68		      cmp     al, 5
RESGROUP:0E6A		      jz      short GotExecEMes
RESGROUP:0E6C		      mov     bx, offset EXECEMES
RESGROUP:0E6F		      mov     si, offset ExecErrSubst
RESGROUP:0E72
RESGROUP:0E72 GotExecEMes:			      ;	...
RESGROUP:0E72		      mov     dx, bx
RESGROUP:0E74		      call    RPrint
RESGROUP:0E77		      jmp     short NoExec
RESGROUP:0E79 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0E79
RESGROUP:0E79 Exec_Ret:
RESGROUP:0E79		      jb      short Exec_Err
RESGROUP:0E7B
RESGROUP:0E7B Exec_Wait:			      ;	...
RESGROUP:0E7B		      mov     ah, 4Dh
RESGROUP:0E7D		      int     21h	      ;	DOS - 2+ - GET EXIT CODE OF SUBPROGRAM (WAIT)
RESGROUP:0E7F		      mov     ds:RetCode, ax
RESGROUP:0E82
RESGROUP:0E82 NoExec:				      ;	...
RESGROUP:0E82		      jmp     LodCom
RESGROUP:0E85 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0E85
RESGROUP:0E85 ContC:				      ;	...
RESGROUP:0E85		      pop     ds
RESGROUP:0E86		      test    ds:InitFlag, 1
RESGROUP:0E8B		      jz      short NotAtInit
RESGROUP:0E8D		      test    ds:InitFlag, 2
RESGROUP:0E92		      jz      short CmdIret
RESGROUP:0E94		      pop     ds
RESGROUP:0E95		      jmp     init_contc_specialcase
RESGROUP:0E98 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0E98
RESGROUP:0E98 CmdIret:				      ;	...
RESGROUP:0E98		      pop     ds
RESGROUP:0E99		      iret
RESGROUP:0E9A ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0E9A
RESGROUP:0E9A NotAtInit:			      ;	...
RESGROUP:0E9A		      test    ds:InitFlag, 4
RESGROUP:0E9F		      jz      short NotInit
RESGROUP:0EA1		      cmp     ah, 1
RESGROUP:0EA4		      jb      short CmdIret
RESGROUP:0EA6		      cmp     ah, 12
RESGROUP:0EA9		      ja      short CmdIret
RESGROUP:0EAB		      pop     ds
RESGROUP:0EAC		      add     sp, 6
RESGROUP:0EAF		      stc
RESGROUP:0EB0		      retf    2
RESGROUP:0EB3 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0EB3
RESGROUP:0EB3 NotInit:				      ;	...
RESGROUP:0EB3		      or      ds:InitFlag, 4
RESGROUP:0EB8		      sti
RESGROUP:0EB9		      pop     ax
RESGROUP:0EBA		      mov     ax, ds:SingleCom
RESGROUP:0EBD		      or      ax, ax
RESGROUP:0EBF		      jnz     short NoReset
RESGROUP:0EC1		      push    ax
RESGROUP:0EC2		      mov     ah, 0Dh
RESGROUP:0EC4		      int     21h	      ;	DOS - DISK RESET
RESGROUP:0EC6		      pop     ax
RESGROUP:0EC7
RESGROUP:0EC7 NoReset:				      ;	...
RESGROUP:0EC7		      test    ds:Batch,	0FFFFh
RESGROUP:0ECD		      jz      short ContCTerm
RESGROUP:0ECF		      or      ax, ax
RESGROUP:0ED1		      jnz     short ContCTerm
RESGROUP:0ED3		      call    SavHand
RESGROUP:0ED6		      call    AskEnd
RESGROUP:0ED9		      jnb     short ContBatch
RESGROUP:0EDB		      mov     cl, ds:EchoFlag
RESGROUP:0EDF		      push    bx
RESGROUP:0EE0
RESGROUP:0EE0 ClearBatch:			      ;	...
RESGROUP:0EE0		      mov     es, ds:Batch
RESGROUP:0EE4		      mov     di, 20h	      ;	BATCHSEGMENT.BatFile
RESGROUP:0EE7		      mov     bx, es:5	      ;	[es:BATCHSEGMENT.BatForPtr]
RESGROUP:0EEC		      cmp     bx, 0
RESGROUP:0EEF		      jz      short No_Bat_For
RESGROUP:0EF1		      push    es
RESGROUP:0EF2		      mov     es, bx
RESGROUP:0EF4		      mov     ah, 49h	      ;	DEALLOC
RESGROUP:0EF6		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:0EF6					      ;	ES = segment address of	area to	be freed
RESGROUP:0EF8		      pop     es
RESGROUP:0EF9
RESGROUP:0EF9 No_Bat_For:			      ;	...
RESGROUP:0EF9		      mov     cl, es:1	      ;	[es:BATCHSEGMENT.BatEchoFlag]
RESGROUP:0EFE		      mov     bx, es:3	      ;	[es:BATCHSEGMENT.BatLast]
RESGROUP:0F03		      mov     ah, 49h
RESGROUP:0F05		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:0F05					      ;	ES = segment address of	area to	be freed
RESGROUP:0F07		      mov     ds:Batch,	bx
RESGROUP:0F0B		      dec     ds:Nest
RESGROUP:0F0F		      jnz     short ClearBatch
RESGROUP:0F11		      pop     bx
RESGROUP:0F12		      mov     ds:EchoFlag, cl
RESGROUP:0F16		      mov     ds:PipeFlag, 0
RESGROUP:0F1B
RESGROUP:0F1B ContBatch:			      ;	...
RESGROUP:0F1B		      call    crlf
RESGROUP:0F1E		      call    RestHand
RESGROUP:0F21
RESGROUP:0F21 ContCTerm:			      ;	...
RESGROUP:0F21		      xor     ax, ax
RESGROUP:0F23		      mov     bp, ax
RESGROUP:0F25		      mov     ds:IfFlag, al
RESGROUP:0F28		      mov     ds:ForFlag, al
RESGROUP:0F2B		      call    ResPipeOff
RESGROUP:0F2E		      cmp     ds:SingleCom, ax
RESGROUP:0F32		      jz      short NoSetSing
RESGROUP:0F34		      mov     ds:SingleCom, 0FFFFh ; -1
RESGROUP:0F3A
RESGROUP:0F3A NoSetSing:			      ;	...
RESGROUP:0F3A		      and     ds:InitFlag, 0FBh	; ~INITCTRLC
RESGROUP:0F3F		      cmp     ds:ExtCom, al
RESGROUP:0F43		      jnz     short DoDAb
RESGROUP:0F45		      jmp     LodCom1
RESGROUP:0F48 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0F48
RESGROUP:0F48 DoDAb:				      ;	...
RESGROUP:0F48		      stc
RESGROUP:0F49		      retf
RESGROUP:0F4A
RESGROUP:0F4A ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:0F4A
RESGROUP:0F4A
RESGROUP:0F4A ResPipeOff      proc near		      ;	...
RESGROUP:0F4A		      push    ax
RESGROUP:0F4B		      xor     ax, ax
RESGROUP:0F4D		      xchg    al, ds:PipeFlag
RESGROUP:0F51		      or      al, al
RESGROUP:0F53		      jz      short NoPipePop
RESGROUP:0F55		      shr     ds:EchoFlag, 1
RESGROUP:0F59
RESGROUP:0F59 NoPipePop:			      ;	...
RESGROUP:0F59		      pop     ax
RESGROUP:0F5A		      retn
RESGROUP:0F5A ResPipeOff      endp
RESGROUP:0F5A
RESGROUP:0F5B ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0F5B ;	START OF FUNCTION CHUNK	FOR alloc_env
RESGROUP:0F5B
RESGROUP:0F5B BadMemErr:			      ;	...
RESGROUP:0F5B		      mov     dx, offset BMEMMES
RESGROUP:0F5E
RESGROUP:0F5E FatalC:				      ;	...
RESGROUP:0F5E		      call    RPrint
RESGROUP:0F61		      cmp     ds:PermCom, 0
RESGROUP:0F66		      jz      short FatalRet
RESGROUP:0F68		      cmp     ds:SingleCom, 0
RESGROUP:0F6D		      jnz     short FatalRet
RESGROUP:0F6F		      mov     dx, offset HALTMES
RESGROUP:0F72		      call    RPrint
RESGROUP:0F75		      sti
RESGROUP:0F76
RESGROUP:0F76 Stall:				      ;	...
RESGROUP:0F76		      jmp     short Stall
RESGROUP:0F78 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0F78
RESGROUP:0F78 FatalRet:				      ;	...
RESGROUP:0F78		      mov     dx, offset FRETMES
RESGROUP:0F7B		      call    RPrint
RESGROUP:0F7E
RESGROUP:0F7E FatalRet2:			      ;	...
RESGROUP:0F7E		      cmp     ds:PermCom, 0
RESGROUP:0F83		      jnz     short Ret_2e
RESGROUP:0F85		      mov     ax, ds:Parent
RESGROUP:0F88		      mov     ds:16h, ax      ;	[PDB.PARENT_PID]
RESGROUP:0F8B		      mov     ax, ds:OldTerm
RESGROUP:0F8E		      mov     ds:0Ah, ax      ;	[PDB.EXIT]
RESGROUP:0F91		      mov     ax, ds:OldTerm+2
RESGROUP:0F94		      mov     ds:0Ch, ax      ;	[PDB.EXIT+2]
RESGROUP:0F97		      mov     ax, 4C00h
RESGROUP:0F9A		      int     21h	      ;	DOS - 2+ - QUIT	WITH EXIT CODE (EXIT)
RESGROUP:0F9A					      ;	AL = exit code
RESGROUP:0F9C ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0F9C
RESGROUP:0F9C Ret_2e:				      ;	...
RESGROUP:0F9C		      mov     ds:SingleCom, 0
RESGROUP:0FA2		      mov     es, ds:Res_Tpa
RESGROUP:0FA6		      mov     ah, 49h
RESGROUP:0FA8		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:0FA8					      ;	ES = segment address of	area to	be freed
RESGROUP:0FAA		      mov     bx, ds:Save_Pdb
RESGROUP:0FAE		      mov     ah, 50h
RESGROUP:0FB0		      int     21h	      ;	DOS - 2+ internal - SET	PSP SEGMENT
RESGROUP:0FB0					      ;	BX = segment address of	new PSP
RESGROUP:0FB2		      mov     ax, ds:RetCode
RESGROUP:0FB5		      cmp     ds:ExtCom, 0
RESGROUP:0FBA		      jnz     short GotECode
RESGROUP:0FBC		      xor     ax, ax
RESGROUP:0FBE
RESGROUP:0FBE GotECode:				      ;	...
RESGROUP:0FBE		      mov     ds:ExtCom, 1
RESGROUP:0FC3		      jmp     ds:Int_2e_Ret
RESGROUP:0FC3 ;	END OF FUNCTION	CHUNK FOR alloc_env
RESGROUP:0FC7 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:0FC7
RESGROUP:0FC7 Int_2e:				      ;	...
RESGROUP:0FC7		      pop     ds
RESGROUP:0FC8		      pop     ax
RESGROUP:0FC9		      pop     word ptr ds:Int_2e_Ret
RESGROUP:0FCD		      pop     word ptr ds:Int_2e_Ret+2
RESGROUP:0FD1		      add     sp, 2
RESGROUP:0FD4		      push    ds
RESGROUP:0FD5		      pop     es
RESGROUP:0FD6		      mov     ds, ax
RESGROUP:0FD8		      mov     di, 80h
RESGROUP:0FDB		      mov     cx, 64
RESGROUP:0FDE		      rep movsw
RESGROUP:0FE0		      mov     ah, 51h
RESGROUP:0FE2		      int     21h	      ;	DOS - 2+ internal - GET	PSP SEGMENT
RESGROUP:0FE2					      ;	Return:	BX = current PSP segment
RESGROUP:0FE4		      mov     es:Save_Pdb, bx
RESGROUP:0FE9		      mov     ah, 50h
RESGROUP:0FEB		      push    es
RESGROUP:0FEC		      pop     ds
RESGROUP:0FED		      mov     bx, ds
RESGROUP:0FEF		      int     21h	      ;	DOS - 2+ internal - SET	PSP SEGMENT
RESGROUP:0FEF					      ;	BX = segment address of	new PSP
RESGROUP:0FF1		      mov     ds:SingleCom, 81h	; 'Ѓ'
RESGROUP:0FF7		      mov     ds:ExtCom, 1
RESGROUP:0FFC		      push    ds
RESGROUP:0FFD		      push    ds
RESGROUP:0FFE
RESGROUP:0FFE LodCom:				      ;	...
RESGROUP:0FFE		      pop     ds
RESGROUP:0FFF		      add     sp, 2
RESGROUP:1002		      cmp     ds:ExtCom, 0
RESGROUP:1007		      jnz     short LodCom0
RESGROUP:1009		      jmp     LodCom1
RESGROUP:100C ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:100C
RESGROUP:100C LodCom0:				      ;	...
RESGROUP:100C		      mov     bx, 0FFFFh
RESGROUP:100F		      mov     ah, 48h
RESGROUP:1011		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:1011					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:1013		      call    SetSize
RESGROUP:1016		      add     ax, 20h
RESGROUP:1019		      cmp     bx, ax
RESGROUP:101B		      jnb     short MemOk
RESGROUP:101D
RESGROUP:101D BadMemErrJ:			      ;	...
RESGROUP:101D		      jmp     BadMemErr
RESGROUP:1020
RESGROUP:1020 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1020
RESGROUP:1020
RESGROUP:1020 SetSize	      proc near		      ;	...
RESGROUP:1020		      mov     ax, 0AFA4h      ;	TRANSPACEEND+15
RESGROUP:1023		      mov     cl, 4
RESGROUP:1025		      shr     ax, cl
RESGROUP:1027		      retn
RESGROUP:1027 SetSize	      endp
RESGROUP:1027
RESGROUP:1028 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1028
RESGROUP:1028 MemOk:				      ;	...
RESGROUP:1028		      mov     ah, 48h
RESGROUP:102A		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:102A					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:102C		      jb      short BadMemErrJ
RESGROUP:102E		      mov     ds:ExtCom, 0
RESGROUP:1033		      mov     ds:Res_Tpa, ax
RESGROUP:1036		      and     ax, 0F000h
RESGROUP:1039		      add     ax, 1000h
RESGROUP:103C		      jb      short Bad_Tpa
RESGROUP:103E		      mov     dx, ds:Res_Tpa
RESGROUP:1042		      add     dx, bx
RESGROUP:1044		      cmp     dx, ax
RESGROUP:1046		      jbe     short Bad_Tpa
RESGROUP:1048		      sub     dx, ax
RESGROUP:104A		      cmp     dx, 1000h
RESGROUP:104E		      jnb     short LTpaSet
RESGROUP:1050
RESGROUP:1050 Bad_Tpa:				      ;	...
RESGROUP:1050		      mov     ax, ds:Res_Tpa
RESGROUP:1053
RESGROUP:1053 LTpaSet:				      ;	...
RESGROUP:1053		      mov     ds:LTpa, ax
RESGROUP:1056		      mov     ax, ds:Res_Tpa
RESGROUP:1059		      add     bx, ax
RESGROUP:105B		      mov     ds:MemSiz, bx
RESGROUP:105F		      call    SetSize
RESGROUP:1062		      sub     bx, ax
RESGROUP:1064		      cmp     bx, ds:TrnSeg
RESGROUP:1068		      jz      short LodCom1
RESGROUP:106A		      mov     cx, 0AF95h      ;	TRANSPACEEND (Transient	portion	size)
RESGROUP:106D		      ja      short mov_down
RESGROUP:106F		      xor     si, si
RESGROUP:1071		      mov     di, si
RESGROUP:1073		      cld
RESGROUP:1074		      jmp     short copy_trans
RESGROUP:1076 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1076
RESGROUP:1076 mov_down:				      ;	...
RESGROUP:1076		      mov     si, cx
RESGROUP:1078		      dec     si
RESGROUP:1079		      mov     di, si
RESGROUP:107B		      std
RESGROUP:107C
RESGROUP:107C copy_trans:			      ;	...
RESGROUP:107C		      push    ds
RESGROUP:107D		      push    es
RESGROUP:107E		      mov     es, bx
RESGROUP:1080		      mov     ds, ds:TrnSeg
RESGROUP:1084		      rep movsb
RESGROUP:1086		      cld
RESGROUP:1087		      pop     es
RESGROUP:1088		      pop     ds
RESGROUP:1089		      mov     ds:TrnSeg, bx
RESGROUP:108D
RESGROUP:108D LodCom1:				      ;	...
RESGROUP:108D		      mov     ax, ds
RESGROUP:108F		      mov     ss, ax
RESGROUP:1091		      assume ss:nothing
RESGROUP:1091		      mov     sp, offset RStack	; mov sp,offset	DATARES:RStack
RESGROUP:1094		      call    HeadFix
RESGROUP:1097		      xor     bp, bp
RESGROUP:1099		      mov     ax, 0FFFFh      ;	-1
RESGROUP:109C		      xchg    ax, ds:VerVal
RESGROUP:10A0		      cmp     ax, 0FFFFh      ;	-1
RESGROUP:10A3		      jz      short NoSetVer
RESGROUP:10A5		      mov     ah, 2Eh
RESGROUP:10A7		      int     21h	      ;	DOS - SET VERIFY FLAG
RESGROUP:10A7					      ;	DL = 00h, AL = 01h VERIFY on / 00h VERIFY off
RESGROUP:10A9
RESGROUP:10A9 NoSetVer:				      ;	...
RESGROUP:10A9		      cmp     ds:SingleCom, 0FFFFh
RESGROUP:10AE		      jnz     short NoSng
RESGROUP:10B0		      jmp     FatalRet2
RESGROUP:10B3 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:10B3
RESGROUP:10B3 NoSng:				      ;	...
RESGROUP:10B3		      call    ChkSum
RESGROUP:10B6		      cmp     dx, ds:Sum
RESGROUP:10BA		      jz      short HavCom
RESGROUP:10BC
RESGROUP:10BC Bogus_Com:
RESGROUP:10BC		      mov     ds:Loading, 1
RESGROUP:10C1		      call    LoadCom
RESGROUP:10C4
RESGROUP:10C4 ChkSame:				      ;	...
RESGROUP:10C4		      call    ChkSum
RESGROUP:10C7		      cmp     dx, ds:Sum
RESGROUP:10CB		      jz      short HavCom
RESGROUP:10CD
RESGROUP:10CD Also_Bogus:
RESGROUP:10CD		      call    WrongCom
RESGROUP:10D0		      jmp     short ChkSame
RESGROUP:10D2 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:10D2
RESGROUP:10D2 HavCom:				      ;	...
RESGROUP:10D2		      mov     ds:Loading, 0
RESGROUP:10D7		      mov     si, offset TranVars ; offset DATARES:TranVars
RESGROUP:10DA		      mov     di, offset HEADCALL ; offset TRANGROUP:HeadCall
RESGROUP:10DD		      mov     es, ds:TrnSeg
RESGROUP:10E1		      cld
RESGROUP:10E2		      mov     cx, offset OldErrNo ; ; offset TranVarEnd
RESGROUP:10E5		      sub     cx, si
RESGROUP:10E7		      rep movsb
RESGROUP:10E9		      mov     ax, ds:MemSiz
RESGROUP:10EC		      mov     ds:2, ax	      ;	[PDB.BLOCK_LEN]
RESGROUP:10EF		      jmp     dword ptr	ds:Trans ; jmp far [Trans]
RESGROUP:10F3 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:10F3
RESGROUP:10F3 TRemCheck:
RESGROUP:10F3		      pop     ds
RESGROUP:10F4		      add     sp, 2
RESGROUP:10F7		      call    RemCheck
RESGROUP:10FA		      retf
RESGROUP:10FB
RESGROUP:10FB ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:10FB
RESGROUP:10FB
RESGROUP:10FB RemCheck	      proc near		      ;	...
RESGROUP:10FB		      push    ax
RESGROUP:10FC		      push    bx
RESGROUP:10FD		      mov     bx, ax
RESGROUP:10FF		      mov     ax, 4408h
RESGROUP:1102		      int     21h	      ;	DOS - 2+ - IOCTL -
RESGROUP:1104		      jnb     short rcCont
RESGROUP:1106		      or      ax, ax
RESGROUP:1108		      jmp     short ResRegs
RESGROUP:110A ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:110A
RESGROUP:110A rcCont:				      ;	...
RESGROUP:110A		      and     ax, 1
RESGROUP:110D		      not     ax
RESGROUP:110F
RESGROUP:110F ResRegs:				      ;	...
RESGROUP:110F		      pop     bx
RESGROUP:1110		      pop     ax
RESGROUP:1111		      retn
RESGROUP:1111 RemCheck	      endp
RESGROUP:1111
RESGROUP:1112 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1112
RESGROUP:1112 THeadFix:
RESGROUP:1112		      pop     ds
RESGROUP:1113		      add     sp, 2
RESGROUP:1116		      call    HeadFix
RESGROUP:1119		      retf
RESGROUP:111A
RESGROUP:111A ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:111A
RESGROUP:111A
RESGROUP:111A HeadFix	      proc near		      ;	...
RESGROUP:111A		      call    SetVect
RESGROUP:111D		      xor     bx, bx
RESGROUP:111F		      mov     cx, ds:Io_Save
RESGROUP:1123		      mov     dx, ds:18h      ;	[PDB.JFN_TABLE]
RESGROUP:1127		      cmp     cl, dl
RESGROUP:1129		      jz      short Chk1
RESGROUP:112B		      mov     ah, 3Eh
RESGROUP:112D		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:112D					      ;	BX = file handle
RESGROUP:112F		      mov     ds:18h, cl
RESGROUP:1133
RESGROUP:1133 Chk1:				      ;	...
RESGROUP:1133		      inc     bx
RESGROUP:1134		      cmp     ch, dh
RESGROUP:1136		      jz      short ChkOtherHand
RESGROUP:1138		      mov     ah, 3Eh
RESGROUP:113A		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:113A					      ;	BX = file handle
RESGROUP:113C		      mov     ds:19h, ch      ;	[PDB.JFN_TABLE+1]
RESGROUP:1140
RESGROUP:1140 ChkOtherHand:			      ;	...
RESGROUP:1140		      add     bx, 4
RESGROUP:1143		      mov     cx, 15	      ;	FILPERPROC-5
RESGROUP:1146
RESGROUP:1146 CloseLoop:			      ;	...
RESGROUP:1146		      mov     ah, 3Eh
RESGROUP:1148		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:1148					      ;	BX = file handle
RESGROUP:114A		      inc     bx
RESGROUP:114B		      loop    CloseLoop
RESGROUP:114D		      cmp     ds:Append_Flag, 0FFh ; -1
RESGROUP:1152		      jnz     short Append_Fix_End
RESGROUP:1154		      mov     ax, 0B707h
RESGROUP:1157		      mov     bx, ds:Append_State
RESGROUP:115B		      int     2Fh	      ;	- Multiplex - DOS 4.0 APPEND - SET APPEND FUNCTION STATE
RESGROUP:115B					      ;	BX = APPEND state bits
RESGROUP:115D		      mov     ds:Append_Flag, 0
RESGROUP:1162
RESGROUP:1162 Append_Fix_End:			      ;	...
RESGROUP:1162		      retn
RESGROUP:1162 HeadFix	      endp
RESGROUP:1162
RESGROUP:1163
RESGROUP:1163 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1163
RESGROUP:1163
RESGROUP:1163 SavHand	      proc near		      ;	...
RESGROUP:1163		      push    bx
RESGROUP:1164		      push    ax
RESGROUP:1165		      push    es
RESGROUP:1166		      push    ds
RESGROUP:1167		      mov     ah, 51h
RESGROUP:1169		      int     21h	      ;	DOS - 2+ internal - GET	PSP SEGMENT
RESGROUP:1169					      ;	Return:	BX = current PSP segment
RESGROUP:116B		      mov     ds, bx
RESGROUP:116D		      lds     bx, ds:34h      ;	[PDB.JFN_Pointer]
RESGROUP:1171		      mov     ax, [bx]
RESGROUP:1173		      pop     es
RESGROUP:1174		      push    es
RESGROUP:1175		      mov     es:Handle01, ax
RESGROUP:1179		      mov     al, es:1Ah      ;	[es:PDB.JFN_TABLE+2]
RESGROUP:117D		      mov     ah, al
RESGROUP:117F		      mov     [bx], ax
RESGROUP:1181		      pop     ds
RESGROUP:1182		      pop     es
RESGROUP:1183		      pop     ax
RESGROUP:1184		      pop     bx
RESGROUP:1185		      retn
RESGROUP:1185 SavHand	      endp
RESGROUP:1185
RESGROUP:1186 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1186
RESGROUP:1186 GetComDsk2:			      ;	...
RESGROUP:1186		      call    GetComDsk
RESGROUP:1189		      jmp     LodCom1
RESGROUP:118C
RESGROUP:118C ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:118C
RESGROUP:118C
RESGROUP:118C RestHand	      proc near		      ;	...
RESGROUP:118C		      push    ds
RESGROUP:118D		      push    bx
RESGROUP:118E		      push    ax
RESGROUP:118F		      mov     ah, 51h
RESGROUP:1191		      int     21h	      ;	DOS - 2+ internal - GET	PSP SEGMENT
RESGROUP:1191					      ;	Return:	BX = current PSP segment
RESGROUP:1193		      mov     ax, ds:Handle01
RESGROUP:1196		      mov     ds, bx
RESGROUP:1198		      lds     bx, ds:34h      ;	[PDB.JFN_Pointer]
RESGROUP:119C		      mov     [bx], ax
RESGROUP:119E		      pop     ax
RESGROUP:119F		      pop     bx
RESGROUP:11A0		      pop     ds
RESGROUP:11A1		      retn
RESGROUP:11A1 RestHand	      endp
RESGROUP:11A1
RESGROUP:11A2 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:11A2 ;	START OF FUNCTION CHUNK	FOR GetComDsk
RESGROUP:11A2
RESGROUP:11A2 Hopeless:				      ;	...
RESGROUP:11A2		      mov     dx, offset COMBAD
RESGROUP:11A5		      jmp     FatalC
RESGROUP:11A5 ;	END OF FUNCTION	CHUNK FOR GetComDsk
RESGROUP:11A8
RESGROUP:11A8 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:11A8
RESGROUP:11A8
RESGROUP:11A8 GetComDsk	      proc near		      ;	...
RESGROUP:11A8
RESGROUP:11A8 ;	FUNCTION CHUNK AT RESGROUP:11A2	SIZE 00000006 BYTES
RESGROUP:11A8
RESGROUP:11A8		      mov     al, ds:ComDrv
RESGROUP:11AB		      call    RemCheck
RESGROUP:11AE		      jnz     short Hopeless
RESGROUP:11B0		      cmp     dx, offset COMBAD
RESGROUP:11B4		      jnz     short GetComDsk4
RESGROUP:11B6		      mov     dx, offset COMBAD
RESGROUP:11B9		      call    RPrint
RESGROUP:11BC
RESGROUP:11BC GetComDsk4:			      ;	...
RESGROUP:11BC		      cmp     ds:PutBackDrv, 0
RESGROUP:11C1		      jnz     short Users_Drive
RESGROUP:11C3		      mov     ah, 19h
RESGROUP:11C5		      int     21h	      ;	DOS - GET DEFAULT DISK NUMBER
RESGROUP:11C7		      add     al, 'A'
RESGROUP:11C9		      mov     ds:PutBackDrv, al
RESGROUP:11CC
RESGROUP:11CC Users_Drive:			      ;	...
RESGROUP:11CC		      mov     dx, offset PUTBACKMSG
RESGROUP:11CF		      mov     si, offset PutBackSubst
RESGROUP:11D2		      call    RPrint
RESGROUP:11D5		      mov     dx, offset PROMPT
RESGROUP:11D8		      call    RPrint
RESGROUP:11DB		      call    GetRawFlushedByte
RESGROUP:11DE		      retn
RESGROUP:11DE GetComDsk	      endp
RESGROUP:11DE
RESGROUP:11DF
RESGROUP:11DF ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:11DF
RESGROUP:11DF
RESGROUP:11DF GetRawFlushedByte	proc near	      ;	...
RESGROUP:11DF		      mov     ax, 0C07h
RESGROUP:11E2		      int     21h	      ;	DOS - CLEAR KEYBOARD BUFFER
RESGROUP:11E2					      ;	AL must	be 01h,	06h, 07h, 08h, or 0Ah.
RESGROUP:11E4		      mov     ax, 0C00h
RESGROUP:11E7		      int     21h	      ;	DOS - CLEAR KEYBOARD BUFFER
RESGROUP:11E7					      ;	AL must	be 01h,	06h, 07h, 08h, or 0Ah.
RESGROUP:11E9
RESGROUP:11E9 LoadCom_retn:			      ;	...
RESGROUP:11E9		      retn
RESGROUP:11E9 GetRawFlushedByte	endp
RESGROUP:11E9
RESGROUP:11EA
RESGROUP:11EA ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:11EA
RESGROUP:11EA
RESGROUP:11EA LoadCom	      proc near		      ;	...
RESGROUP:11EA		      inc     bp
RESGROUP:11EB		      mov     dx, offset ComSpec
RESGROUP:11EE		      mov     ax, 3D00h
RESGROUP:11F1		      int     21h	      ;	DOS - 2+ - OPEN	DISK FILE WITH HANDLE
RESGROUP:11F1					      ;	DS:DX -> ASCIZ filename
RESGROUP:11F1					      ;	AL = access mode
RESGROUP:11F1					      ;	0 - read
RESGROUP:11F3		      jnb     short ReadCom
RESGROUP:11F5		      cmp     ax, 4	      ;	ERROR_TOO_MANY_OPEN_FILES
RESGROUP:11F8		      jnz     short TryDoOpen
RESGROUP:11FA		      mov     dx, offset NOHANDMES
RESGROUP:11FD		      jmp     FatalC
RESGROUP:1200 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1200
RESGROUP:1200 TryDoOpen:			      ;	...
RESGROUP:1200		      call    GetComDsk
RESGROUP:1203		      jmp     short LoadCom
RESGROUP:1205 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1205
RESGROUP:1205 ReadCom:				      ;	...
RESGROUP:1205		      mov     bx, ax
RESGROUP:1207		      mov     dx, 26E0h	      ;	mov dx,offset RESGROUP:TranStart
RESGROUP:120A		      xor     cx, cx
RESGROUP:120C		      mov     ax, 4200h
RESGROUP:120F		      int     21h	      ;	DOS - 2+ - MOVE	FILE READ/WRITE	POINTER	(LSEEK)
RESGROUP:120F					      ;	AL = method: offset from beginning of file
RESGROUP:1211		      jb      short WrongCom1
RESGROUP:1213		      mov     cx, 0AE95h      ;	mov cx,offset TRANGROUP:TranSpaceEnd - 100h
RESGROUP:1216		      push    ds
RESGROUP:1217		      mov     ds, ds:TrnSeg
RESGROUP:121B		      mov     dx, 100h
RESGROUP:121E		      mov     ah, 3Fh
RESGROUP:1220		      int     21h	      ;	DOS - 2+ - READ	FROM FILE WITH HANDLE
RESGROUP:1220					      ;	BX = file handle, CX = number of bytes to read
RESGROUP:1220					      ;	DS:DX -> buffer
RESGROUP:1222		      pop     ds
RESGROUP:1223
RESGROUP:1223 WrongCom1:			      ;	...
RESGROUP:1223		      pushf
RESGROUP:1224		      push    ax
RESGROUP:1225		      mov     ah, 3Eh
RESGROUP:1227		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:1227					      ;	BX = file handle
RESGROUP:1229		      pop     ax
RESGROUP:122A		      popf
RESGROUP:122B		      jb      short WrongCom
RESGROUP:122D		      cmp     ax, cx
RESGROUP:122F		      jz      short LoadCom_retn
RESGROUP:122F LoadCom	      endp
RESGROUP:122F
RESGROUP:1231
RESGROUP:1231 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1231
RESGROUP:1231
RESGROUP:1231 WrongCom	      proc near		      ;	...
RESGROUP:1231		      mov     dx, offset COMBAD
RESGROUP:1234		      call    GetComDsk
RESGROUP:1237		      jmp     short LoadCom
RESGROUP:1237 WrongCom	      endp
RESGROUP:1237
RESGROUP:1239
RESGROUP:1239 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1239
RESGROUP:1239
RESGROUP:1239 ChkSum	      proc near		      ;	...
RESGROUP:1239		      push    ds
RESGROUP:123A		      mov     ds, ds:TrnSeg
RESGROUP:123E		      mov     si, 100h
RESGROUP:1241		      mov     cx, 9D53h	      ;	offset TRANGROUP:TranDataEnd - 100h
RESGROUP:1244		      cld
RESGROUP:1245		      shr     cx, 1
RESGROUP:1247		      xor     dx, dx
RESGROUP:1249
RESGROUP:1249 Chk:				      ;	...
RESGROUP:1249		      lodsw
RESGROUP:124A		      add     dx, ax
RESGROUP:124C		      adc     dx, 0
RESGROUP:124F		      loop    Chk
RESGROUP:1251		      pop     ds
RESGROUP:1252		      retn
RESGROUP:1252 ChkSum	      endp
RESGROUP:1252
RESGROUP:1253
RESGROUP:1253 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1253
RESGROUP:1253
RESGROUP:1253 SetVect	      proc near		      ;	...
RESGROUP:1253		      mov     dx, offset LodCom_Trap
RESGROUP:1256		      mov     ax, 2522h
RESGROUP:1259		      mov     ds:0Ah, dx      ;	[PDB.EXIT]
RESGROUP:125D		      mov     word ptr ds:0Ch, ds ; [PDB.EXIT+2]
RESGROUP:1261		      int     21h	      ;	DOS - SET INTERRUPT VECTOR
RESGROUP:1261					      ;	AL = interrupt number
RESGROUP:1261					      ;	DS:DX =	new vector to be used for specified interrupt
RESGROUP:1263		      mov     dx, offset Ctrlc_Trap
RESGROUP:1266		      inc     al
RESGROUP:1268		      int     21h	      ;	DOS - SET INTERRUPT VECTOR
RESGROUP:1268					      ;	AL = interrupt number
RESGROUP:1268					      ;	DS:DX =	new vector to be used for specified interrupt
RESGROUP:126A		      mov     dx, offset CritErr_Trap
RESGROUP:126D		      inc     al
RESGROUP:126F		      int     21h	      ;	DOS - SET INTERRUPT VECTOR
RESGROUP:126F					      ;	AL = interrupt number
RESGROUP:126F					      ;	DS:DX =	new vector to be used for specified interrupt
RESGROUP:1271		      retn
RESGROUP:1271 SetVect	      endp
RESGROUP:1271
RESGROUP:1272 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1272
RESGROUP:1272 TrnLodCom1:
RESGROUP:1272		      pop     ds
RESGROUP:1273		      add     sp, 2
RESGROUP:1276		      jmp     LodCom1
RESGROUP:1279
RESGROUP:1279 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1279
RESGROUP:1279
RESGROUP:1279 AskEnd	      proc near		      ;	...
RESGROUP:1279		      mov     dx, offset ENDBATMES
RESGROUP:127C		      call    RPrint
RESGROUP:127F		      mov     ax, 0C01h
RESGROUP:1282		      int     21h	      ;	DOS - CLEAR KEYBOARD BUFFER
RESGROUP:1282					      ;	AL must	be 01h,	06h, 07h, 08h, or 0Ah.
RESGROUP:1284		      call    CharToUpper
RESGROUP:1287		      cmp     al, ds:NO_CHAR
RESGROUP:128B		      jz      short aeRet
RESGROUP:128D		      cmp     al, ds:YES_CHAR
RESGROUP:1291		      jnz     short AskEnd
RESGROUP:1293		      stc
RESGROUP:1294
RESGROUP:1294 aeRet:				      ;	...
RESGROUP:1294		      retn
RESGROUP:1294 AskEnd	      endp
RESGROUP:1294
RESGROUP:1295 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1295
RESGROUP:1295 DskErr:				      ;	...
RESGROUP:1295		      pop     ds
RESGROUP:1296		      pop     ds:RStack	      ;	pop word [OldDS]
RESGROUP:129A		      sti
RESGROUP:129B		      push    es
RESGROUP:129C		      push    si
RESGROUP:129D		      push    cx
RESGROUP:129E		      push    di
RESGROUP:129F		      push    cx
RESGROUP:12A0		      push    ax
RESGROUP:12A1		      push    ds
RESGROUP:12A2		      pop     es	      ;	es = DATARES
RESGROUP:12A3		      mov     ds, bp
RESGROUP:12A5		      mov     ax, [si+4]      ;	[si+SYSDEV.ATT]
RESGROUP:12A8		      mov     es:CDevAt, ah
RESGROUP:12AD		      mov     di, offset DevName
RESGROUP:12B0		      mov     cx, 8
RESGROUP:12B3		      add     si, 10	      ;	add si,SYSDEV.NAME
RESGROUP:12B6		      cld
RESGROUP:12B7		      rep movsb
RESGROUP:12B9		      pop     ax
RESGROUP:12BA		      pop     cx
RESGROUP:12BB		      pop     di
RESGROUP:12BC		      push    es
RESGROUP:12BD		      pop     ds	      ;	ds = DATARES
RESGROUP:12BE		      call    SavHand
RESGROUP:12C1		      push    dx
RESGROUP:12C2		      call    crlf
RESGROUP:12C5		      pop     dx
RESGROUP:12C6		      mov     ds:Crit_Err_Info,	ah
RESGROUP:12CA		      add     al, 'A'
RESGROUP:12CC		      mov     ds:DrvLet, al
RESGROUP:12CF		      test    ah, 80h
RESGROUP:12D2		      jz      short NoHardE
RESGROUP:12D4		      test    ds:CDevAt, 80h
RESGROUP:12D9		      jnz     short NoHardE
RESGROUP:12DB		      jmp     FatErr
RESGROUP:12DE ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:12DE
RESGROUP:12DE NoHardE:				      ;	...
RESGROUP:12DE		      mov     si, offset MREAD
RESGROUP:12E1		      test    ah, 1
RESGROUP:12E4		      jz      short SavMes
RESGROUP:12E6		      mov     si, offset MWRITE
RESGROUP:12E9
RESGROUP:12E9 SavMes:				      ;	...
RESGROUP:12E9		      mov     ds:OldErrNo, di
RESGROUP:12ED		      push    es
RESGROUP:12EE		      push    ds
RESGROUP:12EF		      push    bp
RESGROUP:12F0		      push    si
RESGROUP:12F1		      push    dx
RESGROUP:12F2		      push    cx
RESGROUP:12F3		      push    bx
RESGROUP:12F4		      mov     ah, 59h
RESGROUP:12F6		      int     21h	      ;	DOS - 3+ - GET EXTENDED	ERROR CODE
RESGROUP:12F6					      ;	BX = version code (0000h for DOS 3.x)
RESGROUP:12F8		      pop     bx
RESGROUP:12F9		      pop     cx
RESGROUP:12FA		      pop     dx
RESGROUP:12FB		      pop     si
RESGROUP:12FC		      pop     bp
RESGROUP:12FD		      pop     ds
RESGROUP:12FE		      mov     word ptr ds:NeedVol, di
RESGROUP:1302		      mov     word ptr ds:NeedVol+2, es
RESGROUP:1306		      pop     es
RESGROUP:1307		      xor     ah, ah
RESGROUP:1309		      mov     di, ax
RESGROUP:130B		      sub     di, 13h	      ;	ERROR_WRITE_PROTECT
RESGROUP:130E		      jnb     short HavCod
RESGROUP:1310		      mov     di, 0Ch	      ;	ERROR_GEN_FAILURE - ERROR_WRITE_PROTECT
RESGROUP:1313
RESGROUP:1313 HavCod:				      ;	...
RESGROUP:1313		      mov     ds:ErrType, 0
RESGROUP:1318		      cmp     di, 10h	      ;	ERROR_FCB_UNAVAILABLE -	ERROR_WRITE_PROTECT
RESGROUP:131B		      jz      short SetStyle
RESGROUP:131D		      cmp     di, 11h	      ;	ERROR_SHARING_BUFFER_EXCEEDED -	ERROR_WRITE_PROTECT
RESGROUP:1320		      jnz     short GotStyle
RESGROUP:1322
RESGROUP:1322 SetStyle:				      ;	...
RESGROUP:1322		      mov     ds:ErrType, 1
RESGROUP:1327
RESGROUP:1327 GotStyle:				      ;	...
RESGROUP:1327		      mov     ds:ErrCd_24, di
RESGROUP:132B		      cmp     di, 14h	      ;	ERROR_HANDLE_DISK_FULL - ERROR_WRITE_PROTECT
RESGROUP:132E		      jbe     short NormalError
RESGROUP:1330		      mov     di, ax
RESGROUP:1332		      mov     ax, 500h
RESGROUP:1335		      int     2Fh	      ;	Multiplex - DOS	3+ CRITICAL ERROR HANDLER - INSTALLATION CHECK
RESGROUP:1335					      ;	Return:	AL = 00h not installed,	OK to install
RESGROUP:1335					      ;	01h not	installed, can't install
RESGROUP:1335					      ;	FFh installed
RESGROUP:1337		      cmp     al, 0FFh
RESGROUP:1339		      jnz     short NoHandler
RESGROUP:133B		      push    bx
RESGROUP:133C		      mov     bx, di
RESGROUP:133E		      mov     ax, 501h
RESGROUP:1341		      int     2Fh	      ;	Multiplex - DOS	3+ CRITICAL ERROR HANDLER -
RESGROUP:1343		      pop     bx
RESGROUP:1344		      jb      short NoHandler
RESGROUP:1346		      mov     ds:ErrType, al
RESGROUP:1349		      push    ds
RESGROUP:134A		      push    es
RESGROUP:134B		      pop     ds
RESGROUP:134C		      mov     dx, di
RESGROUP:134E		      mov     cx, 0FFFFh      ;	-1
RESGROUP:1351		      xor     al, al
RESGROUP:1353		      cld
RESGROUP:1354		      repne scasb
RESGROUP:1356		      mov     byte ptr [di-1], '$'
RESGROUP:135A		      mov     ah, 9	      ;	STD_CON_STRING_OUTPUT
RESGROUP:135C		      int     21h	      ;	DOS - PRINT STRING
RESGROUP:135C					      ;	DS:DX -> string	terminated by "$"
RESGROUP:135E		      mov     byte ptr [di-1], 0
RESGROUP:1362		      pop     ds
RESGROUP:1363		      jmp     short CheckErrType
RESGROUP:1365 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1365
RESGROUP:1365 NoHandler:			      ;	...
RESGROUP:1365		      mov     ds:ErrType, 0
RESGROUP:136A		      mov     di, ds:OldErrNo
RESGROUP:136E		      mov     ds:ErrCd_24, di
RESGROUP:1372
RESGROUP:1372 NormalError:			      ;	...
RESGROUP:1372		      add     di, 13h	      ;	ERROR_WRITE_PROTECT
RESGROUP:1375		      xchg    di, dx
RESGROUP:1377		      call    RPrintCrit
RESGROUP:137A
RESGROUP:137A CheckErrType:			      ;	...
RESGROUP:137A		      cmp     ds:ErrType, 0
RESGROUP:137F		      jz      short ContOld
RESGROUP:1381		      call    crlf
RESGROUP:1384		      jmp     short Ask
RESGROUP:1386 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1386
RESGROUP:1386 ContOld:				      ;	...
RESGROUP:1386		      inc     si
RESGROUP:1387		      test    ds:CDevAt, 80h
RESGROUP:138C		      jz      short BlkErr
RESGROUP:138E		      mov     dx, offset MDEVICE
RESGROUP:1391		      mov     ds:CharDevErrRw, si
RESGROUP:1395		      mov     si, offset CharDevErrSubst
RESGROUP:1398		      call    RPrint
RESGROUP:139B		      jmp     short Ask
RESGROUP:139D ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:139D
RESGROUP:139D BlkErr:				      ;	...
RESGROUP:139D		      mov     dx, offset MDRIVE
RESGROUP:13A0		      mov     ds:BlkDevErrRw, si
RESGROUP:13A4		      mov     si, offset BlkDevErrSubst
RESGROUP:13A7		      call    RPrint
RESGROUP:13AA		      cmp     ds:Loading, 0
RESGROUP:13AF		      jz      short Ask
RESGROUP:13B1		      call    RestHand
RESGROUP:13B4		      jmp     GetComDsk2
RESGROUP:13B7 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:13B7
RESGROUP:13B7 Ask:				      ;	...
RESGROUP:13B7		      cmp     ds:ErrCd_24, 0Fh
RESGROUP:13BC		      jnz     short Not15
RESGROUP:13BE		      push    cx
RESGROUP:13BF		      push    ds
RESGROUP:13C0		      pop     es
RESGROUP:13C1		      lds     si, ds:NeedVol
RESGROUP:13C5		      push    di
RESGROUP:13C6		      mov     di, offset VolName
RESGROUP:13C9		      mov     cx, 16
RESGROUP:13CC		      cld
RESGROUP:13CD		      rep movsb
RESGROUP:13CF		      pop     di
RESGROUP:13D0		      push    es
RESGROUP:13D1		      pop     ds
RESGROUP:13D2		      pop     cx
RESGROUP:13D3		      mov     dx, offset MVOLSERIAL
RESGROUP:13D6		      mov     si, offset NeedVolSubst
RESGROUP:13D9		      call    RPrint
RESGROUP:13DC
RESGROUP:13DC Not15:				      ;	...
RESGROUP:13DC		      mov     dx, offset REQ_ABORT
RESGROUP:13DF		      call    RPrint
RESGROUP:13E2		      test    ds:Crit_Err_Info,	10h ; RETRY_ALLOWED
RESGROUP:13E7		      jz      short Try_Ignore
RESGROUP:13E9		      mov     dx, offset REQ_RETRY
RESGROUP:13EC		      call    RPrint
RESGROUP:13EF
RESGROUP:13EF Try_Ignore:			      ;	...
RESGROUP:13EF		      test    ds:Crit_Err_Info,	20h ; IGNORE_ALLOWED
RESGROUP:13F4		      jz      short Try_Fail
RESGROUP:13F6		      mov     dx, offset REQ_IGNORE
RESGROUP:13F9		      call    RPrint
RESGROUP:13FC
RESGROUP:13FC Try_Fail:				      ;	...
RESGROUP:13FC		      test    ds:Crit_Err_Info,	8 ; FAIL_ALLOWED
RESGROUP:1401		      jz      short Term_Question
RESGROUP:1403		      mov     dx, offset REQ_FAIL
RESGROUP:1406		      call    RPrint
RESGROUP:1409
RESGROUP:1409 Term_Question:			      ;	...
RESGROUP:1409		      mov     dx, offset REQ_END
RESGROUP:140C		      call    RPrint
RESGROUP:140F		      test    ds:fFail,	0FFh  ;	-1
RESGROUP:1414		      jz      short DoPrompt
RESGROUP:1416		      mov     ah, 3
RESGROUP:1418		      jmp     EExit
RESGROUP:141B ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:141B
RESGROUP:141B DoPrompt:				      ;	...
RESGROUP:141B		      mov     ax, 0C01h
RESGROUP:141E		      int     21h	      ;	DOS - CLEAR KEYBOARD BUFFER
RESGROUP:141E					      ;	AL must	be 01h,	06h, 07h, 08h, or 0Ah.
RESGROUP:1420		      call    crlf
RESGROUP:1423		      call    CharToUpper
RESGROUP:1426		      mov     ah, 0
RESGROUP:1428		      test    ds:Crit_Err_Info,	20h ; IGNORE_ALLOWED
RESGROUP:142D		      jz      short User_Retry
RESGROUP:142F		      cmp     al, ds:IGNORE_CHAR
RESGROUP:1433		      jz      short EExitJ
RESGROUP:1435
RESGROUP:1435 User_Retry:			      ;	...
RESGROUP:1435		      inc     ah
RESGROUP:1437		      test    ds:Crit_Err_Info,	10h ; RETRY_ALLOWED
RESGROUP:143C		      jz      short User_Abort
RESGROUP:143E		      cmp     al, ds:RETRY_CHAR
RESGROUP:1442		      jz      short EExitJ
RESGROUP:1444
RESGROUP:1444 User_Abort:			      ;	...
RESGROUP:1444		      inc     ah
RESGROUP:1446		      cmp     al, ds:ABORT_CHAR
RESGROUP:144A		      jz      short Abort_Process
RESGROUP:144C		      inc     ah
RESGROUP:144E		      test    ds:Crit_Err_Info,	8 ; FAIL_ALLOWED
RESGROUP:1453		      jz      short AskJ
RESGROUP:1455		      cmp     al, ds:FAIL_CHAR
RESGROUP:1459		      jz      short EExitJ
RESGROUP:145B
RESGROUP:145B AskJ:				      ;	...
RESGROUP:145B		      jmp     Ask
RESGROUP:145E ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:145E
RESGROUP:145E EExitJ:				      ;	...
RESGROUP:145E		      jmp     short EExit
RESGROUP:1460 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1460
RESGROUP:1460 Abort_Process:			      ;	...
RESGROUP:1460		      test    ds:InitFlag, 1  ;	INITINIT
RESGROUP:1465		      jz      short AbortCont
RESGROUP:1467		      cmp     ds:PermCom, 0
RESGROUP:146C		      jz      short JustExit
RESGROUP:146E		      mov     dx, offset PATRICIDE
RESGROUP:1471		      call    RPrint
RESGROUP:1474
RESGROUP:1474 DeadInTheWater:			      ;	...
RESGROUP:1474		      jmp     short DeadInTheWater
RESGROUP:1476 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1476
RESGROUP:1476 JustExit:				      ;	...
RESGROUP:1476		      mov     ax, ds:Parent
RESGROUP:1479		      mov     ds:16h, ax      ;	[PDB.PARENT_PID]
RESGROUP:147C		      mov     ax, 4CFFh	      ;	(EXIT<<8)|255
RESGROUP:147F		      int     21h	      ;	DOS - 2+ - QUIT	WITH EXIT CODE (EXIT)
RESGROUP:147F					      ;	AL = exit code
RESGROUP:1481 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1481
RESGROUP:1481 AbortCont:			      ;	...
RESGROUP:1481		      test    ds:In_Batch, 0FFh	; -1
RESGROUP:1486		      jz      short Not_Batch_Abort
RESGROUP:1488		      mov     ds:Batch_Abort, 1
RESGROUP:148D
RESGROUP:148D Not_Batch_Abort:			      ;	...
RESGROUP:148D		      mov     dl, ds:PipeFlag
RESGROUP:1491		      call    ResPipeOff
RESGROUP:1494		      or      dl, dl
RESGROUP:1496		      jz      short CheckForA
RESGROUP:1498		      cmp     ds:SingleCom, 0
RESGROUP:149D		      jz      short CheckForA
RESGROUP:149F		      mov     ds:SingleCom, 0FFFFh ; -1
RESGROUP:14A5
RESGROUP:14A5 CheckForA:			      ;	...
RESGROUP:14A5		      cmp     ds:ErrCd_24, 0
RESGROUP:14AA		      jz      short abortfor
RESGROUP:14AC		      cmp     ds:ErrCd_24, 2
RESGROUP:14B1		      jnz     short EExit
RESGROUP:14B3
RESGROUP:14B3 abortfor:				      ;	...
RESGROUP:14B3		      mov     ds:ForFlag, 0
RESGROUP:14B8		      cmp     ds:SingleCom, 0
RESGROUP:14BD		      jz      short EExit
RESGROUP:14BF		      mov     ds:SingleCom, 0FFFFh ; -1
RESGROUP:14C5
RESGROUP:14C5 EExit:				      ;	...
RESGROUP:14C5		      mov     al, ah
RESGROUP:14C7		      mov     dx, di
RESGROUP:14C9
RESGROUP:14C9 RestHd:				      ;	...
RESGROUP:14C9		      call    RestHand
RESGROUP:14CC		      pop     cx
RESGROUP:14CD		      pop     si
RESGROUP:14CE		      pop     es
RESGROUP:14CF		      mov     ds, ds:RStack   ;	mov ds,[OldDS]
RESGROUP:14D3		      iret
RESGROUP:14D4 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:14D4
RESGROUP:14D4 FatErr:				      ;	...
RESGROUP:14D4		      mov     dx, offset BADFATMSG
RESGROUP:14D7		      mov     si, offset BadFatSubst
RESGROUP:14DA		      call    RPrint
RESGROUP:14DD		      mov     al, 2
RESGROUP:14DF		      jmp     short RestHd
RESGROUP:14E1
RESGROUP:14E1 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:14E1
RESGROUP:14E1
RESGROUP:14E1 crlf	      proc near		      ;	...
RESGROUP:14E1		      mov     dx, offset NEWLINE
RESGROUP:14E1 crlf	      endp
RESGROUP:14E1
RESGROUP:14E4
RESGROUP:14E4 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:14E4
RESGROUP:14E4
RESGROUP:14E4 RPrint	      proc near		      ;	...
RESGROUP:14E4		      push    si
RESGROUP:14E5		      push    ax
RESGROUP:14E6		      push    bx
RESGROUP:14E7		      push    cx
RESGROUP:14E8		      push    dx
RESGROUP:14E9		      mov     bx, si
RESGROUP:14EB		      mov     si, dx
RESGROUP:14ED		      lodsb
RESGROUP:14EE		      xor     cx, cx
RESGROUP:14F0		      mov     cl, al
RESGROUP:14F2		      jcxz    short rpRet
RESGROUP:14F4		      call    RDispMsg
RESGROUP:14F7
RESGROUP:14F7 rpRet:				      ;	...
RESGROUP:14F7		      pop     dx
RESGROUP:14F8		      pop     cx
RESGROUP:14F9		      pop     bx
RESGROUP:14FA		      pop     ax
RESGROUP:14FB		      pop     si
RESGROUP:14FC		      retn
RESGROUP:14FC RPrint	      endp
RESGROUP:14FC
RESGROUP:14FD
RESGROUP:14FD ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:14FD
RESGROUP:14FD
RESGROUP:14FD RPrintCrit      proc near		      ;	...
RESGROUP:14FD		      push    dx
RESGROUP:14FE		      xchg    bx, dx
RESGROUP:1500		      sub     bx, 19
RESGROUP:1503		      shl     bx, 1
RESGROUP:1505		      mov     bx, ds:CRITMSGPTRS[bx]
RESGROUP:1509		      xchg    bx, dx
RESGROUP:150B		      call    RPrint
RESGROUP:150E		      pop     dx
RESGROUP:150F		      retn
RESGROUP:150F RPrintCrit      endp
RESGROUP:150F
RESGROUP:1510
RESGROUP:1510 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1510
RESGROUP:1510
RESGROUP:1510 RDispMsg	      proc near		      ;	...
RESGROUP:1510		      lodsb		      ;	rdNextChar
RESGROUP:1511		      cmp     al, '%'
RESGROUP:1513		      jnz     short rdOutChar
RESGROUP:1515		      mov     dl, [si]
RESGROUP:1517		      sub     dl, '1'
RESGROUP:151A		      cmp     dl, 9
RESGROUP:151D		      jnb     short rdOutChar
RESGROUP:151F		      call    SubstMsg
RESGROUP:1522		      inc     si
RESGROUP:1523		      dec     cx
RESGROUP:1524		      jmp     short rdCharDone
RESGROUP:1526 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1526
RESGROUP:1526 rdOutChar:			      ;	...
RESGROUP:1526		      mov     dl, al
RESGROUP:1528		      mov     ah, 2
RESGROUP:152A		      int     21h	      ;	DOS - DISPLAY OUTPUT
RESGROUP:152A					      ;	DL = character to send to standard output
RESGROUP:152C
RESGROUP:152C rdCharDone:			      ;	...
RESGROUP:152C		      loop    RDispMsg	      ;	loop rdNextChar
RESGROUP:152E		      retn
RESGROUP:152E RDispMsg	      endp
RESGROUP:152E
RESGROUP:152F
RESGROUP:152F ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:152F
RESGROUP:152F
RESGROUP:152F SubstMsg	      proc near		      ;	...
RESGROUP:152F		      push    bx
RESGROUP:1530		      push    cx
RESGROUP:1531		      mov     al, 3	      ;	size SUBST
RESGROUP:1533		      mul     dl
RESGROUP:1535		      add     bx, ax
RESGROUP:1537		      mov     al, [bx]	      ;	mov al,[bx].SubstType
RESGROUP:1539		      mov     bx, [bx+1]      ;	mov bx,[bx].SubstPtr
RESGROUP:153C		      dec     al
RESGROUP:153E		      jz      short smChar
RESGROUP:1540		      dec     al
RESGROUP:1542		      jz      short smStr
RESGROUP:1544		      mov     ax, [bx]
RESGROUP:1546		      mov     cx, 4
RESGROUP:1549
RESGROUP:1549 smDigit:				      ;	...
RESGROUP:1549		      rol     ax, 1
RESGROUP:154B		      rol     ax, 1
RESGROUP:154D		      rol     ax, 1
RESGROUP:154F		      rol     ax, 1
RESGROUP:1551		      push    ax
RESGROUP:1552		      and     al, 0Fh
RESGROUP:1554		      add     al, '0'
RESGROUP:1556		      cmp     al, '9'
RESGROUP:1558		      jbe     short smDigit09
RESGROUP:155A		      add     al, 7	      ;	('A' - '0') - 10
RESGROUP:155C
RESGROUP:155C smDigit09:			      ;	...
RESGROUP:155C		      mov     dl, al
RESGROUP:155E		      mov     ah, 2
RESGROUP:1560		      int     21h	      ;	DOS - DISPLAY OUTPUT
RESGROUP:1560					      ;	DL = character to send to standard output
RESGROUP:1562		      pop     ax
RESGROUP:1563		      loop    smDigit
RESGROUP:1565		      jmp     short smRet
RESGROUP:1567 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1567
RESGROUP:1567 smChar:				      ;	...
RESGROUP:1567		      mov     dl, [bx]
RESGROUP:1569		      mov     ah, 2
RESGROUP:156B		      int     21h	      ;	DOS - DISPLAY OUTPUT
RESGROUP:156B					      ;	DL = character to send to standard output
RESGROUP:156D		      jmp     short smRet
RESGROUP:156F ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:156F
RESGROUP:156F smStr:				      ;	...
RESGROUP:156F		      mov     dl, [bx]
RESGROUP:1571		      or      dl, dl
RESGROUP:1573		      jz      short smRet
RESGROUP:1575		      mov     ah, 2
RESGROUP:1577		      int     21h	      ;	DOS - DISPLAY OUTPUT
RESGROUP:1577					      ;	DL = character to send to standard output
RESGROUP:1579		      inc     bx
RESGROUP:157A		      jmp     short smStr
RESGROUP:157C ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:157C
RESGROUP:157C smRet:				      ;	...
RESGROUP:157C		      pop     cx
RESGROUP:157D		      pop     bx
RESGROUP:157E		      retn
RESGROUP:157E SubstMsg	      endp
RESGROUP:157E
RESGROUP:157F
RESGROUP:157F ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:157F
RESGROUP:157F
RESGROUP:157F CharToUpper     proc near		      ;	...
RESGROUP:157F		      push    ax
RESGROUP:1580		      mov     ax, 1213h
RESGROUP:1583		      int     2Fh	      ;	Multiplex - DOS	3+ internal - UPPERCASE	CHARACTER
RESGROUP:1583					      ;	STACK: WORD character to convert to uppercase
RESGROUP:1583					      ;	Return:	AL = uppercase character
RESGROUP:1583					      ;	STACK unchanged
RESGROUP:1585		      inc     sp
RESGROUP:1586		      inc     sp
RESGROUP:1587		      retn
RESGROUP:1587 CharToUpper     endp ; sp	= -2
RESGROUP:1587
RESGROUP:1588 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1588
RESGROUP:1588 MsgInt2fHandler:			      ;	...
RESGROUP:1588		      pop     ds
RESGROUP:1589		      cmp     ax, 122Eh	      ;	(MULTDOS<<8)|MESSAGE_2F
RESGROUP:158C		      jz      short miOurs
RESGROUP:158E		      cmp     ax, 5500h	      ;	GET_COMMAND_STATE
RESGROUP:1591		      jz      short fcOurs
RESGROUP:1593		      push    ax
RESGROUP:1594		      push    ax
RESGROUP:1595		      push    bp
RESGROUP:1596		      push    ax
RESGROUP:1597		      mov     bp, sp
RESGROUP:1599		      mov     ax, [bp+8]
RESGROUP:159C		      mov     [bp+4], ax
RESGROUP:159F		      mov     ax, ds:Int2fHandler+2
RESGROUP:15A2		      mov     [bp+8], ax
RESGROUP:15A5		      mov     ax, ds:Int2fHandler
RESGROUP:15A8		      mov     [bp+6], ax
RESGROUP:15AB		      pop     ax
RESGROUP:15AC		      pop     bp
RESGROUP:15AD		      pop     ds
RESGROUP:15AE		      retf
RESGROUP:15AF ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:15AF
RESGROUP:15AF fcOurs:				      ;	...
RESGROUP:15AF		      pop     ax
RESGROUP:15B0		      push    ds
RESGROUP:15B1		      mov     si, offset Int2f_Entry
RESGROUP:15B4		      xor     ax, ax
RESGROUP:15B6		      jmp     short miRet
RESGROUP:15B8 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:15B8
RESGROUP:15B8 miOurs:				      ;	...
RESGROUP:15B8		      test    dl, 1
RESGROUP:15BB		      jnz     short miRet
RESGROUP:15BD		      push    bx
RESGROUP:15BE		      mov     bx, dx
RESGROUP:15C0		      xor     bh, bh
RESGROUP:15C2		      shl     bx, 1
RESGROUP:15C4		      les     di, ds:MsgPtrLists[bx]
RESGROUP:15C8		      pop     bx
RESGROUP:15C9
RESGROUP:15C9 miRet:				      ;	...
RESGROUP:15C9		      pop     ds
RESGROUP:15CA		      iret
RESGROUP:15CB ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:15CB
RESGROUP:15CB MsgRetriever:
RESGROUP:15CB		      pop     ds
RESGROUP:15CC		      push    ax
RESGROUP:15CD		      push    bx
RESGROUP:15CE		      push    cx
RESGROUP:15CF		      push    dx
RESGROUP:15D0		      push    si
RESGROUP:15D1		      push    ds
RESGROUP:15D2		      pop     es
RESGROUP:15D3		      mov     bx, 11	      ;	NUMPARSMSGS
RESGROUP:15D6		      cmp     di, offset PARSMSGPTRS
RESGROUP:15DA		      jz      short chkmsgnum
RESGROUP:15DC		      mov     bx, 90	      ;	NUMEXTMSGS
RESGROUP:15DF
RESGROUP:15DF chkmsgnum:			      ;	...
RESGROUP:15DF		      cmp     bx, ax
RESGROUP:15E1		      jb      short mrRet
RESGROUP:15E3		      dec     ax
RESGROUP:15E4		      shl     ax, 1
RESGROUP:15E6		      add     di, ax
RESGROUP:15E8		      cmp     di, ds:ResMsgEnd
RESGROUP:15EC		      jb      short mrInMem
RESGROUP:15EE		      mov     si, offset ComSpec
RESGROUP:15F1		      mov     dx, 1	      ;	EXT_EXISTS_OPEN
RESGROUP:15F4		      mov     bx, 2000h	      ;	INT_24_ERROR
RESGROUP:15F7		      mov     ax, 6C00h	      ;	ExtOpen	shl 8
RESGROUP:15FA		      int     21h	      ;	DOS - 4.0 - EXTENDED OPEN/CREATE
RESGROUP:15FA					      ;	BL = open mode as in AL	for normal open	(INT 21h/AH=3Dh)
RESGROUP:15FA					      ;	BH = flags, CX = create	attribute, DL =	action if file exists/does not exists
RESGROUP:15FA					      ;	DH = 00h (reserved), DS:SI -> ASCIZ file name
RESGROUP:15FC		      jb      short mrRet
RESGROUP:15FE		      mov     bx, ax
RESGROUP:1600		      mov     dx, di
RESGROUP:1602		      xor     si, si
RESGROUP:1604
RESGROUP:1604 mrRead:				      ;	...
RESGROUP:1604		      sub     dx, 100h
RESGROUP:1608		      xor     cx, cx
RESGROUP:160A		      mov     ax, 4200h	      ;	LSEEK shl 8
RESGROUP:160D		      int     21h	      ;	DOS - 2+ - MOVE	FILE READ/WRITE	POINTER	(LSEEK)
RESGROUP:160D					      ;	AL = method: offset from beginning of file
RESGROUP:160F		      jb      short mrCloseFile
RESGROUP:1611		      mov     dx, offset SafePathBuffer	; MsgBuffer
RESGROUP:1614		      mov     cx, 64
RESGROUP:1617		      mov     ah, 3Fh
RESGROUP:1619		      int     21h	      ;	DOS - 2+ - READ	FROM FILE WITH HANDLE
RESGROUP:1619					      ;	BX = file handle, CX = number of bytes to read
RESGROUP:1619					      ;	DS:DX -> buffer
RESGROUP:161B		      jb      short mrCloseFile
RESGROUP:161D		      or      si, si
RESGROUP:161F		      jnz     short mrCloseFile
RESGROUP:1621		      inc     si
RESGROUP:1622		      mov     dx, word ptr ds:SafePathBuffer ; [MsgBuffer]
RESGROUP:1626		      or      dx, dx
RESGROUP:1628		      jnz     short mrRead
RESGROUP:162A		      stc
RESGROUP:162B
RESGROUP:162B mrCloseFile:			      ;	...
RESGROUP:162B		      pushf
RESGROUP:162C		      mov     ah, 3Eh
RESGROUP:162E		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:162E					      ;	BX = file handle
RESGROUP:1630		      popf
RESGROUP:1631		      mov     di, dx
RESGROUP:1633		      jmp     short mrRet
RESGROUP:1635 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1635
RESGROUP:1635 mrInMem:				      ;	...
RESGROUP:1635		      mov     di, es:[di]
RESGROUP:1638		      or      di, di
RESGROUP:163A		      jnz     short mrRet
RESGROUP:163C		      stc
RESGROUP:163D
RESGROUP:163D mrRet:				      ;	...
RESGROUP:163D		      pop     si
RESGROUP:163E		      pop     dx
RESGROUP:163F		      pop     cx
RESGROUP:1640		      pop     bx
RESGROUP:1641		      pop     ax
RESGROUP:1642		      pop     ds
RESGROUP:1643		      retf
RESGROUP:1644
RESGROUP:1644 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1644
RESGROUP:1644
RESGROUP:1644 Lh_OffUnlink    proc far
RESGROUP:1644		      mov     ch, al
RESGROUP:1646		      mov     cl, al
RESGROUP:1648		      mov     ax, 5800h
RESGROUP:164B		      int     21h	      ;	DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
RESGROUP:164B					      ;	AL = function code: get	allocation strategy
RESGROUP:164D		      mov     bx, ax
RESGROUP:164F		      ror     cl, 1
RESGROUP:1651		      and     cl, 80h
RESGROUP:1654		      and     bl, 7Fh
RESGROUP:1657		      or      bl, cl
RESGROUP:1659		      mov     ax, 5801h
RESGROUP:165C		      int     21h	      ;	DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
RESGROUP:165C					      ;	AL = function code: set	allocation strategy
RESGROUP:165E		      mov     bl, ch
RESGROUP:1660		      shr     bl, 1
RESGROUP:1662		      xor     bh, bh
RESGROUP:1664		      mov     ax, 5803h
RESGROUP:1667		      int     21h	      ;	DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
RESGROUP:1667					      ;	AL = function code: (DOS 5beta)	set UMB	link state
RESGROUP:1669		      retf
RESGROUP:1669 Lh_OffUnlink    endp
RESGROUP:1669
RESGROUP:1669 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:166A EndCode	      db 6 dup(0)
RESGROUP:1670 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1670 ;	START OF FUNCTION CHUNK	FOR StartCode
RESGROUP:1670
RESGROUP:1670 ConProc:				      ;	...
RESGROUP:1670		      mov     sp, offset RStack
RESGROUP:1673		      mov     ah, 50h
RESGROUP:1675		      mov     bx, es
RESGROUP:1677		      int     21h	      ;	DOS - 2+ internal - SET	PSP SEGMENT
RESGROUP:1677					      ;	BX = segment address of	new PSP
RESGROUP:1679		      mov     ax, 3000h
RESGROUP:167C		      int     21h	      ;	DOS - GET DOS VERSION
RESGROUP:167C					      ;	Return:	AL = major version number (00h for DOS 1.x)
RESGROUP:167E		      cmp     ax, 1606h
RESGROUP:1681		      jz      short okdos
RESGROUP:1683		      mov     dx, offset BADVERMSG
RESGROUP:1686		      call    RPrint
RESGROUP:1689		      mov     ax, es
RESGROUP:168B		      cmp     es:16h, ax      ;	[es:PDB.PARENT_PID]
RESGROUP:1690
RESGROUP:1690 Here:				      ;	...
RESGROUP:1690		      jz      short Here
RESGROUP:1692		      int     20h	      ;	DOS - PROGRAM TERMINATION
RESGROUP:1692					      ;	returns	to DOS--identical to INT 21/AH=00h
RESGROUP:1694 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1694
RESGROUP:1694 okdos:				      ;	...
RESGROUP:1694		      mov     dx, 26EFh	      ;	TRANSTART+15
RESGROUP:1697		      mov     cl, 4
RESGROUP:1699		      shr     dx, cl
RESGROUP:169B		      mov     ax, cs
RESGROUP:169D		      add     ax, dx
RESGROUP:169F		      mov     ds:initend, ax
RESGROUP:16A2		      call    CheckHelp
RESGROUP:16A5		      call    patch_segs
RESGROUP:16A8		      mov     ax, 0B700h
RESGROUP:16AB		      int     2Fh	      ;	- Multiplex - APPEND - INSTALLATION CHECK
RESGROUP:16AB					      ;	Return:	AL = 00h not installed
RESGROUP:16AB					      ;	AL = FFh if installed
RESGROUP:16AD		      cmp     al, 0
RESGROUP:16AF		      jz      short set_msg_addr
RESGROUP:16B1		      mov     ax, 0B702h
RESGROUP:16B4		      int     2Fh	      ;	- Multiplex - APPEND - VERSION CHECK
RESGROUP:16B4					      ;	Return:	AX = FFFFh if not DOS 4.0 APPEND
RESGROUP:16B4					      ;	AL = major version number
RESGROUP:16B4					      ;	AH = minor version number, otherwise
RESGROUP:16B6		      cmp     ax, 0FFFFh
RESGROUP:16B9		      jnz     short set_msg_addr
RESGROUP:16BB		      mov     ax, 0B706h
RESGROUP:16BE		      int     2Fh	      ;	- Multiplex - DOS 4.0 APPEND - GET APPEND FUNCTION STATE
RESGROUP:16BE					      ;	Return:	BX = APPEND state
RESGROUP:16C0		      mov     ds:Append_State, bx
RESGROUP:16C4		      xor     bx, bx
RESGROUP:16C6		      mov     ax, 0B707h
RESGROUP:16C9		      int     2Fh	      ;	- Multiplex - DOS 4.0 APPEND - SET APPEND FUNCTION STATE
RESGROUP:16C9					      ;	BX = APPEND state bits
RESGROUP:16CB
RESGROUP:16CB set_msg_addr:			      ;	...
RESGROUP:16CB		      mov     di, offset PAERRMSG0 ; offset resgroup:DataresEnd
RESGROUP:16CE		      mov     ds:ResMsgEnd, di
RESGROUP:16D2		      call    get_XMMAddr
RESGROUP:16D5		      mov     ax, 5500h
RESGROUP:16D8		      int     2Fh
RESGROUP:16DA		      or      ax, ax
RESGROUP:16DC		      jnz     short first_com
RESGROUP:16DE		      mov     es:ResJmpTable, si
RESGROUP:16E3		      mov     es:ResJmpTable+2,	ds
RESGROUP:16E8		      jmp     short init_cntry
RESGROUP:16EA ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:16EA
RESGROUP:16EA first_com:			      ;	...
RESGROUP:16EA		      mov     es:FirstCom, 1
RESGROUP:16F0
RESGROUP:16F0 init_cntry:			      ;	...
RESGROUP:16F0		      push    es
RESGROUP:16F1		      pop     ds
RESGROUP:16F2		      mov     ah, 65h	      ;	GETEXTCNTRY
RESGROUP:16F4		      mov     al, 4
RESGROUP:16F6		      mov     dx, 0FFFFh      ;	-1
RESGROUP:16F9		      mov     bx, 0FFFFh      ;	-1
RESGROUP:16FC		      mov     cx, 5
RESGROUP:16FF		      mov     di, offset FUCase_Addr
RESGROUP:1702		      int     21h	      ;	DOS - 4.x internal - COUNTRY-DEPENDENT FILENAME	CAPITALIZATION
RESGROUP:1702					      ;	AL = function -
RESGROUP:1704		      push    ds
RESGROUP:1705		      mov     ax, 6300h
RESGROUP:1708		      int     21h	      ;	DOS - 3.2+ only	- GET DOUBLE BYTE CHARACTER SET	LEAD TABLE
RESGROUP:170A		      mov     bx, ds
RESGROUP:170C		      pop     ds
RESGROUP:170D		      mov     word ptr ds:Dbcs_Vector_Addr, si
RESGROUP:1711		      mov     word ptr ds:Dbcs_Vector_Addr+2, bx
RESGROUP:1715		      mov     ax, ds:16h      ;	[PDB.PARENT_PID]
RESGROUP:1718		      mov     ds:Parent, ax
RESGROUP:171B		      mov     ax, ds:0Ah      ;	[PDB.EXIT]
RESGROUP:171E		      mov     ds:OldTerm, ax
RESGROUP:1721		      mov     ax, ds:0Ch      ;	[PDB.EXIT+2]
RESGROUP:1724		      mov     ds:OldTerm+2, ax
RESGROUP:1727		      mov     ax, 1679h	      ;	EndCode+15
RESGROUP:172A		      mov     cl, 4
RESGROUP:172C		      shr     ax, cl	      ;	(EndCode+15)>>4
RESGROUP:172E		      mov     cx, cs
RESGROUP:1730		      add     ax, cx
RESGROUP:1732		      mov     ds:Res_Tpa, ax
RESGROUP:1735		      and     ax, 0F000h
RESGROUP:1738		      add     ax, 1000h
RESGROUP:173B		      jnb     short TpaSet
RESGROUP:173D		      mov     ax, ds:Res_Tpa
RESGROUP:1740
RESGROUP:1740 TpaSet:				      ;	...
RESGROUP:1740		      mov     ds:LTpa, ax
RESGROUP:1743		      mov     ax, ds:2	      ;	[PDB.BLOCK_LEN]
RESGROUP:1746		      mov     ds:MySeg1, ds
RESGROUP:174A		      mov     ds:MySeg2, ds
RESGROUP:174E		      mov     ds:MySeg,	ds
RESGROUP:1752		      mov     ds:MySeg3, ds
RESGROUP:1756		      mov     ds:MemSiz, ax
RESGROUP:1759		      push    ax
RESGROUP:175A		      mov     bx, 26E0h	      ;	mov bx,offset RESGROUP:TranStart
RESGROUP:175D		      add     bx, 0AF95h      ;	add bx,offset TRANGROUP:TranSpaceEnd
RESGROUP:1761		      add     bx, 0Fh
RESGROUP:1764		      mov     cl, 4
RESGROUP:1766		      shr     bx, cl
RESGROUP:1768		      mov     ah, 4Ah
RESGROUP:176A		      int     21h	      ;	DOS - 2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
RESGROUP:176A					      ;	ES = segment address of	block to change
RESGROUP:176A					      ;	BX = new size in paragraphs
RESGROUP:176C		      pop     ax
RESGROUP:176D		      mov     ds:EnvMax, 90   ;	((ENVIRONSIZ+15)/16) + ((EnvMaximum-ZERO+15)/16) - 1
RESGROUP:1773		      mov     ds:EnvSiz, 16   ;	ENVSML/16 ; 256/16
RESGROUP:1779		      mov     dx, 0AFA4h      ;	TRANSPACEEND+15
RESGROUP:177C		      mov     cl, 4
RESGROUP:177E		      shr     dx, cl	      ;	(TRANSPACEEND+15)>>4
RESGROUP:1780		      mov     ds:TrnSize, dx
RESGROUP:1784		      sub     ax, dx
RESGROUP:1786		      mov     ds:TrnSeg, ax
RESGROUP:1789		      mov     ax, ds:2Ch      ;	[PDB.ENVIRON]
RESGROUP:178C		      mov     ds:EnvirSeg, ax
RESGROUP:178F		      or      ax, ax
RESGROUP:1791		      jz      short buildenv
RESGROUP:1793		      cmp     ds:FirstCom, 0
RESGROUP:1798		      jz      short environpassed
RESGROUP:179A
RESGROUP:179A buildenv:				      ;	...
RESGROUP:179A		      call    alloc_env
RESGROUP:179D
RESGROUP:179D environpassed:			      ;	...
RESGROUP:179D		      mov     es, ax
RESGROUP:179F
RESGROUP:179F gottheenvir:
RESGROUP:179F		      mov     ah, 19h
RESGROUP:17A1		      int     21h	      ;	DOS - GET DEFAULT DISK NUMBER
RESGROUP:17A3		      inc     al
RESGROUP:17A5		      mov     ds:ComDrv, al
RESGROUP:17A8		      mov     al, ds:5Ch      ;	[FCB]
RESGROUP:17AB		      or      al, al
RESGROUP:17AD		      jz      short nocomdrv
RESGROUP:17AF		      mov     ah, ':'
RESGROUP:17B1		      mov     ds:ComDrv, al
RESGROUP:17B4		      add     al, 40h
RESGROUP:17B6		      std
RESGROUP:17B7		      cmp     ds:AllocedEnv, 0
RESGROUP:17BC		      jz      short notwidenv
RESGROUP:17BE		      mov     di, ds:ComspOffset
RESGROUP:17C2		      cmp     byte ptr es:[di+1], ':'
RESGROUP:17C7		      jz      short notwidenv
RESGROUP:17C9		      push    ds
RESGROUP:17CA		      push    es
RESGROUP:17CB		      pop     ds
RESGROUP:17CC		      lea     si, [di+143]    ;	lea si,[di+MAX_COMSPEC-3]
RESGROUP:17D0		      lea     di, [di+145]    ;	lea di,[di+MAX_COMSPEC-1]
RESGROUP:17D4		      mov     cx, 144	      ;	MAX_COMSPEC - 2
RESGROUP:17D7		      rep movsb
RESGROUP:17D9		      pop     ds
RESGROUP:17DA		      mov     es:[di-1], ax
RESGROUP:17DE
RESGROUP:17DE notwidenv:			      ;	...
RESGROUP:17DE		      cld
RESGROUP:17DF		      mov     word ptr ds:AUTOBAT, ax
RESGROUP:17E2		      mov     word ptr ds:KAUTOBAT, ax
RESGROUP:17E5
RESGROUP:17E5 nocomdrv:				      ;	...
RESGROUP:17E5		      call    SetVect
RESGROUP:17E8		      push    cs
RESGROUP:17E9		      push    cs
RESGROUP:17EA		      pop     ds
RESGROUP:17EB		      assume ds:RESGROUP
RESGROUP:17EB		      pop     es
RESGROUP:17EC		      mov     si, 80h
RESGROUP:17EF		      lodsb
RESGROUP:17F0		      mov     di, si
RESGROUP:17F2		      xor     ah, ah
RESGROUP:17F4		      add     di, ax
RESGROUP:17F6		      mov     byte ptr [di], 0Dh
RESGROUP:17F9		      xor     cx, cx
RESGROUP:17FB		      mov     num_positionals, cx
RESGROUP:17FF
RESGROUP:17FF Parse_command_line:		      ;	...
RESGROUP:17FF		      mov     di, offset INTERNAT_INFO ; offset	ResGroup:Parse_Command
RESGROUP:1802		      mov     cx, num_positionals
RESGROUP:1806		      xor     dx, dx
RESGROUP:1808		      mov     old_parse_ptr, si
RESGROUP:180C		      call    dword ptr	Init_Parse ; call far [Init_Parse]
RESGROUP:1810		      mov     num_positionals, cx
RESGROUP:1814		      cmp     ax, 0FFFFh      ;	-1
RESGROUP:1817		      jnz     short t1
RESGROUP:1819		      jmp     ArgsDone
RESGROUP:181C ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:181C
RESGROUP:181C t1:				      ;	...
RESGROUP:181C		      cmp     ax, 0
RESGROUP:181F		      jz      short parse_cont
RESGROUP:1821
RESGROUP:1821 parse_line_error:			      ;	...
RESGROUP:1821		      push    si
RESGROUP:1822		      push    ax
RESGROUP:1823		      cmp     ax, 3
RESGROUP:1826		      jnz     short parse_line_error_disp
RESGROUP:1828		      mov     di, si
RESGROUP:182A		      mov     si, old_parse_ptr
RESGROUP:182E
RESGROUP:182E init_chk_delim:			      ;	...
RESGROUP:182E		      cmp     si, di
RESGROUP:1830		      jz      short parse_line_error_disp
RESGROUP:1832		      lodsb
RESGROUP:1833		      cmp     al, space
RESGROUP:1837		      jz      short init_chk_delim
RESGROUP:1839		      cmp     al, 9
RESGROUP:183B		      jz      short init_chk_delim
RESGROUP:183D		      cmp     al, RSwitChar
RESGROUP:1841		      jnz     short parse_line_error_disp
RESGROUP:1843		      lodsb
RESGROUP:1844		      call    iupconv
RESGROUP:1847		      cmp     al, scswitch
RESGROUP:184B		      jnz     short check_k_too
RESGROUP:184D		      pop     dx
RESGROUP:184E		      pop     dx
RESGROUP:184F		      jmp     SetSSwitch
RESGROUP:1852 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1852
RESGROUP:1852 check_k_too:			      ;	...
RESGROUP:1852		      cmp     al, skswitch
RESGROUP:1856		      jnz     short parse_line_error_disp
RESGROUP:1858		      pop     dx
RESGROUP:1859		      pop     dx
RESGROUP:185A		      jmp     SetKSwitch
RESGROUP:185D ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:185D
RESGROUP:185D parse_line_error_disp:		      ;	...
RESGROUP:185D		      pop     ax
RESGROUP:185E		      pop     si
RESGROUP:185F		      mov     dx, ax
RESGROUP:1861		      call    RPrintParse
RESGROUP:1864		      call    crlf
RESGROUP:1867		      jmp     short Parse_command_line
RESGROUP:1869 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1869
RESGROUP:1869 parse_cont:			      ;	...
RESGROUP:1869		      cmp     COMND1_SYN, offset COMMAND_F_SYN ; "/F"
RESGROUP:186F		      jz      short SetFSwitch
RESGROUP:1871		      cmp     COMND1_SYN, offset COMMAND_P_SYN ; "/P"
RESGROUP:1877		      jz      short SetPSwitch
RESGROUP:1879		      cmp     COMND1_SYN, offset COMMAND_D_SYN ; "/D"
RESGROUP:187F		      jz      short SetDSwitch
RESGROUP:1881		      cmp     COMND1_SYN, offset COMMAND_C_SYN ; "/C"
RESGROUP:1887		      jnz     short parse_cont_1
RESGROUP:1889		      jmp     SetSSwitch
RESGROUP:188C ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:188C
RESGROUP:188C parse_cont_1:			      ;	...
RESGROUP:188C		      cmp     COMND1_SYN, offset COMMAND_K_SYN ; "/K"
RESGROUP:1892		      jz      short SetKSwitch
RESGROUP:1894		      cmp     COMND1_SYN, offset COMMAND_E_SYN ; "/E"
RESGROUP:189A		      jnz     short parse_cont_2
RESGROUP:189C		      jmp     SetESwitch
RESGROUP:189F ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:189F
RESGROUP:189F parse_cont_2:			      ;	...
RESGROUP:189F		      cmp     COMND1_SYN, offset COMMAND_Y_SYN ; "/Y"
RESGROUP:18A5		      jnz     short parse_cont_3
RESGROUP:18A7		      jmp     SetYSwitch
RESGROUP:18AA ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:18AA
RESGROUP:18AA parse_cont_3:			      ;	...
RESGROUP:18AA		      cmp     COMND1_SYN, offset COMMAND_M_SYN ; "/MSG"
RESGROUP:18B0		      jz      short SetMSwitchjmp
RESGROUP:18B2		      jmp     ChkOtherArgs
RESGROUP:18B5 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:18B5
RESGROUP:18B5 SetMSwitchjmp:			      ;	...
RESGROUP:18B5		      jmp     SetMswitch
RESGROUP:18B8 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:18B8
RESGROUP:18B8 SetFSwitch:			      ;	...
RESGROUP:18B8		      cmp     fFail, 0FFh     ;	-1
RESGROUP:18BD		      jnz     short failok
RESGROUP:18BF		      mov     ax, 1
RESGROUP:18C2		      jmp     parse_line_error
RESGROUP:18C5 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:18C5
RESGROUP:18C5 failok:				      ;	...
RESGROUP:18C5		      mov     fFail, 0FFh
RESGROUP:18CA		      jmp     Parse_command_line
RESGROUP:18CD ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:18CD
RESGROUP:18CD SetPSwitch:			      ;	...
RESGROUP:18CD		      cmp     PermCom, 0
RESGROUP:18D2		      jz      short permcomok
RESGROUP:18D4		      mov     ax, 1
RESGROUP:18D7		      jmp     parse_line_error
RESGROUP:18DA ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:18DA
RESGROUP:18DA permcomok:			      ;	...
RESGROUP:18DA		      inc     PermCom
RESGROUP:18DE		      mov     OldTerm, offset LodCom_Trap
RESGROUP:18E4		      mov     OldTerm+2, ds
RESGROUP:18E8		      cmp     PRDATTM, 0FFh   ;	-1
RESGROUP:18ED		      jnz     short Parse_command_line_jmp
RESGROUP:18EF		      mov     PRDATTM, 0
RESGROUP:18F4
RESGROUP:18F4 Parse_command_line_jmp:		      ;	...
RESGROUP:18F4		      jmp     Parse_command_line
RESGROUP:18F7 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:18F7
RESGROUP:18F7 SetDSwitch:			      ;	...
RESGROUP:18F7		      cmp     dswitch, 0
RESGROUP:18FC		      jz      short setdateok
RESGROUP:18FE		      mov     ax, 1
RESGROUP:1901		      jmp     parse_line_error
RESGROUP:1904 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1904
RESGROUP:1904 setdateok:			      ;	...
RESGROUP:1904		      inc     dswitch
RESGROUP:1908		      mov     PRDATTM, 1
RESGROUP:190D		      jmp     Parse_command_line
RESGROUP:1910 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1910
RESGROUP:1910 SetKSwitch:			      ;	...
RESGROUP:1910		      mov     SemiPermCom, 0
RESGROUP:1916		      jmp     short SetSorKSwitch
RESGROUP:1918 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1918
RESGROUP:1918 SetSSwitch:			      ;	...
RESGROUP:1918		      mov     PermCom, 0
RESGROUP:191D
RESGROUP:191D SetSorKSwitch:			      ;	...
RESGROUP:191D		      mov     SingleCom, si
RESGROUP:1921		      mov     PRDATTM, 1
RESGROUP:1926		      jmp     ArgsDone
RESGROUP:1929 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1929
RESGROUP:1929 SetESwitch:			      ;	...
RESGROUP:1929		      cmp     eswitch, 0
RESGROUP:192E		      jz      short eswitchok
RESGROUP:1930		      mov     ax, 1	      ;	MoreArgs_Ptr
RESGROUP:1933		      jmp     parse_line_error
RESGROUP:1936 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1936
RESGROUP:1936 eswitchok:			      ;	...
RESGROUP:1936		      inc     eswitch
RESGROUP:193A		      mov     di, offset COMND1_ADDR
RESGROUP:193D		      mov     bx, [di]
RESGROUP:193F		      add     bx, 0Fh
RESGROUP:1942		      mov     cl, 4
RESGROUP:1944		      shr     bx, cl
RESGROUP:1946		      mov     EnvSiz, bx
RESGROUP:194A		      jmp     Parse_command_line
RESGROUP:194D ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:194D
RESGROUP:194D SetMswitch:			      ;	...
RESGROUP:194D		      cmp     ext_msg, 1      ;	SET_EXTENDED_MSG
RESGROUP:1952		      jnz     short setMswitchok
RESGROUP:1954		      mov     ax, 1	      ;	MoreArgs_Ptr
RESGROUP:1957		      jmp     parse_line_error
RESGROUP:195A ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:195A
RESGROUP:195A setMswitchok:			      ;	...
RESGROUP:195A		      mov     ext_msg, 1
RESGROUP:195F		      jmp     Parse_command_line
RESGROUP:1962 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1962
RESGROUP:1962 SetYSwitch:			      ;	...
RESGROUP:1962		      or      byte ptr Y_Flag, 10h
RESGROUP:1967		      jmp     Parse_command_line
RESGROUP:1967 ;	END OF FUNCTION	CHUNK FOR StartCode
RESGROUP:196A ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:196A		      jmp     ArgsDone
RESGROUP:196D ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:196D ;	START OF FUNCTION CHUNK	FOR StartCode
RESGROUP:196D
RESGROUP:196D ChkOtherArgs:			      ;	...
RESGROUP:196D		      push    ds
RESGROUP:196E		      push    si
RESGROUP:196F		      lds     si, COMND1_ADDR
RESGROUP:1973		      assume ds:nothing
RESGROUP:1973		      mov     dx, si
RESGROUP:1975		      mov     ax, 3D02h
RESGROUP:1978		      int     21h	      ;	DOS - 2+ - OPEN	DISK FILE WITH HANDLE
RESGROUP:1978					      ;	DS:DX -> ASCIZ filename
RESGROUP:1978					      ;	AL = access mode
RESGROUP:1978					      ;	2 - read & write
RESGROUP:197A		      jb      short ChkSrchSpec
RESGROUP:197C		      mov     bx, ax
RESGROUP:197E		      mov     ax, 4400h
RESGROUP:1981		      int     21h	      ;	DOS - 2+ - IOCTL - GET DEVICE INFORMATION
RESGROUP:1981					      ;	BX = file or device handle
RESGROUP:1983		      test    dl, 80h
RESGROUP:1986		      jnz     short IsaDevice
RESGROUP:1988
RESGROUP:1988 BadSetCon:			      ;	...
RESGROUP:1988		      mov     ah, 3Eh
RESGROUP:198A		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:198A					      ;	BX = file handle
RESGROUP:198C		      jmp     short ChkSrchSpec
RESGROUP:198E ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:198E
RESGROUP:198E IsaDevice:			      ;	...
RESGROUP:198E		      xor     dh, dh
RESGROUP:1990		      or      dl, 3
RESGROUP:1993		      mov     ax, 4401h
RESGROUP:1996		      int     21h	      ;	DOS - 2+ - IOCTL - SET DEVICE INFORMATION
RESGROUP:1996					      ;	BX = device handle, DH = 0
RESGROUP:1996					      ;	DL = device information	to set (bits 0-7 from function 0)
RESGROUP:1998		      jb      short BadSetCon
RESGROUP:199A		      mov     dx, bx
RESGROUP:199C		      cmp     es:DevFlag, 1
RESGROUP:19A2		      jz      short DevErr
RESGROUP:19A4		      push    cx
RESGROUP:19A5		      mov     cx, 3
RESGROUP:19A8		      xor     bx, bx
RESGROUP:19AA
RESGROUP:19AA rcclloop:				      ;	...
RESGROUP:19AA		      mov     ah, 3Eh
RESGROUP:19AC		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:19AC					      ;	BX = file handle
RESGROUP:19AE		      inc     bx
RESGROUP:19AF		      loop    rcclloop
RESGROUP:19B1		      mov     bx, dx
RESGROUP:19B3		      mov     ah, 45h
RESGROUP:19B5		      int     21h	      ;	DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
RESGROUP:19B5					      ;	BX = file handle to duplicate
RESGROUP:19B7		      mov     ah, 45h
RESGROUP:19B9		      int     21h	      ;	DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
RESGROUP:19B9					      ;	BX = file handle to duplicate
RESGROUP:19BB		      mov     ah, 45h
RESGROUP:19BD		      int     21h	      ;	DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
RESGROUP:19BD					      ;	BX = file handle to duplicate
RESGROUP:19BF		      mov     ah, 3Eh
RESGROUP:19C1		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:19C1					      ;	BX = file handle
RESGROUP:19C3		      pop     cx
RESGROUP:19C4		      pop     si
RESGROUP:19C5		      pop     ds
RESGROUP:19C6		      inc     es:DevFlag
RESGROUP:19CB		      jmp     Parse_command_line
RESGROUP:19CE ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:19CE
RESGROUP:19CE DevErr:				      ;	...
RESGROUP:19CE		      pop     si
RESGROUP:19CF		      pop     ds
RESGROUP:19D0		      mov     dx, 1
RESGROUP:19D3		      call    RPrintParse
RESGROUP:19D6		      call    crlf
RESGROUP:19D9		      jmp     Parse_command_line
RESGROUP:19DC ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:19DC
RESGROUP:19DC ChkSrchSpec:			      ;	...
RESGROUP:19DC		      cmp     es:PathFlag, 1
RESGROUP:19E2		      jz      short DevErr
RESGROUP:19E4		      inc     es:PathFlag
RESGROUP:19E9		      call    alloc_env
RESGROUP:19EC
RESGROUP:19EC env_alloced:
RESGROUP:19EC		      mov     es, ax
RESGROUP:19EE		      push    si
RESGROUP:19EF		      xor     cx, cx
RESGROUP:19F1
RESGROUP:19F1 countloop:			      ;	...
RESGROUP:19F1		      lodsb
RESGROUP:19F2		      inc     cx
RESGROUP:19F3		      cmp     al, 0
RESGROUP:19F5		      jnz     short countloop
RESGROUP:19F7		      mov     al, ss:space
RESGROUP:19FB		      dec     si
RESGROUP:19FC		      mov     [si], al
RESGROUP:19FE		      push    cx
RESGROUP:19FF		      mov     cx, 32768	      ;	ENVBIG
RESGROUP:1A02		      mov     di, ss:ComspOffset
RESGROUP:1A07		      mov     al, 0
RESGROUP:1A09		      repne scasb
RESGROUP:1A0B		      mov     si, di
RESGROUP:1A0D
RESGROUP:1A0D comp_endenv:			      ;	...
RESGROUP:1A0D		      scasb
RESGROUP:1A0E		      jz      short got_endenv
RESGROUP:1A10		      repne scasb
RESGROUP:1A12		      jmp     short comp_endenv
RESGROUP:1A14 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1A14
RESGROUP:1A14 got_endenv:			      ;	...
RESGROUP:1A14		      mov     cx, di
RESGROUP:1A16		      sub     cx, si
RESGROUP:1A18		      mov     di, ss:ComspOffset
RESGROUP:1A1D		      sub     di, 8	      ;	ComspStrLen
RESGROUP:1A21		      push    ds
RESGROUP:1A22		      push    es
RESGROUP:1A23		      pop     ds
RESGROUP:1A24		      rep movsb
RESGROUP:1A26		      dec     di
RESGROUP:1A27		      push    cs
RESGROUP:1A28		      pop     ds
RESGROUP:1A29		      assume ds:RESGROUP
RESGROUP:1A29		      mov     si, offset ComspString ; "COMSPEC=\\COMMAND.COM"
RESGROUP:1A2C		      mov     cx, 8
RESGROUP:1A2F		      rep movsb
RESGROUP:1A31		      mov     ComspOffset, di
RESGROUP:1A35		      pop     ds
RESGROUP:1A36		      assume ds:nothing
RESGROUP:1A36		      pop     cx
RESGROUP:1A37		      pop     si
RESGROUP:1A38
RESGROUP:1A38 ComtrLoop:			      ;	...
RESGROUP:1A38		      lodsb
RESGROUP:1A39		      dec     cx
RESGROUP:1A3A		      cmp     al, ss:space
RESGROUP:1A3F		      jz      short SetComsr
RESGROUP:1A41		      stosb
RESGROUP:1A42		      jcxz    short SetComsr
RESGROUP:1A44		      jmp     short ComtrLoop
RESGROUP:1A46 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1A46
RESGROUP:1A46 SetComsr:				      ;	...
RESGROUP:1A46		      push    cx
RESGROUP:1A47		      push    cs
RESGROUP:1A48		      pop     ds
RESGROUP:1A49		      assume ds:RESGROUP
RESGROUP:1A49		      push    ds
RESGROUP:1A4A		      mov     si, offset COMSPECT ; "\\COMMAND.COM"
RESGROUP:1A4D		      mov     cx, 14
RESGROUP:1A50		      mov     al, es:[di-1]
RESGROUP:1A54		      cmp     al, RDirChar
RESGROUP:1A58		      jnz     short iNotRoot
RESGROUP:1A5A		      inc     si
RESGROUP:1A5B		      dec     cx
RESGROUP:1A5C
RESGROUP:1A5C iNotRoot:				      ;	...
RESGROUP:1A5C		      rep movsb
RESGROUP:1A5E		      mov     dx, ComspOffset
RESGROUP:1A62		      push    es
RESGROUP:1A63		      pop     ds
RESGROUP:1A64		      assume ds:nothing
RESGROUP:1A64		      mov     ax, 3D00h
RESGROUP:1A67		      int     21h	      ;	DOS - 2+ - OPEN	DISK FILE WITH HANDLE
RESGROUP:1A67					      ;	DS:DX -> ASCIZ filename
RESGROUP:1A67					      ;	AL = access mode
RESGROUP:1A67					      ;	0 - read
RESGROUP:1A69		      pop     ds
RESGROUP:1A6A		      jb      short SetComsrBad
RESGROUP:1A6C		      mov     bx, ax
RESGROUP:1A6E		      mov     ah, 3Eh
RESGROUP:1A70		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:1A70					      ;	BX = file handle
RESGROUP:1A72
RESGROUP:1A72 SetComsrRet:			      ;	...
RESGROUP:1A72		      pop     cx
RESGROUP:1A73		      pop     si
RESGROUP:1A74		      pop     ds
RESGROUP:1A75		      push    cs
RESGROUP:1A76		      pop     es
RESGROUP:1A77		      assume es:RESGROUP
RESGROUP:1A77		      jmp     Parse_command_line
RESGROUP:1A7A ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1A7A
RESGROUP:1A7A SetComsrBad:			      ;	...
RESGROUP:1A7A		      mov     dx, offset BADCOMLKMES
RESGROUP:1A7D		      call    5A1Ch	      ;	call TriageError (in TRANSCODE)
RESGROUP:1A7D					      ;	26E0h+333Ch
RESGROUP:1A80		      cmp     ax, 65
RESGROUP:1A83		      jnz     short doprt
RESGROUP:1A85		      mov     dx, offset BADCOMACCMSG
RESGROUP:1A88
RESGROUP:1A88 doprt:				      ;	...
RESGROUP:1A88		      call    RPrint
RESGROUP:1A8B		      mov     si, offset COMSPECT ; "\\COMMAND.COM"
RESGROUP:1A8E		      mov     di, ds:ComspOffset
RESGROUP:1A92		      mov     cx, 14
RESGROUP:1A95		      rep movsb
RESGROUP:1A97		      jmp     short SetComsrRet
RESGROUP:1A99 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1A99
RESGROUP:1A99 ArgsDone:				      ;	...
RESGROUP:1A99		      mov     es, ds:EnvirSeg
RESGROUP:1A9D		      assume es:nothing
RESGROUP:1A9D		      cmp     ds:PermCom, 0
RESGROUP:1AA2		      jz      short ComReturns
RESGROUP:1AA4		      push    es
RESGROUP:1AA5		      mov     ah, 50h
RESGROUP:1AA7		      mov     bx, ds
RESGROUP:1AA9		      mov     es, bx
RESGROUP:1AAB		      int     21h	      ;	DOS - 2+ internal - SET	PSP SEGMENT
RESGROUP:1AAB					      ;	BX = segment address of	new PSP
RESGROUP:1AAD		      mov     di, 0Ah	      ;	PDB.EXIT
RESGROUP:1AB0		      mov     ax, offset LodCom_Trap
RESGROUP:1AB3		      stosw
RESGROUP:1AB4		      mov     ax, ds
RESGROUP:1AB6		      stosw
RESGROUP:1AB7		      mov     ax, offset Ctrlc_Trap
RESGROUP:1ABA		      stosw
RESGROUP:1ABB		      mov     ax, ds
RESGROUP:1ABD		      stosw
RESGROUP:1ABE		      mov     ax, offset CritErr_Trap
RESGROUP:1AC1		      stosw
RESGROUP:1AC2		      mov     ax, ds
RESGROUP:1AC4		      stosw
RESGROUP:1AC5		      mov     word ptr ds:16h, ds ; [PDB.PARENT_PID]
RESGROUP:1AC9		      mov     dx, offset Int2e_Trap
RESGROUP:1ACC		      mov     ax, 252Eh
RESGROUP:1ACF		      int     21h	      ;	DOS - SET INTERRUPT VECTOR
RESGROUP:1ACF					      ;	AL = interrupt number
RESGROUP:1ACF					      ;	DS:DX =	new vector to be used for specified interrupt
RESGROUP:1AD1		      pop     es
RESGROUP:1AD2
RESGROUP:1AD2 ComReturns:			      ;	...
RESGROUP:1AD2		      mov     ax, ds:16h      ;	[PDB.PARENT_PID]
RESGROUP:1AD5		      mov     ds:Parent, ax
RESGROUP:1AD8		      mov     word ptr ds:16h, ds
RESGROUP:1ADC		      mov     ax, ds:18h      ;	[PDB.JFN_TABLE]
RESGROUP:1ADF		      mov     ds:Io_Save, ax
RESGROUP:1AE2		      mov     ds:Com_Ptr+2, ds
RESGROUP:1AE6		      mov     ds:Com_Fcb1+2, ds
RESGROUP:1AEA		      mov     ds:Com_Fcb2+2, ds
RESGROUP:1AEE		      mov     di, offset ComSpec
RESGROUP:1AF1		      mov     si, ds:ComspOffset
RESGROUP:1AF5		      cmp     ds:AllocedEnv, 0
RESGROUP:1AFA		      mov     ax, ds
RESGROUP:1AFC		      push    es
RESGROUP:1AFD		      pop     ds
RESGROUP:1AFE		      mov     es, ax
RESGROUP:1B00		      jnz     short CopyComsp
RESGROUP:1B02		      push    cs
RESGROUP:1B03		      pop     ds
RESGROUP:1B04		      assume ds:RESGROUP
RESGROUP:1B04		      mov     si, offset ComspString ; "COMSPEC=\\COMMAND.COM"
RESGROUP:1B07		      push    es
RESGROUP:1B08		      push    di
RESGROUP:1B09		      call    IfindE
RESGROUP:1B0C		      mov     si, di
RESGROUP:1B0E		      push    es
RESGROUP:1B0F		      pop     ds
RESGROUP:1B10		      assume ds:nothing
RESGROUP:1B10		      pop     di
RESGROUP:1B11		      pop     es
RESGROUP:1B12		      jnb     short CopyComsp
RESGROUP:1B14		      mov     si, offset ComspString ; "COMSPEC=\\COMMAND.COM"
RESGROUP:1B17		      add     si, 8	      ;	ComspStrLen
RESGROUP:1B1B		      push    cs
RESGROUP:1B1C		      pop     ds
RESGROUP:1B1D		      assume ds:RESGROUP
RESGROUP:1B1D
RESGROUP:1B1D CopyComsp:			      ;	...
RESGROUP:1B1D		      mov     es:PutBackComSpec, di
RESGROUP:1B22		      cmp     byte ptr [si+1], ':'
RESGROUP:1B26		      jnz     short CopyComspLoop
RESGROUP:1B28		      add     es:PutBackComSpec, 2
RESGROUP:1B2E
RESGROUP:1B2E CopyComspLoop:			      ;	...
RESGROUP:1B2E		      lodsb
RESGROUP:1B2F		      stosb
RESGROUP:1B30		      or      al, al
RESGROUP:1B32		      jnz     short CopyComspLoop
RESGROUP:1B34		      mov     es:ComSpec_End, di
RESGROUP:1B39		      dec     es:ComSpec_End
RESGROUP:1B3E		      mov     ah, es:ComDrv
RESGROUP:1B43		      add     ah, 40h	      ;	'A' - 1
RESGROUP:1B46		      mov     es:PutBackDrv, ah
RESGROUP:1B4B		      call    setup_for_messages
RESGROUP:1B4E		      call    Setup_res_end
RESGROUP:1B51		      push    cs
RESGROUP:1B52		      pop     ds
RESGROUP:1B53
RESGROUP:1B53 EnvMaximum:			      ;	offset RESGROUP:TranStart
RESGROUP:1B53		      mov     si, 26E0h
RESGROUP:1B56		      add     si, 100h	      ;	TRANSTART+100h
RESGROUP:1B5A		      mov     cx, 9D53h	      ;	offset TRANGROUP:TranDataEnd - 100h
RESGROUP:1B5D		      cld
RESGROUP:1B5E		      shr     cx, 1
RESGROUP:1B60		      xor     dx, dx
RESGROUP:1B62
RESGROUP:1B62 Ichksum:				      ;	...
RESGROUP:1B62		      lodsw
RESGROUP:1B63		      add     dx, ax
RESGROUP:1B65		      adc     dx, 0
RESGROUP:1B68		      loop    Ichksum
RESGROUP:1B6A		      mov     Sum, dx
RESGROUP:1B6E		      cmp     PRDATTM, 0
RESGROUP:1B73		      jnz     short NoBatchSeg
RESGROUP:1B75		      mov     bx, 4	      ;	((BATCHSEGMENT.SIZE)+16+0Fh)/16
RESGROUP:1B75					      ;	(33+16+15)/16
RESGROUP:1B78		      mov     ah, 48h
RESGROUP:1B7A		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:1B7A					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:1B7C		      jb      short NoBatchSeg
RESGROUP:1B7E		      mov     Batch, ax
RESGROUP:1B81
RESGROUP:1B81 NoBatchSeg:			      ;	...
RESGROUP:1B81		      mov     bx, EnvirSeg
RESGROUP:1B85		      mov     OldEnv, bx
RESGROUP:1B89		      mov     UsedEnv, 0
RESGROUP:1B8F		      mov     ds, bx
RESGROUP:1B91		      assume ds:nothing
RESGROUP:1B91		      xor     si, si
RESGROUP:1B93		      mov     di, si
RESGROUP:1B95		      mov     bx, 0FFFh	      ;	4096 - 1
RESGROUP:1B98		      mov     ss:EnvMax, bx
RESGROUP:1B9D		      shl     bx, 1
RESGROUP:1B9F		      shl     bx, 1
RESGROUP:1BA1		      shl     bx, 1
RESGROUP:1BA3		      shl     bx, 1
RESGROUP:1BA5		      mov     ss:EnvMax, bx
RESGROUP:1BAA		      dec     bx
RESGROUP:1BAB		      xor     dx, dx
RESGROUP:1BAD
RESGROUP:1BAD NxtStr:				      ;	...
RESGROUP:1BAD		      call    GetStrLen
RESGROUP:1BB0		      push    ds
RESGROUP:1BB1		      push    cs
RESGROUP:1BB2		      pop     ds
RESGROUP:1BB3		      assume ds:RESGROUP
RESGROUP:1BB3		      add     UsedEnv, cx
RESGROUP:1BB7		      pop     ds
RESGROUP:1BB8		      assume ds:nothing
RESGROUP:1BB8		      cmp     cx, 1
RESGROUP:1BBB		      jz      short EnvExit
RESGROUP:1BBD		      sub     bx, cx
RESGROUP:1BBF		      jnb     short OkCpyStr
RESGROUP:1BC1		      inc     dx
RESGROUP:1BC2		      jmp     short EnvExit
RESGROUP:1BC4 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1BC4
RESGROUP:1BC4 OkCpyStr:				      ;	...
RESGROUP:1BC4		      jmp     short NxtStr
RESGROUP:1BC6 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1BC6
RESGROUP:1BC6 EnvExit:				      ;	...
RESGROUP:1BC6		      push    cs
RESGROUP:1BC7		      pop     ds
RESGROUP:1BC8		      assume ds:RESGROUP
RESGROUP:1BC8		      or      dx, dx
RESGROUP:1BCA		      jz      short EnvNoErr
RESGROUP:1BCC		      mov     dx, offset OUTENVMSG
RESGROUP:1BCF		      call    RPrint
RESGROUP:1BD2
RESGROUP:1BD2 EnvNoErr:				      ;	...
RESGROUP:1BD2		      mov     ax, EnvSiz
RESGROUP:1BD5		      mov     cl, 4
RESGROUP:1BD7		      shl     ax, cl
RESGROUP:1BD9		      cmp     ax, UsedEnv
RESGROUP:1BDD		      ja      short st_envsize
RESGROUP:1BDF		      mov     ax, UsedEnv
RESGROUP:1BE2		      add     ax, 15
RESGROUP:1BE5
RESGROUP:1BE5 st_envsize:			      ;	...
RESGROUP:1BE5		      shr     ax, cl
RESGROUP:1BE7		      mov     EnvSiz, ax
RESGROUP:1BEA		      cmp     Batch, 0
RESGROUP:1BEF		      jnz     short DoDate
RESGROUP:1BF1		      jmp     NoDttm
RESGROUP:1BF4 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1BF4
RESGROUP:1BF4 DoDate:				      ;	...
RESGROUP:1BF4		      mov     ax, Batch
RESGROUP:1BF7		      mov     EchoFlag,	3
RESGROUP:1BFC		      mov     Nest, 1
RESGROUP:1C02		      mov     es, ax
RESGROUP:1C04		      xor     di, di
RESGROUP:1C06		      mov     al, 0
RESGROUP:1C08		      stosb
RESGROUP:1C09		      mov     al, 1
RESGROUP:1C0B		      stosb
RESGROUP:1C0C		      xor     ax, ax
RESGROUP:1C0E		      stosb
RESGROUP:1C0F		      stosw
RESGROUP:1C10		      stosw
RESGROUP:1C11		      stosb
RESGROUP:1C12		      stosw
RESGROUP:1C13		      stosw
RESGROUP:1C14		      mov     ax, 0FFFFh      ;	-1
RESGROUP:1C17		      mov     cx, 10
RESGROUP:1C1A		      rep stosw
RESGROUP:1C1C		      cmp     AUTOBAT, 0
RESGROUP:1C21		      jnz     short NoAutSet
RESGROUP:1C23		      mov     ah, 19h
RESGROUP:1C25		      int     21h	      ;	DOS - GET DEFAULT DISK NUMBER
RESGROUP:1C27		      add     al, ucasea
RESGROUP:1C2B		      mov     AUTOBAT, al
RESGROUP:1C2E		      mov     KAUTOBAT,	al
RESGROUP:1C31
RESGROUP:1C31 NoAutSet:				      ;	...
RESGROUP:1C31		      mov     si, offset AUTOBAT
RESGROUP:1C34		      mov     cx, 8
RESGROUP:1C37		      rep movsw
RESGROUP:1C39		      movsb
RESGROUP:1C3A		      mov     dx, offset AUTOBAT
RESGROUP:1C3D		      mov     ax, 3D00h
RESGROUP:1C40		      int     21h	      ;	DOS - 2+ - OPEN	DISK FILE WITH HANDLE
RESGROUP:1C40					      ;	DS:DX -> ASCIZ filename
RESGROUP:1C40					      ;	AL = access mode
RESGROUP:1C40					      ;	0 - read
RESGROUP:1C42		      jb      short noabat
RESGROUP:1C44		      mov     bx, ax
RESGROUP:1C46		      mov     ah, 3Eh
RESGROUP:1C48		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:1C48					      ;	BX = file handle
RESGROUP:1C4A		      jmp     Drv0
RESGROUP:1C4D ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1C4D
RESGROUP:1C4D noabat:				      ;	...
RESGROUP:1C4D		      push    ax
RESGROUP:1C4E		      call    Setup_Seg
RESGROUP:1C51		      mov     triage_add_seg, ax
RESGROUP:1C54		      pop     ax
RESGROUP:1C55		      call    dword ptr	triage_add ; call far [triage_add]
RESGROUP:1C59		      cmp     ax, 65
RESGROUP:1C5C		      jz      short AccDenErr
RESGROUP:1C5E		      mov     dx, offset INTERNAT_INFO
RESGROUP:1C61		      mov     ax, 3800h
RESGROUP:1C64		      int     21h	      ;	DOS - 2+ - GET COUNTRY-DEPENDENT INFORMATION
RESGROUP:1C64					      ;	get current-country info
RESGROUP:1C64					      ;	DS:DX -> buffer	for returned info
RESGROUP:1C66		      jb      short NoKabat
RESGROUP:1C68		      cmp     bx, 52h	      ;	KOREA_COUNTRY_CODE
RESGROUP:1C6B		      jnz     short OpenErr
RESGROUP:1C6D		      mov     di, 20h	      ;	BatFile
RESGROUP:1C70		      mov     si, offset KAUTOBAT
RESGROUP:1C73		      mov     cx, 8
RESGROUP:1C76		      rep movsw
RESGROUP:1C78		      movsb
RESGROUP:1C79		      mov     dx, offset KAUTOBAT
RESGROUP:1C7C		      mov     ax, 3D00h
RESGROUP:1C7F		      int     21h	      ;	DOS - 2+ - OPEN	DISK FILE WITH HANDLE
RESGROUP:1C7F					      ;	DS:DX -> ASCIZ filename
RESGROUP:1C7F					      ;	AL = access mode
RESGROUP:1C7F					      ;	0 - read
RESGROUP:1C81		      jb      short NoKabat
RESGROUP:1C83		      mov     bx, ax
RESGROUP:1C85		      mov     ah, 3Eh
RESGROUP:1C87		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:1C87					      ;	BX = file handle
RESGROUP:1C89		      jmp     short Drv0
RESGROUP:1C8B ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1C8B
RESGROUP:1C8B NoKabat:				      ;	...
RESGROUP:1C8B		      call    dword ptr	triage_add ; call far [Triage_Add]
RESGROUP:1C8F		      cmp     ax, 65
RESGROUP:1C92		      jnz     short OpenErr
RESGROUP:1C94
RESGROUP:1C94 AccDenErr:			      ;	...
RESGROUP:1C94		      mov     dx, offset ACCDEN
RESGROUP:1C97		      call    RPrint
RESGROUP:1C9A
RESGROUP:1C9A OpenErr:				      ;	...
RESGROUP:1C9A		      mov     es, Batch
RESGROUP:1C9E		      mov     ah, 49h
RESGROUP:1CA0		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:1CA0					      ;	ES = segment address of	area to	be freed
RESGROUP:1CA2		      mov     Batch, 0
RESGROUP:1CA8		      mov     EchoFlag,	1
RESGROUP:1CAD		      mov     Nest, 0
RESGROUP:1CB3		      mov     ax, offset DATINIT ; offset TranGroup:Datinit
RESGROUP:1CB6		      mov     InitAdd, ax
RESGROUP:1CB9		      mov     ax, 26E0h	      ;	offset RESGROUP:TranStart
RESGROUP:1CBC		      mov     cl, 4
RESGROUP:1CBE		      shr     ax, cl
RESGROUP:1CC0		      mov     cx, cs
RESGROUP:1CC2		      add     ax, cx
RESGROUP:1CC4		      mov     InitAdd+2, ax
RESGROUP:1CC7		      call    dword ptr	InitAdd	; call far [INITADD]
RESGROUP:1CCB
RESGROUP:1CCB NoDttm:				      ;	...
RESGROUP:1CCB		      cmp     SingleCom, 0
RESGROUP:1CD0		      jnz     short Drv0
RESGROUP:1CD2		      mov     dx, offset COPYRIGHTMSG
RESGROUP:1CD5		      call    RPrint
RESGROUP:1CD8
RESGROUP:1CD8 Drv0:				      ;	...
RESGROUP:1CD8		      push    ds
RESGROUP:1CD9		      push    cs
RESGROUP:1CDA		      pop     ds
RESGROUP:1CDB		      mov     ax, 0B707h
RESGROUP:1CDE		      mov     bx, Append_State
RESGROUP:1CE2		      int     2Fh	      ;	- Multiplex - DOS 4.0 APPEND - SET APPEND FUNCTION STATE
RESGROUP:1CE2					      ;	BX = APPEND state bits
RESGROUP:1CE4		      pop     ds
RESGROUP:1CE5		      assume ds:nothing
RESGROUP:1CE5		      cmp     ds:FirstCom, 1
RESGROUP:1CEA		      jz      short move_code
RESGROUP:1CEC		      push    es
RESGROUP:1CED		      push    ds
RESGROUP:1CEE		      push    ds
RESGROUP:1CEF		      pop     es
RESGROUP:1CF0		      mov     di, offset Int2f_Entry
RESGROUP:1CF3		      mov     ds, es:ResJmpTable+2
RESGROUP:1CF8		      mov     si, es:ResJmpTable
RESGROUP:1CFD		      mov     cx, 11
RESGROUP:1D00		      shl     cx, 1
RESGROUP:1D02		      shl     cx, 1
RESGROUP:1D04		      cld
RESGROUP:1D05		      rep movsb
RESGROUP:1D07		      cmp     word ptr es:[di-2], 0F000h
RESGROUP:1D0D		      jb      short res_low
RESGROUP:1D0F		      mov     es:ComInHMA, 1
RESGROUP:1D15
RESGROUP:1D15 res_low:				      ;	...
RESGROUP:1D15		      pop     ds
RESGROUP:1D16		      pop     es
RESGROUP:1D17		      jmp     short finish_init
RESGROUP:1D19 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1D19
RESGROUP:1D19 move_code:			      ;	...
RESGROUP:1D19		      call    Move_res_code
RESGROUP:1D1C
RESGROUP:1D1C finish_init:			      ;	...
RESGROUP:1D1C		      jmp     EndInit
RESGROUP:1D1C ;	END OF FUNCTION	CHUNK FOR StartCode
RESGROUP:1D1F
RESGROUP:1D1F ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1D1F
RESGROUP:1D1F
RESGROUP:1D1F GetStrLen	      proc near		      ;	...
RESGROUP:1D1F		      xor     cx, cx
RESGROUP:1D21
RESGROUP:1D21 NxtChar:				      ;	...
RESGROUP:1D21		      lodsb
RESGROUP:1D22		      inc     cx
RESGROUP:1D23		      or      al, al
RESGROUP:1D25		      jnz     short NxtChar
RESGROUP:1D27		      retn
RESGROUP:1D27 GetStrLen	      endp
RESGROUP:1D27
RESGROUP:1D28
RESGROUP:1D28 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1D28
RESGROUP:1D28
RESGROUP:1D28 Setup_Seg	      proc near		      ;	...
RESGROUP:1D28		      mov     ax, ds:TrnSeg
RESGROUP:1D2B		      cmp     ds:TrnMvFlg, 1
RESGROUP:1D30		      jz      short setup_end
RESGROUP:1D32		      push    bx
RESGROUP:1D33		      mov     bx, cs
RESGROUP:1D35		      mov     ax, 26E0h	      ;	offset ResGroup:TranStart
RESGROUP:1D38		      shr     ax, 1
RESGROUP:1D3A		      shr     ax, 1
RESGROUP:1D3C		      shr     ax, 1
RESGROUP:1D3E		      shr     ax, 1
RESGROUP:1D40		      add     ax, bx
RESGROUP:1D42		      pop     bx
RESGROUP:1D43
RESGROUP:1D43 setup_end:			      ;	...
RESGROUP:1D43		      retn
RESGROUP:1D43 Setup_Seg	      endp
RESGROUP:1D43
RESGROUP:1D44
RESGROUP:1D44 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1D44
RESGROUP:1D44
RESGROUP:1D44 RPrintParse     proc near		      ;	...
RESGROUP:1D44		      push    dx	      ;	display	parse error message
RESGROUP:1D45		      xchg    bx, dx
RESGROUP:1D47		      dec     bx
RESGROUP:1D48		      shl     bx, 1
RESGROUP:1D4A		      mov     bx, ds:PARSMSGPTRS[bx]
RESGROUP:1D4E		      xchg    bx, dx
RESGROUP:1D50		      call    RPrint
RESGROUP:1D53		      pop     dx
RESGROUP:1D54		      retn
RESGROUP:1D54 RPrintParse     endp
RESGROUP:1D54
RESGROUP:1D55
RESGROUP:1D55 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1D55
RESGROUP:1D55
RESGROUP:1D55 IfindE	      proc near		      ;	...
RESGROUP:1D55		      call    ifind
RESGROUP:1D58		      jb      short ifind2
RESGROUP:1D5A		      jmp     short Iscasb1
RESGROUP:1D5A IfindE	      endp
RESGROUP:1D5A
RESGROUP:1D5C
RESGROUP:1D5C ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1D5C
RESGROUP:1D5C
RESGROUP:1D5C ifind	      proc near		      ;	...
RESGROUP:1D5C		      cld
RESGROUP:1D5D		      call    Icount0
RESGROUP:1D60		      mov     es, ds:EnvirSeg
RESGROUP:1D64		      xor     di, di
RESGROUP:1D66
RESGROUP:1D66 ifind1:				      ;	...
RESGROUP:1D66		      push    cx
RESGROUP:1D67		      push    si
RESGROUP:1D68		      push    di
RESGROUP:1D69
RESGROUP:1D69 ifind11:				      ;	...
RESGROUP:1D69		      lodsb
RESGROUP:1D6A		      call    iupconv
RESGROUP:1D6D		      inc     di
RESGROUP:1D6E		      cmp     al, es:[di-1]
RESGROUP:1D72		      jnz     short ifind12
RESGROUP:1D74		      loop    ifind11
RESGROUP:1D76
RESGROUP:1D76 ifind12:				      ;	...
RESGROUP:1D76		      pop     di
RESGROUP:1D77		      pop     si
RESGROUP:1D78		      pop     cx
RESGROUP:1D79		      jz      short ifind2
RESGROUP:1D7B		      push    cx
RESGROUP:1D7C		      call    Iscasb2
RESGROUP:1D7F		      pop     cx
RESGROUP:1D80		      cmp     byte ptr es:[di],	0
RESGROUP:1D84		      jnz     short ifind1
RESGROUP:1D86		      stc
RESGROUP:1D87
RESGROUP:1D87 ifind2:				      ;	...
RESGROUP:1D87		      retn
RESGROUP:1D87 ifind	      endp
RESGROUP:1D87
RESGROUP:1D88
RESGROUP:1D88 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1D88
RESGROUP:1D88
RESGROUP:1D88 Icount0	      proc near		      ;	...
RESGROUP:1D88		      push    ds
RESGROUP:1D89		      pop     es
RESGROUP:1D8A		      mov     di, si
RESGROUP:1D8C		      push    di
RESGROUP:1D8D		      call    Iscasb1
RESGROUP:1D90		      jmp     short Icountx
RESGROUP:1D92 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1D92		      push    di
RESGROUP:1D93		      call    Iscasb2
RESGROUP:1D96
RESGROUP:1D96 Icountx:				      ;	...
RESGROUP:1D96		      pop     cx
RESGROUP:1D97		      sub     di, cx
RESGROUP:1D99		      xchg    di, cx
RESGROUP:1D9B		      retn
RESGROUP:1D9B Icount0	      endp
RESGROUP:1D9B
RESGROUP:1D9C
RESGROUP:1D9C ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1D9C
RESGROUP:1D9C
RESGROUP:1D9C Iscasb1	      proc near		      ;	...
RESGROUP:1D9C		      mov     al, ds:equalsign
RESGROUP:1D9F		      jmp     short Iscasbx
RESGROUP:1D9F Iscasb1	      endp
RESGROUP:1D9F
RESGROUP:1DA1
RESGROUP:1DA1 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1DA1
RESGROUP:1DA1
RESGROUP:1DA1 Iscasb2	      proc near		      ;	...
RESGROUP:1DA1		      xor     al, al
RESGROUP:1DA3
RESGROUP:1DA3 Iscasbx:				      ;	...
RESGROUP:1DA3		      mov     cx, 256
RESGROUP:1DA6		      repne scasb
RESGROUP:1DA8		      retn
RESGROUP:1DA8 Iscasb2	      endp
RESGROUP:1DA8
RESGROUP:1DA9
RESGROUP:1DA9 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1DA9
RESGROUP:1DA9
RESGROUP:1DA9 iupconv	      proc near		      ;	...
RESGROUP:1DA9		      cmp     al, 80h
RESGROUP:1DAB		      jb      short other_fucase
RESGROUP:1DAD		      sub     al, 80h
RESGROUP:1DAF		      push    ds
RESGROUP:1DB0		      push    bx
RESGROUP:1DB1		      lds     bx, dword	ptr ds:FUCase_Addr+1
RESGROUP:1DB5		      add     bx, 2
RESGROUP:1DB8		      xlat
RESGROUP:1DB9		      pop     bx
RESGROUP:1DBA		      pop     ds
RESGROUP:1DBB		      jmp     short iupconv_end
RESGROUP:1DBD ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1DBD
RESGROUP:1DBD other_fucase:			      ;	...
RESGROUP:1DBD		      cmp     al, ds:lcasea
RESGROUP:1DC1		      jb      short iupconv_end
RESGROUP:1DC3		      cmp     al, ds:lcasez
RESGROUP:1DC7		      ja      short iupconv_end
RESGROUP:1DC9		      sub     al, 20h
RESGROUP:1DCB
RESGROUP:1DCB iupconv_end:			      ;	...
RESGROUP:1DCB		      retn
RESGROUP:1DCB iupconv	      endp
RESGROUP:1DCB
RESGROUP:1DCC ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1DCC
RESGROUP:1DCC init_contc_specialcase:		      ;	...
RESGROUP:1DCC		      add     sp, 6
RESGROUP:1DCF		      push    si
RESGROUP:1DD0		      mov     si, dx
RESGROUP:1DD2		      mov     word ptr [si+1], 0D00h
RESGROUP:1DD7		      pop     si
RESGROUP:1DD8		      iret
RESGROUP:1DD9
RESGROUP:1DD9 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1DD9
RESGROUP:1DD9
RESGROUP:1DD9 setup_for_messages proc near	      ;	...
RESGROUP:1DD9		      push    bx
RESGROUP:1DDA		      push    ds
RESGROUP:1DDB		      push    es
RESGROUP:1DDC		      push    ax
RESGROUP:1DDD		      push    dx
RESGROUP:1DDE		      push    di
RESGROUP:1DDF		      mov     ax, cs
RESGROUP:1DE1		      mov     ds, ax
RESGROUP:1DE3		      assume ds:RESGROUP
RESGROUP:1DE3		      mov     es, ax
RESGROUP:1DE5		      assume es:RESGROUP
RESGROUP:1DE5		      cmp     PermCom, 0
RESGROUP:1DEA		      jz      short no_permcom
RESGROUP:1DEC		      push    es
RESGROUP:1DED		      mov     ax, 352Fh
RESGROUP:1DF0		      int     21h	      ;	DOS - 2+ - GET INTERRUPT VECTOR
RESGROUP:1DF0					      ;	AL = interrupt number
RESGROUP:1DF0					      ;	Return:	ES:BX =	value of interrupt vector
RESGROUP:1DF2		      mov     Int2fHandler, bx
RESGROUP:1DF6		      mov     Int2fHandler+2, es
RESGROUP:1DFA		      pop     es
RESGROUP:1DFB		      assume es:nothing
RESGROUP:1DFB		      cmp     FirstCom,	0
RESGROUP:1E00		      jz      short no_msg_hook
RESGROUP:1E02		      push    ds
RESGROUP:1E03		      mov     dx, offset Carousel_i2f_Hook
RESGROUP:1E06		      sub     dx, 10h
RESGROUP:1E09		      mov     ax, ds
RESGROUP:1E0B		      inc     ax
RESGROUP:1E0C		      mov     ds, ax
RESGROUP:1E0E		      assume ds:nothing
RESGROUP:1E0E		      mov     ax, 252Fh
RESGROUP:1E11		      int     21h	      ;	DOS - SET INTERRUPT VECTOR
RESGROUP:1E11					      ;	AL = interrupt number
RESGROUP:1E11					      ;	DS:DX =	new vector to be used for specified interrupt
RESGROUP:1E13		      pop     ds
RESGROUP:1E14		      assume ds:nothing
RESGROUP:1E14		      mov     word ptr ds:Carousel_i2f_Hook+3, ds
RESGROUP:1E18
RESGROUP:1E18 no_msg_hook:			      ;	...
RESGROUP:1E18		      cmp     ds:ext_msg, 1
RESGROUP:1E1D		      jnz     short permcom_end
RESGROUP:1E1F		      mov     di, offset ExtMsgEnd
RESGROUP:1E22		      mov     ds:ResMsgEnd, di
RESGROUP:1E26		      jmp     short permcom_end
RESGROUP:1E28 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1E28
RESGROUP:1E28 no_permcom:			      ;	...
RESGROUP:1E28		      cmp     ds:ext_msg, 1   ;	SET_EXTENDED_MSG
RESGROUP:1E2D		      jnz     short permcom_end
RESGROUP:1E2F		      mov     dx, 2
RESGROUP:1E32		      call    RPrintParse
RESGROUP:1E35
RESGROUP:1E35 permcom_end:			      ;	...
RESGROUP:1E35		      pop     di
RESGROUP:1E36		      pop     dx
RESGROUP:1E37		      pop     ax
RESGROUP:1E38		      pop     es
RESGROUP:1E39		      pop     ds
RESGROUP:1E3A		      pop     bx
RESGROUP:1E3B		      retn
RESGROUP:1E3B setup_for_messages endp
RESGROUP:1E3B
RESGROUP:1E3C
RESGROUP:1E3C ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1E3C
RESGROUP:1E3C
RESGROUP:1E3C CheckHelp	      proc near		      ;	...
RESGROUP:1E3C		      mov     si, 81h	      ;	DS:SI =	ptr to command-line tail
RESGROUP:1E3F		      mov     di, offset INTERNAT_INFO ; RESGROUP:Parse_Command
RESGROUP:1E42		      xor     cx, cx
RESGROUP:1E44		      xor     dx, dx
RESGROUP:1E46
RESGROUP:1E46 chParse:				      ;	...
RESGROUP:1E46		      call    dword ptr	ds:Init_Parse ;	call far [Init_Parse]
RESGROUP:1E4A		      cmp     ax, 0FFFFh      ;	-1
RESGROUP:1E4D		      jz      short chRet
RESGROUP:1E4F		      cmp     ax, 0
RESGROUP:1E52		      jz      short chWhich
RESGROUP:1E54		      jmp     short chParse
RESGROUP:1E56 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1E56
RESGROUP:1E56 chWhich:				      ;	...
RESGROUP:1E56		      cmp     ds:COMND1_SYN, offset COMMAND_?_SYN ; "/?"
RESGROUP:1E5C		      jz      short chHelp
RESGROUP:1E5E		      cmp     ds:COMND1_SYN, offset COMMAND_C_SYN ; "/C"
RESGROUP:1E64		      jz      short chRet
RESGROUP:1E66		      cmp     ds:COMND1_SYN, offset COMMAND_K_SYN ; "/K"
RESGROUP:1E6C		      jz      short chRet
RESGROUP:1E6E		      jmp     short chParse
RESGROUP:1E70 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1E70
RESGROUP:1E70 chHelp:				      ;	...
RESGROUP:1E70		      mov     si, offset HelpMsgs
RESGROUP:1E73
RESGROUP:1E73 chHelpNext:			      ;	...
RESGROUP:1E73		      lodsw
RESGROUP:1E74		      or      ax, ax
RESGROUP:1E76		      jz      short chHelpDone
RESGROUP:1E78		      mov     dx, ax
RESGROUP:1E7A		      call    RPrint
RESGROUP:1E7D		      jmp     short chHelpNext
RESGROUP:1E7F ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1E7F
RESGROUP:1E7F chHelpDone:			      ;	...
RESGROUP:1E7F		      int     20h	      ;	DOS - PROGRAM TERMINATION
RESGROUP:1E7F					      ;	returns	to DOS--identical to INT 21/AH=00h
RESGROUP:1E81 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1E81
RESGROUP:1E81 chRet:				      ;	...
RESGROUP:1E81		      retn
RESGROUP:1E81 CheckHelp	      endp
RESGROUP:1E81
RESGROUP:1E82
RESGROUP:1E82 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1E82
RESGROUP:1E82
RESGROUP:1E82 Setup_res_end   proc near		      ;	...
RESGROUP:1E82		      push    ds
RESGROUP:1E83		      mov     ax, cs
RESGROUP:1E85		      mov     ds, ax
RESGROUP:1E87		      assume ds:RESGROUP
RESGROUP:1E87		      mov     cx, ResMsgEnd
RESGROUP:1E8B		      cmp     cx, offset ExtMsgEnd
RESGROUP:1E8F		      jnz     short calc_res
RESGROUP:1E91		      add     cx, 0Fh
RESGROUP:1E94		      and     cx, 0FFF0h
RESGROUP:1E97
RESGROUP:1E97 calc_res:				      ;	...
RESGROUP:1E97		      xor     ax, ax
RESGROUP:1E99		      cmp     FirstCom,	1
RESGROUP:1E9E		      jnz     short not_first
RESGROUP:1EA0		      push    bx
RESGROUP:1EA1		      push    cx
RESGROUP:1EA2		      mov     ax, 3306h
RESGROUP:1EA5		      int     21h	      ;	DOS - 5+ Get TRUE Version Number (BL major, BH minor, DL revision, DH flags)
RESGROUP:1EA7		      pop     cx
RESGROUP:1EA8		      cmp     bl, 5
RESGROUP:1EAB		      jb      short oldver
RESGROUP:1EAD		      xor     ax, ax
RESGROUP:1EAF		      and     dh, 10h
RESGROUP:1EB2		      pop     bx
RESGROUP:1EB3		      jnz     short not_first
RESGROUP:1EB5		      mov     ax, 81Ah	      ;	size of	code in	bytes
RESGROUP:1EB5					      ;	EndCode-RCODE_START
RESGROUP:1EB8
RESGROUP:1EB8 not_first:			      ;	...
RESGROUP:1EB8		      add     cx, ax
RESGROUP:1EBA		      add     cx, 15
RESGROUP:1EBD		      shr     cx, 1
RESGROUP:1EBF		      shr     cx, 1
RESGROUP:1EC1		      shr     cx, 1
RESGROUP:1EC3		      shr     cx, 1
RESGROUP:1EC5		      mov     ResSize, cx
RESGROUP:1EC9		      pop     ds
RESGROUP:1ECA		      assume ds:nothing
RESGROUP:1ECA		      retn
RESGROUP:1ECB ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1ECB
RESGROUP:1ECB oldver:				      ;	...
RESGROUP:1ECB		      pop     bx
RESGROUP:1ECC		      mov     ax, 81Ah	      ;	EndCode-RCODE_START
RESGROUP:1ECF		      jmp     short not_first
RESGROUP:1ECF Setup_res_end   endp
RESGROUP:1ECF
RESGROUP:1ED1
RESGROUP:1ED1 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1ED1
RESGROUP:1ED1
RESGROUP:1ED1 Move_res_code   proc near		      ;	...
RESGROUP:1ED1		      push    ds
RESGROUP:1ED2		      push    es
RESGROUP:1ED3		      mov     ax, cs
RESGROUP:1ED5		      mov     ds, ax
RESGROUP:1ED7		      assume ds:RESGROUP
RESGROUP:1ED7		      mov     ax, 3306h
RESGROUP:1EDA		      int     21h	      ;	DOS - 5+ Get TRUE Version Number (BL major, BH minor, DL revision, DH flags)
RESGROUP:1EDC		      and     dh, 10h
RESGROUP:1EDF		      jnz     short move_high
RESGROUP:1EE1
RESGROUP:1EE1 load_low:				      ;	...
RESGROUP:1EE1		      push    ds
RESGROUP:1EE2		      pop     es
RESGROUP:1EE3		      assume es:RESGROUP
RESGROUP:1EE3		      mov     di, ResMsgEnd
RESGROUP:1EE7		      mov     bx, offset ExtMsgEnd
RESGROUP:1EEA		      cmp     di, bx
RESGROUP:1EEC		      jz      short no_move
RESGROUP:1EEE		      jmp     short setup_move
RESGROUP:1EF0 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1EF0
RESGROUP:1EF0 move_high:			      ;	...
RESGROUP:1EF0		      mov     bx, 81Ah	      ;	offset CODERES:EndCode
RESGROUP:1EF0					      ;
RESGROUP:1EF0					      ;	RESGROUP:EndCode - RESGROUP:RCODE_START
RESGROUP:1EF3		      mov     di, 0FFFFh
RESGROUP:1EF6		      mov     ax, 4A02h	      ;	GET_HMA_ADDR
RESGROUP:1EF9		      int     2Fh
RESGROUP:1EFB		      cmp     di, 0FFFFh      ;	HMA available?
RESGROUP:1EFE		      mov     ComInHMA,	1
RESGROUP:1F03		      jnz     short setup_move
RESGROUP:1F05		      mov     ComInHMA,	0
RESGROUP:1F0A		      mov     cx, ResMsgEnd
RESGROUP:1F0E		      mov     ax, 81Ah	      ;	EndCode-RCODE_START (CODERES:EndCode)
RESGROUP:1F11		      add     cx, ax	      ;	ax = para size of res code
RESGROUP:1F13		      add     cx, 0Fh
RESGROUP:1F16		      shr     cx, 1
RESGROUP:1F18		      shr     cx, 1
RESGROUP:1F1A		      shr     cx, 1
RESGROUP:1F1C		      shr     cx, 1
RESGROUP:1F1E		      mov     ResSize, cx     ;	resident size
RESGROUP:1F22		      jmp     short load_low
RESGROUP:1F24 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1F24
RESGROUP:1F24 no_move:				      ;	...
RESGROUP:1F24		      mov     cl, 4
RESGROUP:1F26		      add     di, 0Fh
RESGROUP:1F29		      and     di, 0FFF0h      ;	round it to a para offset
RESGROUP:1F2C		      jmp     short patch_up
RESGROUP:1F2E ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1F2E
RESGROUP:1F2E setup_move:			      ;	...
RESGROUP:1F2E		      mov     si, offset Exec_Err ; offset RESGROUP:StartCode
RESGROUP:1F2E					      ;	RCODE_START
RESGROUP:1F31		      mov     cx, 81Ah	      ;	offset CODERES:EndCode
RESGROUP:1F31					      ;	RESGROUP:EndCode - RESGROUP:RCODE_START
RESGROUP:1F34		      cld
RESGROUP:1F35		      push    di
RESGROUP:1F36		      rep movsb
RESGROUP:1F38		      pop     di
RESGROUP:1F39
RESGROUP:1F39 patch_up:				      ;	...
RESGROUP:1F39		      call    patch_stub
RESGROUP:1F3C		      pop     es
RESGROUP:1F3D		      assume es:nothing
RESGROUP:1F3D		      pop     ds
RESGROUP:1F3E		      assume ds:nothing
RESGROUP:1F3E		      retn
RESGROUP:1F3E Move_res_code   endp
RESGROUP:1F3E
RESGROUP:1F3F
RESGROUP:1F3F ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:1F3F
RESGROUP:1F3F
RESGROUP:1F3F alloc_env	      proc near		      ;	...
RESGROUP:1F3F
RESGROUP:1F3F ;	FUNCTION CHUNK AT RESGROUP:0F5B	SIZE 0000006C BYTES
RESGROUP:1F3F
RESGROUP:1F3F		      push    ds
RESGROUP:1F40		      push    es
RESGROUP:1F41		      push    si
RESGROUP:1F42		      push    di
RESGROUP:1F43		      push    ss
RESGROUP:1F44		      pop     ds
RESGROUP:1F45		      mov     ax, ds:EnvirSeg
RESGROUP:1F48		      cmp     ds:AllocedEnv, 0
RESGROUP:1F4D		      jz      short alloc_cont
RESGROUP:1F4F		      jmp     alloc_done
RESGROUP:1F52 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1F52
RESGROUP:1F52 alloc_cont:			      ;	...
RESGROUP:1F52		      sub     di, di
RESGROUP:1F54		      mov     bx, 180	      ;	SIZE Environment
RESGROUP:1F54					      ;	ENVIRONSIZ
RESGROUP:1F57		      cmp     ds:FirstCom, 0
RESGROUP:1F5C		      jz      short alloc_seg
RESGROUP:1F5E		      or      ax, ax
RESGROUP:1F60		      jz      short alloc_new
RESGROUP:1F62
RESGROUP:1F62 _find_path:
RESGROUP:1F62		      mov     es, ax
RESGROUP:1F64		      mov     al, 0
RESGROUP:1F66		      sub     di, di
RESGROUP:1F68
RESGROUP:1F68 comp_path:			      ;	...
RESGROUP:1F68		      scasb
RESGROUP:1F69		      jz      short _find_prompt
RESGROUP:1F6B		      dec     di
RESGROUP:1F6C		      mov     cx, 5	      ;	PathStrLen
RESGROUP:1F6F		      mov     si, offset PathString ; "PATH="
RESGROUP:1F72		      repe cmpsb
RESGROUP:1F74		      jz      short got_path
RESGROUP:1F76		      mov     cx, 256
RESGROUP:1F79		      repne scasb
RESGROUP:1F7B		      jmp     short comp_path
RESGROUP:1F7D ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1F7D
RESGROUP:1F7D got_path:				      ;	...
RESGROUP:1F7D		      mov     byte ptr ds:PathString, 0	; "PATH="
RESGROUP:1F82
RESGROUP:1F82 _find_prompt:			      ;	...
RESGROUP:1F82		      sub     di, di
RESGROUP:1F84
RESGROUP:1F84 comp_prompt:			      ;	...
RESGROUP:1F84		      scasb
RESGROUP:1F85		      jz      short find_comspec
RESGROUP:1F87		      dec     di
RESGROUP:1F88		      mov     cx, 7	      ;	PrmptStrLen2
RESGROUP:1F8B		      mov     si, offset PrmptString ; "PROMPT=$P$G"
RESGROUP:1F8E		      repe cmpsb
RESGROUP:1F90		      jz      short got_prompt
RESGROUP:1F92		      mov     cx, 256
RESGROUP:1F95		      repne scasb
RESGROUP:1F97		      jmp     short comp_prompt
RESGROUP:1F99 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1F99
RESGROUP:1F99 got_prompt:			      ;	...
RESGROUP:1F99		      mov     byte ptr ds:PrmptString, 0 ; "PROMPT=$P$G"
RESGROUP:1F9E
RESGROUP:1F9E find_comspec:			      ;	...
RESGROUP:1F9E		      sub     di, di
RESGROUP:1FA0
RESGROUP:1FA0 comp_comspec:			      ;	...
RESGROUP:1FA0		      scasb
RESGROUP:1FA1		      jz      short got_envend
RESGROUP:1FA3		      dec     di
RESGROUP:1FA4		      mov     cx, 8	      ;	ComspStrLen
RESGROUP:1FA7		      mov     si, offset ComspString ; "COMSPEC=\\COMMAND.COM"
RESGROUP:1FAA		      repe cmpsb
RESGROUP:1FAC		      jz      short got_comspec
RESGROUP:1FAE		      mov     cx, 256
RESGROUP:1FB1		      repne scasb
RESGROUP:1FB3		      jmp     short comp_comspec
RESGROUP:1FB5 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1FB5
RESGROUP:1FB5 got_comspec:			      ;	...
RESGROUP:1FB5		      mov     ds:ComspOffset, di
RESGROUP:1FB9		      sub     di, di
RESGROUP:1FBB		      mov     cx, 32768	      ;	ENVBIG (maximum	environment size)
RESGROUP:1FBE
RESGROUP:1FBE comp_envend:			      ;	...
RESGROUP:1FBE		      dec     cx
RESGROUP:1FBF		      scasb
RESGROUP:1FC0		      jz      short got_envend
RESGROUP:1FC2		      repne scasb
RESGROUP:1FC4		      jmp     short comp_envend
RESGROUP:1FC6 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1FC6
RESGROUP:1FC6 got_envend:			      ;	...
RESGROUP:1FC6		      dec     di
RESGROUP:1FC7		      lea     bx, [di+180]    ;	lea bx,[di+SIZE	Environment]
RESGROUP:1FC7					      ;	lea bx,[di+ENVIRONSIZ]
RESGROUP:1FCB		      push    ds
RESGROUP:1FCC		      mov     ds, word ptr ds:16h ; [PDB.PARENT_PID]
RESGROUP:1FD0		      cmp     word ptr ds:16h, 0
RESGROUP:1FD5		      pop     ds
RESGROUP:1FD6		      jnz     short alloc_seg
RESGROUP:1FD8
RESGROUP:1FD8 alloc_new:			      ;	...
RESGROUP:1FD8		      inc     ds:AllocedEnv
RESGROUP:1FDC
RESGROUP:1FDC alloc_seg:			      ;	...
RESGROUP:1FDC		      mov     cx, bx
RESGROUP:1FDE		      add     bx, 15
RESGROUP:1FE1		      shr     bx, 1
RESGROUP:1FE3		      shr     bx, 1
RESGROUP:1FE5		      shr     bx, 1
RESGROUP:1FE7		      shr     bx, 1
RESGROUP:1FE9		      mov     ah, 48h	      ;	mov ah,ALLOC
RESGROUP:1FEB		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:1FEB					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:1FED		      jnb     short init_ok
RESGROUP:1FEF		      jmp     init_nomem
RESGROUP:1FF2 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:1FF2
RESGROUP:1FF2 init_ok:				      ;	...
RESGROUP:1FF2		      mov     es, ax
RESGROUP:1FF4		      assume es:nothing
RESGROUP:1FF4		      or      di, di
RESGROUP:1FF6		      jz      short copy_path
RESGROUP:1FF8		      push    cx
RESGROUP:1FF9		      push    ds
RESGROUP:1FFA		      mov     ds, ds:EnvirSeg
RESGROUP:1FFE		      sub     si, si
RESGROUP:2000		      mov     cx, di
RESGROUP:2002		      sub     di, di
RESGROUP:2004		      rep movsb
RESGROUP:2006		      pop     ds
RESGROUP:2007		      pop     cx
RESGROUP:2008		      sub     cx, di
RESGROUP:200A
RESGROUP:200A copy_path:			      ;	...
RESGROUP:200A		      push    di
RESGROUP:200B		      sub     ax, ax
RESGROUP:200D		      rep stosb
RESGROUP:200F		      pop     di
RESGROUP:2010		      mov     si, offset PathString ; "PATH="
RESGROUP:2013		      cmp     [si], al
RESGROUP:2015		      jz      short init_prompt
RESGROUP:2017		      mov     cx, 6	      ;	PathStrLen+1
RESGROUP:201A		      rep movsb
RESGROUP:201C		      cmp     ds:AllocedEnv, al
RESGROUP:2020		      jz      short init_prompt
RESGROUP:2022		      mov     ah, 19h	      ;	mov ah,GET_DEFAULT_DRIVE
RESGROUP:2024		      int     21h	      ;	DOS - GET DEFAULT DISK NUMBER
RESGROUP:2026		      add     al, 'A'
RESGROUP:2028		      mov     byte ptr ds:DefPathString, al ; "C:\\MSDOS"
RESGROUP:202B		      mov     byte ptr ds:DefPath2String, al ; "C:\\DOS"
RESGROUP:202E		      mov     dl, 0
RESGROUP:2030		      push    ds
RESGROUP:2031		      push    es
RESGROUP:2032		      pop     ds
RESGROUP:2033		      assume ds:nothing
RESGROUP:2033		      mov     byte ptr [di], '\'
RESGROUP:2036		      lea     si, [di+1]
RESGROUP:2039		      mov     ah, 47h	      ;	mov ah,Current_Dir
RESGROUP:203B		      int     21h	      ;	DOS - 2+ - GET CURRENT DIRECTORY
RESGROUP:203B					      ;	DL = drive (0=default, 1=A, etc.)
RESGROUP:203B					      ;	DS:SI points to	64-byte	buffer area
RESGROUP:203D		      pop     ds
RESGROUP:203E		      assume ds:nothing
RESGROUP:203E		      mov     cx, 9	      ;	DefPathStrLen+1
RESGROUP:2041		      mov     dx, offset DefPathString ; "C:\\MSDOS"
RESGROUP:2044		      mov     si, dx
RESGROUP:2046		      mov     ah, 3Bh	      ;	mov ah,CHDir
RESGROUP:2048		      int     21h	      ;	DOS - 2+ - CHANGE THE CURRENT DIRECTORY	(CHDIR)
RESGROUP:2048					      ;	DS:DX -> ASCIZ directory name (may include drive)
RESGROUP:204A		      jnb     short init_setpath
RESGROUP:204C		      mov     cx, 7	      ;	DefPath2StrLen+1
RESGROUP:204F		      mov     dx, offset DefPath2String	; "C:\\DOS"
RESGROUP:2052		      mov     si, dx
RESGROUP:2054		      mov     ah, 3Bh	      ;	mov ah,CHDir
RESGROUP:2056		      int     21h	      ;	DOS - 2+ - CHANGE THE CURRENT DIRECTORY	(CHDIR)
RESGROUP:2056					      ;	DS:DX -> ASCIZ directory name (may include drive)
RESGROUP:2058		      jb      short init_prompt
RESGROUP:205A
RESGROUP:205A init_setpath:			      ;	...
RESGROUP:205A		      mov     dx, di
RESGROUP:205C		      push    ds
RESGROUP:205D		      push    es
RESGROUP:205E		      pop     ds
RESGROUP:205F		      assume ds:nothing
RESGROUP:205F		      mov     ah, 3Bh	      ;	mov ah,CHDir
RESGROUP:2061		      int     21h	      ;	DOS - 2+ - CHANGE THE CURRENT DIRECTORY	(CHDIR)
RESGROUP:2061					      ;	DS:DX -> ASCIZ directory name (may include drive)
RESGROUP:2063		      pop     ds
RESGROUP:2064		      assume ds:nothing
RESGROUP:2064		      dec     di
RESGROUP:2065		      rep movsb
RESGROUP:2067
RESGROUP:2067 init_prompt:			      ;	...
RESGROUP:2067		      push    di
RESGROUP:2068		      sub     ax, ax
RESGROUP:206A		      mov     cx, 64
RESGROUP:206D		      rep stosb
RESGROUP:206F		      pop     di
RESGROUP:2070		      cmp     ds:AllocedEnv, al
RESGROUP:2074		      jz      short init_comspec
RESGROUP:2076		      mov     si, offset PrmptString ; "PROMPT=$P$G"
RESGROUP:2079		      cmp     [si], al
RESGROUP:207B		      jz      short init_comspec
RESGROUP:207D		      mov     cx, 12	      ;	PrmptStrLen+1
RESGROUP:2080		      rep movsb
RESGROUP:2082
RESGROUP:2082 init_comspec:			      ;	...
RESGROUP:2082		      cmp     ds:ComspOffset, ax
RESGROUP:2086		      jnz     short init_done
RESGROUP:2088		      lea     ax, [di+8]      ;	lea ax,[di+ComspStrLen]
RESGROUP:208C		      mov     ds:ComspOffset, ax
RESGROUP:208F		      mov     si, offset ComspString ; "COMSPEC=\\COMMAND.COM"
RESGROUP:2092		      mov     cx, 21	      ;	ComspStrLen2+1
RESGROUP:2095		      rep movsb
RESGROUP:2097
RESGROUP:2097 init_done:			      ;	...
RESGROUP:2097		      mov     ax, es
RESGROUP:2099		      mov     ds:EnvirSeg, ax
RESGROUP:209C		      inc     ds:AllocedEnv
RESGROUP:20A0
RESGROUP:20A0 alloc_done:			      ;	...
RESGROUP:20A0		      pop     di
RESGROUP:20A1		      pop     si
RESGROUP:20A2		      pop     es
RESGROUP:20A3		      assume es:nothing
RESGROUP:20A3		      pop     ds
RESGROUP:20A4		      retn
RESGROUP:20A5 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:20A5
RESGROUP:20A5 init_nomem:			      ;	...
RESGROUP:20A5		      call    $+3	      ;	call alloc_error
RESGROUP:20A8
RESGROUP:20A8 Alloc_error:			      ;	...
RESGROUP:20A8		      jmp     BadMemErr
RESGROUP:20A8 alloc_env	      endp
RESGROUP:20A8
RESGROUP:20AB
RESGROUP:20AB ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:20AB
RESGROUP:20AB
RESGROUP:20AB patch_stub      proc near		      ;	...
RESGROUP:20AB		      push    es
RESGROUP:20AC		      mov     bx, es
RESGROUP:20AE		      mov     dx, di
RESGROUP:20B0		      mov     di, offset Int2f_Entry ; offset DATARES:Int2f_Entry
RESGROUP:20B3		      mov     si, offset Reloc_Table ; offset RESGROUP:Reloc_Table
RESGROUP:20B6		      push    ds
RESGROUP:20B7		      pop     es
RESGROUP:20B8		      mov     cx, 11
RESGROUP:20BB
RESGROUP:20BB patchlp:				      ;	...
RESGROUP:20BB		      lodsw
RESGROUP:20BC		      add     ax, dx
RESGROUP:20BE		      stosw
RESGROUP:20BF		      mov     ax, bx
RESGROUP:20C1		      stosw
RESGROUP:20C2		      loop    patchlp
RESGROUP:20C4		      pop     es
RESGROUP:20C5		      retn
RESGROUP:20C5 patch_stub      endp
RESGROUP:20C5
RESGROUP:20C6
RESGROUP:20C6 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:20C6
RESGROUP:20C6
RESGROUP:20C6 patch_segs      proc near		      ;	...
RESGROUP:20C6		      mov     di, offset Int2f_Entry
RESGROUP:20C9		      mov     cx, 4
RESGROUP:20CC		      add     di, 2
RESGROUP:20CF		      mov     ax, es
RESGROUP:20D1
RESGROUP:20D1 pseglp:				      ;	...
RESGROUP:20D1		      stosw
RESGROUP:20D2		      add     di, 2
RESGROUP:20D5		      loop    pseglp
RESGROUP:20D7		      retn
RESGROUP:20D7 patch_segs      endp
RESGROUP:20D7
RESGROUP:20D8
RESGROUP:20D8 ;	ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ	S U B R	O U T I	N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
RESGROUP:20D8
RESGROUP:20D8
RESGROUP:20D8 get_XMMAddr     proc near		      ;	...
RESGROUP:20D8		      push    es
RESGROUP:20D9		      mov     ax, 4300h
RESGROUP:20DC		      int     2Fh	      ;	- Multiplex - XMS - INSTALLATION CHECK
RESGROUP:20DC					      ;	Return:	AL = 80h XMS driver installed
RESGROUP:20DC					      ;	AL <> 80h no driver
RESGROUP:20DE		      cmp     al, 80h
RESGROUP:20E0		      jnz     short cXMMexit
RESGROUP:20E2		      mov     ax, 4310h
RESGROUP:20E5		      int     2Fh	      ;	- Multiplex - XMS - GET	DRIVER ADDRESS
RESGROUP:20E5					      ;	Return:	ES:BX -> driver	entry point
RESGROUP:20E7		      mov     word ptr ds:XMMCallAddr, bx
RESGROUP:20EB		      mov     word ptr ds:XMMCallAddr+2, es
RESGROUP:20EF
RESGROUP:20EF cXMMexit:				      ;	...
RESGROUP:20EF		      pop     es
RESGROUP:20F0		      retn
RESGROUP:20F0 get_XMMAddr     endp
RESGROUP:20F0
RESGROUP:20F0 ;	ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
RESGROUP:20F1		      db 15 dup(0)
RESGROUP:2100 ICONDEV	      db '/DEV/CON',0,0,0,0,0,0
RESGROUP:210E BADCSPFL	      db 0
RESGROUP:210F COMSPECT	      db '\COMMAND.COM',0     ; ...
RESGROUP:211C		      db 0
RESGROUP:211D AUTOBAT	      db 0		      ;	...
RESGROUP:211E		      db ':\AUTOEXEC.BAT',0
RESGROUP:212D		      db 0Dh
RESGROUP:212E KAUTOBAT	      db 0		      ;	...
RESGROUP:212F		      db ':\KAUTOEXE.BAT',0
RESGROUP:213E		      db 0Dh
RESGROUP:213F PRDATTM	      db 0FFh		      ;	...
RESGROUP:2140 InitAdd	      dw 2 dup(0)	      ;	...
RESGROUP:2144 print_add	      dw offset	Printf_Init
RESGROUP:2146 print_add_seg   dw 0
RESGROUP:2148 triage_add      dw offset	Triage_Init   ;	...
RESGROUP:214A triage_add_seg  dw 0		      ;	...
RESGROUP:214C AllocedEnv      db 0		      ;	...
RESGROUP:214D PathString      db 'PATH=',0            ; ...
RESGROUP:2153 DefPathString   db 'C:\MSDOS',0         ; ...
RESGROUP:215C DefPath2String  db 'C:\DOS',0           ; ...
RESGROUP:2163 PrmptString     db 'PROMPT=$P$G',0      ; ...
RESGROUP:216F ComspOffset     dw 0		      ;	...
RESGROUP:2171 ComspString     db 'COMSPEC=\COMMAND.COM',0 ; ...
RESGROUP:2186 equalsign	      db '='                  ; ...
RESGROUP:2187 lcasea	      db 'a'                  ; ...
RESGROUP:2188 lcasez	      db 'z'                  ; ...
RESGROUP:2189 space	      db 20h		      ;	...
RESGROUP:218A scswitch	      db 'C'                  ; ...
RESGROUP:218B skswitch	      db 'K'                  ; ...
RESGROUP:218C ucasea	      db 'A'                  ; ...
RESGROUP:218D EnvSiz	      dw 0		      ;	...
RESGROUP:218F EnvMax	      dw 0		      ;	...
RESGROUP:2191 OldEnv	      dw 0		      ;	...
RESGROUP:2193 UsedEnv	      dw 0		      ;	...
RESGROUP:2195 PARS_MSG_OFF    dw 0
RESGROUP:2197 PARS_MSG_SEG    dw 0
RESGROUP:2199 Init_Parse      dw offset	append_parse  ;	...
RESGROUP:219B initend	      dw 0		      ;	...
RESGROUP:219D TrnSize	      dw 0		      ;	...
RESGROUP:219F resetenv	      db 0
RESGROUP:21A0 ext_msg	      db 0		      ;	...
RESGROUP:21A1 eswitch	      db 0		      ;	...
RESGROUP:21A2 dswitch	      db 0		      ;	...
RESGROUP:21A3 parsemes_ptr    dw 0
RESGROUP:21A5 INTERNAT_INFO   dw offset	COMMAND_PARMS ;	...
RESGROUP:21A5					      ;	PARSE_COMMAND
RESGROUP:21A7		      db 0
RESGROUP:21A8 COMMAND_PARMS   db 0		      ;	...
RESGROUP:21A9		      db 2
RESGROUP:21AA		      dw offset	COMMAND_FILE
RESGROUP:21AC		      dw offset	COMMAND_FILE
RESGROUP:21AE		      db 9
RESGROUP:21AF		      dw offset	COMMAND_SWITCH1
RESGROUP:21B1		      dw offset	COMMAND_SWITCH2
RESGROUP:21B3		      dw offset	COMMAND_SWITCH3
RESGROUP:21B5		      dw offset	COMMAND_SWITCH4
RESGROUP:21B7		      dw offset	COMMAND_SWITCH5
RESGROUP:21B9		      dw offset	COMMAND_SWITCH6
RESGROUP:21BB		      dw offset	COMMAND_SWITCH7
RESGROUP:21BD		      dw offset	COMMAND_SWITCH8
RESGROUP:21BF		      dw offset	COMMAND_SWITCH9
RESGROUP:21C1		      db 0
RESGROUP:21C2 COMMAND_FILE    dw 201h		      ;	...
RESGROUP:21C4		      dw 1
RESGROUP:21C6		      dw offset	COMND1_OUTPUT
RESGROUP:21C8		      dw offset	NO_VAL
RESGROUP:21CA		      db 0
RESGROUP:21CB COMMAND_SWITCH1 dw 0		      ;	...
RESGROUP:21CD		      dw 2
RESGROUP:21CF		      dw offset	COMND1_OUTPUT
RESGROUP:21D1		      dw offset	NO_VAL
RESGROUP:21D3		      db 1
RESGROUP:21D4 COMMAND_P_SYN   db '/P',0               ; ...
RESGROUP:21D7 COMMAND_SWITCH2 dw 0		      ;	...
RESGROUP:21D9		      dw 2
RESGROUP:21DB		      dw offset	COMND1_OUTPUT
RESGROUP:21DD		      dw offset	NO_VAL
RESGROUP:21DF		      db 1
RESGROUP:21E0 COMMAND_F_SYN   db '/F',0               ; ...
RESGROUP:21E3 COMMAND_SWITCH3 dw 0		      ;	...
RESGROUP:21E5		      dw 2
RESGROUP:21E7		      dw offset	COMND1_OUTPUT
RESGROUP:21E9		      dw offset	NO_VAL
RESGROUP:21EB		      db 1
RESGROUP:21EC COMMAND_D_SYN   db '/D',0               ; ...
RESGROUP:21EF COMMAND_SWITCH4 dw 8000h		      ;	...
RESGROUP:21F1		      dw 0
RESGROUP:21F3		      dw offset	COMND1_OUTPUT
RESGROUP:21F5		      dw offset	COMMAND_E_VAL
RESGROUP:21F7		      db 1
RESGROUP:21F8 COMMAND_E_SYN   db '/E',0               ; ...
RESGROUP:21FB COMMAND_E_VAL   db 1		      ;	...
RESGROUP:21FC		      db 1
RESGROUP:21FD		      db 1
RESGROUP:21FE		      dd 160		      ;	ENVSML
RESGROUP:2202		      dd 32768		      ;	ENVBIG
RESGROUP:2206		      db 0
RESGROUP:2207		      db 0
RESGROUP:2208 COMMAND_SWITCH5 dw 0		      ;	...
RESGROUP:220A		      dw 2
RESGROUP:220C		      dw offset	COMND1_OUTPUT
RESGROUP:220E		      dw offset	NO_VAL
RESGROUP:2210		      db 1
RESGROUP:2211 COMMAND_C_SYN   db '/C',0               ; ...
RESGROUP:2214 COMMAND_SWITCH6 dw 0		      ;	...
RESGROUP:2216		      dw 2
RESGROUP:2218		      dw offset	COMND1_OUTPUT
RESGROUP:221A		      dw offset	NO_VAL
RESGROUP:221C		      db 1
RESGROUP:221D COMMAND_M_SYN   db '/MSG',0             ; ...
RESGROUP:2222 COMMAND_SWITCH7 dw 0		      ;	...
RESGROUP:2224		      dw 2
RESGROUP:2226		      dw offset	COMND1_OUTPUT
RESGROUP:2228		      dw offset	NO_VAL
RESGROUP:222A		      db 1
RESGROUP:222B COMMAND_?_SYN   db '/?',0               ; ...
RESGROUP:222E COMMAND_SWITCH8 dw 0		      ;	...
RESGROUP:2230		      dw 2
RESGROUP:2232		      dw offset	COMND1_OUTPUT
RESGROUP:2234		      dw offset	NO_VAL
RESGROUP:2236		      db 1
RESGROUP:2237 COMMAND_K_SYN   db '/K',0               ; ...
RESGROUP:223A COMMAND_SWITCH9 dw 0		      ;	...
RESGROUP:223C		      dw 2
RESGROUP:223E		      dw offset	COMND1_OUTPUT
RESGROUP:2240		      dw offset	NO_VAL
RESGROUP:2242		      db 1
RESGROUP:2243 COMMAND_Y_SYN   db '/Y',0               ; ...
RESGROUP:2246 COMND1_OUTPUT   db 0		      ;	...
RESGROUP:2247 COMND1_CODE     db 0
RESGROUP:2248 COMND1_SYN      dw 0		      ;	...
RESGROUP:224A COMND1_ADDR     dd 0		      ;	...
RESGROUP:224E NO_VAL	      db 0		      ;	...
RESGROUP:224F num_positionals dw 0		      ;	...
RESGROUP:2251 old_parse_ptr   dw 0		      ;	...
RESGROUP:2253 BADVERMSG	      db 17h		      ;	...
RESGROUP:2254		      db 'Incorrect DOS version',0Dh,0Ah
RESGROUP:226B OUTENVMSG	      db 1Ah		      ;	...
RESGROUP:226C		      db 'Out of environment space',0Dh,0Ah
RESGROUP:2286 COPYRIGHTMSG    db 5Eh		      ;	...
RESGROUP:2287		      db 0Dh,0Ah
RESGROUP:2287		      db 0Dh,0Ah
RESGROUP:2287		      db 'Microsoft(R) MS-DOS(R) Version 6.22',0Dh,0Ah
RESGROUP:2287		      db '             (C)Copyright Microsoft Corp 1981-1994.',0Dh,0Ah
RESGROUP:22E5 BADCOMLKMES     db 28h		      ;	...
RESGROUP:22E6		      db 'Specified COMMAND search directory bad',0Dh,0Ah
RESGROUP:230E BADCOMACCMSG    db 37h		      ;	...
RESGROUP:230F		      db 'Specified COMMAND search directory bad, access denied',0Dh,0Ah
RESGROUP:2346 HELPMSG1	      db 38h		      ;	...
RESGROUP:2347		      db 'Starts a new copy of the MS-DOS Command Interpreter.',0Dh,0Ah
RESGROUP:2347		      db 0Dh,0Ah
RESGROUP:237F HELPMSG2	      db 38h		      ;	...
RESGROUP:2380		      db 'COMMAND [[drive:]path] [device] [/E:nnnnn] [/P [/MSG]]',0Dh,0Ah
RESGROUP:23B8 HELPMSG3	      db 2Ah		      ;	...
RESGROUP:23B9		      db '        [/Y [/C command | /K command]]',0Dh,0Ah
RESGROUP:23B9		      db 0Dh,0Ah
RESGROUP:23E3 HELPMSG4	      db 48h		      ;	...
RESGROUP:23E4		      db '  [drive:]path    Specifies the directory containing COMMAND.COM '
RESGROUP:23E4		      db 'file.',0Dh,0Ah
RESGROUP:242C HELPMSG5	      db 4Dh		      ;	...
RESGROUP:242D		      db '  device          Specifies the device to use for command input a'
RESGROUP:242D		      db 'nd output.',0Dh,0Ah
RESGROUP:247A HELPMSG6	      db 45h		      ;	...
RESGROUP:247B		      db '  /E:nnnnn        Sets the initial environment size to nnnnn byte'
RESGROUP:247B		      db 's.',0Dh,0Ah
RESGROUP:24C0 HELPMSG7	      db 4Dh		      ;	...
RESGROUP:24C1		      db '  /P              Makes the new Command Interpreter permanent (ca'
RESGROUP:24C1		      db 'n',27h,'t exit).',0Dh,0Ah
RESGROUP:250E HELPMSG8	      db 46h		      ;	...
RESGROUP:250F		      db '  /MSG            Stores all error messages in memory (requires /'
RESGROUP:250F		      db 'P).',0Dh,0Ah
RESGROUP:2555 HELPMSG9	      db 4Ah		      ;	...
RESGROUP:2556		      db '  /Y              Steps through the batch program specified by /C'
RESGROUP:2556		      db ' or /K.',0Dh,0Ah
RESGROUP:25A0 HELPMSG10	      db 3Fh		      ;	...
RESGROUP:25A1		      db '  /C command      Executes the specified command and returns.',0Dh,0Ah
RESGROUP:25E0 HELPMSG11	      db 4Bh		      ;	...
RESGROUP:25E1		      db '  /K command      Executes the specified command and continues ru'
RESGROUP:25E1		      db 'nning.',0Dh,0Ah
RESGROUP:25E1		      db 0Dh,0Ah
RESGROUP:262C HELPMSG12	      db 4Ch		      ;	...
RESGROUP:262D		      db 'The /P and /MSG switches may be used only when COMMAND is started'
RESGROUP:262D		      db ' by using',0Dh,0Ah
RESGROUP:2679 HELPMSG13	      db 2Bh		      ;	...
RESGROUP:267A		      db 'the SHELL command in the CONFIG.SYS file.',0Dh,0Ah
RESGROUP:26A5 HelpMsgs	      dw offset	HELPMSG1      ;	...
RESGROUP:26A7		      dw offset	HELPMSG2
RESGROUP:26A9		      dw offset	HELPMSG3
RESGROUP:26AB		      dw offset	HELPMSG4
RESGROUP:26AD		      dw offset	HELPMSG5
RESGROUP:26AF		      dw offset	HELPMSG6
RESGROUP:26B1		      dw offset	HELPMSG7
RESGROUP:26B3		      dw offset	HELPMSG8
RESGROUP:26B5		      dw offset	HELPMSG9
RESGROUP:26B7		      dw offset	HELPMSG10
RESGROUP:26B9		      dw offset	HELPMSG11
RESGROUP:26BB		      dw offset	HELPMSG12
RESGROUP:26BD		      dw offset	HELPMSG13
RESGROUP:26BF		      dw 0
RESGROUP:26C1 Reloc_Table     dw 738h		      ;	...
RESGROUP:26C1					      ;	738h+0E50h = MsgInt2fHandler
RESGROUP:26C3		      dw 177h		      ;	177h+0E50h = Int_2e
RESGROUP:26C5		      dw 35h		      ;	035h+0E50h = ContC
RESGROUP:26C7		      dw 445h		      ;	445h+0E50h = DskErr
RESGROUP:26C9		      dw 29h		      ;	029h+0E50h = Exec_Ret
RESGROUP:26CB		      dw 2A3h		      ;	2A3h+0E50h = TRemCheck
RESGROUP:26CD		      dw 422h		      ;	422h+0E50h = TrnLodCom1
RESGROUP:26CF		      dw 1AEh		      ;	1AEh+0E50h = LodCom
RESGROUP:26D1		      dw 77Bh		      ;	77Bh+0E50h = MsgRetriever
RESGROUP:26D3		      dw 2C2h		      ;	2C2h+0E50h = THeadFix
RESGROUP:26D5		      dw 7F4h		      ;	7F4h+0E50h = Lh_OffUnlink
RESGROUP:26D7 ResJmpTable     dw 2 dup(0)	      ;	...
RESGROUP:26DB FirstCom	      db 0		      ;	...
RESGROUP:26DC DevFlag	      db 0		      ;	...
RESGROUP:26DD PathFlag	      db 0		      ;	...
RESGROUP:26DE		      db 2 dup(0)
RESGROUP:26DE RESGROUP	      ends
RESGROUP:26DE
TRANGROUP:0000 ; ННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННННН
TRANGROUP:0000
TRANGROUP:0000 ; Segment type: Pure code
TRANGROUP:0000 TRANGROUP       segment byte public 'CODE' use16
TRANGROUP:0000		       assume cs:TRANGROUP
TRANGROUP:0000		       assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing
TRANGROUP:0000 TRANSTART       db 256 dup(0)
TRANGROUP:0100 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0100 ; START OF FUNCTION CHUNK FOR _$IF
TRANGROUP:0100
TRANGROUP:0100 SETDRV:				       ; ...
TRANGROUP:0100		       mov     ah, 0Eh
TRANGROUP:0102		       int     21h	       ; DOS - SELECT DISK
TRANGROUP:0102					       ; DL = new default drive	number (0 = A, 1 = B, etc.)
TRANGROUP:0102					       ; Return: AL = number of	logical	drives
TRANGROUP:0104
TRANGROUP:0104 TCOMMAND:			       ; ...
TRANGROUP:0104		       mov     ds, cs:RESSEG
TRANGROUP:0109		       mov     ax, 0FFFFh      ; -1
TRANGROUP:010C		       xchg    ax, ds:VerVal
TRANGROUP:0110		       cmp     ax, 0FFFFh
TRANGROUP:0113		       jz      short NOSETVER2
TRANGROUP:0115		       mov     ah, 2Eh
TRANGROUP:0117		       int     21h	       ; DOS - SET VERIFY FLAG
TRANGROUP:0117					       ; DL = 00h, AL =	01h VERIFY on /	00h VERIFY off
TRANGROUP:0119
TRANGROUP:0119 NOSETVER2:			       ; ...
TRANGROUP:0119		       call    dword ptr cs:HEADCALL ; call far	[cs:HEADCALL]
TRANGROUP:011E		       xor     bp, bp
TRANGROUP:0120		       cmp     ds:SingleCom, 0FFFFh ; -1
TRANGROUP:0125		       jnz     short COMMAND
TRANGROUP:0127
TRANGROUP:0127 _$EXITPREP:			       ; ...
TRANGROUP:0127		       push    cs
TRANGROUP:0128		       pop     ds
TRANGROUP:0129		       assume ds:TRANGROUP
TRANGROUP:0129		       jmp     _$EXIT
TRANGROUP:012C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:012C
TRANGROUP:012C COMMAND:				       ; ...
TRANGROUP:012C		       cld
TRANGROUP:012D		       mov     ax, cs
TRANGROUP:012F		       cli
TRANGROUP:0130		       mov     ss, ax
TRANGROUP:0132		       assume ss:TRANGROUP
TRANGROUP:0132		       mov     sp, offset STACK
TRANGROUP:0135		       sti
TRANGROUP:0136		       mov     es, ax
TRANGROUP:0138		       assume es:TRANGROUP
TRANGROUP:0138		       mov     ds, ax
TRANGROUP:013A		       call    TSYSLOADMSG
TRANGROUP:013D		       mov     append_exec, 0
TRANGROUP:0142		       mov     ds, RESSEG
TRANGROUP:0146		       assume ds:nothing
TRANGROUP:0146		       mov     ss:UCOMBUF, 128
TRANGROUP:014C		       mov     ss:COMBUF, 128
TRANGROUP:0152		       or      bp, bp
TRANGROUP:0154		       jz      short TESTRDIR
TRANGROUP:0156		       mov     word ptr	ss:UCOMBUF+1, 0D01h
TRANGROUP:015D		       jmp     short NOSETBUF
TRANGROUP:015F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:015F
TRANGROUP:015F TESTRDIR:			       ; ...
TRANGROUP:015F		       cmp     ds:RestDir, 0
TRANGROUP:0164		       jz      short NOSETBUF
TRANGROUP:0166		       push    ds
TRANGROUP:0167		       mov     ds:RestDir, 0
TRANGROUP:016C		       push    cs
TRANGROUP:016D		       pop     ds
TRANGROUP:016E		       assume ds:TRANGROUP
TRANGROUP:016E		       mov     dx, offset USERDIR1
TRANGROUP:0171		       mov     ah, 3Bh
TRANGROUP:0173		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:0173					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:0175		       pop     ds
TRANGROUP:0176		       assume ds:nothing
TRANGROUP:0176
TRANGROUP:0176 NOSETBUF:			       ; ...
TRANGROUP:0176		       cmp     ds:PipeFiles, 0
TRANGROUP:017B		       jz      short NOPCLOSE
TRANGROUP:017D		       cmp     ds:PipeFlag, 0
TRANGROUP:0182		       jnz     short NOPCLOSE
TRANGROUP:0184		       call    PIPEDEL
TRANGROUP:0187
TRANGROUP:0187 NOPCLOSE:			       ; ...
TRANGROUP:0187		       mov     ds:ExtCom, 0
TRANGROUP:018C		       mov     ax, cs
TRANGROUP:018E		       mov     ds, ax
TRANGROUP:0190		       assume ds:TRANGROUP
TRANGROUP:0190		       push    ax
TRANGROUP:0191		       mov     dx, offset STACK	; offset INTERNATVARS
TRANGROUP:0194		       mov     ax, 3800h       ; mov ax,INTERNATIONAL*256
TRANGROUP:0197		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:0197					       ; get current-country info
TRANGROUP:0197					       ; DS:DX -> buffer for returned info
TRANGROUP:0199		       pop     ax
TRANGROUP:019A		       sub     ax, TPA
TRANGROUP:019E		       push    bx
TRANGROUP:019F		       mov     bx, 16
TRANGROUP:01A2		       mul     bx
TRANGROUP:01A4		       pop     bx
TRANGROUP:01A5		       or      dx, dx
TRANGROUP:01A7		       jz      short SAVSIZ
TRANGROUP:01A9		       mov     ax, 0FFFFh      ; -1
TRANGROUP:01AC
TRANGROUP:01AC SAVSIZ:				       ; ...
TRANGROUP:01AC		       cmp     ax, 512
TRANGROUP:01AF		       jbe     short GOTSIZE
TRANGROUP:01B1		       and     ax, 0FE00h      ; ~1FFh (NOT 511)
TRANGROUP:01B4
TRANGROUP:01B4 GOTSIZE:				       ; ...
TRANGROUP:01B4		       mov     BYTCNT, ax
TRANGROUP:01B7		       mov     ds, RESSEG
TRANGROUP:01BB		       assume ds:nothing
TRANGROUP:01BB		       test    ds:EchoFlag, 1
TRANGROUP:01C0		       jz      short GETCOM
TRANGROUP:01C2		       call    SINGLETEST
TRANGROUP:01C5		       jb      short GETCOM
TRANGROUP:01C7		       test    ds:PipeFlag, 0FFh ; -1
TRANGROUP:01CC		       jnz     short GETCOM
TRANGROUP:01CE		       test    ds:ForFlag, 0FFh
TRANGROUP:01D3		       jnz     short GETCOM
TRANGROUP:01D5		       test    ds:Batch, 0FFFFh	; -1
TRANGROUP:01DB		       jnz     short GETCOM
TRANGROUP:01DD		       call    CRLF2
TRANGROUP:01E0
TRANGROUP:01E0 GETCOM:				       ; ...
TRANGROUP:01E0		       cmp     ds:SingleCom, 0
TRANGROUP:01E5		       jnz     short GETCOM2
TRANGROUP:01E7		       test    ds:Batch, 0FFFFh
TRANGROUP:01ED		       jnz     short GETCOM2
TRANGROUP:01EF		       and     byte ptr	ds:Y_Flag, 0EFh	; Y/N question overwrite flag
TRANGROUP:01F4
TRANGROUP:01F4 GETCOM2:				       ; ...
TRANGROUP:01F4		       mov     ds:Call_Flag, 0
TRANGROUP:01F9		       mov     ds:Call_Batch_Flag, 0
TRANGROUP:01FE		       mov     ah, 19h
TRANGROUP:0200		       int     21h	       ; DOS - GET DEFAULT DISK	NUMBER
TRANGROUP:0202		       mov     ss:CURDRV, al
TRANGROUP:0206		       test    ds:PipeFlag, 0FFh
TRANGROUP:020B		       jz      short NOPIPE
TRANGROUP:020D		       jmp     PIPEPROC
TRANGROUP:0210 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0210
TRANGROUP:0210 NOPIPE:				       ; ...
TRANGROUP:0210		       test    ds:EchoFlag, 1
TRANGROUP:0215		       jz      short NOPDRV
TRANGROUP:0217		       call    SINGLETEST
TRANGROUP:021A		       jb      short NOPDRV
TRANGROUP:021C		       test    ds:ForFlag, 0FFh
TRANGROUP:0221		       jnz     short NOPDRV
TRANGROUP:0223		       test    ds:Batch, 0FFFFh
TRANGROUP:0229		       jnz     short TESTFORBAT
TRANGROUP:022B		       call    PRINT_PROMPT
TRANGROUP:022E
TRANGROUP:022E NOPDRV:				       ; ...
TRANGROUP:022E		       test    ds:ForFlag, 0FFh
TRANGROUP:0233		       jz      short TESTFORBAT
TRANGROUP:0235		       jmp     FORPROC
TRANGROUP:0238 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0238
TRANGROUP:0238 TESTFORBAT:			       ; ...
TRANGROUP:0238		       mov     ss:RE_INSTR, 0
TRANGROUP:023E		       mov     ds:Re_OutStr, 0
TRANGROUP:0243		       mov     ds:Re_Out_App, 0
TRANGROUP:0248		       mov     ds:IfFlag, 0
TRANGROUP:024D		       test    ds:Batch, 0FFFFh
TRANGROUP:0253		       jz      short ISNOBAT
TRANGROUP:0255		       push    es
TRANGROUP:0256		       push    ds
TRANGROUP:0257		       mov     ax, 1902h       ; mult_shell_get
TRANGROUP:025A		       mov     es, ds:Batch
TRANGROUP:025E		       assume es:nothing
TRANGROUP:025E		       mov     di, 20h
TRANGROUP:0261		       push    cs
TRANGROUP:0262		       pop     ds
TRANGROUP:0263		       assume ds:TRANGROUP
TRANGROUP:0263		       mov     dx, offset COMBUF
TRANGROUP:0266		       int     2Fh	       ; - Multiplex - DOS 4.x only SHELLB.COM - COMMAND.COM INTERFACE
TRANGROUP:0266					       ; ES:DI -> ASCIZ	full filename of current batch file, with at least the
TRANGROUP:0266					       ; final filename	element	uppercased
TRANGROUP:0266					       ; DS:DX -> buffer for results
TRANGROUP:0268		       cmp     al, 0FFh	       ; shell_action
TRANGROUP:026A		       pop     ds
TRANGROUP:026B		       assume ds:nothing
TRANGROUP:026B		       pop     es
TRANGROUP:026C		       jz      short JDOCOM1
TRANGROUP:026E		       push    ds
TRANGROUP:026F		       call    READBAT
TRANGROUP:0272		       pop     ds
TRANGROUP:0273		       mov     ds:NullFlag, 0
TRANGROUP:0278		       test    ds:Batch, 0FFFFh
TRANGROUP:027E		       jnz     short JDOCOM1
TRANGROUP:0280		       mov     bx, ds:Next_Batch
TRANGROUP:0284		       cmp     bx, 0
TRANGROUP:0287		       jz      short JDOCOM1
TRANGROUP:0289		       mov     ds:Batch, bx
TRANGROUP:028D		       mov     ds:Next_Batch, 0
TRANGROUP:0293
TRANGROUP:0293 JDOCOM1:				       ; ...
TRANGROUP:0293		       push    cs
TRANGROUP:0294		       pop     ds
TRANGROUP:0295		       assume ds:TRANGROUP
TRANGROUP:0295		       jmp     short DOCOM0
TRANGROUP:0297 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0297
TRANGROUP:0297 ISNOBAT:				       ; ...
TRANGROUP:0297		       cmp     ds:SingleCom, 0
TRANGROUP:029C		       jz      short REGCOM
TRANGROUP:029E		       mov     si, ds:SemiPermCom
TRANGROUP:02A2		       xchg    si, ds:SingleCom
TRANGROUP:02A6		       mov     di, (offset COMBUF+2)
TRANGROUP:02A9		       xor     cx, cx
TRANGROUP:02AB
TRANGROUP:02AB SINGLELOOP:			       ; ...
TRANGROUP:02AB		       lodsb
TRANGROUP:02AC		       stosb
TRANGROUP:02AD		       inc     cx
TRANGROUP:02AE		       cmp     al, 0Dh
TRANGROUP:02B0		       jnz     short SINGLELOOP
TRANGROUP:02B2		       dec     cx
TRANGROUP:02B3		       push    cs
TRANGROUP:02B4		       pop     ds
TRANGROUP:02B5		       mov     COMBUF+1, cl
TRANGROUP:02B9		       jmp     short DOCOM0
TRANGROUP:02BB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:02BB
TRANGROUP:02BB REGCOM:				       ; ...
TRANGROUP:02BB		       mov     ax, 5D09h       ; (SERVERCALL<<8)+9
TRANGROUP:02BE		       int     21h	       ; DOS - 3.1+ internal - FLUSH REDIRECTED	PRINTER	OUTPUT
TRANGROUP:02C0		       mov     ax, 5D08h       ; (SERVERCALL<<8)+8
TRANGROUP:02C3		       mov     dl, 1
TRANGROUP:02C5		       int     21h	       ; DOS - 3.1+ internal - SET REDIRECTED PRINTER MODE
TRANGROUP:02C5					       ; DL = 00h redirected output is combined
TRANGROUP:02C5					       ;      01h redirected output placed in separate jobs
TRANGROUP:02C5					       ; start new print job now
TRANGROUP:02C7		       push    cs
TRANGROUP:02C8		       pop     ds
TRANGROUP:02C9		       mov     dx, offset UCOMBUF
TRANGROUP:02CC		       mov     ax, 4810h       ; AX = DOSKey Read Line function
TRANGROUP:02CF		       int     2Fh
TRANGROUP:02D1		       or      ax, ax
TRANGROUP:02D3		       jz      short GOTCOM
TRANGROUP:02D5		       mov     ah, 0Ah	       ; Std_Con_String_Input
TRANGROUP:02D7		       int     21h	       ; DOS - BUFFERED	KEYBOARD INPUT
TRANGROUP:02D7					       ; DS:DX -> buffer
TRANGROUP:02D9
TRANGROUP:02D9 GOTCOM:				       ; ...
TRANGROUP:02D9		       mov     cl, UCOMBUF
TRANGROUP:02DD		       xor     ch, ch
TRANGROUP:02DF		       add     cx, 3
TRANGROUP:02E2		       mov     si, offset UCOMBUF
TRANGROUP:02E5		       mov     di, offset COMBUF
TRANGROUP:02E8		       rep movsb
TRANGROUP:02EA		       call    CRLF2
TRANGROUP:02ED		       xor     ax, ax
TRANGROUP:02EF		       jmp     short DOCOM2
TRANGROUP:02F1 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:02F1
TRANGROUP:02F1 DOCOM:				       ; ...
TRANGROUP:02F1		       call    CRLF2
TRANGROUP:02F4
TRANGROUP:02F4 DOCOM0:				       ; ...
TRANGROUP:02F4		       mov     ax, 1	       ; cox_Y_option =	yes (1)
TRANGROUP:02F7
TRANGROUP:02F7 DOCOM2:				       ; ...
TRANGROUP:02F7		       push    ds
TRANGROUP:02F8		       mov     ds, RESSEG
TRANGROUP:02FC		       assume ds:nothing
TRANGROUP:02FC		       mov     ds:cox_Y_option,	ax
TRANGROUP:02FF		       pop     ds
TRANGROUP:0300		       mov     si, offset COMBUF
TRANGROUP:0303		       mov     cl, [si+1]
TRANGROUP:0306		       xor     ch, ch
TRANGROUP:0308		       add     si, 2
TRANGROUP:030B		       call    get_cox_y_n_opt
TRANGROUP:030E		       jnb     short DOCOM1    ; YES answer
TRANGROUP:0310		       jmp     NULLCOM	       ; NO answer
TRANGROUP:0313 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0313
TRANGROUP:0313 DOCOM1:				       ; ...
TRANGROUP:0313		       call    PRESCAN
TRANGROUP:0316		       jz      short NOPIPEPROC
TRANGROUP:0318		       jmp     PIPEPROCSTRT
TRANGROUP:031B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:031B
TRANGROUP:031B NULLCOMJ:			       ; ...
TRANGROUP:031B		       jmp     NULLCOM
TRANGROUP:031E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:031E
TRANGROUP:031E NOPIPEPROC:			       ; ...
TRANGROUP:031E		       call    PARSELINE
TRANGROUP:0321		       jnb     short OKPARSE
TRANGROUP:0323
TRANGROUP:0323 BADPARSE:			       ; ...
TRANGROUP:0323		       push    cs
TRANGROUP:0324		       pop     ds
TRANGROUP:0325		       assume ds:TRANGROUP
TRANGROUP:0325		       mov     dx, offset BADNAM_PTR
TRANGROUP:0328		       call    std_eprintf
TRANGROUP:032B		       jmp     TCOMMAND
TRANGROUP:032E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:032E
TRANGROUP:032E OKPARSE:				       ; ...
TRANGROUP:032E		       test    ARGV0_ARG_FLAGS,	2 ; [ARG+ARGV_ELE.argflags],wildcard
TRANGROUP:0333		       jnz     short BADPARSE
TRANGROUP:0335		       cmp     ARG_ARGVCNT, 0  ;  [ARG+ARG_UNIT.argvcnt]
TRANGROUP:033A		       jz      short NULLCOMJ
TRANGROUP:033C		       cmp     ARGV0_ARGLEN, 0 ; [ARG+ARGV_ELE.arglen]
TRANGROUP:0341		       jz      short NULLCOMJ
TRANGROUP:0343		       mov     si, (offset COMBUF+2)
TRANGROUP:0346		       mov     di, offset IDLEN
TRANGROUP:0349		       mov     ax, 2901h
TRANGROUP:034C		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:034C					       ; DS:SI -> string to parse
TRANGROUP:034C					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:034C					       ; AL = bit mask to control parsing
TRANGROUP:034E		       mov     bx, ARG_ARGV    ; [ARG+ARG_UNIT.argv]
TRANGROUP:0352		       cmp     byte ptr	[bx+1],	':'
TRANGROUP:0356		       jnz     short DRVGD
TRANGROUP:0358		       mov     dl, [bx]
TRANGROUP:035A		       and     dl, 0DFh
TRANGROUP:035D		       sub     dl, 'A'
TRANGROUP:0360		       cmp     al, 0FFh	       ; -1
TRANGROUP:0362		       jz      short DRVBADJ
TRANGROUP:0364		       mov     di, ARGV0_ARGSTARTEL ; [ARG+ARGV_ELE.argstartel]
TRANGROUP:0368		       cmp     byte ptr	[di], 0
TRANGROUP:036B		       jnz     short DRVGD
TRANGROUP:036D		       jmp     SETDRV
TRANGROUP:0370 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0370
TRANGROUP:0370 DRVBADJ:				       ; ...
TRANGROUP:0370		       jmp     DRVBAD
TRANGROUP:0373 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0373
TRANGROUP:0373 DRVGD:				       ; ...
TRANGROUP:0373		       mov     al, [di]
TRANGROUP:0375		       mov     SPECDRV,	al
TRANGROUP:0378		       mov     al, 20h ; ' '
TRANGROUP:037A		       mov     cx, 9
TRANGROUP:037D		       inc     di
TRANGROUP:037E		       repne scasb
TRANGROUP:0380		       mov     al, 8
TRANGROUP:0382		       sub     al, cl
TRANGROUP:0384		       mov     IDLEN, al
TRANGROUP:0387		       mov     di, 81h
TRANGROUP:038A		       push    si
TRANGROUP:038B		       mov     si, (offset COMBUF+2)
TRANGROUP:038E		       call    scanoff
TRANGROUP:0391		       inc     si
TRANGROUP:0392
TRANGROUP:0392 DO_SKIPCOM:			       ; ...
TRANGROUP:0392		       lodsb
TRANGROUP:0393		       call    DELIM
TRANGROUP:0396		       jz      short DO_SKIPPED
TRANGROUP:0398		       cmp     al, 0Dh
TRANGROUP:039A		       jz      short DO_SKIPPED
TRANGROUP:039C		       cmp     al, SWITCHAR
TRANGROUP:03A0		       jnz     short DO_SKIPCOM
TRANGROUP:03A2
TRANGROUP:03A2 DO_SKIPPED:			       ; ...
TRANGROUP:03A2		       dec     si
TRANGROUP:03A3		       xor     cx, cx
TRANGROUP:03A5
TRANGROUP:03A5 COMTAIL:				       ; ...
TRANGROUP:03A5		       lodsb
TRANGROUP:03A6		       stosb
TRANGROUP:03A7		       cmp     al, 0Dh
TRANGROUP:03A9		       loopne  COMTAIL
TRANGROUP:03AB		       dec     di
TRANGROUP:03AC		       mov     bp, di
TRANGROUP:03AE		       not     cl
TRANGROUP:03B0		       mov     TRANSTART+80h, cl ; mov [80h],cl
TRANGROUP:03B4		       pop     si
TRANGROUP:03B5		       mov     di, ARGV0_ARGSW_WORD ; [ARG+ARGV_ELE.argsw_word]
TRANGROUP:03B9		       mov     COMSW, di
TRANGROUP:03BD		       mov     si, ARGV1_ARGPOINTER ; [ARG+ARGV_ELE.SIZE+ARGV_ELE.argpointer]
TRANGROUP:03C1		       or      si, si
TRANGROUP:03C3		       jnz     short DOPARSE
TRANGROUP:03C5		       mov     si, bp
TRANGROUP:03C7
TRANGROUP:03C7 DOPARSE:				       ; ...
TRANGROUP:03C7		       mov     di, 5Ch	       ; mov di,FCB ; 5Ch
TRANGROUP:03CA		       mov     ax, 2901h
TRANGROUP:03CD		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:03CD					       ; DS:SI -> string to parse
TRANGROUP:03CD					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:03CD					       ; AL = bit mask to control parsing
TRANGROUP:03CF		       mov     PARM1, al
TRANGROUP:03D2		       mov     di, ARGV1_ARGSW_WORD ; [ARG+ARGV_ELE.SIZE+ARGV_ELE.argsw_word]
TRANGROUP:03D6		       mov     ARG1S, di
TRANGROUP:03DA		       mov     si, ARGV2_ARGPOINTER ; [ARG+(2*ARGV_ELE.SIZE)+ARGV_ELE.argpointer]
TRANGROUP:03DE		       or      si, si
TRANGROUP:03E0		       jnz     short DOPARSE2
TRANGROUP:03E2		       mov     si, bp
TRANGROUP:03E4
TRANGROUP:03E4 DOPARSE2:			       ; ...
TRANGROUP:03E4		       mov     di, 6Ch	       ; mov di,FCB+10h	; 6Ch
TRANGROUP:03E7		       mov     ax, 2901h
TRANGROUP:03EA		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:03EA					       ; DS:SI -> string to parse
TRANGROUP:03EA					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:03EA					       ; AL = bit mask to control parsing
TRANGROUP:03EC		       mov     PARM2, al
TRANGROUP:03EF		       mov     di, ARGV2_ARGSW_WORD ; [ARG+(2*ARGV_ELE.SIZE)+ARGV_ELE.argsw_word]
TRANGROUP:03F3		       mov     ARG2S, di
TRANGROUP:03F7		       mov     di, ARGV0_ARGSW_WORD ; [ARG+ARGV_ELE.argsw_word]
TRANGROUP:03FB		       not     di
TRANGROUP:03FD		       and     di, ARG_ARGSWINFO ; [ARG+ARG_UNIT.argswinfo]
TRANGROUP:0401		       mov     ARGTS, di
TRANGROUP:0405		       mov     al, IDLEN
TRANGROUP:0408		       mov     dl, SPECDRV
TRANGROUP:040C		       or      dl, dl
TRANGROUP:040E		       jnz     short EXTERNALJ1
TRANGROUP:0410		       dec     al
TRANGROUP:0412		       jmp     FNDCOM
TRANGROUP:0415 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0415
TRANGROUP:0415 EXTERNALJ1:			       ; ...
TRANGROUP:0415		       jmp     EXTERNAL
TRANGROUP:0418 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0418
TRANGROUP:0418 NULLCOM:				       ; ...
TRANGROUP:0418		       mov     ds, RESSEG
TRANGROUP:041C		       assume ds:nothing
TRANGROUP:041C		       test    ds:Batch, 0FFFFh	; -1
TRANGROUP:0422		       jz      short NOSETFLAG
TRANGROUP:0424		       mov     ds:NullFlag, 1  ; mov byte [NullFlag],nullcommand
TRANGROUP:0429
TRANGROUP:0429 NOSETFLAG:			       ; ...
TRANGROUP:0429		       cmp     ds:SingleCom, 0FFFFh ; -1
TRANGROUP:042E		       jz      short EXITJ
TRANGROUP:0430		       jmp     GETCOM
TRANGROUP:0433 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0433
TRANGROUP:0433 EXITJ:				       ; ...
TRANGROUP:0433		       jmp     _$EXITPREP
TRANGROUP:0433 ; END OF	FUNCTION CHUNK FOR _$IF
TRANGROUP:0436
TRANGROUP:0436 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:0436
TRANGROUP:0436
TRANGROUP:0436 get_cox_y_n_opt proc near	       ; ...
TRANGROUP:0436		       jcxz    short ccydp4    ; empty input buffer
TRANGROUP:0438
TRANGROUP:0438 ccydp0:
TRANGROUP:0438		       cmp     byte ptr	[si], 0Dh
TRANGROUP:043B		       jz      short ccydp4
TRANGROUP:043D		       cmp     byte ptr	[si], 0Ah
TRANGROUP:0440		       jz      short ccydp4
TRANGROUP:0442		       push    es
TRANGROUP:0443		       mov     es, ds:RESSEG
TRANGROUP:0447		       mov     al, byte	ptr es:Y_Flag
TRANGROUP:044B		       test    al, 10h	       ; bit 1 = 1 -> Y/N answer is needed
TRANGROUP:044D		       jz      short ccydp3
TRANGROUP:044F		       cmp     es:Call_Batch_Flag, 1 ; (in) Batch file ?
TRANGROUP:0455		       jz      short ccydp3    ; yes, don't check for ESCAPE
TRANGROUP:0457		       test    al, 40h	       ; ESCAPE	status
TRANGROUP:0457					       ; (bit 4	is zero	if Y/N is excaped)
TRANGROUP:0459		       jz      short ccydp5
TRANGROUP:045B
TRANGROUP:045B ccydp1:				       ; ...
TRANGROUP:045B		       test    es:Batch, 0FFFFh
TRANGROUP:0462		       jz      short ccydp2
TRANGROUP:0464		       mov     es, es:Batch
TRANGROUP:0469		       mov     byte ptr	es:2, 1	; [es:BATCHSEGMENT.BatchEOF]
TRANGROUP:046F
TRANGROUP:046F ccydp2:				       ; ...
TRANGROUP:046F		       stc
TRANGROUP:0470		       pop     es
TRANGROUP:0471		       retn
TRANGROUP:0472 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0472
TRANGROUP:0472 ccydp3:				       ; ...
TRANGROUP:0472		       pop     es
TRANGROUP:0473
TRANGROUP:0473 ccydp4:				       ; ...
TRANGROUP:0473		       clc
TRANGROUP:0474		       retn
TRANGROUP:0475 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0475
TRANGROUP:0475 ccydp5:				       ; ...
TRANGROUP:0475		       mov     dx, si
TRANGROUP:0477		       mov     bx, 2
TRANGROUP:047A		       mov     ah, 40h
TRANGROUP:047C		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:047C					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:047E		       mov     dx, offset cox_Y_quest_ptr ; msg	number pointer of ' [Y/N]?' (is 1082)
TRANGROUP:0481		       call    std_eprintf
TRANGROUP:0484		       push    ds
TRANGROUP:0485		       mov     ax, 1083	       ; cox_Y_answer number (overwrite	Y/N answer letter)
TRANGROUP:0488		       mov     dh, 0FFh	       ; utility_msg_class
TRANGROUP:048A		       call    TSYSGETMSG
TRANGROUP:048D		       mov     cx, 'NY'        ; 'YN' Yes/No (CL=Y)
TRANGROUP:0490		       jb      short ccydp6
TRANGROUP:0492		       mov     cx, [si]
TRANGROUP:0494
TRANGROUP:0494 ccydp6:				       ; ...
TRANGROUP:0494		       pop     ds
TRANGROUP:0495
TRANGROUP:0495 ccydp7:				       ; ...
TRANGROUP:0495		       mov     ah, 8
TRANGROUP:0497		       int     21h	       ; DOS - KEYBOARD	INPUT, NO ECHO
TRANGROUP:0497					       ; Return: AL = character
TRANGROUP:0499		       test    al, al
TRANGROUP:049B		       jnz     short ccydp8
TRANGROUP:049D		       mov     ah, 8
TRANGROUP:049F		       int     21h	       ; DOS - KEYBOARD	INPUT, NO ECHO
TRANGROUP:049F					       ; Return: AL = character
TRANGROUP:04A1		       cmp     al, '?'
TRANGROUP:04A3		       jnz     short ccydp7
TRANGROUP:04A5		       or      byte ptr	es:Y_Flag, 40h ; bit 4,	question flag
TRANGROUP:04AB		       jmp     short ccydp1
TRANGROUP:04AD ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:04AD
TRANGROUP:04AD ccydp8:				       ; ...
TRANGROUP:04AD		       cmp     al, 1Bh	       ; ESCAPE	?
TRANGROUP:04AF		       jnz     short ccydp9
TRANGROUP:04B1		       and     byte ptr	es:Y_Flag, 0EFh	; (ESCAPE) Clear bit 4 ; ~10h
TRANGROUP:04B7		       jmp     short ccydp12
TRANGROUP:04B9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:04B9
TRANGROUP:04B9 ccydp9:				       ; ...
TRANGROUP:04B9		       and     al, 0DFh	       ; uppercase
TRANGROUP:04BB		       cmp     al, ch	       ; NO character (N)
TRANGROUP:04BD		       jnz     short ccydp10
TRANGROUP:04BF		       stc
TRANGROUP:04C0		       jmp     short ccydp11   ; cf = 1	-> overwrite NO	answer
TRANGROUP:04C2 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:04C2
TRANGROUP:04C2 ccydp10:				       ; ...
TRANGROUP:04C2		       cmp     al, cl	       ; YES character (Y)
TRANGROUP:04C4		       jnz     short ccydp7
TRANGROUP:04C6
TRANGROUP:04C6 ccydp11:				       ; ...
TRANGROUP:04C6		       pushf		       ; cf = 0	-> overwrite YES answer
TRANGROUP:04C7		       mov     dl, al
TRANGROUP:04C9		       mov     ah, 2
TRANGROUP:04CB		       int     21h	       ; DOS - DISPLAY OUTPUT
TRANGROUP:04CB					       ; DL = character	to send	to standard output
TRANGROUP:04CD		       popf
TRANGROUP:04CE
TRANGROUP:04CE ccydp12:				       ; ...
TRANGROUP:04CE		       pushf
TRANGROUP:04CF		       call    CRLF2
TRANGROUP:04D2		       popf
TRANGROUP:04D3		       pop     es
TRANGROUP:04D4		       retn
TRANGROUP:04D4 get_cox_y_n_opt endp
TRANGROUP:04D4
TRANGROUP:04D5
TRANGROUP:04D5 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:04D5
TRANGROUP:04D5
TRANGROUP:04D5 ROM_SCAN	       proc near	       ; ...
TRANGROUP:04D5		       push    es
TRANGROUP:04D6		       push    si
TRANGROUP:04D7		       push    di
TRANGROUP:04D8		       push    cx
TRANGROUP:04D9		       push    ax
TRANGROUP:04DA		       push    bx
TRANGROUP:04DB		       mov     ax, 0F000h
TRANGROUP:04DE		       mov     es, ax
TRANGROUP:04E0		       assume es:nothing
TRANGROUP:04E0		       cmp     byte ptr	es:0FFFEh, 0FDh
TRANGROUP:04E6		       jz      short SCAN_IT
TRANGROUP:04E8
TRANGROUP:04E8 NO_ROM:				       ; ...
TRANGROUP:04E8		       clc
TRANGROUP:04E9
TRANGROUP:04E9 ROM_RET:				       ; ...
TRANGROUP:04E9		       pop     bx
TRANGROUP:04EA		       pop     ax
TRANGROUP:04EB		       pop     cx
TRANGROUP:04EC		       pop     di
TRANGROUP:04ED		       pop     si
TRANGROUP:04EE		       pop     es
TRANGROUP:04EF		       assume es:nothing
TRANGROUP:04EF		       retn
TRANGROUP:04F0 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:04F0
TRANGROUP:04F0 SCAN_IT:				       ; ...
TRANGROUP:04F0		       mov     ax, 0C000h
TRANGROUP:04F3
TRANGROUP:04F3 SCAN_ONE:			       ; ...
TRANGROUP:04F3		       mov     es, ax
TRANGROUP:04F5		       assume es:nothing
TRANGROUP:04F5		       xor     di, di
TRANGROUP:04F7		       cmp     word ptr	es:[di], 0AA55h
TRANGROUP:04FC		       jz      short SCAN_LIST
TRANGROUP:04FE		       add     ax, 80h
TRANGROUP:0501
TRANGROUP:0501 SCAN_END:			       ; ...
TRANGROUP:0501		       cmp     ax, 0F000h
TRANGROUP:0504		       jb      short SCAN_ONE
TRANGROUP:0506		       jmp     short NO_ROM
TRANGROUP:0508 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0508
TRANGROUP:0508 SCAN_LIST:			       ; ...
TRANGROUP:0508		       mov     bl, es:[di+2]   ; [es:di+ROM_HEADER.rom_length]
TRANGROUP:050C		       xor     bh, bh
TRANGROUP:050E		       shl     bx, 1
TRANGROUP:0510		       shl     bx, 1
TRANGROUP:0512		       add     bx, 7Fh
TRANGROUP:0515		       and     bx, 0FF80h      ; round to 2k
TRANGROUP:0518		       mov     di, 6	       ; ROM_HEADER.name_list
TRANGROUP:051B
TRANGROUP:051B SCAN_NAME:			       ; ...
TRANGROUP:051B		       mov     cl, es:[di]
TRANGROUP:051E		       inc     di
TRANGROUP:051F		       xor     ch, ch
TRANGROUP:0521		       or      cx, cx
TRANGROUP:0523		       jnz     short SCAN_TEST
TRANGROUP:0525		       add     ax, bx
TRANGROUP:0527		       jmp     short SCAN_END
TRANGROUP:0529 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0529
TRANGROUP:0529 SCAN_TEST:			       ; ...
TRANGROUP:0529		       mov     si, dx
TRANGROUP:052B		       inc     si
TRANGROUP:052C		       repe cmpsb
TRANGROUP:052E		       jz      short SCAN_FOUND
TRANGROUP:0530
TRANGROUP:0530 SCAN_NEXT:			       ; ...
TRANGROUP:0530		       add     di, cx
TRANGROUP:0532		       add     di, 3
TRANGROUP:0535		       jmp     short SCAN_NAME
TRANGROUP:0537 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0537
TRANGROUP:0537 SCAN_FOUND:			       ; ...
TRANGROUP:0537		       cmp     byte ptr	[si], 3Fh ; '?'
TRANGROUP:053A		       jz      short SCAN_SAVE
TRANGROUP:053C		       cmp     byte ptr	[si], 20h ; ' '
TRANGROUP:053F		       jnz     short SCAN_NEXT
TRANGROUP:0541
TRANGROUP:0541 SCAN_SAVE:			       ; ...
TRANGROUP:0541		       mov     cs:ROM_CS, es
TRANGROUP:0546		       mov     cs:ROM_IP, di
TRANGROUP:054B		       stc
TRANGROUP:054C		       jmp     short ROM_RET
TRANGROUP:054C ROM_SCAN	       endp
TRANGROUP:054C
TRANGROUP:054E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:054E ; START OF FUNCTION CHUNK FOR _$IF
TRANGROUP:054E
TRANGROUP:054E ROM_EXEC:			       ; ...
TRANGROUP:054E		       mov     bx, 0FFFFh
TRANGROUP:0551		       mov     ah, 48h
TRANGROUP:0553		       int     21h	       ; DOS - 2+ - ALLOCATE MEMORY
TRANGROUP:0553					       ; BX = number of	16-byte	paragraphs desired
TRANGROUP:0555		       mov     ah, 48h
TRANGROUP:0557		       int     21h	       ; DOS - 2+ - ALLOCATE MEMORY
TRANGROUP:0557					       ; BX = number of	16-byte	paragraphs desired
TRANGROUP:0559		       push    bx
TRANGROUP:055A		       push    ax
TRANGROUP:055B		       mov     ax, 2522h       ; (SET_INTERRUPT_VECTOR<<8)+INT_TERMINATE
TRANGROUP:055E		       push    ds
TRANGROUP:055F		       mov     ds, cs:RESSEG
TRANGROUP:0564		       mov     dx, offset Exec_Wait
TRANGROUP:0567		       int     21h	       ; DOS - SET INTERRUPT VECTOR
TRANGROUP:0567					       ; AL = interrupt	number
TRANGROUP:0567					       ; DS:DX = new vector to be used for specified interrupt
TRANGROUP:0569		       mov     dx, ds
TRANGROUP:056B		       mov     es, dx
TRANGROUP:056D		       assume es:nothing
TRANGROUP:056D		       pop     ds
TRANGROUP:056E		       pop     dx
TRANGROUP:056F		       mov     ah, 55h
TRANGROUP:0571		       int     21h	       ; DOS - 2+ internal - CREATE PSP
TRANGROUP:0571					       ; DX = segment number at	which to set up	PSP
TRANGROUP:0571					       ; SI = (DOS 3+) value to	place in memory	size field at DX:[0002h]
TRANGROUP:0573		       mov     ds, dx
TRANGROUP:0575		       mov     dx, 80h
TRANGROUP:0578		       mov     ah, 1Ah
TRANGROUP:057A		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:057A					       ; DS:DX -> disk transfer	buffer
TRANGROUP:057C		       mov     ax, es:EnvirSeg
TRANGROUP:0580		       mov     ds:2Ch, ax      ; [PDB.ENVIRON]
TRANGROUP:0583		       pop     bx
TRANGROUP:0584		       mov     dx, ds
TRANGROUP:0586		       add     dx, bx
TRANGROUP:0588		       mov     ds:2, dx	       ; [PDB.BLOCK_LEN]
TRANGROUP:058C		       mov     dx, ds
TRANGROUP:058E		       dec     dx
TRANGROUP:058F		       mov     ds, dx
TRANGROUP:0591		       assume ds:nothing
TRANGROUP:0591		       inc     dx
TRANGROUP:0592		       mov     ds:1, dx	       ; [ARENA.owner]
TRANGROUP:0596		       mov     ds, dx
TRANGROUP:0598		       assume ds:nothing
TRANGROUP:0598		       cmp     bx, 1000h
TRANGROUP:059C		       jb      short GOT_STACK
TRANGROUP:059E		       xor     bx, bx
TRANGROUP:05A0
TRANGROUP:05A0 GOT_STACK:			       ; ...
TRANGROUP:05A0		       mov     cl, 4
TRANGROUP:05A2		       shl     bx, cl
TRANGROUP:05A4		       mov     dx, ds
TRANGROUP:05A6		       mov     ss, dx
TRANGROUP:05A8		       assume ss:nothing
TRANGROUP:05A8		       mov     sp, bx
TRANGROUP:05AA		       xor     ax, ax
TRANGROUP:05AC		       push    ax
TRANGROUP:05AD		       not     ax
TRANGROUP:05AF		       push    cs:ROM_CS
TRANGROUP:05B4		       push    cs:ROM_IP
TRANGROUP:05B9		       mov     es, dx
TRANGROUP:05BB		       retf
TRANGROUP:05BB ; END OF	FUNCTION CHUNK FOR _$IF
TRANGROUP:05BC
TRANGROUP:05BC ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:05BC
TRANGROUP:05BC
TRANGROUP:05BC PROMPTBAT       proc near	       ; ...
TRANGROUP:05BC		       call    BATOPEN
TRANGROUP:05BF		       jb      short PROMPTBAT1
TRANGROUP:05C1		       retn
TRANGROUP:05C2 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:05C2
TRANGROUP:05C2 PROMPTBAT1:			       ; ...
TRANGROUP:05C2		       cmp     dx, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:05C5		       jz      short BAT_REMCHECK
TRANGROUP:05C7		       cmp     dx, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:05CA		       jz      short BAT_REMCHECK
TRANGROUP:05CC		       call    output_batch_name
TRANGROUP:05CF		       jmp     short BATDIE
TRANGROUP:05D1 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:05D1
TRANGROUP:05D1 BAT_REMCHECK:			       ; ...
TRANGROUP:05D1		       call    cs:RCH_ADDR     ; call far [cs:RCH_ADDR]
TRANGROUP:05D6		       jz      short ASKFORBAT
TRANGROUP:05D8		       call    FOROFF
TRANGROUP:05DB		       call    PipeOff
TRANGROUP:05DE		       mov     ds:IfFlag, al
TRANGROUP:05E1		       mov     dx, offset BADBAT_PTR
TRANGROUP:05E4
TRANGROUP:05E4 BATDIE:				       ; ...
TRANGROUP:05E4		       call    BATCHOFF
TRANGROUP:05E7		       push    cs
TRANGROUP:05E8		       pop     ds
TRANGROUP:05E9		       assume ds:TRANGROUP
TRANGROUP:05E9		       call    std_eprintf
TRANGROUP:05EC		       jmp     TCOMMAND
TRANGROUP:05EF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:05EF
TRANGROUP:05EF ASKFORBAT:			       ; ...
TRANGROUP:05EF		       push    ds
TRANGROUP:05F0		       push    cs
TRANGROUP:05F1		       pop     ds
TRANGROUP:05F2		       mov     dx, offset NEEDBAT_PTR
TRANGROUP:05F5		       call    std_eprintf
TRANGROUP:05F8		       mov     dx, offset PAUSEMES_PTR
TRANGROUP:05FB		       call    std_eprintf
TRANGROUP:05FE		       call    GETKEYSTROKE
TRANGROUP:0601		       pop     ds
TRANGROUP:0602		       assume ds:nothing
TRANGROUP:0602		       jmp     short PROMPTBAT
TRANGROUP:0602 PROMPTBAT       endp
TRANGROUP:0602
TRANGROUP:0604
TRANGROUP:0604 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:0604
TRANGROUP:0604
TRANGROUP:0604 output_batch_name proc near	       ; ...
TRANGROUP:0604		       push    ds
TRANGROUP:0605		       mov     ds, ds:Batch
TRANGROUP:0609		       mov     si, 20h	       ; BATCHSEGMENT.BatFile
TRANGROUP:060C		       call    dstrlen
TRANGROUP:060F		       mov     di, offset BWDBUF
TRANGROUP:0612		       rep movsb
TRANGROUP:0614		       push    cs
TRANGROUP:0615		       pop     ds
TRANGROUP:0616		       assume ds:TRANGROUP
TRANGROUP:0616		       mov     extend_buf_ptr, dx
TRANGROUP:061A		       mov     msg_disp_class, 1 ; ext_msg_class
TRANGROUP:061F		       mov     dx, offset extend_buf_ptr
TRANGROUP:0622		       mov     string_ptr_2, offset BWDBUF
TRANGROUP:0628		       mov     extend_buf_sub, 1 ; one_subst
TRANGROUP:062D		       pop     ds
TRANGROUP:062E		       assume ds:nothing
TRANGROUP:062E		       retn
TRANGROUP:062E output_batch_name endp
TRANGROUP:062E
TRANGROUP:062F
TRANGROUP:062F ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:062F
TRANGROUP:062F
TRANGROUP:062F GETKEYSTROKE    proc near	       ; ...
TRANGROUP:062F		       push    dx
TRANGROUP:0630		       mov     ax, 6302h       ; (ECS_call SHL 8) OR GetInterimMode
TRANGROUP:0633		       int     21h	       ; DOS - 3.2+ only - GET KOREAN (HONGEUL)	INPUT MODE
TRANGROUP:0635		       push    dx
TRANGROUP:0636		       mov     ax, 6301h       ; (ECS_call SHL 8) OR SetInterimMode
TRANGROUP:0639		       mov     dl, 1	       ; InterimMode
TRANGROUP:063B		       int     21h	       ; DOS - 3.2+ only - SET KOREAN (HONGEUL)	INPUT MODE
TRANGROUP:063B					       ; DL = new mode
TRANGROUP:063B					       ; 00h return only full characters on DOS	keyboard input functions
TRANGROUP:063B					       ; 01h return partially-formed characters	also
TRANGROUP:063D		       mov     ax, 0C08h
TRANGROUP:0640		       int     21h	       ; DOS - CLEAR KEYBOARD BUFFER
TRANGROUP:0640					       ; AL must be 01h, 06h, 07h, 08h,	or 0Ah.
TRANGROUP:0642		       mov     ax, 0C00h
TRANGROUP:0645		       int     21h	       ; DOS - CLEAR KEYBOARD BUFFER
TRANGROUP:0645					       ; AL must be 01h, 06h, 07h, 08h,	or 0Ah.
TRANGROUP:0647		       mov     ax, 6301h       ; (ECS_call SHL 8) OR SetInterimMode
TRANGROUP:064A		       pop     dx
TRANGROUP:064B		       int     21h	       ; DOS - 3.2+ only - SET KOREAN (HONGEUL)	INPUT MODE
TRANGROUP:064B					       ; DL = new mode
TRANGROUP:064B					       ; 00h return only full characters on DOS	keyboard input functions
TRANGROUP:064B					       ; 01h return partially-formed characters	also
TRANGROUP:064D		       pop     dx
TRANGROUP:064E		       retn
TRANGROUP:064E GETKEYSTROKE    endp
TRANGROUP:064E
TRANGROUP:064F
TRANGROUP:064F ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:064F
TRANGROUP:064F
TRANGROUP:064F READBAT	       proc near	       ; ...
TRANGROUP:064F		       mov     ds:Suppress, 1  ; YES_ECHO
TRANGROUP:0654		       test    ds:Batch_Abort, 0FFh
TRANGROUP:0659		       jnz     short TRYING_TO_ABORT
TRANGROUP:065B		       mov     ds:In_Batch, 1
TRANGROUP:0660		       push    ds
TRANGROUP:0661		       mov     ds, ds:Batch
TRANGROUP:0665		       cmp     byte ptr	ds:2, 0	; [BATCHSEGMENT.BatchEOF]
TRANGROUP:066A		       pop     ds
TRANGROUP:066B		       jz      short CONTBAT
TRANGROUP:066D		       call    GETBATBYT
TRANGROUP:0670		       mov     es:COMBUF+2, al
TRANGROUP:0674		       call    CRLF2
TRANGROUP:0677		       retn
TRANGROUP:0678 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0678
TRANGROUP:0678 CONTBAT:				       ; ...
TRANGROUP:0678		       call    PROMPTBAT
TRANGROUP:067B
TRANGROUP:067B TRYING_TO_ABORT:			       ; ...
TRANGROUP:067B		       mov     di, (offset COMBUF+2)
TRANGROUP:067E
TRANGROUP:067E TESTNOP:				       ; ...
TRANGROUP:067E		       mov     ax, ds
TRANGROUP:0680		       mov     ds, ds:Batch
TRANGROUP:0684		       push    word ptr	ds:8   ; [BATCHSEGMENT.BatSeek]
TRANGROUP:0688		       push    word ptr	ds:10  ; [BATCHSEGMENT.BatSeek+2]
TRANGROUP:068C		       mov     ds, ax
TRANGROUP:068E		       call    SKIPDELIM
TRANGROUP:0691		       cmp     al, ':'
TRANGROUP:0693		       pop     cx
TRANGROUP:0694		       pop     dx
TRANGROUP:0695		       jz      short NOPLINE
TRANGROUP:0697		       test    ds:Batch, 0FFFFh
TRANGROUP:069D		       jz      short RDBAT
TRANGROUP:069F		       cmp     al, '@'         ; No_Echo_Char
TRANGROUP:06A1		       jnz     short SET_BAT_POS
TRANGROUP:06A3		       mov     ds:Suppress, 0  ; NO_ECHO
TRANGROUP:06A8		       jmp     short RDBAT
TRANGROUP:06AA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:06AA
TRANGROUP:06AA SET_BAT_POS:			       ; ...
TRANGROUP:06AA		       push    ds
TRANGROUP:06AB		       mov     ds, ds:Batch
TRANGROUP:06AF		       mov     ds:8, dx
TRANGROUP:06B3		       mov     ds:10, cx
TRANGROUP:06B7		       pop     ds
TRANGROUP:06B8		       mov     ax, 4200h
TRANGROUP:06BB		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:06BB					       ; AL = method: offset from beginning of file
TRANGROUP:06BD		       mov     es:BATBUFPOS, 0FFFFh
TRANGROUP:06C4		       xor     cx, cx
TRANGROUP:06C6		       jmp     short RDBAT
TRANGROUP:06C8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:06C8
TRANGROUP:06C8 NOPLINE:				       ; ...
TRANGROUP:06C8		       call    SKIPTOEOL
TRANGROUP:06CB		       call    GETBATBYT
TRANGROUP:06CE		       test    ds:Batch, 0FFFFh
TRANGROUP:06D4		       jnz     short TESTNOP
TRANGROUP:06D6
TRANGROUP:06D6 READBAT_RETN:			       ; ...
TRANGROUP:06D6		       retn
TRANGROUP:06D7 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:06D7
TRANGROUP:06D7 RDBAT:				       ; ...
TRANGROUP:06D7		       call    GETBATBYT
TRANGROUP:06DA		       inc     cx
TRANGROUP:06DB		       call    testkanj
TRANGROUP:06DE		       jz      short RDBAT1
TRANGROUP:06E0		       cmp     cx, 127	       ; COMBUFLEN-1
TRANGROUP:06E3		       jnb     short TOOLONG
TRANGROUP:06E5		       stosb
TRANGROUP:06E6		       call    GETBATBYT
TRANGROUP:06E9		       inc     cx
TRANGROUP:06EA		       jmp     short SAVBATBYT
TRANGROUP:06EC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:06EC
TRANGROUP:06EC RDBAT1:				       ; ...
TRANGROUP:06EC		       cmp     cx, 128	       ; COMBUFLEN
TRANGROUP:06F0		       jnb     short TOOLONG
TRANGROUP:06F2		       cmp     al, '%'
TRANGROUP:06F4		       jz      short NEEDPARM
TRANGROUP:06F6
TRANGROUP:06F6 SAVBATBYT:			       ; ...
TRANGROUP:06F6		       stosb
TRANGROUP:06F7		       cmp     al, 0Dh
TRANGROUP:06F9		       jnz     short RDBAT
TRANGROUP:06FB
TRANGROUP:06FB FOUND_EOL:			       ; ...
TRANGROUP:06FB		       sub     di, (offset COMBUF+3)
TRANGROUP:06FF		       mov     ax, di
TRANGROUP:0701		       mov     es:COMBUF+1, al
TRANGROUP:0705		       call    GETBATBYT
TRANGROUP:0708		       call    BATCLOSE
TRANGROUP:070B		       cmp     ds:Suppress, 0  ; NO_ECHO
TRANGROUP:0710		       jz      short RESET
TRANGROUP:0712		       test    ds:EchoFlag, 1
TRANGROUP:0717		       jnz     short TRY_NEXTFLAG
TRANGROUP:0719
TRANGROUP:0719 RESET:				       ; ...
TRANGROUP:0719		       push    cs
TRANGROUP:071A		       pop     ds
TRANGROUP:071B		       assume ds:TRANGROUP
TRANGROUP:071B		       jz      short READBAT_RETN
TRANGROUP:071D
TRANGROUP:071D TRY_NEXTFLAG:			       ; ...
TRANGROUP:071D		       cmp     ds:NullFlag, 1
TRANGROUP:0722		       jz      short NO_CRLF_PRINT
TRANGROUP:0724		       call    CRLF2
TRANGROUP:0727
TRANGROUP:0727 NO_CRLF_PRINT:			       ; ...
TRANGROUP:0727		       call    PRINT_PROMPT
TRANGROUP:072A		       push    cs
TRANGROUP:072B		       pop     ds
TRANGROUP:072C		       mov     dx, (offset COMBUF+2)
TRANGROUP:072F		       call    CRPRINT
TRANGROUP:0732		       call    CRLF2
TRANGROUP:0735		       retn
TRANGROUP:0736 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0736
TRANGROUP:0736 TOOLONG:				       ; ...
TRANGROUP:0736		       cmp     al, 0Dh
TRANGROUP:0738		       jz      short LTLCONT
TRANGROUP:073A		       call    SKIPTOEOL
TRANGROUP:073D
TRANGROUP:073D LTLCONT:				       ; ...
TRANGROUP:073D		       stosb
TRANGROUP:073E		       jmp     short FOUND_EOL
TRANGROUP:0740 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0740
TRANGROUP:0740 NEEDPARM:			       ; ...
TRANGROUP:0740		       call    GETBATBYT
TRANGROUP:0743		       cmp     al, '%'
TRANGROUP:0745		       jz      short SAVBATBYT
TRANGROUP:0747		       cmp     al, 0Dh
TRANGROUP:0749		       jz      short SAVBATBYT
TRANGROUP:074B
TRANGROUP:074B PAROK:
TRANGROUP:074B		       sub     al, '0'
TRANGROUP:074D		       jb      short NEEDENV
TRANGROUP:074F		       cmp     al, 9
TRANGROUP:0751		       ja      short NEEDENV
TRANGROUP:0753		       cbw
TRANGROUP:0754		       mov     bx, ax
TRANGROUP:0756		       shl     bx, 1
TRANGROUP:0758		       push    es
TRANGROUP:0759		       mov     es, ds:Batch
TRANGROUP:075D		       mov     si, es:[bx+0Ch] ; [es:bx+BATCHSEGMENT.BatParm]
TRANGROUP:0761		       pop     es
TRANGROUP:0762		       cmp     si, 0FFFFh      ; -1
TRANGROUP:0765		       jnz     short YES_THERE_IS
TRANGROUP:0767		       jmp     RDBAT
TRANGROUP:076A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:076A
TRANGROUP:076A YES_THERE_IS:			       ; ...
TRANGROUP:076A		       push    ds
TRANGROUP:076B		       mov     ds, ds:Batch
TRANGROUP:076F		       assume ds:nothing
TRANGROUP:076F		       dec     cx
TRANGROUP:0770
TRANGROUP:0770 COPYPARM:			       ; ...
TRANGROUP:0770		       lodsb
TRANGROUP:0771		       cmp     al, 0Dh
TRANGROUP:0773		       jz      short ENDPARAM
TRANGROUP:0775		       inc     cx
TRANGROUP:0776		       cmp     cx, 128	       ; COMBUFLEN
TRANGROUP:077A		       jnb     short LINETOOL
TRANGROUP:077C		       stosb
TRANGROUP:077D		       jmp     short COPYPARM
TRANGROUP:077F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:077F
TRANGROUP:077F LINETOOL:			       ; ...
TRANGROUP:077F		       xor     al, al
TRANGROUP:0781		       pop     ds
TRANGROUP:0782		       jmp     short TOOLONG
TRANGROUP:0784 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0784
TRANGROUP:0784 ENDPARAM:			       ; ...
TRANGROUP:0784		       pop     ds
TRANGROUP:0785		       jmp     RDBAT
TRANGROUP:0788 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0788
TRANGROUP:0788 NEEDENV:				       ; ...
TRANGROUP:0788		       dec     cx
TRANGROUP:0789		       push    ds
TRANGROUP:078A		       push    di
TRANGROUP:078B		       mov     di, offset ID
TRANGROUP:078E		       add     al, '0'
TRANGROUP:0790		       stosb
TRANGROUP:0791
TRANGROUP:0791 GETENV1:				       ; ...
TRANGROUP:0791		       call    GETBATBYT
TRANGROUP:0794		       stosb
TRANGROUP:0795		       cmp     al, 0Dh
TRANGROUP:0797		       jnz     short GETENV15
TRANGROUP:0799		       mov     byte ptr	es:[di-1], 0
TRANGROUP:079E		       mov     si, offset ID
TRANGROUP:07A1		       pop     di
TRANGROUP:07A2		       push    cs
TRANGROUP:07A3		       pop     ds
TRANGROUP:07A4		       assume ds:TRANGROUP
TRANGROUP:07A4		       call    STRCPY
TRANGROUP:07A7		       jb      short LINETOOL
TRANGROUP:07A9		       pop     ds
TRANGROUP:07AA		       assume ds:nothing
TRANGROUP:07AA		       jmp     SAVBATBYT
TRANGROUP:07AD ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:07AD
TRANGROUP:07AD GETENV15:			       ; ...
TRANGROUP:07AD		       cmp     al, '%'
TRANGROUP:07AF		       jnz     short GETENV1
TRANGROUP:07B1		       mov     al, '='
TRANGROUP:07B3		       mov     es:[di-1], al
TRANGROUP:07B7		       mov     si, offset ID
TRANGROUP:07BA		       push    cs
TRANGROUP:07BB		       pop     ds
TRANGROUP:07BC		       assume ds:TRANGROUP
TRANGROUP:07BC		       push    cx
TRANGROUP:07BD		       call    find_name_in_environment
TRANGROUP:07C0		       pop     cx
TRANGROUP:07C1		       push    es
TRANGROUP:07C2		       pop     ds
TRANGROUP:07C3		       assume ds:nothing
TRANGROUP:07C3		       push    cs
TRANGROUP:07C4		       pop     es
TRANGROUP:07C5		       assume es:TRANGROUP
TRANGROUP:07C5		       mov     si, di
TRANGROUP:07C7		       pop     di
TRANGROUP:07C8		       jb      short GETENV6
TRANGROUP:07CA		       call    STRCPY
TRANGROUP:07CD
TRANGROUP:07CD GETENV6:				       ; ...
TRANGROUP:07CD		       pop     ds
TRANGROUP:07CE		       jmp     RDBAT
TRANGROUP:07CE READBAT	       endp
TRANGROUP:07CE
TRANGROUP:07D1
TRANGROUP:07D1 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:07D1
TRANGROUP:07D1
TRANGROUP:07D1 SKIPTOEOL       proc near	       ; ...
TRANGROUP:07D1		       test    ds:Batch, 0FFFFh
TRANGROUP:07D7		       jnz     short SKIPTOEOL1
TRANGROUP:07D9		       retn
TRANGROUP:07DA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:07DA
TRANGROUP:07DA SKIPTOEOL1:			       ; ...
TRANGROUP:07DA		       call    GETBATBYT
TRANGROUP:07DD		       cmp     al, 0Dh
TRANGROUP:07DF		       jnz     short SKIPTOEOL
TRANGROUP:07E1		       retn
TRANGROUP:07E1 SKIPTOEOL       endp
TRANGROUP:07E1
TRANGROUP:07E2
TRANGROUP:07E2 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:07E2
TRANGROUP:07E2
TRANGROUP:07E2 FREE_TPA	       proc near	       ; ...
TRANGROUP:07E2		       push    es
TRANGROUP:07E3		       mov     es, ds:RESSEG
TRANGROUP:07E7		       assume es:nothing
TRANGROUP:07E7		       mov     es, es:Res_Tpa
TRANGROUP:07EC		       mov     ah, 49h
TRANGROUP:07EE		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:07EE					       ; ES = segment address of area to be freed
TRANGROUP:07F0		       pop     es
TRANGROUP:07F1		       retn
TRANGROUP:07F1 FREE_TPA	       endp
TRANGROUP:07F1
TRANGROUP:07F2
TRANGROUP:07F2 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:07F2
TRANGROUP:07F2
TRANGROUP:07F2 ALLOC_TPA       proc near	       ; ...
TRANGROUP:07F2		       push    es
TRANGROUP:07F3		       mov     es, ds:RESSEG
TRANGROUP:07F7		       mov     bx, 0FFFFh
TRANGROUP:07FA		       mov     ah, 48h
TRANGROUP:07FC		       int     21h	       ; DOS - 2+ - ALLOCATE MEMORY
TRANGROUP:07FC					       ; BX = number of	16-byte	paragraphs desired
TRANGROUP:07FE		       push    bx
TRANGROUP:07FF		       mov     ah, 48h
TRANGROUP:0801		       int     21h	       ; DOS - 2+ - ALLOCATE MEMORY
TRANGROUP:0801					       ; BX = number of	16-byte	paragraphs desired
TRANGROUP:0803		       pop     bx
TRANGROUP:0804		       mov     es:Res_Tpa, ax
TRANGROUP:0808		       mov     ds:TRAN_TPA, ax
TRANGROUP:080B		       mov     dx, ax
TRANGROUP:080D		       and     ax, 0FFFh
TRANGROUP:0810		       jnz     short CALC_TPA
TRANGROUP:0812		       mov     ax, dx
TRANGROUP:0814		       and     ax, 0F000h
TRANGROUP:0817		       jnz     short NOROUND
TRANGROUP:0819
TRANGROUP:0819 CALC_TPA:			       ; ...
TRANGROUP:0819		       mov     ax, dx
TRANGROUP:081B		       and     ax, 0F000h
TRANGROUP:081E		       add     ax, 1000h
TRANGROUP:0821		       jb      short NOROUND
TRANGROUP:0823		       mov     dx, es:Res_Tpa
TRANGROUP:0828		       add     dx, bx
TRANGROUP:082A		       cmp     dx, ax
TRANGROUP:082C		       jb      short NOROUND
TRANGROUP:082E		       mov     bx, cs
TRANGROUP:0830		       cmp     bx, ax
TRANGROUP:0832		       jb      short NOROUND
TRANGROUP:0834		       sub     bx, ax
TRANGROUP:0836		       cmp     bx, 1000h
TRANGROUP:083A		       jnb     short ROUNDDONE
TRANGROUP:083C
TRANGROUP:083C NOROUND:				       ; ...
TRANGROUP:083C		       mov     ax, es:Res_Tpa
TRANGROUP:0840
TRANGROUP:0840 ROUNDDONE:			       ; ...
TRANGROUP:0840		       mov     es:LTpa,	ax
TRANGROUP:0844		       mov     ds:TPA, ax
TRANGROUP:0847		       mov     bx, ax
TRANGROUP:0849		       mov     ax, cs
TRANGROUP:084B		       sub     ax, bx
TRANGROUP:084D		       push    bx
TRANGROUP:084E		       mov     bx, 16
TRANGROUP:0851		       mul     bx
TRANGROUP:0853		       pop     bx
TRANGROUP:0854		       or      dx, dx
TRANGROUP:0856		       jz      short SAVSIZ2
TRANGROUP:0858		       mov     ax, 0FFFFh
TRANGROUP:085B
TRANGROUP:085B SAVSIZ2:				       ; ...
TRANGROUP:085B		       cmp     ax, 512
TRANGROUP:085E		       jbe     short GOTSIZE2
TRANGROUP:0860		       and     ax, 0FE00h      ; NOT 511 = NOT 1FFh
TRANGROUP:0863
TRANGROUP:0863 GOTSIZE2:			       ; ...
TRANGROUP:0863		       mov     ds:BYTCNT, ax
TRANGROUP:0866		       pop     es
TRANGROUP:0867		       retn
TRANGROUP:0867 ALLOC_TPA       endp
TRANGROUP:0867
TRANGROUP:0868 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0868 ; START OF FUNCTION CHUNK FOR _$IF
TRANGROUP:0868
TRANGROUP:0868 BATCOM:				       ; ...
TRANGROUP:0868		       mov     es, ds:RESSEG
TRANGROUP:086C		       cmp     es:Call_Batch_Flag, 1
TRANGROUP:0872		       jz      short skip_ioset
TRANGROUP:0874		       call    IOSET
TRANGROUP:0877
TRANGROUP:0877 skip_ioset:			       ; ...
TRANGROUP:0877		       call    FREE_TPA
TRANGROUP:087A		       cmp     es:Call_Batch_Flag, 1 ; call_in_progress
TRANGROUP:0880		       jz      short GETECHO
TRANGROUP:0882		       call    FOROFF
TRANGROUP:0885
TRANGROUP:0885 GETECHO:				       ; ...
TRANGROUP:0885		       call    PipeOff
TRANGROUP:0888		       mov     al, es:EchoFlag
TRANGROUP:088C		       and     al, 1
TRANGROUP:088E		       push    ax
TRANGROUP:088F		       xor     ax, ax
TRANGROUP:0891		       test    es:Batch, 0FFFFh
TRANGROUP:0898		       jz      short LEAVEBAT
TRANGROUP:089A		       mov     ax, es:Batch
TRANGROUP:089E		       cmp     es:Call_Batch_Flag, 1 ; call_in_progress
TRANGROUP:08A4		       jz      short LEAVEBAT
TRANGROUP:08A6		       push    es
TRANGROUP:08A7		       mov     es, ax
TRANGROUP:08A9		       mov     ax, es:3	       ; [es:BATCHSEGMENT.BatLast]
TRANGROUP:08AD		       pop     es
TRANGROUP:08AE
TRANGROUP:08AE LEAVEBAT:			       ; ...
TRANGROUP:08AE		       push    ax
TRANGROUP:08AF		       cmp     es:Call_Batch_Flag, 1
TRANGROUP:08B5		       jz      short STARTBAT
TRANGROUP:08B7		       call    BATCHOFF
TRANGROUP:08BA
TRANGROUP:08BA STARTBAT:			       ; ...
TRANGROUP:08BA		       mov     es:Call_Batch_Flag, 0
TRANGROUP:08C0		       mov     si, offset EXECPATH
TRANGROUP:08C3		       mov     ax, 0B711h      ; AppendTruename
TRANGROUP:08C6		       int     2Fh	       ; - Multiplex - DOS 4.0 APPEND -	SET RETURN FOUND NAME STATE
TRANGROUP:08C8		       mov     ah, 4Eh
TRANGROUP:08CA		       mov     dx, si
TRANGROUP:08CC		       mov     cx, 13h
TRANGROUP:08CF		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:08CF					       ; CX = search attributes
TRANGROUP:08CF					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:08CF					       ; (drive, path, and wildcards allowed)
TRANGROUP:08D1		       call    dstrlen
TRANGROUP:08D4		       mov     bx, cx
TRANGROUP:08D6		       add     bx, 191	       ; 15+BATCHSEGMENT.SIZE+COMBUFLEN+15
TRANGROUP:08DA		       push    cx
TRANGROUP:08DB		       mov     cl, 4
TRANGROUP:08DD		       shr     bx, cl
TRANGROUP:08DF		       push    bx
TRANGROUP:08E0		       mov     ah, 48h
TRANGROUP:08E2		       int     21h	       ; DOS - 2+ - ALLOCATE MEMORY
TRANGROUP:08E2					       ; BX = number of	16-byte	paragraphs desired
TRANGROUP:08E4		       pop     bx
TRANGROUP:08E5		       jb      short MEM_ERROR
TRANGROUP:08E7		       push    ax
TRANGROUP:08E8		       add     ax, bx
TRANGROUP:08EA		       add     ax, 20h
TRANGROUP:08ED		       mov     bx, cs
TRANGROUP:08EF		       mov     dx, 0AF95h      ; mov dx,offset TRANGROUP:TranSpaceEnd
TRANGROUP:08F2		       add     dx, 15
TRANGROUP:08F5		       shr     dx, cl
TRANGROUP:08F7		       add     dx, bx
TRANGROUP:08F9		       cmp     ax, bx
TRANGROUP:08FB		       jb      short ENOUGH_MEM
TRANGROUP:08FD		       cmp     ax, dx
TRANGROUP:08FF		       ja      short ENOUGH_MEM
TRANGROUP:0901		       pop     ax
TRANGROUP:0902		       push    es
TRANGROUP:0903		       mov     es, ax
TRANGROUP:0905		       mov     ax, 4900h
TRANGROUP:0908		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:0908					       ; ES = segment address of area to be freed
TRANGROUP:090A		       pop     es
TRANGROUP:090B
TRANGROUP:090B MEM_ERROR:			       ; ...
TRANGROUP:090B		       jmp     NO_MEMORY
TRANGROUP:090E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:090E
TRANGROUP:090E ENOUGH_MEM:			       ; ...
TRANGROUP:090E		       pop     ax
TRANGROUP:090F		       mov     es:Batch, ax
TRANGROUP:0913		       call    ALLOC_TPA
TRANGROUP:0916		       pop     dx
TRANGROUP:0917		       pop     ax
TRANGROUP:0918		       inc     es:Nest
TRANGROUP:091D		       push    es
TRANGROUP:091E		       mov     es, es:Batch
TRANGROUP:0923		       mov     byte ptr	es:0, 0	; [es:BATCHSEGMENT.BatType]
TRANGROUP:0929		       mov     es:3, ax	       ; [es:BATCHSEGMENT.BatLast]
TRANGROUP:092D		       push    ds
TRANGROUP:092E		       mov     ds, ds:RESSEG
TRANGROUP:0932		       xor     ax, ax
TRANGROUP:0934		       mov     bl, ds:ForFlag
TRANGROUP:0938		       mov     es:7, bl	       ; [es:BATCHSEGMENT.BatForFlag]
TRANGROUP:093D		       test    bl, 0FFh
TRANGROUP:0940		       jz      short FOR_NOT_ON
TRANGROUP:0942		       mov     ax, ds:ForPtr
TRANGROUP:0945		       mov     ds:ForFlag, 0
TRANGROUP:094A
TRANGROUP:094A FOR_NOT_ON:			       ; ...
TRANGROUP:094A		       mov     es:5, ax	       ; [es:BATCHSEGMENT.BatForPtr]
TRANGROUP:094E		       xor     ax, ax
TRANGROUP:0950		       mov     ds:ForPtr, ax
TRANGROUP:0953		       mov     bl, ds:EchoFlag
TRANGROUP:0957		       pop     ds
TRANGROUP:0958		       mov     es:1, bl	       ; [es:BATCHSEGMENT.BatEchoFlag]
TRANGROUP:095D		       mov     byte ptr	es:2, 0	; [es:BATCHSEGMENT.BatchEOF]
TRANGROUP:0963		       mov     es:8, ax	       ; [es:BATCHSEGMENT.BatSeek]
TRANGROUP:0967		       mov     es:0Ah, ax      ; [es:BATCHSEGMENT.BatSeek+2]
TRANGROUP:096B		       dec     ax
TRANGROUP:096C		       mov     di, 0Ch	       ; BATCHSEGMENT.BatParm
TRANGROUP:096F		       mov     bx, di
TRANGROUP:0971		       mov     cx, 10
TRANGROUP:0974		       rep stosw
TRANGROUP:0976		       mov     cx, dx
TRANGROUP:0978		       rep movsb
TRANGROUP:097A		       mov     si, (offset COMBUF+2)
TRANGROUP:097D		       mov     cx, 10
TRANGROUP:0980
TRANGROUP:0980 EACHPARM:			       ; ...
TRANGROUP:0980		       call    scanoff
TRANGROUP:0983		       cmp     al, 0Dh
TRANGROUP:0985		       jz      short HAVPARM
TRANGROUP:0987		       jcxz    short MOVPARM
TRANGROUP:0989		       mov     es:[bx],	di
TRANGROUP:098C		       add     bx, 2
TRANGROUP:098F
TRANGROUP:098F MOVPARM:				       ; ...
TRANGROUP:098F		       lodsb
TRANGROUP:0990		       call    DELIM
TRANGROUP:0993		       jz      short ENDPARM
TRANGROUP:0995		       stosb
TRANGROUP:0996		       cmp     al, 0Dh
TRANGROUP:0998		       jz      short HAVPARM
TRANGROUP:099A		       jmp     short MOVPARM
TRANGROUP:099C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:099C
TRANGROUP:099C ENDPARM:				       ; ...
TRANGROUP:099C		       mov     al, 0Dh
TRANGROUP:099E		       stosb
TRANGROUP:099F		       jcxz    short EACHPARM
TRANGROUP:09A1		       dec     cx
TRANGROUP:09A2		       jmp     short EACHPARM
TRANGROUP:09A4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:09A4
TRANGROUP:09A4 HAVPARM:				       ; ...
TRANGROUP:09A4		       xor     al, al
TRANGROUP:09A6		       stosb
TRANGROUP:09A7		       lea     bx, [di+0Fh]
TRANGROUP:09AA		       mov     cl, 4
TRANGROUP:09AC		       shr     bx, cl
TRANGROUP:09AE		       mov     ah, 4Ah
TRANGROUP:09B0		       int     21h	       ; DOS - 2+ - ADJUST MEMORY BLOCK	SIZE (SETBLOCK)
TRANGROUP:09B0					       ; ES = segment address of block to change
TRANGROUP:09B0					       ; BX = new size in paragraphs
TRANGROUP:09B2		       pop     es
TRANGROUP:09B3		       push    es
TRANGROUP:09B4		       pop     ds
TRANGROUP:09B5		       cmp     ds:SingleCom, 0FFFFh ; -1
TRANGROUP:09BA		       jnz     short NOBATSING
TRANGROUP:09BC		       mov     ds:SingleCom, 0FFF0h
TRANGROUP:09C2
TRANGROUP:09C2 NOBATSING:			       ; ...
TRANGROUP:09C2		       pop     ax
TRANGROUP:09C3		       mov     ds:EchoFlag, al
TRANGROUP:09C6		       jmp     TCOMMAND
TRANGROUP:09C9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:09C9
TRANGROUP:09C9 NO_MEMORY:			       ; ...
TRANGROUP:09C9		       pop     dx
TRANGROUP:09CA		       pop     ax
TRANGROUP:09CB		       pop     ax
TRANGROUP:09CC		       call    ALLOC_TPA
TRANGROUP:09CF		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:09D4		       mov     dx, offset extend_buf_ptr
TRANGROUP:09D7		       mov     ds:extend_buf_ptr, 8 ; ERROR_NOT_ENOUGH_MEMORY
TRANGROUP:09DD		       jmp     cerror
TRANGROUP:09DD ; END OF	FUNCTION CHUNK FOR _$IF
TRANGROUP:09E0
TRANGROUP:09E0 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:09E0
TRANGROUP:09E0
TRANGROUP:09E0 BATCHOFF	       proc near	       ; ...
TRANGROUP:09E0		       push    ax
TRANGROUP:09E1		       push    es
TRANGROUP:09E2		       push    ds
TRANGROUP:09E3		       push    bx
TRANGROUP:09E4		       mov     es, cs:RESSEG
TRANGROUP:09E9		       mov     ds, cs:RESSEG
TRANGROUP:09EE		       mov     ax, ds:Batch
TRANGROUP:09F1		       or      ax, ax
TRANGROUP:09F3		       jz      short NOTFREE
TRANGROUP:09F5		       push    es
TRANGROUP:09F6		       mov     es, ax
TRANGROUP:09F8		       test    ds:EchoFlag, 1
TRANGROUP:09FD		       jnz     short ECHO_LAST_LINE
TRANGROUP:09FF		       mov     ds:Suppress, 0  ; NO_ECHO
TRANGROUP:0A04
TRANGROUP:0A04 ECHO_LAST_LINE:			       ; ...
TRANGROUP:0A04		       mov     bl, es:1	       ; [es:BATCHSEGMENT.BatEchoFlag]
TRANGROUP:0A09		       mov     ds:EchoFlag, bl
TRANGROUP:0A0D		       mov     bx, es:5	       ; [es:BATCHSEGMENT.BatForPtr]
TRANGROUP:0A12		       mov     ds:ForPtr, bx
TRANGROUP:0A16		       mov     bl, es:7	       ; [es:BATCHSEGMENT.BatForFlag]
TRANGROUP:0A1B		       mov     ds:ForFlag, bl
TRANGROUP:0A1F		       mov     bx, es:3	       ; [es:BATCHSEGMENT.BatLast]
TRANGROUP:0A24		       mov     ah, 49h
TRANGROUP:0A26		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:0A26					       ; ES = segment address of area to be freed
TRANGROUP:0A28		       pop     es
TRANGROUP:0A29		       mov     ds:Next_Batch, bx
TRANGROUP:0A2D		       dec     es:Nest
TRANGROUP:0A32		       xor     ax, ax
TRANGROUP:0A34		       mov     ds:Batch, ax
TRANGROUP:0A37
TRANGROUP:0A37 NOTFREE:				       ; ...
TRANGROUP:0A37		       pop     bx
TRANGROUP:0A38		       pop     ds
TRANGROUP:0A39		       pop     es
TRANGROUP:0A3A		       pop     ax
TRANGROUP:0A3B		       retn
TRANGROUP:0A3B BATCHOFF	       endp
TRANGROUP:0A3B
TRANGROUP:0A3C
TRANGROUP:0A3C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:0A3C
TRANGROUP:0A3C
TRANGROUP:0A3C STRCPY	       proc near	       ; ...
TRANGROUP:0A3C		       push    ax
TRANGROUP:0A3D
TRANGROUP:0A3D ccycle:				       ; ...
TRANGROUP:0A3D		       lodsb
TRANGROUP:0A3E		       inc     cx
TRANGROUP:0A3F		       cmp     cx, 128	       ; COMBUFLEN
TRANGROUP:0A43		       jb      short ccopy
TRANGROUP:0A45		       stc
TRANGROUP:0A46		       jmp     short ccend
TRANGROUP:0A48 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0A48
TRANGROUP:0A48 ccopy:				       ; ...
TRANGROUP:0A48		       stosb
TRANGROUP:0A49		       or      al, al
TRANGROUP:0A4B		       jnz     short ccycle
TRANGROUP:0A4D
TRANGROUP:0A4D ccend:				       ; ...
TRANGROUP:0A4D		       dec     cx
TRANGROUP:0A4E		       dec     di
TRANGROUP:0A4F		       pop     ax
TRANGROUP:0A50		       retn
TRANGROUP:0A50 STRCPY	       endp
TRANGROUP:0A50
TRANGROUP:0A51
TRANGROUP:0A51 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:0A51
TRANGROUP:0A51
TRANGROUP:0A51 GETBATBYT       proc near	       ; ...
TRANGROUP:0A51		       push    bx
TRANGROUP:0A52		       push    cx
TRANGROUP:0A53		       push    ds
TRANGROUP:0A54		       test    ds:Batch_Abort, 0FFh
TRANGROUP:0A59		       jz      short getbatbyt1
TRANGROUP:0A5B		       jmp     BATEOF
TRANGROUP:0A5E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0A5E
TRANGROUP:0A5E getbatbyt1:			       ; ...
TRANGROUP:0A5E		       test    ds:Batch, 0FFFFh
TRANGROUP:0A64		       jnz     short getbatbyt2
TRANGROUP:0A66		       jmp     BATEOF
TRANGROUP:0A69 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0A69
TRANGROUP:0A69 getbatbyt2:			       ; ...
TRANGROUP:0A69		       push    es
TRANGROUP:0A6A		       mov     es, ds:Batch
TRANGROUP:0A6E		       cmp     byte ptr	es:2, 0	; [es:BATCHSEGMENT.BatchEOF]
TRANGROUP:0A74		       jz      short not_eof
TRANGROUP:0A76		       jmp     At_EOF
TRANGROUP:0A79 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0A79
TRANGROUP:0A79 not_eof:				       ; ...
TRANGROUP:0A79		       add     word ptr	es:8, 1	; [es:BATCHSEGMENT.BatSeek]
TRANGROUP:0A7F		       adc     word ptr	es:0Ah,	0 ; [es:BATCHSEGMENT.BatSeek+2]
TRANGROUP:0A85		       pop     es
TRANGROUP:0A86		       mov     ax, cs
TRANGROUP:0A88		       mov     ds, ax
TRANGROUP:0A8A		       assume ds:TRANGROUP
TRANGROUP:0A8A		       mov     bx, BATBUFPOS
TRANGROUP:0A8E		       cmp     bx, 0FFFFh
TRANGROUP:0A91		       jnz     short UNBUF
TRANGROUP:0A93		       mov     dx, offset BATBUF
TRANGROUP:0A96		       mov     cx, BATBUFLEN
TRANGROUP:0A9A		       mov     bx, BATHAND
TRANGROUP:0A9E		       mov     ah, 3Fh
TRANGROUP:0AA0		       int     21h	       ; DOS - 2+ - READ FROM FILE WITH	HANDLE
TRANGROUP:0AA0					       ; BX = file handle, CX =	number of bytes	to read
TRANGROUP:0AA0					       ; DS:DX -> buffer
TRANGROUP:0AA2		       jnb     short bat_read_ok
TRANGROUP:0AA4		       call    get_ext_error_number
TRANGROUP:0AA7		       push    ds
TRANGROUP:0AA8		       mov     ds, RESSEG
TRANGROUP:0AAC		       assume ds:nothing
TRANGROUP:0AAC		       mov     dx, ax
TRANGROUP:0AAE		       call    output_batch_name
TRANGROUP:0AB1		       pop     ds
TRANGROUP:0AB2		       call    std_eprintf
TRANGROUP:0AB5		       mov     ds:COMBUF+2, 0Dh	; END_OF_LINE_IN
TRANGROUP:0ABA		       mov     ds:COMBUF+3, 0  ; END_OF_LINE_OUT
TRANGROUP:0ABF		       mov     ds, ds:RESSEG
TRANGROUP:0AC3		       jmp     short BATEOF
TRANGROUP:0AC5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0AC5
TRANGROUP:0AC5 bat_read_ok:			       ; ...
TRANGROUP:0AC5		       mov     cx, ax
TRANGROUP:0AC7		       jcxz    short BATEOFDS
TRANGROUP:0AC9		       mov     ds:BATBUFEND, cx
TRANGROUP:0ACD		       xor     bx, bx
TRANGROUP:0ACF		       mov     ds:BATBUFPOS, bx
TRANGROUP:0AD3
TRANGROUP:0AD3 UNBUF:				       ; ...
TRANGROUP:0AD3		       mov     al, ds:BATBUF[bx]
TRANGROUP:0AD7		       inc     bx
TRANGROUP:0AD8		       cmp     bx, ds:BATBUFEND
TRANGROUP:0ADC		       jb      short SETBUFPOS
TRANGROUP:0ADE		       mov     bx, 0FFFFh      ; -1
TRANGROUP:0AE1
TRANGROUP:0AE1 SETBUFPOS:			       ; ...
TRANGROUP:0AE1		       mov     ds:BATBUFPOS, bx
TRANGROUP:0AE5		       cmp     al, 1Ah	       ; ^Z for	termination?
TRANGROUP:0AE7		       jnz     short GETBYTEDONE
TRANGROUP:0AE9
TRANGROUP:0AE9 BATEOFDS:			       ; ...
TRANGROUP:0AE9		       push    es
TRANGROUP:0AEA		       mov     es, ds:RESSEG
TRANGROUP:0AEE		       mov     es, es:Batch
TRANGROUP:0AF3		       cmp     byte ptr	es:2, 0
TRANGROUP:0AF9		       jnz     short crpresent
TRANGROUP:0AFB		       inc     byte ptr	es:2   ; [es:BATCHSEGMENT.BatchEOF]
TRANGROUP:0B00		       mov     bx, ds:BATBUFEND
TRANGROUP:0B04		       cmp     byte ptr	ds:(BATBUFPOS+1)[bx], 0Ah ;
TRANGROUP:0B04					       ; cmp byte [bx+BATBUF-1],0Ah
TRANGROUP:0B04					       ; was a LF present?
TRANGROUP:0B09		       jz      short crpresent
TRANGROUP:0B0B		       add     byte ptr	es:2, 3	; BatchEOF == 4	to fake	CR-LF
TRANGROUP:0B11
TRANGROUP:0B11 crpresent:			       ; ...
TRANGROUP:0B11		       mov     ds, ds:RESSEG
TRANGROUP:0B15
TRANGROUP:0B15 At_EOF:				       ; ...
TRANGROUP:0B15		       shr     byte ptr	es:2, 1	; decrement the	flag
TRANGROUP:0B1A		       jz      short turn_off  ; zero,turn batch off
TRANGROUP:0B1C		       cmp     byte ptr	es:2, 1
TRANGROUP:0B22		       jz      short ret_lf    ; BatchEOF was 2, return	LF
TRANGROUP:0B24		       mov     al, 0Dh	       ; BatchEOF == 4,
TRANGROUP:0B24					       ; indicates return fake CR now
TRANGROUP:0B24					       ; and fake LF next
TRANGROUP:0B26		       pop     es
TRANGROUP:0B27		       jmp     short GETBYTEDONE
TRANGROUP:0B29 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0B29
TRANGROUP:0B29 ret_lf:				       ; ...
TRANGROUP:0B29		       mov     al, 0Ah	       ; return	fake LF
TRANGROUP:0B2B		       pop     es
TRANGROUP:0B2C		       jmp     short GETBYTEDONE
TRANGROUP:0B2E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0B2E
TRANGROUP:0B2E turn_off:			       ; ...
TRANGROUP:0B2E		       pop     es
TRANGROUP:0B2F
TRANGROUP:0B2F BATEOF:				       ; ...
TRANGROUP:0B2F		       call    BATCHOFF
TRANGROUP:0B32		       call    BATCLOSE
TRANGROUP:0B35		       mov     al, 0Dh
TRANGROUP:0B37		       test    ds:Batch_Abort, 0FFh
TRANGROUP:0B3C		       mov     ds:Batch_Abort, 0
TRANGROUP:0B41		       jz      short CONT_GET_BYT
TRANGROUP:0B43		       mov     di, (offset COMBUF+2)
TRANGROUP:0B46		       xor     cx, cx
TRANGROUP:0B48		       jmp     short GETBYTEDONE
TRANGROUP:0B4A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0B4A
TRANGROUP:0B4A CONT_GET_BYT:			       ; ...
TRANGROUP:0B4A		       cmp     ds:SingleCom, 0FFF0h
TRANGROUP:0B4F		       jnz     short GETBYTEDONE
TRANGROUP:0B51		       cmp     ds:Nest,	0
TRANGROUP:0B56		       jnz     short GETBYTEDONE
TRANGROUP:0B58		       mov     ds:SingleCom, 0FFFFh ; -1
TRANGROUP:0B5E
TRANGROUP:0B5E GETBYTEDONE:			       ; ...
TRANGROUP:0B5E		       pop     ds
TRANGROUP:0B5F		       pop     cx
TRANGROUP:0B60		       pop     bx
TRANGROUP:0B61		       retn
TRANGROUP:0B61 GETBATBYT       endp
TRANGROUP:0B61
TRANGROUP:0B62 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0B62 ; START OF FUNCTION CHUNK FOR _$IF
TRANGROUP:0B62
TRANGROUP:0B62 IFERRORP:			       ; ...
TRANGROUP:0B62		       pop     ax
TRANGROUP:0B63
TRANGROUP:0B63 IFFORERROR:			       ; ...
TRANGROUP:0B63		       mov     dx, offset SYNTMES_PTR
TRANGROUP:0B66		       jmp     cerror
TRANGROUP:0B66 ; END OF	FUNCTION CHUNK FOR _$IF
TRANGROUP:0B69
TRANGROUP:0B69 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:0B69
TRANGROUP:0B69
TRANGROUP:0B69 _$IF	       proc far		       ; ...
TRANGROUP:0B69
TRANGROUP:0B69 ; FUNCTION CHUNK	AT TRANGROUP:0100 SIZE 00000336	BYTES
TRANGROUP:0B69 ; FUNCTION CHUNK	AT TRANGROUP:054E SIZE 0000006E	BYTES
TRANGROUP:0B69 ; FUNCTION CHUNK	AT TRANGROUP:0868 SIZE 00000178	BYTES
TRANGROUP:0B69 ; FUNCTION CHUNK	AT TRANGROUP:0B62 SIZE 00000007	BYTES
TRANGROUP:0B69 ; FUNCTION CHUNK	AT TRANGROUP:0ED1 SIZE 00000124	BYTES
TRANGROUP:0B69 ; FUNCTION CHUNK	AT TRANGROUP:2E45 SIZE 000000F5	BYTES
TRANGROUP:0B69 ; FUNCTION CHUNK	AT TRANGROUP:2F50 SIZE 000000A5	BYTES
TRANGROUP:0B69 ; FUNCTION CHUNK	AT TRANGROUP:33CF SIZE 0000016D	BYTES
TRANGROUP:0B69
TRANGROUP:0B69		       push    ds
TRANGROUP:0B6A		       mov     ds, ds:RESSEG
TRANGROUP:0B6E		       cmp     ds:PipeFiles, 0
TRANGROUP:0B73		       jz      short IFNoPipe
TRANGROUP:0B75		       call    PIPEDEL
TRANGROUP:0B78
TRANGROUP:0B78 IFNoPipe:			       ; ...
TRANGROUP:0B78		       pop     ds
TRANGROUP:0B79		       mov     ds:IFNOTFLAG, 0
TRANGROUP:0B7E		       mov     ds:IF_NOT_COUNT,	0
TRANGROUP:0B84		       mov     si, 81h
TRANGROUP:0B87
TRANGROUP:0B87 IFREENT:				       ; ...
TRANGROUP:0B87		       call    scanoff
TRANGROUP:0B8A		       cmp     al, 0Dh
TRANGROUP:0B8C		       jz      short IFFORERROR
TRANGROUP:0B8E		       mov     bp, si
TRANGROUP:0B90		       mov     di, offset IFTAB
TRANGROUP:0B93		       mov     ch, 0
TRANGROUP:0B95
TRANGROUP:0B95 IFINDCOM:			       ; ...
TRANGROUP:0B95		       mov     si, bp
TRANGROUP:0B97		       mov     cl, [di]
TRANGROUP:0B99		       inc     di
TRANGROUP:0B9A		       jcxz    short IFSTRING
TRANGROUP:0B9C		       jmp     short FIRSTCOMP
TRANGROUP:0B9E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0B9E
TRANGROUP:0B9E IFCOMP:				       ; ...
TRANGROUP:0B9E		       jnz     short IF_DIF
TRANGROUP:0BA0
TRANGROUP:0BA0 FIRSTCOMP:			       ; ...
TRANGROUP:0BA0		       lodsb
TRANGROUP:0BA1		       mov     ah, es:[di]
TRANGROUP:0BA4		       inc     di
TRANGROUP:0BA5		       cmp     al, ah
TRANGROUP:0BA7		       jz      short IFLP
TRANGROUP:0BA9		       or      ah, 20h	       ; Try lower case
TRANGROUP:0BAC		       cmp     al, ah
TRANGROUP:0BAE
TRANGROUP:0BAE IFLP:				       ; ...
TRANGROUP:0BAE		       loop    IFCOMP
TRANGROUP:0BB0
TRANGROUP:0BB0 IF_DIF:				       ; ...
TRANGROUP:0BB0		       lahf
TRANGROUP:0BB1		       add     di, cx
TRANGROUP:0BB3		       mov     bx, [di]
TRANGROUP:0BB5		       inc     di
TRANGROUP:0BB6		       inc     di
TRANGROUP:0BB7		       sahf
TRANGROUP:0BB8		       jnz     short IFINDCOM
TRANGROUP:0BBA		       lodsb
TRANGROUP:0BBB		       cmp     al, 0Dh
TRANGROUP:0BBD
TRANGROUP:0BBD IFERRJ:				       ; ...
TRANGROUP:0BBD		       jz      short IFFORERROR
TRANGROUP:0BBF		       call    DELIM
TRANGROUP:0BC2		       jnz     short IFINDCOM
TRANGROUP:0BC4		       call    scanoff
TRANGROUP:0BC7		       jmp     bx
TRANGROUP:0BC9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0BC9
TRANGROUP:0BC9 IFNOT:				       ; ...
TRANGROUP:0BC9		       not     ds:IFNOTFLAG
TRANGROUP:0BCD		       inc     ds:IF_NOT_COUNT
TRANGROUP:0BD1		       jmp     short IFREENT
TRANGROUP:0BD3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0BD3
TRANGROUP:0BD3 IFSTRING:			       ; ...
TRANGROUP:0BD3		       push    si
TRANGROUP:0BD4		       xor     cx, cx
TRANGROUP:0BD6
TRANGROUP:0BD6 FIRST_STRING:			       ; ...
TRANGROUP:0BD6		       lodsb
TRANGROUP:0BD7		       cmp     al, 0Dh
TRANGROUP:0BD9		       jz      short IFERRORP
TRANGROUP:0BDB		       call    DELIM
TRANGROUP:0BDE		       jz      short EQUAL_CHECK
TRANGROUP:0BE0		       inc     cx
TRANGROUP:0BE1		       jmp     short FIRST_STRING
TRANGROUP:0BE3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0BE3
TRANGROUP:0BE3 EQUAL_CHECK:			       ; ...
TRANGROUP:0BE3		       cmp     al, '='
TRANGROUP:0BE5		       jz      short EQUAL_CHECK2
TRANGROUP:0BE7		       cmp     al, 0Dh
TRANGROUP:0BE9		       jz      short IFERRPJ
TRANGROUP:0BEB		       lodsb
TRANGROUP:0BEC		       jmp     short EQUAL_CHECK
TRANGROUP:0BEE ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0BEE
TRANGROUP:0BEE EQUAL_CHECK2:			       ; ...
TRANGROUP:0BEE		       lodsb
TRANGROUP:0BEF		       cmp     al, '='
TRANGROUP:0BF1		       jnz     short IFERRPJ
TRANGROUP:0BF3		       call    scanoff
TRANGROUP:0BF6		       cmp     al, 0Dh
TRANGROUP:0BF8		       jz      short IFERRPJ
TRANGROUP:0BFA		       pop     di
TRANGROUP:0BFB		       repe cmpsb
TRANGROUP:0BFD		       jz      short MATCH
TRANGROUP:0BFF		       dec     si
TRANGROUP:0C00		       cmp     byte ptr	[si], 0Dh
TRANGROUP:0C03		       jz      short IFERRJ
TRANGROUP:0C05
TRANGROUP:0C05 SKIPSTRINGEND:			       ; ...
TRANGROUP:0C05		       lodsb
TRANGROUP:0C06
TRANGROUP:0C06 NOTMATCH:			       ; ...
TRANGROUP:0C06		       cmp     al, 0Dh
TRANGROUP:0C08
TRANGROUP:0C08 IFERRORJ2:			       ; ...
TRANGROUP:0C08		       jz      short IFERRJ
TRANGROUP:0C0A		       call    DELIM
TRANGROUP:0C0D		       jnz     short SKIPSTRINGEND
TRANGROUP:0C0F		       mov     al, 0FFh	       ; -1
TRANGROUP:0C11		       jmp     short IFRET
TRANGROUP:0C13 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0C13
TRANGROUP:0C13 IFERRPJ:				       ; ...
TRANGROUP:0C13		       jmp     IFERRORP
TRANGROUP:0C16 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0C16
TRANGROUP:0C16 MATCH:				       ; ...
TRANGROUP:0C16		       lodsb
TRANGROUP:0C17		       call    DELIM
TRANGROUP:0C1A		       jnz     short NOTMATCH
TRANGROUP:0C1C		       xor     al, al
TRANGROUP:0C1E		       jmp     short IFRET
TRANGROUP:0C20 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0C20
TRANGROUP:0C20 IFEXISTS:			       ; ...
TRANGROUP:0C20		       lodsb
TRANGROUP:0C21		       call    DELIM
TRANGROUP:0C24		       jnz     short IFEXISTS
TRANGROUP:0C26		       mov     dx, offset BWDBUF ; DIRBUF
TRANGROUP:0C29		       mov     ax, 1A00h
TRANGROUP:0C2C		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:0C2C					       ; DS:DX -> disk transfer	buffer
TRANGROUP:0C2E		       mov     bx, 2
TRANGROUP:0C31		       add     bx, ds:IF_NOT_COUNT
TRANGROUP:0C35		       mov     ax, offset ARG_ARGV ; mov ax,ARG
TRANGROUP:0C35					       ; (mov ax,ARG+ARG_UNIT.argv)
TRANGROUP:0C38		       call    argv_calc
TRANGROUP:0C3B		       mov     dx, [bx]	       ; [bx+ARGV_ELE.argpointer]
TRANGROUP:0C3B					       ; mov dx,[bx+0]
TRANGROUP:0C3D		       mov     cx, 6	       ; IFEXIST_ATTR ;	filetypes to search for
TRANGROUP:0C40		       mov     ax, 4E00h
TRANGROUP:0C43		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:0C43					       ; CX = search attributes
TRANGROUP:0C43					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:0C43					       ; (drive, path, and wildcards allowed)
TRANGROUP:0C45		       jb      short IF_EX_C
TRANGROUP:0C47		       xor     al, al
TRANGROUP:0C49		       jmp     short IFRET
TRANGROUP:0C4B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0C4B
TRANGROUP:0C4B IF_EX_C:				       ; ...
TRANGROUP:0C4B		       mov     al, 0FFh	       ; -1
TRANGROUP:0C4D
TRANGROUP:0C4D IFRET:				       ; ...
TRANGROUP:0C4D		       test    ds:IFNOTFLAG, 0FFh
TRANGROUP:0C52		       jz      short REALTEST
TRANGROUP:0C54		       not     al
TRANGROUP:0C56
TRANGROUP:0C56 REALTEST:			       ; ...
TRANGROUP:0C56		       or      al, al
TRANGROUP:0C58		       jz      short IFTRUE
TRANGROUP:0C5A		       jmp     TCOMMAND
TRANGROUP:0C5D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0C5D
TRANGROUP:0C5D IFTRUE:				       ; ...
TRANGROUP:0C5D		       call    scanoff
TRANGROUP:0C60		       mov     cx, si
TRANGROUP:0C62		       sub     cx, 81h
TRANGROUP:0C66		       sub     ds:80h, cl
TRANGROUP:0C6A		       mov     cl, ds:80h
TRANGROUP:0C6E		       mov     ds:COMBUF+1, cl
TRANGROUP:0C72		       mov     di, (offset COMBUF+2)
TRANGROUP:0C75		       cld
TRANGROUP:0C76		       rep movsb
TRANGROUP:0C78		       mov     al, 0Dh
TRANGROUP:0C7A		       stosb
TRANGROUP:0C7B		       push    ds
TRANGROUP:0C7C		       mov     ds, ds:RESSEG
TRANGROUP:0C80		       mov     ds:IfFlag, 0FFh ; -1
TRANGROUP:0C85		       pop     ds
TRANGROUP:0C86		       jmp     DOCOM0
TRANGROUP:0C86 _$IF	       endp
TRANGROUP:0C86
TRANGROUP:0C89 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0C89
TRANGROUP:0C89 IFERRORJ3:			       ; ...
TRANGROUP:0C89		       jmp     IFERRORJ2
TRANGROUP:0C8C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0C8C
TRANGROUP:0C8C IFERLEV:				       ; ...
TRANGROUP:0C8C		       mov     bh, 10
TRANGROUP:0C8E		       xor     bl, bl
TRANGROUP:0C90
TRANGROUP:0C90 GETNUMLP:			       ; ...
TRANGROUP:0C90		       lodsb
TRANGROUP:0C91		       cmp     al, 0Dh
TRANGROUP:0C93		       jz      short IFERRORJ3
TRANGROUP:0C95		       call    DELIM
TRANGROUP:0C98		       jz      short GOTNUM
TRANGROUP:0C9A		       sub     al, '0'
TRANGROUP:0C9C		       xchg    al, bl
TRANGROUP:0C9E		       mul     bh
TRANGROUP:0CA0		       add     al, bl
TRANGROUP:0CA2		       xchg    al, bl
TRANGROUP:0CA4		       jmp     short GETNUMLP
TRANGROUP:0CA6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0CA6
TRANGROUP:0CA6 GOTNUM:				       ; ...
TRANGROUP:0CA6		       push    ds
TRANGROUP:0CA7		       mov     ds, ds:RESSEG
TRANGROUP:0CAB		       mov     ah, byte	ptr ds:RetCode
TRANGROUP:0CAF		       pop     ds
TRANGROUP:0CB0		       xor     al, al
TRANGROUP:0CB2		       cmp     ah, bl
TRANGROUP:0CB4		       jnb     short IFRET
TRANGROUP:0CB6		       dec     al
TRANGROUP:0CB8		       jmp     short IFRET
TRANGROUP:0CBA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0CBA
TRANGROUP:0CBA SHIFT:				       ; ...
TRANGROUP:0CBA		       mov     ds, ds:RESSEG
TRANGROUP:0CBE		       mov     ax, ds:Batch
TRANGROUP:0CC1		       or      ax, ax
TRANGROUP:0CC3		       jnz     short SHIFT1
TRANGROUP:0CC5
TRANGROUP:0CC5 SHIFT_RETN:			       ; ...
TRANGROUP:0CC5		       retn
TRANGROUP:0CC6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0CC6
TRANGROUP:0CC6 SHIFT1:				       ; ...
TRANGROUP:0CC6		       mov     es, ax
TRANGROUP:0CC8		       mov     ds, ax
TRANGROUP:0CCA		       mov     di, 0Ch	       ; BATCHSEGMENT.BatParm
TRANGROUP:0CCD		       lea     si, [di+2]
TRANGROUP:0CD0		       mov     cx, 9
TRANGROUP:0CD3		       rep movsw
TRANGROUP:0CD5		       cmp     word ptr	[di], 0FFFFh ; -1
TRANGROUP:0CD8		       jz      short SHIFT_RETN
TRANGROUP:0CDA		       mov     si, [di]
TRANGROUP:0CDC		       mov     word ptr	[di], 0FFFFh ; -1
TRANGROUP:0CE0
TRANGROUP:0CE0 SKIPCRLP:			       ; ...
TRANGROUP:0CE0		       lodsb
TRANGROUP:0CE1		       cmp     al, 0Dh
TRANGROUP:0CE3		       jnz     short SKIPCRLP
TRANGROUP:0CE5		       cmp     byte ptr	[si], 0
TRANGROUP:0CE8		       jz      short SHIFT_RETN
TRANGROUP:0CEA		       mov     [di], si
TRANGROUP:0CEC		       retn
TRANGROUP:0CED
TRANGROUP:0CED ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:0CED
TRANGROUP:0CED
TRANGROUP:0CED SKIPDELIM       proc near	       ; ...
TRANGROUP:0CED		       test    ds:Batch, 0FFFFh
TRANGROUP:0CF3		       jz      short SKIPERR
TRANGROUP:0CF5		       call    GETBATBYT
TRANGROUP:0CF8		       call    DELIM
TRANGROUP:0CFB		       jz      short SKIPDELIM
TRANGROUP:0CFD		       clc
TRANGROUP:0CFE		       retn
TRANGROUP:0CFF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0CFF
TRANGROUP:0CFF SKIPERR:				       ; ...
TRANGROUP:0CFF		       stc
TRANGROUP:0D00
TRANGROUP:0D00 GOTO_RETN:			       ; ...
TRANGROUP:0D00		       retn
TRANGROUP:0D00 SKIPDELIM       endp
TRANGROUP:0D00
TRANGROUP:0D01
TRANGROUP:0D01 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:0D01
TRANGROUP:0D01
TRANGROUP:0D01 _$CALL	       proc near	       ; ...
TRANGROUP:0D01		       push    si
TRANGROUP:0D02		       push    di
TRANGROUP:0D03		       push    ax
TRANGROUP:0D04		       push    cx
TRANGROUP:0D05		       mov     si, (offset COMBUF+2)
TRANGROUP:0D08		       call    scanoff
TRANGROUP:0D0B		       add     si, 4	       ; length_call
TRANGROUP:0D0E		       mov     di, (offset COMBUF+2)
TRANGROUP:0D11		       mov     cx, 124	       ; COMBUFLEN-length_call
TRANGROUP:0D14		       rep movsb
TRANGROUP:0D16		       pop     cx
TRANGROUP:0D17		       pop     ax
TRANGROUP:0D18		       pop     di
TRANGROUP:0D19		       pop     si
TRANGROUP:0D1A		       push    ds
TRANGROUP:0D1B		       mov     ds, ds:RESSEG
TRANGROUP:0D1F		       mov     ds:Call_Flag, 1 ; call_in_progress
TRANGROUP:0D24		       mov     ds:Call_Batch_Flag, 1
TRANGROUP:0D29		       cmp     ds:PipeFiles, 0
TRANGROUP:0D2E		       jz      short _NOPIPE
TRANGROUP:0D30		       call    PIPEDEL
TRANGROUP:0D33
TRANGROUP:0D33 _NOPIPE:				       ; ...
TRANGROUP:0D33		       pop     ds
TRANGROUP:0D34		       retn
TRANGROUP:0D34 _$CALL	       endp
TRANGROUP:0D34
TRANGROUP:0D35 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0D35
TRANGROUP:0D35 GOTO:				       ; ...
TRANGROUP:0D35		       mov     ds, ds:RESSEG
TRANGROUP:0D39		       test    ds:Batch, 0FFFFh
TRANGROUP:0D3F		       jz      short GOTO_RETN
TRANGROUP:0D41		       xor     dx, dx
TRANGROUP:0D43		       push    ds
TRANGROUP:0D44		       mov     ds, ds:Batch
TRANGROUP:0D48		       mov     ds:8, dx	       ; [BATCHSEGMENT.BatSeek]
TRANGROUP:0D4C		       mov     ds:10, dx       ; [BATCHSEGMENT.BatSeek+2]
TRANGROUP:0D50		       mov     byte ptr	ds:2, 0	; [BATCHSEGMENT.BatchEOF]
TRANGROUP:0D55		       pop     ds
TRANGROUP:0D56		       call    PROMPTBAT
TRANGROUP:0D59		       mov     di, 5Dh	       ;  FCB+1
TRANGROUP:0D5C		       mov     cx, 11
TRANGROUP:0D5F		       mov     al, 20h ; ' '
TRANGROUP:0D61		       repne scasb
TRANGROUP:0D63		       jnz     short NOINC
TRANGROUP:0D65		       inc     cx
TRANGROUP:0D66
TRANGROUP:0D66 NOINC:				       ; ...
TRANGROUP:0D66		       sub     cx, 11
TRANGROUP:0D69		       neg     cx
TRANGROUP:0D6B		       mov     es:BWDBUF, cx   ; mov [es:GOTOLEN],cx
TRANGROUP:0D70		       call    SKIPDELIM
TRANGROUP:0D73		       jb      short BADGOTO
TRANGROUP:0D75		       cmp     al, ':'
TRANGROUP:0D77		       jz      short CHKLABEL
TRANGROUP:0D79
TRANGROUP:0D79 LABLKLP:				       ; ...
TRANGROUP:0D79		       call    GETBATBYT
TRANGROUP:0D7C		       cmp     al, 0Ah
TRANGROUP:0D7E		       jnz     short LABLKTST
TRANGROUP:0D80		       call    SKIPDELIM
TRANGROUP:0D83		       jb      short BADGOTO
TRANGROUP:0D85		       cmp     al, ':'
TRANGROUP:0D87		       jz      short CHKLABEL
TRANGROUP:0D89
TRANGROUP:0D89 LABLKTST:			       ; ...
TRANGROUP:0D89		       test    ds:Batch, 0FFFFh
TRANGROUP:0D8F		       jnz     short LABLKLP
TRANGROUP:0D91
TRANGROUP:0D91 BADGOTO:				       ; ...
TRANGROUP:0D91		       call    BATCLOSE
TRANGROUP:0D94		       call    free_batch
TRANGROUP:0D97		       push    cs
TRANGROUP:0D98		       pop     ds
TRANGROUP:0D99		       assume ds:TRANGROUP
TRANGROUP:0D99		       mov     dx, offset BADLAB_PTR
TRANGROUP:0D9C		       jmp     cerror
TRANGROUP:0D9F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0D9F
TRANGROUP:0D9F CHKLABEL:			       ; ...
TRANGROUP:0D9F		       call    SKIPDELIM
TRANGROUP:0DA2		       jb      short BADGOTO
TRANGROUP:0DA4		       mov     di, 5Dh	       ; FCB+1
TRANGROUP:0DA7		       mov     cx, es:BWDBUF   ; mov cx,[es:GOTOLEN]
TRANGROUP:0DAC		       jmp     short GOTBYTE
TRANGROUP:0DAE ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0DAE
TRANGROUP:0DAE NEXTCHRLP:			       ; ...
TRANGROUP:0DAE		       push    cx
TRANGROUP:0DAF		       call    GETBATBYT
TRANGROUP:0DB2		       pop     cx
TRANGROUP:0DB3
TRANGROUP:0DB3 GOTBYTE:				       ; ...
TRANGROUP:0DB3		       call    testkanj
TRANGROUP:0DB6		       jz      short NOTKANJ1
TRANGROUP:0DB8		       cmp     al, es:[di]
TRANGROUP:0DBB		       jnz     short LABLKTST
TRANGROUP:0DBD		       inc     di
TRANGROUP:0DBE		       dec     cx
TRANGROUP:0DBF		       jcxz    short LABLKTST
TRANGROUP:0DC1		       push    cx
TRANGROUP:0DC2		       call    GETBATBYT
TRANGROUP:0DC5		       pop     cx
TRANGROUP:0DC6		       cmp     al, es:[di]
TRANGROUP:0DC9		       jmp     short KNEXTLABCHR
TRANGROUP:0DCB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0DCB
TRANGROUP:0DCB NOTKANJ1:			       ; ...
TRANGROUP:0DCB		       or      al, 20h
TRANGROUP:0DCD		       cmp     al, es:[di]
TRANGROUP:0DD0		       jnz     short TRYUPPER
TRANGROUP:0DD2		       jmp     short NEXTLABCHR
TRANGROUP:0DD4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0DD4
TRANGROUP:0DD4 TRYUPPER:			       ; ...
TRANGROUP:0DD4		       sub     al, 20h
TRANGROUP:0DD6		       cmp     al, es:[di]
TRANGROUP:0DD9
TRANGROUP:0DD9 KNEXTLABCHR:			       ; ...
TRANGROUP:0DD9		       jnz     short LABLKTST
TRANGROUP:0DDB
TRANGROUP:0DDB NEXTLABCHR:			       ; ...
TRANGROUP:0DDB		       inc     di
TRANGROUP:0DDC		       loop    NEXTCHRLP
TRANGROUP:0DDE		       call    GETBATBYT
TRANGROUP:0DE1		       cmp     es:BWDBUF, 8    ; cmp [es:GOTOLEN],8
TRANGROUP:0DE7		       jge     short GOTOCONT
TRANGROUP:0DE9		       cmp     al, 20h ; ' '
TRANGROUP:0DEB		       ja      short LABLKTST
TRANGROUP:0DED
TRANGROUP:0DED GOTOCONT:			       ; ...
TRANGROUP:0DED		       cmp     al, 0Dh
TRANGROUP:0DEF		       jz      short SKIPLFEED
TRANGROUP:0DF1
TRANGROUP:0DF1 TONEXTBATLIN:			       ; ...
TRANGROUP:0DF1		       call    GETBATBYT
TRANGROUP:0DF4		       cmp     al, 0Dh
TRANGROUP:0DF6		       jnz     short TONEXTBATLIN
TRANGROUP:0DF8
TRANGROUP:0DF8 SKIPLFEED:			       ; ...
TRANGROUP:0DF8		       call    GETBATBYT
TRANGROUP:0DFB		       push    es
TRANGROUP:0DFC		       mov     es, ds:Batch
TRANGROUP:0E00		       mov     byte ptr	es:2, 0	; BATCHSEGMENT.BatchEOF
TRANGROUP:0E06		       pop     es
TRANGROUP:0E07		       call    BATCLOSE
TRANGROUP:0E0A		       retn
TRANGROUP:0E0B
TRANGROUP:0E0B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:0E0B
TRANGROUP:0E0B
TRANGROUP:0E0B BATCLOSE	       proc near	       ; ...
TRANGROUP:0E0B		       mov     bx, cs:BATHAND
TRANGROUP:0E10		       cmp     bx, 5
TRANGROUP:0E13		       jb      short CLOSERETURN
TRANGROUP:0E15		       mov     ah, 3Eh
TRANGROUP:0E17		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:0E17					       ; BX = file handle
TRANGROUP:0E19
TRANGROUP:0E19 CLOSERETURN:			       ; ...
TRANGROUP:0E19		       mov     ds:In_Batch, 0
TRANGROUP:0E1E		       retn
TRANGROUP:0E1E BATCLOSE	       endp
TRANGROUP:0E1E
TRANGROUP:0E1F
TRANGROUP:0E1F ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:0E1F
TRANGROUP:0E1F
TRANGROUP:0E1F BATOPEN	       proc near	       ; ...
TRANGROUP:0E1F		       push    ds
TRANGROUP:0E20		       mov     ds, ds:Batch
TRANGROUP:0E24		       assume ds:nothing
TRANGROUP:0E24		       mov     dx, 20h	       ; BATCHSEGMENT.BatFile
TRANGROUP:0E27		       mov     ax, 3D00h
TRANGROUP:0E2A		       int     21h	       ; DOS - 2+ - OPEN DISK FILE WITH	HANDLE
TRANGROUP:0E2A					       ; DS:DX -> ASCIZ	filename
TRANGROUP:0E2A					       ; AL = access mode
TRANGROUP:0E2A					       ; 0 - read
TRANGROUP:0E2C		       jb      short SETERRDL
TRANGROUP:0E2E		       mov     dx, ds:8	       ; [BATCHSEGMENT.BatSeek]
TRANGROUP:0E32		       mov     cx, ds:10       ; [BATCHSEGMENT.BatSeek+2]
TRANGROUP:0E36		       pop     ds
TRANGROUP:0E37		       mov     es:BATHAND, ax
TRANGROUP:0E3B		       mov     bx, ax
TRANGROUP:0E3D		       mov     ax, 4200h
TRANGROUP:0E40		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:0E40					       ; AL = method: offset from beginning of file
TRANGROUP:0E42		       mov     es:BATBUFPOS, 0FFFFh ; -1
TRANGROUP:0E49		       retn
TRANGROUP:0E4A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0E4A
TRANGROUP:0E4A SETERRDL:			       ; ...
TRANGROUP:0E4A		       mov     bx, dx
TRANGROUP:0E4C		       call    get_ext_error_number
TRANGROUP:0E4F		       mov     dx, ax
TRANGROUP:0E51		       mov     al, [bx]
TRANGROUP:0E53		       sub     al, 40h ; '@'
TRANGROUP:0E55		       pop     ds
TRANGROUP:0E56		       stc
TRANGROUP:0E57		       retn
TRANGROUP:0E57 BATOPEN	       endp
TRANGROUP:0E57
TRANGROUP:0E58
TRANGROUP:0E58 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:0E58
TRANGROUP:0E58
TRANGROUP:0E58 free_batch      proc near	       ; ...
TRANGROUP:0E58		       push    es
TRANGROUP:0E59		       mov     bx, ds:Next_Batch
TRANGROUP:0E5D		       or      bx, bx
TRANGROUP:0E5F		       jz      short fb_ret
TRANGROUP:0E61
TRANGROUP:0E61 _ClearBatch:			       ; ...
TRANGROUP:0E61		       mov     es, bx
TRANGROUP:0E63		       mov     bx, es:5	       ; [es:BATCHSEGMENT.BatForPtr]
TRANGROUP:0E68		       cmp     bx, 0
TRANGROUP:0E6B		       jz      short no_bat_for
TRANGROUP:0E6D		       push    es
TRANGROUP:0E6E		       mov     es, bx
TRANGROUP:0E70		       mov     ah, 49h
TRANGROUP:0E72		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:0E72					       ; ES = segment address of area to be freed
TRANGROUP:0E74		       pop     es
TRANGROUP:0E75
TRANGROUP:0E75 no_bat_for:			       ; ...
TRANGROUP:0E75		       mov     cl, es:1	       ; [es:BATCHSEGMENT.BatEchoFlag]
TRANGROUP:0E7A		       mov     bx, es:3	       ; [es:BATCHSEGMENT.BatLast]
TRANGROUP:0E7F		       mov     ah, 49h
TRANGROUP:0E81		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:0E81					       ; ES = segment address of area to be freed
TRANGROUP:0E83		       mov     ds:Batch, bx
TRANGROUP:0E87		       dec     ds:Nest
TRANGROUP:0E8B		       jnz     short _ClearBatch
TRANGROUP:0E8D		       mov     ds:EchoFlag, cl
TRANGROUP:0E91		       mov     ds:Batch, 0
TRANGROUP:0E97
TRANGROUP:0E97 fb_ret:				       ; ...
TRANGROUP:0E97		       pop     es
TRANGROUP:0E98		       retn
TRANGROUP:0E98 free_batch      endp
TRANGROUP:0E98
TRANGROUP:0E99 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0E99 ; START OF FUNCTION CHUNK FOR _$FOR
TRANGROUP:0E99
TRANGROUP:0E99 FORTERM:				       ; ...
TRANGROUP:0E99		       push    cs
TRANGROUP:0E9A		       pop     ds
TRANGROUP:0E9B		       assume ds:TRANGROUP
TRANGROUP:0E9B		       push    cs
TRANGROUP:0E9C		       pop     es
TRANGROUP:0E9D		       assume es:TRANGROUP
TRANGROUP:0E9D		       call    FOROFF
TRANGROUP:0EA0		       mov     ds, es:RESSEG
TRANGROUP:0EA5		       assume ds:nothing
TRANGROUP:0EA5		       cmp     ds:SingleCom, 0FF00h
TRANGROUP:0EAB		       jnz     short BAT_CRLF
TRANGROUP:0EAD		       cmp     ds:Nest,	0
TRANGROUP:0EB2		       jnz     short BAT_CRLF
TRANGROUP:0EB4		       mov     ds:SingleCom, 0FFFFh ; -1
TRANGROUP:0EBA		       jmp     short NOFORP2
TRANGROUP:0EBC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0EBC
TRANGROUP:0EBC BAT_CRLF:			       ; ...
TRANGROUP:0EBC		       test    ds:EchoFlag, 1
TRANGROUP:0EC1		       jz      short NOFORP2
TRANGROUP:0EC3		       test    ds:Batch, 0FFFFh
TRANGROUP:0EC9		       jz      short NOFORP2
TRANGROUP:0ECB		       call    CRLF2
TRANGROUP:0ECE
TRANGROUP:0ECE NOFORP2:				       ; ...
TRANGROUP:0ECE		       jmp     TCOMMAND
TRANGROUP:0ECE ; END OF	FUNCTION CHUNK FOR _$FOR
TRANGROUP:0ED1 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0ED1 ; START OF FUNCTION CHUNK FOR _$IF
TRANGROUP:0ED1
TRANGROUP:0ED1 _$FOR_EXIT:			       ; ...
TRANGROUP:0ED1		       jmp     short FORTERM
TRANGROUP:0ED3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0ED3
TRANGROUP:0ED3 FORPROC:				       ; ...
TRANGROUP:0ED3		       mov     ax, ds:ForPtr
TRANGROUP:0ED6		       mov     ds, ax
TRANGROUP:0ED8		       mov     es, ax
TRANGROUP:0EDA		       assume es:nothing
TRANGROUP:0EDA		       mov     dx, 5CBh	       ; FOR_INFO.FORDMA
TRANGROUP:0EDD		       mov     ax, 1A00h
TRANGROUP:0EE0		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:0EE0					       ; DS:DX -> disk transfer	buffer
TRANGROUP:0EE2
TRANGROUP:0EE2 FOR_BEGIN:			       ; ...
TRANGROUP:0EE2		       cmp     word ptr	ds:545h, 0 ; FOR_INFO.FOR_EXPAND
TRANGROUP:0EE7		       jz      short FOR_BEGIN1
TRANGROUP:0EE9		       inc     word ptr	ds:547h	; FOR_INFO.FOR_MINARG
TRANGROUP:0EED
TRANGROUP:0EED FOR_BEGIN1:			       ; ...
TRANGROUP:0EED		       mov     bx, ds:547h
TRANGROUP:0EF1		       cmp     bx, ds:549h     ; FOR_INFO.FOR_MAXARG
TRANGROUP:0EF5		       jg      short _$FOR_EXIT
TRANGROUP:0EF7		       mov     ax, 0	       ; FOR_INFO.FOR_ARGS
TRANGROUP:0EFA		       call    argv_calc
TRANGROUP:0EFD		       mov     cx, [bx+3]      ; [bx+ARGV_ELE.argstartel]
TRANGROUP:0F00		       mov     dx, [bx]	       ; [bx+ARGV_ELE.argpointer]
TRANGROUP:0F02		       test    byte ptr	[bx+2],	4 ; [bx+ARGV_ELE.argflags],path_sep
TRANGROUP:0F06		       jnz     short FORSUB
TRANGROUP:0F08		       mov     si, [bx]
TRANGROUP:0F0A		       mov     al, '('         ; lparen
TRANGROUP:0F0C		       cmp     [si-1], al
TRANGROUP:0F0F		       jnz     short FORSUB
TRANGROUP:0F11		       inc     cx
TRANGROUP:0F12		       mov     al, ':'
TRANGROUP:0F14		       cmp     [si+1], al
TRANGROUP:0F17		       jnz     short FORSUB
TRANGROUP:0F19		       add     cx, 2
TRANGROUP:0F1C
TRANGROUP:0F1C FORSUB:				       ; ...
TRANGROUP:0F1C		       sub     cx, dx
TRANGROUP:0F1E		       cmp     word ptr	ds:545h, 0 ; [FOR_INFO.FOR_EXPAND]
TRANGROUP:0F23		       jz      short FOR_FIND_NEXT
TRANGROUP:0F25		       test    byte ptr	[bx+2],	2 ; wildcard
TRANGROUP:0F29		       jnz     short FOR_FIND_FIRST
TRANGROUP:0F2B		       mov     cx, [bx+5]      ; [bx+ARGV_ELE.arglen]
TRANGROUP:0F2E		       jmp     short FOR_SMOOSH
TRANGROUP:0F30 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0F30
TRANGROUP:0F30 FOR_FIND_FIRST:			       ; ...
TRANGROUP:0F30		       push    cx
TRANGROUP:0F31		       xor     cx, cx
TRANGROUP:0F33		       mov     ax, 4E00h
TRANGROUP:0F36		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:0F36					       ; CX = search attributes
TRANGROUP:0F36					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:0F36					       ; (drive, path, and wildcards allowed)
TRANGROUP:0F38		       pop     cx
TRANGROUP:0F39		       jmp     short FOR_RESULT
TRANGROUP:0F3B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0F3B
TRANGROUP:0F3B FOR_FIND_NEXT:			       ; ...
TRANGROUP:0F3B		       mov     ax, 4F00h
TRANGROUP:0F3E		       int     21h	       ; DOS - 2+ - FIND NEXT ASCIZ (FINDNEXT)
TRANGROUP:0F3E					       ; [DTA] = data block from
TRANGROUP:0F3E					       ; last AH = 4Eh/4Fh call
TRANGROUP:0F40
TRANGROUP:0F40 FOR_RESULT:			       ; ...
TRANGROUP:0F40		       mov     ax, 0FFFFh
TRANGROUP:0F43		       jb      short FOR_CHECK
TRANGROUP:0F45		       mov     ax, 0
TRANGROUP:0F48
TRANGROUP:0F48 FOR_CHECK:			       ; ...
TRANGROUP:0F48		       mov     ds:545h,	ax
TRANGROUP:0F4B		       or      ax, ax
TRANGROUP:0F4D		       jnz     short FOR_BEGIN
TRANGROUP:0F4F
TRANGROUP:0F4F FOR_SMOOSH:			       ; ...
TRANGROUP:0F4F		       mov     si, [bx]
TRANGROUP:0F51		       mov     di, 54Bh	       ; FOR_INFO.FORBUF
TRANGROUP:0F54		       rep movsb
TRANGROUP:0F56		       cmp     word ptr	ds:545h, 0
TRANGROUP:0F5B		       jnz     short FOR_MAKE_COM
TRANGROUP:0F5D		       mov     si, 5E9h	       ; FOR_INFO.FORDMA+FIND_BUF.PNAME
TRANGROUP:0F60
TRANGROUP:0F60 FOR_MORE:			       ; ...
TRANGROUP:0F60		       cmp     byte ptr	[si], 0
TRANGROUP:0F63		       jz      short FOR_MAKE_COM
TRANGROUP:0F65		       movsb
TRANGROUP:0F66		       jnz     short FOR_MORE
TRANGROUP:0F68
TRANGROUP:0F68 FOR_MAKE_COM:			       ; ...
TRANGROUP:0F68		       xor     al, al
TRANGROUP:0F6A		       stosb
TRANGROUP:0F6B		       xor     cx, cx
TRANGROUP:0F6D		       not     cx
TRANGROUP:0F6F		       xor     bx, bx
TRANGROUP:0F71		       mov     di, (offset COMBUF+2)
TRANGROUP:0F74		       mov     bl, ds:544h     ; [FOR_INFO.FOR_COM_START]
TRANGROUP:0F78		       mov     dh, ds:64Bh     ; [FOR_INFO.FOR_VAR]
TRANGROUP:0F7C		       push    cs
TRANGROUP:0F7D		       pop     es
TRANGROUP:0F7E		       assume es:TRANGROUP
TRANGROUP:0F7E		       mov     ax, 0	       ; FOR_INFO.FOR_ARGS = 0
TRANGROUP:0F81		       call    argv_calc
TRANGROUP:0F84		       mov     si, [bx+9]      ; [bx+ARGV_ELE.arg_ocomptr]
TRANGROUP:0F87		       inc     si
TRANGROUP:0F88
TRANGROUP:0F88 FOR_MAKE_LOOP:			       ; ...
TRANGROUP:0F88		       mov     al, [si]
TRANGROUP:0F8A		       inc     si
TRANGROUP:0F8B		       cmp     al, '%'
TRANGROUP:0F8D		       jnz     short FOR_STOSB
TRANGROUP:0F8F		       cmp     [si], dh
TRANGROUP:0F91		       jnz     short FOR_STOSB
TRANGROUP:0F93		       inc     si
TRANGROUP:0F94		       push    si
TRANGROUP:0F95		       mov     si, 54Bh	       ; FOR_INFO.FORBUF
TRANGROUP:0F98
TRANGROUP:0F98 SLOOP:				       ; ...
TRANGROUP:0F98		       lodsb
TRANGROUP:0F99		       stosb
TRANGROUP:0F9A		       or      al, al
TRANGROUP:0F9C		       loopne  SLOOP
TRANGROUP:0F9E		       dec     di
TRANGROUP:0F9F		       inc     cx
TRANGROUP:0FA0		       pop     si
TRANGROUP:0FA1		       jmp     short FOR_MAKE_LOOP
TRANGROUP:0FA3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0FA3
TRANGROUP:0FA3 FOR_STOSB:			       ; ...
TRANGROUP:0FA3		       stosb
TRANGROUP:0FA4		       dec     cx
TRANGROUP:0FA5		       cmp     al, 0Dh
TRANGROUP:0FA7		       jnz     short FOR_MAKE_LOOP
TRANGROUP:0FA9		       not     cl
TRANGROUP:0FAB		       mov     es:COMBUF+1, cl
TRANGROUP:0FB0		       mov     ds, es:RESSEG
TRANGROUP:0FB5		       test    ds:EchoFlag, 1
TRANGROUP:0FBA		       jz      short NOECHO3
TRANGROUP:0FBC		       cmp     ds:NullFlag, 1
TRANGROUP:0FC1		       jz      short NO_CRLF_PR
TRANGROUP:0FC3		       call    CRLF2
TRANGROUP:0FC6
TRANGROUP:0FC6 NO_CRLF_PR:			       ; ...
TRANGROUP:0FC6		       mov     ds:NullFlag, 0
TRANGROUP:0FCB		       push    cs
TRANGROUP:0FCC		       pop     ds
TRANGROUP:0FCD		       assume ds:TRANGROUP
TRANGROUP:0FCD		       push    di
TRANGROUP:0FCE		       call    PRINT_PROMPT
TRANGROUP:0FD1		       pop     di
TRANGROUP:0FD2		       mov     byte ptr	es:[di-1], 0
TRANGROUP:0FD7		       mov     string_ptr_2, (offset COMBUF+2)
TRANGROUP:0FDD		       mov     dx, offset string_buf_ptr
TRANGROUP:0FE0		       call    std_printf
TRANGROUP:0FE3		       mov     byte ptr	es:[di-1], 0Dh
TRANGROUP:0FE8		       jmp     DOCOM
TRANGROUP:0FEB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0FEB
TRANGROUP:0FEB NOECHO3:				       ; ...
TRANGROUP:0FEB		       mov     ds:NullFlag, 0
TRANGROUP:0FF0		       push    cs
TRANGROUP:0FF1		       pop     ds
TRANGROUP:0FF2		       jmp     DOCOM0
TRANGROUP:0FF2 ; END OF	FUNCTION CHUNK FOR _$IF
TRANGROUP:0FF5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0FF5 ; START OF FUNCTION CHUNK FOR _$FOR
TRANGROUP:0FF5
TRANGROUP:0FF5 FORNESTERRJ:			       ; ...
TRANGROUP:0FF5		       call    FOROFF
TRANGROUP:0FF8		       jmp     FORNESTERR
TRANGROUP:0FFB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:0FFB
TRANGROUP:0FFB FORERRORJ:			       ; ...
TRANGROUP:0FFB		       jmp     IFFORERROR
TRANGROUP:0FFB ; END OF	FUNCTION CHUNK FOR _$FOR
TRANGROUP:0FFE
TRANGROUP:0FFE ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:0FFE
TRANGROUP:0FFE
TRANGROUP:0FFE _$FOR	       proc near	       ; ...
TRANGROUP:0FFE
TRANGROUP:0FFE ; FUNCTION CHUNK	AT TRANGROUP:0E99 SIZE 00000038	BYTES
TRANGROUP:0FFE ; FUNCTION CHUNK	AT TRANGROUP:0FF5 SIZE 00000009	BYTES
TRANGROUP:0FFE ; FUNCTION CHUNK	AT TRANGROUP:1126 SIZE 0000001A	BYTES
TRANGROUP:0FFE
TRANGROUP:0FFE		       mov     es, RESSEG
TRANGROUP:1002		       assume es:nothing
TRANGROUP:1002		       cmp     es:ForFlag, 0
TRANGROUP:1008		       jnz     short FORNESTERRJ
TRANGROUP:100A		       cmp     es:PipeFiles, 0
TRANGROUP:1010		       jz      short NO_PIPE
TRANGROUP:1012		       call    PIPEDEL
TRANGROUP:1015
TRANGROUP:1015 NO_PIPE:				       ; ...
TRANGROUP:1015		       xor     dx, dx
TRANGROUP:1017		       call    NEXTARG
TRANGROUP:101A		       jb      short FORERRORJ
TRANGROUP:101C		       cmp     al, '%'
TRANGROUP:101E		       jnz     short FORERRORJ
TRANGROUP:1020		       mov     bp, ax
TRANGROUP:1022		       lodsb
TRANGROUP:1023		       or      al, al
TRANGROUP:1025		       jnz     short FORERRORJ
TRANGROUP:1027		       call    NEXTARG
TRANGROUP:102A		       jb      short FORERRORJ
TRANGROUP:102C		       and     ax, 0DFDFh      ; ~2020h	(not 2020h)
TRANGROUP:102F		       cmp     ax, 'NI'        ; "IN"
TRANGROUP:1032		       jnz     short FORERRORJ
TRANGROUP:1034		       lodsb
TRANGROUP:1035		       or      al, al
TRANGROUP:1037		       jnz     short FORERRORJ
TRANGROUP:1039
TRANGROUP:1039 CHECKLPAREN:
TRANGROUP:1039		       call    NEXTARG
TRANGROUP:103C		       jb      short FORERRORJ
TRANGROUP:103E
TRANGROUP:103E LPCHECK:				       ; lparen
TRANGROUP:103E		       cmp     al, '('
TRANGROUP:1040		       jnz     short FORERRORJ
TRANGROUP:1042		       cmp     ah, 0
TRANGROUP:1045		       jz      short FOR_PAREN_TOKEN
TRANGROUP:1047		       cmp     ah, ')'         ; rparen
TRANGROUP:104A		       jnz     short FOR_LIST_NOT_EMPTY
TRANGROUP:104C		       jmp     FORTERM
TRANGROUP:104F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:104F
TRANGROUP:104F FOR_LIST_NOT_EMPTY:		       ; ...
TRANGROUP:104F		       inc     word ptr	[bx]   ; [bx+ARGV_ELE.argpointer] ; [bx+0]
TRANGROUP:1051		       dec     word ptr	[bx+5] ; [bx+ARGV_ELE.arglen]
TRANGROUP:1054		       inc     si
TRANGROUP:1055		       jmp     short FOR_LIST
TRANGROUP:1057 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1057
TRANGROUP:1057 FOR_PAREN_TOKEN:			       ; ...
TRANGROUP:1057		       call    NEXTARG
TRANGROUP:105A		       jb      short FORERRORJ
TRANGROUP:105C		       cmp     ax, 29h	       ; db 29h,0 ; db ')',0
TRANGROUP:105F		       jnz     short FOR_LIST
TRANGROUP:1061		       jmp     FORTERM
TRANGROUP:1064 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1064
TRANGROUP:1064 FORERORJJ:			       ; ...
TRANGROUP:1064		       jmp     IFFORERROR
TRANGROUP:1067 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1067
TRANGROUP:1067 FOR_LIST:			       ; ...
TRANGROUP:1067		       mov     cx, dx
TRANGROUP:1069
TRANGROUP:1069 SKIP_LIST:			       ; ...
TRANGROUP:1069		       add     si, [bx+5]
TRANGROUP:106C		       sub     si, 3
TRANGROUP:106F		       mov     al, ')'
TRANGROUP:1071		       cmp     [si], al
TRANGROUP:1073		       jz      short FOR_END_LIST
TRANGROUP:1075		       call    NEXTARG
TRANGROUP:1078		       jb      short FORERORJJ
TRANGROUP:107A		       jmp     short SKIP_LIST
TRANGROUP:107C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:107C
TRANGROUP:107C FOR_END_LIST:			       ; ...
TRANGROUP:107C		       mov     di, dx
TRANGROUP:107E		       mov     byte ptr	[si], 0
TRANGROUP:1081		       cmp     ax, 29h	       ; db 29h,0 ; db ')',0
TRANGROUP:1084		       jz      short FOR_DO
TRANGROUP:1086		       inc     di
TRANGROUP:1087
TRANGROUP:1087 FOR_DO:				       ; ...
TRANGROUP:1087		       call    NEXTARG
TRANGROUP:108A		       jb      short FORERORJJ
TRANGROUP:108C		       and     ax, 0DFDFh      ; and ax,~2020h
TRANGROUP:108F		       cmp     ax, 'OD'        ; "DO" ; 4F44h
TRANGROUP:1092		       jnz     short FORERORJJ
TRANGROUP:1094		       lodsb
TRANGROUP:1095		       or      al, al
TRANGROUP:1097		       jnz     short FORERORJJ
TRANGROUP:1099		       call    NEXTARG
TRANGROUP:109C		       jb      short FORERORJJ
TRANGROUP:109E		       push    ax
TRANGROUP:109F		       push    bx
TRANGROUP:10A0		       push    cx
TRANGROUP:10A1		       push    dx
TRANGROUP:10A2		       push    di
TRANGROUP:10A3		       push    si
TRANGROUP:10A4		       push    bp
TRANGROUP:10A5		       call    FREE_TPA
TRANGROUP:10A8		       call    FOROFF
TRANGROUP:10AB		       mov     bx, 264	       ; FOR_INFO.size-ARG_UNIT.SIZE
TRANGROUP:10AE		       call    SAVE_ARGS
TRANGROUP:10B1		       pushf
TRANGROUP:10B2		       mov     es:ForPtr, ax
TRANGROUP:10B6		       call    ALLOC_TPA
TRANGROUP:10B9		       popf
TRANGROUP:10BA		       pop     bp
TRANGROUP:10BB		       pop     si
TRANGROUP:10BC		       pop     di
TRANGROUP:10BD		       pop     dx
TRANGROUP:10BE		       pop     cx
TRANGROUP:10BF		       pop     bx
TRANGROUP:10C0		       pop     ax
TRANGROUP:10C1		       jb      short FOR_ALLOC_ERR
TRANGROUP:10C3		       push    es
TRANGROUP:10C4		       push    es:ForPtr
TRANGROUP:10C9		       pop     es
TRANGROUP:10CA		       dec     cx
TRANGROUP:10CB		       dec     di
TRANGROUP:10CC		       mov     es:547h,	cx     ; [es:FOR_INFO.FOR_MINARG]
TRANGROUP:10D1		       mov     es:549h,	di     ; [es:FOR_INFO.FOR_MAXARG]
TRANGROUP:10D6		       mov     es:544h,	dl     ; [es:FOR_INFO.FOR_COM_START]
TRANGROUP:10DB		       mov     word ptr	es:545h, 0FFFFh	; [es:FOR_INFO.FOR_EXPAND]
TRANGROUP:10E2		       mov     ax, bp
TRANGROUP:10E4		       mov     es:64Bh,	ah     ; [es:FOR_INFO.FOR_VAR]
TRANGROUP:10E9		       pop     es
TRANGROUP:10EA		       inc     es:ForFlag
TRANGROUP:10EF		       cmp     es:SingleCom, 0FFFFh ; -1
TRANGROUP:10F5		       jnz     short FOR_RET
TRANGROUP:10F7		       mov     es:SingleCom, 0FF00h
TRANGROUP:10FE
TRANGROUP:10FE FOR_RET:				       ; ...
TRANGROUP:10FE		       retn
TRANGROUP:10FF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:10FF
TRANGROUP:10FF FOR_ALLOC_ERR:			       ; ...
TRANGROUP:10FF		       mov     msg_disp_class, 1 ; ext_msg_class
TRANGROUP:1104		       mov     dx, offset extend_buf_ptr
TRANGROUP:1107		       mov     extend_buf_ptr, 8 ; ERROR_NOT_ENOUGH_MEMORY
TRANGROUP:110D		       jmp     cerror
TRANGROUP:110D _$FOR	       endp
TRANGROUP:110D
TRANGROUP:1110
TRANGROUP:1110 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1110
TRANGROUP:1110
TRANGROUP:1110 NEXTARG	       proc near	       ; ...
TRANGROUP:1110		       inc     dx
TRANGROUP:1111		       cmp     dx, ARG_ARGVCNT ; [ARG+ARG_UNIT.argvcnt]
TRANGROUP:1115		       jge     short NEXTARG_ERR
TRANGROUP:1117		       mov     bx, dx
TRANGROUP:1119		       mov     ax, offset ARG_ARGV ; ARG+ARG_UNIT.argv ; ARG
TRANGROUP:111C		       call    argv_calc
TRANGROUP:111F		       mov     si, [bx]	       ; [bx+ARGV_ELE.argpointer]
TRANGROUP:111F					       ; mov si,[bx+0]
TRANGROUP:1121		       lodsw
TRANGROUP:1122		       clc
TRANGROUP:1123		       retn
TRANGROUP:1124 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1124
TRANGROUP:1124 NEXTARG_ERR:			       ; ...
TRANGROUP:1124		       stc
TRANGROUP:1125		       retn
TRANGROUP:1125 NEXTARG	       endp
TRANGROUP:1125
TRANGROUP:1126 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1126 ; START OF FUNCTION CHUNK FOR _$FOR
TRANGROUP:1126
TRANGROUP:1126 FORNESTERR:			       ; ...
TRANGROUP:1126		       push    ds
TRANGROUP:1127		       mov     ds, RESSEG
TRANGROUP:112B		       assume ds:nothing
TRANGROUP:112B		       mov     dx, offset FORNESTMES_PTR
TRANGROUP:112E		       cmp     ds:SingleCom, 0FF00h
TRANGROUP:1134		       jnz     short NOFORP3
TRANGROUP:1136		       mov     ds:SingleCom, 0FFFFh ; -1
TRANGROUP:113C
TRANGROUP:113C NOFORP3:				       ; ...
TRANGROUP:113C		       pop     ds
TRANGROUP:113D		       jmp     cerror
TRANGROUP:113D ; END OF	FUNCTION CHUNK FOR _$FOR
TRANGROUP:1140
TRANGROUP:1140 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1140
TRANGROUP:1140
TRANGROUP:1140 FOROFF	       proc near	       ; ...
TRANGROUP:1140		       push    ax
TRANGROUP:1141		       push    es
TRANGROUP:1142		       mov     es, cs:RESSEG
TRANGROUP:1147		       mov     ax, es:ForPtr
TRANGROUP:114B		       or      ax, ax
TRANGROUP:114D		       jz      short FREEDONE
TRANGROUP:114F		       push    es
TRANGROUP:1150		       mov     es, ax
TRANGROUP:1152		       mov     ah, 49h
TRANGROUP:1154		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:1154					       ; ES = segment address of area to be freed
TRANGROUP:1156		       pop     es
TRANGROUP:1157
TRANGROUP:1157 FREEDONE:			       ; ...
TRANGROUP:1157		       mov     es:ForPtr, 0
TRANGROUP:115E		       mov     es:ForFlag, 0
TRANGROUP:1164		       pop     es
TRANGROUP:1165		       pop     ax
TRANGROUP:1166		       retn
TRANGROUP:1166 FOROFF	       endp
TRANGROUP:1166
TRANGROUP:1167 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1167
TRANGROUP:1167 CATALOG:				       ; ...
TRANGROUP:1167		       call    screen_f_set
TRANGROUP:116A		       call    SetDefaults
TRANGROUP:116D		       call    ParseEnvironment
TRANGROUP:1170		       call    ParseCmdLine
TRANGROUP:1173		       jnb     short catalog1
TRANGROUP:1175		       jmp     catExtErr2
TRANGROUP:1178 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1178
TRANGROUP:1178 catalog1:			       ; ...
TRANGROUP:1178		       call    SetOptions
TRANGROUP:117B		       call    SetCollatingTable
TRANGROUP:117E		       test    ds:_Bits, 10h   ; mask.bare
TRANGROUP:1184		       jnz     short catalog2
TRANGROUP:1186		       call    OkVolArg
TRANGROUP:1189		       sub     ds:LeftOnPage, 2
TRANGROUP:118E		       jmp     short catCrunch
TRANGROUP:1190 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1190
TRANGROUP:1190 catalog2:			       ; ...
TRANGROUP:1190		       call    DisAppend
TRANGROUP:1193		       mov     dx, offset BWDBUF ; DIRBUF
TRANGROUP:1196		       mov     ah, 1Ah
TRANGROUP:1198		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:1198					       ; DS:DX -> disk transfer	buffer
TRANGROUP:119A		       mov     di, 5Ch	       ; FCB
TRANGROUP:119D		       inc     di
TRANGROUP:119E		       mov     al, '?'         ; wildcard character
TRANGROUP:11A0		       mov     cx, 11
TRANGROUP:11A3		       rep stosb
TRANGROUP:11A5
TRANGROUP:11A5 catCrunch:			       ; ...
TRANGROUP:11A5		       call    CrunchPath
TRANGROUP:11A8		       jb      short catRecErr
TRANGROUP:11AA		       cmp     ds:COMSW, 0
TRANGROUP:11AF		       jnz     short catRecErr
TRANGROUP:11B1		       call    InstallCtrlC
TRANGROUP:11B4		       test    ds:_Bits, 1     ; mask cratio
TRANGROUP:11B4					       ; compression ratio wanted?
TRANGROUP:11BA		       jz      short catalog4
TRANGROUP:11BC		       call    OpenCVF	       ; yes, try to open CVF file
TRANGROUP:11BF		       jnb     short catalog4
TRANGROUP:11C1		       and     ds:_Bits, 0FFFEh	; not (mask cratio)
TRANGROUP:11C6
TRANGROUP:11C6 catalog4:			       ; ...
TRANGROUP:11C6		       call    ZeroTotals
TRANGROUP:11C9		       call    ListDir
TRANGROUP:11CC		       jb      short catExtErr1
TRANGROUP:11CE		       test    ds:_Bits, 8     ; mask.subd
TRANGROUP:11D4		       jz      short catalog3
TRANGROUP:11D6		       call    ListSubds
TRANGROUP:11D9		       jb      short catExtErr1
TRANGROUP:11DB
TRANGROUP:11DB catalog3:			       ; ...
TRANGROUP:11DB		       test    ds:_Bits, 10h   ; mask.bare
TRANGROUP:11E1		       jnz     short catRet
TRANGROUP:11E3		       mov     ax, ds:FileCntTotal
TRANGROUP:11E6		       or      ax, ax
TRANGROUP:11E8		       jz      short catNoFiles
TRANGROUP:11EA		       call    DisplayTotals
TRANGROUP:11ED		       jmp     short catRet
TRANGROUP:11EF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:11EF
TRANGROUP:11EF catRecErr:			       ; ...
TRANGROUP:11EF		       test    ds:COMSW, 1     ; mask.dev
TRANGROUP:11F5		       jnz     short catNoFiles
TRANGROUP:11F7		       test    ds:COMSW, 2     ; mask.baddir
TRANGROUP:11FD		       jz      short catExtErr1
TRANGROUP:11FF		       mov     dx, offset badcd_ptr
TRANGROUP:1202		       jmp     short catExtErr2
TRANGROUP:1204 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1204
TRANGROUP:1204 catNoFiles:			       ; ...
TRANGROUP:1204		       call    DisplayHeader
TRANGROUP:1207		       mov     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:120A		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:120F		       mov     dx, offset extend_buf_ptr
TRANGROUP:1212		       mov     ds:extend_buf_ptr, ax
TRANGROUP:1215		       jmp     short catExtErr2
TRANGROUP:1217 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1217
TRANGROUP:1217 catExtErr1:			       ; ...
TRANGROUP:1217		       call    Set_Ext_Error_Msg
TRANGROUP:121A		       cmp     ds:extend_buf_ptr, 18 ; ERROR_NO_MORE_FILES
TRANGROUP:121F		       jnz     short catExtErr2
TRANGROUP:1221		       mov     ds:extend_buf_ptr, 2 ; ERROR_FILE_NOT_FOUND
TRANGROUP:1227
TRANGROUP:1227 catExtErr2:			       ; ...
TRANGROUP:1227		       test    ds:_Bits, 1     ; close Compressed Volume File if cratio
TRANGROUP:122D		       jz      short catErr
TRANGROUP:122F		       call    CloseCVF
TRANGROUP:1232
TRANGROUP:1232 catErr:				       ; ...
TRANGROUP:1232		       jmp     cerror
TRANGROUP:1235 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1235
TRANGROUP:1235 catRet:				       ; ...
TRANGROUP:1235		       test    ds:_Bits, 1     ; mask cratio
TRANGROUP:123B		       jz      short catRetn
TRANGROUP:123D		       call    CloseCVF
TRANGROUP:1240
TRANGROUP:1240 catRetn:				       ; ...
TRANGROUP:1240		       retn
TRANGROUP:1241
TRANGROUP:1241 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1241
TRANGROUP:1241
TRANGROUP:1241 SetDefaults     proc near	       ; ...
TRANGROUP:1241		       mov     di, offset SrcBuf
TRANGROUP:1244		       mov     ds:PathPos, di
TRANGROUP:1248		       mov     al, '*'
TRANGROUP:124A		       stosb
TRANGROUP:124B		       mov     al, 0Dh
TRANGROUP:124D		       stosb
TRANGROUP:124E		       mov     ds:PathCnt, 1
TRANGROUP:1254		       xor     ax, ax
TRANGROUP:1256		       mov     ds:COMSW, ax
TRANGROUP:1259		       mov     ds:_Bits, ax
TRANGROUP:125C		       mov     ds:DestBuf, al
TRANGROUP:125F		       mov     ds:AttrSpecified, 6 ; ATTR_HIDDEN+ATTR_SYSTEM
TRANGROUP:1264		       mov     ds:AttrSelect, al
TRANGROUP:1267		       mov     ds:fUseHostSize,	al
TRANGROUP:126A		       retn
TRANGROUP:126A SetDefaults     endp
TRANGROUP:126A
TRANGROUP:126B
TRANGROUP:126B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:126B
TRANGROUP:126B
TRANGROUP:126B ParseEnvironment	proc near	       ; ...
TRANGROUP:126B		       call    GetEnvValue
TRANGROUP:126E		       jb      short peRet
TRANGROUP:1270		       call    Parse_Line
TRANGROUP:1273		       cmp     ax, 0FFFFh      ; -1
TRANGROUP:1276		       jz      short peRet
TRANGROUP:1278		       call    std_eprintf
TRANGROUP:127B		       mov     ds:msg_disp_class, 0FFh ; -1
TRANGROUP:1280		       mov     dx, offset errparsenv_ptr
TRANGROUP:1283		       call    Printf_Crlf
TRANGROUP:1286
TRANGROUP:1286 peRet:				       ; ...
TRANGROUP:1286		       retn
TRANGROUP:1286 ParseEnvironment	endp
TRANGROUP:1286
TRANGROUP:1287
TRANGROUP:1287 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1287
TRANGROUP:1287
TRANGROUP:1287 ParseCmdLine    proc near	       ; ...
TRANGROUP:1287		       mov     si, 81h
TRANGROUP:128A		       call    Parse_Line
TRANGROUP:128D		       cmp     ax, 0FFFFh      ; -1
TRANGROUP:1290		       jz      short pcOk
TRANGROUP:1292		       stc
TRANGROUP:1293		       jmp     short pcRet
TRANGROUP:1295 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1295
TRANGROUP:1295 pcOk:				       ; ...
TRANGROUP:1295		       clc
TRANGROUP:1296
TRANGROUP:1296 pcRet:				       ; ...
TRANGROUP:1296		       retn
TRANGROUP:1296 ParseCmdLine    endp
TRANGROUP:1296
TRANGROUP:1297
TRANGROUP:1297 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1297
TRANGROUP:1297
TRANGROUP:1297 SetCollatingTable proc near	       ; ...
TRANGROUP:1297		       mov     dx, offset STACK	; INTERNATVARS
TRANGROUP:129A		       mov     ax, 3800h
TRANGROUP:129D		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:129D					       ; get current-country info
TRANGROUP:129D					       ; DS:DX -> buffer for returned info
TRANGROUP:129F		       jb      short scNoTable
TRANGROUP:12A1		       cmp     bx, 1
TRANGROUP:12A4		       jz      short scNoTable
TRANGROUP:12A6		       mov     ax, 6506h       ; (GETEXTCNTRY<<8)+SETCOLLATE
TRANGROUP:12A6					       ; AH = 'Get Extended Country Info'
TRANGROUP:12A6					       ; AL = 'Get Pointer to Collating Table'
TRANGROUP:12A9		       mov     bx, 0FFFFh      ; -1
TRANGROUP:12AC		       mov     cx, 5	       ; buffer	length
TRANGROUP:12AF		       mov     dx, bx	       ; default country ID
TRANGROUP:12B1		       mov     di, offset CountryPtrInfo
TRANGROUP:12B4		       int     21h	       ; DOS - 4.x internal - COUNTRY-DEPENDENT	FILENAME CAPITALIZATION
TRANGROUP:12B4					       ; AL = function -
TRANGROUP:12B6		       jnb     short scRet
TRANGROUP:12B8
TRANGROUP:12B8 scNoTable:			       ; ...
TRANGROUP:12B8		       mov     ds:CountryPtrInfo, 0 ; mov byte [CountryPtrId],0
TRANGROUP:12BD
TRANGROUP:12BD scRet:				       ; ...
TRANGROUP:12BD		       retn
TRANGROUP:12BD SetCollatingTable endp
TRANGROUP:12BD
TRANGROUP:12BE
TRANGROUP:12BE ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:12BE
TRANGROUP:12BE
TRANGROUP:12BE SetOptions      proc near	       ; ...
TRANGROUP:12BE		       test    ds:_Bits, 10h   ; (inmem,lcase,bare,subd,pagd,wide,cratio)
TRANGROUP:12BE					       ;
TRANGROUP:12BE					       ; mask bare
TRANGROUP:12C4		       jz      short setopts0
TRANGROUP:12C6		       and     ds:_Bits, 0FFFDh	; not mask wide
TRANGROUP:12CB
TRANGROUP:12CB setopts0:			       ; ...
TRANGROUP:12CB		       test    ds:_Bits, 12h   ; (mask bare) or	(mask wide)
TRANGROUP:12D1		       jz      short setopts1
TRANGROUP:12D3		       and     ds:_Bits, 0FFFEh	; not mask cratio
TRANGROUP:12D8
TRANGROUP:12D8 setopts1:			       ; ...
TRANGROUP:12D8		       push    ds
TRANGROUP:12D9		       mov     ax, 40h
TRANGROUP:12DC		       mov     ds, ax
TRANGROUP:12DE		       assume ds:nothing
TRANGROUP:12DE		       mov     al, ds:84h      ; [CRT_Rows]
TRANGROUP:12E1		       pop     ds
TRANGROUP:12E2		       assume ds:nothing
TRANGROUP:12E2		       or      al, al
TRANGROUP:12E4		       jnz     short setopts2
TRANGROUP:12E6		       mov     al, 25	       ; LINESPERPAGE
TRANGROUP:12E8
TRANGROUP:12E8 setopts2:			       ; ...
TRANGROUP:12E8		       xor     ah, ah
TRANGROUP:12EA
TRANGROUP:12EA setopts3:
TRANGROUP:12EA		       inc     al
TRANGROUP:12EC		       mov     ds:LinPerPag, ax
TRANGROUP:12EF		       mov     ax, 440Ch       ; (IOCTL<<8)+GENERIC_IOCTL_HANDLE
TRANGROUP:12F2		       mov     bx, 1	       ; STDOUT
TRANGROUP:12F5		       mov     ch, 3	       ; IOC_SC	(screen)
TRANGROUP:12F7		       mov     cl, 7Fh	       ; get_generic
TRANGROUP:12F9		       mov     dx, offset Display_Ioctl
TRANGROUP:12FC		       int     21h	       ; DOS - 2+ - IOCTL -
TRANGROUP:12FE		       mov     ax, ds:LinPerPag
TRANGROUP:1301		       mov     ds:LeftOnPage, ax
TRANGROUP:1304		       mov     ds:PerLine, 1   ; NORMPERLIN
TRANGROUP:1309		       test    ds:_Bits, 2
TRANGROUP:130F		       jz      short setopts4
TRANGROUP:1311		       mov     ds:PerLine, 5   ; WIDEPERLIN
TRANGROUP:1316
TRANGROUP:1316 setopts4:			       ; ...
TRANGROUP:1316		       cmp     ds:SrcBuf+1, ':'
TRANGROUP:131B		       jnz     short soRet
TRANGROUP:131D		       mov     al, ds:SrcBuf
TRANGROUP:1320		       and     al, 0DFh	       ; ~20h ;	not 20h
TRANGROUP:1320					       ; capitalize ASCII drive	letter
TRANGROUP:1322		       sub     al, '@'         ; sub al,40h
TRANGROUP:1322					       ; convert to 1-based number (1=A)
TRANGROUP:1324		       mov     ds:5Ch, al      ; [FCB]
TRANGROUP:1327
TRANGROUP:1327 soRet:				       ; ...
TRANGROUP:1327		       retn
TRANGROUP:1327 SetOptions      endp
TRANGROUP:1327
TRANGROUP:1328
TRANGROUP:1328 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1328
TRANGROUP:1328
TRANGROUP:1328 CrunchPath      proc near	       ; ...
TRANGROUP:1328		       call    FileIsDevice
TRANGROUP:132B		       jnz     short crpath1
TRANGROUP:132D		       or      ds:COMSW, 1     ; mask.dev
TRANGROUP:1332		       jmp     short cpErr
TRANGROUP:1334 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1334
TRANGROUP:1334 crpath1:				       ; ...
TRANGROUP:1334		       push    ds:PathPos
TRANGROUP:1338		       mov     ds:DirFlag, 0FFh	; -1
TRANGROUP:133D		       call    PathCrunch
TRANGROUP:1340		       mov     ds:DirFlag, 0
TRANGROUP:1345		       pop     si
TRANGROUP:1346		       jb      short cpNoDir
TRANGROUP:1348		       jz      short cpRet
TRANGROUP:134A		       mov     si, ds:DestTail
TRANGROUP:134E		       jmp     short cpFile
TRANGROUP:1350 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1350
TRANGROUP:1350 cpNoDir:				       ; ...
TRANGROUP:1350		       mov     ax, ds:Msg_Numb
TRANGROUP:1353		       or      ax, ax
TRANGROUP:1355		       jnz     short cpErr
TRANGROUP:1357		       cmp     ds:DestIsDir, 0
TRANGROUP:135C		       jz      short cpMaybe
TRANGROUP:135E		       or      ds:COMSW, 2     ; mask.baddir
TRANGROUP:1363		       jmp     short cpErr
TRANGROUP:1365 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1365
TRANGROUP:1365 cpMaybe:				       ; ...
TRANGROUP:1365		       cmp     byte ptr	[si+1],	':'
TRANGROUP:1369		       jnz     short crpath2
TRANGROUP:136B		       lodsw
TRANGROUP:136C
TRANGROUP:136C crpath2:				       ; ...
TRANGROUP:136C		       cmp     word ptr	[si], '..'
TRANGROUP:1370		       jnz     short cpFile
TRANGROUP:1372		       cmp     byte ptr	[si+2],	0
TRANGROUP:1376		       jnz     short cpFile
TRANGROUP:1378		       or      ds:COMSW, 2
TRANGROUP:137D		       jmp     short cpErr
TRANGROUP:137F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:137F
TRANGROUP:137F cpFile:				       ; ...
TRANGROUP:137F		       mov     di, 5Ch	       ; FCB
TRANGROUP:1382		       mov     ax, 290Eh
TRANGROUP:1385		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:1385					       ; DS:SI -> string to parse
TRANGROUP:1385					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:1385					       ; AL = bit mask to control parsing
TRANGROUP:1387		       clc
TRANGROUP:1388		       jmp     short cpRet
TRANGROUP:138A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:138A
TRANGROUP:138A cpErr:				       ; ...
TRANGROUP:138A		       stc
TRANGROUP:138B
TRANGROUP:138B cpRet:				       ; ...
TRANGROUP:138B		       retn
TRANGROUP:138B CrunchPath      endp
TRANGROUP:138B
TRANGROUP:138C
TRANGROUP:138C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:138C
TRANGROUP:138C
TRANGROUP:138C InstallCtrlC    proc near	       ; ...
TRANGROUP:138C		       push    es
TRANGROUP:138D		       mov     ax, 3523h
TRANGROUP:1390		       int     21h	       ; DOS - 2+ - GET	INTERRUPT VECTOR
TRANGROUP:1390					       ; AL = interrupt	number
TRANGROUP:1390					       ; Return: ES:BX = value of interrupt vector
TRANGROUP:1392		       mov     word ptr	ds:OldCtrlCHandler, bx
TRANGROUP:1396		       mov     word ptr	ds:OldCtrlCHandler+2, es
TRANGROUP:139A		       pop     es
TRANGROUP:139B		       mov     dx, offset CtrlCHandler
TRANGROUP:139E		       mov     ax, 2523h
TRANGROUP:13A1		       int     21h	       ; DOS - SET INTERRUPT VECTOR
TRANGROUP:13A1					       ; AL = interrupt	number
TRANGROUP:13A1					       ; DS:DX = new vector to be used for specified interrupt
TRANGROUP:13A3		       retn
TRANGROUP:13A3 InstallCtrlC    endp
TRANGROUP:13A3
TRANGROUP:13A4
TRANGROUP:13A4 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:13A4
TRANGROUP:13A4
TRANGROUP:13A4 ListSubds       proc near	       ; ...
TRANGROUP:13A4		       call    SetRest1
TRANGROUP:13A7		       mov     bx, offset ScanBuf
TRANGROUP:13AA
TRANGROUP:13AA lsNode:				       ; ...
TRANGROUP:13AA		       mov     byte ptr	[bx], 0
TRANGROUP:13AD
TRANGROUP:13AD lsLoop:				       ; ...
TRANGROUP:13AD		       call    FindNextChild
TRANGROUP:13B0		       jb      short lsErr
TRANGROUP:13B2		       mov     dx, bx
TRANGROUP:13B4		       call    ChangeDir
TRANGROUP:13B7		       jnb     short lstsd1
TRANGROUP:13B9		       cmp     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:13BC		       jz      short lsLoop
TRANGROUP:13BE		       jmp     short lsRet
TRANGROUP:13C0 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:13C0
TRANGROUP:13C0 lstsd1:				       ; ...
TRANGROUP:13C0		       push    bx
TRANGROUP:13C1		       call    ListDir
TRANGROUP:13C4		       pop     bx
TRANGROUP:13C5		       mov     di, bx
TRANGROUP:13C7		       mov     cx, 13
TRANGROUP:13CA		       xor     al, al
TRANGROUP:13CC		       repne scasb
TRANGROUP:13CE		       push    bx
TRANGROUP:13CF		       mov     bx, di
TRANGROUP:13D1		       call    lsNode
TRANGROUP:13D4		       pop     bx
TRANGROUP:13D5		       pushf
TRANGROUP:13D6		       mov     ax, 0
TRANGROUP:13D9		       push    ax
TRANGROUP:13DA		       mov     ax, '..'
TRANGROUP:13DD		       push    ax
TRANGROUP:13DE		       mov     dx, sp
TRANGROUP:13E0		       call    ChangeDir
TRANGROUP:13E3		       pop     ax
TRANGROUP:13E4		       pop     ax
TRANGROUP:13E5		       popf
TRANGROUP:13E6		       jb      short lsRet
TRANGROUP:13E8		       jmp     short lsLoop
TRANGROUP:13EA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:13EA
TRANGROUP:13EA lsErr:				       ; ...
TRANGROUP:13EA		       call    get_ext_error_number
TRANGROUP:13ED		       cmp     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:13F0		       jz      short lsRet
TRANGROUP:13F2		       cmp     ax, 18	       ; ERROR_NO_MORE_FILES
TRANGROUP:13F5		       jz      short lsRet
TRANGROUP:13F7		       stc
TRANGROUP:13F8
TRANGROUP:13F8 lsRet:				       ; ...
TRANGROUP:13F8		       retn
TRANGROUP:13F8 ListSubds       endp
TRANGROUP:13F8
TRANGROUP:13F9
TRANGROUP:13F9 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:13F9
TRANGROUP:13F9
TRANGROUP:13F9 CheckChild      proc near	       ; ...
TRANGROUP:13F9		       test    ds:DIRBUF_find_buf_attr,	10h ;
TRANGROUP:13F9					       ; [DIRBUF+FIND_BUF.ATTR],ATTR_DIRECTORY
TRANGROUP:13FE		       jz      short ccRet
TRANGROUP:1400		       cmp     ds:DIRBUF_find_buf_pname, '.' ; [DIRBUF+FIND_BUF.PNAME]
TRANGROUP:1405		       jz      short ccRet
TRANGROUP:1407		       mov     si, offset DIRBUF_find_buf_pname
TRANGROUP:140A		       mov     di, bx
TRANGROUP:140C		       call    CmpAscz
TRANGROUP:140F		       jbe     short ccRet
TRANGROUP:1411		       mov     si, offset DIRBUF_find_buf_pname
TRANGROUP:1414		       mov     di, bp
TRANGROUP:1416		       call    CmpAscz
TRANGROUP:1419		       jnb     short ccRet
TRANGROUP:141B		       mov     si, offset DIRBUF_find_buf_pname
TRANGROUP:141E		       mov     di, bp
TRANGROUP:1420		       mov     cx, 13
TRANGROUP:1423		       rep movsb
TRANGROUP:1425
TRANGROUP:1425 ccRet:				       ; ...
TRANGROUP:1425		       retn
TRANGROUP:1425 CheckChild      endp
TRANGROUP:1425
TRANGROUP:1426
TRANGROUP:1426 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1426
TRANGROUP:1426
TRANGROUP:1426 CmpEntry	       proc near	       ; ...
TRANGROUP:1426		       mov     si, offset DestBuf
TRANGROUP:1429
TRANGROUP:1429 ceLoop:				       ; ...
TRANGROUP:1429		       xor     ax, ax
TRANGROUP:142B		       mov     al, [si]
TRANGROUP:142D		       or      al, al
TRANGROUP:142F		       jz      short ceDone
TRANGROUP:1431		       inc     si
TRANGROUP:1432		       push    si
TRANGROUP:1433		       dec     al
TRANGROUP:1435		       shl     al, 1
TRANGROUP:1437		       mov     si, ax
TRANGROUP:1439		       mov     ax, cs:FieldCmps[si]
TRANGROUP:143E		       jb      short ceDn
TRANGROUP:1440		       call    ax
TRANGROUP:1442		       jmp     short ceNs
TRANGROUP:1444 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1444
TRANGROUP:1444 ceDn:				       ; ...
TRANGROUP:1444		       xchg    bx, bp
TRANGROUP:1446		       call    ax
TRANGROUP:1448		       xchg    bx, bp
TRANGROUP:144A
TRANGROUP:144A ceNs:				       ; ...
TRANGROUP:144A		       pop     si
TRANGROUP:144B		       jz      short ceLoop
TRANGROUP:144D
TRANGROUP:144D ceDone:				       ; ...
TRANGROUP:144D		       retn
TRANGROUP:144D CmpEntry	       endp
TRANGROUP:144D
TRANGROUP:144D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:144E FieldCmps       dw offset CmpName       ; ...
TRANGROUP:1450		       dw offset CmpExt
TRANGROUP:1452		       dw offset CmpTime
TRANGROUP:1454		       dw offset CmpSize
TRANGROUP:1456		       dw offset CmpType
TRANGROUP:1458		       dw offset CmpCratio
TRANGROUP:145A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:145A
TRANGROUP:145A CmpName:				       ; ...
TRANGROUP:145A		       mov     si, bx
TRANGROUP:145C		       mov     di, bp
TRANGROUP:145E		       add     si, 1	       ; entry.filename
TRANGROUP:1461		       add     di, 1	       ; entry.filename
TRANGROUP:1464		       mov     cx, 8	       ; size entry.filename
TRANGROUP:1467		       jmp     short CmpStr
TRANGROUP:1469 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1469
TRANGROUP:1469 CmpExt:				       ; ...
TRANGROUP:1469		       mov     si, bx
TRANGROUP:146B		       mov     di, bp
TRANGROUP:146D		       add     si, 9	       ; entry.fileext
TRANGROUP:1470		       add     di, 9	       ; entry.fileext
TRANGROUP:1473		       mov     cx, 3	       ; size entry.fileext
TRANGROUP:1476
TRANGROUP:1476 CmpStr:				       ; ...
TRANGROUP:1476		       cmp     ds:CountryPtrInfo, 6 ; CountryPtrId
TRANGROUP:147B		       jnz     short cnNoCollTable
TRANGROUP:147D		       push    bp
TRANGROUP:147E		       push    bx
TRANGROUP:147F		       push    ds
TRANGROUP:1480		       lds     bx, ds:CountryPtr
TRANGROUP:1484		       mov     bp, [bx]
TRANGROUP:1486		       inc     bx
TRANGROUP:1487		       inc     bx
TRANGROUP:1488		       xor     ax, ax
TRANGROUP:148A
TRANGROUP:148A cnNextChar:			       ; ...
TRANGROUP:148A		       mov     al, es:[di]
TRANGROUP:148D		       inc     di
TRANGROUP:148E		       cmp     ax, bp
TRANGROUP:1490		       jnb     short cn1
TRANGROUP:1492		       xlat
TRANGROUP:1493
TRANGROUP:1493 cn1:				       ; ...
TRANGROUP:1493		       mov     dx, ax
TRANGROUP:1495		       lods    byte ptr	es:[si]
TRANGROUP:1497		       cmp     ax, bp
TRANGROUP:1499		       jnb     short cn2
TRANGROUP:149B		       xlat
TRANGROUP:149C
TRANGROUP:149C cn2:				       ; ...
TRANGROUP:149C		       cmp     ax, dx
TRANGROUP:149E		       loope   cnNextChar
TRANGROUP:14A0		       pop     ds
TRANGROUP:14A1		       pop     bx
TRANGROUP:14A2		       pop     bp
TRANGROUP:14A3		       retn
TRANGROUP:14A4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:14A4
TRANGROUP:14A4 cnNoCollTable:			       ; ...
TRANGROUP:14A4		       repe cmps byte ptr es:[si], byte	ptr es:[di]
TRANGROUP:14A7		       retn
TRANGROUP:14A8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:14A8
TRANGROUP:14A8 CmpTime:				       ; ...
TRANGROUP:14A8		       mov     si, bx
TRANGROUP:14AA		       mov     di, bp
TRANGROUP:14AC		       add     si, 16	       ; entry.filedate	+ size entry.filedate -	1
TRANGROUP:14AF		       add     di, 16	       ; entry.filedate	+ size entry.filedate -	1
TRANGROUP:14B2		       mov     cx, 4	       ; size entry.filetime + size entry.filedate
TRANGROUP:14B5		       std
TRANGROUP:14B6		       repe cmps byte ptr es:[si], byte	ptr es:[di]
TRANGROUP:14B9		       cld
TRANGROUP:14BA		       retn
TRANGROUP:14BB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:14BB
TRANGROUP:14BB CmpSize:				       ; ...
TRANGROUP:14BB		       mov     si, bx
TRANGROUP:14BD		       mov     di, bp
TRANGROUP:14BF		       add     si, 20
TRANGROUP:14C2		       add     di, 20
TRANGROUP:14C5		       mov     cx, 4
TRANGROUP:14C8		       std
TRANGROUP:14C9		       repe cmps byte ptr es:[si], byte	ptr es:[di]
TRANGROUP:14CC		       cld
TRANGROUP:14CD		       retn
TRANGROUP:14CE ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:14CE
TRANGROUP:14CE CmpType:				       ; ...
TRANGROUP:14CE		       mov     al, es:[bx+12]  ; entry.fileattr
TRANGROUP:14D2		       mov     ah, es:[bp+12]
TRANGROUP:14D6		       and     ax, 1010h       ; (ATTR_DIRECTORY<<8)+ATTR_DIRECTORY
TRANGROUP:14D9		       cmp     ah, al
TRANGROUP:14DB		       retn
TRANGROUP:14DC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:14DC
TRANGROUP:14DC CmpCratio:			       ; ...
TRANGROUP:14DC		       mov     al, es:[bx+21]  ;  es:[bx].compratio
TRANGROUP:14E0		       cmp     al, es:[bp+21]
TRANGROUP:14E4		       retn
TRANGROUP:14E5
TRANGROUP:14E5 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:14E5
TRANGROUP:14E5
TRANGROUP:14E5 DefaultAttr     proc near	       ; ...
TRANGROUP:14E5		       mov     ds:AttrSpecified, 6 ; ATTR_HIDDEN+ATTR_SYSTEM
TRANGROUP:14EA		       mov     ds:AttrSelect, 0
TRANGROUP:14EF		       clc
TRANGROUP:14F0		       retn
TRANGROUP:14F0 DefaultAttr     endp
TRANGROUP:14F0
TRANGROUP:14F1
TRANGROUP:14F1 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:14F1
TRANGROUP:14F1
TRANGROUP:14F1 DisplayTotals   proc near	       ; ...
TRANGROUP:14F1		       test    ds:_Bits, 8     ; mask subd
TRANGROUP:14F7		       jz      short dtFree
TRANGROUP:14F9		       call    CRLF2
TRANGROUP:14FC		       call    UseLine
TRANGROUP:14FF		       mov     dx, offset total_ptr
TRANGROUP:1502		       call    std_printf
TRANGROUP:1505		       call    UseLine
TRANGROUP:1508		       test    ds:_Bits, 1     ; mask cratio
TRANGROUP:150E		       jz      short dtCntSize
TRANGROUP:1510		       mov     ax, ds:ccluUsedTotal
TRANGROUP:1513		       mov     ds:ccluUsedDir, ax
TRANGROUP:1516		       mov     si, offset csecUsedTotal
TRANGROUP:1519		       mov     di, offset csecUsedDir
TRANGROUP:151C		       movsw
TRANGROUP:151D		       movsw
TRANGROUP:151E
TRANGROUP:151E dtCntSize:			       ; ...
TRANGROUP:151E		       mov     ax, ds:FileCntTotal
TRANGROUP:1521		       mov     si, offset FileSizTotal
TRANGROUP:1524		       mov     di, offset FileSiz
TRANGROUP:1527		       movsw
TRANGROUP:1528		       movsw
TRANGROUP:1529		       call    DisplayCntSiz
TRANGROUP:152C
TRANGROUP:152C dtFree:				       ; ...
TRANGROUP:152C		       mov     ah, 36h
TRANGROUP:152E		       mov     dl, ds:5Ch
TRANGROUP:1532		       int     21h	       ; DOS - 2+ - GET	DISK SPACE
TRANGROUP:1532					       ; DL = drive code (0 = default, 1 = A, 2	= B, etc.)
TRANGROUP:1534		       cmp     ax, 0FFFFh      ; -1
TRANGROUP:1537		       jz      short dtRet
TRANGROUP:1539		       mul     cx
TRANGROUP:153B		       mul     bx
TRANGROUP:153D		       mov     word ptr	ds:Bytes_Free, ax
TRANGROUP:1540		       mov     word ptr	ds:Bytes_Free+2, dx
TRANGROUP:1544		       mov     dx, offset bytmes_ptr
TRANGROUP:1547		       call    std_printf
TRANGROUP:154A		       call    UseLine
TRANGROUP:154D
TRANGROUP:154D dtRet:				       ; ...
TRANGROUP:154D		       retn
TRANGROUP:154D DisplayTotals   endp
TRANGROUP:154D
TRANGROUP:154E
TRANGROUP:154E ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:154E
TRANGROUP:154E
TRANGROUP:154E FileIsDevice    proc near	       ; ...
TRANGROUP:154E		       mov     dx, ds:PathPos
TRANGROUP:1552		       mov     di, dx
TRANGROUP:1554		       add     di, ds:PathCnt
TRANGROUP:1558		       xor     bl, bl
TRANGROUP:155A		       xchg    bl, [di]
TRANGROUP:155C		       xor     cx, cx
TRANGROUP:155E		       mov     ah, 4Eh
TRANGROUP:1560		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:1560					       ; CX = search attributes
TRANGROUP:1560					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:1560					       ; (drive, path, and wildcards allowed)
TRANGROUP:1562		       xchg    bl, [di]
TRANGROUP:1564		       jb      short piCol
TRANGROUP:1566		       test    ds:DIRBUF_find_buf_attr,	40h ; [DIRBUF+21],40h
TRANGROUP:1566					       ; [DIRBUF+FIND_BUF.ATTR],ATTR_DEVICE
TRANGROUP:156B		       jz      short piCol
TRANGROUP:156D		       xor     cx, cx
TRANGROUP:156F		       jmp     short piRet
TRANGROUP:1571 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1571
TRANGROUP:1571 piCol:				       ; ...
TRANGROUP:1571		       dec     di
TRANGROUP:1572		       mov     al, ':'
TRANGROUP:1574		       mov     cx, ds:PathCnt
TRANGROUP:1578		       dec     cx
TRANGROUP:1579		       dec     cx
TRANGROUP:157A		       or      cx, cx
TRANGROUP:157C		       js      short piRet
TRANGROUP:157E		       or      di, di
TRANGROUP:1580		       std
TRANGROUP:1581		       repne scasb
TRANGROUP:1583		       cld
TRANGROUP:1584
TRANGROUP:1584 piRet:				       ; ...
TRANGROUP:1584		       retn
TRANGROUP:1584 FileIsDevice    endp
TRANGROUP:1584
TRANGROUP:1585
TRANGROUP:1585 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1585
TRANGROUP:1585
TRANGROUP:1585 FindFirst       proc near	       ; ...
TRANGROUP:1585		       mov     ax, offset GetFirst
TRANGROUP:1588		       jmp     short ffFindEntry
TRANGROUP:1588 FindFirst       endp
TRANGROUP:1588
TRANGROUP:158A
TRANGROUP:158A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:158A
TRANGROUP:158A
TRANGROUP:158A FindNext	       proc near	       ; ...
TRANGROUP:158A		       mov     ax, offset GetNext
TRANGROUP:158D
TRANGROUP:158D ffFindEntry:			       ; ...
TRANGROUP:158D		       push    es
TRANGROUP:158E		       test    ds:_Bits, 40h   ; mask.inmem
TRANGROUP:1594		       jz      short ffDisk
TRANGROUP:1596		       call    FindInMem
TRANGROUP:1599		       jmp     short ffRet
TRANGROUP:159B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:159B
TRANGROUP:159B ffDisk:				       ; ...
TRANGROUP:159B		       call    ax
TRANGROUP:159D		       jb      short ffGetErr
TRANGROUP:159F		       mov     es, ds:TPA
TRANGROUP:15A3		       xor     di, di
TRANGROUP:15A5		       mov     bx, di
TRANGROUP:15A7		       call    LoadEntry
TRANGROUP:15AA		       clc
TRANGROUP:15AB		       jmp     short ffRet
TRANGROUP:15AD ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:15AD
TRANGROUP:15AD ffGetErr:			       ; ...
TRANGROUP:15AD		       call    get_ext_error_number
TRANGROUP:15B0		       stc
TRANGROUP:15B1
TRANGROUP:15B1 ffRet:				       ; ...
TRANGROUP:15B1		       pop     es
TRANGROUP:15B2		       retn
TRANGROUP:15B2 FindNext	       endp
TRANGROUP:15B2
TRANGROUP:15B3
TRANGROUP:15B3 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:15B3
TRANGROUP:15B3
TRANGROUP:15B3 FindInMem       proc near	       ; ...
TRANGROUP:15B3		       mov     es, ds:TPA
TRANGROUP:15B7		       xor     bx, bx
TRANGROUP:15B9		       cld
TRANGROUP:15BA		       call    FindOneInMem
TRANGROUP:15BD		       jb      short fiNoMore
TRANGROUP:15BF
TRANGROUP:15BF fiBest:				       ; ...
TRANGROUP:15BF		       mov     bp, bx
TRANGROUP:15C1
TRANGROUP:15C1 fiNext:				       ; ...
TRANGROUP:15C1		       call    FindNextInMem
TRANGROUP:15C4		       jb      short fiFound
TRANGROUP:15C6		       call    CmpEntry
TRANGROUP:15C9		       jnb     short fiNext
TRANGROUP:15CB		       jmp     short fiBest
TRANGROUP:15CD ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:15CD
TRANGROUP:15CD fiNoMore:			       ; ...
TRANGROUP:15CD		       mov     ax, 18	       ; ERROR_NO_MORE_FILES
TRANGROUP:15D0		       stc
TRANGROUP:15D1		       jmp     short fiRet
TRANGROUP:15D3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:15D3
TRANGROUP:15D3 fiFound:				       ; ...
TRANGROUP:15D3		       mov     bx, bp
TRANGROUP:15D5		       mov     byte ptr	es:[bx], 1
TRANGROUP:15D9		       clc
TRANGROUP:15DA
TRANGROUP:15DA fiRet:				       ; ...
TRANGROUP:15DA		       retn
TRANGROUP:15DA FindInMem       endp
TRANGROUP:15DA
TRANGROUP:15DB
TRANGROUP:15DB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:15DB
TRANGROUP:15DB
TRANGROUP:15DB FindNextChild   proc near	       ; ...
TRANGROUP:15DB		       sub     sp, 12
TRANGROUP:15DE		       mov     ax, 0FFh
TRANGROUP:15E1		       push    ax
TRANGROUP:15E2		       mov     bp, sp
TRANGROUP:15E4		       mov     ax, '*'         ; 002Ah
TRANGROUP:15E7		       push    ax
TRANGROUP:15E8		       mov     ax, 2E2Ah       ; '*.'
TRANGROUP:15EB		       push    ax
TRANGROUP:15EC		       call    GetDriveLtr
TRANGROUP:15EF		       push    ax
TRANGROUP:15F0		       mov     dx, sp
TRANGROUP:15F2		       mov     cx, 10h	       ; ATTR_DIRECTORY
TRANGROUP:15F5		       mov     ah, 4Eh
TRANGROUP:15F7		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:15F7					       ; CX = search attributes
TRANGROUP:15F7					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:15F7					       ; (drive, path, and wildcards allowed)
TRANGROUP:15F9		       jb      short fcRet
TRANGROUP:15FB		       call    CheckChild
TRANGROUP:15FE
TRANGROUP:15FE fcNext:				       ; ...
TRANGROUP:15FE		       mov     cx, 10h
TRANGROUP:1601		       mov     ah, 4Fh
TRANGROUP:1603		       int     21h	       ; DOS - 2+ - FIND NEXT ASCIZ (FINDNEXT)
TRANGROUP:1603					       ; [DTA] = data block from
TRANGROUP:1603					       ; last AH = 4Eh/4Fh call
TRANGROUP:1605		       jb      short fcErr
TRANGROUP:1607		       call    CheckChild
TRANGROUP:160A		       jmp     short fcNext
TRANGROUP:160C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:160C
TRANGROUP:160C fcErr:				       ; ...
TRANGROUP:160C		       call    get_ext_error_number
TRANGROUP:160F		       cmp     ax, 18	       ; ERROR_NO_MORE_FILES
TRANGROUP:1612		       jnz     short fcNope
TRANGROUP:1614		       cmp     byte ptr	[bp+0],	0FFh
TRANGROUP:1618		       jz      short fcNope
TRANGROUP:161A		       mov     si, bp
TRANGROUP:161C		       mov     di, bx
TRANGROUP:161E
TRANGROUP:161E fcMove:				       ; ...
TRANGROUP:161E		       lodsb
TRANGROUP:161F		       stosb
TRANGROUP:1620		       or      al, al
TRANGROUP:1622		       jz      short fcRet
TRANGROUP:1624		       jmp     short fcMove
TRANGROUP:1626 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1626
TRANGROUP:1626 fcNope:				       ; ...
TRANGROUP:1626		       stc
TRANGROUP:1627
TRANGROUP:1627 fcRet:				       ; ...
TRANGROUP:1627		       lahf
TRANGROUP:1628		       add     sp, 20
TRANGROUP:162B		       sahf
TRANGROUP:162C		       retn
TRANGROUP:162C FindNextChild   endp
TRANGROUP:162C
TRANGROUP:162D
TRANGROUP:162D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:162D
TRANGROUP:162D
TRANGROUP:162D FindOneInMem    proc near	       ; ...
TRANGROUP:162D
TRANGROUP:162D ; FUNCTION CHUNK	AT TRANGROUP:163F SIZE 00000002	BYTES
TRANGROUP:162D
TRANGROUP:162D		       mov     al, es:[bx]
TRANGROUP:1630		       cmp     al, 1
TRANGROUP:1632		       jz      short FindNextInMem
TRANGROUP:1634		       cmp     al, 0FFh
TRANGROUP:1636		       jz      short foNoMore
TRANGROUP:1638		       clc
TRANGROUP:1639		       retn
TRANGROUP:1639 FindOneInMem    endp
TRANGROUP:1639
TRANGROUP:163A
TRANGROUP:163A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:163A
TRANGROUP:163A
TRANGROUP:163A FindNextInMem   proc near	       ; ...
TRANGROUP:163A		       add     bx, 22	       ; size EntryStruc (22 = 21 + compratio)
TRANGROUP:163D		       jmp     short FindOneInMem
TRANGROUP:163D FindNextInMem   endp
TRANGROUP:163D
TRANGROUP:163F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:163F ; START OF FUNCTION CHUNK FOR FindOneInMem
TRANGROUP:163F
TRANGROUP:163F foNoMore:			       ; ...
TRANGROUP:163F		       stc
TRANGROUP:1640		       retn
TRANGROUP:1640 ; END OF	FUNCTION CHUNK FOR FindOneInMem
TRANGROUP:1641
TRANGROUP:1641 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1641
TRANGROUP:1641
TRANGROUP:1641 GetEnvValue     proc near	       ; ...
TRANGROUP:1641		       push    es
TRANGROUP:1642		       mov     si, offset DirEnvVar ; "DIRCMD="
TRANGROUP:1645		       call    find_name_in_environment
TRANGROUP:1648		       jb      short geRet
TRANGROUP:164A		       push    ds
TRANGROUP:164B		       push    es
TRANGROUP:164C		       pop     ds
TRANGROUP:164D		       pop     es
TRANGROUP:164E		       mov     si, di
TRANGROUP:1650		       mov     di, offset ScanBuf
TRANGROUP:1653
TRANGROUP:1653 geLoop:				       ; ...
TRANGROUP:1653		       lodsb
TRANGROUP:1654		       or      al, al
TRANGROUP:1656		       stosb
TRANGROUP:1657		       loopne  geLoop
TRANGROUP:1659		       push    es
TRANGROUP:165A		       pop     ds
TRANGROUP:165B		       mov     si, offset ScanBuf
TRANGROUP:165E
TRANGROUP:165E geRet:				       ; ...
TRANGROUP:165E		       pop     es
TRANGROUP:165F		       retn
TRANGROUP:165F GetEnvValue     endp
TRANGROUP:165F
TRANGROUP:1660
TRANGROUP:1660 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1660
TRANGROUP:1660
TRANGROUP:1660 GetFirst	       proc near	       ; ...
TRANGROUP:1660		       mov     byte ptr	ds:55h,	0FFh ; [FCB-7]
TRANGROUP:1665		       mov     byte ptr	ds:5Bh,	16h ; mov byte [FCB-1],ATTR_ALL
TRANGROUP:166A		       mov     dx, 55h	       ; FCB-7
TRANGROUP:166D		       mov     ah, 11h
TRANGROUP:166F		       int     21h	       ; DOS - SEARCH FIRST USING FCB
TRANGROUP:166F					       ; DS:DX -> FCB
TRANGROUP:1671		       shl     al, 1
TRANGROUP:1673		       jb      short gfRet
TRANGROUP:1675		       jmp     short gfFound
TRANGROUP:1675 GetFirst	       endp
TRANGROUP:1675
TRANGROUP:1677
TRANGROUP:1677 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1677
TRANGROUP:1677
TRANGROUP:1677 GetNext	       proc near	       ; ...
TRANGROUP:1677		       mov     dx, 55h
TRANGROUP:167A		       mov     ah, 12h
TRANGROUP:167C		       int     21h	       ; DOS - SEARCH NEXT USING FCB
TRANGROUP:167C					       ; DS:DX -> FCB
TRANGROUP:167C					       ; Return: AL = status
TRANGROUP:167E		       shl     al, 1
TRANGROUP:1680		       jb      short gfRet
TRANGROUP:1682
TRANGROUP:1682 gfFound:				       ; ...
TRANGROUP:1682		       mov     al, ds:DIRBUF_8_DIR_ATTR	;
TRANGROUP:1682					       ; [DIRBUF+8+DIR_ENTRY.DIR_ATTR]
TRANGROUP:1685		       mov     ah, ds:AttrSpecified
TRANGROUP:1689		       and     al, ah
TRANGROUP:168B		       and     ah, ds:AttrSelect
TRANGROUP:168F		       cmp     al, ah
TRANGROUP:1691		       jnz     short GetNext
TRANGROUP:1693
TRANGROUP:1693 gfRet:				       ; ...
TRANGROUP:1693		       retn
TRANGROUP:1693 GetNext	       endp
TRANGROUP:1693
TRANGROUP:1694
TRANGROUP:1694 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1694
TRANGROUP:1694
TRANGROUP:1694 ListDir	       proc near	       ; ...
TRANGROUP:1694		       xor     ax, ax
TRANGROUP:1696		       mov     ds:FileCnt, ax  ; zero file count
TRANGROUP:1699		       mov     ds:FileSiz, ax  ; zero file size	accumulator
TRANGROUP:169C		       mov     ds:FileSiz+2, ax
TRANGROUP:169F		       mov     ds:ccluUsedDir, ax ; zero count clusters	used
TRANGROUP:16A2		       mov     ds:csecUsedDir, ax ; zero count compressed sectors used
TRANGROUP:16A5		       mov     ds:csecUsedDir+2, ax
TRANGROUP:16A8		       cmp     ds:DestBuf, 0   ; check for sort	code
TRANGROUP:16AD		       jz      short ld1
TRANGROUP:16AF		       call    LoadEntries     ; load entries for sorted listing
TRANGROUP:16B2		       jnb     short ld1
TRANGROUP:16B4		       call    get_ext_error_number
TRANGROUP:16B7		       stc
TRANGROUP:16B8		       jmp     short ldErr
TRANGROUP:16BA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:16BA
TRANGROUP:16BA ld1:				       ; ...
TRANGROUP:16BA		       call    FindFirst
TRANGROUP:16BD		       jb      short ldErr
TRANGROUP:16BF		       call    DisplayHeader
TRANGROUP:16C2		       call    DisplayFile
TRANGROUP:16C5
TRANGROUP:16C5 ldNext:				       ; ...
TRANGROUP:16C5		       call    FindNext
TRANGROUP:16C8		       jb      short ldErr
TRANGROUP:16CA		       call    DisplayFile
TRANGROUP:16CD		       jmp     short ldNext
TRANGROUP:16CF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:16CF
TRANGROUP:16CF ldErr:				       ; ...
TRANGROUP:16CF		       cmp     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:16D2		       jz      short ldDone
TRANGROUP:16D4		       cmp     ax, 18	       ; ERROR_NO_MORE_FILES
TRANGROUP:16D7		       jz      short ldDone
TRANGROUP:16D9		       stc
TRANGROUP:16DA		       jmp     short ldRet
TRANGROUP:16DC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:16DC
TRANGROUP:16DC ldDone:				       ; ...
TRANGROUP:16DC		       cmp     ds:FileCnt, 0
TRANGROUP:16E1		       jz      short ld2
TRANGROUP:16E3		       call    DisplayTrailer
TRANGROUP:16E6
TRANGROUP:16E6 ld2:				       ; ...
TRANGROUP:16E6		       clc
TRANGROUP:16E7
TRANGROUP:16E7 ldRet:				       ; ...
TRANGROUP:16E7		       retn
TRANGROUP:16E7 ListDir	       endp
TRANGROUP:16E7
TRANGROUP:16E8
TRANGROUP:16E8 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:16E8
TRANGROUP:16E8
TRANGROUP:16E8 LoadEntries     proc near	       ; ...
TRANGROUP:16E8		       push    es
TRANGROUP:16E9		       mov     es, ds:TPA
TRANGROUP:16ED		       xor     di, di
TRANGROUP:16EF		       and     ds:_Bits, 0FFBFh	;  ~mask.inmem ; not mask.inmem
TRANGROUP:16F4		       call    GetFirst
TRANGROUP:16F7		       jb      short leRet
TRANGROUP:16F9		       call    LoadEntry
TRANGROUP:16FC
TRANGROUP:16FC leNext:				       ; ...
TRANGROUP:16FC		       call    GetNext
TRANGROUP:16FF		       jb      short leLoaded
TRANGROUP:1701		       mov     ax, ds:BYTCNT
TRANGROUP:1704		       sub     ax, di
TRANGROUP:1706		       cmp     ax, 24	       ; size EntryStruc+2 (23 + compratio)
TRANGROUP:1709		       jb      short leOk
TRANGROUP:170B		       call    LoadEntry
TRANGROUP:170E		       jmp     short leNext
TRANGROUP:1710 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1710
TRANGROUP:1710 leLoaded:			       ; ...
TRANGROUP:1710		       mov     byte ptr	es:[di], 0FFh
TRANGROUP:1714		       or      ds:_Bits, 40h   ; mask.inmem
TRANGROUP:1719
TRANGROUP:1719 leOk:				       ; ...
TRANGROUP:1719		       clc
TRANGROUP:171A
TRANGROUP:171A leRet:				       ; ...
TRANGROUP:171A		       pop     es
TRANGROUP:171B		       retn
TRANGROUP:171B LoadEntries     endp
TRANGROUP:171B
TRANGROUP:171C
TRANGROUP:171C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:171C
TRANGROUP:171C
TRANGROUP:171C LoadEntry       proc near	       ; ...
TRANGROUP:171C		       mov     si, offset DIRBUF_8 ; DIRBUF+8
TRANGROUP:171F		       xor     al, al
TRANGROUP:1721		       stosb
TRANGROUP:1722		       mov     cx, 11
TRANGROUP:1725		       rep movsb
TRANGROUP:1727		       lodsb
TRANGROUP:1728		       stosb
TRANGROUP:1729		       add     si, 10	       ; (DIR_ENTRY.DIR_TIME-DIR_ENTRY.DIR_ATTR)-1
TRANGROUP:172C		       movsw
TRANGROUP:172D		       movsw
TRANGROUP:172E		       mov     cl, al
TRANGROUP:1730		       lodsw
TRANGROUP:1731		       and     cl, 10h	       ; ATTR_DIRECTORY
TRANGROUP:1734		       jnz     short leSetDirSize
TRANGROUP:1736		       movsw
TRANGROUP:1737		       movsw
TRANGROUP:1738		       test    ds:_Bits, 1     ; mask.cratio
TRANGROUP:173E		       jnz     short leCalcRatio
TRANGROUP:1740		       xor     ax, ax
TRANGROUP:1742		       stosb
TRANGROUP:1743		       retn
TRANGROUP:1744 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1744
TRANGROUP:1744 leCalcRatio:			       ; ...
TRANGROUP:1744		       call    CalcCompRatio
TRANGROUP:1747		       or      ax, ax
TRANGROUP:1749		       jz      short leNoRatio
TRANGROUP:174B		       dec     ah
TRANGROUP:174D		       mov     cl, 4
TRANGROUP:174F		       shl     ah, cl
TRANGROUP:1751		       or      al, ah
TRANGROUP:1753		       stosb
TRANGROUP:1754		       retn
TRANGROUP:1755 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1755
TRANGROUP:1755 leSetDirSize:			       ; ...
TRANGROUP:1755		       xor     ax, ax
TRANGROUP:1757		       stosw
TRANGROUP:1758		       stosw
TRANGROUP:1759
TRANGROUP:1759 leNoRatio:			       ; ...
TRANGROUP:1759		       dec     al
TRANGROUP:175B		       stosb
TRANGROUP:175C		       retn
TRANGROUP:175C LoadEntry       endp
TRANGROUP:175C
TRANGROUP:175D
TRANGROUP:175D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:175D
TRANGROUP:175D
TRANGROUP:175D NoOrder	       proc near	       ; ...
TRANGROUP:175D		       mov     ds:DestBuf, 0   ; no sort
TRANGROUP:1762		       clc		       ; no error
TRANGROUP:1763		       retn
TRANGROUP:1763 NoOrder	       endp
TRANGROUP:1763
TRANGROUP:1764
TRANGROUP:1764 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1764
TRANGROUP:1764
TRANGROUP:1764 OnOffSw	       proc near	       ; ...
TRANGROUP:1764		       mov     cx, di
TRANGROUP:1766		       shr     cx, 1
TRANGROUP:1768		       shr     cx, 1
TRANGROUP:176A		       mov     ax, 1
TRANGROUP:176D		       shl     ax, cl
TRANGROUP:176F		       test    di, 2
TRANGROUP:1773		       jz      short oo1
TRANGROUP:1775		       or      ds:_Bits, ax
TRANGROUP:1779		       jmp     short ooRet
TRANGROUP:177B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:177B
TRANGROUP:177B oo1:				       ; ...
TRANGROUP:177B		       not     ax
TRANGROUP:177D		       and     ds:_Bits, ax
TRANGROUP:1781
TRANGROUP:1781 ooRet:				       ; ...
TRANGROUP:1781		       clc
TRANGROUP:1782		       retn
TRANGROUP:1782 OnOffSw	       endp
TRANGROUP:1782
TRANGROUP:1783
TRANGROUP:1783 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1783
TRANGROUP:1783
TRANGROUP:1783 ParseAttr       proc near	       ; ...
TRANGROUP:1783		       push    si
TRANGROUP:1784		       mov     ds:AttrSpecified, 0
TRANGROUP:1789		       mov     si, [bx+4]      ; [bx+ResultBuffer.ValuePtr]
TRANGROUP:178C
TRANGROUP:178C paLoop:				       ; ...
TRANGROUP:178C		       mov     dx, 1
TRANGROUP:178F		       lodsb
TRANGROUP:1790		       or      al, al
TRANGROUP:1792		       jz      short paOk
TRANGROUP:1794		       cmp     al, '-'
TRANGROUP:1796		       jnz     short pa1
TRANGROUP:1798		       dec     dx
TRANGROUP:1799		       lodsb
TRANGROUP:179A
TRANGROUP:179A pa1:				       ; ...
TRANGROUP:179A		       mov     di, offset AttrLtrs ; "RHSvDA"
TRANGROUP:179D		       mov     cx, 6	       ; NUM_ATTR_LTRS
TRANGROUP:17A0		       repne scasb
TRANGROUP:17A2		       jnz     short paErr
TRANGROUP:17A4		       not     cx
TRANGROUP:17A6		       add     cx, 6	       ; NUM_ATTR_LTRS
TRANGROUP:17A9		       mov     al, 1
TRANGROUP:17AB		       shl     al, cl
TRANGROUP:17AD		       or      ds:AttrSpecified, al
TRANGROUP:17B1		       not     al
TRANGROUP:17B3		       and     ds:AttrSelect, al
TRANGROUP:17B7		       shl     dl, cl
TRANGROUP:17B9		       or      ds:AttrSelect, dl
TRANGROUP:17BD		       jmp     short paLoop
TRANGROUP:17BF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:17BF
TRANGROUP:17BF paErr:				       ; ...
TRANGROUP:17BF		       call    SetupParamError
TRANGROUP:17C2		       stc
TRANGROUP:17C3		       jmp     short paRet
TRANGROUP:17C5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:17C5
TRANGROUP:17C5 paOk:				       ; ...
TRANGROUP:17C5		       clc
TRANGROUP:17C6
TRANGROUP:17C6 paRet:				       ; ...
TRANGROUP:17C6		       pop     si
TRANGROUP:17C7		       retn
TRANGROUP:17C7 ParseAttr       endp
TRANGROUP:17C7
TRANGROUP:17C8
TRANGROUP:17C8 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:17C8
TRANGROUP:17C8
TRANGROUP:17C8 Parse_Line      proc near	       ; ...
TRANGROUP:17C8		       mov     di, offset PARSE_DIR
TRANGROUP:17CB		       xor     cx, cx
TRANGROUP:17CD
TRANGROUP:17CD plPars:				       ; ...
TRANGROUP:17CD		       call    Parse_With_Msg
TRANGROUP:17D0		       cmp     ax, 0FFFFh      ; END_OF_LINE
TRANGROUP:17D3		       jz      short plRet
TRANGROUP:17D5		       cmp     ax, 0
TRANGROUP:17D8		       jnz     short plRet
TRANGROUP:17DA		       mov     bx, dx
TRANGROUP:17DC		       cmp     byte ptr	[bx], 5	;  RESULT_FILESPEC
TRANGROUP:17DF		       jz      short plFil
TRANGROUP:17E1		       call    ParseSwitch
TRANGROUP:17E4		       jb      short plRet
TRANGROUP:17E6		       jmp     short plPars
TRANGROUP:17E8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:17E8
TRANGROUP:17E8 plFil:				       ; ...
TRANGROUP:17E8		       call    CopyPathname
TRANGROUP:17EB		       jmp     short plPars
TRANGROUP:17ED ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:17ED
TRANGROUP:17ED plRet:				       ; ...
TRANGROUP:17ED		       retn
TRANGROUP:17ED Parse_Line      endp
TRANGROUP:17ED
TRANGROUP:17EE
TRANGROUP:17EE ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:17EE
TRANGROUP:17EE
TRANGROUP:17EE ParseOrder      proc near	       ; ...
TRANGROUP:17EE		       push    si
TRANGROUP:17EF		       push    bx
TRANGROUP:17F0		       mov     si, [bx+4]      ; [bx+ResultBuffer.ValuePtr]
TRANGROUP:17F3		       mov     bx, offset DestBuf
TRANGROUP:17F6		       mov     al, [si]
TRANGROUP:17F8		       or      al, al
TRANGROUP:17FA		       jnz     short poLtr
TRANGROUP:17FC		       mov     byte ptr	[bx], 5	; sort 1st by group
TRANGROUP:17FF		       inc     bx
TRANGROUP:1800		       mov     byte ptr	[bx], 1	; then by name
TRANGROUP:1803		       inc     bx
TRANGROUP:1804		       mov     byte ptr	[bx], 2	; then by extension
TRANGROUP:1807		       inc     bx
TRANGROUP:1808		       jmp     short poOk
TRANGROUP:180A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:180A
TRANGROUP:180A poLtr:				       ; ...
TRANGROUP:180A		       xor     dl, dl
TRANGROUP:180C		       lodsb
TRANGROUP:180D		       or      al, al
TRANGROUP:180F		       jz      short poOk
TRANGROUP:1811		       cmp     al, '-'
TRANGROUP:1813		       jnz     short po1
TRANGROUP:1815		       mov     dl, 80h
TRANGROUP:1817		       lodsb
TRANGROUP:1818
TRANGROUP:1818 po1:				       ; ...
TRANGROUP:1818		       mov     di, offset OrderLtrs ; "NEDSGC"
TRANGROUP:181B		       mov     cx, 6	       ; NUM_ORDER_LTRS
TRANGROUP:181E		       repne scasb
TRANGROUP:1820		       jnz     short poErr
TRANGROUP:1822		       neg     cx
TRANGROUP:1824		       add     cx, 6	       ; NUM_ORDER_LTRS
TRANGROUP:1827		       cmp     cl, 6	       ; cmp cl, CRATIO_ORDER
TRANGROUP:182A		       jnz     short poSet
TRANGROUP:182C		       or      ds:_Bits, 1     ; mask.cratio
TRANGROUP:1831
TRANGROUP:1831 poSet:				       ; ...
TRANGROUP:1831		       or      cl, dl
TRANGROUP:1833		       mov     [bx], cl
TRANGROUP:1835		       inc     bx
TRANGROUP:1836		       cmp     bx, offset EndDestBuf
TRANGROUP:183A		       jnb     short poErr
TRANGROUP:183C		       jmp     short poLtr
TRANGROUP:183E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:183E
TRANGROUP:183E poErr:				       ; ...
TRANGROUP:183E		       pop     bx
TRANGROUP:183F		       call    SetupParamError
TRANGROUP:1842		       stc
TRANGROUP:1843		       jmp     short poRet
TRANGROUP:1845 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1845
TRANGROUP:1845 poOk:				       ; ...
TRANGROUP:1845		       mov     byte ptr	[bx], 0
TRANGROUP:1848		       pop     bx
TRANGROUP:1849		       clc
TRANGROUP:184A
TRANGROUP:184A poRet:				       ; ...
TRANGROUP:184A		       pop     si
TRANGROUP:184B		       retn
TRANGROUP:184B ParseOrder      endp
TRANGROUP:184B
TRANGROUP:184C
TRANGROUP:184C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:184C
TRANGROUP:184C
TRANGROUP:184C ParseRatio      proc near	       ; ...
TRANGROUP:184C		       call    OnOffSw
TRANGROUP:184F		       push    si
TRANGROUP:1850		       mov     si, [bx+4]      ; mov si,word ptr [bx].ValuePtr
TRANGROUP:1853		       mov     al, [si]
TRANGROUP:1855		       or      al, al
TRANGROUP:1857		       jz      short prDone
TRANGROUP:1859		       cmp     al, 'H'
TRANGROUP:185B		       jz      short prDone
TRANGROUP:185D		       call    SetupParamError
TRANGROUP:1860		       stc
TRANGROUP:1861		       jmp     short prRet
TRANGROUP:1863 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1863
TRANGROUP:1863 prDone:				       ; ...
TRANGROUP:1863		       mov     ds:fUseHostSize,	al ; set Host cluster size flag
TRANGROUP:1866		       clc
TRANGROUP:1867
TRANGROUP:1867 prRet:				       ; ...
TRANGROUP:1867		       pop     si
TRANGROUP:1868		       retn
TRANGROUP:1868 ParseRatio      endp
TRANGROUP:1868
TRANGROUP:1869 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1869
TRANGROUP:1869 ParseSwitch:			       ; ...
TRANGROUP:1869		       push    cx
TRANGROUP:186A		       push    di
TRANGROUP:186B		       mov     ax, [bx+2]      ; [bx+ResultBuffer.SynPtr]
TRANGROUP:186E		       mov     di, offset Dir_Sw_Ptrs
TRANGROUP:1871		       mov     cx, 16	       ; NUM_DIR_SWS
TRANGROUP:1874		       cld
TRANGROUP:1875		       repne scasw
TRANGROUP:1877		       sub     di, offset Dir_Sw_Ptrs_2	; Dir_Sw_Ptrs+2
TRANGROUP:187B		       call    cs:SwHandler[di]	; call word [cs:di+SwHandler]
TRANGROUP:1880		       pop     di
TRANGROUP:1881		       pop     cx
TRANGROUP:1882		       retn
TRANGROUP:1882 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1883 SwHandler       dw offset OnOffSw       ; ...
TRANGROUP:1885		       dw offset ParseRatio
TRANGROUP:1887		       dw offset OnOffSw
TRANGROUP:1889		       dw offset OnOffSw
TRANGROUP:188B		       dw offset OnOffSw
TRANGROUP:188D		       dw offset OnOffSw
TRANGROUP:188F		       dw offset OnOffSw
TRANGROUP:1891		       dw offset OnOffSw
TRANGROUP:1893		       dw offset OnOffSw
TRANGROUP:1895		       dw offset OnOffSw
TRANGROUP:1897		       dw offset OnOffSw
TRANGROUP:1899		       dw offset OnOffSw
TRANGROUP:189B		       dw offset NoOrder
TRANGROUP:189D		       dw offset ParseOrder
TRANGROUP:189F		       dw offset DefaultAttr
TRANGROUP:18A1		       dw offset ParseAttr
TRANGROUP:18A3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:18A3
TRANGROUP:18A3 ChangeDir:			       ; ...
TRANGROUP:18A3		       mov     di, offset BWDBUF ; DIRBUF
TRANGROUP:18A6		       call    GetDriveLtr
TRANGROUP:18A9		       stosw
TRANGROUP:18AA		       mov     si, dx
TRANGROUP:18AC
TRANGROUP:18AC cdLoop:				       ; ...
TRANGROUP:18AC		       lodsb
TRANGROUP:18AD		       stosb
TRANGROUP:18AE		       or      al, al
TRANGROUP:18B0		       jnz     short cdLoop
TRANGROUP:18B2		       mov     dx, offset BWDBUF ; DIRBUF
TRANGROUP:18B5		       mov     ah, 3Bh
TRANGROUP:18B7		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:18B7					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:18B9		       retn
TRANGROUP:18BA
TRANGROUP:18BA ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:18BA
TRANGROUP:18BA
TRANGROUP:18BA CmpAscz	       proc near	       ; ...
TRANGROUP:18BA		       push    di
TRANGROUP:18BB		       mov     di, si
TRANGROUP:18BD		       xor     al, al
TRANGROUP:18BF		       mov     cx, 0FFFFh
TRANGROUP:18C2		       repne scasb
TRANGROUP:18C4		       not     cx
TRANGROUP:18C6		       pop     di
TRANGROUP:18C7		       repe cmpsb
TRANGROUP:18C9		       retn
TRANGROUP:18C9 CmpAscz	       endp
TRANGROUP:18C9
TRANGROUP:18CA
TRANGROUP:18CA ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:18CA
TRANGROUP:18CA
TRANGROUP:18CA CopyPathname    proc near	       ; ...
TRANGROUP:18CA		       push    si
TRANGROUP:18CB		       lds     si, [bx+4]      ; [bx+ResultBuffer.ValuePtr]
TRANGROUP:18CE		       call    Move_To_SrcBuf
TRANGROUP:18D1		       pop     si
TRANGROUP:18D2		       retn
TRANGROUP:18D2 CopyPathname    endp
TRANGROUP:18D2
TRANGROUP:18D3
TRANGROUP:18D3 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:18D3
TRANGROUP:18D3
TRANGROUP:18D3 CountFile       proc near	       ; ...
TRANGROUP:18D3		       push    es
TRANGROUP:18D4		       mov     es, ds:TPA
TRANGROUP:18D8		       inc     ds:FileCnt
TRANGROUP:18DC		       inc     ds:FileCntTotal
TRANGROUP:18E0		       jnz     short cntf1
TRANGROUP:18E2		       inc     ds:FileCntTotal+2
TRANGROUP:18E6
TRANGROUP:18E6 cntf1:				       ; ...
TRANGROUP:18E6		       mov     ax, es:[bx+17]  ; EntryStruc.filesize
TRANGROUP:18EA		       mov     dx, es:[bx+19]  ; EntryStruc.filesize + 2
TRANGROUP:18EE		       add     ds:FileSiz, ax
TRANGROUP:18F2		       adc     ds:FileSiz+2, dx
TRANGROUP:18F6		       add     word ptr	ds:FileSizTotal, ax
TRANGROUP:18FA		       adc     word ptr	ds:FileSizTotal+2, dx
TRANGROUP:18FE		       pop     es
TRANGROUP:18FF		       retn
TRANGROUP:18FF CountFile       endp
TRANGROUP:18FF
TRANGROUP:1900
TRANGROUP:1900 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1900
TRANGROUP:1900
TRANGROUP:1900 DisplayBare     proc near	       ; ...
TRANGROUP:1900		       mov     cx, ds
TRANGROUP:1902		       mov     ds, ds:TPA
TRANGROUP:1906		       cmp     byte ptr	[bx+1],	'.' ; [bx+EntrStruc.filename]
TRANGROUP:190A		       mov     ds, cx
TRANGROUP:190C		       jz      short dbRet
TRANGROUP:190E		       test    ds:_Bits, 8     ; mask.subd
TRANGROUP:1914		       jz      short dbNameExt
TRANGROUP:1916		       call    build_dir_string
TRANGROUP:1919		       mov     di, offset BWDBUF
TRANGROUP:191C		       test    ds:_Bits, 20h   ; mask.lcase
TRANGROUP:1922		       jz      short dbare1
TRANGROUP:1924		       mov     si, di
TRANGROUP:1926		       call    LowercaseString
TRANGROUP:1929
TRANGROUP:1929 dbare1:				       ; ...
TRANGROUP:1929		       xor     al, al
TRANGROUP:192B		       mov     cx, 0FFFFh
TRANGROUP:192E		       cld
TRANGROUP:192F		       repne scasb
TRANGROUP:1931		       dec     di
TRANGROUP:1932		       cmp     byte ptr	es:[di-1], '\'
TRANGROUP:1937		       jz      short dbare2
TRANGROUP:1939		       mov     ax, '\'
TRANGROUP:193C		       stosw
TRANGROUP:193D
TRANGROUP:193D dbare2:				       ; ...
TRANGROUP:193D		       mov     ds:string_ptr_2,	offset BWDBUF
TRANGROUP:1943		       mov     dx, offset string_buf_ptr
TRANGROUP:1946		       call    std_printf
TRANGROUP:1949
TRANGROUP:1949 dbNameExt:			       ; ...
TRANGROUP:1949		       call    DisplayDotForm
TRANGROUP:194C		       call    CRLF2
TRANGROUP:194F		       call    UseLine
TRANGROUP:1952
TRANGROUP:1952 dbRet:				       ; ...
TRANGROUP:1952		       retn
TRANGROUP:1952 DisplayBare     endp
TRANGROUP:1952
TRANGROUP:1953
TRANGROUP:1953 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1953
TRANGROUP:1953
TRANGROUP:1953 DisplayDotForm  proc near	       ; ...
TRANGROUP:1953		       push    ds
TRANGROUP:1954		       push    es
TRANGROUP:1955		       mov     ax, cs:TPA
TRANGROUP:1959		       mov     ds, ax
TRANGROUP:195B		       mov     es, ax
TRANGROUP:195D		       mov     di, bx
TRANGROUP:195F		       add     di, 8	       ; filename + size filename - 1
TRANGROUP:1962		       mov     cx, 8	       ; size filename = 8 ; size of EntryStruc.filename
TRANGROUP:1965		       mov     al, 20h ; ' '
TRANGROUP:1967		       std
TRANGROUP:1968		       repe scasb
TRANGROUP:196A		       inc     cx
TRANGROUP:196B		       mov     dx, cx
TRANGROUP:196D		       mov     si, bx
TRANGROUP:196F		       add     si, 1
TRANGROUP:1972
TRANGROUP:1972 NextNameChar:			       ; ...
TRANGROUP:1972		       cld
TRANGROUP:1973		       lodsb
TRANGROUP:1974		       test    ss:_Bits, 20h   ; mask.lcase
TRANGROUP:197B		       jz      short ddf1
TRANGROUP:197D		       call    LowerCase
TRANGROUP:1980
TRANGROUP:1980 ddf1:				       ; ...
TRANGROUP:1980		       call    PRINT_CHAR
TRANGROUP:1983		       loop    NextNameChar
TRANGROUP:1985		       mov     di, bx
TRANGROUP:1987		       add     di, 11	       ; fileext + size	fileext	- 1
TRANGROUP:198A		       mov     cx, 3	       ; size fileext
TRANGROUP:198D		       mov     al, 20h ; ' '
TRANGROUP:198F		       std
TRANGROUP:1990		       repe scasb
TRANGROUP:1992		       jz      short ddDone
TRANGROUP:1994		       inc     cx
TRANGROUP:1995		       add     dx, cx
TRANGROUP:1997		       inc     dx
TRANGROUP:1998		       mov     al, '.'
TRANGROUP:199A		       call    PRINT_CHAR
TRANGROUP:199D		       mov     si, bx
TRANGROUP:199F		       add     si, 9	       ; EntryStruc.fileext
TRANGROUP:19A2
TRANGROUP:19A2 NextExtChar:			       ; ...
TRANGROUP:19A2		       cld
TRANGROUP:19A3		       lodsb
TRANGROUP:19A4		       test    cs:_Bits, 20h
TRANGROUP:19AB		       jz      short ddf2
TRANGROUP:19AD		       call    LowerCase
TRANGROUP:19B0
TRANGROUP:19B0 ddf2:				       ; ...
TRANGROUP:19B0		       call    PRINT_CHAR
TRANGROUP:19B3		       loop    NextExtChar
TRANGROUP:19B5
TRANGROUP:19B5 ddDone:				       ; ...
TRANGROUP:19B5		       pop     es
TRANGROUP:19B6		       pop     ds
TRANGROUP:19B7		       cld
TRANGROUP:19B8		       retn
TRANGROUP:19B8 DisplayDotForm  endp
TRANGROUP:19B8
TRANGROUP:19B9
TRANGROUP:19B9 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:19B9
TRANGROUP:19B9
TRANGROUP:19B9 DisplayFile     proc near	       ; ...
TRANGROUP:19B9		       test    ds:_Bits, 10h   ; mask.bare
TRANGROUP:19BF		       jz      short dfNorm
TRANGROUP:19C1		       call    DisplayBare
TRANGROUP:19C4		       jmp     short dfRet
TRANGROUP:19C6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:19C6
TRANGROUP:19C6 dfNorm:				       ; ...
TRANGROUP:19C6		       call    DisplayNext
TRANGROUP:19C9		       test    ds:_Bits, 2
TRANGROUP:19CF		       jz      short dfFul
TRANGROUP:19D1		       call    DisplayWide
TRANGROUP:19D4		       jmp     short dfCnt
TRANGROUP:19D6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:19D6
TRANGROUP:19D6 dfFul:				       ; ...
TRANGROUP:19D6		       call    DisplayName
TRANGROUP:19D9		       call    DisplayTheRest
TRANGROUP:19DC		       test    ds:_Bits, 1     ; mask.cratio
TRANGROUP:19E2		       jz      short dfCnt
TRANGROUP:19E4		       call    DisplayCompRatio
TRANGROUP:19E7
TRANGROUP:19E7 dfCnt:				       ; ...
TRANGROUP:19E7		       call    CountFile
TRANGROUP:19EA
TRANGROUP:19EA dfRet:				       ; ...
TRANGROUP:19EA		       retn
TRANGROUP:19EA DisplayFile     endp
TRANGROUP:19EA
TRANGROUP:19EB
TRANGROUP:19EB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:19EB
TRANGROUP:19EB
TRANGROUP:19EB DisplayHeader   proc near	       ; ...
TRANGROUP:19EB		       test    ds:_Bits, 10h   ; mask.bare
TRANGROUP:19F1		       jnz     short dhRet
TRANGROUP:19F3		       test    ds:_Bits, 8     ; mask.subd
TRANGROUP:19F9		       jz      short dhNorm
TRANGROUP:19FB		       call    CRLF2
TRANGROUP:19FE		       call    UseLine
TRANGROUP:1A01		       jmp     short dhCom
TRANGROUP:1A03 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1A03
TRANGROUP:1A03 dhNorm:				       ; ...
TRANGROUP:1A03		       mov     al, 20h ; ' '
TRANGROUP:1A05		       call    PRINT_CHAR
TRANGROUP:1A08
TRANGROUP:1A08 dhCom:				       ; ...
TRANGROUP:1A08		       call    build_dir_string
TRANGROUP:1A0B		       mov     dx, offset dirhead_ptr
TRANGROUP:1A0E		       call    std_printf
TRANGROUP:1A11		       call    UseLine
TRANGROUP:1A14		       call    CRLF2
TRANGROUP:1A17		       call    UseLine
TRANGROUP:1A1A
TRANGROUP:1A1A dhRet:				       ; ...
TRANGROUP:1A1A		       retn
TRANGROUP:1A1A DisplayHeader   endp
TRANGROUP:1A1A
TRANGROUP:1A1B
TRANGROUP:1A1B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1A1B
TRANGROUP:1A1B
TRANGROUP:1A1B DisplayName     proc near	       ; ...
TRANGROUP:1A1B		       push    ds
TRANGROUP:1A1C		       mov     ds, ds:TPA
TRANGROUP:1A20		       mov     si, bx	       ; DS:SI = ptr to	entry
TRANGROUP:1A22		       add     si, 1	       ; EntryStruc.filename
TRANGROUP:1A25		       mov     di, offset CHARBUF
TRANGROUP:1A28		       mov     cx, 8
TRANGROUP:1A2B		       cld
TRANGROUP:1A2C		       rep movsb	       ; move filename to CharBuf
TRANGROUP:1A2E		       mov     al, 20h ; ' '
TRANGROUP:1A30		       stosb		       ; add a blank
TRANGROUP:1A31		       mov     cx, 3
TRANGROUP:1A34		       rep movsb	       ; add extension
TRANGROUP:1A36		       xor     al, al
TRANGROUP:1A38		       stosb		       ; add a NULL
TRANGROUP:1A39		       pop     ds
TRANGROUP:1A3A		       test    ds:_Bits, 20h   ; mask.lcase
TRANGROUP:1A40		       jz      short dn1       ; lowercase not required
TRANGROUP:1A42		       mov     si, offset CHARBUF
TRANGROUP:1A45		       call    LowercaseString
TRANGROUP:1A48
TRANGROUP:1A48 dn1:				       ; ...
TRANGROUP:1A48		       mov     ds:string_ptr_2,	offset CHARBUF
TRANGROUP:1A4E		       mov     dx, offset string_buf_ptr
TRANGROUP:1A51		       call    std_printf
TRANGROUP:1A54		       retn
TRANGROUP:1A54 DisplayName     endp
TRANGROUP:1A54
TRANGROUP:1A55
TRANGROUP:1A55 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1A55
TRANGROUP:1A55
TRANGROUP:1A55 DisplayNext     proc near	       ; ...
TRANGROUP:1A55		       cmp     ds:FileCnt, 0
TRANGROUP:1A5A		       jz      short dn1st
TRANGROUP:1A5C		       cmp     ds:LeftOnLine, 0
TRANGROUP:1A61		       jle     short dnEol
TRANGROUP:1A63		       mov     dx, offset tab_ptr
TRANGROUP:1A66		       call    std_printf
TRANGROUP:1A69		       jmp     short dnDone
TRANGROUP:1A6B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1A6B
TRANGROUP:1A6B dnEol:				       ; ...
TRANGROUP:1A6B		       call    CRLF2
TRANGROUP:1A6E		       call    UseLine
TRANGROUP:1A71
TRANGROUP:1A71 dn1st:				       ; ...
TRANGROUP:1A71		       mov     al, ds:PerLine
TRANGROUP:1A74		       mov     ds:LeftOnLine, al
TRANGROUP:1A77
TRANGROUP:1A77 dnDone:				       ; ...
TRANGROUP:1A77		       dec     ds:LeftOnLine
TRANGROUP:1A7B		       retn
TRANGROUP:1A7B DisplayNext     endp
TRANGROUP:1A7B
TRANGROUP:1A7C
TRANGROUP:1A7C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1A7C
TRANGROUP:1A7C
TRANGROUP:1A7C DisplayTheRest  proc near	       ; ...
TRANGROUP:1A7C		       push    es
TRANGROUP:1A7D		       mov     es, ds:TPA
TRANGROUP:1A81		       mov     bp, bx
TRANGROUP:1A83		       test    byte ptr	es:[bp+12], 10h	;
TRANGROUP:1A83					       ; [es:bp+EntryStruc.fileattr],ATTR_DIRECTORY
TRANGROUP:1A88		       jz      short drNonDir
TRANGROUP:1A8A		       mov     dx, offset dmes_ptr
TRANGROUP:1A8D		       call    std_printf
TRANGROUP:1A90		       test    ds:screen_f_1, 40h ; 80 columns ?
TRANGROUP:1A95		       jz      short dr_0      ; no
TRANGROUP:1A97		       mov     dx, offset space_4_ptr ;	4 space	chars
TRANGROUP:1A9A		       call    std_printf
TRANGROUP:1A9D
TRANGROUP:1A9D dr_0:				       ; ...
TRANGROUP:1A9D		       jmp     short drCom
TRANGROUP:1A9F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1A9F
TRANGROUP:1A9F drNonDir:			       ; ...
TRANGROUP:1A9F		       mov     dx, es:[bp+17]  ; [es:bp+EntryStruc.filesize]
TRANGROUP:1AA3		       mov     ds:File_Size_Low, dx
TRANGROUP:1AA7		       mov     dx, es:[bp+19]  ; [es:bp+EntryStruc.filesize+2]
TRANGROUP:1AAB		       mov     ds:File_Size_High, dx
TRANGROUP:1AAF		       mov     dx, offset disp_file_size_ptr
TRANGROUP:1AB2		       call    std_printf
TRANGROUP:1AB5
TRANGROUP:1AB5 drCom:				       ; ...
TRANGROUP:1AB5		       mov     ax, es:[bp+15]  ; [es:bp+EntryStruc.filedate]
TRANGROUP:1AB9		       or      ax, ax
TRANGROUP:1ABB		       jz      short drDone
TRANGROUP:1ABD		       mov     bx, ax
TRANGROUP:1ABF		       and     ax, 1Fh
TRANGROUP:1AC2		       mov     dl, al
TRANGROUP:1AC4		       mov     ax, bx
TRANGROUP:1AC6		       mov     cl, 5
TRANGROUP:1AC8		       shr     ax, cl
TRANGROUP:1ACA		       and     al, 0Fh
TRANGROUP:1ACC		       mov     dh, al
TRANGROUP:1ACE		       mov     cl, bh
TRANGROUP:1AD0		       shr     cl, 1
TRANGROUP:1AD2		       xor     ch, ch
TRANGROUP:1AD4		       add     cx, 80
TRANGROUP:1AD7		       cmp     cl, 100
TRANGROUP:1ADA		       jb      short dr_1
TRANGROUP:1ADC		       sub     cl, 100
TRANGROUP:1ADF
TRANGROUP:1ADF dr_1:				       ; ...
TRANGROUP:1ADF		       xchg    dh, dl
TRANGROUP:1AE1		       mov     ds:DirDat_Yr, cx
TRANGROUP:1AE5		       mov     ds:DirDat_Mo_Day, dx
TRANGROUP:1AE9		       mov     cx, es:[bp+13]  ; [es:bp+EntryStruc.filetime]
TRANGROUP:1AED		       jcxz    short drPrint
TRANGROUP:1AEF		       shr     cx, 1
TRANGROUP:1AF1		       shr     cx, 1
TRANGROUP:1AF3		       shr     cx, 1
TRANGROUP:1AF5		       shr     cl, 1
TRANGROUP:1AF7		       shr     cl, 1
TRANGROUP:1AF9		       xchg    ch, cl
TRANGROUP:1AFB		       mov     ds:DirTim_Hr_Min, cx
TRANGROUP:1AFF
TRANGROUP:1AFF drPrint:				       ; ...
TRANGROUP:1AFF		       mov     dx, offset dirdattim_ptr
TRANGROUP:1B02		       call    std_printf
TRANGROUP:1B05
TRANGROUP:1B05 drDone:				       ; ...
TRANGROUP:1B05		       pop     es
TRANGROUP:1B06		       mov     bx, bp
TRANGROUP:1B08		       retn
TRANGROUP:1B08 DisplayTheRest  endp
TRANGROUP:1B08
TRANGROUP:1B09
TRANGROUP:1B09 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1B09
TRANGROUP:1B09
TRANGROUP:1B09 DisplayCompRatio	proc near	       ; ...
TRANGROUP:1B09		       push    es
TRANGROUP:1B0A		       mov     es, ds:TPA
TRANGROUP:1B0E		       mov     al, es:[bx+15h] ; mov al, es:[bx].compratio
TRANGROUP:1B0E					       ; mov al,[es:bx+EntryStruc.compratio]
TRANGROUP:1B12		       cmp     al, 0FFh
TRANGROUP:1B14		       jz      short dcrRet
TRANGROUP:1B16		       mov     ah, al
TRANGROUP:1B18		       mov     cl, 4
TRANGROUP:1B1A		       shr     ah, cl
TRANGROUP:1B1C		       inc     ah
TRANGROUP:1B1E		       and     al, 0Fh
TRANGROUP:1B20		       mov     ds:Dir_CRatio_1,	ah
TRANGROUP:1B24		       mov     ds:Dir_CRatio_2,	al
TRANGROUP:1B27		       mov     dx, offset DirCompRatio_Ptr
TRANGROUP:1B2A		       call    std_printf
TRANGROUP:1B2D
TRANGROUP:1B2D dcrRet:				       ; ...
TRANGROUP:1B2D		       pop     es
TRANGROUP:1B2E		       retn
TRANGROUP:1B2E DisplayCompRatio	endp
TRANGROUP:1B2E
TRANGROUP:1B2F
TRANGROUP:1B2F ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1B2F
TRANGROUP:1B2F
TRANGROUP:1B2F DisplayTrailer  proc near	       ; ...
TRANGROUP:1B2F		       test    ds:_Bits, 10h   ; mask.bare
TRANGROUP:1B35		       jnz     short dtrRet
TRANGROUP:1B37		       call    CRLF2
TRANGROUP:1B3A		       call    UseLine
TRANGROUP:1B3D		       mov     ax, ds:FileCnt
TRANGROUP:1B40
TRANGROUP:1B40 DisplayCntSiz:			       ; ...
TRANGROUP:1B40		       test    ds:_Bits, 1     ; mask.cratio
TRANGROUP:1B46		       jz      short dtrSize
TRANGROUP:1B48		       push    ax
TRANGROUP:1B49		       mov     ax, ds:ccluUsedDir
TRANGROUP:1B4C		       or      ax, ax
TRANGROUP:1B4E		       jz      short dtrSkipRatio
TRANGROUP:1B50		       mov     cx, ds:csecUsedDir+2
TRANGROUP:1B54		       mov     bx, ds:csecUsedDir
TRANGROUP:1B58		       call    ComputeRatio
TRANGROUP:1B5B		       mov     ds:Dir_CRatio_1,	ah
TRANGROUP:1B5F		       mov     ds:Dir_CRatio_2,	al
TRANGROUP:1B62		       mov     dx, offset AveCompRatio_Ptr
TRANGROUP:1B65		       call    std_printf
TRANGROUP:1B68		       call    UseLine
TRANGROUP:1B6B
TRANGROUP:1B6B dtrSkipRatio:			       ; ...
TRANGROUP:1B6B		       pop     ax
TRANGROUP:1B6C
TRANGROUP:1B6C dtrSize:				       ; ...
TRANGROUP:1B6C		       mov     ds:Dir_Num, ax
TRANGROUP:1B6F		       mov     dx, offset dirmes_ptr
TRANGROUP:1B72		       call    std_printf
TRANGROUP:1B75		       mov     dx, offset bytes_ptr
TRANGROUP:1B78		       call    std_printf
TRANGROUP:1B7B		       call    UseLine
TRANGROUP:1B7E
TRANGROUP:1B7E dtrRet:				       ; ...
TRANGROUP:1B7E		       retn
TRANGROUP:1B7E DisplayTrailer  endp
TRANGROUP:1B7E
TRANGROUP:1B7F
TRANGROUP:1B7F ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1B7F
TRANGROUP:1B7F
TRANGROUP:1B7F DisplayWide     proc near	       ; ...
TRANGROUP:1B7F		       push    ds
TRANGROUP:1B80		       mov     ds, ds:TPA
TRANGROUP:1B84		       test    byte ptr	[bx+12], 10h ;
TRANGROUP:1B84					       ; [bx+EntryStruc.fileattr],ATTR_DIRECTORY
TRANGROUP:1B88		       jz      short dw1
TRANGROUP:1B8A		       mov     al, '['
TRANGROUP:1B8C		       call    PRINT_CHAR
TRANGROUP:1B8F
TRANGROUP:1B8F dw1:				       ; ...
TRANGROUP:1B8F		       call    DisplayDotForm
TRANGROUP:1B92		       test    byte ptr	[bx+12], 10h
TRANGROUP:1B96		       jz      short dw2
TRANGROUP:1B98		       mov     al, ']'
TRANGROUP:1B9A		       call    PRINT_CHAR
TRANGROUP:1B9D
TRANGROUP:1B9D dw2:				       ; ...
TRANGROUP:1B9D		       mov     cx, 12	       ; size filename + size fileext +	1
TRANGROUP:1BA0		       sub     cx, dx
TRANGROUP:1BA2		       jcxz    short dwDone
TRANGROUP:1BA4		       mov     al, 20h ; ' '
TRANGROUP:1BA6
TRANGROUP:1BA6 dw3:				       ; ...
TRANGROUP:1BA6		       call    PRINT_CHAR
TRANGROUP:1BA9		       loop    dw3
TRANGROUP:1BAB
TRANGROUP:1BAB dwDone:				       ; ...
TRANGROUP:1BAB		       pop     ds
TRANGROUP:1BAC		       retn
TRANGROUP:1BAC DisplayWide     endp
TRANGROUP:1BAC
TRANGROUP:1BAD
TRANGROUP:1BAD ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1BAD
TRANGROUP:1BAD
TRANGROUP:1BAD EndPage	       proc near	       ; ...
TRANGROUP:1BAD		       test    ds:_Bits, 4     ; mask.pagd
TRANGROUP:1BB3		       jz      short epNew
TRANGROUP:1BB5		       push    bx
TRANGROUP:1BB6		       push    cx
TRANGROUP:1BB7		       call    PAUSE
TRANGROUP:1BBA		       call    build_dir_string
TRANGROUP:1BBD		       mov     dx, offset dircont_ptr
TRANGROUP:1BC0		       call    Printf_Crlf
TRANGROUP:1BC3		       pop     cx
TRANGROUP:1BC4		       pop     bx
TRANGROUP:1BC5
TRANGROUP:1BC5 epNew:				       ; ...
TRANGROUP:1BC5		       mov     ax, ds:LinPerPag
TRANGROUP:1BC8		       dec     ax
TRANGROUP:1BC9		       mov     ds:LeftOnPage, ax
TRANGROUP:1BCC		       retn
TRANGROUP:1BCC EndPage	       endp
TRANGROUP:1BCC
TRANGROUP:1BCD
TRANGROUP:1BCD ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1BCD
TRANGROUP:1BCD
TRANGROUP:1BCD GetDriveLtr     proc near	       ; ...
TRANGROUP:1BCD		       mov     al, ds:5Ch      ; [FCB]
TRANGROUP:1BD0		       or      al, al
TRANGROUP:1BD2		       jnz     short gdl1
TRANGROUP:1BD4		       mov     al, ds:CURDRV
TRANGROUP:1BD7		       inc     al
TRANGROUP:1BD9
TRANGROUP:1BD9 gdl1:				       ; ...
TRANGROUP:1BD9		       add     al, 40h	       ; 'A'-1
TRANGROUP:1BDB		       mov     ah, ':'
TRANGROUP:1BDD		       retn
TRANGROUP:1BDD GetDriveLtr     endp
TRANGROUP:1BDD
TRANGROUP:1BDE
TRANGROUP:1BDE ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1BDE
TRANGROUP:1BDE
TRANGROUP:1BDE SetupParamError proc near	       ; ...
TRANGROUP:1BDE		       mov     ax, 9
TRANGROUP:1BE1		       mov     ds:msg_disp_class, 2 ; parse_msg_class
TRANGROUP:1BE6		       mov     ds:extend_buf_ptr, ax
TRANGROUP:1BE9		       mov     si, [bx+4]      ; [bx+ResultBuffer.ValuePtr]
TRANGROUP:1BEC		       mov     ds:string_ptr_2,	si
TRANGROUP:1BF0		       mov     ds:extend_buf_sub, 1 ; one_subst
TRANGROUP:1BF5		       mov     dx, offset extend_buf_ptr
TRANGROUP:1BF8		       retn
TRANGROUP:1BF8 SetupParamError endp
TRANGROUP:1BF8
TRANGROUP:1BF9
TRANGROUP:1BF9 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1BF9
TRANGROUP:1BF9
TRANGROUP:1BF9 UseLine	       proc near	       ; ...
TRANGROUP:1BF9		       dec     ds:LeftOnPage
TRANGROUP:1BFD		       cmp     ds:LeftOnPage, 2
TRANGROUP:1C02		       ja      short ulRet
TRANGROUP:1C04		       call    EndPage
TRANGROUP:1C07
TRANGROUP:1C07 ulRet:				       ; ...
TRANGROUP:1C07		       retn
TRANGROUP:1C07 UseLine	       endp
TRANGROUP:1C07
TRANGROUP:1C08
TRANGROUP:1C08 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1C08
TRANGROUP:1C08
TRANGROUP:1C08 ZeroTotals      proc near	       ; ...
TRANGROUP:1C08		       mov     di, offset FileCntTotal
TRANGROUP:1C0B		       mov     cx, 26	       ; size FileCntTotal + size FileSizTotal
TRANGROUP:1C0B					       ; + csecSIZE + ccluSIZE
TRANGROUP:1C0E		       xor     al, al
TRANGROUP:1C10		       rep stosb
TRANGROUP:1C12		       retn
TRANGROUP:1C12 ZeroTotals      endp
TRANGROUP:1C12
TRANGROUP:1C13 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1C13
TRANGROUP:1C13 CtrlCHandler:			       ; ...
TRANGROUP:1C13		       push    ds
TRANGROUP:1C14		       push    cs
TRANGROUP:1C15		       pop     ds
TRANGROUP:1C16		       assume ds:TRANGROUP
TRANGROUP:1C16		       push    ax
TRANGROUP:1C17		       push    bx
TRANGROUP:1C18		       push    dx
TRANGROUP:1C19		       call    CloseCVF	       ; close CVF file	if open
TRANGROUP:1C1C		       call    RestUDir	       ; restore user's default directory
TRANGROUP:1C1F		       pop     dx
TRANGROUP:1C20		       pop     bx
TRANGROUP:1C21		       pop     ax
TRANGROUP:1C22		       pop     ds
TRANGROUP:1C23		       assume ds:nothing
TRANGROUP:1C23		       jmp     cs:OldCtrlCHandler
TRANGROUP:1C28
TRANGROUP:1C28 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1C28
TRANGROUP:1C28
TRANGROUP:1C28 LowerCase       proc near	       ; ...
TRANGROUP:1C28		       cmp     al, 'A'
TRANGROUP:1C2A		       jb      short lcRet
TRANGROUP:1C2C		       cmp     al, 'Z'
TRANGROUP:1C2E		       ja      short lcRet
TRANGROUP:1C30		       or      al, 20h
TRANGROUP:1C32
TRANGROUP:1C32 lcRet:				       ; ...
TRANGROUP:1C32		       retn
TRANGROUP:1C32 LowerCase       endp
TRANGROUP:1C32
TRANGROUP:1C33
TRANGROUP:1C33 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1C33
TRANGROUP:1C33
TRANGROUP:1C33 LowercaseString proc near	       ; ...
TRANGROUP:1C33		       push    di
TRANGROUP:1C34		       mov     di, si
TRANGROUP:1C36		       cld
TRANGROUP:1C37
TRANGROUP:1C37 NextChar:			       ; ...
TRANGROUP:1C37		       lodsb
TRANGROUP:1C38		       or      al, al
TRANGROUP:1C3A		       jz      short EndOfString
TRANGROUP:1C3C		       call    LowerCase
TRANGROUP:1C3F		       stosb
TRANGROUP:1C40		       jmp     short NextChar
TRANGROUP:1C42 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1C42
TRANGROUP:1C42 EndOfString:			       ; ...
TRANGROUP:1C42		       pop     di
TRANGROUP:1C43		       retn
TRANGROUP:1C43 LowercaseString endp
TRANGROUP:1C43
TRANGROUP:1C44
TRANGROUP:1C44 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1C44
TRANGROUP:1C44
TRANGROUP:1C44 screen_f_set    proc near	       ; ...
TRANGROUP:1C44		       push    ds
TRANGROUP:1C45		       mov     ax, 40h
TRANGROUP:1C48		       mov     ds, ax
TRANGROUP:1C4A		       assume ds:nothing
TRANGROUP:1C4A		       cmp     word ptr	ds:4Ah,	40 ; Check ROMBIOS DATA	colums per row value (80 or 40)
TRANGROUP:1C4F		       pop     ds
TRANGROUP:1C50		       assume ds:nothing
TRANGROUP:1C50		       jnz     short columns_80	; 80 columns per line (video mode 3)
TRANGROUP:1C52		       and     ds:screen_f_1, 0BFh ; ~40h ; not	40h
TRANGROUP:1C57		       mov     word ptr	ds:screen_f_2, 0A0Ah ; 10 bytes	(file size field)
TRANGROUP:1C5D		       and     ds:screen_f_3, 0BFh
TRANGROUP:1C62		       and     ds:screen_f_4, 0BFh
TRANGROUP:1C67		       mov     word ptr	ds:screen_f_5, 0A0Ah
TRANGROUP:1C6D		       and     ds:screen_f_6, 0BFh
TRANGROUP:1C72		       mov     word ptr	ds:screen_f_7, 1C1Ch ; 28 bytes	(free bytes field)
TRANGROUP:1C78		       jmp     short screen_f_set_retn
TRANGROUP:1C7A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1C7A
TRANGROUP:1C7A columns_80:			       ; ...
TRANGROUP:1C7A		       or      ds:screen_f_1, 40h
TRANGROUP:1C7F		       mov     word ptr	ds:screen_f_2, 0E0Eh ; 14 bytes	(file size field)
TRANGROUP:1C85		       or      ds:screen_f_3, 40h
TRANGROUP:1C8A		       or      ds:screen_f_4, 40h
TRANGROUP:1C8F		       mov     word ptr	ds:screen_f_5, 0E0Eh
TRANGROUP:1C95		       or      ds:screen_f_6, 40h
TRANGROUP:1C9A		       mov     word ptr	ds:screen_f_7, 2020h ; 32 bytes	(free bytes field)
TRANGROUP:1CA0
TRANGROUP:1CA0 screen_f_set_retn:		       ; ...
TRANGROUP:1CA0		       retn
TRANGROUP:1CA0 screen_f_set    endp
TRANGROUP:1CA0
TRANGROUP:1CA1
TRANGROUP:1CA1 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1CA1
TRANGROUP:1CA1
TRANGROUP:1CA1 OpenCVF	       proc near	       ; ...
TRANGROUP:1CA1		       mov     ax, 0FFFFh      ; -1
TRANGROUP:1CA4		       mov     ds:fhCVF, ax    ; CVF not open
TRANGROUP:1CA7		       mov     ds:entInBuf, ax ; no FAT	entries	in buffers
TRANGROUP:1CAA		       mov     dl, ds:5Ch      ; [FCB]
TRANGROUP:1CAE		       or      dl, dl
TRANGROUP:1CB0		       jz      short ocvf_default
TRANGROUP:1CB2		       dec     dl
TRANGROUP:1CB4		       jmp     short ocvf_swap_info
TRANGROUP:1CB6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1CB6
TRANGROUP:1CB6 ocvf_errorj:			       ; ...
TRANGROUP:1CB6		       jmp     ocvf_error
TRANGROUP:1CB9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1CB9
TRANGROUP:1CB9 ocvf_default:			       ; ...
TRANGROUP:1CB9		       mov     dl, ds:CURDRV
TRANGROUP:1CBD
TRANGROUP:1CBD ocvf_swap_info:			       ; ...
TRANGROUP:1CBD		       mov     ax, 4A11h       ; multMagicDrv
TRANGROUP:1CC0		       mov     bx, 1	       ; MD_DRIVE_MAP
TRANGROUP:1CC3		       int     2Fh
TRANGROUP:1CC5		       or      ax, ax
TRANGROUP:1CC7		       jnz     short ocvf_errorj
TRANGROUP:1CC9		       test    bl, 80h
TRANGROUP:1CCC		       jz      short ocvf_errorj
TRANGROUP:1CCE		       and     bl, 7Fh
TRANGROUP:1CD1		       push    bx
TRANGROUP:1CD2		       push    dx
TRANGROUP:1CD3		       mov     ax, 4A11h
TRANGROUP:1CD6		       mov     dl, bl
TRANGROUP:1CD8		       mov     bx, 1
TRANGROUP:1CDB		       int     2Fh
TRANGROUP:1CDD		       pop     dx
TRANGROUP:1CDE		       pop     cx
TRANGROUP:1CDF		       or      ax, ax
TRANGROUP:1CE1		       jnz     short ocvf_error
TRANGROUP:1CE3		       and     bl, 7Fh
TRANGROUP:1CE6		       xchg    bx, cx
TRANGROUP:1CE8		       cmp     dl, cl
TRANGROUP:1CEA		       jz      short ocvf_got_host
TRANGROUP:1CEC		       mov     bl, cl
TRANGROUP:1CEE
TRANGROUP:1CEE ocvf_got_host:			       ; ...
TRANGROUP:1CEE		       mov     di, offset szCVF
TRANGROUP:1CF1		       mov     al, bl
TRANGROUP:1CF3		       add     al, 'A'
TRANGROUP:1CF5		       mov     ah, ':'
TRANGROUP:1CF7		       cld
TRANGROUP:1CF8		       stosw
TRANGROUP:1CF9		       mov     si, offset sCVFRoot ; "\\DBLSPACE."
TRANGROUP:1CFC		       mov     cx, 10	       ; cbCVFRoot
TRANGROUP:1CFF		       rep movsb
TRANGROUP:1D01		       add     di, 3
TRANGROUP:1D04		       xor     al, al
TRANGROUP:1D06		       std
TRANGROUP:1D07		       stosb
TRANGROUP:1D08		       mov     al, bh
TRANGROUP:1D0A		       mov     bl, 10
TRANGROUP:1D0C		       mov     cx, 3
TRANGROUP:1D0F
TRANGROUP:1D0F ocvf_1:				       ; ...
TRANGROUP:1D0F		       xor     ah, ah
TRANGROUP:1D11		       div     bl
TRANGROUP:1D13		       add     ah, '0'
TRANGROUP:1D16		       xchg    ah, al
TRANGROUP:1D18		       stosb
TRANGROUP:1D19		       mov     al, ah
TRANGROUP:1D1B		       loop    ocvf_1
TRANGROUP:1D1D		       cld
TRANGROUP:1D1E		       mov     di, offset szCVF
TRANGROUP:1D21		       mov     word ptr	[di+4],	5652h ;	'RV'  (DRVSPACE)
TRANGROUP:1D26		       mov     ax, 3D00h
TRANGROUP:1D29		       mov     dx, offset szCVF
TRANGROUP:1D2C		       int     21h	       ; DOS - 2+ - OPEN DISK FILE WITH	HANDLE
TRANGROUP:1D2C					       ; DS:DX -> ASCIZ	filename
TRANGROUP:1D2C					       ; AL = access mode
TRANGROUP:1D2C					       ; 0 - read
TRANGROUP:1D2E		       jnb     short ocvf_2
TRANGROUP:1D30		       mov     word ptr	[di+4],	4C42h ;	'BL'  (DBLSPACE)
TRANGROUP:1D35		       mov     ax, 3D00h
TRANGROUP:1D38		       mov     dx, offset szCVF
TRANGROUP:1D3B		       int     21h	       ; DOS - 2+ - OPEN DISK FILE WITH	HANDLE
TRANGROUP:1D3B					       ; DS:DX -> ASCIZ	filename
TRANGROUP:1D3B					       ; AL = access mode
TRANGROUP:1D3B					       ; 0 - read
TRANGROUP:1D3D		       jb      short ocvf_error
TRANGROUP:1D3F
TRANGROUP:1D3F ocvf_2:				       ; ...
TRANGROUP:1D3F		       mov     ds:fhCVF, ax
TRANGROUP:1D42		       mov     bx, ax
TRANGROUP:1D44		       mov     ah, 3Fh	       ; READ
TRANGROUP:1D46		       mov     cx, 64	       ; size MD_BPB
TRANGROUP:1D49		       mov     dx, offset MDBPB
TRANGROUP:1D4C		       int     21h	       ; DOS - 2+ - READ FROM FILE WITH	HANDLE
TRANGROUP:1D4C					       ; BX = file handle, CX =	number of bytes	to read
TRANGROUP:1D4C					       ; DS:DX -> buffer
TRANGROUP:1D4E		       jb      short ocvf_error1
TRANGROUP:1D50		       cmp     ax, cx
TRANGROUP:1D52		       jz      short ocvf_pick_cluster_size
TRANGROUP:1D54
TRANGROUP:1D54 ocvf_error1:			       ; ...
TRANGROUP:1D54		       call    CloseCVF
TRANGROUP:1D57
TRANGROUP:1D57 ocvf_error:			       ; ...
TRANGROUP:1D57		       stc
TRANGROUP:1D58		       jmp     short ocvf_ret
TRANGROUP:1D5A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1D5A
TRANGROUP:1D5A ocvf_pick_cluster_size:		       ; ...
TRANGROUP:1D5A		       cmp     ds:fUseHostSize,	0
TRANGROUP:1D5F		       jz      short ovcf_use_CVF_size
TRANGROUP:1D61		       mov     ah, 1Ch	       ; Get_Drive_Data
TRANGROUP:1D63		       mov     dl, ds:szCVF
TRANGROUP:1D67		       sub     dl, 40h	       ; 'A'-1
TRANGROUP:1D6A		       push    ds
TRANGROUP:1D6B		       int     21h	       ; DOS - GET ALLOCATION TABLE INFORMATION	FOR SPECIFIC DRIVE
TRANGROUP:1D6B					       ; DL = drive number to check (0=default,	1=A, etc)
TRANGROUP:1D6D		       pop     ds
TRANGROUP:1D6E		       cmp     al, 0FFh
TRANGROUP:1D70		       jnz     short ovcf_set_size
TRANGROUP:1D72
TRANGROUP:1D72 ovcf_use_CVF_size:		       ; ...
TRANGROUP:1D72		       mov     al, ds:MDBPB+0Dh	; mov al,[MDBPB.dos_bpb.csecPerClu]
TRANGROUP:1D75
TRANGROUP:1D75 ovcf_set_size:			       ; ...
TRANGROUP:1D75		       mov     ds:csecPerCluster, al
TRANGROUP:1D78		       mov     ax, ds:BYTCNT
TRANGROUP:1D7B		       mov     ds:savBytCnt, ax
TRANGROUP:1D7E		       cmp     ax, 8000h       ; 32*1024
TRANGROUP:1D81		       jnb     short ocvf_big_buf
TRANGROUP:1D83		       mov     ds:cFATEntries, 32 ; cRES_FAT_ENTRIES
TRANGROUP:1D89		       mov     ds:segFATBuf, ds
TRANGROUP:1D8D		       mov     ds:pbufDOSFAT, offset bufDOSFAT
TRANGROUP:1D93		       mov     ds:pbufMDFAT, offset bufMDFAT
TRANGROUP:1D99		       jmp     short ocvf_success
TRANGROUP:1D9B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1D9B
TRANGROUP:1D9B ocvf_big_buf:			       ; ...
TRANGROUP:1D9B		       mov     bx, 256	       ; cBIG_FAT_ENTRIES
TRANGROUP:1D9E		       mov     ds:cFATEntries, bx
TRANGROUP:1DA2		       shl     bx, 1	       ; 6 bytes per entry (2 for DOS FAT, 4 MD	FAT)
TRANGROUP:1DA4		       mov     cx, bx	       ; entries * 2
TRANGROUP:1DA6		       shl     bx, 1
TRANGROUP:1DA8		       add     bx, cx	       ; bx = #	entries	* 6
TRANGROUP:1DAA		       sub     ax, bx
TRANGROUP:1DAC		       and     ax, 0FE00h
TRANGROUP:1DAF		       mov     ds:BYTCNT, ax
TRANGROUP:1DB2		       mov     bx, ds:TPA
TRANGROUP:1DB6		       mov     ds:segFATBuf, bx
TRANGROUP:1DBA		       mov     ds:pbufDOSFAT, ax
TRANGROUP:1DBD		       add     ax, cx
TRANGROUP:1DBF		       mov     ds:pbufMDFAT, ax
TRANGROUP:1DC2
TRANGROUP:1DC2 ocvf_success:			       ; ...
TRANGROUP:1DC2		       clc
TRANGROUP:1DC3
TRANGROUP:1DC3 ocvf_ret:			       ; ...
TRANGROUP:1DC3		       retn
TRANGROUP:1DC3 OpenCVF	       endp
TRANGROUP:1DC3
TRANGROUP:1DC4
TRANGROUP:1DC4 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1DC4
TRANGROUP:1DC4
TRANGROUP:1DC4 CloseCVF	       proc near	       ; ...
TRANGROUP:1DC4		       mov     bx, ds:fhCVF
TRANGROUP:1DC8		       cmp     bx, 0FFFFh      ; -1
TRANGROUP:1DCB		       jz      short ccvf_ret
TRANGROUP:1DCD		       mov     ah, 3Eh	       ; CLOSE
TRANGROUP:1DCF		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:1DCF					       ; BX = file handle
TRANGROUP:1DD1		       mov     ds:fhCVF, 0FFFFh	; -1
TRANGROUP:1DD7		       mov     ax, ds:savBytCnt
TRANGROUP:1DDA		       mov     ds:BYTCNT, ax
TRANGROUP:1DDD
TRANGROUP:1DDD ccvf_ret:			       ; ...
TRANGROUP:1DDD		       retn
TRANGROUP:1DDD CloseCVF	       endp
TRANGROUP:1DDD
TRANGROUP:1DDE
TRANGROUP:1DDE ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1DDE
TRANGROUP:1DDE
TRANGROUP:1DDE CalcCompRatio   proc near	       ; ...
TRANGROUP:1DDE		       push    bx
TRANGROUP:1DDF		       push    cx
TRANGROUP:1DE0		       push    dx
TRANGROUP:1DE1		       push    es
TRANGROUP:1DE2		       mov     es, ds:segFATBuf
TRANGROUP:1DE6		       xor     bx, bx
TRANGROUP:1DE8		       mov     ds:ccluUsed, bx
TRANGROUP:1DEC		       mov     ds:csecUsed, bx
TRANGROUP:1DF0		       mov     ds:csecUsed+2, bx
TRANGROUP:1DF4
TRANGROUP:1DF4 ccr_next:			       ; ...
TRANGROUP:1DF4		       cmp     ax, 2
TRANGROUP:1DF7		       jb      short ccr_screwy
TRANGROUP:1DF9		       cmp     ax, 0FFF0h
TRANGROUP:1DFC		       jnb     short ccr_eof
TRANGROUP:1DFE		       call    CheckFATBuffers
TRANGROUP:1E01		       jb      short ccr_screwy
TRANGROUP:1E03		       call    GetMDFATEntry
TRANGROUP:1E06		       jb      short ccr_screwy
TRANGROUP:1E08		       shl     bx, 1
TRANGROUP:1E0A		       jnb     short ccr_screwy
TRANGROUP:1E0C		       mov     ch, bh
TRANGROUP:1E0E		       shl     bx, 1
TRANGROUP:1E10		       and     bx, 0F00h
TRANGROUP:1E14		       xchg    bh, bl
TRANGROUP:1E16		       inc     bx
TRANGROUP:1E17		       add     ds:csecUsed, bx
TRANGROUP:1E1B		       adc     ds:csecUsed+2, 0
TRANGROUP:1E20		       mov     dx, ax
TRANGROUP:1E22		       mov     al, ch
TRANGROUP:1E24		       mov     cl, 3
TRANGROUP:1E26		       shr     al, cl
TRANGROUP:1E28		       and     ax, 0Fh
TRANGROUP:1E2B		       dec     bx
TRANGROUP:1E2C		       cmp     ax, bx
TRANGROUP:1E2E		       jnb     short ccr_1
TRANGROUP:1E30		       mov     ax, bx
TRANGROUP:1E32
TRANGROUP:1E32 ccr_1:				       ; ...
TRANGROUP:1E32		       mov     cl, ds:csecPerCluster
TRANGROUP:1E36		       xor     ch, ch
TRANGROUP:1E38		       add     ax, cx
TRANGROUP:1E3A		       div     cl
TRANGROUP:1E3C		       xor     ah, ah
TRANGROUP:1E3E		       add     ds:ccluUsed, ax
TRANGROUP:1E42		       mov     ax, dx
TRANGROUP:1E44		       call    GetDOSFATEntry
TRANGROUP:1E47		       jb      short ccr_screwy
TRANGROUP:1E49		       jmp     short ccr_next
TRANGROUP:1E4B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1E4B
TRANGROUP:1E4B ccr_eof:				       ; ...
TRANGROUP:1E4B		       mov     ax, ds:ccluUsed
TRANGROUP:1E4E		       add     ds:ccluUsedDir, ax
TRANGROUP:1E52		       add     ds:ccluUsedTotal, ax
TRANGROUP:1E56		       mov     cx, ds:csecUsed+2
TRANGROUP:1E5A		       mov     bx, ds:csecUsed
TRANGROUP:1E5E		       add     ds:csecUsedDir, bx
TRANGROUP:1E62		       adc     ds:csecUsedDir+2, cx
TRANGROUP:1E66		       add     word ptr	ds:csecUsedTotal, bx
TRANGROUP:1E6A		       adc     word ptr	ds:csecUsedTotal+2, cx
TRANGROUP:1E6E		       call    ComputeRatio
TRANGROUP:1E71		       jmp     short ccr_ret
TRANGROUP:1E73 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1E73
TRANGROUP:1E73 ccr_screwy:			       ; ...
TRANGROUP:1E73		       xor     ax, ax
TRANGROUP:1E75
TRANGROUP:1E75 ccr_ret:				       ; ...
TRANGROUP:1E75		       pop     es
TRANGROUP:1E76		       pop     dx
TRANGROUP:1E77		       pop     cx
TRANGROUP:1E78		       pop     bx
TRANGROUP:1E79		       retn
TRANGROUP:1E79 CalcCompRatio   endp
TRANGROUP:1E79
TRANGROUP:1E7A
TRANGROUP:1E7A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1E7A
TRANGROUP:1E7A
TRANGROUP:1E7A ComputeRatio    proc near	       ; ...
TRANGROUP:1E7A		       push    si
TRANGROUP:1E7B		       push    di
TRANGROUP:1E7C		       mov     si, bx
TRANGROUP:1E7E		       mov     di, cx
TRANGROUP:1E80		       mov     bl, ds:csecPerCluster
TRANGROUP:1E84		       xor     bh, bh
TRANGROUP:1E86		       mul     bx
TRANGROUP:1E88		       mov     bx, si
TRANGROUP:1E8A		       call    Div32
TRANGROUP:1E8D		       push    ax
TRANGROUP:1E8E		       mov     ax, bx
TRANGROUP:1E90		       or      ax, cx
TRANGROUP:1E92		       jz      short cr_got_tenths
TRANGROUP:1E94		       mov     ax, cx
TRANGROUP:1E96		       xor     dx, dx
TRANGROUP:1E98		       mov     cx, bx
TRANGROUP:1E9A		       mov     bx, 10
TRANGROUP:1E9D		       mul     bx
TRANGROUP:1E9F		       xchg    ax, cx
TRANGROUP:1EA0		       mul     bx
TRANGROUP:1EA2		       add     dx, cx
TRANGROUP:1EA4		       mov     cx, di
TRANGROUP:1EA6		       mov     bx, si
TRANGROUP:1EA8		       shr     cx, 1
TRANGROUP:1EAA		       rcr     bx, 1
TRANGROUP:1EAC		       add     ax, bx
TRANGROUP:1EAE		       adc     dx, cx
TRANGROUP:1EB0		       mov     cx, di
TRANGROUP:1EB2		       mov     bx, si
TRANGROUP:1EB4		       call    Div32
TRANGROUP:1EB7
TRANGROUP:1EB7 cr_got_tenths:			       ; ...
TRANGROUP:1EB7		       pop     bx
TRANGROUP:1EB8		       mov     ah, bl
TRANGROUP:1EBA		       cmp     al, 10
TRANGROUP:1EBC		       jb      short cr_exit
TRANGROUP:1EBE		       inc     ah
TRANGROUP:1EC0		       xor     al, al
TRANGROUP:1EC2
TRANGROUP:1EC2 cr_exit:				       ; ...
TRANGROUP:1EC2		       pop     di
TRANGROUP:1EC3		       pop     si
TRANGROUP:1EC4		       retn
TRANGROUP:1EC4 ComputeRatio    endp
TRANGROUP:1EC4
TRANGROUP:1EC5
TRANGROUP:1EC5 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1EC5
TRANGROUP:1EC5
TRANGROUP:1EC5 Div32	       proc near	       ; ...
TRANGROUP:1EC5		       jcxz    short d32_16bit
TRANGROUP:1EC7		       push    si
TRANGROUP:1EC8		       push    di
TRANGROUP:1EC9		       xor     si, si
TRANGROUP:1ECB		       mov     di, si
TRANGROUP:1ECD
TRANGROUP:1ECD div32_1:				       ; ...
TRANGROUP:1ECD		       sub     ax, bx
TRANGROUP:1ECF		       sbb     dx, cx
TRANGROUP:1ED1		       jb      short d32_too_far
TRANGROUP:1ED3		       add     si, 1
TRANGROUP:1ED6		       adc     di, 0
TRANGROUP:1ED9		       jmp     short div32_1
TRANGROUP:1EDB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1EDB
TRANGROUP:1EDB d32_too_far:			       ; ...
TRANGROUP:1EDB		       add     ax, bx
TRANGROUP:1EDD		       adc     dx, cx
TRANGROUP:1EDF		       mov     cx, di
TRANGROUP:1EE1		       mov     bx, si
TRANGROUP:1EE3		       xchg    ax, bx
TRANGROUP:1EE4		       xchg    dx, cx
TRANGROUP:1EE6		       pop     di
TRANGROUP:1EE7		       pop     si
TRANGROUP:1EE8		       retn
TRANGROUP:1EE9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1EE9
TRANGROUP:1EE9 d32_16bit:			       ; ...
TRANGROUP:1EE9		       div     bx
TRANGROUP:1EEB		       mov     bx, dx
TRANGROUP:1EED		       xor     dx, dx
TRANGROUP:1EEF		       mov     cx, dx
TRANGROUP:1EF1		       retn
TRANGROUP:1EF1 Div32	       endp
TRANGROUP:1EF1
TRANGROUP:1EF2
TRANGROUP:1EF2 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1EF2
TRANGROUP:1EF2
TRANGROUP:1EF2 GetDOSFATEntry  proc near	       ; ...
TRANGROUP:1EF2		       sub     ax, ds:entInBuf
TRANGROUP:1EF6		       jb      short gdf_ret
TRANGROUP:1EF8		       mov     bx, ax
TRANGROUP:1EFA		       cmp     ds:MDBPB+3Dh, 0 ; cmp MDBPB.f12BitFAT, 0
TRANGROUP:1EFF		       jnz     short gdf_12
TRANGROUP:1F01		       shl     bx, 1
TRANGROUP:1F03		       add     bx, ds:pbufDOSFAT
TRANGROUP:1F07		       mov     ax, es:[bx]
TRANGROUP:1F0A
TRANGROUP:1F0A gdf_success:			       ; ...
TRANGROUP:1F0A		       clc
TRANGROUP:1F0B
TRANGROUP:1F0B gdf_ret:				       ; ...
TRANGROUP:1F0B		       retn
TRANGROUP:1F0C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1F0C
TRANGROUP:1F0C gdf_12:				       ; ...
TRANGROUP:1F0C		       shr     bx, 1
TRANGROUP:1F0E		       add     bx, ax
TRANGROUP:1F10		       add     bx, ds:pbufDOSFAT
TRANGROUP:1F14		       test    al, 1
TRANGROUP:1F16		       mov     ax, es:[bx]
TRANGROUP:1F19		       jnz     short gdf_odd
TRANGROUP:1F1B		       and     ax, 0FFFh
TRANGROUP:1F1E		       jmp     short gdf_testEOF
TRANGROUP:1F20 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1F20
TRANGROUP:1F20 gdf_odd:				       ; ...
TRANGROUP:1F20		       mov     bx, cx
TRANGROUP:1F22		       mov     cl, 4
TRANGROUP:1F24		       shr     ax, cl
TRANGROUP:1F26		       mov     cx, bx
TRANGROUP:1F28
TRANGROUP:1F28 gdf_testEOF:			       ; ...
TRANGROUP:1F28		       cmp     ax, 0FF0h
TRANGROUP:1F2B		       jb      short gdf_success
TRANGROUP:1F2D		       or      ah, 0F0h
TRANGROUP:1F30		       jmp     short gdf_success
TRANGROUP:1F30 GetDOSFATEntry  endp
TRANGROUP:1F30
TRANGROUP:1F32
TRANGROUP:1F32 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1F32
TRANGROUP:1F32
TRANGROUP:1F32 GetMDFATEntry   proc near	       ; ...
TRANGROUP:1F32		       mov     bx, ax
TRANGROUP:1F34		       sub     bx, ds:entInBuf
TRANGROUP:1F38		       jb      short gmf_ret
TRANGROUP:1F3A		       shl     bx, 1
TRANGROUP:1F3C		       shl     bx, 1	       ; * 4 bytes per MDFAT entry
TRANGROUP:1F3E		       add     bx, ds:pbufMDFAT
TRANGROUP:1F42		       mov     cx, es:[bx]
TRANGROUP:1F45		       mov     bx, es:[bx+2]
TRANGROUP:1F49		       clc
TRANGROUP:1F4A
TRANGROUP:1F4A gmf_ret:				       ; ...
TRANGROUP:1F4A		       retn
TRANGROUP:1F4A GetMDFATEntry   endp
TRANGROUP:1F4A
TRANGROUP:1F4B
TRANGROUP:1F4B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1F4B
TRANGROUP:1F4B
TRANGROUP:1F4B CheckFATBuffers proc near	       ; ...
TRANGROUP:1F4B		       mov     bx, ax
TRANGROUP:1F4D		       sub     bx, ds:entInBuf
TRANGROUP:1F51		       jb      short cfb_load_fat
TRANGROUP:1F53		       sub     bx, ds:cFATEntries
TRANGROUP:1F57		       jnb     short cfb_load_fat
TRANGROUP:1F59		       clc
TRANGROUP:1F5A		       retn
TRANGROUP:1F5B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1F5B
TRANGROUP:1F5B cfb_load_fat:			       ; ...
TRANGROUP:1F5B		       push    ax
TRANGROUP:1F5C		       push    cx
TRANGROUP:1F5D		       push    dx
TRANGROUP:1F5E		       xor     cx, cx
TRANGROUP:1F60		       cmp     ds:MDBPB+3Dh, 0 ; cmp MDBPB.f12BitFAT, 0
TRANGROUP:1F65		       jnz     short cfb_12
TRANGROUP:1F67		       mov     ds:entInBuf, ax
TRANGROUP:1F6A		       shl     ax, 1
TRANGROUP:1F6C		       rcl     cx, 1
TRANGROUP:1F6E		       jmp     short cfb_common
TRANGROUP:1F70 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:1F70
TRANGROUP:1F70 cfb_12:				       ; ...
TRANGROUP:1F70		       and     al, 0FEh	       ; not 1
TRANGROUP:1F72		       mov     ds:entInBuf, ax
TRANGROUP:1F75		       mov     bx, ax
TRANGROUP:1F77		       shr     bx, 1
TRANGROUP:1F79		       add     ax, bx
TRANGROUP:1F7B
TRANGROUP:1F7B cfb_common:			       ; ...
TRANGROUP:1F7B		       mov     bx, ax
TRANGROUP:1F7D		       mov     ax, word	ptr ds:MDBPB+27h ; mov ax, MDBPB.csecMDReserved
TRANGROUP:1F7D					       ; # magicDrv reserved sectors
TRANGROUP:1F80		       add     ax, word	ptr ds:MDBPB+0Eh ; add ax, MDBPB.dos_bpb.csecReserved
TRANGROUP:1F84		       mul     word ptr	ds:MDBPB+0Bh ; mul MDBPB.dos_bpb.cbPerSec
TRANGROUP:1F84					       ; DX:AX = DOS FAT file origin
TRANGROUP:1F88		       add     ax, bx
TRANGROUP:1F8A		       adc     dx, cx
TRANGROUP:1F8C		       mov     cx, ds:cFATEntries
TRANGROUP:1F90		       shl     cx, 1
TRANGROUP:1F92		       mov     bx, ds:pbufDOSFAT
TRANGROUP:1F96		       call    ReadCVFile
TRANGROUP:1F99		       jb      short cfb_error
TRANGROUP:1F9B		       mov     ax, word	ptr ds:MDBPB+24h ; mov ax, MDBPB.secMDFATStart
TRANGROUP:1F9E		       inc     ax
TRANGROUP:1F9F		       mul     word ptr	ds:MDBPB+0Bh ; mul MDBPB.dos_bpb.cbPerSec
TRANGROUP:1F9F					       ; DX:AX = MDFAT file offset
TRANGROUP:1F9F					       ;
TRANGROUP:1FA3		       mov     bx, ds:entInBuf
TRANGROUP:1FA7		       xor     cx, cx
TRANGROUP:1FA9		       add     bx, word	ptr ds:MDBPB+2Dh ; add bx, MDBPB.cluFirstData
TRANGROUP:1FA9					       ; CX:BX = MDFAT entry #
TRANGROUP:1FAD		       adc     cx, cx
TRANGROUP:1FAF		       shl     bx, 1
TRANGROUP:1FB1		       rcl     cx, 1
TRANGROUP:1FB3		       shl     bx, 1
TRANGROUP:1FB5		       rcl     cx, 1
TRANGROUP:1FB7		       add     ax, bx
TRANGROUP:1FB9		       adc     dx, cx
TRANGROUP:1FBB		       mov     cx, ds:cFATEntries
TRANGROUP:1FBF		       shl     cx, 1
TRANGROUP:1FC1		       shl     cx, 1
TRANGROUP:1FC3		       mov     bx, ds:pbufMDFAT
TRANGROUP:1FC7		       call    ReadCVFile
TRANGROUP:1FCA		       jnb     short cfb_ret
TRANGROUP:1FCC
TRANGROUP:1FCC cfb_error:			       ; ...
TRANGROUP:1FCC		       stc
TRANGROUP:1FCD
TRANGROUP:1FCD cfb_ret:				       ; ...
TRANGROUP:1FCD		       pop     dx
TRANGROUP:1FCE		       pop     cx
TRANGROUP:1FCF		       pop     ax
TRANGROUP:1FD0		       retn
TRANGROUP:1FD0 CheckFATBuffers endp
TRANGROUP:1FD0
TRANGROUP:1FD1
TRANGROUP:1FD1 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1FD1
TRANGROUP:1FD1
TRANGROUP:1FD1 ReadCVFile      proc near	       ; ...
TRANGROUP:1FD1		       push    bx
TRANGROUP:1FD2		       push    cx
TRANGROUP:1FD3		       mov     cx, dx
TRANGROUP:1FD5		       mov     dx, ax
TRANGROUP:1FD7		       mov     ax, 4200h       ; (LSEEK	shl 8) or 0
TRANGROUP:1FDA		       mov     bx, ds:fhCVF
TRANGROUP:1FDE		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:1FDE					       ; AL = method: offset from beginning of file
TRANGROUP:1FE0		       jb      short rcf_ret
TRANGROUP:1FE2		       mov     ah, 3Fh	       ; READ
TRANGROUP:1FE4		       pop     cx
TRANGROUP:1FE5		       pop     dx
TRANGROUP:1FE6		       push    ds
TRANGROUP:1FE7		       push    es
TRANGROUP:1FE8		       pop     ds
TRANGROUP:1FE9		       int     21h	       ; DOS - 2+ - READ FROM FILE WITH	HANDLE
TRANGROUP:1FE9					       ; BX = file handle, CX =	number of bytes	to read
TRANGROUP:1FE9					       ; DS:DX -> buffer
TRANGROUP:1FEB		       pop     ds
TRANGROUP:1FEC		       jb      short rcf_ret
TRANGROUP:1FEE		       cmp     ax, cx
TRANGROUP:1FF0		       jz      short rcf_ret
TRANGROUP:1FF2		       stc
TRANGROUP:1FF3
TRANGROUP:1FF3 rcf_ret:				       ; ...
TRANGROUP:1FF3		       retn
TRANGROUP:1FF3 ReadCVFile      endp
TRANGROUP:1FF3
TRANGROUP:1FF4
TRANGROUP:1FF4 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:1FF4
TRANGROUP:1FF4
TRANGROUP:1FF4 PAUSE	       proc near	       ; ...
TRANGROUP:1FF4		       mov     dx, offset PAUSEMES_PTR
TRANGROUP:1FF7		       call    std_printf
TRANGROUP:1FFA		       call    GETKEYSTROKE
TRANGROUP:1FFD		       call    CRLF2
TRANGROUP:2000		       retn
TRANGROUP:2000 PAUSE	       endp
TRANGROUP:2000
TRANGROUP:2001
TRANGROUP:2001 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2001
TRANGROUP:2001
TRANGROUP:2001 ERASE	       proc near	       ; ...
TRANGROUP:2001
TRANGROUP:2001 ; FUNCTION CHUNK	AT TRANGROUP:3C16 SIZE 00000116	BYTES
TRANGROUP:2001
TRANGROUP:2001		       mov     si, 81h
TRANGROUP:2004		       mov     ds:COMSW, 0
TRANGROUP:200A		       mov     di, offset PARSE_ERASE
TRANGROUP:200D		       xor     cx, cx
TRANGROUP:200F
TRANGROUP:200F erase_scan:			       ; ...
TRANGROUP:200F		       xor     dx, dx
TRANGROUP:2011		       call    Parse_With_Msg
TRANGROUP:2014		       cmp     ax, 0FFFFh
TRANGROUP:2017		       jz      short good_line
TRANGROUP:2019		       cmp     ax, 0
TRANGROUP:201C		       jnz     short errj2
TRANGROUP:201E		       cmp     ds:PARSE1_SYN, offset SLASH_P_SYN ; "/P"
TRANGROUP:2024		       jz      short set_erase_prompt
TRANGROUP:2026		       push    si
TRANGROUP:2027		       lds     si, ds:PARSE1_ADDR
TRANGROUP:202B		       cmp     byte ptr	[si+1],	':' ; colon_char
TRANGROUP:202F		       jnz     short erase_drive_ok
TRANGROUP:2031		       cmp     byte ptr	[si+2],	0 ; end_of_line_out
TRANGROUP:2035		       jnz     short erase_drive_ok
TRANGROUP:2037		       mov     ax, 2
TRANGROUP:203A		       jmp     short extend_setup
TRANGROUP:203C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:203C
TRANGROUP:203C erase_drive_ok:			       ; ...
TRANGROUP:203C		       call    Move_To_SrcBuf
TRANGROUP:203F		       pop     si
TRANGROUP:2040		       jmp     short erase_scan
TRANGROUP:2042 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2042
TRANGROUP:2042 set_erase_prompt:		       ; ...
TRANGROUP:2042		       cmp     ds:COMSW, 0
TRANGROUP:2047		       jz      short ok_to_set_erase_prompt
TRANGROUP:2049		       mov     ax, 1	       ; MoreArgs_Ptr
TRANGROUP:204C		       call    setup_parse_error_msg
TRANGROUP:204F		       jmp     short errj2
TRANGROUP:2051 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2051
TRANGROUP:2051 ok_to_set_erase_prompt:		       ; ...
TRANGROUP:2051		       inc     ds:COMSW
TRANGROUP:2055		       jmp     short erase_scan
TRANGROUP:2057 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2057
TRANGROUP:2057 good_line:			       ; ...
TRANGROUP:2057		       call    PathCrunch
TRANGROUP:205A		       jnb     short checkdr
TRANGROUP:205C		       mov     ax, ds:Msg_Numb
TRANGROUP:205F		       cmp     ax, 0
TRANGROUP:2062		       jnz     short extend_setup
TRANGROUP:2064		       cmp     ds:DestIsDir, 0
TRANGROUP:2069		       jnz     short badpath_err
TRANGROUP:206B
TRANGROUP:206B checkdr:				       ; ...
TRANGROUP:206B		       cmp     ds:COMSW, 0
TRANGROUP:2070		       jz      short notest2j
TRANGROUP:2072		       jmp     slashp_erase
TRANGROUP:2075 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2075
TRANGROUP:2075 notest2j:			       ; ...
TRANGROUP:2075		       jmp     notest2
TRANGROUP:2075 ERASE	       endp
TRANGROUP:2075
TRANGROUP:2078 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2078 ; START OF FUNCTION CHUNK FOR BUILDPATH
TRANGROUP:2078
TRANGROUP:2078 badpath_err:			       ; ...
TRANGROUP:2078		       mov     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:207B
TRANGROUP:207B extend_setup:			       ; ...
TRANGROUP:207B		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:2080		       mov     dx, offset extend_buf_ptr
TRANGROUP:2083		       mov     ds:extend_buf_ptr, ax
TRANGROUP:2086
TRANGROUP:2086 errj2:				       ; ...
TRANGROUP:2086		       jmp     cerror
TRANGROUP:2086 ; END OF	FUNCTION CHUNK FOR BUILDPATH
TRANGROUP:2089
TRANGROUP:2089 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2089
TRANGROUP:2089
TRANGROUP:2089 CRENAME	       proc near	       ; ...
TRANGROUP:2089		       mov     si, 81h
TRANGROUP:208C		       mov     di, offset PARSE_RENAME
TRANGROUP:208F		       xor     cx, cx
TRANGROUP:2091		       xor     dx, dx
TRANGROUP:2093		       call    Parse_With_Msg
TRANGROUP:2096		       cmp     ax, 0
TRANGROUP:2099		       jnz     short crename_parse_error
TRANGROUP:209B		       push    si
TRANGROUP:209C		       lds     si, ds:PARSE1_ADDR
TRANGROUP:20A0		       call    Move_To_SrcBuf
TRANGROUP:20A3		       pop     si
TRANGROUP:20A4		       xor     dx, dx
TRANGROUP:20A6		       call    Parse_With_Msg
TRANGROUP:20A9		       cmp     ax, 0
TRANGROUP:20AC		       jnz     short crename_parse_error
TRANGROUP:20AE		       push    si
TRANGROUP:20AF		       lds     si, ds:PARSE1_ADDR
TRANGROUP:20B3		       mov     al, ':'
TRANGROUP:20B5		       cmp     [si+1], al
TRANGROUP:20B8		       jnz     short ren_no_drive
TRANGROUP:20BA		       mov     ds:msg_disp_class, 2 ; parse_msg_class
TRANGROUP:20BF		       mov     dx, offset extend_buf_ptr
TRANGROUP:20C2		       mov     ds:extend_buf_ptr, 0Ah ;	BadParm_ptr
TRANGROUP:20C8		       pop     si
TRANGROUP:20C9
TRANGROUP:20C9 crename_parse_error:		       ; ...
TRANGROUP:20C9		       jmp     short errj
TRANGROUP:20CB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:20CB
TRANGROUP:20CB ren_no_drive:			       ; ...
TRANGROUP:20CB		       mov     di, 6Ch	       ; FCB+10h
TRANGROUP:20CE		       mov     ax, 2901h
TRANGROUP:20D1		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:20D1					       ; DS:SI -> string to parse
TRANGROUP:20D1					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:20D1					       ; AL = bit mask to control parsing
TRANGROUP:20D3		       lodsb
TRANGROUP:20D4		       mov     ds:One_Char_Val,	al
TRANGROUP:20D7		       pop     si
TRANGROUP:20D8		       mov     di, offset PARSE_RENAME
TRANGROUP:20DB		       call    parse_check_eol
TRANGROUP:20DE		       jnz     short crename_parse_error
TRANGROUP:20E0		       call    PathCrunch
TRANGROUP:20E3		       mov     dx, offset BADCPMES_PTR
TRANGROUP:20E6		       jz      short errj2
TRANGROUP:20E8		       jnb     short notest3
TRANGROUP:20EA		       mov     ax, ds:Msg_Numb
TRANGROUP:20ED		       cmp     ax, 0
TRANGROUP:20F0		       jnz     short extend_setup
TRANGROUP:20F2		       cmp     ds:DestIsDir, 0
TRANGROUP:20F7		       jz      short notest3
TRANGROUP:20F9		       jmp     badpath_err
TRANGROUP:20FC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:20FC
TRANGROUP:20FC notest3:				       ; ...
TRANGROUP:20FC		       mov     al, ds:One_Char_Val
TRANGROUP:20FF		       mov     dx, offset INORNOT_PTR
TRANGROUP:2102		       call    pathchrcmp
TRANGROUP:2105		       jz      short errj
TRANGROUP:2107		       mov     ah, 17h
TRANGROUP:2109		       mov     dx, 5Ch	       ; FCB
TRANGROUP:210C		       int     21h	       ; DOS - RENAME FILE via FCB
TRANGROUP:210C					       ; DS:DX -> FCB
TRANGROUP:210C					       ; FCB contains new name starting	at byte	17h.
TRANGROUP:210E		       cmp     al, 0FFh
TRANGROUP:2110		       jnz     short renameok
TRANGROUP:2112		       call    get_ext_error_number
TRANGROUP:2115		       push    ax
TRANGROUP:2116		       mov     al, 0FFh
TRANGROUP:2118
TRANGROUP:2118 renameok:			       ; ...
TRANGROUP:2118		       push    ax
TRANGROUP:2119		       call    RestUDir
TRANGROUP:211C		       pop     ax
TRANGROUP:211D		       inc     al
TRANGROUP:211F		       jz      short rn1
TRANGROUP:2121		       retn
TRANGROUP:2122 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2122
TRANGROUP:2122 rn1:				       ; ...
TRANGROUP:2122		       pop     ax
TRANGROUP:2123		       cmp     ax, 2
TRANGROUP:2126		       jz      short use_renerr
TRANGROUP:2128		       cmp     ax, 5
TRANGROUP:212B		       jz      short use_renerr
TRANGROUP:212D		       jmp     extend_setup
TRANGROUP:2130 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2130
TRANGROUP:2130 use_renerr:			       ; ...
TRANGROUP:2130		       mov     dx, offset RENERR_PTR
TRANGROUP:2133
TRANGROUP:2133 errj:				       ; ...
TRANGROUP:2133		       jmp     cerror
TRANGROUP:2133 CRENAME	       endp
TRANGROUP:2133
TRANGROUP:2136 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2136		       retn
TRANGROUP:2137
TRANGROUP:2137 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2137
TRANGROUP:2137
TRANGROUP:2137 TYPEFIL	       proc near	       ; ...
TRANGROUP:2137		       mov     si, 81h
TRANGROUP:213A		       mov     di, offset PARSE_MRDIR
TRANGROUP:213D		       xor     cx, cx
TRANGROUP:213F		       xor     dx, dx
TRANGROUP:2141		       call    Parse_With_Msg
TRANGROUP:2144		       cmp     ax, 0
TRANGROUP:2147		       jnz     short typefil_parse_error
TRANGROUP:2149		       push    si
TRANGROUP:214A		       lds     si, ds:PARSE1_ADDR
TRANGROUP:214E		       call    Move_To_SrcBuf
TRANGROUP:2151		       pop     si
TRANGROUP:2152		       mov     di, offset PARSE_MRDIR
TRANGROUP:2155		       call    parse_check_eol
TRANGROUP:2158		       jz      short gottarg
TRANGROUP:215A
TRANGROUP:215A typefil_parse_error:		       ; ...
TRANGROUP:215A		       jmp     cerror
TRANGROUP:215D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:215D
TRANGROUP:215D gottarg:				       ; ...
TRANGROUP:215D		       call    SETPATH
TRANGROUP:2160		       test    ds:DestInfo, 2  ; 00000010b
TRANGROUP:2165		       jz      short nowilds
TRANGROUP:2167		       mov     dx, offset INORNOT_PTR
TRANGROUP:216A		       jmp     cerror
TRANGROUP:216D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:216D
TRANGROUP:216D nowilds:				       ; ...
TRANGROUP:216D		       mov     ax, 6C00h       ; ExtOpen SHL 8
TRANGROUP:2170		       mov     bx, 0	       ; read_open_mode
TRANGROUP:2173		       xor     cx, cx
TRANGROUP:2175		       mov     dx, 101h	       ; read_open_flag
TRANGROUP:2178		       mov     si, offset SrcBuf
TRANGROUP:217B		       int     21h	       ; DOS - 4.0 - EXTENDED OPEN/CREATE
TRANGROUP:217B					       ; BL = open mode	as in AL for normal open (INT 21h/AH=3Dh)
TRANGROUP:217B					       ; BH = flags, CX	= create attribute, DL = action	if file	exists/does not	exists
TRANGROUP:217B					       ; DH = 00h (reserved), DS:SI -> ASCIZ file name
TRANGROUP:217D		       jnb     short typecont
TRANGROUP:217F
TRANGROUP:217F typerr:				       ; ...
TRANGROUP:217F		       push    cs
TRANGROUP:2180		       pop     ds
TRANGROUP:2181		       assume ds:TRANGROUP
TRANGROUP:2181		       call    Set_Ext_Error_Msg
TRANGROUP:2184		       mov     string_ptr_2, offset SrcBuf
TRANGROUP:218A		       mov     extend_buf_sub, 1 ; one_subst
TRANGROUP:218F		       jmp     cerror
TRANGROUP:2192 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2192
TRANGROUP:2192 typecont:			       ; ...
TRANGROUP:2192		       mov     bx, ax
TRANGROUP:2194		       mov     ax, 4400h
TRANGROUP:2197		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:2197					       ; BX = file or device handle
TRANGROUP:2199		       test    dl, 80h
TRANGROUP:219C		       jz      short not_device
TRANGROUP:219E		       mov     TypeFilSiz+2, 0FFFFh ; -1
TRANGROUP:21A4		       jmp     short dotype
TRANGROUP:21A6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:21A6
TRANGROUP:21A6 not_device:			       ; ...
TRANGROUP:21A6		       mov     ax, 4202h
TRANGROUP:21A9		       xor     dx, dx
TRANGROUP:21AB		       mov     cx, dx
TRANGROUP:21AD		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:21AD					       ; AL = method: offset from end of file
TRANGROUP:21AF		       mov     TypeFilSiz, ax
TRANGROUP:21B2		       mov     TypeFilSiz+2, dx
TRANGROUP:21B6		       mov     ax, 4200h
TRANGROUP:21B9		       xor     dx, dx
TRANGROUP:21BB		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:21BB					       ; AL = method: offset from beginning of file
TRANGROUP:21BD
TRANGROUP:21BD dotype:				       ; ...
TRANGROUP:21BD		       mov     zflag, 0
TRANGROUP:21C2		       mov     ds, TPA
TRANGROUP:21C6		       assume ds:nothing
TRANGROUP:21C6		       xor     dx, dx
TRANGROUP:21C8
TRANGROUP:21C8 typelp:				       ; ...
TRANGROUP:21C8		       cmp     cs:zflag, 0
TRANGROUP:21CE		       jz      short tf1
TRANGROUP:21D0		       retn
TRANGROUP:21D1 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:21D1
TRANGROUP:21D1 tf1:				       ; ...
TRANGROUP:21D1		       mov     cx, cs:BYTCNT
TRANGROUP:21D6		       cmp     cs:TypeFilSiz+2,	0FFFFh ; -1
TRANGROUP:21DC		       jz      short typ_read
TRANGROUP:21DE		       cmp     cs:TypeFilSiz+2,	0
TRANGROUP:21E4		       jz      short lt64k
TRANGROUP:21E6		       sub     cs:TypeFilSiz, cx
TRANGROUP:21EB		       sbb     cs:TypeFilSiz+2,	0
TRANGROUP:21F1		       jmp     short typ_read
TRANGROUP:21F3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:21F3
TRANGROUP:21F3 lt64k:				       ; ...
TRANGROUP:21F3		       cmp     cx, cs:TypeFilSiz
TRANGROUP:21F8		       jbe     short gtbuf
TRANGROUP:21FA		       mov     cx, cs:TypeFilSiz
TRANGROUP:21FF		       jcxz    short typelp_ret
TRANGROUP:2201		       mov     cs:TypeFilSiz, 0
TRANGROUP:2208		       jmp     short typ_read
TRANGROUP:220A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:220A
TRANGROUP:220A gtbuf:				       ; ...
TRANGROUP:220A		       sub     cs:TypeFilSiz, cx
TRANGROUP:220F
TRANGROUP:220F typ_read:			       ; ...
TRANGROUP:220F		       mov     ah, 3Fh
TRANGROUP:2211		       int     21h	       ; DOS - 2+ - READ FROM FILE WITH	HANDLE
TRANGROUP:2211					       ; BX = file handle, CX =	number of bytes	to read
TRANGROUP:2211					       ; DS:DX -> buffer
TRANGROUP:2213		       jnb     short tf2
TRANGROUP:2215		       jmp     typerr
TRANGROUP:2218 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2218
TRANGROUP:2218 tf2:				       ; ...
TRANGROUP:2218		       mov     cx, ax
TRANGROUP:221A		       jcxz    short typelp_ret
TRANGROUP:221C		       push    ds
TRANGROUP:221D		       pop     es
TRANGROUP:221E		       xor     di, di
TRANGROUP:2220		       push    ax
TRANGROUP:2221		       mov     al, 1Ah
TRANGROUP:2223		       repne scasb
TRANGROUP:2225		       pop     ax
TRANGROUP:2226		       xchg    ax, cx
TRANGROUP:2227		       cmp     ax, 0
TRANGROUP:222A		       jnz     short foundz
TRANGROUP:222C		       cmp     byte ptr	[di-1],	1Ah
TRANGROUP:2230		       jnz     short typecont2
TRANGROUP:2232
TRANGROUP:2232 foundz:				       ; ...
TRANGROUP:2232		       sub     cx, ax
TRANGROUP:2234		       dec     cx
TRANGROUP:2235		       push    cs
TRANGROUP:2236		       pop     es
TRANGROUP:2237		       assume es:TRANGROUP
TRANGROUP:2237		       not     es:zflag
TRANGROUP:223C
TRANGROUP:223C typecont2:			       ; ...
TRANGROUP:223C		       push    bx
TRANGROUP:223D		       mov     bx, 1
TRANGROUP:2240		       mov     ah, 40h
TRANGROUP:2242		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:2242					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:2244		       pop     bx
TRANGROUP:2245		       jb      short Error_outputj
TRANGROUP:2247		       cmp     ax, cx
TRANGROUP:2249		       jnz     short tf3
TRANGROUP:224B		       jmp     typelp
TRANGROUP:224E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:224E
TRANGROUP:224E tf3:				       ; ...
TRANGROUP:224E		       dec     cx
TRANGROUP:224F		       cmp     ax, cx
TRANGROUP:2251		       jnz     short Error_outputj
TRANGROUP:2253
TRANGROUP:2253 tf4:				       ; ...
TRANGROUP:2253		       retn
TRANGROUP:2254 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2254
TRANGROUP:2254 Error_outputj:			       ; ...
TRANGROUP:2254		       mov     bx, 1
TRANGROUP:2257		       mov     ax, 4400h
TRANGROUP:225A		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:225A					       ; BX = file or device handle
TRANGROUP:225C		       test    dl, 80h
TRANGROUP:225F		       jnz     short tf4
TRANGROUP:2261		       jmp     error_output
TRANGROUP:2264 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2264
TRANGROUP:2264 typelp_ret:			       ; ...
TRANGROUP:2264		       retn
TRANGROUP:2264 TYPEFIL	       endp
TRANGROUP:2264
TRANGROUP:2265
TRANGROUP:2265 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2265
TRANGROUP:2265
TRANGROUP:2265 VOLUME	       proc near	       ; ...
TRANGROUP:2265		       mov     si, 81h
TRANGROUP:2268		       mov     di, offset PARSE_VOL
TRANGROUP:226B		       xor     cx, cx
TRANGROUP:226D		       xor     dx, dx
TRANGROUP:226F		       call    Parse_With_Msg
TRANGROUP:2272		       cmp     ax, 0FFFFh      ; -1
TRANGROUP:2275		       jz      short OkVolArg
TRANGROUP:2277		       cmp     ax, 0
TRANGROUP:227A		       jnz     short badvolarg
TRANGROUP:227C		       mov     di, offset PARSE_VOL
TRANGROUP:227F		       xor     dx, dx
TRANGROUP:2281		       call    parse_check_eol
TRANGROUP:2284		       jz      short OkVolArg
TRANGROUP:2286
TRANGROUP:2286 badvolarg:			       ; ...
TRANGROUP:2286		       jmp     cerror
TRANGROUP:2286 VOLUME	       endp
TRANGROUP:2286
TRANGROUP:2289
TRANGROUP:2289 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2289
TRANGROUP:2289
TRANGROUP:2289 DisAppend       proc near	       ; ...
TRANGROUP:2289		       push    ds
TRANGROUP:228A		       push    es
TRANGROUP:228B		       push    di
TRANGROUP:228C		       mov     ax, 0B700h
TRANGROUP:228F		       int     2Fh	       ; - Multiplex - APPEND -	INSTALLATION CHECK
TRANGROUP:228F					       ; Return: AL = 00h not installed
TRANGROUP:228F					       ; AL = FFh if installed
TRANGROUP:2291		       or      al, al
TRANGROUP:2293		       jz      short daRet
TRANGROUP:2295		       mov     ax, 0B702h
TRANGROUP:2298		       int     2Fh	       ; - Multiplex - APPEND -	VERSION	CHECK
TRANGROUP:2298					       ; Return: AX = FFFFh if not DOS 4.0 APPEND
TRANGROUP:2298					       ; AL = major version number
TRANGROUP:2298					       ; AH = minor version number, otherwise
TRANGROUP:229A		       cmp     ax, 0FFFFh
TRANGROUP:229D		       jnz     short daRet
TRANGROUP:229F		       mov     ax, 0B706h
TRANGROUP:22A2		       int     2Fh	       ; - Multiplex - DOS 4.0 APPEND -	GET APPEND FUNCTION STATE
TRANGROUP:22A2					       ; Return: BX = APPEND state
TRANGROUP:22A4		       mov     ds, ds:RESSEG
TRANGROUP:22A8		       mov     ds:Append_State,	bx
TRANGROUP:22AC		       mov     ds:Append_Flag, 0FFh ; -1
TRANGROUP:22B1		       xor     bx, bx
TRANGROUP:22B3		       mov     ax, 0B707h
TRANGROUP:22B6		       int     2Fh	       ; - Multiplex - DOS 4.0 APPEND -	SET APPEND FUNCTION STATE
TRANGROUP:22B6					       ; BX = APPEND state bits
TRANGROUP:22B8
TRANGROUP:22B8 daRet:				       ; ...
TRANGROUP:22B8		       pop     di
TRANGROUP:22B9		       pop     es
TRANGROUP:22BA		       assume es:nothing
TRANGROUP:22BA		       pop     ds
TRANGROUP:22BB		       retn
TRANGROUP:22BB DisAppend       endp
TRANGROUP:22BB
TRANGROUP:22BC
TRANGROUP:22BC ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:22BC
TRANGROUP:22BC
TRANGROUP:22BC OkVolArg	       proc near	       ; ...
TRANGROUP:22BC		       call    DisAppend
TRANGROUP:22BF		       call    CRLF2
TRANGROUP:22C2		       mov     al, 20h ; ' '   ; blank
TRANGROUP:22C4		       call    PRINT_CHAR
TRANGROUP:22C7		       push    ds
TRANGROUP:22C8		       pop     es
TRANGROUP:22C9		       mov     di, 55h	       ; FCB-7
TRANGROUP:22CC		       mov     al, 0FFh	       ; -1
TRANGROUP:22CE		       stosb
TRANGROUP:22CF		       xor     ax, ax
TRANGROUP:22D1		       stosw
TRANGROUP:22D2		       stosw
TRANGROUP:22D3		       stosb
TRANGROUP:22D4		       mov     al, 8	       ; ATTR_VOLUME_ID
TRANGROUP:22D6		       stosb
TRANGROUP:22D7		       inc     di
TRANGROUP:22D8		       mov     cx, 11
TRANGROUP:22DB		       mov     al, '?'
TRANGROUP:22DD		       rep stosb
TRANGROUP:22DF		       mov     dx, offset BWDBUF ; DIRBUF
TRANGROUP:22E2		       mov     ah, 1Ah
TRANGROUP:22E4		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:22E4					       ; DS:DX -> disk transfer	buffer
TRANGROUP:22E6		       mov     dx, 55h
TRANGROUP:22E9		       mov     ah, 11h
TRANGROUP:22EB		       int     21h	       ; DOS - SEARCH FIRST USING FCB
TRANGROUP:22EB					       ; DS:DX -> FCB
TRANGROUP:22ED		       push    ax
TRANGROUP:22EE		       mov     al, ds:5Ch
TRANGROUP:22F1		       add     al, 40h ; '@'
TRANGROUP:22F3		       cmp     al, 40h ; '@'
TRANGROUP:22F5		       jnz     short drvok
TRANGROUP:22F7		       mov     al, ds:CURDRV
TRANGROUP:22FA		       add     al, 'A'
TRANGROUP:22FC
TRANGROUP:22FC drvok:				       ; ...
TRANGROUP:22FC		       mov     ds:vol_drv, al
TRANGROUP:22FF		       pop     ax
TRANGROUP:2300		       or      al, al
TRANGROUP:2302		       jz      short Get_vol_name
TRANGROUP:2304		       mov     dx, offset VolMes_Ptr_2
TRANGROUP:2307		       jmp     short print_serial
TRANGROUP:2309 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2309
TRANGROUP:2309 Get_vol_name:			       ; ...
TRANGROUP:2309		       mov     di, offset CHARBUF
TRANGROUP:230C		       mov     dx, di
TRANGROUP:230E		       mov     si, offset DIRBUF_8 ; DIRBUF+8
TRANGROUP:2311		       mov     cx, 11
TRANGROUP:2314		       rep movsb
TRANGROUP:2316		       xor     al, al
TRANGROUP:2318		       stosb
TRANGROUP:2319		       mov     dx, offset VolMes_Ptr
TRANGROUP:231C
TRANGROUP:231C print_serial:			       ; ...
TRANGROUP:231C		       push    dx
TRANGROUP:231D		       mov     ax, 6900h
TRANGROUP:2320		       mov     bl, ds:5Ch      ; [FCB]
TRANGROUP:2324		       mov     dx, offset vol_ioctl_buf
TRANGROUP:2327		       int     21h	       ; DOS - 4.0 internal - GET/SET DISK SERIAL NUMBER
TRANGROUP:2327					       ; AL = 00h get serial number / 01h set serial number
TRANGROUP:2327					       ; BL = drive (0=default,	1=A, 2=B, etc)
TRANGROUP:2327					       ; DS:DX -> disk info
TRANGROUP:2329		       pop     dx
TRANGROUP:232A		       jb      short printvol_end
TRANGROUP:232C		       call    std_printf
TRANGROUP:232F		       mov     al, 20h ; ' '
TRANGROUP:2331		       call    PRINT_CHAR
TRANGROUP:2334		       mov     dx, offset VolSerMes_Ptr
TRANGROUP:2337
TRANGROUP:2337 printvol_end:			       ; ...
TRANGROUP:2337		       jmp     std_printf
TRANGROUP:2337 OkVolArg	       endp
TRANGROUP:2337
TRANGROUP:233A
TRANGROUP:233A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:233A
TRANGROUP:233A
TRANGROUP:233A Set_Ext_Error_Msg proc near	       ; ...
TRANGROUP:233A		       call    get_ext_error_number
TRANGROUP:233D		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:2342		       mov     dx, offset extend_buf_ptr
TRANGROUP:2345		       mov     ds:extend_buf_ptr, ax
TRANGROUP:2348		       stc
TRANGROUP:2349		       retn
TRANGROUP:2349 Set_Ext_Error_Msg endp
TRANGROUP:2349
TRANGROUP:234A
TRANGROUP:234A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:234A
TRANGROUP:234A
TRANGROUP:234A get_ext_error_number proc near	       ; ...
TRANGROUP:234A		       push    bx
TRANGROUP:234B		       push    cx
TRANGROUP:234C		       push    dx
TRANGROUP:234D		       push    si
TRANGROUP:234E		       push    di
TRANGROUP:234F		       push    bp
TRANGROUP:2350		       push    es
TRANGROUP:2351		       push    ds
TRANGROUP:2352		       mov     ah, 59h	       ; GetExtendedError
TRANGROUP:2354		       xor     bx, bx
TRANGROUP:2356		       int     21h	       ; DOS - 3+ - GET	EXTENDED ERROR CODE
TRANGROUP:2356					       ; BX = version code (0000h for DOS 3.x)
TRANGROUP:2358		       pop     ds
TRANGROUP:2359		       pop     es
TRANGROUP:235A		       pop     bp
TRANGROUP:235B		       pop     di
TRANGROUP:235C		       pop     si
TRANGROUP:235D		       pop     dx
TRANGROUP:235E		       pop     cx
TRANGROUP:235F		       pop     bx
TRANGROUP:2360		       retn
TRANGROUP:2360 get_ext_error_number endp
TRANGROUP:2360
TRANGROUP:2361
TRANGROUP:2361 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2361
TRANGROUP:2361
TRANGROUP:2361 VERSION	       proc near	       ; ...
TRANGROUP:2361		       mov     si, 81h
TRANGROUP:2364		       mov     di, offset PARSE_VER
TRANGROUP:2367		       xor     cx, cx
TRANGROUP:2369		       call    Parse_With_Msg
TRANGROUP:236C		       mov     bl, 1
TRANGROUP:236E		       cmp     ax, 0	       ; RESULT_NO_ERROR
TRANGROUP:2371		       jz      short verPrintVer
TRANGROUP:2373		       dec     bl
TRANGROUP:2375		       cmp     ax, 0FFFFh      ; END_OF_LINE
TRANGROUP:2378		       jz      short verPrintVer
TRANGROUP:237A		       jmp     cerror
TRANGROUP:237D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:237D
TRANGROUP:237D verPrintVer:			       ; ...
TRANGROUP:237D		       push    bx
TRANGROUP:237E		       call    CRLF2
TRANGROUP:2381		       call    PRINT_VERSION
TRANGROUP:2384		       call    CRLF2
TRANGROUP:2387		       pop     bx
TRANGROUP:2388		       or      bl, bl
TRANGROUP:238A		       jz      short verDone
TRANGROUP:238C		       mov     ax, 3306h
TRANGROUP:238F		       int     21h	       ; DOS - 5+ Get TRUE Version Number (BL major, BH	minor, DL revision, DH flags)
TRANGROUP:2391		       mov     al, dl
TRANGROUP:2393		       mov     bh, dh
TRANGROUP:2395		       cmp     al, 25	       ; 'Z'-'A'
TRANGROUP:2397		       jbe     short ver1
TRANGROUP:2399		       mov     al, -23	       ; '*'-'A'
TRANGROUP:239B
TRANGROUP:239B ver1:				       ; ...
TRANGROUP:239B		       add     al, 'A'         ; 41h
TRANGROUP:239D		       mov     ds:One_Char_Val,	al
TRANGROUP:23A0		       mov     dx, offset dosrev_ptr
TRANGROUP:23A3		       call    std_printf
TRANGROUP:23A6		       mov     cl, 4
TRANGROUP:23A8		       shr     bh, cl
TRANGROUP:23AA		       jb      short verRom
TRANGROUP:23AC		       shr     bh, 1
TRANGROUP:23AE		       jb      short verHma
TRANGROUP:23B0		       mov     dx, offset DosLow_Ptr
TRANGROUP:23B3		       jmp     short verPrintLoc
TRANGROUP:23B5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:23B5
TRANGROUP:23B5 verRom:				       ; ...
TRANGROUP:23B5		       mov     dx, offset DosRom_Ptr
TRANGROUP:23B8		       jmp     short verPrintLoc
TRANGROUP:23BA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:23BA
TRANGROUP:23BA verHma:				       ; ...
TRANGROUP:23BA		       mov     dx, offset DosHma_Ptr
TRANGROUP:23BD
TRANGROUP:23BD verPrintLoc:			       ; ...
TRANGROUP:23BD		       call    std_printf
TRANGROUP:23C0
TRANGROUP:23C0 verDone:				       ; ...
TRANGROUP:23C0		       jmp     CRLF2
TRANGROUP:23C0 VERSION	       endp
TRANGROUP:23C0
TRANGROUP:23C3
TRANGROUP:23C3 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:23C3
TRANGROUP:23C3
TRANGROUP:23C3 PRINT_VERSION   proc near	       ; ...
TRANGROUP:23C3		       mov     ah, 30h
TRANGROUP:23C5		       int     21h	       ; DOS - GET DOS VERSION
TRANGROUP:23C5					       ; Return: AL = major version number (00h	for DOS	1.x)
TRANGROUP:23C7		       push    ax
TRANGROUP:23C8		       xor     ah, ah
TRANGROUP:23CA		       mov     ds:Major_Ver_Num, ax
TRANGROUP:23CD		       pop     ax
TRANGROUP:23CE		       xchg    ah, al
TRANGROUP:23D0		       xor     ah, ah
TRANGROUP:23D2		       mov     ds:Minor_Ver_Num, ax
TRANGROUP:23D5		       mov     dx, offset VerMes_Ptr
TRANGROUP:23D8		       jmp     std_printf
TRANGROUP:23D8 PRINT_VERSION   endp
TRANGROUP:23D8
TRANGROUP:23DB
TRANGROUP:23DB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:23DB
TRANGROUP:23DB
TRANGROUP:23DB PRINT_PROMPT    proc near	       ; ...
TRANGROUP:23DB		       push    ds
TRANGROUP:23DC		       push    cs
TRANGROUP:23DD		       pop     ds
TRANGROUP:23DE		       assume ds:TRANGROUP
TRANGROUP:23DE		       push    es
TRANGROUP:23DF		       call    find_prompt
TRANGROUP:23E2		       jb      short PP0
TRANGROUP:23E4		       cmp     byte ptr	es:[di], 0
TRANGROUP:23E8		       jnz     short PP1
TRANGROUP:23EA
TRANGROUP:23EA PP0:				       ; ...
TRANGROUP:23EA		       call    PRINT_DRIVE
TRANGROUP:23ED		       mov     al, '>'
TRANGROUP:23EF		       call    PRINT_CHAR
TRANGROUP:23F2		       jmp     short PP5
TRANGROUP:23F4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:23F4
TRANGROUP:23F4 PP1:				       ; ...
TRANGROUP:23F4		       mov     al, es:[di]
TRANGROUP:23F7		       inc     di
TRANGROUP:23F8		       or      al, al
TRANGROUP:23FA		       jz      short PP5
TRANGROUP:23FC		       cmp     al, '$'
TRANGROUP:23FE		       jz      short PP2
TRANGROUP:2400		       call    PRINT_CHAR
TRANGROUP:2403		       jmp     short PP1
TRANGROUP:2405 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2405
TRANGROUP:2405 PP2:				       ; ...
TRANGROUP:2405		       mov     al, es:[di]
TRANGROUP:2408		       inc     di
TRANGROUP:2409		       mov     bx, offset clsstring_2 ;	PROMPT_TABLE-3 (db '[2J')
TRANGROUP:240C		       or      al, al
TRANGROUP:240E		       jz      short PP5
TRANGROUP:2410
TRANGROUP:2410 PP3:				       ; ...
TRANGROUP:2410		       add     bx, 3
TRANGROUP:2413		       call    UPCONV
TRANGROUP:2416		       cmp     al, [bx]
TRANGROUP:2418		       jz      short PP4
TRANGROUP:241A		       cmp     byte ptr	[bx], 0
TRANGROUP:241D		       jnz     short PP3
TRANGROUP:241F		       jmp     short PP1
TRANGROUP:2421 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2421
TRANGROUP:2421 PP4:				       ; ...
TRANGROUP:2421		       push    es
TRANGROUP:2422		       push    di
TRANGROUP:2423		       push    cs
TRANGROUP:2424		       pop     es
TRANGROUP:2425		       assume es:TRANGROUP
TRANGROUP:2425		       call    word ptr	[bx+1]
TRANGROUP:2428		       pop     di
TRANGROUP:2429		       pop     es
TRANGROUP:242A		       assume es:nothing
TRANGROUP:242A		       jmp     short PP1
TRANGROUP:242C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:242C
TRANGROUP:242C PP5:				       ; ...
TRANGROUP:242C		       pop     es
TRANGROUP:242D		       pop     ds
TRANGROUP:242E		       assume ds:nothing
TRANGROUP:242E		       retn
TRANGROUP:242E PRINT_PROMPT    endp
TRANGROUP:242E
TRANGROUP:242F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:242F
TRANGROUP:242F PRINT_BACK:			       ; ...
TRANGROUP:242F		       mov     dx, offset dback_ptr
TRANGROUP:2432		       jmp     std_printf
TRANGROUP:2435 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2435
TRANGROUP:2435 PRINT_EQ:			       ; ...
TRANGROUP:2435		       mov     al, '='
TRANGROUP:2437		       jmp     short PRINT_CHAR
TRANGROUP:2439 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2439
TRANGROUP:2439 PRINT_ESC:			       ; ...
TRANGROUP:2439		       mov     al, 1Bh	       ; ESCape
TRANGROUP:243B		       jmp     short PRINT_CHAR
TRANGROUP:243D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:243D
TRANGROUP:243D PRINT_G:				       ; ...
TRANGROUP:243D		       mov     al, '>'
TRANGROUP:243F		       jmp     short PRINT_CHAR
TRANGROUP:2441 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2441
TRANGROUP:2441 PRINT_L:				       ; ...
TRANGROUP:2441		       mov     al, '<'
TRANGROUP:2443		       jmp     short PRINT_CHAR
TRANGROUP:2445 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2445
TRANGROUP:2445 Print_B:				       ; ...
TRANGROUP:2445		       mov     al, '|'
TRANGROUP:2447
TRANGROUP:2447 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2447
TRANGROUP:2447
TRANGROUP:2447 PRINT_CHAR      proc near	       ; ...
TRANGROUP:2447		       push    es
TRANGROUP:2448		       push    ds
TRANGROUP:2449		       pop     es
TRANGROUP:244A		       push    di
TRANGROUP:244B		       push    dx
TRANGROUP:244C		       mov     dl, al
TRANGROUP:244E		       mov     ah, 2	       ; STD_CON_OUTPUT
TRANGROUP:2450		       int     21h	       ; DOS - DISPLAY OUTPUT
TRANGROUP:2450					       ; DL = character	to send	to standard output
TRANGROUP:2452		       pop     dx
TRANGROUP:2453		       pop     di
TRANGROUP:2454		       pop     es
TRANGROUP:2455		       retn
TRANGROUP:2455 PRINT_CHAR      endp
TRANGROUP:2455
TRANGROUP:2456
TRANGROUP:2456 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2456
TRANGROUP:2456
TRANGROUP:2456 PRINT_DRIVE     proc near	       ; ...
TRANGROUP:2456		       mov     ah, 19h
TRANGROUP:2458		       int     21h	       ; DOS - GET DEFAULT DISK	NUMBER
TRANGROUP:245A		       add     al, 41h ; 'A'
TRANGROUP:245C		       call    PRINT_CHAR
TRANGROUP:245F		       retn
TRANGROUP:245F PRINT_DRIVE     endp
TRANGROUP:245F
TRANGROUP:2460 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2460
TRANGROUP:2460 build_dir_for_prompt:		       ; ...
TRANGROUP:2460		       xor     dl, dl
TRANGROUP:2462		       mov     si, offset BWDBUF
TRANGROUP:2465		       mov     di, si
TRANGROUP:2467		       mov     al, ds:CURDRV
TRANGROUP:246A		       add     al, 'A'
TRANGROUP:246C		       mov     ah, ':'
TRANGROUP:246E		       stosw
TRANGROUP:246F		       mov     al, ds:DIRCHAR
TRANGROUP:2472		       stosb
TRANGROUP:2473		       xchg    si, di
TRANGROUP:2475		       mov     ds:string_ptr_2,	di
TRANGROUP:2479		       mov     ah, 47h
TRANGROUP:247B		       int     21h	       ; DOS - 2+ - GET	CURRENT	DIRECTORY
TRANGROUP:247B					       ; DL = drive (0=default,	1=A, etc.)
TRANGROUP:247B					       ; DS:SI points to 64-byte buffer	area
TRANGROUP:247D		       mov     dx, offset string_buf_ptr
TRANGROUP:2480		       jnb     short doprint
TRANGROUP:2482		       mov     dx, offset BADCURDRV
TRANGROUP:2485
TRANGROUP:2485 doprint:				       ; ...
TRANGROUP:2485		       call    std_printf
TRANGROUP:2488		       retn
TRANGROUP:2489
TRANGROUP:2489 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2489
TRANGROUP:2489
TRANGROUP:2489 build_dir_for_chdir proc	near	       ; ...
TRANGROUP:2489		       call    build_dir_string
TRANGROUP:248C		       mov     dx, offset BWDBUF ; DIRBUF
TRANGROUP:248F		       mov     ds:string_ptr_2,	dx
TRANGROUP:2493		       mov     dx, offset string_buf_ptr
TRANGROUP:2496		       call    std_printf
TRANGROUP:2499		       retn
TRANGROUP:2499 build_dir_for_chdir endp
TRANGROUP:2499
TRANGROUP:249A
TRANGROUP:249A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:249A
TRANGROUP:249A
TRANGROUP:249A build_dir_string	proc near	       ; ...
TRANGROUP:249A		       mov     dl, ds:5Ch
TRANGROUP:249E		       mov     al, dl
TRANGROUP:24A0		       add     al, 40h ; '@'
TRANGROUP:24A2		       cmp     al, 40h ; '@'
TRANGROUP:24A4		       jnz     short gotdrive
TRANGROUP:24A6		       add     al, ds:CURDRV
TRANGROUP:24AA		       inc     al
TRANGROUP:24AC
TRANGROUP:24AC gotdrive:			       ; ...
TRANGROUP:24AC		       push    ax
TRANGROUP:24AD		       mov     si, (offset BWDBUF+3)
TRANGROUP:24B0		       mov     ah, 47h
TRANGROUP:24B2		       int     21h	       ; DOS - 2+ - GET	CURRENT	DIRECTORY
TRANGROUP:24B2					       ; DL = drive (0=default,	1=A, etc.)
TRANGROUP:24B2					       ; DS:SI points to 64-byte buffer	area
TRANGROUP:24B4		       jnb     short dpbisok
TRANGROUP:24B6		       push    cs
TRANGROUP:24B7		       pop     ds
TRANGROUP:24B8		       assume ds:TRANGROUP
TRANGROUP:24B8		       jmp     DRVBAD
TRANGROUP:24BB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:24BB
TRANGROUP:24BB dpbisok:				       ; ...
TRANGROUP:24BB		       mov     di, offset BWDBUF
TRANGROUP:24BE		       mov     dx, di
TRANGROUP:24C0		       pop     ax
TRANGROUP:24C1		       mov     ah, ':'
TRANGROUP:24C3		       stosw
TRANGROUP:24C4		       mov     al, DIRCHAR
TRANGROUP:24C7		       stosb
TRANGROUP:24C8		       retn
TRANGROUP:24C8 build_dir_string	endp
TRANGROUP:24C8
TRANGROUP:24C9
TRANGROUP:24C9 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:24C9
TRANGROUP:24C9
TRANGROUP:24C9 PATH	       proc near	       ; ...
TRANGROUP:24C9		       xor     al, al
TRANGROUP:24CB		       mov     di, offset SRCXNAME
TRANGROUP:24CE		       stosb
TRANGROUP:24CF		       dec     di
TRANGROUP:24D0		       call    PGETARG
TRANGROUP:24D3		       jz      short disppath
TRANGROUP:24D5		       cmp     al, ';'         ; 3Bh
TRANGROUP:24D7		       jnz     short pathslp
TRANGROUP:24D9		       inc     si
TRANGROUP:24DA		       jmp     short scan_white
TRANGROUP:24DC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:24DC
TRANGROUP:24DC pathslp:				       ; ...
TRANGROUP:24DC		       lodsb
TRANGROUP:24DD		       cmp     al, 0Dh	       ; END_OF_LINE_IN
TRANGROUP:24DF		       jz      short path_eol
TRANGROUP:24E1		       call    testkanj
TRANGROUP:24E4		       jz      short notkanj2
TRANGROUP:24E6		       stosb
TRANGROUP:24E7		       lodsb
TRANGROUP:24E8
TRANGROUP:24E8 path_hold:			       ; ...
TRANGROUP:24E8		       stosb
TRANGROUP:24E9		       jmp     short pathslp
TRANGROUP:24EB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:24EB
TRANGROUP:24EB notkanj2:			       ; ...
TRANGROUP:24EB		       call    UPCONV
TRANGROUP:24EE		       cmp     al, ';'         ; 3Bh ; semicolon
TRANGROUP:24F0		       jz      short path_hold
TRANGROUP:24F2		       call    DELIM
TRANGROUP:24F5		       jnz     short path_hold
TRANGROUP:24F7
TRANGROUP:24F7 scan_white:			       ; ...
TRANGROUP:24F7		       lodsb
TRANGROUP:24F8		       cmp     al, 0Dh
TRANGROUP:24FA		       jz      short path_eol
TRANGROUP:24FC		       cmp     al, 20h ; ' '
TRANGROUP:24FE		       jz      short scan_white
TRANGROUP:2500		       cmp     al, 9
TRANGROUP:2502		       jz      short scan_white
TRANGROUP:2504		       mov     dx, offset extend_buf_ptr
TRANGROUP:2507		       mov     extend_buf_ptr, 1 ; MoreArgs_Ptr
TRANGROUP:250D		       mov     msg_disp_class, 2 ; parse_msg_class
TRANGROUP:2512		       jmp     cerror
TRANGROUP:2515 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2515
TRANGROUP:2515 path_eol:			       ; ...
TRANGROUP:2515		       xor     al, al
TRANGROUP:2517		       stosb
TRANGROUP:2518		       call    find_path
TRANGROUP:251B		       call    delete_path
TRANGROUP:251E		       call    scan_double_null
TRANGROUP:2521		       call    move_name
TRANGROUP:2524		       mov     si, offset SRCXNAME
TRANGROUP:2527
TRANGROUP:2527 store_path:			       ; ...
TRANGROUP:2527		       lodsb
TRANGROUP:2528		       cmp     al, 0
TRANGROUP:252A		       jz      short got_paths
TRANGROUP:252C		       call    store_char
TRANGROUP:252F		       jmp     short store_path
TRANGROUP:2531 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2531
TRANGROUP:2531 got_paths:			       ; ...
TRANGROUP:2531		       xor     ax, ax
TRANGROUP:2533		       stosw
TRANGROUP:2534		       retn
TRANGROUP:2535 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2535
TRANGROUP:2535 disppath:			       ; ...
TRANGROUP:2535		       call    find_path
TRANGROUP:2538		       call    print_path
TRANGROUP:253B		       call    CRLF2
TRANGROUP:253E		       retn
TRANGROUP:253E PATH	       endp
TRANGROUP:253E
TRANGROUP:253F
TRANGROUP:253F ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:253F
TRANGROUP:253F
TRANGROUP:253F print_path      proc near	       ; ...
TRANGROUP:253F		       cmp     byte ptr	es:[di], 0
TRANGROUP:2543		       jnz     short path1
TRANGROUP:2545
TRANGROUP:2545 path0:				       ; ...
TRANGROUP:2545		       mov     dx, offset NULLPATH_PTR
TRANGROUP:2548		       push    cs
TRANGROUP:2549		       pop     es
TRANGROUP:254A		       assume es:TRANGROUP
TRANGROUP:254A		       push    cs
TRANGROUP:254B		       pop     ds
TRANGROUP:254C		       jmp     std_printf
TRANGROUP:254F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:254F
TRANGROUP:254F path1:				       ; ...
TRANGROUP:254F		       push    es
TRANGROUP:2550		       pop     ds
TRANGROUP:2551		       sub     di, 5
TRANGROUP:2554		       mov     si, di
TRANGROUP:2556		       call    SCASB2
TRANGROUP:2559		       cmp     cx, 0FFh	       ; 255
TRANGROUP:255D		       jz      short path0
TRANGROUP:255F		       push    cs
TRANGROUP:2560		       pop     es
TRANGROUP:2561		       mov     di, offset Arg_Buf
TRANGROUP:2564		       mov     dx, 100h	       ; 256
TRANGROUP:2567		       sub     dx, cx
TRANGROUP:2569		       xchg    dx, cx
TRANGROUP:256B		       rep movsb
TRANGROUP:256D		       mov     dx, offset arg_buf_ptr
TRANGROUP:2570		       push    cs
TRANGROUP:2571		       pop     ds
TRANGROUP:2572		       jmp     std_printf
TRANGROUP:2572 print_path      endp
TRANGROUP:2572
TRANGROUP:2575
TRANGROUP:2575 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2575
TRANGROUP:2575
TRANGROUP:2575 CLS	       proc near	       ; ...
TRANGROUP:2575		       mov     ah, 1Ah
TRANGROUP:2577		       mov     al, 0
TRANGROUP:2579		       int     2Fh	       ; - Multiplex - DOS 4+ ANSI.SYS internal	- INSTALLATION CHECK
TRANGROUP:2579					       ; Return: AL = FFh if installed
TRANGROUP:257B		       cmp     al, 0FFh	       ; ANSI_installed
TRANGROUP:257D		       jz      short ansicls
TRANGROUP:257F		       mov     ax, 440Ch
TRANGROUP:2582		       mov     bx, 1
TRANGROUP:2585		       mov     ch, 3
TRANGROUP:2587		       mov     cl, 7Fh
TRANGROUP:2589		       mov     dx, offset Display_Ioctl
TRANGROUP:258C		       int     21h	       ; DOS - 2+ - IOCTL -
TRANGROUP:258E		       jb      short no_variable
TRANGROUP:2590		       mov     ax, LinPerPag
TRANGROUP:2593		       mov     dh, al
TRANGROUP:2595		       mov     ax, display_width
TRANGROUP:2598		       mov     dl, al
TRANGROUP:259A		       jmp     short regcls
TRANGROUP:259C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:259C
TRANGROUP:259C no_variable:			       ; ...
TRANGROUP:259C		       mov     bx, 1
TRANGROUP:259F		       mov     ax, 4400h
TRANGROUP:25A2		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:25A2					       ; BX = file or device handle
TRANGROUP:25A4		       test    dl, 80h
TRANGROUP:25A7		       jz      short ansicls
TRANGROUP:25A9		       test    dl, 10h
TRANGROUP:25AC		       jnz     short cls_normal
TRANGROUP:25AE
TRANGROUP:25AE ansicls:				       ; ...
TRANGROUP:25AE		       call    ansi_cls
TRANGROUP:25B1		       jmp     short cls_ret
TRANGROUP:25B3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:25B3
TRANGROUP:25B3 cls_normal:			       ; ...
TRANGROUP:25B3		       mov     ah, 0Fh
TRANGROUP:25B5		       int     10h	       ; - VIDEO - GET CURRENT VIDEO MODE
TRANGROUP:25B5					       ; Return: AH = number of	columns	on screen
TRANGROUP:25B5					       ; AL = current video mode
TRANGROUP:25B5					       ; BH = current active display page
TRANGROUP:25B7		       cmp     al, 3
TRANGROUP:25B9		       jbe     short DoAlpha
TRANGROUP:25BB		       cmp     al, 7
TRANGROUP:25BD		       jz      short DoAlpha
TRANGROUP:25BF		       mov     ah, 0
TRANGROUP:25C1		       int     10h	       ; - VIDEO - SET VIDEO MODE
TRANGROUP:25C1					       ; AL = mode
TRANGROUP:25C3		       jmp     short cls_ret
TRANGROUP:25C5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:25C5
TRANGROUP:25C5 DoAlpha:				       ; ...
TRANGROUP:25C5		       push    ds
TRANGROUP:25C6		       mov     ax, 40h	       ; ROMBIOS_DATA
TRANGROUP:25C9		       mov     ds, ax
TRANGROUP:25CB		       assume ds:nothing
TRANGROUP:25CB		       mov     dx, ds:4Ah      ; [CRT_Cols]
TRANGROUP:25CF		       mov     dh, ds:84h      ; [CRT_Rows]
TRANGROUP:25D3		       pop     ds
TRANGROUP:25D4		       assume ds:nothing
TRANGROUP:25D4		       or      dh, dh
TRANGROUP:25D6		       jnz     short regcls
TRANGROUP:25D8		       mov     dh, 25
TRANGROUP:25DA
TRANGROUP:25DA regcls:				       ; ...
TRANGROUP:25DA		       inc     dh
TRANGROUP:25DC		       call    reg_cls
TRANGROUP:25DF
TRANGROUP:25DF cls_ret:				       ; ...
TRANGROUP:25DF		       retn
TRANGROUP:25DF CLS	       endp
TRANGROUP:25DF
TRANGROUP:25E0
TRANGROUP:25E0 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:25E0
TRANGROUP:25E0
TRANGROUP:25E0 reg_cls	       proc near	       ; ...
TRANGROUP:25E0		       dec     dh
TRANGROUP:25E2		       dec     dl
TRANGROUP:25E4		       push    dx
TRANGROUP:25E5		       mov     ah, 0Bh
TRANGROUP:25E7		       xor     bx, bx
TRANGROUP:25E9		       int     10h	       ; - VIDEO - SET COLOR PALETTE
TRANGROUP:25E9					       ; BH = 00h, BL =	border color
TRANGROUP:25E9					       ; BH = 01h, BL =	palette	(0-3)
TRANGROUP:25EB		       pop     dx
TRANGROUP:25EC		       xor     ax, ax
TRANGROUP:25EE		       mov     cx, ax
TRANGROUP:25F0		       mov     ah, 6
TRANGROUP:25F2		       mov     bh, 7
TRANGROUP:25F4		       xor     bl, bl
TRANGROUP:25F6		       int     10h	       ; - VIDEO - SCROLL PAGE UP
TRANGROUP:25F6					       ; AL = number of	lines to scroll	window (0 = blank whole	window)
TRANGROUP:25F6					       ; BH = attributes to be used on blanked lines
TRANGROUP:25F6					       ; CH,CL = row,column of upper left corner of window to scroll
TRANGROUP:25F6					       ; DH,DL = row,column of lower right corner of window
TRANGROUP:25F8		       mov     ah, 0Fh
TRANGROUP:25FA		       int     10h	       ; - VIDEO - GET CURRENT VIDEO MODE
TRANGROUP:25FA					       ; Return: AH = number of	columns	on screen
TRANGROUP:25FA					       ; AL = current video mode
TRANGROUP:25FA					       ; BH = current active display page
TRANGROUP:25FC		       mov     ah, 2
TRANGROUP:25FE		       xor     dx, dx
TRANGROUP:2600		       int     10h	       ; - VIDEO - SET CURSOR POSITION
TRANGROUP:2600					       ; DH,DL = row, column (0,0 = upper left)
TRANGROUP:2600					       ; BH = page number
TRANGROUP:2602		       retn
TRANGROUP:2602 reg_cls	       endp
TRANGROUP:2602
TRANGROUP:2603
TRANGROUP:2603 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2603
TRANGROUP:2603
TRANGROUP:2603 ansi_cls	       proc near	       ; ...
TRANGROUP:2603		       mov     si, offset CLSSTRING
TRANGROUP:2606		       lodsb
TRANGROUP:2607		       mov     cl, al
TRANGROUP:2609		       xor     ch, ch
TRANGROUP:260B		       mov     ah, 6	       ; Raw_CON_IO
TRANGROUP:260D
TRANGROUP:260D clrloop:				       ; ...
TRANGROUP:260D		       lodsb
TRANGROUP:260E		       mov     dl, al
TRANGROUP:2610		       int     21h	       ; DOS - DIRECT CONSOLE I/O CHARACTER OUTPUT
TRANGROUP:2610					       ; DL = character	<> FFh
TRANGROUP:2610					       ;  Return: ZF set = no character
TRANGROUP:2610					       ;   ZF clear = character	recieved, AL = character
TRANGROUP:2612		       loop    clrloop
TRANGROUP:2614		       retn
TRANGROUP:2614 ansi_cls	       endp
TRANGROUP:2614
TRANGROUP:2615
TRANGROUP:2615 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2615
TRANGROUP:2615
TRANGROUP:2615 CTTY	       proc near	       ; ...
TRANGROUP:2615		       push    ds
TRANGROUP:2616		       pop     es
TRANGROUP:2617		       assume es:nothing
TRANGROUP:2617		       mov     si, 81h
TRANGROUP:261A		       mov     di, offset PARSE_CTTY
TRANGROUP:261D		       xor     cx, cx
TRANGROUP:261F		       xor     dx, dx
TRANGROUP:2621		       call    cmd_parse
TRANGROUP:2624		       cmp     ax, 0FFFFh
TRANGROUP:2627		       jz      short ctty_error
TRANGROUP:2629		       cmp     ax, 0
TRANGROUP:262C		       jnz     short ctty_error
TRANGROUP:262E		       push    si
TRANGROUP:262F		       lds     si, ds:PARSE1_ADDR
TRANGROUP:2633		       mov     di, offset SrcBuf
TRANGROUP:2636
TRANGROUP:2636 ctty_move_filename:		       ; ...
TRANGROUP:2636		       lodsb
TRANGROUP:2637		       stosb
TRANGROUP:2638		       cmp     al, 0
TRANGROUP:263A		       jnz     short ctty_move_filename
TRANGROUP:263C		       pop     si
TRANGROUP:263D		       mov     di, offset PARSE_CTTY
TRANGROUP:2640		       call    parse_check_eol
TRANGROUP:2643		       jz      short nocolon
TRANGROUP:2645
TRANGROUP:2645 ctty_error:			       ; ...
TRANGROUP:2645		       jmp     short isbaddev
TRANGROUP:2647 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2647
TRANGROUP:2647 nocolon:				       ; ...
TRANGROUP:2647		       mov     dx, offset SrcBuf
TRANGROUP:264A		       mov     ax, 3D02h
TRANGROUP:264D		       int     21h	       ; DOS - 2+ - OPEN DISK FILE WITH	HANDLE
TRANGROUP:264D					       ; DS:DX -> ASCIZ	filename
TRANGROUP:264D					       ; AL = access mode
TRANGROUP:264D					       ; 2 - read & write
TRANGROUP:264F		       jb      short isbaddev
TRANGROUP:2651		       mov     bx, ax
TRANGROUP:2653		       mov     ax, 4400h
TRANGROUP:2656		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:2656					       ; BX = file or device handle
TRANGROUP:2658		       test    dl, 80h
TRANGROUP:265B		       jnz     short devisok
TRANGROUP:265D
TRANGROUP:265D closedev:			       ; ...
TRANGROUP:265D		       mov     ah, 3Eh
TRANGROUP:265F		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:265F					       ; BX = file handle
TRANGROUP:2661
TRANGROUP:2661 isbaddev:			       ; ...
TRANGROUP:2661		       mov     dx, offset BADDEV_PTR
TRANGROUP:2664		       call    std_printf
TRANGROUP:2667		       jmp     short resret
TRANGROUP:2669 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2669
TRANGROUP:2669 devisok:				       ; ...
TRANGROUP:2669		       push    dx
TRANGROUP:266A		       mov     ax, ds:acrlf_ptr
TRANGROUP:266D		       mov     dh, 0FFh	       ; -1 ; util_msg_class
TRANGROUP:266F		       push    bx
TRANGROUP:2670		       call    TSYSGETMSG
TRANGROUP:2673		       mov     dx, si
TRANGROUP:2675		       mov     ax, 4000h
TRANGROUP:2678		       mov     cx, 2
TRANGROUP:267B		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:267B					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:267D		       pop     bx
TRANGROUP:267E		       pop     dx
TRANGROUP:267F		       jb      short closedev
TRANGROUP:2681		       xor     dh, dh
TRANGROUP:2683		       or      dl, 3
TRANGROUP:2686		       mov     ax, 4401h
TRANGROUP:2689		       int     21h	       ; DOS - 2+ - IOCTL - SET	DEVICE INFORMATION
TRANGROUP:2689					       ; BX = device handle, DH	= 0
TRANGROUP:2689					       ; DL = device information to set	(bits 0-7 from function	0)
TRANGROUP:268B		       push    bx
TRANGROUP:268C		       mov     cx, 3
TRANGROUP:268F		       xor     bx, bx
TRANGROUP:2691
TRANGROUP:2691 iclloop:				       ; ...
TRANGROUP:2691		       mov     ah, 3Eh
TRANGROUP:2693		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:2693					       ; BX = file handle
TRANGROUP:2695		       inc     bx
TRANGROUP:2696		       loop    iclloop
TRANGROUP:2698		       pop     bx
TRANGROUP:2699		       mov     ah, 45h
TRANGROUP:269B		       int     21h	       ; DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
TRANGROUP:269B					       ; BX = file handle to duplicate
TRANGROUP:269D		       mov     ah, 45h
TRANGROUP:269F		       int     21h	       ; DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
TRANGROUP:269F					       ; BX = file handle to duplicate
TRANGROUP:26A1		       mov     ah, 45h
TRANGROUP:26A3		       int     21h	       ; DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
TRANGROUP:26A3					       ; BX = file handle to duplicate
TRANGROUP:26A5		       mov     ah, 3Eh
TRANGROUP:26A7		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:26A7					       ; BX = file handle
TRANGROUP:26A9
TRANGROUP:26A9 resret:				       ; ...
TRANGROUP:26A9		       mov     ds, ds:RESSEG
TRANGROUP:26AD		       push    ds
TRANGROUP:26AE		       mov     ax, ds:18h      ; [PDB.JFN_TABLE]
TRANGROUP:26B1		       mov     ds:Io_Save, ax
TRANGROUP:26B4		       mov     ax, offset TrnLodCom1_Trap
TRANGROUP:26B7		       push    ax
TRANGROUP:26B8		       retf
TRANGROUP:26B8 CTTY	       endp
TRANGROUP:26B8
TRANGROUP:26B9
TRANGROUP:26B9 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:26B9
TRANGROUP:26B9
TRANGROUP:26B9 CHCP	       proc near	       ; ...
TRANGROUP:26B9		       push    ds
TRANGROUP:26BA		       pop     es
TRANGROUP:26BB		       mov     si, 81h
TRANGROUP:26BE		       mov     di, offset PARSE_CHCP
TRANGROUP:26C1		       xor     cx, cx
TRANGROUP:26C3		       xor     dx, dx
TRANGROUP:26C5		       call    Parse_With_Msg
TRANGROUP:26C8		       cmp     ax, 0FFFFh      ; -1
TRANGROUP:26CB		       jz      short getcp
TRANGROUP:26CD		       cmp     ax, 0
TRANGROUP:26D0		       jnz     short cp_error
TRANGROUP:26D2		       push    cx
TRANGROUP:26D3		       mov     bx, offset PARSE1_ADDR
TRANGROUP:26D6		       mov     cx, [bx]
TRANGROUP:26D8		       mov     ds:system_cpage,	cx
TRANGROUP:26DC		       pop     cx
TRANGROUP:26DD		       mov     di, offset PARSE_CHCP
TRANGROUP:26E0		       call    parse_check_eol
TRANGROUP:26E3		       jnz     short cp_error
TRANGROUP:26E5		       mov     ah, 14h
TRANGROUP:26E7		       mov     al, 0
TRANGROUP:26E9		       int     2Fh	       ; - Multiplex - NLSFUNC.COM - INSTALLATION CHECK
TRANGROUP:26E9					       ; Return: AL = 00h not installed, OK to install
TRANGROUP:26E9					       ; 01h not installed, not	OK
TRANGROUP:26E9					       ; FFh installed
TRANGROUP:26EB		       cmp     al, 0FFh	       ; NLSFUNC_installed
TRANGROUP:26ED		       jz      short got_NLS
TRANGROUP:26EF		       mov     dx, offset NLSFUNC_PTR
TRANGROUP:26F2		       jmp     short cp_error
TRANGROUP:26F4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:26F4
TRANGROUP:26F4 got_NLS:				       ; ...
TRANGROUP:26F4		       mov     bx, ds:system_cpage
TRANGROUP:26F8		       mov     ah, 66h	       ; GETSETCDPG
TRANGROUP:26FA		       mov     al, 2
TRANGROUP:26FC		       int     21h	       ; DOS - 3.3+ - SET GLOBAL CODE PAGE TABLE
TRANGROUP:26FC					       ; BX = active code page
TRANGROUP:26FC					       ; DX = system code page (active page at boot time)
TRANGROUP:26FE		       jnb     short chcp_return
TRANGROUP:2700		       cmp     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:2703		       jnz     short chcp_other_error
TRANGROUP:2705		       mov     ah, 59h	       ; GETEXTENDEDERROR
TRANGROUP:2707		       xor     bx, bx
TRANGROUP:2709		       int     21h	       ; DOS - 3+ - GET	EXTENDED ERROR CODE
TRANGROUP:2709					       ; BX = version code (0000h for DOS 3.x)
TRANGROUP:270B		       cmp     ax, 0Dh	       ; ERROR_INVALID_DATA
TRANGROUP:270E		       jnz     short no_countrysys
TRANGROUP:2710		       mov     dx, offset INV_CODE_PAGE
TRANGROUP:2713		       jmp     short cp_error
TRANGROUP:2715 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2715
TRANGROUP:2715 no_countrysys:			       ; ...
TRANGROUP:2715		       mov     dx, offset NoCntry_Ptr
TRANGROUP:2718		       jmp     short cp_error
TRANGROUP:271A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:271A
TRANGROUP:271A chcp_other_error:		       ; ...
TRANGROUP:271A		       mov     ah, 59h
TRANGROUP:271C		       xor     bx, bx
TRANGROUP:271E		       int     21h	       ; DOS - 3+ - GET	EXTENDED ERROR CODE
TRANGROUP:271E					       ; BX = version code (0000h for DOS 3.x)
TRANGROUP:2720		       cmp     ax, 65
TRANGROUP:2723		       jnz     short none_set
TRANGROUP:2725		       mov     dx, offset cp_not_all_ptr
TRANGROUP:2728		       jmp     short cp_error
TRANGROUP:272A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:272A
TRANGROUP:272A none_set:			       ; ...
TRANGROUP:272A		       mov     dx, offset cp_not_set_ptr
TRANGROUP:272D
TRANGROUP:272D cp_error:			       ; ...
TRANGROUP:272D		       jmp     cerror
TRANGROUP:2730 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2730
TRANGROUP:2730 getcp:				       ; ...
TRANGROUP:2730		       mov     ah, 66h
TRANGROUP:2732		       mov     al, 1
TRANGROUP:2734		       int     21h	       ; DOS - 3.3+ - GET GLOBAL CODE PAGE TABLE
TRANGROUP:2736		       mov     ds:system_cpage,	bx
TRANGROUP:273A		       mov     dx, offset cp_active_ptr
TRANGROUP:273D		       call    std_printf
TRANGROUP:2740
TRANGROUP:2740 chcp_return:			       ; ...
TRANGROUP:2740		       retn
TRANGROUP:2740 CHCP	       endp
TRANGROUP:2740
TRANGROUP:2741
TRANGROUP:2741 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2741
TRANGROUP:2741
TRANGROUP:2741 TRUENAME	       proc near	       ; ...
TRANGROUP:2741		       push    ds
TRANGROUP:2742		       pop     es
TRANGROUP:2743		       mov     si, 81h
TRANGROUP:2746		       mov     di, offset PARSE_CHDIR
TRANGROUP:2749		       xor     cx, cx
TRANGROUP:274B		       xor     dx, dx
TRANGROUP:274D		       call    Parse_With_Msg
TRANGROUP:2750		       mov     di, offset SRCXNAME
TRANGROUP:2753		       cmp     ax, 0FFFFh      ; END_OF_LINE
TRANGROUP:2756		       jz      short tn_eol
TRANGROUP:2758		       cmp     ax, 0
TRANGROUP:275B		       jnz     short tn_parse_error
TRANGROUP:275D		       cmp     ds:PARSE1_OUTPUT, 6 ; PARSE1_TYPE
TRANGROUP:2762		       jz      short tn_drive
TRANGROUP:2764		       jmp     short tn_filespec
TRANGROUP:2766 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2766
TRANGROUP:2766 tn_eol:				       ; ...
TRANGROUP:2766		       mov     ah, 0
TRANGROUP:2768		       mov     al, '.'
TRANGROUP:276A		       stosw
TRANGROUP:276B		       jmp     short tn_doit
TRANGROUP:276D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:276D
TRANGROUP:276D tn_drive:			       ; ...
TRANGROUP:276D		       push    si
TRANGROUP:276E		       mov     si, offset PARSE1_ADDR
TRANGROUP:2771		       lodsb
TRANGROUP:2772		       add     al, 40h	       ; 'A'-1
TRANGROUP:2774		       stosb
TRANGROUP:2775		       mov     ax, '.:'        ; 2E3Ah ; ah=".", al=":"
TRANGROUP:2778		       stosw
TRANGROUP:2779		       mov     al, 0
TRANGROUP:277B		       stosb
TRANGROUP:277C		       pop     si
TRANGROUP:277D		       jmp     short tn_check_eol
TRANGROUP:277F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:277F
TRANGROUP:277F tn_filespec:			       ; ...
TRANGROUP:277F		       push    si
TRANGROUP:2780		       lds     si, ds:PARSE1_ADDR
TRANGROUP:2784
TRANGROUP:2784 tn_move_filename:		       ; ...
TRANGROUP:2784		       lodsb
TRANGROUP:2785		       stosb
TRANGROUP:2786		       cmp     al, 0
TRANGROUP:2788		       jnz     short tn_move_filename
TRANGROUP:278A		       pop     si
TRANGROUP:278B
TRANGROUP:278B tn_check_eol:			       ; ...
TRANGROUP:278B		       mov     di, offset PARSE_CHDIR
TRANGROUP:278E		       call    parse_check_eol
TRANGROUP:2791		       jz      short tn_doit
TRANGROUP:2793
TRANGROUP:2793 tn_parse_error:			       ; ...
TRANGROUP:2793		       jmp     cerror
TRANGROUP:2796 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2796
TRANGROUP:2796 tn_doit:				       ; ...
TRANGROUP:2796		       mov     si, offset SRCXNAME
TRANGROUP:2799		       mov     di, offset COMBUF
TRANGROUP:279C		       mov     ah, 60h
TRANGROUP:279E		       int     21h	       ; DOS - RESOLVE PATH STRING TO CANONICAL	PATH STRING
TRANGROUP:279E					       ; DS:SI -> ASCIZ	relative path string or	directory name
TRANGROUP:279E					       ; ES:DI -> 128-byte buffer for ASCIZ canonical fully qualified name
TRANGROUP:27A0		       jnb     short tn_print_xname
TRANGROUP:27A2		       call    Set_Ext_Error_Msg
TRANGROUP:27A5		       mov     ds:string_ptr_2,	offset SRCXNAME
TRANGROUP:27AB		       mov     ds:extend_buf_sub, 1 ; one_subst
TRANGROUP:27B0		       jmp     cerror
TRANGROUP:27B3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:27B3
TRANGROUP:27B3 tn_print_xname:			       ; ...
TRANGROUP:27B3		       mov     ds:string_ptr_2,	offset COMBUF
TRANGROUP:27B9		       mov     dx, offset string_buf_ptr
TRANGROUP:27BC		       call    CRLF2
TRANGROUP:27BF		       call    Printf_Crlf
TRANGROUP:27C2		       retn
TRANGROUP:27C2 TRUENAME	       endp
TRANGROUP:27C2
TRANGROUP:27C3
TRANGROUP:27C3 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:27C3
TRANGROUP:27C3
TRANGROUP:27C3 _$EXIT	       proc near	       ; ...
TRANGROUP:27C3		       push    ds
TRANGROUP:27C4		       mov     ds, ds:RESSEG
TRANGROUP:27C8		       cmp     ds:PermCom, 0
TRANGROUP:27CD		       jz      short free_com
TRANGROUP:27CF		       cmp     ds:SingleCom, 0FFFFh ; -1
TRANGROUP:27D4		       jz      short no_reset
TRANGROUP:27D6		       jmp     TCOMMAND
TRANGROUP:27D9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:27D9
TRANGROUP:27D9 free_com:			       ; ...
TRANGROUP:27D9		       mov     ax, 122Eh       ; (multdos shl 8	or message_2f)
TRANGROUP:27DC		       mov     dl, 5	       ; SET_CRITICAL_MSG
TRANGROUP:27DE		       mov     di, ds:Crit_Msg_Off
TRANGROUP:27E2		       mov     es, ds:Crit_Msg_Seg
TRANGROUP:27E6		       assume es:RESGROUP
TRANGROUP:27E6		       int     2Fh	       ; Multiplex - DOS 3+ internal - GET OR SET ERROR	TABLE ADDRESSES
TRANGROUP:27E6					       ; DL = subfunction - set	critical/SHARE error table
TRANGROUP:27E6					       ; ES:DI -> error	table
TRANGROUP:27E8
TRANGROUP:27E8 no_reset:			       ; ...
TRANGROUP:27E8		       pop     ds
TRANGROUP:27E9		       call    RestUDir1
TRANGROUP:27EC		       mov     es, ds:RESSEG
TRANGROUP:27F0		       assume es:nothing
TRANGROUP:27F0		       mov     ax, es:Parent
TRANGROUP:27F4		       mov     es:16h, ax      ; [es:PDB.PARENT_PID]
TRANGROUP:27F8		       mov     ax, es:OldTerm
TRANGROUP:27FC		       mov     es:0Ah, ax      ; [es:PDB.EXIT]
TRANGROUP:2800		       mov     ax, es:OldTerm+2
TRANGROUP:2804		       mov     es:0Ch, ax      ; [es:PDB.EXIT+2]
TRANGROUP:2808		       push    es
TRANGROUP:2809		       mov     es, ds:TRAN_TPA
TRANGROUP:280D		       mov     ah, 49h
TRANGROUP:280F		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:280F					       ; ES = segment address of area to be freed
TRANGROUP:2811		       pop     es
TRANGROUP:2812		       mov     ah, 4Ch	       ; EXIT
TRANGROUP:2814		       mov     al, byte	ptr es:RetCode
TRANGROUP:2818		       int     21h	       ; DOS - 2+ - QUIT WITH EXIT CODE	(EXIT)
TRANGROUP:2818 _$EXIT	       endp		       ; AL = exit code
TRANGROUP:2818
TRANGROUP:281A
TRANGROUP:281A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:281A
TRANGROUP:281A
TRANGROUP:281A parse_check_eol proc near	       ; ...
TRANGROUP:281A		       xor     dx, dx
TRANGROUP:281C		       mov     ds:parse_last, si
TRANGROUP:2820		       call    cmd_parse
TRANGROUP:2823		       cmp     al, 0FFh	       ; END_OF_LINE
TRANGROUP:2825		       jz      short parse_good_eol
TRANGROUP:2827		       cmp     ax, 0	       ; RESULT_NO_ERROR
TRANGROUP:282A		       jnz     short ok_to_setup_pmsg
TRANGROUP:282C		       inc     ax
TRANGROUP:282D
TRANGROUP:282D ok_to_setup_pmsg:		       ; ...
TRANGROUP:282D		       call    setup_parse_error_msg
TRANGROUP:2830
TRANGROUP:2830 parse_good_eol:			       ; ...
TRANGROUP:2830		       retn
TRANGROUP:2830 parse_check_eol endp
TRANGROUP:2830
TRANGROUP:2831
TRANGROUP:2831 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2831
TRANGROUP:2831
TRANGROUP:2831 Parse_With_Msg  proc near	       ; ...
TRANGROUP:2831		       mov     ds:parse_last, si
TRANGROUP:2835		       call    cmd_parse
TRANGROUP:2838		       cmp     al, 0FFh
TRANGROUP:283A		       jz      short parse_msg_good
TRANGROUP:283C		       cmp     ax, 0
TRANGROUP:283F		       jz      short parse_msg_good
TRANGROUP:2841		       call    setup_parse_error_msg
TRANGROUP:2844
TRANGROUP:2844 parse_msg_good:			       ; ...
TRANGROUP:2844		       retn
TRANGROUP:2844 Parse_With_Msg  endp
TRANGROUP:2844
TRANGROUP:2845
TRANGROUP:2845 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2845
TRANGROUP:2845
TRANGROUP:2845 setup_parse_error_msg proc near	       ; ...
TRANGROUP:2845		       mov     ds:msg_disp_class, 2 ; parse_msg_class
TRANGROUP:284A		       mov     dx, offset extend_buf_ptr
TRANGROUP:284D		       mov     byte ptr	[si], 0	; END_OF_LINE_OUT
TRANGROUP:2850		       mov     ds:extend_buf_ptr, ax
TRANGROUP:2853		       cmp     ax, 2
TRANGROUP:2856		       jz      short setup_parse_msg_ret
TRANGROUP:2858		       mov     si, ds:parse_last
TRANGROUP:285C		       mov     ds:string_ptr_2,	si
TRANGROUP:2860		       mov     ds:extend_buf_sub, 1 ; one_subst
TRANGROUP:2865
TRANGROUP:2865 setup_parse_msg_ret:		       ; ...
TRANGROUP:2865		       inc     si
TRANGROUP:2866		       retn
TRANGROUP:2866 setup_parse_error_msg endp
TRANGROUP:2866
TRANGROUP:2867
TRANGROUP:2867 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2867
TRANGROUP:2867
TRANGROUP:2867 ADD_PROMPT      proc near	       ; ...
TRANGROUP:2867
TRANGROUP:2867 ; FUNCTION CHUNK	AT TRANGROUP:2930 SIZE 00000033	BYTES
TRANGROUP:2867
TRANGROUP:2867		       call    delete_prompt
TRANGROUP:286A		       call    scan_double_null
TRANGROUP:286D		       push    si
TRANGROUP:286E		       call    GETARG
TRANGROUP:2871		       pop     si
TRANGROUP:2872		       jnz     short ADD_PROMPT3
TRANGROUP:2874
TRANGROUP:2874 ADD_PROMPT_RETN:			       ; ...
TRANGROUP:2874		       retn
TRANGROUP:2875 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2875
TRANGROUP:2875 ADD_PROMPT3:			       ; ...
TRANGROUP:2875		       call    move_name
TRANGROUP:2878		       call    GETARG
TRANGROUP:287B		       push    si
TRANGROUP:287C		       jmp     short ADD_NAME
TRANGROUP:287E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:287E
TRANGROUP:287E DISP_ENVJ:			       ; ...
TRANGROUP:287E		       jmp     DISP_ENV
TRANGROUP:2881 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2881
TRANGROUP:2881 ADD_NAME_TO_ENVIRONMENT:		       ; ...
TRANGROUP:2881		       call    GETARG
TRANGROUP:2884		       jz      short DISP_ENVJ
TRANGROUP:2886		       xor     bx, bx
TRANGROUP:2888		       push    si
TRANGROUP:2889
TRANGROUP:2889 EQLP:				       ; ...
TRANGROUP:2889		       lodsb
TRANGROUP:288A		       cmp     al, 13	       ; 0Dh
TRANGROUP:288C		       jz      short QUEQ
TRANGROUP:288E		       cmp     al, '='         ; 3Dh
TRANGROUP:2890		       jnz     short EQLP
TRANGROUP:2892		       inc     bl
TRANGROUP:2894		       cmp     byte ptr	[si], 13 ; 0Dh
TRANGROUP:2897		       jnz     short EQLP
TRANGROUP:2899		       inc     bh
TRANGROUP:289B		       jmp     short EQLP
TRANGROUP:289D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:289D
TRANGROUP:289D QUEQ:				       ; ...
TRANGROUP:289D		       pop     si
TRANGROUP:289E		       dec     bl
TRANGROUP:28A0		       jz      short ONEQ
TRANGROUP:28A2		       mov     dx, offset SYNTMES_PTR
TRANGROUP:28A5		       jmp     cerror
TRANGROUP:28A8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:28A8
TRANGROUP:28A8 ONEQ:				       ; ...
TRANGROUP:28A8		       push    bx
TRANGROUP:28A9		       call    delete_name_in_environment
TRANGROUP:28AC		       pop     bx
TRANGROUP:28AD		       dec     bh
TRANGROUP:28AF		       jz      short ADD_PROMPT_RETN
TRANGROUP:28B1		       call    scan_double_null
TRANGROUP:28B4		       mov     bx, di
TRANGROUP:28B6		       call    move_name
TRANGROUP:28B9		       push    si
TRANGROUP:28BA		       xchg    bx, di
TRANGROUP:28BC		       mov     ds:comspec_flag,	0
TRANGROUP:28C1		       mov     si, offset COMSPECSTR ; "COMSPEC="
TRANGROUP:28C4		       mov     cx, 4
TRANGROUP:28C7		       repe cmpsw
TRANGROUP:28C9		       jnz     short NOT_COMSPEC
TRANGROUP:28CB		       inc     ds:comspec_flag
TRANGROUP:28CF
TRANGROUP:28CF NOT_COMSPEC:			       ; ...
TRANGROUP:28CF		       mov     di, bx
TRANGROUP:28D1
TRANGROUP:28D1 ADD_NAME:			       ; ...
TRANGROUP:28D1		       pop     si
TRANGROUP:28D2		       push    si
TRANGROUP:28D3
TRANGROUP:28D3 ADD_NAME1:			       ; ...
TRANGROUP:28D3		       lodsb
TRANGROUP:28D4		       cmp     al, 0Dh	       ; 13
TRANGROUP:28D6		       jz      short ADD_NAME_RET
TRANGROUP:28D8		       call    store_char
TRANGROUP:28DB		       jmp     short ADD_NAME1
TRANGROUP:28DD ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:28DD
TRANGROUP:28DD ADD_NAME_RET:			       ; ...
TRANGROUP:28DD		       pop     si
TRANGROUP:28DE		       cmp     ds:comspec_flag,	0
TRANGROUP:28E3
TRANGROUP:28E3 ADD_NAME_JZ_RET:			       ; ...
TRANGROUP:28E3		       jz      short ADD_PROMPT_RETN
TRANGROUP:28E5		       call    scanoff
TRANGROUP:28E8		       mov     es, ds:RESSEG
TRANGROUP:28EC		       mov     di, offset ComSpec
TRANGROUP:28EF		       mov     bx, di
TRANGROUP:28F1		       xor     ax, ax
TRANGROUP:28F3		       mov     es:ComDrv, al
TRANGROUP:28F7		       push    ax
TRANGROUP:28F8		       mov     al, [si]
TRANGROUP:28FA		       call    testkanj
TRANGROUP:28FD		       pop     ax
TRANGROUP:28FE		       jnz     short _GOTDRIVE
TRANGROUP:2900		       cmp     byte ptr	[si+1],	':' ; 3Ah
TRANGROUP:2904		       jnz     short _GOTDRIVE
TRANGROUP:2906		       mov     al, [si]
TRANGROUP:2908		       call    UPCONV
TRANGROUP:290B		       sub     al, 'A'         ; 41h
TRANGROUP:290D		       add     di, 2
TRANGROUP:2910		       inc     al
TRANGROUP:2912		       mov     es:ComDrv, al
TRANGROUP:2916		       add     al, 40h	       ; 'A'-1
TRANGROUP:2918
TRANGROUP:2918 _GOTDRIVE:			       ; ...
TRANGROUP:2918		       mov     es:PutBackComSpec, di
TRANGROUP:291D		       mov     es:PutBackDrv, al
TRANGROUP:2921		       mov     di, bx
TRANGROUP:2923
TRANGROUP:2923 COPY_COMSPEC:			       ; ...
TRANGROUP:2923		       lodsb
TRANGROUP:2924		       call    DELIM
TRANGROUP:2927		       jz      short COPYDONE
TRANGROUP:2929		       cmp     al, 0Dh	       ; 13
TRANGROUP:292B		       jz      short COPYDONE
TRANGROUP:292D		       stosb
TRANGROUP:292E		       jmp     short COPY_COMSPEC
TRANGROUP:292E ADD_PROMPT      endp
TRANGROUP:292E
TRANGROUP:2930 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2930 ; START OF FUNCTION CHUNK FOR ADD_PROMPT
TRANGROUP:2930
TRANGROUP:2930 COPYDONE:			       ; ...
TRANGROUP:2930		       xor     al, al
TRANGROUP:2932		       stosb
TRANGROUP:2933		       mov     ds:comspec_flag,	0
TRANGROUP:2938		       dec     di
TRANGROUP:2939		       mov     es:ComSpec_End, di
TRANGROUP:293E		       retn
TRANGROUP:293F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:293F
TRANGROUP:293F DISP_ENV:			       ; ...
TRANGROUP:293F		       mov     ds, ds:RESSEG
TRANGROUP:2943		       mov     ds, ds:EnvirSeg
TRANGROUP:2947		       xor     si, si
TRANGROUP:2949
TRANGROUP:2949 PENVLP:				       ; ...
TRANGROUP:2949		       cmp     byte ptr	[si], 0
TRANGROUP:294C		       jz      short ADD_NAME_JZ_RET
TRANGROUP:294E		       mov     di, offset Arg_Buf
TRANGROUP:2951
TRANGROUP:2951 PENVLP2:				       ; ...
TRANGROUP:2951		       lodsb
TRANGROUP:2952		       stosb
TRANGROUP:2953		       or      al, al
TRANGROUP:2955		       jnz     short PENVLP2
TRANGROUP:2957		       mov     dx, offset arg_buf_ptr
TRANGROUP:295A		       push    ds
TRANGROUP:295B		       push    es
TRANGROUP:295C		       pop     ds
TRANGROUP:295D		       call    Printf_Crlf
TRANGROUP:2960		       pop     ds
TRANGROUP:2961		       jmp     short PENVLP
TRANGROUP:2961 ; END OF	FUNCTION CHUNK FOR ADD_PROMPT
TRANGROUP:2963
TRANGROUP:2963 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2963
TRANGROUP:2963
TRANGROUP:2963 delete_path     proc near	       ; ...
TRANGROUP:2963		       mov     si, offset PATH_TEXT ; "PATH="
TRANGROUP:2966		       jmp     short delete_name_in_environment
TRANGROUP:2966 delete_path     endp
TRANGROUP:2966
TRANGROUP:2968
TRANGROUP:2968 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2968
TRANGROUP:2968
TRANGROUP:2968 delete_prompt   proc near	       ; ...
TRANGROUP:2968		       mov     si, offset PROMPT_TEXT ;	"PROMPT="
TRANGROUP:296B
TRANGROUP:296B delete_name_in_environment:	       ; ...
TRANGROUP:296B		       push    si
TRANGROUP:296C		       push    ds
TRANGROUP:296D		       call    FIND
TRANGROUP:2970		       jb      short del1
TRANGROUP:2972		       mov     si, di
TRANGROUP:2974		       call    SCASB2
TRANGROUP:2977		       xchg    si, di
TRANGROUP:2979		       cmp     byte ptr	es:[si], 0
TRANGROUP:297D		       jnz     short not_dnull
TRANGROUP:297F		       dec     si
TRANGROUP:2980
TRANGROUP:2980 not_dnull:			       ; ...
TRANGROUP:2980		       call    GETENVSIZ
TRANGROUP:2983		       sub     cx, si
TRANGROUP:2985		       push    es
TRANGROUP:2986		       pop     ds
TRANGROUP:2987		       rep movsb
TRANGROUP:2989
TRANGROUP:2989 del1:				       ; ...
TRANGROUP:2989		       pop     ds
TRANGROUP:298A		       pop     si
TRANGROUP:298B
TRANGROUP:298B find_retn:			       ; ...
TRANGROUP:298B		       retn
TRANGROUP:298B delete_prompt   endp
TRANGROUP:298B
TRANGROUP:298C
TRANGROUP:298C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:298C
TRANGROUP:298C
TRANGROUP:298C find_path       proc near	       ; ...
TRANGROUP:298C		       mov     si, offset PATH_TEXT ; "PATH="
TRANGROUP:298F		       jmp     short find_name_in_environment
TRANGROUP:298F find_path       endp
TRANGROUP:298F
TRANGROUP:2991
TRANGROUP:2991 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2991
TRANGROUP:2991
TRANGROUP:2991 find_prompt     proc near	       ; ...
TRANGROUP:2991		       mov     si, offset PROMPT_TEXT ;	"PROMPT="
TRANGROUP:2991 find_prompt     endp
TRANGROUP:2991
TRANGROUP:2994
TRANGROUP:2994 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2994
TRANGROUP:2994
TRANGROUP:2994 find_name_in_environment	proc near      ; ...
TRANGROUP:2994		       call    FIND
TRANGROUP:2997		       jb      short find_retn
TRANGROUP:2999		       jmp     SCASB1
TRANGROUP:2999 find_name_in_environment	endp
TRANGROUP:2999
TRANGROUP:299C
TRANGROUP:299C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:299C
TRANGROUP:299C
TRANGROUP:299C FIND	       proc near	       ; ...
TRANGROUP:299C		       cld
TRANGROUP:299D		       call    COUNT0
TRANGROUP:29A0		       mov     es, ds:RESSEG
TRANGROUP:29A4		       mov     es, es:EnvirSeg
TRANGROUP:29A9		       xor     di, di
TRANGROUP:29AB
TRANGROUP:29AB find1:				       ; ...
TRANGROUP:29AB		       push    cx
TRANGROUP:29AC		       push    si
TRANGROUP:29AD		       push    di
TRANGROUP:29AE
TRANGROUP:29AE find11:				       ; ...
TRANGROUP:29AE		       lodsb
TRANGROUP:29AF		       call    testkanj
TRANGROUP:29B2		       jz      short notkanj3
TRANGROUP:29B4		       dec     si
TRANGROUP:29B5		       lodsw
TRANGROUP:29B6		       inc     di
TRANGROUP:29B7		       inc     di
TRANGROUP:29B8		       cmp     ax, es:[di-2]
TRANGROUP:29BC		       jnz     short find12
TRANGROUP:29BE		       dec     cx
TRANGROUP:29BF		       loop    find11
TRANGROUP:29C1		       jmp     short find12
TRANGROUP:29C3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:29C3
TRANGROUP:29C3 notkanj3:			       ; ...
TRANGROUP:29C3		       call    UPCONV
TRANGROUP:29C6		       inc     di
TRANGROUP:29C7		       cmp     al, es:[di-1]
TRANGROUP:29CB		       jnz     short find12
TRANGROUP:29CD		       loop    find11
TRANGROUP:29CF
TRANGROUP:29CF find12:				       ; ...
TRANGROUP:29CF		       pop     di
TRANGROUP:29D0		       pop     si
TRANGROUP:29D1		       pop     cx
TRANGROUP:29D2		       jz      short find_retn
TRANGROUP:29D4		       push    cx
TRANGROUP:29D5		       call    SCASB2
TRANGROUP:29D8		       pop     cx
TRANGROUP:29D9		       cmp     byte ptr	es:[di], 0
TRANGROUP:29DD		       jnz     short find1
TRANGROUP:29DF		       stc
TRANGROUP:29E0		       retn
TRANGROUP:29E0 FIND	       endp
TRANGROUP:29E0
TRANGROUP:29E1
TRANGROUP:29E1 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:29E1
TRANGROUP:29E1
TRANGROUP:29E1 COUNT0	       proc near	       ; ...
TRANGROUP:29E1		       push    ds
TRANGROUP:29E2		       pop     es
TRANGROUP:29E3		       mov     di, si
TRANGROUP:29E5		       push    di
TRANGROUP:29E6		       call    SCASB1
TRANGROUP:29E9		       jmp     short COUNTX
TRANGROUP:29EB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:29EB		       push    di
TRANGROUP:29EC		       call    SCASB2
TRANGROUP:29EF
TRANGROUP:29EF COUNTX:				       ; ...
TRANGROUP:29EF		       pop     cx
TRANGROUP:29F0		       sub     di, cx
TRANGROUP:29F2		       xchg    di, cx
TRANGROUP:29F4
TRANGROUP:29F4 move_name_retn:			       ; ...
TRANGROUP:29F4		       retn
TRANGROUP:29F4 COUNT0	       endp
TRANGROUP:29F4
TRANGROUP:29F5
TRANGROUP:29F5 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:29F5
TRANGROUP:29F5
TRANGROUP:29F5 move_name       proc near	       ; ...
TRANGROUP:29F5		       cmp     byte ptr	[si], 13 ; 0Dh
TRANGROUP:29F8		       jz      short move_name_retn
TRANGROUP:29FA		       lodsb
TRANGROUP:29FB		       call    testkanj
TRANGROUP:29FE		       jz      short notkanj1
TRANGROUP:2A00		       call    store_char
TRANGROUP:2A03		       lodsb
TRANGROUP:2A04		       call    store_char
TRANGROUP:2A07		       jmp     short move_name
TRANGROUP:2A09 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2A09
TRANGROUP:2A09 notkanj1:			       ; ...
TRANGROUP:2A09		       call    UPCONV
TRANGROUP:2A0C		       call    store_char
TRANGROUP:2A0F		       cmp     al, '='
TRANGROUP:2A11		       jnz     short move_name
TRANGROUP:2A13
TRANGROUP:2A13 getarg_retn:			       ; ...
TRANGROUP:2A13		       retn
TRANGROUP:2A13 move_name       endp
TRANGROUP:2A13
TRANGROUP:2A14
TRANGROUP:2A14 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2A14
TRANGROUP:2A14
TRANGROUP:2A14 GETARG	       proc near	       ; ...
TRANGROUP:2A14		       mov     si, 80h
TRANGROUP:2A17		       lodsb
TRANGROUP:2A18		       or      al, al
TRANGROUP:2A1A		       jz      short getarg_retn
TRANGROUP:2A1C		       call    scanoff
TRANGROUP:2A1F		       cmp     al, 0Dh	       ; 13
TRANGROUP:2A21
TRANGROUP:2A21 sdn_retn:			       ; ...
TRANGROUP:2A21		       retn
TRANGROUP:2A21 GETARG	       endp
TRANGROUP:2A21
TRANGROUP:2A22
TRANGROUP:2A22 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2A22
TRANGROUP:2A22
TRANGROUP:2A22 scan_double_null	proc near	       ; ...
TRANGROUP:2A22		       mov     es, ds:RESSEG
TRANGROUP:2A26		       mov     es, es:EnvirSeg
TRANGROUP:2A2B		       xor     di, di
TRANGROUP:2A2D
TRANGROUP:2A2D sdn1:				       ; ...
TRANGROUP:2A2D		       cmp     byte ptr	es:[di], 0
TRANGROUP:2A31		       jz      short sdn_retn
TRANGROUP:2A33		       call    SCASB2
TRANGROUP:2A36		       jmp     short sdn1
TRANGROUP:2A36 scan_double_null	endp
TRANGROUP:2A36
TRANGROUP:2A38
TRANGROUP:2A38 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2A38
TRANGROUP:2A38
TRANGROUP:2A38 SCASB1	       proc near	       ; ...
TRANGROUP:2A38		       mov     al, '='
TRANGROUP:2A3A		       jmp     short SCASBX
TRANGROUP:2A3A SCASB1	       endp
TRANGROUP:2A3A
TRANGROUP:2A3C
TRANGROUP:2A3C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2A3C
TRANGROUP:2A3C
TRANGROUP:2A3C SCASB2	       proc near	       ; ...
TRANGROUP:2A3C		       xor     al, al
TRANGROUP:2A3E
TRANGROUP:2A3E SCASBX:				       ; ...
TRANGROUP:2A3E		       mov     cx, 256
TRANGROUP:2A41		       repne scasb
TRANGROUP:2A43		       retn
TRANGROUP:2A43 SCASB2	       endp
TRANGROUP:2A43
TRANGROUP:2A44
TRANGROUP:2A44 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2A44
TRANGROUP:2A44
TRANGROUP:2A44 testkanj	       proc near	       ; ...
TRANGROUP:2A44		       push    ds
TRANGROUP:2A45		       push    si
TRANGROUP:2A46		       push    ax
TRANGROUP:2A47		       mov     ds, cs:RESSEG
TRANGROUP:2A4C		       lds     si, ds:Dbcs_Vector_Addr
TRANGROUP:2A50
TRANGROUP:2A50 ktlop:				       ; ...
TRANGROUP:2A50		       cmp     word ptr	[si], 0
TRANGROUP:2A53		       jz      short notlead
TRANGROUP:2A55		       pop     ax
TRANGROUP:2A56		       push    ax
TRANGROUP:2A57		       cmp     al, [si]
TRANGROUP:2A59		       jb      short notlead
TRANGROUP:2A5B		       inc     si
TRANGROUP:2A5C		       cmp     al, [si]
TRANGROUP:2A5E		       jbe     short islead
TRANGROUP:2A60		       inc     si
TRANGROUP:2A61		       jmp     short ktlop
TRANGROUP:2A63 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2A63
TRANGROUP:2A63 notlead:				       ; ...
TRANGROUP:2A63		       xor     ax, ax
TRANGROUP:2A65		       jmp     short ktret
TRANGROUP:2A67 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2A67
TRANGROUP:2A67 islead:				       ; ...
TRANGROUP:2A67		       xor     ax, ax
TRANGROUP:2A69		       inc     ax
TRANGROUP:2A6A
TRANGROUP:2A6A ktret:				       ; ...
TRANGROUP:2A6A		       pop     ax
TRANGROUP:2A6B		       pop     si
TRANGROUP:2A6C		       pop     ds
TRANGROUP:2A6D		       retn
TRANGROUP:2A6D testkanj	       endp
TRANGROUP:2A6D
TRANGROUP:2A6E
TRANGROUP:2A6E ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2A6E
TRANGROUP:2A6E
TRANGROUP:2A6E UPCONV	       proc near	       ; ...
TRANGROUP:2A6E		       cmp     al, 80h
TRANGROUP:2A70		       jb      short oth_fucase
TRANGROUP:2A72		       sub     al, 80h
TRANGROUP:2A74		       push    ds
TRANGROUP:2A75		       push    bx
TRANGROUP:2A76		       mov     ds, ds:RESSEG
TRANGROUP:2A7A		       lds     bx, dword ptr ds:FUCase_Addr+1 ;
TRANGROUP:2A7A					       ; lds bx,[FUCase_Addr+1]
TRANGROUP:2A7E		       add     bx, 2
TRANGROUP:2A81		       xlat
TRANGROUP:2A82		       pop     bx
TRANGROUP:2A83		       pop     ds
TRANGROUP:2A84		       jmp     short upconv_end
TRANGROUP:2A86 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2A86
TRANGROUP:2A86 oth_fucase:			       ; ...
TRANGROUP:2A86		       cmp     al, 61h ; 'a'   ; small_a
TRANGROUP:2A88		       jb      short upconv_end
TRANGROUP:2A8A		       cmp     al, 7Ah ; 'z'   ; small_z
TRANGROUP:2A8C		       ja      short upconv_end
TRANGROUP:2A8E		       sub     al, 20h
TRANGROUP:2A90
TRANGROUP:2A90 upconv_end:			       ; ...
TRANGROUP:2A90		       retn
TRANGROUP:2A90 UPCONV	       endp
TRANGROUP:2A90
TRANGROUP:2A91
TRANGROUP:2A91 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2A91
TRANGROUP:2A91
TRANGROUP:2A91 store_char      proc near	       ; ...
TRANGROUP:2A91		       push    cx
TRANGROUP:2A92		       push    bx
TRANGROUP:2A93		       push    es
TRANGROUP:2A94		       push    ds
TRANGROUP:2A95		       mov     ds, ds:RESSEG
TRANGROUP:2A99		       mov     es, ds:EnvirSeg
TRANGROUP:2A9D		       pop     ds
TRANGROUP:2A9E		       call    GETENVSIZ
TRANGROUP:2AA1		       mov     bx, cx
TRANGROUP:2AA3		       sub     bx, 2
TRANGROUP:2AA6		       cmp     di, bx
TRANGROUP:2AA8		       jb      short store1
TRANGROUP:2AAA		       push    ax
TRANGROUP:2AAB		       push    cx
TRANGROUP:2AAC		       push    bx
TRANGROUP:2AAD		       call    FREE_TPA
TRANGROUP:2AB0		       pop     bx
TRANGROUP:2AB1		       add     bx, 2
TRANGROUP:2AB4		       cmp     bx, 8000h
TRANGROUP:2AB8		       jb      short envsiz_ok
TRANGROUP:2ABA
TRANGROUP:2ABA bad_env_size:			       ; ...
TRANGROUP:2ABA		       stc
TRANGROUP:2ABB		       jmp     short envnoset
TRANGROUP:2ABD ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2ABD
TRANGROUP:2ABD envsiz_ok:			       ; ...
TRANGROUP:2ABD		       mov     cl, 4
TRANGROUP:2ABF		       shr     bx, cl
TRANGROUP:2AC1		       inc     bx
TRANGROUP:2AC2		       mov     cx, es
TRANGROUP:2AC4		       add     cx, bx
TRANGROUP:2AC6		       add     cx, 20h
TRANGROUP:2AC9		       mov     ax, cs
TRANGROUP:2ACB		       cmp     cx, ax
TRANGROUP:2ACD		       jnb     short bad_env_size
TRANGROUP:2ACF		       mov     ah, 4Ah
TRANGROUP:2AD1		       int     21h	       ; DOS - 2+ - ADJUST MEMORY BLOCK	SIZE (SETBLOCK)
TRANGROUP:2AD1					       ; ES = segment address of block to change
TRANGROUP:2AD1					       ; BX = new size in paragraphs
TRANGROUP:2AD3
TRANGROUP:2AD3 envnoset:			       ; ...
TRANGROUP:2AD3		       pushf
TRANGROUP:2AD4		       push    es
TRANGROUP:2AD5		       mov     es, ds:RESSEG
TRANGROUP:2AD9		       call    ALLOC_TPA
TRANGROUP:2ADC		       pop     es
TRANGROUP:2ADD		       popf
TRANGROUP:2ADE		       pop     cx
TRANGROUP:2ADF		       pop     ax
TRANGROUP:2AE0		       jnb     short store1
TRANGROUP:2AE2		       pop     es
TRANGROUP:2AE3		       mov     dx, offset ENVERR_PTR
TRANGROUP:2AE6		       jmp     cerror
TRANGROUP:2AE9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2AE9
TRANGROUP:2AE9 store1:				       ; ...
TRANGROUP:2AE9		       stosb
TRANGROUP:2AEA		       mov     word ptr	es:[di], 0
TRANGROUP:2AEF		       pop     es
TRANGROUP:2AF0		       pop     bx
TRANGROUP:2AF1		       pop     cx
TRANGROUP:2AF2		       retn
TRANGROUP:2AF2 store_char      endp
TRANGROUP:2AF2
TRANGROUP:2AF3
TRANGROUP:2AF3 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2AF3
TRANGROUP:2AF3
TRANGROUP:2AF3 GETENVSIZ       proc near	       ; ...
TRANGROUP:2AF3		       push    es
TRANGROUP:2AF4		       push    ax
TRANGROUP:2AF5		       mov     ax, es
TRANGROUP:2AF7		       dec     ax
TRANGROUP:2AF8		       mov     es, ax
TRANGROUP:2AFA		       assume es:nothing
TRANGROUP:2AFA		       mov     ax, es:3	       ; [es:ARENA.size]
TRANGROUP:2AFE		       mov     cl, 4
TRANGROUP:2B00		       shl     ax, cl
TRANGROUP:2B02		       mov     cx, ax
TRANGROUP:2B04		       pop     ax
TRANGROUP:2B05		       pop     es
TRANGROUP:2B06		       assume es:nothing
TRANGROUP:2B06
TRANGROUP:2B06 getenvsiz_retn:			       ; ...
TRANGROUP:2B06		       retn
TRANGROUP:2B06 GETENVSIZ       endp
TRANGROUP:2B06
TRANGROUP:2B07
TRANGROUP:2B07 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2B07
TRANGROUP:2B07
TRANGROUP:2B07 RestUDir1       proc near	       ; ...
TRANGROUP:2B07		       push    ds
TRANGROUP:2B08		       mov     ds, ds:RESSEG
TRANGROUP:2B0C		       cmp     ds:RestDir, 0
TRANGROUP:2B11		       pop     ds
TRANGROUP:2B12		       jz      short getenvsiz_retn
TRANGROUP:2B14
TRANGROUP:2B14 RestUDir:			       ; ...
TRANGROUP:2B14		       mov     dx, offset USERDIR1
TRANGROUP:2B17		       mov     ah, 3Bh
TRANGROUP:2B19		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:2B19					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:2B1B		       xor     al, al
TRANGROUP:2B1D		       call    SETREST
TRANGROUP:2B20		       retn
TRANGROUP:2B20 RestUDir1       endp
TRANGROUP:2B20
TRANGROUP:2B21
TRANGROUP:2B21 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2B21
TRANGROUP:2B21
TRANGROUP:2B21 _$CHDIR	       proc near	       ; ...
TRANGROUP:2B21		       mov     si, 81h
TRANGROUP:2B24		       mov     di, offset PARSE_CHDIR
TRANGROUP:2B27		       xor     cx, cx
TRANGROUP:2B29		       xor     dx, dx
TRANGROUP:2B2B		       call    Parse_With_Msg
TRANGROUP:2B2E		       cmp     ax, 0FFFFh
TRANGROUP:2B31		       jz      short bwdj
TRANGROUP:2B33		       cmp     ax, 0
TRANGROUP:2B36		       jnz     short ChDirErr
TRANGROUP:2B38		       cmp     ds:PARSE1_OUTPUT, 6 ; [PARSE1_TYPE],result_drive
TRANGROUP:2B3D		       jnz     short REALCD
TRANGROUP:2B3F		       mov     di, offset PARSE_CHDIR
TRANGROUP:2B42		       xor     dx, dx
TRANGROUP:2B44		       call    parse_check_eol
TRANGROUP:2B47		       jnz     short ChDirErr
TRANGROUP:2B49
TRANGROUP:2B49 bwdj:				       ; ...
TRANGROUP:2B49		       call    build_dir_for_chdir
TRANGROUP:2B4C		       call    CRLF2
TRANGROUP:2B4F
TRANGROUP:2B4F chdir_retn:			       ; ...
TRANGROUP:2B4F		       retn
TRANGROUP:2B50 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2B50
TRANGROUP:2B50 REALCD:				       ; ...
TRANGROUP:2B50		       push    si
TRANGROUP:2B51		       lds     si, ds:PARSE1_ADDR
TRANGROUP:2B55		       call    Move_To_SrcBuf
TRANGROUP:2B58		       pop     si
TRANGROUP:2B59		       mov     di, offset PARSE_CHDIR
TRANGROUP:2B5C		       xor     dx, dx
TRANGROUP:2B5E		       call    parse_check_eol
TRANGROUP:2B61		       jnz     short ChDirErr
TRANGROUP:2B63		       call    SETPATH
TRANGROUP:2B66		       test    ds:DestInfo, 2
TRANGROUP:2B6B		       jnz     short BadChDir
TRANGROUP:2B6D		       mov     ah, 3Bh
TRANGROUP:2B6F		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:2B6F					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:2B71		       jnb     short chdir_retn
TRANGROUP:2B73		       call    get_ext_error_number
TRANGROUP:2B76		       cmp     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:2B79		       jz      short BadChDir
TRANGROUP:2B7B		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:2B7E		       jz      short BadChDir
TRANGROUP:2B80		       call    set_ext_error_subst
TRANGROUP:2B83		       jmp     short ChDirErr
TRANGROUP:2B85 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2B85
TRANGROUP:2B85 BadChDir:			       ; ...
TRANGROUP:2B85		       mov     dx, offset badcd_ptr
TRANGROUP:2B88
TRANGROUP:2B88 ChDirErr:			       ; ...
TRANGROUP:2B88		       call    std_eprintf
TRANGROUP:2B8B
TRANGROUP:2B8B mkdir_retn:			       ; ...
TRANGROUP:2B8B		       retn
TRANGROUP:2B8B _$CHDIR	       endp
TRANGROUP:2B8B
TRANGROUP:2B8C
TRANGROUP:2B8C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2B8C
TRANGROUP:2B8C
TRANGROUP:2B8C _$MKDIR	       proc near	       ; ...
TRANGROUP:2B8C		       call    SETRMMK
TRANGROUP:2B8F		       jb      short MkDirErr
TRANGROUP:2B91		       mov     ah, 39h
TRANGROUP:2B93		       int     21h	       ; DOS - 2+ - CREATE A SUBDIRECTORY (MKDIR)
TRANGROUP:2B93					       ; DS:DX -> ASCIZ	pathname (may include drive)
TRANGROUP:2B95		       jnb     short mkdir_retn
TRANGROUP:2B97		       call    get_ext_error_number
TRANGROUP:2B9A		       cmp     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:2B9D		       jz      short MD_other_err
TRANGROUP:2B9F		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:2BA2		       jz      short badmderr
TRANGROUP:2BA4		       call    set_ext_error_subst
TRANGROUP:2BA7		       jmp     short MkDirErr
TRANGROUP:2BA9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2BA9
TRANGROUP:2BA9 badmderr:			       ; ...
TRANGROUP:2BA9		       mov     dx, offset SRCXNAME
TRANGROUP:2BAC		       mov     ah, 1Ah
TRANGROUP:2BAE		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:2BAE					       ; DS:DX -> disk transfer	buffer
TRANGROUP:2BB0		       mov     ah, 4Eh
TRANGROUP:2BB2		       mov     cx, 10h	       ; ATTR_DIRECTORY
TRANGROUP:2BB5		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:2BB5					       ; CX = search attributes
TRANGROUP:2BB5					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:2BB5					       ; (drive, path, and wildcards allowed)
TRANGROUP:2BB7		       jb      short MD_other_err
TRANGROUP:2BB9		       mov     dl, ds:SRCXNAME+15h ; [SRCXNAME+FIND_BUF.ATTR] ;	[SRCXNAME+21]
TRANGROUP:2BBD		       test    dl, 10h
TRANGROUP:2BC0		       jz      short MD_other_err
TRANGROUP:2BC2		       mov     dx, offset MD_EXISTS_PTR
TRANGROUP:2BC5		       jmp     short MkDirErr
TRANGROUP:2BC7 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2BC7
TRANGROUP:2BC7 MD_other_err:			       ; ...
TRANGROUP:2BC7		       mov     dx, offset badmkd_ptr
TRANGROUP:2BCA
TRANGROUP:2BCA MkDirErr:			       ; ...
TRANGROUP:2BCA		       call    std_eprintf
TRANGROUP:2BCD
TRANGROUP:2BCD setrmmk_retn:			       ; ...
TRANGROUP:2BCD		       retn
TRANGROUP:2BCD _$MKDIR	       endp
TRANGROUP:2BCD
TRANGROUP:2BCE
TRANGROUP:2BCE ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2BCE
TRANGROUP:2BCE
TRANGROUP:2BCE SETRMMK	       proc near	       ; ...
TRANGROUP:2BCE		       mov     si, 81h
TRANGROUP:2BD1		       mov     di, offset PARSE_MRDIR
TRANGROUP:2BD4		       xor     cx, cx
TRANGROUP:2BD6		       xor     dx, dx
TRANGROUP:2BD8		       call    Parse_With_Msg
TRANGROUP:2BDB		       cmp     ax, 0	       ; RESULT_NO_ERROR
TRANGROUP:2BDE		       jnz     short noarger
TRANGROUP:2BE0		       mov     di, offset SRCXNAME
TRANGROUP:2BE3		       push    di
TRANGROUP:2BE4		       push    si
TRANGROUP:2BE5		       lds     si, ds:PARSE1_ADDR
TRANGROUP:2BE9
TRANGROUP:2BE9 mrdir_move_filename:		       ; ...
TRANGROUP:2BE9		       lodsb
TRANGROUP:2BEA		       stosb
TRANGROUP:2BEB		       cmp     al, 0	       ; END_OF_LINE_OUT
TRANGROUP:2BED		       jnz     short mrdir_move_filename
TRANGROUP:2BEF		       pop     si
TRANGROUP:2BF0		       mov     di, offset PARSE_MRDIR
TRANGROUP:2BF3		       call    parse_check_eol
TRANGROUP:2BF6		       pop     dx
TRANGROUP:2BF7		       jz      short setrmmk_retn
TRANGROUP:2BF9
TRANGROUP:2BF9 noarger:				       ; ...
TRANGROUP:2BF9		       mov     dx, offset extend_buf_ptr
TRANGROUP:2BFC		       xor     ax, ax
TRANGROUP:2BFE		       stc
TRANGROUP:2BFF
TRANGROUP:2BFF rmdir_retn:			       ; ...
TRANGROUP:2BFF		       retn
TRANGROUP:2BFF SETRMMK	       endp
TRANGROUP:2BFF
TRANGROUP:2C00
TRANGROUP:2C00 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2C00
TRANGROUP:2C00
TRANGROUP:2C00 _$RMDIR	       proc near	       ; ...
TRANGROUP:2C00		       call    SETRMMK
TRANGROUP:2C03		       jb      short RmDirErr
TRANGROUP:2C05		       jnz     short badrderr
TRANGROUP:2C07		       mov     ah, 3Ah
TRANGROUP:2C09		       int     21h	       ; DOS - 2+ - REMOVE A DIRECTORY ENTRY (RMDIR)
TRANGROUP:2C09					       ; DS:DX -> ASCIZ	pathname (may include drive)
TRANGROUP:2C0B		       jnb     short rmdir_retn
TRANGROUP:2C0D		       call    get_ext_error_number
TRANGROUP:2C10		       cmp     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:2C13		       jz      short badrderr
TRANGROUP:2C15		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:2C18		       jz      short badrderr
TRANGROUP:2C1A		       call    set_ext_error_subst
TRANGROUP:2C1D		       jmp     short RmDirErr
TRANGROUP:2C1F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2C1F
TRANGROUP:2C1F badrderr:			       ; ...
TRANGROUP:2C1F		       mov     dx, offset badrmd_ptr
TRANGROUP:2C22
TRANGROUP:2C22 RmDirErr:			       ; ...
TRANGROUP:2C22		       call    std_eprintf
TRANGROUP:2C25
TRANGROUP:2C25 savudir_err_retn:		       ; ...
TRANGROUP:2C25		       retn
TRANGROUP:2C25 _$RMDIR	       endp
TRANGROUP:2C25
TRANGROUP:2C26
TRANGROUP:2C26 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2C26
TRANGROUP:2C26
TRANGROUP:2C26 set_ext_error_subst proc	near	       ; ...
TRANGROUP:2C26		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:2C2B		       mov     ds:string_ptr_2,	dx
TRANGROUP:2C2F		       mov     ds:extend_buf_sub, 1 ; one_subst
TRANGROUP:2C34		       mov     dx, offset extend_buf_ptr
TRANGROUP:2C37		       mov     ds:extend_buf_ptr, ax
TRANGROUP:2C3A		       retn
TRANGROUP:2C3A set_ext_error_subst endp
TRANGROUP:2C3A
TRANGROUP:2C3B
TRANGROUP:2C3B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2C3B
TRANGROUP:2C3B
TRANGROUP:2C3B SAVUDIR	       proc near	       ; ...
TRANGROUP:2C3B		       mov     di, offset USERDIR1
TRANGROUP:2C3E
TRANGROUP:2C3E SAVUDIR1:			       ; ...
TRANGROUP:2C3E		       mov     al, dl
TRANGROUP:2C40		       add     al, 40h ; '@'
TRANGROUP:2C42		       cmp     al, 40h ; '@'
TRANGROUP:2C44		       jnz     short GOTUDRV
TRANGROUP:2C46		       add     al, ds:CURDRV
TRANGROUP:2C4A		       inc     al
TRANGROUP:2C4C
TRANGROUP:2C4C GOTUDRV:				       ; ...
TRANGROUP:2C4C		       stosb
TRANGROUP:2C4D		       mov     ah, ds:DIRCHAR
TRANGROUP:2C51		       mov     al, ':'         ; 3Ah
TRANGROUP:2C53		       stosw
TRANGROUP:2C54		       push    es
TRANGROUP:2C55		       pop     ds
TRANGROUP:2C56		       mov     si, di
TRANGROUP:2C58		       mov     ah, 47h
TRANGROUP:2C5A		       int     21h	       ; DOS - 2+ - GET	CURRENT	DIRECTORY
TRANGROUP:2C5A					       ; DL = drive (0=default,	1=A, etc.)
TRANGROUP:2C5A					       ; DS:SI points to 64-byte buffer	area
TRANGROUP:2C5C		       jb      short savudir_err_retn
TRANGROUP:2C5E		       push    cs
TRANGROUP:2C5F		       pop     ds
TRANGROUP:2C60		       assume ds:TRANGROUP
TRANGROUP:2C60		       retn
TRANGROUP:2C60 SAVUDIR	       endp
TRANGROUP:2C60
TRANGROUP:2C61
TRANGROUP:2C61 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2C61
TRANGROUP:2C61
TRANGROUP:2C61 CRLF2	       proc near	       ; ...
TRANGROUP:2C61		       push    dx
TRANGROUP:2C62		       mov     dx, offset acrlf_ptr
TRANGROUP:2C65		       push    ds
TRANGROUP:2C66		       push    cs
TRANGROUP:2C67		       pop     ds
TRANGROUP:2C68		       call    std_printf
TRANGROUP:2C6B		       pop     ds
TRANGROUP:2C6C		       assume ds:nothing
TRANGROUP:2C6C		       pop     dx
TRANGROUP:2C6D		       retn
TRANGROUP:2C6D CRLF2	       endp
TRANGROUP:2C6D
TRANGROUP:2C6E
TRANGROUP:2C6E ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2C6E
TRANGROUP:2C6E
TRANGROUP:2C6E scanoff	       proc near	       ; ...
TRANGROUP:2C6E		       lodsb
TRANGROUP:2C6F		       call    DELIM
TRANGROUP:2C72		       jz      short scanoff
TRANGROUP:2C74		       dec     si
TRANGROUP:2C75
TRANGROUP:2C75 scanoff_retn:			       ; ...
TRANGROUP:2C75		       retn
TRANGROUP:2C75 scanoff	       endp
TRANGROUP:2C75
TRANGROUP:2C76
TRANGROUP:2C76 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2C76
TRANGROUP:2C76
TRANGROUP:2C76 DELIM	       proc near	       ; ...
TRANGROUP:2C76		       cmp     al, 20h ; ' '
TRANGROUP:2C78		       jz      short scanoff_retn
TRANGROUP:2C7A		       cmp     al, 3Dh ; '='
TRANGROUP:2C7C		       jz      short scanoff_retn
TRANGROUP:2C7E		       cmp     al, 2Ch ; ','
TRANGROUP:2C80		       jz      short scanoff_retn
TRANGROUP:2C82		       cmp     al, 3Bh ; ';'
TRANGROUP:2C84		       jz      short scanoff_retn
TRANGROUP:2C86		       cmp     al, 9
TRANGROUP:2C88		       jz      short scanoff_retn
TRANGROUP:2C8A		       cmp     al, 0Ah
TRANGROUP:2C8C		       retn
TRANGROUP:2C8C DELIM	       endp
TRANGROUP:2C8C
TRANGROUP:2C8D
TRANGROUP:2C8D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2C8D
TRANGROUP:2C8D
TRANGROUP:2C8D FCB_TO_ASCZ     proc near	       ; ...
TRANGROUP:2C8D		       mov     cx, 8
TRANGROUP:2C90
TRANGROUP:2C90 MAINNAME:			       ; ...
TRANGROUP:2C90		       lodsb
TRANGROUP:2C91		       cmp     al, 20h ; ' '
TRANGROUP:2C93		       jz      short SKIPSPC
TRANGROUP:2C95		       stosb
TRANGROUP:2C96
TRANGROUP:2C96 SKIPSPC:				       ; ...
TRANGROUP:2C96		       loop    MAINNAME
TRANGROUP:2C98		       lodsb
TRANGROUP:2C99		       cmp     al, 20h ; ' '
TRANGROUP:2C9B		       jz      short GOTNAME
TRANGROUP:2C9D		       mov     ah, al
TRANGROUP:2C9F		       mov     al, 2Eh ; '.'
TRANGROUP:2CA1		       stosb
TRANGROUP:2CA2		       xchg    al, ah
TRANGROUP:2CA4		       stosb
TRANGROUP:2CA5		       mov     cl, 2
TRANGROUP:2CA7
TRANGROUP:2CA7 EXTNAME:				       ; ...
TRANGROUP:2CA7		       lodsb
TRANGROUP:2CA8		       cmp     al, 20h ; ' '
TRANGROUP:2CAA		       jz      short GOTNAME
TRANGROUP:2CAC		       stosb
TRANGROUP:2CAD		       loop    EXTNAME
TRANGROUP:2CAF
TRANGROUP:2CAF GOTNAME:				       ; ...
TRANGROUP:2CAF		       xor     al, al
TRANGROUP:2CB1		       stosb
TRANGROUP:2CB2
TRANGROUP:2CB2 STRCOMP_RETN:			       ; ...
TRANGROUP:2CB2		       retn
TRANGROUP:2CB2 FCB_TO_ASCZ     endp
TRANGROUP:2CB2
TRANGROUP:2CB3
TRANGROUP:2CB3 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2CB3
TRANGROUP:2CB3
TRANGROUP:2CB3 STRCOMP	       proc near	       ; ...
TRANGROUP:2CB3		       cmpsb
TRANGROUP:2CB4		       jnz     short STRCOMP_RETN
TRANGROUP:2CB6		       cmp     byte ptr	[si-1],	0
TRANGROUP:2CBA		       jz      short STRCOMP_RETN
TRANGROUP:2CBC		       jmp     short STRCOMP
TRANGROUP:2CBC STRCOMP	       endp
TRANGROUP:2CBC
TRANGROUP:2CBE
TRANGROUP:2CBE ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2CBE
TRANGROUP:2CBE
TRANGROUP:2CBE CRPRINT	       proc near	       ; ...
TRANGROUP:2CBE		       push    ax
TRANGROUP:2CBF		       mov     al, 13	       ; 0Dh
TRANGROUP:2CC1		       push    cx
TRANGROUP:2CC2		       push    di
TRANGROUP:2CC3		       mov     di, dx
TRANGROUP:2CC5		       mov     cx, 65535       ; 0FFFFh
TRANGROUP:2CC8		       push    es
TRANGROUP:2CC9		       push    ds
TRANGROUP:2CCA		       pop     es
TRANGROUP:2CCB		       repne scasb
TRANGROUP:2CCD		       mov     byte ptr	[di-1],	0
TRANGROUP:2CD1		       pop     es
TRANGROUP:2CD2		       mov     ds:string_ptr_2,	dx
TRANGROUP:2CD6		       mov     dx, offset string_buf_ptr
TRANGROUP:2CD9		       call    std_printf
TRANGROUP:2CDC		       mov     byte ptr	[di-1],	13 ; 0Dh
TRANGROUP:2CE0		       jb      short error_output
TRANGROUP:2CE2		       pop     di
TRANGROUP:2CE3		       pop     cx
TRANGROUP:2CE4		       pop     ax
TRANGROUP:2CE5		       retn
TRANGROUP:2CE6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2CE6
TRANGROUP:2CE6 error_output:			       ; ...
TRANGROUP:2CE6		       push    cs
TRANGROUP:2CE7		       pop     ds
TRANGROUP:2CE8		       assume ds:TRANGROUP
TRANGROUP:2CE8		       mov     es, RESSEG
TRANGROUP:2CEC		       mov     dx, offset NOSPACE_PTR
TRANGROUP:2CEF		       cmp     es:PipeFlag, 0
TRANGROUP:2CF5		       jz      short go_to_error
TRANGROUP:2CF7		       call    PipeOff
TRANGROUP:2CFA		       mov     dx, offset PIPEEMES_PTR
TRANGROUP:2CFD
TRANGROUP:2CFD go_to_error:			       ; ...
TRANGROUP:2CFD		       jmp     cerror
TRANGROUP:2CFD CRPRINT	       endp
TRANGROUP:2CFD
TRANGROUP:2D00
TRANGROUP:2D00 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2D00
TRANGROUP:2D00
TRANGROUP:2D00 pathchrcmp      proc near	       ; ...
TRANGROUP:2D00		       push    ax
TRANGROUP:2D01		       mov     ah, '/'         ; 2Fh
TRANGROUP:2D03		       cmp     SWITCHAR, ah
TRANGROUP:2D07		       jz      short noslasht
TRANGROUP:2D09		       cmp     al, '/'         ; 2Fh
TRANGROUP:2D0B		       jz      short pccont
TRANGROUP:2D0D
TRANGROUP:2D0D noslasht:			       ; ...
TRANGROUP:2D0D		       cmp     al, '\'         ; 5Ch
TRANGROUP:2D0F
TRANGROUP:2D0F pccont:				       ; ...
TRANGROUP:2D0F		       pop     ax
TRANGROUP:2D10		       retn
TRANGROUP:2D10 pathchrcmp      endp
TRANGROUP:2D10
TRANGROUP:2D11
TRANGROUP:2D11 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2D11
TRANGROUP:2D11
TRANGROUP:2D11 PathCrunch      proc near	       ; ...
TRANGROUP:2D11		       mov     Msg_Numb, 0
TRANGROUP:2D17		       mov     dl, ds:5Ch      ; [FCB]
TRANGROUP:2D1B		       call    SAVUDIR
TRANGROUP:2D1E		       jb      short pcrunch_cderrj
TRANGROUP:2D20		       call    SETPATH
TRANGROUP:2D23		       test    DestInfo, 2
TRANGROUP:2D28		       jnz     short trypeel
TRANGROUP:2D2A		       mov     ah, 3Bh
TRANGROUP:2D2C		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:2D2C					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:2D2E		       jnb     short chdir_worked
TRANGROUP:2D30		       call    get_ext_error_number
TRANGROUP:2D33		       cmp     ax, 3
TRANGROUP:2D36		       jz      short trypeel
TRANGROUP:2D38		       cmp     ax, 5
TRANGROUP:2D3B		       jz      short trypeel
TRANGROUP:2D3D		       mov     Msg_Numb, ax
TRANGROUP:2D40		       jmp     peelfail
TRANGROUP:2D43 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2D43
TRANGROUP:2D43 chdir_worked:			       ; ...
TRANGROUP:2D43		       call    SetRest1
TRANGROUP:2D46		       mov     al, '?'         ; 3Fh
TRANGROUP:2D48		       mov     di, 5Dh
TRANGROUP:2D4B		       mov     cx, 11
TRANGROUP:2D4E		       rep stosb
TRANGROUP:2D50		       xor     al, al
TRANGROUP:2D52		       retn
TRANGROUP:2D53 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2D53
TRANGROUP:2D53 pcrunch_cderrj:			       ; ...
TRANGROUP:2D53		       jmp     pcrunch_cderr
TRANGROUP:2D56 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2D56
TRANGROUP:2D56 trypeel:				       ; ...
TRANGROUP:2D56		       mov     si, PathPos
TRANGROUP:2D5A		       dec     si
TRANGROUP:2D5B		       mov     al, [si-1]
TRANGROUP:2D5E		       cmp     KPARSE, 0
TRANGROUP:2D63		       jnz     short delstrt
TRANGROUP:2D65		       call    pathchrcmp
TRANGROUP:2D68		       jz      short peelfail
TRANGROUP:2D6A
TRANGROUP:2D6A delstrt:				       ; ...
TRANGROUP:2D6A		       mov     cx, si
TRANGROUP:2D6C		       mov     si, dx
TRANGROUP:2D6E		       push    dx
TRANGROUP:2D6F
TRANGROUP:2D6F delloop:				       ; ...
TRANGROUP:2D6F		       cmp     si, cx
TRANGROUP:2D71		       jz      short gotdele
TRANGROUP:2D73		       lodsb
TRANGROUP:2D74		       call    testkanj
TRANGROUP:2D77		       jz      short notkanj8
TRANGROUP:2D79		       inc     si
TRANGROUP:2D7A		       jmp     short delloop
TRANGROUP:2D7C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2D7C
TRANGROUP:2D7C notkanj8:			       ; ...
TRANGROUP:2D7C		       call    pathchrcmp
TRANGROUP:2D7F		       jnz     short delloop
TRANGROUP:2D81		       mov     dx, si
TRANGROUP:2D83		       dec     dx
TRANGROUP:2D84		       jmp     short delloop
TRANGROUP:2D86 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2D86
TRANGROUP:2D86 gotdele:				       ; ...
TRANGROUP:2D86		       mov     si, dx
TRANGROUP:2D88		       pop     dx
TRANGROUP:2D89		       cmp     si, dx
TRANGROUP:2D8B		       jz      short badret
TRANGROUP:2D8D		       mov     cx, si
TRANGROUP:2D8F		       mov     si, dx
TRANGROUP:2D91
TRANGROUP:2D91 delloop2:			       ; ...
TRANGROUP:2D91		       cmp     si, cx
TRANGROUP:2D93		       jz      short trycd
TRANGROUP:2D95		       mov     KPARSE, 0
TRANGROUP:2D9A		       lodsb
TRANGROUP:2D9B		       call    testkanj
TRANGROUP:2D9E		       jz      short delloop2
TRANGROUP:2DA0		       inc     si
TRANGROUP:2DA1		       inc     KPARSE
TRANGROUP:2DA5		       jmp     short delloop2
TRANGROUP:2DA7 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2DA7
TRANGROUP:2DA7 trycd:				       ; ...
TRANGROUP:2DA7		       push    ax
TRANGROUP:2DA8		       mov     al, 2Eh ; '.'
TRANGROUP:2DAA		       cmp     [si+1], al
TRANGROUP:2DAD		       jnz     short trycd1
TRANGROUP:2DAF		       cmp     [si+2], al
TRANGROUP:2DB2		       jz      short trycd1
TRANGROUP:2DB4		       cmp     byte ptr	[si+2],	0
TRANGROUP:2DB8
TRANGROUP:2DB8 trycd1:				       ; ...
TRANGROUP:2DB8		       pop     ax
TRANGROUP:2DB9		       jz      short peelfail
TRANGROUP:2DBB		       mov     al, [si-1]
TRANGROUP:2DBE		       cmp     al, 3Ah ; ':'
TRANGROUP:2DC0		       jz      short badret
TRANGROUP:2DC2		       cmp     KPARSE, 0
TRANGROUP:2DC7		       jnz     short notdoublesl
TRANGROUP:2DC9		       call    pathchrcmp
TRANGROUP:2DCC		       jnz     short notdoublesl
TRANGROUP:2DCE
TRANGROUP:2DCE peelfail:			       ; ...
TRANGROUP:2DCE		       stc
TRANGROUP:2DCF		       retn
TRANGROUP:2DD0 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2DD0
TRANGROUP:2DD0 notdoublesl:			       ; ...
TRANGROUP:2DD0		       mov     byte ptr	[si], 0
TRANGROUP:2DD3		       mov     ah, 3Bh
TRANGROUP:2DD5		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:2DD5					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:2DD7		       jnb     short cdsucc
TRANGROUP:2DD9
TRANGROUP:2DD9 pcrunch_cderr:			       ; ...
TRANGROUP:2DD9		       call    get_ext_error_number
TRANGROUP:2DDC		       mov     Msg_Numb, ax
TRANGROUP:2DDF		       or      si, si
TRANGROUP:2DE1		       stc
TRANGROUP:2DE2
TRANGROUP:2DE2 pcrunch_retn:			       ; ...
TRANGROUP:2DE2		       retn
TRANGROUP:2DE3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2DE3
TRANGROUP:2DE3 badret:				       ; ...
TRANGROUP:2DE3		       mov     al, [si]
TRANGROUP:2DE5		       call    pathchrcmp
TRANGROUP:2DE8		       stc
TRANGROUP:2DE9		       jnz     short pcrunch_retn
TRANGROUP:2DEB		       xor     bl, bl
TRANGROUP:2DED		       xchg    bl, [si+1]
TRANGROUP:2DF0		       mov     ah, 3Bh	       ; CHDIR
TRANGROUP:2DF2		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:2DF2					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:2DF4		       jb      short pcrunch_cderr
TRANGROUP:2DF6		       mov     [si+1], bl
TRANGROUP:2DF9
TRANGROUP:2DF9 cdsucc:				       ; ...
TRANGROUP:2DF9		       call    SetRest1
TRANGROUP:2DFC		       inc     si
TRANGROUP:2DFD		       mov     DestTail, si
TRANGROUP:2E01		       pushf
TRANGROUP:2E02		       cmp     DirFlag,	0FFh   ; -1
TRANGROUP:2E07		       jz      short pcrunch_end
TRANGROUP:2E09		       mov     di, 5Ch	       ; FCB
TRANGROUP:2E0C		       mov     ax, 2902h
TRANGROUP:2E0F		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:2E0F					       ; DS:SI -> string to parse
TRANGROUP:2E0F					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:2E0F					       ; AL = bit mask to control parsing
TRANGROUP:2E11
TRANGROUP:2E11 pcrunch_end:			       ; ...
TRANGROUP:2E11		       popf
TRANGROUP:2E12		       retn
TRANGROUP:2E12 PathCrunch      endp
TRANGROUP:2E12
TRANGROUP:2E13 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2E13 ; START OF FUNCTION CHUNK FOR SWITCH
TRANGROUP:2E13
TRANGROUP:2E13 RETSW:				       ; ...
TRANGROUP:2E13		       xchg    ax, bx
TRANGROUP:2E14		       retn
TRANGROUP:2E14 ; END OF	FUNCTION CHUNK FOR SWITCH
TRANGROUP:2E15
TRANGROUP:2E15 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2E15
TRANGROUP:2E15
TRANGROUP:2E15 SWITCH	       proc near	       ; ...
TRANGROUP:2E15
TRANGROUP:2E15 ; FUNCTION CHUNK	AT TRANGROUP:2E13 SIZE 00000002	BYTES
TRANGROUP:2E15
TRANGROUP:2E15		       xor     bx, bx
TRANGROUP:2E17
TRANGROUP:2E17 SWLOOP:				       ; ...
TRANGROUP:2E17		       call    scanoff
TRANGROUP:2E1A		       cmp     al, SWITCHAR
TRANGROUP:2E1E		       jnz     short RETSW
TRANGROUP:2E20		       or      bx, 8000h
TRANGROUP:2E24		       inc     si
TRANGROUP:2E25		       call    scanoff
TRANGROUP:2E28		       cmp     al, 0Dh
TRANGROUP:2E2A		       jz      short RETSW
TRANGROUP:2E2C		       inc     si
TRANGROUP:2E2D		       call    UPCONV
TRANGROUP:2E30		       mov     di, offset switch_list ;	"-Y?VBAPW"
TRANGROUP:2E33		       mov     cx, 8
TRANGROUP:2E36		       repne scasb
TRANGROUP:2E38		       jnz     short BADSW
TRANGROUP:2E3A		       mov     ax, 1
TRANGROUP:2E3D		       shl     ax, cl
TRANGROUP:2E3F		       or      bx, ax
TRANGROUP:2E41		       jmp     short SWLOOP
TRANGROUP:2E43 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2E43
TRANGROUP:2E43 BADSW:				       ; ...
TRANGROUP:2E43		       jmp     short SWLOOP
TRANGROUP:2E43 SWITCH	       endp
TRANGROUP:2E43
TRANGROUP:2E45 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2E45 ; START OF FUNCTION CHUNK FOR _$IF
TRANGROUP:2E45
TRANGROUP:2E45 DRVBAD:				       ; ...
TRANGROUP:2E45		       mov     dx, offset baddrv_ptr
TRANGROUP:2E48		       jmp     cerror
TRANGROUP:2E4B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2E4B
TRANGROUP:2E4B EXTERNALJ:			       ; ...
TRANGROUP:2E4B		       jmp     EXTERNAL
TRANGROUP:2E4E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2E4E
TRANGROUP:2E4E FNDCOM:				       ; ...
TRANGROUP:2E4E		       or      al, al
TRANGROUP:2E50		       jz      short EXTERNALJ
TRANGROUP:2E52		       call    test_append
TRANGROUP:2E55		       jz      short CONTCOM
TRANGROUP:2E57
TRANGROUP:2E57 APPEND_INTERNAL:			       ; ...
TRANGROUP:2E57		       mov     cl, IDLEN
TRANGROUP:2E5B		       mov     ch, 0
TRANGROUP:2E5D		       mov     PathPos,	cx
TRANGROUP:2E61		       inc     append_exec
TRANGROUP:2E65		       call    IOSET
TRANGROUP:2E68		       mov     si, offset IDLEN
TRANGROUP:2E6B		       mov     dx, 0FFFFh      ; -1
TRANGROUP:2E6E		       mov     di, offset append_parse
TRANGROUP:2E71		       mov     ax, 0AE01h
TRANGROUP:2E74		       int     2Fh	       ; - Multiplex - DOS 3.3+	internal - INSTALLABLE COMMAND - EXECUTE
TRANGROUP:2E74					       ; DX = FFFFh, DS:SI -> buffer
TRANGROUP:2E74					       ; Return: buffer	at DS:SI filled	with a length byte followed by the uppercase
TRANGROUP:2E74					       ; internal command to execute (if length	not 0)
TRANGROUP:2E76		       cmp     IDLEN, 0
TRANGROUP:2E7B		       jnz     short CONTCOM
TRANGROUP:2E7D		       jmp     CMD_DONE
TRANGROUP:2E80 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2E80
TRANGROUP:2E80 CONTCOM:				       ; ...
TRANGROUP:2E80		       mov     di, offset COMTAB
TRANGROUP:2E83		       xor     cx, cx
TRANGROUP:2E85
TRANGROUP:2E85 FINDCOM:				       ; ...
TRANGROUP:2E85		       mov     si, offset ID
TRANGROUP:2E88		       mov     cl, [di]
TRANGROUP:2E8A		       inc     di
TRANGROUP:2E8B		       jcxz    short EXTERNALJ
TRANGROUP:2E8D		       cmp     cl, IDLEN
TRANGROUP:2E91		       jnz     short ABCD
TRANGROUP:2E93		       mov     PathPos,	cx
TRANGROUP:2E97		       repe cmpsb
TRANGROUP:2E99
TRANGROUP:2E99 ABCD:				       ; ...
TRANGROUP:2E99		       lahf
TRANGROUP:2E9A		       add     di, cx
TRANGROUP:2E9C		       mov     al, [di]
TRANGROUP:2E9E		       mov     CHKDRV, al
TRANGROUP:2EA1		       inc     di
TRANGROUP:2EA2		       mov     bx, [di]
TRANGROUP:2EA4		       inc     di
TRANGROUP:2EA5		       inc     di
TRANGROUP:2EA6		       mov     dx, [di]
TRANGROUP:2EA8		       inc     di
TRANGROUP:2EA9		       inc     di
TRANGROUP:2EAA		       sahf
TRANGROUP:2EAB		       jnz     short FINDCOM
TRANGROUP:2EAD		       cmp     append_exec, 0
TRANGROUP:2EB2		       jnz     short DONT_SET_IO
TRANGROUP:2EB4		       call    IOSET
TRANGROUP:2EB7
TRANGROUP:2EB7 DONT_SET_IO:			       ; ...
TRANGROUP:2EB7		       mov     ax, COMSW
TRANGROUP:2EBA		       or      ax, ARGTS       ; [AllSwitch]
TRANGROUP:2EBE		       and     ax, 20h
TRANGROUP:2EC1		       jz      short DRIVE_CHECK
TRANGROUP:2EC3		       test    CHKDRV, 4
TRANGROUP:2EC8		       jz      short DO_HELP
TRANGROUP:2ECA		       cmp     ARG_ARGVCNT, 2  ; [ARG+ARG_UNIT.argvcnt]
TRANGROUP:2ECF		       jnz     short DRIVE_CHECK
TRANGROUP:2ED1
TRANGROUP:2ED1 DO_HELP:				       ; ...
TRANGROUP:2ED1		       mov     si, dx
TRANGROUP:2ED3		       mov     ax, 0
TRANGROUP:2ED6		       push    ax
TRANGROUP:2ED7
TRANGROUP:2ED7 NEXT_HELP_MSG:			       ; ...
TRANGROUP:2ED7		       lodsw
TRANGROUP:2ED8		       or      ax, ax
TRANGROUP:2EDA		       jz      short HELP_DONE
TRANGROUP:2EDC		       push    ax
TRANGROUP:2EDD		       mov     dx, sp
TRANGROUP:2EDF		       call    std_printf
TRANGROUP:2EE2		       pop     ax
TRANGROUP:2EE3		       jmp     short NEXT_HELP_MSG
TRANGROUP:2EE5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2EE5
TRANGROUP:2EE5 HELP_DONE:			       ; ...
TRANGROUP:2EE5		       pop     ax
TRANGROUP:2EE6		       jmp     TCOMMAND
TRANGROUP:2EE9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2EE9
TRANGROUP:2EE9 DRIVE_CHECK:			       ; ...
TRANGROUP:2EE9		       test    CHKDRV, 1
TRANGROUP:2EEE		       jz      short NOCHECK
TRANGROUP:2EF0		       mov     al, PARM1
TRANGROUP:2EF3		       or      al, PARM2
TRANGROUP:2EF7		       cmp     al, 0FFh
TRANGROUP:2EF9		       jnz     short NOCHECK
TRANGROUP:2EFB		       jmp     DRVBAD
TRANGROUP:2EFE ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2EFE
TRANGROUP:2EFE NOCHECK:				       ; ...
TRANGROUP:2EFE		       call    cmd_copy
TRANGROUP:2F01		       test    CHKDRV, 2       ; fSwitchAllowed
TRANGROUP:2F06		       jnz     short REALWORK
TRANGROUP:2F08		       call    noswit
TRANGROUP:2F0B		       jnz     short REALWORK
TRANGROUP:2F0D		       mov     msg_disp_class, 2 ; parse_msg_class
TRANGROUP:2F12		       mov     dx, offset extend_buf_ptr
TRANGROUP:2F15		       mov     extend_buf_ptr, 3 ; BadSwt_Ptr
TRANGROUP:2F1B		       jmp     cerror
TRANGROUP:2F1E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2F1E
TRANGROUP:2F1E REALWORK:			       ; ...
TRANGROUP:2F1E		       call    bx
TRANGROUP:2F20
TRANGROUP:2F20 CMD_DONE:			       ; ...
TRANGROUP:2F20		       push    cs
TRANGROUP:2F21		       pop     ds
TRANGROUP:2F22		       push    ds
TRANGROUP:2F23		       mov     ds, RESSEG
TRANGROUP:2F27		       assume ds:nothing
TRANGROUP:2F27		       cmp     ds:Call_Flag, 1 ; call_in_progress
TRANGROUP:2F2C		       mov     ds:Call_Flag, 0
TRANGROUP:2F31		       pop     ds
TRANGROUP:2F32		       jz      short INCALL
TRANGROUP:2F34		       jmp     TCOMMAND
TRANGROUP:2F37 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2F37
TRANGROUP:2F37 INCALL:				       ; ...
TRANGROUP:2F37		       jmp     DOCOM0
TRANGROUP:2F37 ; END OF	FUNCTION CHUNK FOR _$IF
TRANGROUP:2F3A
TRANGROUP:2F3A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2F3A
TRANGROUP:2F3A
TRANGROUP:2F3A noswit	       proc near	       ; ...
TRANGROUP:2F3A		       push    di
TRANGROUP:2F3B		       mov     di, 81h
TRANGROUP:2F3E		       mov     si, 80h
TRANGROUP:2F41		       lodsb
TRANGROUP:2F42		       mov     cl, al
TRANGROUP:2F44		       xor     ch, ch
TRANGROUP:2F46		       mov     al, cs:SWITCHAR
TRANGROUP:2F4A		       cmp     al, 0
TRANGROUP:2F4C		       repne scasb
TRANGROUP:2F4E		       pop     di
TRANGROUP:2F4F		       retn
TRANGROUP:2F4F noswit	       endp
TRANGROUP:2F4F
TRANGROUP:2F50 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2F50 ; START OF FUNCTION CHUNK FOR _$IF
TRANGROUP:2F50
TRANGROUP:2F50 EXTERNAL:			       ; ...
TRANGROUP:2F50		       call    test_append
TRANGROUP:2F53		       jz      short NOT_BARRYF
TRANGROUP:2F55		       jmp     APPEND_INTERNAL
TRANGROUP:2F58 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2F58
TRANGROUP:2F58 NOT_BARRYF:			       ; ...
TRANGROUP:2F58		       mov     cs:IFNOTFLAG, 0
TRANGROUP:2F5E		       mov     dl, cs:SPECDRV
TRANGROUP:2F63		       mov     cs:IDLEN, dl
TRANGROUP:2F68		       mov     cs:ROM_CALL, 0
TRANGROUP:2F6E		       push    dx
TRANGROUP:2F6F		       mov     dx, offset IDLEN
TRANGROUP:2F72		       call    ROM_SCAN
TRANGROUP:2F75		       pop     dx
TRANGROUP:2F76		       jnb     short DO_SCAN
TRANGROUP:2F78		       inc     cs:ROM_CALL
TRANGROUP:2F7D		       jmp     short $+2
TRANGROUP:2F7F
TRANGROUP:2F7F DO_SCAN:				       ; ...
TRANGROUP:2F7F		       mov     di, offset EXECPATH
TRANGROUP:2F82		       mov     byte ptr	[di], 0
TRANGROUP:2F85		       cmp     cs:ROM_CALL, 0
TRANGROUP:2F8B		       jnz     short EXECUTE   ; NEOEXECUTE
TRANGROUP:2F8D
TRANGROUP:2F8D RESEARC:
TRANGROUP:2F8D		       call    path_search
TRANGROUP:2F90		       or      ax, ax
TRANGROUP:2F92		       jz      short badcomj45
TRANGROUP:2F94		       cmp     ax, 4
TRANGROUP:2F97		       jge     short EXECUTE
TRANGROUP:2F99		       jmp     BATCOM
TRANGROUP:2F9C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2F9C
TRANGROUP:2F9C badcomj45:			       ; ...
TRANGROUP:2F9C		       jmp     short BADCOM
TRANGROUP:2F9E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2F9E
TRANGROUP:2F9E EXECUTE:				       ; ...
TRANGROUP:2F9E		       call    IOSET
TRANGROUP:2FA1
TRANGROUP:2FA1 LH_EXECUTE:			       ; ...
TRANGROUP:2FA1		       mov     es, ds:TRAN_TPA
TRANGROUP:2FA5		       mov     ah, 49h
TRANGROUP:2FA7		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:2FA7					       ; ES = segment address of area to be freed
TRANGROUP:2FA9		       mov     es, ds:RESSEG
TRANGROUP:2FAD		       inc     es:ExtCom
TRANGROUP:2FB2		       mov     es:RestDir, 0
TRANGROUP:2FB8		       mov     si, offset EXECPATH
TRANGROUP:2FBB		       mov     di, offset SafePathBuffer ; RESGROUP
TRANGROUP:2FBE		       mov     cx, 80
TRANGROUP:2FC1		       cld
TRANGROUP:2FC2		       rep movsb
TRANGROUP:2FC4		       mov     di, 5Ch	       ; FCB
TRANGROUP:2FC7		       mov     si, di
TRANGROUP:2FC9		       mov     cx, 82
TRANGROUP:2FCC		       rep movsw
TRANGROUP:2FCE		       mov     dx, offset SafePathBuffer
TRANGROUP:2FD1		       push    es
TRANGROUP:2FD2		       pop     ds
TRANGROUP:2FD3		       mov     bx, offset EnvirSeg ; offset Exec_Block = offset	EnvirSeg
TRANGROUP:2FD6		       mov     ax, 4B00h
TRANGROUP:2FD9		       test    cs:ROM_CALL, 0FFh
TRANGROUP:2FDF		       jz      short OK_EXEC
TRANGROUP:2FE1		       jmp     ROM_EXEC
TRANGROUP:2FE4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2FE4
TRANGROUP:2FE4 OK_EXEC:				       ; ...
TRANGROUP:2FE4		       mov     cx, es
TRANGROUP:2FE6		       mov     ss, cx
TRANGROUP:2FE8		       mov     sp, offset RStack
TRANGROUP:2FEB		       jmp     cs:EXEC_ADDR    ; jmp far [cs:EXEC_ADDR]
TRANGROUP:2FF0 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:2FF0
TRANGROUP:2FF0 BADCOM:				       ; ...
TRANGROUP:2FF0		       push    cs
TRANGROUP:2FF1		       pop     ds
TRANGROUP:2FF2		       assume ds:TRANGROUP
TRANGROUP:2FF2		       mov     dx, offset BADNAM_PTR
TRANGROUP:2FF2 ; END OF	FUNCTION CHUNK FOR _$IF
TRANGROUP:2FF5 ; START OF FUNCTION CHUNK FOR TESTDOREIN
TRANGROUP:2FF5
TRANGROUP:2FF5 cerror:				       ; ...
TRANGROUP:2FF5		       call    std_eprintf
TRANGROUP:2FF8		       jmp     TCOMMAND
TRANGROUP:2FF8 ; END OF	FUNCTION CHUNK FOR TESTDOREIN
TRANGROUP:2FFB
TRANGROUP:2FFB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:2FFB
TRANGROUP:2FFB
TRANGROUP:2FFB PRESCAN	       proc near	       ; ...
TRANGROUP:2FFB		       xor     cx, cx
TRANGROUP:2FFD		       mov     es, RESSEG
TRANGROUP:3001		       mov     si, (offset COMBUF+2)
TRANGROUP:3004		       mov     di, si
TRANGROUP:3006
TRANGROUP:3006 COUNTQUOTES:			       ; ...
TRANGROUP:3006		       lodsb
TRANGROUP:3007		       cmp     al, 22h ; '"'
TRANGROUP:3009		       jnz     short COUNTEND
TRANGROUP:300B		       inc     ch
TRANGROUP:300D		       jmp     short COUNTQUOTES
TRANGROUP:300F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:300F
TRANGROUP:300F COUNTEND:			       ; ...
TRANGROUP:300F		       cmp     al, 0Dh	       ; 13
TRANGROUP:3011		       jnz     short COUNTQUOTES
TRANGROUP:3013		       push    cx
TRANGROUP:3014		       mov     si, di
TRANGROUP:3016
TRANGROUP:3016 KanjiScan:			       ; ...
TRANGROUP:3016		       lodsb
TRANGROUP:3017		       call    testkanj
TRANGROUP:301A		       jz      short KanjiQuote
TRANGROUP:301C		       mov     ah, al
TRANGROUP:301E		       lodsb
TRANGROUP:301F		       cmp     ax, 2020h
TRANGROUP:3022		       jnz     short KanjiScan
TRANGROUP:3024		       mov     word ptr	[si-2],	2020h ;	DB_SPACE
TRANGROUP:3029		       jmp     short KanjiScan
TRANGROUP:302B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:302B
TRANGROUP:302B KanjiQuote:			       ; ...
TRANGROUP:302B		       cmp     al, 22h ; '"'
TRANGROUP:302D		       jnz     short KanjiEnd
TRANGROUP:302F		       dec     ch
TRANGROUP:3031		       jz      short KanjiScan
TRANGROUP:3033
TRANGROUP:3033 KanjiQuoteLoop:			       ; ...
TRANGROUP:3033		       lodsb
TRANGROUP:3034		       cmp     al, 22h ; '"'
TRANGROUP:3036		       jnz     short KanjiQuoteLoop
TRANGROUP:3038		       dec     ch
TRANGROUP:303A		       jmp     short KanjiScan
TRANGROUP:303C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:303C
TRANGROUP:303C KanjiEnd:			       ; ...
TRANGROUP:303C		       cmp     al, 0Dh
TRANGROUP:303E		       jnz     short KanjiScan
TRANGROUP:3040		       pop     cx
TRANGROUP:3041		       mov     si, di
TRANGROUP:3043
TRANGROUP:3043 PRESCANLP:			       ; ...
TRANGROUP:3043		       lodsb
TRANGROUP:3044		       call    testkanj
TRANGROUP:3047		       jz      short NOTKANJ6
TRANGROUP:3049		       mov     [di], al
TRANGROUP:304B		       inc     di
TRANGROUP:304C		       lodsb
TRANGROUP:304D		       mov     [di], al
TRANGROUP:304F		       inc     di
TRANGROUP:3050		       inc     cl
TRANGROUP:3052		       inc     cl
TRANGROUP:3054		       jmp     short PRESCANLP
TRANGROUP:3056 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3056
TRANGROUP:3056 NOTKANJ6:			       ; ...
TRANGROUP:3056		       cmp     al, 22h ; '"'
TRANGROUP:3058		       jnz     short TRYGREATER
TRANGROUP:305A		       dec     ch
TRANGROUP:305C		       jz      short TRYGREATER
TRANGROUP:305E
TRANGROUP:305E QLOOP:				       ; ...
TRANGROUP:305E		       mov     [di], al
TRANGROUP:3060		       inc     di
TRANGROUP:3061		       inc     cl
TRANGROUP:3063		       lodsb
TRANGROUP:3064		       cmp     al, 22h ; '"'
TRANGROUP:3066		       jnz     short QLOOP
TRANGROUP:3068		       dec     ch
TRANGROUP:306A
TRANGROUP:306A TRYGREATER:			       ; ...
TRANGROUP:306A		       cmp     al, 3Eh ; '>'   ; rabracket
TRANGROUP:306C		       jnz     short NOOUT
TRANGROUP:306E		       cmp     [si], al
TRANGROUP:3070		       jnz     short NOAPPND
TRANGROUP:3072		       lodsb
TRANGROUP:3073		       inc     es:Re_Out_App
TRANGROUP:3078
TRANGROUP:3078 NOAPPND:				       ; ...
TRANGROUP:3078		       call    scanoff
TRANGROUP:307B		       cmp     al, 3Ch ; '<'   ; labracket
TRANGROUP:307D		       jz      short REOUT_ERRSET
TRANGROUP:307F		       cmp     al, 0Dh
TRANGROUP:3081		       jnz     short GOTREOFIL
TRANGROUP:3083
TRANGROUP:3083 REOUT_ERRSET:			       ; ...
TRANGROUP:3083		       mov     byte ptr	[di], 0Dh
TRANGROUP:3086		       mov     word ptr	es:Re_OutStr, 9
TRANGROUP:308D		       jmp     PRESCANEND
TRANGROUP:3090 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3090
TRANGROUP:3090 GOTREOFIL:			       ; ...
TRANGROUP:3090		       push    di
TRANGROUP:3091		       mov     di, offset Re_OutStr
TRANGROUP:3094		       mov     bx, di
TRANGROUP:3096		       push    es
TRANGROUP:3097
TRANGROUP:3097 SETREOUTSTR:			       ; ...
TRANGROUP:3097		       push    cx
TRANGROUP:3098		       mov     cx, 77	       ; 64+13
TRANGROUP:309B
TRANGROUP:309B SETREOUTSTR_LOOP:		       ; ...
TRANGROUP:309B		       lodsb
TRANGROUP:309C		       cmp     al, 0Dh
TRANGROUP:309E		       jz      short GOTRESTR_J
TRANGROUP:30A0		       call    DELIM
TRANGROUP:30A3		       jz      short GOTRESTR_J
TRANGROUP:30A5		       cmp     al, SWITCHAR
TRANGROUP:30A9		       jz      short GOTRESTR_J
TRANGROUP:30AB		       cmp     al, 22h ; '"'   ; quote
TRANGROUP:30AD		       jz      short PIPEERRSYNJ5_J
TRANGROUP:30AF		       cmp     al, 3Ch ; '<'   ; labracket
TRANGROUP:30B1		       jz      short ABRACKET_TERM
TRANGROUP:30B3		       cmp     al, 3Eh ; '>'   ; rabracket
TRANGROUP:30B5		       jnz     short NO_ABRACKET
TRANGROUP:30B7
TRANGROUP:30B7 ABRACKET_TERM:			       ; ...
TRANGROUP:30B7		       dec     si
TRANGROUP:30B8		       mov     al, 20h ; ' '
TRANGROUP:30BA
TRANGROUP:30BA GOTRESTR_J:			       ; ...
TRANGROUP:30BA		       pop     cx
TRANGROUP:30BB		       jmp     short GOTRESTR
TRANGROUP:30BD ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:30BD
TRANGROUP:30BD NO_ABRACKET:			       ; ...
TRANGROUP:30BD		       stosb
TRANGROUP:30BE		       loop    SETREOUTSTR_LOOP
TRANGROUP:30C0		       jmp     short GOTRESTR_J
TRANGROUP:30C2 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:30C2
TRANGROUP:30C2 PIPEERRSYNJ5_J:			       ; ...
TRANGROUP:30C2		       pop     cx
TRANGROUP:30C3		       jmp     short PIPEERRSYNJ5
TRANGROUP:30C5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:30C5
TRANGROUP:30C5 NOOUT:				       ; ...
TRANGROUP:30C5		       cmp     al, 3Ch ; '<'
TRANGROUP:30C7		       jnz     short CHKPIPE
TRANGROUP:30C9		       mov     bx, si
TRANGROUP:30CB		       call    scanoff
TRANGROUP:30CE		       cmp     al, 3Eh ; '>'
TRANGROUP:30D0		       jz      short REIN_ERRSET
TRANGROUP:30D2		       cmp     al, 0Dh
TRANGROUP:30D4		       jnz     short GOTREIFIL
TRANGROUP:30D6
TRANGROUP:30D6 REIN_ERRSET:			       ; ...
TRANGROUP:30D6		       mov     byte ptr	[di], 0Dh
TRANGROUP:30D9		       mov     word ptr	RE_INSTR, 9
TRANGROUP:30DF		       jmp     short PRESCANEND
TRANGROUP:30E1 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:30E1
TRANGROUP:30E1 GOTREIFIL:			       ; ...
TRANGROUP:30E1		       push    di
TRANGROUP:30E2		       mov     di, offset RE_INSTR
TRANGROUP:30E5		       mov     bx, di
TRANGROUP:30E7		       push    es
TRANGROUP:30E8		       push    cs
TRANGROUP:30E9		       pop     es
TRANGROUP:30EA		       assume es:TRANGROUP
TRANGROUP:30EA		       jmp     short SETREOUTSTR
TRANGROUP:30EC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:30EC
TRANGROUP:30EC CHKPIPE:				       ; ...
TRANGROUP:30EC		       mov     ah, al
TRANGROUP:30EE		       cmp     ah, 7Ch ; '|'   ; ALTPIPECHR
TRANGROUP:30F1		       jz      short ISPIPE3
TRANGROUP:30F3		       cmp     ah, 7Ch ; '|'   ; vbar
TRANGROUP:30F6		       jnz     short CONTPRESCAN
TRANGROUP:30F8
TRANGROUP:30F8 ISPIPE3:				       ; ...
TRANGROUP:30F8		       cmp     es:PipeFlag, 0
TRANGROUP:30FE		       jnz     short NOECHOPUSH
TRANGROUP:3100		       shl     es:EchoFlag, 1  ; shl byte [es:EchoFlag],1
TRANGROUP:3105
TRANGROUP:3105 NOECHOPUSH:			       ; ...
TRANGROUP:3105		       inc     es:PipeFlag
TRANGROUP:310A		       call    scanoff
TRANGROUP:310D		       cmp     al, 0Dh
TRANGROUP:310F		       jz      short PIPEERRSYNJ5
TRANGROUP:3111		       cmp     al, 7Ch ; '|'   ; ALTPIPECHR
TRANGROUP:3113		       jz      short PIPEERRSYNJ5
TRANGROUP:3115		       cmp     al, 7Ch ; '|'   ; vbar
TRANGROUP:3117		       jnz     short CONTPRESCAN
TRANGROUP:3119
TRANGROUP:3119 PIPEERRSYNJ5:			       ; ...
TRANGROUP:3119		       push    es
TRANGROUP:311A		       pop     ds
TRANGROUP:311B		       jmp     PIPEERRSYN
TRANGROUP:311E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:311E
TRANGROUP:311E GOTRESTR:			       ; ...
TRANGROUP:311E		       xchg    ah, al
TRANGROUP:3120		       mov     al, 3Ah ; ':'
TRANGROUP:3122		       sub     bx, di
TRANGROUP:3124		       cmp     bx, 0FFFFh      ; -1
TRANGROUP:3127		       jz      short NOTRAILCOL
TRANGROUP:3129		       cmp     es:[di-1], al
TRANGROUP:312D		       jnz     short NOTRAILCOL
TRANGROUP:312F		       dec     di
TRANGROUP:3130
TRANGROUP:3130 NOTRAILCOL:			       ; ...
TRANGROUP:3130		       xor     al, al
TRANGROUP:3132		       stosb
TRANGROUP:3133		       pop     es
TRANGROUP:3134		       assume es:nothing
TRANGROUP:3134		       pop     di
TRANGROUP:3135
TRANGROUP:3135 CONTPRESCAN:			       ; ...
TRANGROUP:3135		       mov     [di], ah
TRANGROUP:3137		       inc     di
TRANGROUP:3138		       cmp     ah, 0Dh
TRANGROUP:313B		       jz      short PRESCANEND
TRANGROUP:313D		       inc     cl
TRANGROUP:313F		       jmp     PRESCANLP
TRANGROUP:3142 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3142
TRANGROUP:3142 PRESCANEND:			       ; ...
TRANGROUP:3142		       cmp     es:PipeFlag, 0
TRANGROUP:3148		       jz      short ISNOPIPE
TRANGROUP:314A		       mov     di, 48Ah	       ; PipeStr ; RESGROUP:EndInit+160
TRANGROUP:314D		       mov     es:488h,	di     ; [es:PipePtr],di
TRANGROUP:314D					       ; (RESGROUP:EndInit+158)
TRANGROUP:3152		       mov     si, (offset COMBUF+2)
TRANGROUP:3155		       call    scanoff
TRANGROUP:3158
TRANGROUP:3158 PIPESETLP:			       ; ...
TRANGROUP:3158		       lodsb
TRANGROUP:3159		       stosb
TRANGROUP:315A		       cmp     al, 0Dh
TRANGROUP:315C		       jnz     short PIPESETLP
TRANGROUP:315E
TRANGROUP:315E ISNOPIPE:			       ; ...
TRANGROUP:315E		       mov     COMBUF+1, cl
TRANGROUP:3162		       cmp     es:PipeFlag, 0
TRANGROUP:3168		       push    cs
TRANGROUP:3169		       pop     es
TRANGROUP:316A		       assume es:TRANGROUP
TRANGROUP:316A		       retn
TRANGROUP:316A PRESCAN	       endp
TRANGROUP:316A
TRANGROUP:316B
TRANGROUP:316B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:316B
TRANGROUP:316B
TRANGROUP:316B cmd_copy	       proc near	       ; ...
TRANGROUP:316B		       mov     si, (offset COMBUF+2)
TRANGROUP:316E		       call    scanoff
TRANGROUP:3171		       add     si, PathPos
TRANGROUP:3175		       mov     di, 81h
TRANGROUP:3178		       xor     cx, cx
TRANGROUP:317A
TRANGROUP:317A cmdcopy:				       ; ...
TRANGROUP:317A		       lodsb
TRANGROUP:317B		       stosb
TRANGROUP:317C		       cmp     al, 0Dh
TRANGROUP:317E		       jz      short copy_done
TRANGROUP:3180		       inc     cx
TRANGROUP:3181		       jmp     short cmdcopy
TRANGROUP:3183 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3183
TRANGROUP:3183 copy_done:			       ; ...
TRANGROUP:3183		       mov     TRANSTART+80h, cl ; mov ds:80h, cl
TRANGROUP:3187		       retn
TRANGROUP:3187 cmd_copy	       endp
TRANGROUP:3187
TRANGROUP:3188
TRANGROUP:3188 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3188
TRANGROUP:3188
TRANGROUP:3188 test_append     proc near	       ; ...
TRANGROUP:3188		       mov     bx, offset COMBUF
TRANGROUP:318B		       mov     si, offset IDLEN
TRANGROUP:318E		       mov     dx, 0FFFFh      ; -1
TRANGROUP:3191		       mov     ax, 0AE00h
TRANGROUP:3194		       int     2Fh	       ; - Multiplex - DOS 3.3+	internal - INSTALLABLE COMMAND - INSTALL CHECK
TRANGROUP:3194					       ; DX = FFFFh, DS:BX -> command line
TRANGROUP:3194					       ; Return: AL = FFh if this command is a TSR extension to	COMMAND.COM
TRANGROUP:3194					       ; AL = 00h if the command should	be executed as usual
TRANGROUP:3196		       cmp     al, 0
TRANGROUP:3198		       retn
TRANGROUP:3198 test_append     endp
TRANGROUP:3198
TRANGROUP:3199
TRANGROUP:3199 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3199
TRANGROUP:3199
TRANGROUP:3199 SETPATH	       proc near	       ; ...
TRANGROUP:3199		       mov     ax, PathCnt
TRANGROUP:319C		       mov     si, PathPos
TRANGROUP:31A0
TRANGROUP:31A0 GETPATH:
TRANGROUP:31A0		       mov     DestInfo, 0
TRANGROUP:31A5		       mov     DestIsDir, 0
TRANGROUP:31AA		       mov     si, PathPos
TRANGROUP:31AE		       mov     cx, PathCnt
TRANGROUP:31B2		       mov     dx, si
TRANGROUP:31B4		       jcxz    short PATHDONE
TRANGROUP:31B6		       push    cx
TRANGROUP:31B7		       push    si
TRANGROUP:31B8		       call    SWITCH
TRANGROUP:31BB		       mov     PathSw, ax
TRANGROUP:31BE		       pop     bx
TRANGROUP:31BF		       sub     bx, si
TRANGROUP:31C1		       pop     cx
TRANGROUP:31C2		       add     cx, bx
TRANGROUP:31C4		       mov     dx, si
TRANGROUP:31C6
TRANGROUP:31C6 SKIPPATH:			       ; ...
TRANGROUP:31C6		       mov     KPARSE, 0
TRANGROUP:31CB
TRANGROUP:31CB SKIPPATH2:			       ; ...
TRANGROUP:31CB		       jcxz    short PATHDONE
TRANGROUP:31CD		       dec     cx
TRANGROUP:31CE		       lodsb
TRANGROUP:31CF		       call    testkanj
TRANGROUP:31D2		       jz      short TESTPPSEP
TRANGROUP:31D4		       dec     cx
TRANGROUP:31D5		       inc     si
TRANGROUP:31D6		       inc     KPARSE
TRANGROUP:31DA		       jmp     short SKIPPATH2
TRANGROUP:31DC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:31DC
TRANGROUP:31DC TESTPPSEP:			       ; ...
TRANGROUP:31DC		       call    pathchrcmp
TRANGROUP:31DF		       jnz     short TESTPMETA
TRANGROUP:31E1		       inc     DestIsDir
TRANGROUP:31E5
TRANGROUP:31E5 TESTPMETA:			       ; ...
TRANGROUP:31E5		       cmp     al, 3Fh ; '?'
TRANGROUP:31E7		       jnz     short TESTPSTAR
TRANGROUP:31E9		       or      DestInfo, 2
TRANGROUP:31EE
TRANGROUP:31EE TESTPSTAR:			       ; ...
TRANGROUP:31EE		       cmp     al, 2Ah ; '*'
TRANGROUP:31F0		       jnz     short TESTPDELIM
TRANGROUP:31F2		       or      DestInfo, 2
TRANGROUP:31F7
TRANGROUP:31F7 TESTPDELIM:			       ; ...
TRANGROUP:31F7		       call    DELIM
TRANGROUP:31FA		       jz      short PATHDONEDEC
TRANGROUP:31FC		       cmp     al, SWITCHAR
TRANGROUP:3200		       jnz     short SKIPPATH
TRANGROUP:3202
TRANGROUP:3202 PATHDONEDEC:			       ; ...
TRANGROUP:3202		       dec     si
TRANGROUP:3203
TRANGROUP:3203 PATHDONE:			       ; ...
TRANGROUP:3203		       xor     al, al
TRANGROUP:3205		       xchg    al, [si]
TRANGROUP:3207		       inc     si
TRANGROUP:3208		       cmp     al, 0Dh
TRANGROUP:320A		       jnz     short NOPSTORE
TRANGROUP:320C		       mov     [si], al
TRANGROUP:320E
TRANGROUP:320E NOPSTORE:			       ; ...
TRANGROUP:320E		       mov     PathPos,	si
TRANGROUP:3212		       mov     PathCnt,	cx
TRANGROUP:3216
TRANGROUP:3216 SETPATH_RETN:			       ; ...
TRANGROUP:3216		       retn
TRANGROUP:3216 SETPATH	       endp
TRANGROUP:3216
TRANGROUP:3217
TRANGROUP:3217 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3217
TRANGROUP:3217
TRANGROUP:3217 PGETARG	       proc near	       ; ...
TRANGROUP:3217		       mov     si, 80h
TRANGROUP:321A		       lodsb
TRANGROUP:321B		       or      al, al
TRANGROUP:321D		       jz      short SETPATH_RETN
TRANGROUP:321F		       call    PSCANOFF
TRANGROUP:3222		       cmp     al, 0Dh
TRANGROUP:3224		       retn
TRANGROUP:3224 PGETARG	       endp
TRANGROUP:3224
TRANGROUP:3225
TRANGROUP:3225 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3225
TRANGROUP:3225
TRANGROUP:3225 PSCANOFF	       proc near	       ; ...
TRANGROUP:3225		       lodsb
TRANGROUP:3226		       call    DELIM
TRANGROUP:3229		       jnz     short PSCANOFFD
TRANGROUP:322B		       cmp     al, ';'         ; 3Bh
TRANGROUP:322D		       jnz     short PSCANOFF
TRANGROUP:322F
TRANGROUP:322F PSCANOFFD:			       ; ...
TRANGROUP:322F		       dec     si
TRANGROUP:3230		       retn
TRANGROUP:3230 PSCANOFF	       endp
TRANGROUP:3230
TRANGROUP:3231
TRANGROUP:3231 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3231
TRANGROUP:3231
TRANGROUP:3231 IOSET	       proc near	       ; ...
TRANGROUP:3231		       push    ds
TRANGROUP:3232		       push    dx
TRANGROUP:3233		       push    ax
TRANGROUP:3234		       push    bx
TRANGROUP:3235		       push    cx
TRANGROUP:3236		       mov     ds, cs:RESSEG
TRANGROUP:323B		       assume ds:nothing
TRANGROUP:323B		       cmp     ds:PipeFlag, 0
TRANGROUP:3240		       jnz     short NOREDIR
TRANGROUP:3242		       test    ds:IfFlag, 0FFh
TRANGROUP:3247		       jnz     short NOREDIR
TRANGROUP:3249		       call    TESTDOREIN
TRANGROUP:324C		       call    TESTDOREOUT
TRANGROUP:324F
TRANGROUP:324F NOREDIR:				       ; ...
TRANGROUP:324F		       pop     cx
TRANGROUP:3250		       pop     bx
TRANGROUP:3251		       pop     ax
TRANGROUP:3252		       pop     dx
TRANGROUP:3253		       pop     ds
TRANGROUP:3254
TRANGROUP:3254 IOSET_RETN:			       ; ...
TRANGROUP:3254		       retn
TRANGROUP:3254 IOSET	       endp
TRANGROUP:3254
TRANGROUP:3255
TRANGROUP:3255 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3255
TRANGROUP:3255
TRANGROUP:3255 TESTDOREIN      proc near	       ; ...
TRANGROUP:3255
TRANGROUP:3255 ; FUNCTION CHUNK	AT TRANGROUP:2FF5 SIZE 00000006	BYTES
TRANGROUP:3255
TRANGROUP:3255		       cmp     cs:RE_INSTR, 0
TRANGROUP:325B		       jz      short IOSET_RETN
TRANGROUP:325D		       push    ds
TRANGROUP:325E		       push    cs
TRANGROUP:325F		       pop     ds
TRANGROUP:3260		       assume ds:TRANGROUP
TRANGROUP:3260		       mov     dx, offset RE_INSTR
TRANGROUP:3263		       mov     ax, 3D00h       ; OPEN*256
TRANGROUP:3266		       mov     bx, ax
TRANGROUP:3268		       int     21h	       ; DOS - 2+ - OPEN DISK FILE WITH	HANDLE
TRANGROUP:3268					       ; DS:DX -> ASCIZ	filename
TRANGROUP:3268					       ; AL = access mode
TRANGROUP:3268					       ; 0 - read
TRANGROUP:326A		       pop     ds
TRANGROUP:326B		       assume ds:nothing
TRANGROUP:326B		       jb      short REDIRERR
TRANGROUP:326D		       mov     bx, ax
TRANGROUP:326F		       mov     al, 0FFh
TRANGROUP:3271		       xchg    al, [bx+18h]    ; [bx+PDB.JFN_TABLE]
TRANGROUP:3274		       mov     ds:18h, al      ; [PDB.JFN_TABLE]
TRANGROUP:3277		       retn
TRANGROUP:3278 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3278
TRANGROUP:3278 REDIRERR:			       ; ...
TRANGROUP:3278		       push    cs
TRANGROUP:3279		       pop     ds
TRANGROUP:327A		       assume ds:TRANGROUP
TRANGROUP:327A		       call    TriageError
TRANGROUP:327D		       cmp     ax, 65
TRANGROUP:3280		       jz      short _CERRORJ
TRANGROUP:3282		       cmp     bh, 3Dh	       ; OPEN
TRANGROUP:3285		       jz      short OpenError
TRANGROUP:3287		       mov     dx, offset FULLDIR_PTR
TRANGROUP:328A
TRANGROUP:328A _CERRORJ:			       ; ...
TRANGROUP:328A		       jmp     cerror
TRANGROUP:328D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:328D
TRANGROUP:328D OpenError:			       ; ...
TRANGROUP:328D		       mov     cs:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:3293		       mov     dx, offset extend_buf_ptr
TRANGROUP:3296		       mov     cs:extend_buf_ptr, ax
TRANGROUP:329A		       jmp     cerror
TRANGROUP:329A TESTDOREIN      endp
TRANGROUP:329A
TRANGROUP:329D
TRANGROUP:329D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:329D
TRANGROUP:329D
TRANGROUP:329D TESTDOREOUT     proc near	       ; ...
TRANGROUP:329D		       cmp     ds:Re_OutStr, 0
TRANGROUP:32A2		       jnz     short REOUTEXISTS
TRANGROUP:32A4		       jmp     NOREOUT
TRANGROUP:32A7 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:32A7
TRANGROUP:32A7 REOUTEXISTS:			       ; ...
TRANGROUP:32A7		       cmp     ds:Re_Out_App, 0
TRANGROUP:32AC		       jz      short REOUTCRT
TRANGROUP:32AE		       mov     dx, offset Re_OutStr
TRANGROUP:32B1		       mov     ax, 3D02h
TRANGROUP:32B4		       push    ax
TRANGROUP:32B5		       int     21h	       ; DOS - 2+ - OPEN DISK FILE WITH	HANDLE
TRANGROUP:32B5					       ; DS:DX -> ASCIZ	filename
TRANGROUP:32B5					       ; AL = access mode
TRANGROUP:32B5					       ; 2 - read & write
TRANGROUP:32B7		       pop     bx
TRANGROUP:32B8		       jb      short OpenWriteError
TRANGROUP:32BA		       mov     bx, ax
TRANGROUP:32BC		       mov     ax, 4400h
TRANGROUP:32BF		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:32BF					       ; BX = file or device handle
TRANGROUP:32C1		       test    dl, 80h
TRANGROUP:32C4		       jnz     short SET_REOUT
TRANGROUP:32C6		       mov     ax, 4202h
TRANGROUP:32C9		       mov     cx, 0FFFFh      ; -1
TRANGROUP:32CC		       mov     dx, cx
TRANGROUP:32CE		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:32CE					       ; AL = method: offset from end of file
TRANGROUP:32D0		       push    cs
TRANGROUP:32D1		       pop     ds
TRANGROUP:32D2		       mov     ax, 3F00h
TRANGROUP:32D5		       mov     cx, 1
TRANGROUP:32D8		       mov     dx, offset One_Char_Val
TRANGROUP:32DB		       int     21h	       ; DOS - 2+ - READ FROM FILE WITH	HANDLE
TRANGROUP:32DB					       ; BX = file handle, CX =	number of bytes	to read
TRANGROUP:32DB					       ; DS:DX -> buffer
TRANGROUP:32DD		       jb      short OpenWriteError
TRANGROUP:32DF		       cmp     ax, cx
TRANGROUP:32E1		       jnz     short reout_0_length
TRANGROUP:32E3		       cmp     One_Char_Val, 1Ah
TRANGROUP:32E8		       mov     ds, RESSEG
TRANGROUP:32EC		       assume ds:nothing
TRANGROUP:32EC		       jnz     short SET_REOUT
TRANGROUP:32EE		       mov     ax, 4201h
TRANGROUP:32F1		       mov     cx, 0FFFFh
TRANGROUP:32F4		       mov     dx, cx
TRANGROUP:32F6		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:32F6					       ; AL = method: offset from present location
TRANGROUP:32F8		       jmp     short SET_REOUT
TRANGROUP:32FA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:32FA
TRANGROUP:32FA reout_0_length:			       ; ...
TRANGROUP:32FA		       mov     ds, cs:RESSEG
TRANGROUP:32FF		       mov     ax, 4200h
TRANGROUP:3302		       xor     cx, cx
TRANGROUP:3304		       mov     dx, cx
TRANGROUP:3306		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:3306					       ; AL = method: offset from beginning of file
TRANGROUP:3308		       jmp     short SET_REOUT
TRANGROUP:330A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:330A
TRANGROUP:330A OpenWriteError:			       ; ...
TRANGROUP:330A		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:330D		       stc
TRANGROUP:330E		       jnz     short REOUTCRT
TRANGROUP:3310		       jmp     REDIRERR
TRANGROUP:3313 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3313
TRANGROUP:3313 REOUTCRT:			       ; ...
TRANGROUP:3313		       mov     dx, offset Re_OutStr
TRANGROUP:3316		       xor     cx, cx
TRANGROUP:3318		       mov     ah, 3Ch
TRANGROUP:331A		       push    ax
TRANGROUP:331B		       int     21h	       ; DOS - 2+ - CREATE A FILE WITH HANDLE (CREAT)
TRANGROUP:331B					       ; CX = attributes for file
TRANGROUP:331B					       ; DS:DX -> ASCIZ	filename (may include drive and	path)
TRANGROUP:331D		       pop     bx
TRANGROUP:331E		       jnb     short NOREDIRERR
TRANGROUP:3320		       jmp     REDIRERR
TRANGROUP:3323 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3323
TRANGROUP:3323 NOREDIRERR:			       ; ...
TRANGROUP:3323		       mov     bx, ax
TRANGROUP:3325
TRANGROUP:3325 SET_REOUT:			       ; ...
TRANGROUP:3325		       mov     al, 0FFh
TRANGROUP:3327		       xchg    al, [bx+18h]    ; [bx+PDB.JFN_TABLE]
TRANGROUP:332A		       mov     ds:19h, al      ; mov [PDB.JFN_TABLE+1],al
TRANGROUP:332D
TRANGROUP:332D NOREOUT:				       ; ...
TRANGROUP:332D		       retn
TRANGROUP:332D TESTDOREOUT     endp
TRANGROUP:332D
TRANGROUP:332E
TRANGROUP:332E ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:332E
TRANGROUP:332E
TRANGROUP:332E dstrlen	       proc near	       ; ...
TRANGROUP:332E		       push    ax
TRANGROUP:332F		       xor     cx, cx
TRANGROUP:3331		       cld
TRANGROUP:3332
TRANGROUP:3332 dloop:				       ; ...
TRANGROUP:3332		       lodsb
TRANGROUP:3333		       inc     cx
TRANGROUP:3334		       or      al, al
TRANGROUP:3336		       jnz     short dloop
TRANGROUP:3338		       sub     si, cx
TRANGROUP:333A		       pop     ax
TRANGROUP:333B
TRANGROUP:333B TRIAGEERR_RETN:			       ; ...
TRANGROUP:333B		       retn
TRANGROUP:333B dstrlen	       endp
TRANGROUP:333B
TRANGROUP:333C
TRANGROUP:333C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:333C
TRANGROUP:333C
TRANGROUP:333C TriageError     proc near	       ; ...
TRANGROUP:333C		       jnb     short TRIAGEERR_RETN
TRANGROUP:333E		       pushf
TRANGROUP:333F		       push    bx
TRANGROUP:3340		       push    cx
TRANGROUP:3341		       push    si
TRANGROUP:3342		       push    di
TRANGROUP:3343		       push    bp
TRANGROUP:3344		       push    es
TRANGROUP:3345		       push    ds
TRANGROUP:3346		       push    ax
TRANGROUP:3347		       push    dx
TRANGROUP:3348		       mov     ah, 59h
TRANGROUP:334A		       int     21h	       ; DOS - 3+ - GET	EXTENDED ERROR CODE
TRANGROUP:334A					       ; BX = version code (0000h for DOS 3.x)
TRANGROUP:334C		       pop     cx
TRANGROUP:334D		       pop     bx
TRANGROUP:334E		       mov     dx, offset ACCDEN_PTR
TRANGROUP:3351		       cmp     ax, 65
TRANGROUP:3354		       jz      short NoMove
TRANGROUP:3356		       mov     ax, bx
TRANGROUP:3358		       mov     dx, cx
TRANGROUP:335A
TRANGROUP:335A NoMove:				       ; ...
TRANGROUP:335A		       pop     ds
TRANGROUP:335B		       pop     es
TRANGROUP:335C		       assume es:nothing
TRANGROUP:335C		       pop     bp
TRANGROUP:335D		       pop     di
TRANGROUP:335E		       pop     si
TRANGROUP:335F		       pop     cx
TRANGROUP:3360		       pop     bx
TRANGROUP:3361		       popf
TRANGROUP:3362		       retn
TRANGROUP:3362 TriageError     endp
TRANGROUP:3362
TRANGROUP:3363 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3363
TRANGROUP:3363 Triage_Init:			       ; ...
TRANGROUP:3363		       call    TriageError
TRANGROUP:3366		       retf
TRANGROUP:3367
TRANGROUP:3367 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3367
TRANGROUP:3367
TRANGROUP:3367 Move_To_SrcBuf  proc near	       ; ...
TRANGROUP:3367		       push    si
TRANGROUP:3368		       push    di
TRANGROUP:3369		       push    cx
TRANGROUP:336A		       mov     di, offset SrcBuf
TRANGROUP:336D		       xor     cx, cx
TRANGROUP:336F		       mov     ax, cx
TRANGROUP:3371		       push    di
TRANGROUP:3372		       lodsb
TRANGROUP:3373
TRANGROUP:3373 mts_get_chars:			       ; ...
TRANGROUP:3373		       cmp     al, 0
TRANGROUP:3375		       jz      short mts_end_string
TRANGROUP:3377		       stosb
TRANGROUP:3378		       inc     cx
TRANGROUP:3379		       lodsb
TRANGROUP:337A		       jmp     short mts_get_chars
TRANGROUP:337C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:337C
TRANGROUP:337C mts_end_string:			       ; ...
TRANGROUP:337C		       mov     al, 0Dh
TRANGROUP:337E		       stosb
TRANGROUP:337F		       pop     di
TRANGROUP:3380		       push    cs
TRANGROUP:3381		       pop     ds
TRANGROUP:3382		       assume ds:TRANGROUP
TRANGROUP:3382		       mov     PathCnt,	cx
TRANGROUP:3386		       mov     PathPos,	di
TRANGROUP:338A		       pop     cx
TRANGROUP:338B		       pop     di
TRANGROUP:338C		       pop     si
TRANGROUP:338D		       retn
TRANGROUP:338D Move_To_SrcBuf  endp
TRANGROUP:338D
TRANGROUP:338E
TRANGROUP:338E ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:338E
TRANGROUP:338E
TRANGROUP:338E SINGLETEST      proc near	       ; ...
TRANGROUP:338E		       push    ds
TRANGROUP:338F		       mov     ds, cs:RESSEG
TRANGROUP:3394		       assume ds:nothing
TRANGROUP:3394		       cmp     ds:SingleCom, 0
TRANGROUP:3399		       jz      short TESTDONE
TRANGROUP:339B		       cmp     ds:SingleCom, 0EFFFh
TRANGROUP:33A1
TRANGROUP:33A1 TESTDONE:			       ; ...
TRANGROUP:33A1		       pop     ds
TRANGROUP:33A2		       retn
TRANGROUP:33A2 SINGLETEST      endp
TRANGROUP:33A2
TRANGROUP:33A3
TRANGROUP:33A3 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:33A3
TRANGROUP:33A3
TRANGROUP:33A3 SetRest1	       proc near	       ; ...
TRANGROUP:33A3		       mov     al, 1
TRANGROUP:33A3 SetRest1	       endp
TRANGROUP:33A3
TRANGROUP:33A5
TRANGROUP:33A5 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:33A5
TRANGROUP:33A5
TRANGROUP:33A5 SETREST	       proc near	       ; ...
TRANGROUP:33A5		       push    ds
TRANGROUP:33A6		       mov     ds, ds:RESSEG
TRANGROUP:33AA		       mov     ds:RestDir, al
TRANGROUP:33AD		       pop     ds
TRANGROUP:33AE		       retn
TRANGROUP:33AE SETREST	       endp
TRANGROUP:33AE
TRANGROUP:33AF
TRANGROUP:33AF ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:33AF
TRANGROUP:33AF
TRANGROUP:33AF PIPEDEL	       proc near	       ; ...
TRANGROUP:33AF		       push    ds
TRANGROUP:33B0		       push    dx
TRANGROUP:33B1		       mov     ds, cs:RESSEG
TRANGROUP:33B6		       mov     dx, 3EAh	       ; offset	Pipe1 =	offset RESGROUP:EndInit
TRANGROUP:33B9		       mov     ah, 41h
TRANGROUP:33BB		       int     21h	       ; DOS - 2+ - DELETE A FILE (UNLINK)
TRANGROUP:33BB					       ; DS:DX -> ASCIZ	pathname of file to delete (no wildcards allowed)
TRANGROUP:33BD		       mov     dx, 439h	       ; offset	Pipe2 =	offset RESGROUP:EndInit+79
TRANGROUP:33C0		       mov     ah, 41h
TRANGROUP:33C2		       int     21h	       ; DOS - 2+ - DELETE A FILE (UNLINK)
TRANGROUP:33C2					       ; DS:DX -> ASCIZ	pathname of file to delete (no wildcards allowed)
TRANGROUP:33C4		       pop     dx
TRANGROUP:33C5		       call    PipeOff
TRANGROUP:33C8		       mov     ds:PipeFiles, 0
TRANGROUP:33CD		       pop     ds
TRANGROUP:33CE		       retn
TRANGROUP:33CE PIPEDEL	       endp
TRANGROUP:33CE
TRANGROUP:33CF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:33CF ; START OF FUNCTION CHUNK FOR _$IF
TRANGROUP:33CF
TRANGROUP:33CF PIPEERRSYN:			       ; ...
TRANGROUP:33CF		       mov     dx, offset SYNTMES_PTR
TRANGROUP:33D2		       call    PIPEDEL
TRANGROUP:33D5		       push    cs
TRANGROUP:33D6		       pop     ds
TRANGROUP:33D7		       assume ds:TRANGROUP
TRANGROUP:33D7		       jmp     cerror
TRANGROUP:33DA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:33DA
TRANGROUP:33DA PIPERR:				       ; ...
TRANGROUP:33DA		       pushf
TRANGROUP:33DB		       call    TriageError
TRANGROUP:33DE		       push    ax
TRANGROUP:33DF		       push    dx
TRANGROUP:33E0		       mov     dx, offset PIPEEMES_PTR
TRANGROUP:33E3		       call    PIPEDEL
TRANGROUP:33E6		       push    cs
TRANGROUP:33E7		       pop     ds
TRANGROUP:33E8		       call    std_eprintf
TRANGROUP:33EB		       pop     dx
TRANGROUP:33EC		       pop     ax
TRANGROUP:33ED		       popf
TRANGROUP:33EE		       cmp     ax, 65
TRANGROUP:33F1		       jnz     short TCOMMANDJ
TRANGROUP:33F3		       jmp     cerror
TRANGROUP:33F6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:33F6
TRANGROUP:33F6 TCOMMANDJ:			       ; ...
TRANGROUP:33F6		       jmp     TCOMMAND
TRANGROUP:33F9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:33F9
TRANGROUP:33F9 PIPEPROCSTRT:			       ; ...
TRANGROUP:33F9		       mov     ds, RESSEG
TRANGROUP:33FD		       assume ds:nothing
TRANGROUP:33FD		       inc     ds:PipeFiles
TRANGROUP:3401		       push    es
TRANGROUP:3402		       push    di
TRANGROUP:3403		       push    ds
TRANGROUP:3404		       push    si
TRANGROUP:3405		       push    ds
TRANGROUP:3406		       push    es
TRANGROUP:3407		       pop     ds
TRANGROUP:3408		       mov     si, offset TempVarName ;	"TEMP="
TRANGROUP:340B		       call    find_name_in_environment
TRANGROUP:340E		       pop     ds
TRANGROUP:340F		       jb      short no_temp_path
TRANGROUP:3411		       push    ds
TRANGROUP:3412		       push    es
TRANGROUP:3413		       pop     ds
TRANGROUP:3414		       pop     es
TRANGROUP:3415		       mov     si, di
TRANGROUP:3417		       call    skip_white
TRANGROUP:341A		       call    copy_pipe_path
TRANGROUP:341D		       push    es
TRANGROUP:341E		       pop     ds
TRANGROUP:341F		       mov     dx, offset EndInit ; offset DATARES:Pipe1 = RESGROUP:EndInit
TRANGROUP:3422		       mov     ax, 4300h
TRANGROUP:3425		       int     21h	       ; DOS - 2+ - GET	FILE ATTRIBUTES
TRANGROUP:3425					       ; DS:DX -> ASCIZ	file name or directory
TRANGROUP:3425					       ; name without trailing slash
TRANGROUP:3427		       jb      short no_temp_path
TRANGROUP:3429		       test    cx, 10h
TRANGROUP:342D		       jnz     short no_temp_path
TRANGROUP:342F		       stc
TRANGROUP:3430
TRANGROUP:3430 no_temp_path:			       ; ...
TRANGROUP:3430		       pop     si
TRANGROUP:3431		       pop     ds
TRANGROUP:3432		       pop     di
TRANGROUP:3433		       pop     es
TRANGROUP:3434		       jnb     short crt_temp
TRANGROUP:3436		       mov     ah, '.'         ; 2Eh
TRANGROUP:3438		       mov     ds:3EAh,	ah     ; offset	DATARES:Pipe1 =	RESGROUP:EndInit
TRANGROUP:343C		       mov     ds:439h,	ah     ; offset	DATARES:Pipe2 =	RESGROUP:EndInit+79
TRANGROUP:3440		       xor     ah, ah
TRANGROUP:3442		       mov     ds:3EBh,	ah     ; offset	DATARES:Pipe1+1	= RESGROUP:EndInit+1
TRANGROUP:3446		       mov     ds:43Ah,	ah     ; offset	DATARES:Pipe2+1	= RESGROUP:EndInit+80
TRANGROUP:344A
TRANGROUP:344A crt_temp:			       ; ...
TRANGROUP:344A		       mov     dx, 3EAh	       ; offset	DATARES:Pipe1 =	offset RESGROUP:EndInit
TRANGROUP:344D		       xor     cx, cx
TRANGROUP:344F		       mov     ah, 5Ah
TRANGROUP:3451		       int     21h	       ; DOS - 3+ - CREATE UNIQUE FILE
TRANGROUP:3451					       ; DS:DX -> ASCIZ	directory path name ending with	a '' + 13 bytes to
TRANGROUP:3451					       ; receive generated filename
TRANGROUP:3451					       ; CX = file attributes (only bits 0,1,2,5 may be	set)
TRANGROUP:3453		       jnb     short pps0
TRANGROUP:3455		       jmp     short PIPERR
TRANGROUP:3457 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3457
TRANGROUP:3457 pps0:				       ; ...
TRANGROUP:3457		       mov     bx, ax
TRANGROUP:3459		       mov     ah, 3Eh
TRANGROUP:345B		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:345B					       ; BX = file handle
TRANGROUP:345D		       mov     dx, 439h	       ; offset	DATARES:Pipe2 =	offset RESGROUP:EndInit+79
TRANGROUP:3460		       mov     ah, 5Ah
TRANGROUP:3462		       int     21h	       ; DOS - 3+ - CREATE UNIQUE FILE
TRANGROUP:3462					       ; DS:DX -> ASCIZ	directory path name ending with	a '' + 13 bytes to
TRANGROUP:3462					       ; receive generated filename
TRANGROUP:3462					       ; CX = file attributes (only bits 0,1,2,5 may be	set)
TRANGROUP:3464		       jnb     short pps1
TRANGROUP:3466		       jmp     PIPERR
TRANGROUP:3469 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3469
TRANGROUP:3469 pps1:				       ; ...
TRANGROUP:3469		       mov     bx, ax
TRANGROUP:346B		       mov     ah, 3Eh
TRANGROUP:346D		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:346D					       ; BX = file handle
TRANGROUP:346F		       call    TESTDOREIN
TRANGROUP:3472		       mov     si, ds:488h     ; offset	DATARES:PipePtr	= offset RESGROUP:EndInit+158
TRANGROUP:3476		       cmp     ds:SingleCom, 0FFFFh ; -1
TRANGROUP:347B		       jnz     short NOSINGP
TRANGROUP:347D		       mov     ds:SingleCom, 0F000h
TRANGROUP:3483
TRANGROUP:3483 NOSINGP:				       ; ...
TRANGROUP:3483		       jmp     short FIRSTPIPE
TRANGROUP:3485 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3485
TRANGROUP:3485 PIPEPROC:			       ; ...
TRANGROUP:3485		       and     ds:EchoFlag, 0FEh
TRANGROUP:348A		       mov     si, ds:488h     ; offset	DATARES:PipePtr	= offset RESGROUP:EndInit+158
TRANGROUP:348E		       lodsb
TRANGROUP:348F		       cmp     al, 7Ch ; '|'   ; ALTPIPECHR
TRANGROUP:3491		       jz      short ISPIPE1
TRANGROUP:3493		       cmp     al, 7Ch ; '|'   ; vbar
TRANGROUP:3495		       jz      short ISPIPE1
TRANGROUP:3497		       jmp     PIPEEND
TRANGROUP:349A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:349A
TRANGROUP:349A ISPIPE1:				       ; ...
TRANGROUP:349A		       mov     dx, ds:InPipePtr
TRANGROUP:349E		       mov     ax, 3D00h
TRANGROUP:34A1		       int     21h	       ; DOS - 2+ - OPEN DISK FILE WITH	HANDLE
TRANGROUP:34A1					       ; DS:DX -> ASCIZ	filename
TRANGROUP:34A1					       ; AL = access mode
TRANGROUP:34A1					       ; 0 - read
TRANGROUP:34A3
TRANGROUP:34A3 PIPEERRJ:			       ; ...
TRANGROUP:34A3		       jnb     short NO_PIPEERR
TRANGROUP:34A5		       jmp     PIPERR
TRANGROUP:34A8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:34A8
TRANGROUP:34A8 NO_PIPEERR:			       ; ...
TRANGROUP:34A8		       mov     bx, ax
TRANGROUP:34AA		       mov     al, 0FFh
TRANGROUP:34AC		       xchg    al, [bx+18h]    ; [bx+PDB.JFN_TABLE]
TRANGROUP:34AF		       mov     ds:18h, al      ; [PDB.JFN_TABLE],al  ; Redirect
TRANGROUP:34B2
TRANGROUP:34B2 FIRSTPIPE:			       ; ...
TRANGROUP:34B2		       mov     di, (offset COMBUF+2)
TRANGROUP:34B5		       xor     cx, cx
TRANGROUP:34B7		       cmp     byte ptr	[si], 0Dh ; '|<CR>'
TRANGROUP:34BA		       jnz     short PIPEOK1
TRANGROUP:34BC
TRANGROUP:34BC PIPEERRSYNJ:			       ; ...
TRANGROUP:34BC		       jmp     PIPEERRSYN
TRANGROUP:34BF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:34BF
TRANGROUP:34BF PIPEOK1:				       ; ...
TRANGROUP:34BF		       mov     al, 7Ch ; '|'
TRANGROUP:34C1		       cmp     [si], al
TRANGROUP:34C3		       jz      short PIPEERRSYNJ
TRANGROUP:34C5		       cmp     byte ptr	[si], 7Ch ; '|'
TRANGROUP:34C8		       jz      short PIPEERRSYNJ
TRANGROUP:34CA
TRANGROUP:34CA PIPECOMLP:			       ; ...
TRANGROUP:34CA		       lodsb
TRANGROUP:34CB		       stosb
TRANGROUP:34CC		       call    testkanj
TRANGROUP:34CF		       jz      short NOTKANJ5
TRANGROUP:34D1		       movsb
TRANGROUP:34D2		       inc     cx
TRANGROUP:34D3		       inc     cx
TRANGROUP:34D4		       jmp     short PIPECOMLP
TRANGROUP:34D6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:34D6
TRANGROUP:34D6 NOTKANJ5:			       ; ...
TRANGROUP:34D6		       cmp     al, 0Dh
TRANGROUP:34D8		       jz      short LASTPIPE
TRANGROUP:34DA		       inc     cx
TRANGROUP:34DB		       cmp     al, 7Ch ; '|'
TRANGROUP:34DD		       jz      short ISPIPE2
TRANGROUP:34DF		       cmp     al, 7Ch ; '|'
TRANGROUP:34E1		       jnz     short PIPECOMLP
TRANGROUP:34E3
TRANGROUP:34E3 ISPIPE2:				       ; ...
TRANGROUP:34E3		       mov     byte ptr	es:[di-1], 0Dh
TRANGROUP:34E8		       dec     cx
TRANGROUP:34E9		       mov     es:COMBUF+1, cl
TRANGROUP:34EE		       dec     si
TRANGROUP:34EF		       mov     ds:488h,	si     ; [PipePtr] = [EndInit+158]
TRANGROUP:34F3		       mov     dx, ds:OutPipePtr
TRANGROUP:34F7		       push    cx
TRANGROUP:34F8		       xor     cx, cx
TRANGROUP:34FA		       mov     ax, 3C00h
TRANGROUP:34FD		       int     21h	       ; DOS - 2+ - CREATE A FILE WITH HANDLE (CREAT)
TRANGROUP:34FD					       ; CX = attributes for file
TRANGROUP:34FD					       ; DS:DX -> ASCIZ	filename (may include drive and	path)
TRANGROUP:34FF		       pop     cx
TRANGROUP:3500		       jb      short PIPEERRJ
TRANGROUP:3502		       mov     bx, ax
TRANGROUP:3504		       mov     al, 0FFh
TRANGROUP:3506		       xchg    al, [bx+18h]    ; [bx+PDB.JFN_TABLE]
TRANGROUP:3509		       mov     ds:19h, al      ; [PDB.JFN_TABLE+1]
TRANGROUP:350C		       xchg    dx, ds:InPipePtr
TRANGROUP:3510		       mov     ds:OutPipePtr, dx
TRANGROUP:3514		       jmp     short PIPECOM
TRANGROUP:3516 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3516
TRANGROUP:3516 LASTPIPE:			       ; ...
TRANGROUP:3516		       mov     es:COMBUF+1, cl
TRANGROUP:351B		       dec     si
TRANGROUP:351C		       mov     ds:488h,	si     ; [PipePtr] = [EndInit+158]
TRANGROUP:3520		       call    TESTDOREOUT
TRANGROUP:3523
TRANGROUP:3523 PIPECOM:				       ; ...
TRANGROUP:3523		       push    cs
TRANGROUP:3524		       pop     ds
TRANGROUP:3525		       assume ds:TRANGROUP
TRANGROUP:3525		       jmp     NOPIPEPROC
TRANGROUP:3528 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3528
TRANGROUP:3528 PIPEEND:				       ; ...
TRANGROUP:3528		       call    PIPEDEL
TRANGROUP:352B		       cmp     ds:SingleCom, 0F000h
TRANGROUP:3531		       jnz     short NOSINGP2
TRANGROUP:3533		       mov     ds:SingleCom, 0FFFFh ; -1
TRANGROUP:3539
TRANGROUP:3539 NOSINGP2:			       ; ...
TRANGROUP:3539		       jmp     TCOMMAND
TRANGROUP:3539 ; END OF	FUNCTION CHUNK FOR _$IF
TRANGROUP:353C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:353C
TRANGROUP:353C DATINIT:				       ; ...
TRANGROUP:353C		       mov     cs:RESSEG, ds
TRANGROUP:3541		       push    es
TRANGROUP:3542		       push    ds
TRANGROUP:3543		       mov     ax, cs
TRANGROUP:3545		       mov     es, ax
TRANGROUP:3547		       assume es:TRANGROUP
TRANGROUP:3547		       mov     ds, ax
TRANGROUP:3549		       assume ds:nothing
TRANGROUP:3549		       call    TSYSLOADMSG
TRANGROUP:354C		       mov     dx, offset STACK	; mov dx, offset INTERNATVARS
TRANGROUP:354F		       mov     ax, 3800h
TRANGROUP:3552		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:3552					       ; get current-country info
TRANGROUP:3552					       ; DS:DX -> buffer for returned info
TRANGROUP:3554		       mov     word ptr	ds:81h,	0Dh
TRANGROUP:355A		       mov     ds:COMBUF, 128
TRANGROUP:355F		       mov     word ptr	ds:COMBUF+1, 0D01h
TRANGROUP:3565		       call    DATE
TRANGROUP:3568		       call    CTIME
TRANGROUP:356B		       pop     ds
TRANGROUP:356C		       pop     es
TRANGROUP:356D		       assume es:nothing
TRANGROUP:356D		       retf
TRANGROUP:356E
TRANGROUP:356E ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:356E
TRANGROUP:356E
TRANGROUP:356E DATE	       proc near	       ; ...
TRANGROUP:356E		       mov     si, 81h
TRANGROUP:3571		       mov     di, offset PARSE_DATE
TRANGROUP:3574		       xor     cx, cx
TRANGROUP:3576		       xor     dx, dx
TRANGROUP:3578		       call    cmd_parse
TRANGROUP:357B		       cmp     ax, 0FFFFh
TRANGROUP:357E		       jz      short PRMTDAT
TRANGROUP:3580		       cmp     ax, 0
TRANGROUP:3583		       jnz     short DATERR
TRANGROUP:3585		       jmp     short COMDAT
TRANGROUP:3587 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3587
TRANGROUP:3587 PRMTDAT:				       ; ...
TRANGROUP:3587		       call    GetDate
TRANGROUP:358A		       xchg    dh, dl
TRANGROUP:358C		       mov     ds:CurDat_yr, cx
TRANGROUP:3590		       mov     ds:CurDat_mo_day, dx
TRANGROUP:3594		       mov     dx, offset CurDat_Ptr
TRANGROUP:3597		       call    std_printf
TRANGROUP:359A
TRANGROUP:359A GET_NEW_DATE:			       ; ...
TRANGROUP:359A		       call    GETDAT
TRANGROUP:359D		       cmp     ax, 0FFFFh      ; END_OF_LINE (-1)
TRANGROUP:35A0		       jz      short date_end
TRANGROUP:35A2		       cmp     ax, 0
TRANGROUP:35A5		       jnz     short DATERR
TRANGROUP:35A7
TRANGROUP:35A7 COMDAT:				       ; ...
TRANGROUP:35A7		       mov     cx, ds:DATE_YEAR
TRANGROUP:35AB		       mov     dh, ds:DATE_MONTH
TRANGROUP:35AF		       mov     dl, ds:DATE_DAY
TRANGROUP:35B3		       push    cx
TRANGROUP:35B4		       push    dx
TRANGROUP:35B5		       mov     cx, 1
TRANGROUP:35B8		       xor     dx, dx
TRANGROUP:35BA		       call    cmd_parse
TRANGROUP:35BD		       cmp     al, 0FFh	       ; END_OF_LINE (-1)
TRANGROUP:35BF		       pop     dx
TRANGROUP:35C0		       pop     cx
TRANGROUP:35C1		       jnz     short DATERR
TRANGROUP:35C3		       mov     ah, 2Bh
TRANGROUP:35C5		       int     21h	       ; DOS - SET CURRENT DATE
TRANGROUP:35C5					       ; DL = day, DH =	month, CX = year
TRANGROUP:35C5					       ; Return: AL = 00h if no	error /= FFh if	bad value sent to routine
TRANGROUP:35C7		       or      al, al
TRANGROUP:35C9		       jnz     short DATERR
TRANGROUP:35CB
TRANGROUP:35CB date_end:			       ; ...
TRANGROUP:35CB		       retn
TRANGROUP:35CC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:35CC
TRANGROUP:35CC DATERR:				       ; ...
TRANGROUP:35CC		       call    CRLF2
TRANGROUP:35CF		       mov     dx, offset BADDAT_PTR
TRANGROUP:35D2		       call    std_printf
TRANGROUP:35D5		       jmp     short GET_NEW_DATE
TRANGROUP:35D5 DATE	       endp
TRANGROUP:35D5
TRANGROUP:35D7
TRANGROUP:35D7 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:35D7
TRANGROUP:35D7
TRANGROUP:35D7 CTIME	       proc near	       ; ...
TRANGROUP:35D7		       mov     si, 81h
TRANGROUP:35DA		       mov     di, offset PARSE_TIME
TRANGROUP:35DD		       xor     cx, cx
TRANGROUP:35DF		       xor     dx, dx
TRANGROUP:35E1		       call    cmd_parse
TRANGROUP:35E4		       cmp     ax, 0FFFFh      ; END_OF_LINE
TRANGROUP:35E7		       jz      short PRMTTIM
TRANGROUP:35E9		       cmp     ax, 0	       ; RESULT_NO_ERROR
TRANGROUP:35EC		       jnz     short TIMERR
TRANGROUP:35EE		       jmp     short COMTIM
TRANGROUP:35F0 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:35F0
TRANGROUP:35F0 PRMTTIM:				       ; ...
TRANGROUP:35F0		       mov     ah, 2Ch
TRANGROUP:35F2		       int     21h	       ; DOS - GET CURRENT TIME
TRANGROUP:35F2					       ; Return: CH = hours, CL	= minutes, DH =	seconds
TRANGROUP:35F2					       ; DL = hundredths of seconds
TRANGROUP:35F4		       xchg    ch, cl
TRANGROUP:35F6		       xchg    dh, dl
TRANGROUP:35F8		       mov     ds:CurTim_hr_min, cx
TRANGROUP:35FC		       mov     ds:CurTim_Sec_hn, dx
TRANGROUP:3600		       mov     dx, offset CurTim_Ptr
TRANGROUP:3603		       call    std_printf
TRANGROUP:3606
TRANGROUP:3606 GET_NEW_TIME:			       ; ...
TRANGROUP:3606		       call    GETTIM
TRANGROUP:3609		       cmp     ax, 0FFFFh      ; -1 ; END_OF_LINE
TRANGROUP:360C		       jz      short time_end
TRANGROUP:360E		       cmp     ax, 0	       ; 0 ; RESULT_NO_ERROR
TRANGROUP:3611		       jnz     short TIMERR
TRANGROUP:3613
TRANGROUP:3613 COMTIM:				       ; ...
TRANGROUP:3613		       mov     ch, ds:TIME_HOUR
TRANGROUP:3617		       mov     cl, ds:TIME_MINUTES
TRANGROUP:361B		       mov     dh, ds:TIME_SECONDS
TRANGROUP:361F		       mov     dl, ds:TIME_FRACTION
TRANGROUP:3623		       push    cx
TRANGROUP:3624		       push    dx
TRANGROUP:3625		       mov     cx, 1
TRANGROUP:3628		       xor     dx, dx
TRANGROUP:362A		       call    cmd_parse
TRANGROUP:362D		       cmp     al, 0FFh	       ; -1 ; END_OF_LINE
TRANGROUP:362F		       pop     dx
TRANGROUP:3630		       pop     cx
TRANGROUP:3631		       jnz     short TIMERR
TRANGROUP:3633		       mov     ah, 2Dh
TRANGROUP:3635		       int     21h	       ; DOS - SET CURRENT TIME
TRANGROUP:3635					       ; CH = hours, CL	= minutes, DH =	seconds, DL = hundredths of seconds
TRANGROUP:3635					       ; Return: AL = 00h if no	error /	= FFh if bad value sent	to routine
TRANGROUP:3637		       or      al, al
TRANGROUP:3639		       jnz     short TIMERR
TRANGROUP:363B
TRANGROUP:363B time_end:			       ; ...
TRANGROUP:363B		       retn
TRANGROUP:363C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:363C
TRANGROUP:363C TIMERR:				       ; ...
TRANGROUP:363C		       call    CRLF2
TRANGROUP:363F		       mov     dx, offset BadTim_Ptr
TRANGROUP:3642		       call    std_printf
TRANGROUP:3645		       jmp     short GET_NEW_TIME
TRANGROUP:3645 CTIME	       endp
TRANGROUP:3645
TRANGROUP:3647
TRANGROUP:3647 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3647
TRANGROUP:3647
TRANGROUP:3647 SetInitFlag     proc near	       ; ...
TRANGROUP:3647		       mov     ds, ds:RESSEG
TRANGROUP:364B		       and     ds:InitFlag, 0FDh ; ~INITSPECIAL	; NOT INITSPECIAL
TRANGROUP:3650		       or      ds:InitFlag, cl
TRANGROUP:3654		       push    cs
TRANGROUP:3655		       pop     ds
TRANGROUP:3656		       assume ds:TRANGROUP
TRANGROUP:3656		       retn
TRANGROUP:3656 SetInitFlag     endp
TRANGROUP:3656
TRANGROUP:3657
TRANGROUP:3657 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3657
TRANGROUP:3657
TRANGROUP:3657 PipeOff	       proc near	       ; ...
TRANGROUP:3657		       push    ds
TRANGROUP:3658		       push    ax
TRANGROUP:3659		       mov     ds, cs:RESSEG
TRANGROUP:365E		       assume ds:nothing
TRANGROUP:365E		       xor     al, al
TRANGROUP:3660		       xchg    al, ds:PipeFlag
TRANGROUP:3664		       or      al, al
TRANGROUP:3666		       jz      short PipeOffDone
TRANGROUP:3668		       shr     ds:EchoFlag, 1
TRANGROUP:366C
TRANGROUP:366C PipeOffDone:			       ; ...
TRANGROUP:366C		       pop     ax
TRANGROUP:366D		       pop     ds
TRANGROUP:366E		       retn
TRANGROUP:366E PipeOff	       endp
TRANGROUP:366E
TRANGROUP:366F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:366F
TRANGROUP:366F PRINT_TIME:			       ; ...
TRANGROUP:366F		       mov     ah, 2Ch
TRANGROUP:3671		       int     21h	       ; DOS - GET CURRENT TIME
TRANGROUP:3671					       ; Return: CH = hours, CL	= minutes, DH =	seconds
TRANGROUP:3671					       ; DL = hundredths of seconds
TRANGROUP:3673		       push    es
TRANGROUP:3674		       push    cs
TRANGROUP:3675		       pop     es
TRANGROUP:3676		       assume es:TRANGROUP
TRANGROUP:3676		       xchg    ch, cl
TRANGROUP:3678		       xchg    dh, dl
TRANGROUP:367A		       mov     cs:PromTim_hr_min, cx
TRANGROUP:367F		       mov     cs:PromTim_Sec_hn, dx
TRANGROUP:3684		       mov     dx, offset promtim_ptr
TRANGROUP:3687		       call    std_printf
TRANGROUP:368A		       pop     es
TRANGROUP:368B		       assume es:nothing
TRANGROUP:368B		       retn
TRANGROUP:368C
TRANGROUP:368C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:368C
TRANGROUP:368C
TRANGROUP:368C GETDAT	       proc near	       ; ...
TRANGROUP:368C		       mov     ax, 3800h
TRANGROUP:368F		       mov     dx, 5Ch
TRANGROUP:3692		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:3692					       ; get current-country info
TRANGROUP:3692					       ; DS:DX -> buffer for returned info
TRANGROUP:3694		       mov     si, dx
TRANGROUP:3696		       lodsw
TRANGROUP:3697		       mov     dx, cs:usadat_Ptr
TRANGROUP:369C		       dec     ax
TRANGROUP:369D		       js      short printformat
TRANGROUP:369F		       mov     dx, cs:eurdat_ptr
TRANGROUP:36A4		       jz      short printformat
TRANGROUP:36A6		       mov     dx, cs:japdat_ptr
TRANGROUP:36AB
TRANGROUP:36AB printformat:			       ; ...
TRANGROUP:36AB		       mov     ax, dx
TRANGROUP:36AD		       mov     dh, 0FFh	       ; util_msg_class
TRANGROUP:36AF		       call    TSYSGETMSG
TRANGROUP:36B2		       mov     cs:NewDat_Format, si
TRANGROUP:36B7		       mov     dx, offset NewDat_Ptr
TRANGROUP:36BA		       call    std_printf
TRANGROUP:36BD		       mov     cs:NewDat_Format, 0
TRANGROUP:36C4		       mov     ah, 0Ah	       ; STD_CON_STRING_INPUT
TRANGROUP:36C6		       mov     dx, offset COMBUF
TRANGROUP:36C9		       mov     cx, 2	       ; INITSPECIAL
TRANGROUP:36CC		       call    SetInitFlag
TRANGROUP:36CF		       int     21h	       ; DOS -
TRANGROUP:36D1		       xor     cx, cx
TRANGROUP:36D3		       call    SetInitFlag
TRANGROUP:36D6		       call    CRLF2
TRANGROUP:36D9		       mov     si, (offset COMBUF+2)
TRANGROUP:36DC		       mov     di, offset PARSE_DATE
TRANGROUP:36DF		       xor     cx, cx
TRANGROUP:36E1		       xor     dx, dx
TRANGROUP:36E3		       call    cmd_parse
TRANGROUP:36E6		       retn
TRANGROUP:36E6 GETDAT	       endp
TRANGROUP:36E6
TRANGROUP:36E7
TRANGROUP:36E7 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:36E7
TRANGROUP:36E7
TRANGROUP:36E7 GETTIM	       proc near	       ; ...
TRANGROUP:36E7		       xor     cx, cx
TRANGROUP:36E9		       mov     dx, offset NewTim_Ptr
TRANGROUP:36EC		       call    std_printf
TRANGROUP:36EF		       mov     ah, 0Ah	       ; STD_CON_STRING_INPUT
TRANGROUP:36F1		       mov     dx, offset COMBUF
TRANGROUP:36F4		       mov     cx, 2	       ; INITSPECIAL
TRANGROUP:36F7		       call    SetInitFlag
TRANGROUP:36FA		       int     21h	       ; DOS -
TRANGROUP:36FC		       xor     cx, cx
TRANGROUP:36FE		       call    SetInitFlag
TRANGROUP:3701		       call    CRLF2
TRANGROUP:3704		       mov     si, (offset COMBUF+2)
TRANGROUP:3707		       mov     di, offset PARSE_TIME
TRANGROUP:370A		       xor     cx, cx
TRANGROUP:370C		       xor     dx, dx
TRANGROUP:370E		       call    cmd_parse
TRANGROUP:3711		       retn
TRANGROUP:3711 GETTIM	       endp
TRANGROUP:3711
TRANGROUP:3712
TRANGROUP:3712 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3712
TRANGROUP:3712
TRANGROUP:3712 skip_white      proc near	       ; ...
TRANGROUP:3712		       cld
TRANGROUP:3713
TRANGROUP:3713 skw_lp:				       ; ...
TRANGROUP:3713		       lodsb
TRANGROUP:3714		       cmp     al, 20h ; ' '
TRANGROUP:3716		       jz      short skw_lp
TRANGROUP:3718		       cmp     al, 9
TRANGROUP:371A		       jz      short skw_lp
TRANGROUP:371C		       dec     si
TRANGROUP:371D		       retn
TRANGROUP:371D skip_white      endp
TRANGROUP:371D
TRANGROUP:371E
TRANGROUP:371E ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:371E
TRANGROUP:371E
TRANGROUP:371E copy_pipe_path  proc near	       ; ...
TRANGROUP:371E		       mov     cx, 0FFFFh      ; 65535
TRANGROUP:3721		       xor     al, al
TRANGROUP:3723		       mov     di, si
TRANGROUP:3725		       push    es
TRANGROUP:3726		       push    ds
TRANGROUP:3727		       pop     es
TRANGROUP:3728		       cld
TRANGROUP:3729		       push    di
TRANGROUP:372A		       repne scasb
TRANGROUP:372C		       pop     di
TRANGROUP:372D		       pop     es
TRANGROUP:372E		       not     cx
TRANGROUP:3730		       mov     di, 3EAh	       ; offset	DATARES:Pipe1
TRANGROUP:3730					       ; (offset RESGROUP:EndINit)
TRANGROUP:3733		       push    di
TRANGROUP:3734		       push    cx
TRANGROUP:3735		       rep movsb
TRANGROUP:3737		       pop     cx
TRANGROUP:3738		       pop     di
TRANGROUP:3739		       push    ds
TRANGROUP:373A		       push    es
TRANGROUP:373B		       pop     ds
TRANGROUP:373C		       mov     si, di
TRANGROUP:373E		       mov     di, 439h	       ; offset	DATARES:Pipe2
TRANGROUP:373E					       ; (offset RESGROUP:EndINit+79)
TRANGROUP:3741		       rep movsb
TRANGROUP:3743		       pop     ds
TRANGROUP:3744		       retn
TRANGROUP:3744 copy_pipe_path  endp
TRANGROUP:3744
TRANGROUP:3745
TRANGROUP:3745 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3745
TRANGROUP:3745
TRANGROUP:3745 PARSELINE       proc near	       ; ...
TRANGROUP:3745		       push    ax
TRANGROUP:3746		       push    bx
TRANGROUP:3747		       push    cx
TRANGROUP:3748		       push    dx
TRANGROUP:3749		       push    di
TRANGROUP:374A		       push    si
TRANGROUP:374B		       pushf
TRANGROUP:374C		       mov     ds:cpyflag, 0
TRANGROUP:3751		       mov     ds:LASTARG, 0FFFFh
TRANGROUP:3757		       xor     ax, ax
TRANGROUP:3759		       mov     cx, 1348	       ; ARG_UNIT.SIZE
TRANGROUP:375C		       mov     di, offset ARG_ARGV ; offset ARG
TRANGROUP:375F		       rep stosb
TRANGROUP:3761		       mov     ds:ARGBUF_PTR, offset ARG_ARGBUF	; ARG+ARG_UNIT.argbuf
TRANGROUP:3767		       mov     ds:ARG_ARGSWINFO, 0 ; [ARG+ARG_UNIT.argswinfo]
TRANGROUP:376D		       mov     ds:ARG_ARGVCNT, 0 ; [ARG+ARG_UNIT.argvcnt]
TRANGROUP:3773		       mov     si, (offset COMBUF+2)
TRANGROUP:3776		       push    ds
TRANGROUP:3777		       mov     ds, ds:RESSEG
TRANGROUP:377B		       cmp     ds:ForFlag, 0
TRANGROUP:3780		       pop     ds
TRANGROUP:3781		       jnz     short PCONT
TRANGROUP:3783		       mov     di, offset ARG_ARGFORCOMBUF ; ARG+ARG_UNIT.argforcombuf
TRANGROUP:3786		       xor     ch, ch
TRANGROUP:3788		       mov     cl, ds:COMBUF+1
TRANGROUP:378C		       inc     cl
TRANGROUP:378E		       rep movsb
TRANGROUP:3790		       mov     si, offset ARG_ARGFORCOMBUF
TRANGROUP:3793
TRANGROUP:3793 PCONT:				       ; ...
TRANGROUP:3793		       mov     di, offset TPBUF
TRANGROUP:3796		       mov     bl, 20h ; ' '
TRANGROUP:3798
TRANGROUP:3798 PARSELOOP:			       ; ...
TRANGROUP:3798		       mov     ds:COMPTR, si
TRANGROUP:379C		       xor     bp, bp
TRANGROUP:379E		       mov     ds:expand_star, 0
TRANGROUP:37A3		       call    scanoff
TRANGROUP:37A6		       call    cparse
TRANGROUP:37A9		       jnb     short MORE_PRSE
TRANGROUP:37AB		       or      bp, bp
TRANGROUP:37AD		       jz      short PARSEDONE
TRANGROUP:37AF		       call    newarg
TRANGROUP:37B2		       jmp     short PARSEDONE
TRANGROUP:37B4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:37B4
TRANGROUP:37B4 MORE_PRSE:			       ; ...
TRANGROUP:37B4		       mov     ds:cpyflag, 2
TRANGROUP:37B9		       call    newarg
TRANGROUP:37BC		       jnb     short PARSELOOP
TRANGROUP:37BE		       jmp     short PARSE_ERROR
TRANGROUP:37C0 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:37C0
TRANGROUP:37C0 PARSEDONE:			       ; ...
TRANGROUP:37C0		       popf
TRANGROUP:37C1		       clc
TRANGROUP:37C2		       jmp     short PARSE_EXIT
TRANGROUP:37C4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:37C4
TRANGROUP:37C4 PARSE_ERROR:			       ; ...
TRANGROUP:37C4		       popf
TRANGROUP:37C5		       stc
TRANGROUP:37C6
TRANGROUP:37C6 PARSE_EXIT:			       ; ...
TRANGROUP:37C6		       pop     si
TRANGROUP:37C7		       pop     di
TRANGROUP:37C8		       pop     dx
TRANGROUP:37C9		       pop     cx
TRANGROUP:37CA		       pop     bx
TRANGROUP:37CB		       pop     ax
TRANGROUP:37CC		       retn
TRANGROUP:37CC PARSELINE       endp
TRANGROUP:37CC
TRANGROUP:37CD
TRANGROUP:37CD ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:37CD
TRANGROUP:37CD
TRANGROUP:37CD newarg	       proc near	       ; ...
TRANGROUP:37CD		       push    bx
TRANGROUP:37CE		       push    cx
TRANGROUP:37CF		       push    dx
TRANGROUP:37D0		       push    di
TRANGROUP:37D1		       push    si
TRANGROUP:37D2		       pushf
TRANGROUP:37D3		       call    arg_switch
TRANGROUP:37D6		       cmp     ds:ARG_ARGVCNT, 64 ; cmp	[ARG+ARG_UNIT.argvcnt],ARGMAX
TRANGROUP:37DB		       jge     short to_many_args
TRANGROUP:37DD		       mov     dh, bh
TRANGROUP:37DF		       mov     bx, ds:ARG_ARGVCNT ; [ARG+ARG_UNIT.argvcnt]
TRANGROUP:37E3		       inc     ds:ARG_ARGVCNT
TRANGROUP:37E7		       mov     ax, offset ARG_ARGV ; ARG+ARG_UNIT.argv
TRANGROUP:37EA		       call    argv_calc
TRANGROUP:37ED		       mov     word ptr	[bx+7],	0 ; [bx+ARGV_ELE.argsw_word]
TRANGROUP:37F2		       mov     [bx+5], cx      ; [bx+ARGV_ELE.arglen]
TRANGROUP:37F5		       mov     [bx+2], dh      ; [bx+ARGV_ELE.argflags]
TRANGROUP:37F8		       mov     si, ds:ARGBUF_PTR
TRANGROUP:37FC		       mov     [bx], si	       ; [bx+ARGV_ELE.argpointer]
TRANGROUP:37FE		       add     si, ds:STARTEL
TRANGROUP:3802		       sub     si, di
TRANGROUP:3804		       mov     [bx+3], si      ; [bx+ARGV_ELE.argstartel]
TRANGROUP:3807		       mov     si, ds:COMPTR
TRANGROUP:380B		       mov     [bx+9], si      ; [bx+ARGV_ELE.arg_ocomptr]
TRANGROUP:380E		       mov     si, di
TRANGROUP:3810		       mov     di, ds:ARGBUF_PTR
TRANGROUP:3814		       add     di, cx
TRANGROUP:3816		       cmp     di, (offset ARG_ARGBUF+0FFh) ; ARG+ARG_UNIT.argbuf+ARGBLEN-1
TRANGROUP:381A		       jge     short buf_oflow
TRANGROUP:381C		       sub     di, cx
TRANGROUP:381E		       cld
TRANGROUP:381F		       rep movsb
TRANGROUP:3821		       mov     al, 0	       ; ANULL
TRANGROUP:3823		       stosb
TRANGROUP:3824		       mov     ds:ARGBUF_PTR, di
TRANGROUP:3828		       popf
TRANGROUP:3829		       clc
TRANGROUP:382A		       jmp     short newarg_exit
TRANGROUP:382C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:382C
TRANGROUP:382C to_many_args:			       ; ...
TRANGROUP:382C		       mov     ax, 1
TRANGROUP:382F		       jmp     short newarg_error
TRANGROUP:3831 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3831
TRANGROUP:3831 buf_oflow:			       ; ...
TRANGROUP:3831		       mov     ax, 2
TRANGROUP:3834
TRANGROUP:3834 newarg_error:			       ; ...
TRANGROUP:3834		       popf
TRANGROUP:3835		       stc
TRANGROUP:3836
TRANGROUP:3836 newarg_exit:			       ; ...
TRANGROUP:3836		       pop     si
TRANGROUP:3837		       pop     di
TRANGROUP:3838		       pop     dx
TRANGROUP:3839		       pop     cx
TRANGROUP:383A		       pop     bx
TRANGROUP:383B		       retn
TRANGROUP:383B newarg	       endp
TRANGROUP:383B
TRANGROUP:383C
TRANGROUP:383C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:383C
TRANGROUP:383C
TRANGROUP:383C arg_switch      proc near	       ; ...
TRANGROUP:383C		       push    ax
TRANGROUP:383D		       push    bx
TRANGROUP:383E		       push    cx
TRANGROUP:383F		       push    di
TRANGROUP:3840		       pushf
TRANGROUP:3841		       test    bh, 1
TRANGROUP:3844		       jz      short arg_no_switch0
TRANGROUP:3846		       cmp     ds:LASTARG, 0FFFFh ; -1
TRANGROUP:384B		       jz      short arg_no_switch1
TRANGROUP:384D		       mov     bx, ds:LASTARG
TRANGROUP:3851		       mov     ax, offset ARG_ARGV ; ARG+ARG_UNIT.argv ; ARG+0
TRANGROUP:3854		       call    argv_calc
TRANGROUP:3857		       or      [bx+7], bp      ; [bx+ARGV_ELE.argsw_word]
TRANGROUP:385A		       or      ds:ARG_ARGSWINFO, bp ; [ARG+ARG_UNIT.argswinfo]
TRANGROUP:385E		       popf
TRANGROUP:385F		       stc
TRANGROUP:3860		       jmp     short arg_switch_exit
TRANGROUP:3862 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3862
TRANGROUP:3862 arg_no_switch0:			       ; ...
TRANGROUP:3862		       mov     ax, ds:ARG_ARGVCNT ; [ARG+ARG_UNIT.argvcnt]
TRANGROUP:3865		       mov     ds:LASTARG, ax
TRANGROUP:3868
TRANGROUP:3868 arg_no_switch1:			       ; ...
TRANGROUP:3868		       popf
TRANGROUP:3869		       clc
TRANGROUP:386A
TRANGROUP:386A arg_switch_exit:			       ; ...
TRANGROUP:386A		       pop     di
TRANGROUP:386B		       pop     cx
TRANGROUP:386C		       pop     bx
TRANGROUP:386D		       pop     ax
TRANGROUP:386E		       retn
TRANGROUP:386E arg_switch      endp
TRANGROUP:386E
TRANGROUP:386F
TRANGROUP:386F ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:386F
TRANGROUP:386F
TRANGROUP:386F argv_calc       proc near	       ; ...
TRANGROUP:386F		       push    ax
TRANGROUP:3870		       mov     al, bl
TRANGROUP:3872		       mov     bl, 11	       ; ARGV_ELE.SIZE
TRANGROUP:3874		       mul     bl
TRANGROUP:3876		       pop     bx
TRANGROUP:3877		       add     ax, bx
TRANGROUP:3879		       xchg    ax, bx
TRANGROUP:387A		       retn
TRANGROUP:387A argv_calc       endp
TRANGROUP:387A
TRANGROUP:387B
TRANGROUP:387B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:387B
TRANGROUP:387B
TRANGROUP:387B path_search     proc near	       ; ...
TRANGROUP:387B		       push    bx
TRANGROUP:387C		       push    cx
TRANGROUP:387D		       push    dx
TRANGROUP:387E		       push    si
TRANGROUP:387F		       push    di
TRANGROUP:3880		       push    bp
TRANGROUP:3881		       pushf
TRANGROUP:3882		       test    ds:ARGV0_ARG_FLAGS, 3 ; [ARG+ARGV_ELE.argflags],wildcard+sw_flag
TRANGROUP:3887		       jz      short path_search_ok
TRANGROUP:3889
TRANGROUP:3889 path_failure_jmp:		       ; ...
TRANGROUP:3889		       jmp     path_failure
TRANGROUP:388C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:388C
TRANGROUP:388C path_search_ok:			       ; ...
TRANGROUP:388C		       call    STORE_PCHAR
TRANGROUP:388F		       mov     dx, offset FBUF
TRANGROUP:3892		       mov     ax, 1A00h
TRANGROUP:3895		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:3895					       ; DS:DX -> disk transfer	buffer
TRANGROUP:3897		       push    es
TRANGROUP:3898		       call    find_path
TRANGROUP:389B		       mov     ds:pathinfo, es ; [pathinfo+0]
TRANGROUP:389F		       mov     ds:pathinfo+2, di
TRANGROUP:38A3		       mov     ds:pathinfo+4, di
TRANGROUP:38A7		       pop     es
TRANGROUP:38A8		       mov     bx, 128	       ; PBUFLEN
TRANGROUP:38AB		       mov     si, offset EXECPATH
TRANGROUP:38AE		       call    STRIP
TRANGROUP:38B1		       jb      short path_failure_jmp
TRANGROUP:38B3		       mov     dx, si
TRANGROUP:38B5		       mov     ds:search_error,	offset baddrv_ptr
TRANGROUP:38BB		       call    PSEARCH
TRANGROUP:38BE		       or      ax, ax
TRANGROUP:38C0		       jz      short path_noinit
TRANGROUP:38C2		       mov     bp, ax
TRANGROUP:38C4		       mov     di, offset EXECPATH
TRANGROUP:38C7		       mov     si, ds:ARG_ARGV ; [ARG+ARGV_ELE.argpointer]
TRANGROUP:38CB		       mov     cx, ds:ARGV0_ARGSTARTEL ; [ARG+ARGV_ELE.argstartel]
TRANGROUP:38CF		       sub     cx, si
TRANGROUP:38D1		       mov     ah, ':'
TRANGROUP:38D3		       cmp     cx, 2
TRANGROUP:38D6		       jb      short adddrive
TRANGROUP:38D8		       cmp     [si+1], ah
TRANGROUP:38DB		       jz      short movedrive
TRANGROUP:38DD
TRANGROUP:38DD adddrive:			       ; ...
TRANGROUP:38DD		       mov     al, ds:CURDRV
TRANGROUP:38E0		       add     al, 'A'
TRANGROUP:38E2		       stosw
TRANGROUP:38E3		       jmp     short checkpath
TRANGROUP:38E5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:38E5
TRANGROUP:38E5 movedrive:			       ; ...
TRANGROUP:38E5		       lodsw
TRANGROUP:38E6		       stosw
TRANGROUP:38E7		       sub     cx, 2
TRANGROUP:38EA
TRANGROUP:38EA checkpath:			       ; ...
TRANGROUP:38EA		       or      al, 20h
TRANGROUP:38EC		       mov     dl, al
TRANGROUP:38EE		       sub     dl, 60h	       ; 'a'-1
TRANGROUP:38F1		       mov     al, ds:psep_char
TRANGROUP:38F4		       stosb
TRANGROUP:38F5		       cmp     cx, 1
TRANGROUP:38F8		       jb      short addpath
TRANGROUP:38FA		       lodsb
TRANGROUP:38FB		       dec     cx
TRANGROUP:38FC		       cmp     al, ds:psep_char
TRANGROUP:3900		       jz      short movepath
TRANGROUP:3902		       inc     cx
TRANGROUP:3903		       dec     si
TRANGROUP:3904
TRANGROUP:3904 addpath:				       ; ...
TRANGROUP:3904		       push    si
TRANGROUP:3905		       mov     si, di
TRANGROUP:3907		       mov     ax, 4700h
TRANGROUP:390A		       int     21h	       ; DOS - 2+ - GET	CURRENT	DIRECTORY
TRANGROUP:390A					       ; DL = drive (0=default,	1=A, etc.)
TRANGROUP:390A					       ; DS:SI points to 64-byte buffer	area
TRANGROUP:390C		       mov     di, si
TRANGROUP:390E		       pop     si
TRANGROUP:390F		       mov     al, ds:psep_char
TRANGROUP:3912		       cmp     byte ptr	[di], 0
TRANGROUP:3915		       jz      short movepath
TRANGROUP:3917
TRANGROUP:3917 scanend:				       ; ...
TRANGROUP:3917		       cmp     byte ptr	[di], 0
TRANGROUP:391A		       jz      short foundend
TRANGROUP:391C		       inc     di
TRANGROUP:391D		       jmp     short scanend
TRANGROUP:391F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:391F
TRANGROUP:391F foundend:			       ; ...
TRANGROUP:391F		       stosb
TRANGROUP:3920
TRANGROUP:3920 movepath:			       ; ...
TRANGROUP:3920		       cmp     [si], al
TRANGROUP:3922		       jnz     short copypath
TRANGROUP:3924		       inc     si
TRANGROUP:3925		       dec     cx
TRANGROUP:3926
TRANGROUP:3926 copypath:			       ; ...
TRANGROUP:3926		       jcxz    short _copydone
TRANGROUP:3928		       rep movsb
TRANGROUP:392A
TRANGROUP:392A _copydone:			       ; ...
TRANGROUP:392A		       jmp     path_success
TRANGROUP:392D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:392D
TRANGROUP:392D path_noinit:			       ; ...
TRANGROUP:392D		       test    ds:ARGV0_ARG_FLAGS, 4 ; [ARG+ARGV_ELE.argflags],path_sep
TRANGROUP:3932		       jnz     short path_failure
TRANGROUP:3934		       mov     bh, ';'
TRANGROUP:3936		       mov     dx, ds:ARGV0_ARGSTARTEL ; [ARG+ARGV_ELE.argstartel]
TRANGROUP:393A		       sub     dx, ds:ARG_ARGV ; [ARG+ARGV_ELE.argpointer]
TRANGROUP:393E		       add     dx, offset EXECPATH
TRANGROUP:3942
TRANGROUP:3942 path_loop:			       ; ...
TRANGROUP:3942		       call    path_crunch
TRANGROUP:3945		       mov     bp, ax
TRANGROUP:3947		       lahf
TRANGROUP:3948		       or      bp, bp
TRANGROUP:394A		       jnz     short path_found
TRANGROUP:394C		       sahf
TRANGROUP:394D		       jnb     short path_loop
TRANGROUP:394F
TRANGROUP:394F path_failure:			       ; ...
TRANGROUP:394F		       xor     ax, ax
TRANGROUP:3951		       jmp     path_exit
TRANGROUP:3954 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3954
TRANGROUP:3954 path_found:			       ; ...
TRANGROUP:3954		       mov     di, offset EXECPATH
TRANGROUP:3957		       mov     cx, ds:pathinfo+4
TRANGROUP:395B		       mov     si, ds:pathinfo+2
TRANGROUP:395F		       push    es
TRANGROUP:3960		       push    ds:pathinfo     ; [pathinfo+0]
TRANGROUP:3964		       pop     es
TRANGROUP:3965		       cmp     byte ptr	es:[si+2], 2Eh ; '.'
TRANGROUP:396A		       jnz     short path_cpy
TRANGROUP:396C		       cmp     byte ptr	es:[si+1], 3Ah ; ':'
TRANGROUP:3971		       jnz     short path_cpy
TRANGROUP:3973		       push    cx
TRANGROUP:3974		       mov     al, es:[si]
TRANGROUP:3977		       mov     [di], al
TRANGROUP:3979		       mov     al, es:[si+1]
TRANGROUP:397D		       mov     [di+1], al
TRANGROUP:3980		       mov     al, ds:psep_char
TRANGROUP:3983		       mov     [di+2], al
TRANGROUP:3986		       push    si
TRANGROUP:3987		       mov     dl, es:[si]
TRANGROUP:398A		       or      dl, 20h
TRANGROUP:398D		       sub     dl, 60h	       ; 'a'-1
TRANGROUP:3990		       mov     si, di
TRANGROUP:3992		       add     si, 3
TRANGROUP:3995		       mov     ax, 4700h
TRANGROUP:3998		       int     21h	       ; DOS - 2+ - GET	CURRENT	DIRECTORY
TRANGROUP:3998					       ; DL = drive (0=default,	1=A, etc.)
TRANGROUP:3998					       ; DS:SI points to 64-byte buffer	area
TRANGROUP:399A		       call    dstrlen
TRANGROUP:399D		       add     si, cx
TRANGROUP:399F		       dec     si
TRANGROUP:39A0		       mov     di, si
TRANGROUP:39A2		       pop     si
TRANGROUP:39A3		       add     si, 3
TRANGROUP:39A6		       pop     cx
TRANGROUP:39A7
TRANGROUP:39A7 path_cpy:			       ; ...
TRANGROUP:39A7		       pop     es
TRANGROUP:39A8		       sub     cx, si
TRANGROUP:39AA		       push    ds
TRANGROUP:39AB		       push    ds:pathinfo     ; [pathinfo+0]
TRANGROUP:39AF		       pop     ds
TRANGROUP:39B0		       cld
TRANGROUP:39B1
TRANGROUP:39B1 kloop:				       ; ...
TRANGROUP:39B1		       lodsb
TRANGROUP:39B2		       stosb
TRANGROUP:39B3		       call    testkanj
TRANGROUP:39B6		       jz      short notkanj1
TRANGROUP:39B8		       dec     cx
TRANGROUP:39B9		       jcxz    short popdone
TRANGROUP:39BB		       movsb
TRANGROUP:39BC		       dec     cx
TRANGROUP:39BD		       cmp     cx, 1
TRANGROUP:39C0		       ja      short kloop
TRANGROUP:39C2
TRANGROUP:39C2 popdone:				       ; ...
TRANGROUP:39C2		       pop     ds
TRANGROUP:39C3		       mov     al, ds:psep_char
TRANGROUP:39C6		       jmp     short path_store
TRANGROUP:39C8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:39C8
TRANGROUP:39C8 notkanj1:			       ; ...
TRANGROUP:39C8		       loop    kloop
TRANGROUP:39CA		       pop     ds
TRANGROUP:39CB		       dec     di
TRANGROUP:39CC		       mov     al, ds:psep_char
TRANGROUP:39CF		       cmp     al, [di-1]
TRANGROUP:39D2		       jz      short path_success
TRANGROUP:39D4
TRANGROUP:39D4 path_store:			       ; ...
TRANGROUP:39D4		       stosb
TRANGROUP:39D5
TRANGROUP:39D5 path_success:			       ; ...
TRANGROUP:39D5		       mov     si, offset search_best_buf
TRANGROUP:39D8		       xor     cx, cx
TRANGROUP:39DA
TRANGROUP:39DA path_succ_loop:			       ; ...
TRANGROUP:39DA		       lodsb
TRANGROUP:39DB		       stosb
TRANGROUP:39DC		       or      al, al
TRANGROUP:39DE		       jnz     short path_succ_loop
TRANGROUP:39E0		       mov     ax, bp
TRANGROUP:39E2
TRANGROUP:39E2 path_exit:			       ; ...
TRANGROUP:39E2		       popf
TRANGROUP:39E3		       pop     bp
TRANGROUP:39E4		       pop     di
TRANGROUP:39E5		       pop     si
TRANGROUP:39E6		       pop     dx
TRANGROUP:39E7		       pop     cx
TRANGROUP:39E8		       pop     bx
TRANGROUP:39E9		       retn
TRANGROUP:39E9 path_search     endp
TRANGROUP:39E9
TRANGROUP:39EA
TRANGROUP:39EA ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:39EA
TRANGROUP:39EA
TRANGROUP:39EA STORE_PCHAR     proc near	       ; ...
TRANGROUP:39EA		       push    ax
TRANGROUP:39EB		       mov     al, 2Fh ; '/'
TRANGROUP:39ED		       call    pathchrcmp
TRANGROUP:39F0		       jz      short STORE_SLASH
TRANGROUP:39F2		       mov     al, 5Ch ; '\'
TRANGROUP:39F4		       mov     ds:psep_char, al
TRANGROUP:39F7		       pop     ax
TRANGROUP:39F8		       retn
TRANGROUP:39F9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:39F9
TRANGROUP:39F9 STORE_SLASH:			       ; ...
TRANGROUP:39F9		       mov     ds:psep_char, al
TRANGROUP:39FC		       pop     ax
TRANGROUP:39FD		       retn
TRANGROUP:39FD STORE_PCHAR     endp
TRANGROUP:39FD
TRANGROUP:39FE
TRANGROUP:39FE ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:39FE
TRANGROUP:39FE
TRANGROUP:39FE path_crunch     proc near	       ; ...
TRANGROUP:39FE		       push    bx
TRANGROUP:39FF		       push    cx
TRANGROUP:3A00		       push    dx
TRANGROUP:3A01		       push    di
TRANGROUP:3A02		       push    si
TRANGROUP:3A03		       pushf
TRANGROUP:3A04		       call    STORE_PCHAR
TRANGROUP:3A07		       mov     di, offset TPBUF
TRANGROUP:3A0A		       mov     si, ds:pathinfo+4
TRANGROUP:3A0E		       mov     ds:pathinfo+2, si
TRANGROUP:3A12		       push    ds
TRANGROUP:3A13		       push    ds:pathinfo     ; [pathinfo+0]
TRANGROUP:3A17		       pop     ds
TRANGROUP:3A18		       xor     cl, cl
TRANGROUP:3A1A
TRANGROUP:3A1A path_cr_copy:			       ; ...
TRANGROUP:3A1A		       lodsb
TRANGROUP:3A1B		       or      al, al
TRANGROUP:3A1D		       jz      short path_seg
TRANGROUP:3A1F		       cmp     al, bh
TRANGROUP:3A21		       jz      short path_seg
TRANGROUP:3A23		       call    testkanj
TRANGROUP:3A26		       jz      short _notkanj2
TRANGROUP:3A28		       stosb
TRANGROUP:3A29		       movsb
TRANGROUP:3A2A		       mov     cl, 1
TRANGROUP:3A2C		       jmp     short path_cr_copy
TRANGROUP:3A2E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3A2E
TRANGROUP:3A2E _notkanj2:			       ; ...
TRANGROUP:3A2E		       xor     cl, cl
TRANGROUP:3A30		       stosb
TRANGROUP:3A31		       jmp     short path_cr_copy
TRANGROUP:3A33 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3A33
TRANGROUP:3A33 path_seg:			       ; ...
TRANGROUP:3A33		       pop     ds
TRANGROUP:3A34		       mov     ds:pathinfo+4, si
TRANGROUP:3A38		       mov     bl, al
TRANGROUP:3A3A		       xor     ax, ax
TRANGROUP:3A3C		       cmp     di, offset TPBUF
TRANGROUP:3A40		       jz      short path_cr_leave
TRANGROUP:3A42
TRANGROUP:3A42 path_cr_look:
TRANGROUP:3A42		       mov     al, ds:psep_char
TRANGROUP:3A45		       or      cl, cl
TRANGROUP:3A47		       jnz     short path_cr_store
TRANGROUP:3A49		       cmp     al, [di-1]
TRANGROUP:3A4C		       jz      short path_cr_l1
TRANGROUP:3A4E
TRANGROUP:3A4E path_cr_store:			       ; ...
TRANGROUP:3A4E		       stosb
TRANGROUP:3A4F
TRANGROUP:3A4F path_cr_l1:			       ; ...
TRANGROUP:3A4F		       mov     si, dx
TRANGROUP:3A51
TRANGROUP:3A51 path_cr_l2:			       ; ...
TRANGROUP:3A51		       lodsb
TRANGROUP:3A52		       stosb
TRANGROUP:3A53		       or      al, al
TRANGROUP:3A55		       jnz     short path_cr_l2
TRANGROUP:3A57		       mov     dx, offset TPBUF
TRANGROUP:3A5A		       mov     ds:search_error,	offset BADPMES_PTR
TRANGROUP:3A60		       call    PSEARCH
TRANGROUP:3A63
TRANGROUP:3A63 path_cr_leave:			       ; ...
TRANGROUP:3A63		       or      bl, bl
TRANGROUP:3A65		       jz      short path_cr_empty
TRANGROUP:3A67		       popf
TRANGROUP:3A68		       clc
TRANGROUP:3A69		       jmp     short path_cr_exit
TRANGROUP:3A6B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3A6B
TRANGROUP:3A6B path_cr_empty:			       ; ...
TRANGROUP:3A6B		       popf
TRANGROUP:3A6C		       stc
TRANGROUP:3A6D
TRANGROUP:3A6D path_cr_exit:			       ; ...
TRANGROUP:3A6D		       pop     si
TRANGROUP:3A6E		       pop     di
TRANGROUP:3A6F		       pop     dx
TRANGROUP:3A70		       pop     cx
TRANGROUP:3A71		       pop     bx
TRANGROUP:3A72		       retn
TRANGROUP:3A72 path_crunch     endp
TRANGROUP:3A72
TRANGROUP:3A73
TRANGROUP:3A73 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3A73
TRANGROUP:3A73
TRANGROUP:3A73 PSEARCH	       proc near	       ; ...
TRANGROUP:3A73		       push    cx
TRANGROUP:3A74		       push    dx
TRANGROUP:3A75		       push    di
TRANGROUP:3A76		       push    si
TRANGROUP:3A77		       pushf
TRANGROUP:3A78		       push    dx
TRANGROUP:3A79		       mov     di, dx
TRANGROUP:3A7B		       mov     si, offset search_curdir_buf
TRANGROUP:3A7E		       xor     dx, dx
TRANGROUP:3A80		       cmp     byte ptr	[di+1],	3Ah ; ':'
TRANGROUP:3A84		       jnz     short SEARCH_DIR_CHECK
TRANGROUP:3A86		       mov     dl, [di]
TRANGROUP:3A88		       and     dl, 0DFh	       ; ~20h  ; uppercase
TRANGROUP:3A8B		       sub     dl, 40h ; '@'   ; convert to drive number
TRANGROUP:3A8E
TRANGROUP:3A8E SEARCH_DIR_CHECK:		       ; ...
TRANGROUP:3A8E		       mov     ax, 4700h
TRANGROUP:3A91		       int     21h	       ; DOS - 2+ - GET	CURRENT	DIRECTORY
TRANGROUP:3A91					       ; DL = drive (0=default,	1=A, etc.)
TRANGROUP:3A91					       ; DS:SI points to 64-byte buffer	area
TRANGROUP:3A93		       pop     dx
TRANGROUP:3A94		       jb      short SEARCH_INVALID_DRIVE
TRANGROUP:3A96		       mov     cx, 13h	       ; search_attr
TRANGROUP:3A99		       mov     ax, 4E00h
TRANGROUP:3A9C		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:3A9C					       ; CX = search attributes
TRANGROUP:3A9C					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:3A9C					       ; (drive, path, and wildcards allowed)
TRANGROUP:3A9E		       jb      short SEARCH_NO_FILE
TRANGROUP:3AA0		       mov     ds:search_best, 0 ; SEARCH_FILE_NOT_FOUND ; 0
TRANGROUP:3AA5		       mov     ds:search_best_buf, 0 ; ANULL ; 0
TRANGROUP:3AAA
TRANGROUP:3AAA SEARCH_LOOP:			       ; ...
TRANGROUP:3AAA		       call    SEARCH_FTYPE
TRANGROUP:3AAD		       cmp     al, ds:search_best
TRANGROUP:3AB1		       jle     short SEARCH_NEXT
TRANGROUP:3AB3		       mov     ds:search_best, al
TRANGROUP:3AB6		       mov     si, (offset FBUF+1Eh) ; FBUF+FIND_BUF.PNAME
TRANGROUP:3AB9		       mov     di, offset search_best_buf
TRANGROUP:3ABC		       mov     cx, 13	       ; FNAME_MAX_LEN
TRANGROUP:3ABF		       cld
TRANGROUP:3AC0		       rep movsb
TRANGROUP:3AC2		       cmp     al, 8	       ; SEARCH_COM
TRANGROUP:3AC4		       jz      short SEARCH_DONE
TRANGROUP:3AC6
TRANGROUP:3AC6 SEARCH_NEXT:			       ; ...
TRANGROUP:3AC6		       mov     cx, 13h	       ; SEARCH_ATTR
TRANGROUP:3AC9		       mov     ax, 4F00h
TRANGROUP:3ACC		       int     21h	       ; DOS - 2+ - FIND NEXT ASCIZ (FINDNEXT)
TRANGROUP:3ACC					       ; [DTA] = data block from
TRANGROUP:3ACC					       ; last AH = 4Eh/4Fh call
TRANGROUP:3ACE		       jnb     short SEARCH_LOOP
TRANGROUP:3AD0
TRANGROUP:3AD0 SEARCH_DONE:			       ; ...
TRANGROUP:3AD0		       mov     al, ds:search_best
TRANGROUP:3AD3		       cmp     ds:ext_entered, 1
TRANGROUP:3AD8		       jz      short SEARCH_EXIT
TRANGROUP:3ADA		       mov     al, ds:ext_entered
TRANGROUP:3ADD		       mov     ds:search_best, al
TRANGROUP:3AE0		       jmp     short SEARCH_EXIT
TRANGROUP:3AE2 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3AE2
TRANGROUP:3AE2 SEARCH_INVALID_DRIVE:		       ; ...
TRANGROUP:3AE2		       mov     dx, ds:search_error
TRANGROUP:3AE6		       call    std_printf
TRANGROUP:3AE9
TRANGROUP:3AE9 SEARCH_NO_FILE:			       ; ...
TRANGROUP:3AE9		       mov     ax, 0
TRANGROUP:3AEC
TRANGROUP:3AEC SEARCH_EXIT:			       ; ...
TRANGROUP:3AEC		       popf
TRANGROUP:3AED		       pop     si
TRANGROUP:3AEE		       pop     di
TRANGROUP:3AEF		       pop     dx
TRANGROUP:3AF0		       pop     cx
TRANGROUP:3AF1		       retn
TRANGROUP:3AF1 PSEARCH	       endp
TRANGROUP:3AF1
TRANGROUP:3AF2
TRANGROUP:3AF2 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3AF2
TRANGROUP:3AF2
TRANGROUP:3AF2 SEARCH_FTYPE    proc near	       ; ...
TRANGROUP:3AF2		       push    di
TRANGROUP:3AF3		       push    si
TRANGROUP:3AF4		       mov     ax, 0
TRANGROUP:3AF7		       mov     di, (offset FBUF+1Eh) ; FBUF+FIND_BUF.PNAME
TRANGROUP:3AFA		       mov     cx, 13	       ; FNAME_MAX_LEN
TRANGROUP:3AFD		       cld
TRANGROUP:3AFE		       repne scasb
TRANGROUP:3B00		       jnz     short FTYPE_EXIT
TRANGROUP:3B02		       sub     di, 5
TRANGROUP:3B05		       mov     si, offset comext ; ".COM"
TRANGROUP:3B08		       mov     ax, di
TRANGROUP:3B0A		       cmpsw
TRANGROUP:3B0B		       jnz     short FTYPE_EXE
TRANGROUP:3B0D		       cmpsw
TRANGROUP:3B0E		       jnz     short FTYPE_EXE
TRANGROUP:3B10		       mov     ax, 8	       ; SEARCH_COM
TRANGROUP:3B13		       jmp     short FTYPE_EXIT
TRANGROUP:3B15 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3B15
TRANGROUP:3B15 FTYPE_EXE:			       ; ...
TRANGROUP:3B15		       mov     di, ax
TRANGROUP:3B17		       mov     si, offset exeext ; ".EXE"
TRANGROUP:3B1A		       cmpsw
TRANGROUP:3B1B		       jnz     short FTYPE_BAT
TRANGROUP:3B1D		       cmpsw
TRANGROUP:3B1E		       jnz     short FTYPE_BAT
TRANGROUP:3B20		       mov     ax, 4	       ; SEARCH_EXE
TRANGROUP:3B23		       jmp     short FTYPE_EXIT
TRANGROUP:3B25 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3B25
TRANGROUP:3B25 FTYPE_BAT:			       ; ...
TRANGROUP:3B25		       mov     di, ax
TRANGROUP:3B27		       mov     si, offset batext ; ".BAT"
TRANGROUP:3B2A		       cmpsw
TRANGROUP:3B2B		       jnz     short FTYPE_FAIL
TRANGROUP:3B2D		       cmpsw
TRANGROUP:3B2E		       jnz     short FTYPE_FAIL
TRANGROUP:3B30		       mov     ax, 2	       ; SEARCH_BAT
TRANGROUP:3B33		       jmp     short FTYPE_EXIT
TRANGROUP:3B35 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3B35
TRANGROUP:3B35 FTYPE_FAIL:			       ; ...
TRANGROUP:3B35		       mov     ax, 0
TRANGROUP:3B38
TRANGROUP:3B38 FTYPE_EXIT:			       ; ...
TRANGROUP:3B38		       cmp     ds:ext_entered, 1
TRANGROUP:3B3D		       jz      short FTYPE_DONE
TRANGROUP:3B3F		       cmp     ax, 0	       ; ANULL
TRANGROUP:3B42		       jz      short FTYPE_DONE
TRANGROUP:3B44		       mov     ds:ext_entered, al
TRANGROUP:3B47		       mov     ax, 8	       ; SEARCH_COM
TRANGROUP:3B4A
TRANGROUP:3B4A FTYPE_DONE:			       ; ...
TRANGROUP:3B4A		       pop     si
TRANGROUP:3B4B		       pop     di
TRANGROUP:3B4C		       retn
TRANGROUP:3B4C SEARCH_FTYPE    endp
TRANGROUP:3B4C
TRANGROUP:3B4D
TRANGROUP:3B4D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3B4D
TRANGROUP:3B4D
TRANGROUP:3B4D STRIP	       proc near	       ; ...
TRANGROUP:3B4D		       push    ax
TRANGROUP:3B4E		       push    bx
TRANGROUP:3B4F		       push    cx
TRANGROUP:3B50		       push    dx
TRANGROUP:3B51		       push    di
TRANGROUP:3B52		       push    si
TRANGROUP:3B53		       pushf
TRANGROUP:3B54		       mov     ds:ext_entered, 1
TRANGROUP:3B59		       mov     dx, ds:ARG_ARGV ; [ARG+ARGV_ELE.argpointer]
TRANGROUP:3B5D		       mov     di, ds:ARGV0_ARGSTARTEL ; [ARG+ARGV_ELE.argstartel]
TRANGROUP:3B61		       cmp     byte ptr	[di], 0
TRANGROUP:3B64		       jz      short STRIP_ERROR
TRANGROUP:3B66		       mov     cx, dx
TRANGROUP:3B68		       add     cx, ds:ARGV0_ARGLEN ; [ARG+ARGV_ELE.arglen]
TRANGROUP:3B6C		       sub     cx, di
TRANGROUP:3B6E		       inc     cx
TRANGROUP:3B6F		       mov     al, 2Eh ; '.'
TRANGROUP:3B71		       cld
TRANGROUP:3B72		       repne scasb
TRANGROUP:3B74		       jcxz    short PROCESS_EXT
TRANGROUP:3B76		       mov     ds:ext_entered, 0
TRANGROUP:3B7B		       mov     al, 0
TRANGROUP:3B7D		       repne scasb
TRANGROUP:3B7F
TRANGROUP:3B7F PROCESS_EXT:			       ; ...
TRANGROUP:3B7F		       mov     cx, di
TRANGROUP:3B81		       sub     cx, dx
TRANGROUP:3B83		       sub     bx, 4
TRANGROUP:3B86		       cmp     cx, bx
TRANGROUP:3B88		       jg      short STRIP_ERROR
TRANGROUP:3B8A		       mov     di, si
TRANGROUP:3B8C		       mov     si, dx
TRANGROUP:3B8E		       cld
TRANGROUP:3B8F		       rep movsb
TRANGROUP:3B91		       cmp     ds:ext_entered, 1
TRANGROUP:3B96		       jnz     short SKIP_WILDS
TRANGROUP:3B98		       dec     di
TRANGROUP:3B99		       stosb
TRANGROUP:3B9A		       mov     al, 3Fh ; '?'
TRANGROUP:3B9C		       stosb
TRANGROUP:3B9D		       stosb
TRANGROUP:3B9E		       stosb
TRANGROUP:3B9F		       mov     al, 0
TRANGROUP:3BA1		       stosb
TRANGROUP:3BA2
TRANGROUP:3BA2 SKIP_WILDS:			       ; ...
TRANGROUP:3BA2		       popf
TRANGROUP:3BA3		       clc
TRANGROUP:3BA4		       jmp     short STRIP_EXIT
TRANGROUP:3BA6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3BA6
TRANGROUP:3BA6 STRIP_ERROR:			       ; ...
TRANGROUP:3BA6		       popf
TRANGROUP:3BA7		       stc
TRANGROUP:3BA8
TRANGROUP:3BA8 STRIP_EXIT:			       ; ...
TRANGROUP:3BA8		       pop     si
TRANGROUP:3BA9		       pop     di
TRANGROUP:3BAA		       pop     dx
TRANGROUP:3BAB		       pop     cx
TRANGROUP:3BAC		       pop     bx
TRANGROUP:3BAD		       pop     ax
TRANGROUP:3BAE		       retn
TRANGROUP:3BAE STRIP	       endp
TRANGROUP:3BAE
TRANGROUP:3BAF
TRANGROUP:3BAF ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3BAF
TRANGROUP:3BAF
TRANGROUP:3BAF SAVE_ARGS       proc near	       ; ...
TRANGROUP:3BAF		       push    bx
TRANGROUP:3BB0		       push    cx
TRANGROUP:3BB1		       push    dx
TRANGROUP:3BB2		       push    di
TRANGROUP:3BB3		       push    si
TRANGROUP:3BB4		       push    bp
TRANGROUP:3BB5		       pushf
TRANGROUP:3BB6		       add     bx, 1363	       ; ARG_UNIT.SIZE+15
TRANGROUP:3BBA		       mov     cl, 4
TRANGROUP:3BBC		       shr     bx, cl
TRANGROUP:3BBE		       mov     ax, 4800h
TRANGROUP:3BC1		       int     21h	       ; DOS - 2+ - ALLOCATE MEMORY
TRANGROUP:3BC1					       ; BX = number of	16-byte	paragraphs desired
TRANGROUP:3BC3		       jb      short SAVE_ERROR
TRANGROUP:3BC5		       mov     bp, ax
TRANGROUP:3BC7		       push    es
TRANGROUP:3BC8		       mov     es, ax
TRANGROUP:3BCA		       assume es:nothing
TRANGROUP:3BCA		       mov     cx, 1348	       ; ARG_UNIT.SIZE
TRANGROUP:3BCD		       xor     di, di
TRANGROUP:3BCF		       mov     si, offset ARG_ARGV ; offset ARG
TRANGROUP:3BD2		       rep movsb
TRANGROUP:3BD4		       mov     cx, ds:ARG_ARGVCNT ; [ARG+ARG_UNIT.argvcnt]
TRANGROUP:3BD8		       xor     ax, ax
TRANGROUP:3BDA		       mov     si, offset ARG_ARGV ; offset ARG
TRANGROUP:3BDD
TRANGROUP:3BDD SAVE_PTR_LOOP:			       ; ...
TRANGROUP:3BDD		       dec     cx
TRANGROUP:3BDE		       jl      short SAVE_DONE
TRANGROUP:3BE0		       mov     bx, cx
TRANGROUP:3BE2		       call    argv_calc
TRANGROUP:3BE5		       mov     dx, ds:ARG_ARGV[bx] ; [ARG+ARGV_ELE.argpointer+bx]
TRANGROUP:3BE9		       sub     dx, si
TRANGROUP:3BEB		       mov     es:[bx],	dx
TRANGROUP:3BEE		       mov     dx, ds:ARGV0_ARGSTARTEL[bx] ; [ARG+ARGV_ELE.argstartel+bx]
TRANGROUP:3BF2		       sub     dx, si
TRANGROUP:3BF4		       mov     es:[bx+3], dx   ; [es:bx+ARGV_ELE.argstartel]
TRANGROUP:3BF8		       mov     dx, ds:ARGV0_OCOMPTR[bx]	; [ARG+ARGV_ELE.arg_ocomptr+bx]
TRANGROUP:3BFC		       sub     dx, si
TRANGROUP:3BFE		       mov     es:[bx+9], dx   ; [es:bx+ARGV_ELE.arg_ocomptr]
TRANGROUP:3C02		       jmp     short SAVE_PTR_LOOP
TRANGROUP:3C04 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3C04
TRANGROUP:3C04 SAVE_DONE:			       ; ...
TRANGROUP:3C04		       pop     es
TRANGROUP:3C05		       assume es:nothing
TRANGROUP:3C05		       mov     ax, bp
TRANGROUP:3C07		       jmp     short SAVE_OK
TRANGROUP:3C09 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3C09
TRANGROUP:3C09 SAVE_ERROR:			       ; ...
TRANGROUP:3C09		       popf
TRANGROUP:3C0A		       stc
TRANGROUP:3C0B		       jmp     short SAVE_EXIT
TRANGROUP:3C0D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3C0D
TRANGROUP:3C0D SAVE_OK:				       ; ...
TRANGROUP:3C0D		       popf
TRANGROUP:3C0E		       clc
TRANGROUP:3C0F
TRANGROUP:3C0F SAVE_EXIT:			       ; ...
TRANGROUP:3C0F		       pop     bp
TRANGROUP:3C10		       pop     si
TRANGROUP:3C11		       pop     di
TRANGROUP:3C12		       pop     dx
TRANGROUP:3C13		       pop     cx
TRANGROUP:3C14		       pop     bx
TRANGROUP:3C15		       retn
TRANGROUP:3C15 SAVE_ARGS       endp
TRANGROUP:3C15
TRANGROUP:3C16 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3C16 ; START OF FUNCTION CHUNK FOR ERASE
TRANGROUP:3C16
TRANGROUP:3C16 notest2:				       ; ...
TRANGROUP:3C16		       mov     cx, 11
TRANGROUP:3C19		       mov     si, 5Dh	       ; FCB+1
TRANGROUP:3C1C
TRANGROUP:3C1C ambspec:				       ; ...
TRANGROUP:3C1C		       lodsb
TRANGROUP:3C1D		       cmp     al, '?'
TRANGROUP:3C1F		       jnz     short allfil
TRANGROUP:3C21		       loop    ambspec
TRANGROUP:3C23
TRANGROUP:3C23 allfil:				       ; ...
TRANGROUP:3C23		       cmp     cx, 0
TRANGROUP:3C26		       jnz     short noprmpt
TRANGROUP:3C28
TRANGROUP:3C28 askagn:				       ; ...
TRANGROUP:3C28		       mov     dx, offset SureMes_Ptr
TRANGROUP:3C2B		       call    std_printf
TRANGROUP:3C2E		       mov     si, 80h
TRANGROUP:3C31		       mov     dx, si
TRANGROUP:3C33		       mov     word ptr	[si], 120
TRANGROUP:3C37		       mov     ax, 0C0Ah
TRANGROUP:3C3A		       int     21h	       ; DOS - CLEAR KEYBOARD BUFFER
TRANGROUP:3C3A					       ; AL must be 01h, 06h, 07h, 08h,	or 0Ah.
TRANGROUP:3C3C		       lodsw
TRANGROUP:3C3D		       or      ah, ah
TRANGROUP:3C3F		       jz      short askagn
TRANGROUP:3C41		       call    scanoff
TRANGROUP:3C44		       call    char_in_xlat
TRANGROUP:3C47		       jnb     short check_yn
TRANGROUP:3C49
TRANGROUP:3C49 answ_no:				       ; ...
TRANGROUP:3C49		       retn
TRANGROUP:3C4A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3C4A
TRANGROUP:3C4A check_yn:			       ; ...
TRANGROUP:3C4A		       cmp     al, 0	       ; NO character
TRANGROUP:3C4C		       jz      short answ_no
TRANGROUP:3C4E		       cmp     al, 1	       ; YES character
TRANGROUP:3C50		       pushf
TRANGROUP:3C51		       call    CRLF2
TRANGROUP:3C54		       popf
TRANGROUP:3C55		       jnz     short askagn
TRANGROUP:3C57
TRANGROUP:3C57 noprmpt:				       ; ...
TRANGROUP:3C57		       mov     ah, 13h
TRANGROUP:3C59		       mov     dx, 5Ch	       ; FCB
TRANGROUP:3C5C		       int     21h	       ; DOS - DELETE FILE via FCB
TRANGROUP:3C5C					       ; DS:DX -> FCB with filename field filled with
TRANGROUP:3C5C					       ; template for  deletion	('?' wildcard allowed, but not '*')
TRANGROUP:3C5C					       ; Return: AL = 00h file found, FFh file not found
TRANGROUP:3C5E		       inc     al
TRANGROUP:3C60		       jz      short eraerr
TRANGROUP:3C62		       call    RestUDir
TRANGROUP:3C65		       retn
TRANGROUP:3C66 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3C66
TRANGROUP:3C66 eraerr:				       ; ...
TRANGROUP:3C66		       call    Set_Ext_Error_Msg
TRANGROUP:3C69		       push    dx
TRANGROUP:3C6A		       call    RestUDir
TRANGROUP:3C6D		       pop     dx
TRANGROUP:3C6E		       cmp     ds:extend_buf_ptr, 18 ; ERROR_NO_MORE_FILES
TRANGROUP:3C73		       jnz     short cerrorj2
TRANGROUP:3C75		       mov     ds:extend_buf_ptr, 2 ; ERROR_FILE_NOT_FOUND
TRANGROUP:3C7B
TRANGROUP:3C7B cerrorj2:			       ; ...
TRANGROUP:3C7B		       jmp     cerror
TRANGROUP:3C7E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3C7E
TRANGROUP:3C7E slashp_erase:			       ; ...
TRANGROUP:3C7E		       call    build_dir_string
TRANGROUP:3C81		       mov     ah, 1Ah
TRANGROUP:3C83		       mov     dx, offset DESTDIR
TRANGROUP:3C86		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:3C86					       ; DS:DX -> disk transfer	buffer
TRANGROUP:3C88		       mov     ah, 11h
TRANGROUP:3C8A		       mov     dx, 5Ch
TRANGROUP:3C8D		       int     21h	       ; DOS - SEARCH FIRST USING FCB
TRANGROUP:3C8D					       ; DS:DX -> FCB
TRANGROUP:3C8F		       inc     al
TRANGROUP:3C91		       jz      short eraerr
TRANGROUP:3C93
TRANGROUP:3C93 delete_prompt_loop:		       ; ...
TRANGROUP:3C93		       mov     si, (offset DESTDIR+1)
TRANGROUP:3C96		       mov     di, offset DEST
TRANGROUP:3C99		       mov     al, ds:DIRCHAR
TRANGROUP:3C9C		       stosb
TRANGROUP:3C9D		       call    FCB_TO_ASCZ
TRANGROUP:3CA0
TRANGROUP:3CA0 slashp_askagn:			       ; ...
TRANGROUP:3CA0		       call    CRLF2
TRANGROUP:3CA3		       mov     dx, offset BWDBUF
TRANGROUP:3CA6		       mov     bx, dx
TRANGROUP:3CA8		       cmp     byte ptr	[bx+3],	0 ; END_OF_LINE_OUT
TRANGROUP:3CAC		       jnz     short not_del_root
TRANGROUP:3CAE		       mov     byte ptr	[bx+2],	0
TRANGROUP:3CB2
TRANGROUP:3CB2 not_del_root:			       ; ...
TRANGROUP:3CB2		       mov     ds:string_ptr_2,	dx
TRANGROUP:3CB6		       mov     dx, offset string_buf_ptr
TRANGROUP:3CB9		       call    std_printf
TRANGROUP:3CBC		       mov     dx, offset DEST
TRANGROUP:3CBF		       mov     ds:string_ptr_2,	dx
TRANGROUP:3CC3		       mov     dx, offset string_buf_ptr
TRANGROUP:3CC6		       call    std_printf
TRANGROUP:3CC9		       mov     dx, offset Del_Y_N_Ptr
TRANGROUP:3CCC		       call    std_printf
TRANGROUP:3CCF		       mov     ax, 0C01h
TRANGROUP:3CD2		       int     21h	       ; DOS - CLEAR KEYBOARD BUFFER
TRANGROUP:3CD2					       ; AL must be 01h, 06h, 07h, 08h,	or 0Ah.
TRANGROUP:3CD4		       call    char_in_xlat
TRANGROUP:3CD7		       jnb     short slashp_check_yn
TRANGROUP:3CD9		       retn
TRANGROUP:3CDA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3CDA
TRANGROUP:3CDA slashp_check_yn:			       ; ...
TRANGROUP:3CDA		       cmp     al, 0	       ; NO character
TRANGROUP:3CDC		       jz      short next_del_file
TRANGROUP:3CDE		       cmp     al, 1	       ; YES character
TRANGROUP:3CE0		       jz      short delete_this_file
TRANGROUP:3CE2		       jmp     short slashp_askagn
TRANGROUP:3CE4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3CE4
TRANGROUP:3CE4 delete_this_file:		       ; ...
TRANGROUP:3CE4		       mov     ah, 13h
TRANGROUP:3CE6		       mov     dx, offset DESTDIR
TRANGROUP:3CE9		       int     21h	       ; DOS - DELETE FILE via FCB
TRANGROUP:3CE9					       ; DS:DX -> FCB with filename field filled with
TRANGROUP:3CE9					       ; template for  deletion	('?' wildcard allowed, but not '*')
TRANGROUP:3CE9					       ; Return: AL = 00h file found, FFh file not found
TRANGROUP:3CEB		       inc     al
TRANGROUP:3CED		       jnz     short next_del_file
TRANGROUP:3CEF		       call    get_ext_error_number
TRANGROUP:3CF2		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:3CF5		       jnz     short stop_del
TRANGROUP:3CF7		       call    CRLF2
TRANGROUP:3CFA		       call    Set_Ext_Error_Msg
TRANGROUP:3CFD		       call    std_eprintf
TRANGROUP:3D00		       jmp     short next_del_file
TRANGROUP:3D02 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3D02
TRANGROUP:3D02 stop_del:			       ; ...
TRANGROUP:3D02		       jmp     eraerr
TRANGROUP:3D05 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3D05
TRANGROUP:3D05 next_del_file:			       ; ...
TRANGROUP:3D05		       mov     ah, 1Ah
TRANGROUP:3D07		       mov     dx, offset DESTDIR
TRANGROUP:3D0A		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:3D0A					       ; DS:DX -> disk transfer	buffer
TRANGROUP:3D0C		       mov     ah, 12h
TRANGROUP:3D0E		       mov     dx, 5Ch
TRANGROUP:3D11		       int     21h	       ; DOS - SEARCH NEXT USING FCB
TRANGROUP:3D11					       ; DS:DX -> FCB
TRANGROUP:3D11					       ; Return: AL = status
TRANGROUP:3D13		       inc     al
TRANGROUP:3D15		       jz      short slash_p_exit
TRANGROUP:3D17		       jmp     delete_prompt_loop
TRANGROUP:3D1A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3D1A
TRANGROUP:3D1A slash_p_exit:			       ; ...
TRANGROUP:3D1A		       call    get_ext_error_number
TRANGROUP:3D1D		       cmp     ax, 18	       ; ERROR_NO_MORE_FILES
TRANGROUP:3D20		       jz      short good_erase_exit
TRANGROUP:3D22		       jmp     extend_setup
TRANGROUP:3D25 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3D25
TRANGROUP:3D25 good_erase_exit:			       ; ...
TRANGROUP:3D25		       call    RestUDir
TRANGROUP:3D28		       call    CRLF2
TRANGROUP:3D2B		       retn
TRANGROUP:3D2B ; END OF	FUNCTION CHUNK FOR ERASE
TRANGROUP:3D2C
TRANGROUP:3D2C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3D2C
TRANGROUP:3D2C
TRANGROUP:3D2C ECHO	       proc near	       ; ...
TRANGROUP:3D2C
TRANGROUP:3D2C ; FUNCTION CHUNK	AT TRANGROUP:3D88 SIZE 00000021	BYTES
TRANGROUP:3D2C
TRANGROUP:3D2C		       call    ON_OFF
TRANGROUP:3D2F		       jb      short DOEMES
TRANGROUP:3D31		       mov     ds, ds:RESSEG
TRANGROUP:3D35		       jnz     short ECH_OFF
TRANGROUP:3D37		       or      ds:EchoFlag, 1
TRANGROUP:3D3C		       retn
TRANGROUP:3D3D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3D3D
TRANGROUP:3D3D ECH_OFF:				       ; ...
TRANGROUP:3D3D		       and     ds:EchoFlag, 0FEh
TRANGROUP:3D42		       retn
TRANGROUP:3D43 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3D43
TRANGROUP:3D43 CERRORJ:				       ; ...
TRANGROUP:3D43		       jmp     cerror
TRANGROUP:3D46 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3D46
TRANGROUP:3D46 DOEMES:				       ; ...
TRANGROUP:3D46		       cmp     cl, 0
TRANGROUP:3D49		       jz      short PECHO
TRANGROUP:3D4B		       mov     dx, 82h
TRANGROUP:3D4E		       call    CRPRINT
TRANGROUP:3D51		       jmp     CRLF2
TRANGROUP:3D54 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3D54
TRANGROUP:3D54 PECHO:				       ; ...
TRANGROUP:3D54		       mov     ds, ds:RESSEG
TRANGROUP:3D58		       mov     bl, ds:EchoFlag
TRANGROUP:3D5C		       push    cs
TRANGROUP:3D5D		       pop     ds
TRANGROUP:3D5E		       assume ds:TRANGROUP
TRANGROUP:3D5E		       and     bl, 1
TRANGROUP:3D61		       mov     dx, offset EchoMes_Ptr
TRANGROUP:3D64		       jmp     short PYN
TRANGROUP:3D64 ECHO	       endp
TRANGROUP:3D64
TRANGROUP:3D66
TRANGROUP:3D66 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3D66
TRANGROUP:3D66
TRANGROUP:3D66 CNTRLC	       proc near	       ; ...
TRANGROUP:3D66		       call    ON_OFF
TRANGROUP:3D69		       mov     ax, 3301h       ; (SET_CTRL_C_TRAPPING<<8)|1
TRANGROUP:3D6C		       jb      short PCNTRLC
TRANGROUP:3D6E		       jnz     short CNTRLC_OFF
TRANGROUP:3D70		       mov     dl, 1
TRANGROUP:3D72		       int     21h	       ; DOS - EXTENDED	CONTROL-BREAK CHECKING
TRANGROUP:3D72					       ; AL = 00h get state / 01h set state / 02h set AND get
TRANGROUP:3D72					       ; DL = 00h for OFF or 01h for ON
TRANGROUP:3D74		       retn
TRANGROUP:3D75 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3D75
TRANGROUP:3D75 CNTRLC_OFF:			       ; ...
TRANGROUP:3D75		       xor     dl, dl
TRANGROUP:3D77		       int     21h	       ; DOS -
TRANGROUP:3D79		       retn
TRANGROUP:3D7A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3D7A
TRANGROUP:3D7A PCNTRLC:				       ; ...
TRANGROUP:3D7A		       cmp     cl, 0
TRANGROUP:3D7D		       jnz     short CERRORJ
TRANGROUP:3D7F		       xor     al, al
TRANGROUP:3D81		       int     21h	       ; DOS -
TRANGROUP:3D83		       mov     bl, dl
TRANGROUP:3D85		       mov     dx, offset CtrlcMes_Ptr
TRANGROUP:3D85 CNTRLC	       endp
TRANGROUP:3D85
TRANGROUP:3D88 ; START OF FUNCTION CHUNK FOR ECHO
TRANGROUP:3D88
TRANGROUP:3D88 PYN:				       ; ...
TRANGROUP:3D88		       mov     si, offset ONMES_PTR
TRANGROUP:3D8B		       or      bl, bl
TRANGROUP:3D8D		       jnz     short PRINTVAL
TRANGROUP:3D8F		       mov     si, offset OFFMES_PTR
TRANGROUP:3D92
TRANGROUP:3D92 PRINTVAL:			       ; ...
TRANGROUP:3D92		       push    dx
TRANGROUP:3D93		       mov     bx, dx
TRANGROUP:3D95		       lodsw
TRANGROUP:3D96		       mov     dh, 0FFh	       ; util_msg_class	; -1
TRANGROUP:3D98		       call    TSYSGETMSG
TRANGROUP:3D9B		       add     bx, 5	       ; Ptr_off_pos
TRANGROUP:3D9E		       mov     [bx], si
TRANGROUP:3DA0		       pop     dx
TRANGROUP:3DA1		       call    std_printf
TRANGROUP:3DA4		       mov     word ptr	[bx], 0
TRANGROUP:3DA8		       retn
TRANGROUP:3DA8 ; END OF	FUNCTION CHUNK FOR ECHO
TRANGROUP:3DA9
TRANGROUP:3DA9 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3DA9
TRANGROUP:3DA9
TRANGROUP:3DA9 VERIFY	       proc near	       ; ...
TRANGROUP:3DA9		       call    ON_OFF
TRANGROUP:3DAC		       mov     ax, 2E01h       ; (SET_VERIFY_ON_WRITE<<8)|1
TRANGROUP:3DAF		       jb      short PVERIFY
TRANGROUP:3DB1		       jnz     short VER_OFF
TRANGROUP:3DB3		       int     21h	       ; DOS - SET VERIFY FLAG
TRANGROUP:3DB3					       ; DL = 00h, AL =	01h VERIFY on /	00h VERIFY off
TRANGROUP:3DB5		       retn
TRANGROUP:3DB6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3DB6
TRANGROUP:3DB6 VER_OFF:				       ; ...
TRANGROUP:3DB6		       dec     al
TRANGROUP:3DB8		       int     21h	       ; DOS -
TRANGROUP:3DBA		       retn
TRANGROUP:3DBB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3DBB
TRANGROUP:3DBB PVERIFY:				       ; ...
TRANGROUP:3DBB		       cmp     cl, 0
TRANGROUP:3DBE		       jnz     short CERRORJ
TRANGROUP:3DC0		       mov     ah, 54h
TRANGROUP:3DC2		       int     21h	       ; DOS - 2+ - GET	VERIFY FLAG
TRANGROUP:3DC2					       ; Return: AL = 00h if flag OFF
TRANGROUP:3DC2					       ; AL = 01h if flag ON
TRANGROUP:3DC4		       mov     bl, al
TRANGROUP:3DC6		       mov     dx, offset VeriMes_Ptr
TRANGROUP:3DC9		       jmp     short PYN
TRANGROUP:3DC9 VERIFY	       endp
TRANGROUP:3DC9
TRANGROUP:3DCB
TRANGROUP:3DCB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3DCB
TRANGROUP:3DCB
TRANGROUP:3DCB ON_OFF	       proc near	       ; ...
TRANGROUP:3DCB		       mov     si, 81h
TRANGROUP:3DCE
TRANGROUP:3DCE scan_on_off:			       ; ...
TRANGROUP:3DCE		       lodsb
TRANGROUP:3DCF		       cmp     al, 20h ; ' '   ; blank
TRANGROUP:3DD1		       jz      short scan_on_off
TRANGROUP:3DD3		       cmp     al, 9	       ; tab_chr
TRANGROUP:3DD5		       jz      short scan_on_off
TRANGROUP:3DD7		       cmp     al, 3Dh ; '='   ; equal_chr
TRANGROUP:3DD9		       jz      short parse_on_off
TRANGROUP:3DDB		       dec     si
TRANGROUP:3DDC
TRANGROUP:3DDC parse_on_off:			       ; ...
TRANGROUP:3DDC		       mov     di, offset PARSE_BREAK
TRANGROUP:3DDF		       xor     cx, cx
TRANGROUP:3DE1		       xor     dx, dx
TRANGROUP:3DE3		       call    cmd_parse
TRANGROUP:3DE6		       cmp     ax, 0FFFFh      ; END_OF_LINE ; -1
TRANGROUP:3DE9		       jz      short BADONF
TRANGROUP:3DEB		       cmp     ax, 0
TRANGROUP:3DEE		       jz      short on_off_there
TRANGROUP:3DF0		       mov     cx, ax
TRANGROUP:3DF2		       jmp     short BADONF
TRANGROUP:3DF4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3DF4
TRANGROUP:3DF4 on_off_there:			       ; ...
TRANGROUP:3DF4		       cmp     PARSE1_CODE, 0FFh ; -1
TRANGROUP:3DF9		       jnz     short good_on_off
TRANGROUP:3DFB		       mov     cx, 0Ah	       ; BadParm_Ptr
TRANGROUP:3DFE		       jmp     short BADONF
TRANGROUP:3E00 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3E00
TRANGROUP:3E00 good_on_off:			       ; ...
TRANGROUP:3E00		       xor     ax, ax
TRANGROUP:3E02		       or      al, PARSE1_CODE
TRANGROUP:3E06		       pushf
TRANGROUP:3E07		       mov     di, offset PARSE_BREAK
TRANGROUP:3E0A		       xor     dx, dx
TRANGROUP:3E0C		       call    cmd_parse
TRANGROUP:3E0F		       cmp     ax, 0FFFFh      ; END_OF_LINE
TRANGROUP:3E12		       jnz     short BADONF_flag
TRANGROUP:3E14		       popf
TRANGROUP:3E15		       clc
TRANGROUP:3E16		       jmp     short on_off_end
TRANGROUP:3E18 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3E18
TRANGROUP:3E18 BADONF_flag:			       ; ...
TRANGROUP:3E18		       mov     cx, ax
TRANGROUP:3E1A		       popf
TRANGROUP:3E1B
TRANGROUP:3E1B BADONF:				       ; ...
TRANGROUP:3E1B		       mov     dx, offset bad_on_off_ptr
TRANGROUP:3E1E		       stc
TRANGROUP:3E1F
TRANGROUP:3E1F on_off_end:			       ; ...
TRANGROUP:3E1F		       retn
TRANGROUP:3E1F ON_OFF	       endp
TRANGROUP:3E1F
TRANGROUP:3E20 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3E20
TRANGROUP:3E20 PRINT_DATE:			       ; ...
TRANGROUP:3E20		       push    es
TRANGROUP:3E21		       push    di
TRANGROUP:3E22		       push    cs
TRANGROUP:3E23		       pop     es
TRANGROUP:3E24		       assume es:TRANGROUP
TRANGROUP:3E24		       call    GetDate
TRANGROUP:3E27		       xchg    dh, dl
TRANGROUP:3E29		       mov     promptDat_yr, cx
TRANGROUP:3E2D		       mov     promptDat_moday,	dx
TRANGROUP:3E31		       mov     dx, offset promptdat_ptr
TRANGROUP:3E34		       call    std_printf
TRANGROUP:3E37		       pop     di
TRANGROUP:3E38		       pop     es
TRANGROUP:3E39		       assume es:nothing
TRANGROUP:3E39		       retn
TRANGROUP:3E3A
TRANGROUP:3E3A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3E3A
TRANGROUP:3E3A
TRANGROUP:3E3A GetDate	       proc near	       ; ...
TRANGROUP:3E3A		       mov     di, offset Arg_Buf
TRANGROUP:3E3D		       mov     ah, 2Ah
TRANGROUP:3E3F		       int     21h	       ; DOS - GET CURRENT DATE
TRANGROUP:3E3F					       ; Return: DL = day, DH =	month, CX = year
TRANGROUP:3E3F					       ; AL = day of the week (0=Sunday, 1=Monday, etc.)
TRANGROUP:3E41		       cbw
TRANGROUP:3E42		       push    cx
TRANGROUP:3E43		       push    dx
TRANGROUP:3E44		       mov     si, ax
TRANGROUP:3E46		       shl     si, 1
TRANGROUP:3E48		       add     si, ax	       ; SI=AX*3
TRANGROUP:3E4A		       mov     cx, si
TRANGROUP:3E4C		       mov     ax, WeekTab
TRANGROUP:3E4F		       mov     dh, 0FFh	       ; util_msg_class
TRANGROUP:3E51		       push    di
TRANGROUP:3E52		       call    TSYSGETMSG
TRANGROUP:3E55		       pop     di
TRANGROUP:3E56		       add     si, cx
TRANGROUP:3E58		       mov     cx, 3
TRANGROUP:3E5B		       rep movsb
TRANGROUP:3E5D		       mov     al, 0	       ; END_OF_LINE_OUT
TRANGROUP:3E5F		       stosb
TRANGROUP:3E60		       pop     dx
TRANGROUP:3E61		       pop     cx
TRANGROUP:3E62		       retn
TRANGROUP:3E62 GetDate	       endp
TRANGROUP:3E62
TRANGROUP:3E63
TRANGROUP:3E63 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3E63
TRANGROUP:3E63
TRANGROUP:3E63 char_in_xlat    proc near	       ; ...
TRANGROUP:3E63		       mov     dl, al
TRANGROUP:3E65		       xor     dh, dh
TRANGROUP:3E67		       mov     ax, 6523h       ; (GetExtCntry<<8)+35
TRANGROUP:3E6A		       int     21h	       ; DOS - 4.x internal - COUNTRY-DEPENDENT	FILENAME CAPITALIZATION
TRANGROUP:3E6A					       ; AL = function -
TRANGROUP:3E6C		       retn
TRANGROUP:3E6C char_in_xlat    endp
TRANGROUP:3E6C
TRANGROUP:3E6D
TRANGROUP:3E6D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:3E6D
TRANGROUP:3E6D
TRANGROUP:3E6D COPY	       proc near	       ; ...
TRANGROUP:3E6D
TRANGROUP:3E6D ; FUNCTION CHUNK	AT TRANGROUP:40F3 SIZE 00000037	BYTES
TRANGROUP:3E6D ; FUNCTION CHUNK	AT TRANGROUP:4151 SIZE 000001C7	BYTES
TRANGROUP:3E6D
TRANGROUP:3E6D		       xor     ax, ax
TRANGROUP:3E6F		       mov     Copy_num, ax
TRANGROUP:3E72		       mov     SRCPT, ax
TRANGROUP:3E75		       mov     SrcTail,	ax
TRANGROUP:3E78		       mov     CFLAG, al
TRANGROUP:3E7B		       mov     NXTADD, ax
TRANGROUP:3E7E		       mov     ARG2S, ax       ; [DestSwitch]
TRANGROUP:3E81		       mov     STARTEL,	ax
TRANGROUP:3E84		       mov     DestTail, ax
TRANGROUP:3E87		       mov     SPECDRV,	al     ; [DestClosed]
TRANGROUP:3E8A		       mov     DestSiz,	al
TRANGROUP:3E8D		       mov     SrcSiz, al
TRANGROUP:3E90		       mov     DestInfo, al
TRANGROUP:3E93		       mov     SrcInfo,	al
TRANGROUP:3E96		       mov     INEXACT,	al
TRANGROUP:3E99		       mov     DestIsDir, al   ; [DestVars]
TRANGROUP:3E9C		       mov     SrcIsDir, al    ; [SrcVars]
TRANGROUP:3E9F		       mov     USERDIR1, al
TRANGROUP:3EA2		       mov     NOWRITE,	al
TRANGROUP:3EA5		       mov     IFNOTFLAG, al   ; [RDEOF]
TRANGROUP:3EA8		       mov     SRCHAND,	ax
TRANGROUP:3EAB		       mov     CPDATE, ax
TRANGROUP:3EAE		       mov     CPTIME, ax
TRANGROUP:3EB1		       mov     SRCISDEV, al
TRANGROUP:3EB4		       mov     OCtrlZ, al
TRANGROUP:3EB7		       mov     OFilePtr_Lo, ax
TRANGROUP:3EBA		       mov     OFilePtr_Hi, ax
TRANGROUP:3EBD		       mov     TERMREAD, al
TRANGROUP:3EC0		       mov     comma, al
TRANGROUP:3EC3		       mov     plus_comma, al
TRANGROUP:3EC6		       mov     msg_flag, al
TRANGROUP:3EC9		       mov     ARGTS, ax       ; [AllSwitch]
TRANGROUP:3ECC		       mov     PARM2, al       ; [ArgC]
TRANGROUP:3ECF		       mov     PLUS, al
TRANGROUP:3ED2		       mov     BINARY, al
TRANGROUP:3ED5		       mov     ASCII, al
TRANGROUP:3ED8		       mov     FileCnt,	ax
TRANGROUP:3EDB		       mov     WRITTEN,	ax
TRANGROUP:3EDE		       mov     PARM1, al       ; [Concat]
TRANGROUP:3EE1		       mov     MELCOPY,	al
TRANGROUP:3EE4		       mov     MELSTART, ax
TRANGROUP:3EE7		       mov     cox_dest_file, al ; MSDOS 6.22
TRANGROUP:3EEA		       mov     cox_src_file, al
TRANGROUP:3EED		       mov     word ptr	ScanBuf, ax
TRANGROUP:3EF0		       mov     word ptr	DestBuf, ax
TRANGROUP:3EF3		       mov     word ptr	SrcBuf,	ax
TRANGROUP:3EF6		       mov     word ptr	SDIRBUF, ax
TRANGROUP:3EF9		       mov     BWDBUF, ax      ; [DIRBUF]
TRANGROUP:3EFC		       mov     word ptr	DESTDIR, ax ; [DestFcb]
TRANGROUP:3EFF		       mov     ObjCnt, al
TRANGROUP:3F02		       dec     ax	       ; -1
TRANGROUP:3F03		       mov     EndDestBuf, ax  ; [DESTHAND]
TRANGROUP:3F06		       mov     FRSTSRCH, al
TRANGROUP:3F09		       mov     FIRSTDEST, al
TRANGROUP:3F0C		       mov     DestIsDir, al
TRANGROUP:3F0F		       call    init_copycmd_option
TRANGROUP:3F12		       mov     si, 81h
TRANGROUP:3F15		       mov     bl, '+'
TRANGROUP:3F17		       inc     expand_star
TRANGROUP:3F1B		       mov     cpyflag,	1
TRANGROUP:3F20
TRANGROUP:3F20 DESTSCAN:			       ; ...
TRANGROUP:3F20		       xor     bp, bp
TRANGROUP:3F22		       mov     di, offset ScanBuf
TRANGROUP:3F25		       mov     parse_last, si
TRANGROUP:3F29		       call    cparse
TRANGROUP:3F2C		       pushf
TRANGROUP:3F2D		       inc     ObjCnt
TRANGROUP:3F31		       test    bh, 80h	       ; no "+"	delimiter
TRANGROUP:3F34		       jz      short NOCOPY
TRANGROUP:3F36		       mov     PLUS, 1
TRANGROUP:3F3B
TRANGROUP:3F3B NOCOPY:				       ; ...
TRANGROUP:3F3B		       test    bh, 1
TRANGROUP:3F3E		       jnz     short CHK_CP_SWITCH
TRANGROUP:3F40		       jmp     TESTP2	       ; not a switch
TRANGROUP:3F43 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3F43
TRANGROUP:3F43 CHK_CP_SWITCH:			       ; ...
TRANGROUP:3F43		       test    bp, 10h	       ; SwitchV
TRANGROUP:3F43					       ; Verify	requested?
TRANGROUP:3F47		       jz      short NOT_SLASHV
TRANGROUP:3F49		       test    ARGTS, 10h      ; test word [AllSwitch],SwitchV
TRANGROUP:3F49					       ; Verify	already	entered?
TRANGROUP:3F4F		       jz      short NOT_SLASHV
TRANGROUP:3F51		       or      bp, 4000h       ; FBadSwitch
TRANGROUP:3F51					       ; Set up	bad switch
TRANGROUP:3F55
TRANGROUP:3F55 NOT_SLASHV:			       ; ...
TRANGROUP:3F55		       test    bp, 40h	       ; negative Y (-Y) switch	flag
TRANGROUP:3F59		       jz      short CHK_SLASHY0
TRANGROUP:3F5B		       test    ARGTS, 40h      ; [AllSwitch] negative (-Y) flag
TRANGROUP:3F61		       jnz     short NOT_SLASHY1 ; N flag
TRANGROUP:3F63		       test    ARGTS, 80h      ; [AllSwitch] SwitchY (Y) flag
TRANGROUP:3F69		       jz      short NOT_SLASHY2
TRANGROUP:3F6B
TRANGROUP:3F6B NOT_SLASHY1:			       ; ...
TRANGROUP:3F6B		       or      bp, 4000h       ; FBadSwitch (Repetitive)
TRANGROUP:3F6B					       ; Set up	bad switch
TRANGROUP:3F6F
TRANGROUP:3F6F NOT_SLASHY2:			       ; ...
TRANGROUP:3F6F		       mov     cox_y_override, 0 ; cox_y setting will be used
TRANGROUP:3F74
TRANGROUP:3F74 CHK_SLASHY0:			       ; ...
TRANGROUP:3F74		       test    bp, 80h
TRANGROUP:3F78		       jz      short CHK_SLASHY4 ; not a /Y switch
TRANGROUP:3F7A		       mov     al, [si]
TRANGROUP:3F7C		       cmp     al, 'y'
TRANGROUP:3F7E		       jz      short CHK_SLASHY1
TRANGROUP:3F80		       cmp     al, 'Y'
TRANGROUP:3F82		       jz      short CHK_SLASHY1
TRANGROUP:3F84		       or      bp, 4000h       ; FBadSwitch
TRANGROUP:3F84					       ; Set up	bad switch
TRANGROUP:3F88		       jmp     short CHK_SLASHY4
TRANGROUP:3F8A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3F8A
TRANGROUP:3F8A CHK_SLASHY1:			       ; ...
TRANGROUP:3F8A		       mov     byte ptr	[si], 20h ; ' '
TRANGROUP:3F8D		       inc     si
TRANGROUP:3F8E		       test    ARGTS, 40h      ; [AllSwitch] negative (-Y) flag
TRANGROUP:3F94		       jnz     short CHK_SLASHY2 ; N flag
TRANGROUP:3F96		       test    ARGTS, 80h      ; [AllSwitch] SwitchY (Y) flag
TRANGROUP:3F9C		       jz      short CHK_SLASHY3
TRANGROUP:3F9E
TRANGROUP:3F9E CHK_SLASHY2:			       ; ...
TRANGROUP:3F9E		       or      bp, 4000h       ; FBadSwitch (Repetitive)
TRANGROUP:3F9E					       ; Set up	bad switch
TRANGROUP:3FA2
TRANGROUP:3FA2 CHK_SLASHY3:			       ; ...
TRANGROUP:3FA2		       mov     cox_y_override, 1
TRANGROUP:3FA7
TRANGROUP:3FA7 CHK_SLASHY4:			       ; ...
TRANGROUP:3FA7		       or      ARG2S, bp       ; set [DestSwitch] SwitchY flag to 1
TRANGROUP:3FAB		       or      ARGTS, bp       ; set [AllSwitch] SwitchY flag to 1
TRANGROUP:3FAF		       test    bp, 7F23h       ; ~SwitchCopy ; not SwitchCopy
TRANGROUP:3FB3		       jz      short NOT_BAD_SWITCH
TRANGROUP:3FB5		       popf
TRANGROUP:3FB6		       mov     ax, 3	       ; BadSwt_Ptr
TRANGROUP:3FB9		       call    setup_parse_error_msg
TRANGROUP:3FBC		       jmp     cerror
TRANGROUP:3FBF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3FBF
TRANGROUP:3FBF NOT_BAD_SWITCH:			       ; ...
TRANGROUP:3FBF		       popf
TRANGROUP:3FC0		       jb      short CHECKDONE
TRANGROUP:3FC2		       jmp     DESTSCAN
TRANGROUP:3FC5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3FC5
TRANGROUP:3FC5 TESTP2:				       ; ...
TRANGROUP:3FC5		       popf
TRANGROUP:3FC6		       jb      short CHECKDONE
TRANGROUP:3FC8		       test    bh, 80h
TRANGROUP:3FCB		       jnz     short GOTPLUS
TRANGROUP:3FCD		       inc     PARM2	       ; inc byte [ArgC]
TRANGROUP:3FD1
TRANGROUP:3FD1 GOTPLUS:				       ; ...
TRANGROUP:3FD1		       push    si
TRANGROUP:3FD2		       mov     ax, STARTEL
TRANGROUP:3FD5		       mov     si, offset ScanBuf
TRANGROUP:3FD8		       sub     ax, si
TRANGROUP:3FDA		       mov     di, offset DestBuf
TRANGROUP:3FDD		       add     ax, di
TRANGROUP:3FDF		       mov     DestTail, ax
TRANGROUP:3FE2		       mov     DestSiz,	cl
TRANGROUP:3FE6		       inc     cx
TRANGROUP:3FE7		       rep movsb
TRANGROUP:3FE9		       mov     DestInfo, bh
TRANGROUP:3FED		       mov     ARG2S, 0	       ; [DestSwitch]
TRANGROUP:3FF3		       pop     si
TRANGROUP:3FF4		       jmp     DESTSCAN
TRANGROUP:3FF7 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:3FF7
TRANGROUP:3FF7 CHECKDONE:			       ; ...
TRANGROUP:3FF7		       cmp     PLUS, 1
TRANGROUP:3FFC		       jnz     short CDCONT
TRANGROUP:3FFE		       cmp     PARM2, 1	       ; [ArgC]
TRANGROUP:4003		       jnz     short CDCONT
TRANGROUP:4005		       cmp     ObjCnt, 2
TRANGROUP:400A		       jnz     short CDCONT
TRANGROUP:400C		       mov     dx, offset OVERWR_PTR
TRANGROUP:400F		       jmp     COPYERR
TRANGROUP:4012 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4012
TRANGROUP:4012 CDCONT:				       ; ...
TRANGROUP:4012		       mov     al, PLUS
TRANGROUP:4015		       mov     PARM1, al       ; [Concat]
TRANGROUP:4018		       shl     al, 1
TRANGROUP:401A		       shl     al, 1
TRANGROUP:401C		       mov     INEXACT,	al
TRANGROUP:401F		       mov     al, PARM2       ; [ArgC]
TRANGROUP:4022		       or      al, al
TRANGROUP:4024		       jnz     short TRY_TOO_MANY
TRANGROUP:4026		       mov     dx, offset extend_buf_ptr
TRANGROUP:4029		       mov     extend_buf_ptr, 2 ; LessArgs_Ptr
TRANGROUP:402F		       jmp     short CERROR_PARSEJ
TRANGROUP:4031 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4031
TRANGROUP:4031 TRY_TOO_MANY:			       ; ...
TRANGROUP:4031		       cmp     al, 2
TRANGROUP:4033		       jbe     short ACOUNTOK
TRANGROUP:4035		       mov     dx, offset extend_buf_ptr
TRANGROUP:4038		       mov     extend_buf_ptr, 1 ; MoreArgs_Ptr
TRANGROUP:403E
TRANGROUP:403E CERROR_PARSEJ:			       ; ...
TRANGROUP:403E		       mov     msg_disp_class, 2 ; parse_msg_class
TRANGROUP:4043
TRANGROUP:4043 CERROR4J:			       ; ...
TRANGROUP:4043		       jmp     cerror
TRANGROUP:4046 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4046
TRANGROUP:4046 ACOUNTOK:			       ; ...
TRANGROUP:4046		       mov     bp, offset DestIsDir ; offset DestVars
TRANGROUP:4049		       cmp     al, 1
TRANGROUP:404B		       jnz     short GOT2ARGS
TRANGROUP:404D		       mov     al, CURDRV
TRANGROUP:4050		       add     al, 'A'
TRANGROUP:4052		       mov     ah, ':'
TRANGROUP:4054		       mov     byte ptr	[bp+1],	2 ; [bp+VARSTRUC.SIZ]
TRANGROUP:4058		       mov     di, offset DestBuf
TRANGROUP:405B		       stosw
TRANGROUP:405C		       mov     ARG2S, 0	       ; [DestSwitch]
TRANGROUP:4062		       mov     byte ptr	[bp+4],	2 ; [bp+VARSTRUC.INFO]
TRANGROUP:4066		       mov     byte ptr	[bp+0],	0 ; [bp+VARSTRUC.ISDIR]
TRANGROUP:406A		       call    SETSTARS
TRANGROUP:406D
TRANGROUP:406D GOT2ARGS:			       ; ...
TRANGROUP:406D		       cmp     byte ptr	[bp+1],	2
TRANGROUP:4071		       jnz     short NOTSHORTDEST
TRANGROUP:4073		       mov     al, ':'         ; 3Ah
TRANGROUP:4075		       cmp     DestBuf+1, al
TRANGROUP:4079		       jnz     short NOTSHORTDEST
TRANGROUP:407B		       or      byte ptr	[bp+4],	2
TRANGROUP:407F		       mov     di, (offset DestBuf+2)
TRANGROUP:4082		       mov     byte ptr	[bp+0],	0
TRANGROUP:4086		       call    SETSTARS
TRANGROUP:4089
TRANGROUP:4089 NOTSHORTDEST:			       ; ...
TRANGROUP:4089		       mov     di, [bp+2]      ; [bp+VARSTRUC.TTAIL]
TRANGROUP:408C		       cmp     byte ptr	[di], 0
TRANGROUP:408F		       jnz     short CHKSWTCHES
TRANGROUP:4091		       mov     dx, offset badcd_ptr
TRANGROUP:4094		       mov     al, ':'
TRANGROUP:4096		       cmp     [di-2], al
TRANGROUP:4099		       jnz     short CERROR4J
TRANGROUP:409B		       mov     byte ptr	[bp+0],	2
TRANGROUP:409F		       or      byte ptr	[bp+4],	6
TRANGROUP:40A3		       call    SETSTARS
TRANGROUP:40A6
TRANGROUP:40A6 CHKSWTCHES:			       ; ...
TRANGROUP:40A6		       mov     ax, ARGTS
TRANGROUP:40A9		       test    ax, 10h	       ; SwitchV
TRANGROUP:40AC		       jz      short NOVERIF
TRANGROUP:40AE		       mov     ah, 54h
TRANGROUP:40B0		       int     21h	       ; DOS - 2+ - GET	VERIFY FLAG
TRANGROUP:40B0					       ; Return: AL = 00h if flag OFF
TRANGROUP:40B0					       ; AL = 01h if flag ON
TRANGROUP:40B2		       push    ds
TRANGROUP:40B3		       mov     ds, RESSEG
TRANGROUP:40B7		       assume ds:nothing
TRANGROUP:40B7		       xor     ah, ah
TRANGROUP:40B9		       mov     ds:VerVal, ax
TRANGROUP:40BC		       pop     ds
TRANGROUP:40BD		       mov     ax, 2E01h
TRANGROUP:40C0		       int     21h	       ; DOS - SET VERIFY FLAG
TRANGROUP:40C0					       ; DL = 00h, AL =	01h VERIFY on /	00h VERIFY off
TRANGROUP:40C2
TRANGROUP:40C2 NOVERIF:				       ; ...
TRANGROUP:40C2		       xor     bp, bp
TRANGROUP:40C4		       mov     si, 81h
TRANGROUP:40C7		       mov     bl, '+'         ; plus_chr ; 2Bh
TRANGROUP:40C9
TRANGROUP:40C9 SCANFSRC:			       ; ...
TRANGROUP:40C9		       mov     di, offset ScanBuf
TRANGROUP:40CC		       call    cparse
TRANGROUP:40CF		       test    bh, 1
TRANGROUP:40D2		       jnz     short SCANFSRC
TRANGROUP:40D4		       or      ds:ARG2S, bp    ; [DestSwitch]
TRANGROUP:40D8		       test    bp, 8
TRANGROUP:40DC		       jnz     short NOSETCASC
TRANGROUP:40DE		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:40E3		       jz      short NOSETCASC
TRANGROUP:40E5		       mov     ds:ASCII, 4     ; SWITCHA
TRANGROUP:40EA
TRANGROUP:40EA NOSETCASC:			       ; ...
TRANGROUP:40EA		       call    SOURCE_SET
TRANGROUP:40ED		       call    FRSTSRC
TRANGROUP:40F0		       jmp     FIRSTENT
TRANGROUP:40F0 COPY	       endp
TRANGROUP:40F0
TRANGROUP:40F3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:40F3 ; START OF FUNCTION CHUNK FOR COPY
TRANGROUP:40F3
TRANGROUP:40F3 ENDCOPY:				       ; ...
TRANGROUP:40F3		       call    CLOSEDEST
TRANGROUP:40F6
TRANGROUP:40F6 ENDCOPY2:			       ; ...
TRANGROUP:40F6		       mov     dx, offset copied_ptr
TRANGROUP:40F9		       mov     si, ds:FileCnt
TRANGROUP:40FD		       mov     ds:Copy_num, si
TRANGROUP:4101		       call    std_printf
TRANGROUP:4104		       jmp     TCOMMAND
TRANGROUP:4107 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4107
TRANGROUP:4107 SRCNONEXIST:			       ; ...
TRANGROUP:4107		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:410C		       jnz     short NEXTSRC
TRANGROUP:410E		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:4113		       mov     dx, offset extend_buf_ptr
TRANGROUP:4116		       mov     ds:extend_buf_ptr, 2 ; ERROR_FILE_NOT_FOUND
TRANGROUP:411C		       mov     ds:string_ptr_2,	offset SrcBuf
TRANGROUP:4122		       mov     ds:extend_buf_sub, 1 ; one_subst
TRANGROUP:4127		       jmp     COPYERR
TRANGROUP:4127 ; END OF	FUNCTION CHUNK FOR COPY
TRANGROUP:412A
TRANGROUP:412A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:412A
TRANGROUP:412A
TRANGROUP:412A SOURCEPROC      proc near	       ; ...
TRANGROUP:412A		       call    SOURCE_SET
TRANGROUP:412D		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:4132		       jnz     short LEAVECFLAG
TRANGROUP:4132 SOURCEPROC      endp
TRANGROUP:4132
TRANGROUP:4134
TRANGROUP:4134 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4134
TRANGROUP:4134
TRANGROUP:4134 FRSTSRC	       proc near	       ; ...
TRANGROUP:4134		       xor     ax, ax
TRANGROUP:4136		       mov     ds:CFLAG, al
TRANGROUP:4139		       mov     ds:NXTADD, ax
TRANGROUP:413C		       mov     ds:SPECDRV, al  ; [DestClosed]
TRANGROUP:413F
TRANGROUP:413F LEAVECFLAG:			       ; ...
TRANGROUP:413F		       mov     ds:SRCPT, si
TRANGROUP:4143		       mov     di, offset USERDIR1
TRANGROUP:4146		       mov     bp, offset SrcIsDir ; offset SrcVars
TRANGROUP:4149		       call    BUILDPATH
TRANGROUP:414C		       mov     si, ds:SrcTail
TRANGROUP:4150		       retn
TRANGROUP:4150 FRSTSRC	       endp
TRANGROUP:4150
TRANGROUP:4151 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4151 ; START OF FUNCTION CHUNK FOR COPY
TRANGROUP:4151
TRANGROUP:4151 NEXTSRC:				       ; ...
TRANGROUP:4151		       cmp     ds:PLUS,	0
TRANGROUP:4156		       jnz     short MORECP
TRANGROUP:4158
TRANGROUP:4158 ENDCOPYJ2:			       ; ...
TRANGROUP:4158		       jmp     short ENDCOPY
TRANGROUP:415A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:415A
TRANGROUP:415A MORECP:				       ; ...
TRANGROUP:415A		       xor     bp, bp
TRANGROUP:415C		       mov     si, ds:SRCPT
TRANGROUP:4160		       mov     bl, '+'
TRANGROUP:4162
TRANGROUP:4162 SCANSRC:				       ; ...
TRANGROUP:4162		       mov     di, offset ScanBuf
TRANGROUP:4165		       call    cparse
TRANGROUP:4168		       jb      short ENDCOPYJ2
TRANGROUP:416A		       test    bh, 80h
TRANGROUP:416D		       jz      short ENDCOPYJ2
TRANGROUP:416F		       test    bh, 1
TRANGROUP:4172		       jnz     short SCANSRC
TRANGROUP:4174		       call    SOURCEPROC
TRANGROUP:4177		       cmp     ds:comma, 1
TRANGROUP:417C		       jnz     short NOSTAMP
TRANGROUP:417E		       mov     ds:plus_comma, 1
TRANGROUP:4183		       jmp     short SRCNONEXIST
TRANGROUP:4185 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4185
TRANGROUP:4185 NOSTAMP:				       ; ...
TRANGROUP:4185		       mov     ds:plus_comma, 0
TRANGROUP:418A
TRANGROUP:418A FIRSTENT:			       ; ...
TRANGROUP:418A		       mov     di, 5Ch	       ; FCB
TRANGROUP:418D		       mov     ax, 2900h
TRANGROUP:4190		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:4190					       ; DS:SI -> string to parse
TRANGROUP:4190					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:4190					       ; AL = bit mask to control parsing
TRANGROUP:4192		       cmp     byte ptr	[si], 0
TRANGROUP:4195		       jnz     short SRCHDONE
TRANGROUP:4197		       mov     ax, word	ptr ds:SrcBuf
TRANGROUP:419A		       cmp     ah, ':'
TRANGROUP:419D		       jz      short DRVSPEC1
TRANGROUP:419F		       mov     al, 40h ; '@'
TRANGROUP:41A1
TRANGROUP:41A1 DRVSPEC1:			       ; ...
TRANGROUP:41A1		       or      al, 20h
TRANGROUP:41A3		       sub     al, 60h
TRANGROUP:41A5		       mov     ds:5Ch, al      ; mov [FCB],al
TRANGROUP:41A8		       mov     ah, 11h	       ; DIR_SEARCH_FIRST
TRANGROUP:41AA		       call    SEARCH
TRANGROUP:41AD
TRANGROUP:41AD SRCHDONE:			       ; ...
TRANGROUP:41AD		       pushf
TRANGROUP:41AE		       call    RestUDir1
TRANGROUP:41B1		       popf
TRANGROUP:41B2		       jz      short NEXTAMBIG0
TRANGROUP:41B4		       jmp     SRCNONEXIST
TRANGROUP:41B7 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:41B7
TRANGROUP:41B7 NEXTAMBIG0:			       ; ...
TRANGROUP:41B7		       xor     al, al
TRANGROUP:41B9		       xchg    al, ds:FRSTSRCH
TRANGROUP:41BD		       or      al, al
TRANGROUP:41BF		       jz      short NEXTAMBIG
TRANGROUP:41C1
TRANGROUP:41C1 SETNMEL:				       ; ...
TRANGROUP:41C1		       mov     cx, 12
TRANGROUP:41C4		       mov     di, offset SDIRBUF
TRANGROUP:41C7		       mov     si, offset BWDBUF ; offset DIRBUF
TRANGROUP:41CA		       rep movsb
TRANGROUP:41CC
TRANGROUP:41CC NEXTAMBIG:			       ; ...
TRANGROUP:41CC		       xor     al, al
TRANGROUP:41CE		       mov     ds:NOWRITE, al
TRANGROUP:41D1		       mov     di, ds:SrcTail
TRANGROUP:41D5		       mov     si, (offset BWDBUF+1) ; offset DIRBUF+1
TRANGROUP:41D8		       call    FCB_TO_ASCZ
TRANGROUP:41DB
TRANGROUP:41DB MELDO0:				       ; ...
TRANGROUP:41DB		       cmp     ds:cox_y_override, 0 ; /Y switch	override (question) enabled ?
TRANGROUP:41E0		       jz      short MELDO     ; no
TRANGROUP:41E2		       call    BUILDDEST
TRANGROUP:41E5		       mov     si, offset SrcBuf
TRANGROUP:41E8		       mov     di, offset SRCXNAME
TRANGROUP:41EB		       mov     ah, 60h	       ; xNameTrans
TRANGROUP:41ED		       int     21h	       ; DOS - RESOLVE PATH STRING TO CANONICAL	PATH STRING
TRANGROUP:41ED					       ; DS:SI -> ASCIZ	relative path string or	directory name
TRANGROUP:41ED					       ; ES:DI -> 128-byte buffer for ASCIZ canonical fully qualified name
TRANGROUP:41EF		       call    COMPNAME
TRANGROUP:41F2		       jnz     short MELDO1    ; different file	names
TRANGROUP:41F4		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:41F9		       jnz     short MELDO1    ; concatenating
TRANGROUP:41FB		       mov     dx, offset file_name_ptr
TRANGROUP:41FE		       call    std_printf
TRANGROUP:4201		       call    CRLF2
TRANGROUP:4204		       mov     dx, offset OVERWR_PTR ; "File cannot be copied onto itself"
TRANGROUP:4207		       jmp     COPYERR
TRANGROUP:420A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:420A
TRANGROUP:420A MELDO1:				       ; ...
TRANGROUP:420A		       cmp     ds:CFLAG, 0     ; destination file created flag
TRANGROUP:420F		       jnz     short MELDO     ; yes, new (created) file
TRANGROUP:420F					       ; no, overwrite question	(must be confirmed)
TRANGROUP:4211		       call    get_answer_YNA
TRANGROUP:4214		       jb      short MELDO2    ; answer	is no
TRANGROUP:4216		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:421B		       jnz     short MELDO
TRANGROUP:421D		       cmp     ds:cox_dest_file, 0 ; is	there a	(valid)	target file ?
TRANGROUP:4222		       jnz     short DOREAD    ; yes
TRANGROUP:4224		       jmp     short MELDO     ; no, destination/target	file does not exist
TRANGROUP:4226 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4226
TRANGROUP:4226 MELDO2:				       ; ...
TRANGROUP:4226		       cmp     ds:MELCOPY, 0   ; is 'Mel Hallerman copy' false ?
TRANGROUP:422B		       jnz     short MELDO3    ; no (, it is true)
TRANGROUP:422D		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:4232		       jz      short MELDO4
TRANGROUP:4234
TRANGROUP:4234 MELDO3:				       ; ...
TRANGROUP:4234		       mov     ds:SPECDRV, 1   ; [DestClosed]
TRANGROUP:4239		       jmp     ENDCOPY
TRANGROUP:423C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:423C
TRANGROUP:423C MELDO4:				       ; ...
TRANGROUP:423C		       call    SEARCHNEXT
TRANGROUP:423F		       jz      short NEXTAMBIG
TRANGROUP:4241		       cmp     ds:cox_src_file,	0
TRANGROUP:4246		       jz      short MELDO5
TRANGROUP:4248		       jmp     NEXTSRC
TRANGROUP:424B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:424B
TRANGROUP:424B MELDO5:				       ; ...
TRANGROUP:424B		       mov     ds:SPECDRV, 1   ; [DestClosed]
TRANGROUP:4250		       jmp     NEXTSRC
TRANGROUP:4253 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4253
TRANGROUP:4253 MELDO:				       ; ...
TRANGROUP:4253		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:4258		       jnz     short SHOWCPNAM
TRANGROUP:425A		       test    ds:SrcInfo, 2
TRANGROUP:425F		       jz      short DOREAD
TRANGROUP:4261
TRANGROUP:4261 SHOWCPNAM:			       ; ...
TRANGROUP:4261		       mov     dx, offset file_name_ptr
TRANGROUP:4264		       call    std_printf
TRANGROUP:4267		       call    CRLF2
TRANGROUP:426A
TRANGROUP:426A DOREAD:				       ; ...
TRANGROUP:426A		       call    DOCOPY
TRANGROUP:426D		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:4272		       jnz     short NODCLOSE
TRANGROUP:4274		       call    CLOSEDEST
TRANGROUP:4277		       jb      short NODCLOSE
TRANGROUP:4279		       mov     ds:CFLAG, 0     ; clear new file	(created) flag
TRANGROUP:427E
TRANGROUP:427E NODCLOSE:			       ; ...
TRANGROUP:427E		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:4283		       jz      short NOFLUSH
TRANGROUP:4285		       call    FlshFil
TRANGROUP:4288		       test    ds:MELCOPY, 0FFh
TRANGROUP:428D		       jz      short NOFLUSH
TRANGROUP:428F		       jmp     short DOMELCOPY
TRANGROUP:4291 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4291
TRANGROUP:4291 NOFLUSH:				       ; ...
TRANGROUP:4291		       call    SEARCHNEXT
TRANGROUP:4294		       jnz     short NEXTSRCJ
TRANGROUP:4296		       mov     ds:SPECDRV, 0   ; [DestClosed]
TRANGROUP:429B		       jmp     NEXTAMBIG
TRANGROUP:429E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:429E
TRANGROUP:429E DOMELCOPY:			       ; ...
TRANGROUP:429E		       cmp     ds:MELCOPY, 0FFh
TRANGROUP:42A3		       jz      short CONTMEL
TRANGROUP:42A5		       mov     si, ds:SRCPT
TRANGROUP:42A9		       mov     ds:MELSTART, si
TRANGROUP:42AD		       mov     ds:MELCOPY, 0FFh
TRANGROUP:42B2
TRANGROUP:42B2 CONTMEL:				       ; ...
TRANGROUP:42B2		       xor     bp, bp
TRANGROUP:42B4		       mov     si, ds:SRCPT
TRANGROUP:42B8		       mov     bl, '+'         ; 2Bh
TRANGROUP:42BA
TRANGROUP:42BA SCANSRC2:			       ; ...
TRANGROUP:42BA		       mov     di, offset ScanBuf
TRANGROUP:42BD		       call    cparse
TRANGROUP:42C0		       test    bh, 80h
TRANGROUP:42C3		       jz      short NEXTMEL
TRANGROUP:42C5		       test    bh, 1
TRANGROUP:42C8		       jnz     short SCANSRC2
TRANGROUP:42CA		       call    SOURCEPROC
TRANGROUP:42CD		       call    RestUDir1
TRANGROUP:42D0		       mov     di, offset IDLEN	; offset DESTFCB2
TRANGROUP:42D3		       mov     ax, 2900h
TRANGROUP:42D6		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:42D6					       ; DS:SI -> string to parse
TRANGROUP:42D6					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:42D6					       ; AL = bit mask to control parsing
TRANGROUP:42D8		       mov     bx, (offset SDIRBUF+1)
TRANGROUP:42DB		       mov     si, offset ID   ; offset	DESTFCB2+1
TRANGROUP:42DE		       mov     di, ds:SrcTail
TRANGROUP:42E2		       call    BUILDNAME
TRANGROUP:42E5		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:42EA		       jz      short MELDOJ
TRANGROUP:42EC		       mov     ds:NOWRITE, 0
TRANGROUP:42F1
TRANGROUP:42F1 MELDOJ:				       ; ...
TRANGROUP:42F1		       jmp     MELDO0
TRANGROUP:42F4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:42F4
TRANGROUP:42F4 NEXTSRCJ:			       ; ...
TRANGROUP:42F4		       jmp     NEXTSRC
TRANGROUP:42F7 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:42F7
TRANGROUP:42F7 NEXTMEL:				       ; ...
TRANGROUP:42F7		       call    CLOSEDEST
TRANGROUP:42FA		       xor     ax, ax
TRANGROUP:42FC		       mov     ds:CFLAG, al
TRANGROUP:42FF		       mov     ds:NXTADD, ax
TRANGROUP:4302		       mov     ds:SPECDRV, al
TRANGROUP:4305		       mov     si, ds:MELSTART
TRANGROUP:4309		       mov     ds:SRCPT, si
TRANGROUP:430D		       call    SEARCHNEXT
TRANGROUP:4310		       jz      short SETNMELJ
TRANGROUP:4312		       jmp     ENDCOPY2
TRANGROUP:4315 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4315
TRANGROUP:4315 SETNMELJ:			       ; ...
TRANGROUP:4315		       jmp     SETNMEL
TRANGROUP:4315 ; END OF	FUNCTION CHUNK FOR COPY
TRANGROUP:4318
TRANGROUP:4318 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4318
TRANGROUP:4318
TRANGROUP:4318 SEARCHNEXT      proc near	       ; ...
TRANGROUP:4318		       mov     ah, 12h	       ; DIR_SEARCH_NEXT
TRANGROUP:431A		       test    ds:SrcInfo, 2
TRANGROUP:431F		       jnz     short SEARCH
TRANGROUP:4321		       or      ah, ah
TRANGROUP:4323		       retn
TRANGROUP:4323 SEARCHNEXT      endp
TRANGROUP:4323
TRANGROUP:4324
TRANGROUP:4324 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4324
TRANGROUP:4324
TRANGROUP:4324 SEARCH	       proc near	       ; ...
TRANGROUP:4324		       push    ax
TRANGROUP:4325		       mov     ah, 1Ah
TRANGROUP:4327		       mov     dx, offset BWDBUF
TRANGROUP:432A		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:432A					       ; DS:DX -> disk transfer	buffer
TRANGROUP:432C		       pop     ax
TRANGROUP:432D		       mov     dx, 5Ch
TRANGROUP:4330		       int     21h	       ; DOS -
TRANGROUP:4332		       or      al, al
TRANGROUP:4334		       retn
TRANGROUP:4334 SEARCH	       endp
TRANGROUP:4334
TRANGROUP:4335
TRANGROUP:4335 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4335
TRANGROUP:4335
TRANGROUP:4335 DOCOPY	       proc near	       ; ...
TRANGROUP:4335		       mov     si, offset SrcBuf
TRANGROUP:4338		       mov     di, offset SRCXNAME
TRANGROUP:433B		       mov     ah, 60h
TRANGROUP:433D		       int     21h	       ; DOS - RESOLVE PATH STRING TO CANONICAL	PATH STRING
TRANGROUP:433D					       ; DS:SI -> ASCIZ	relative path string or	directory name
TRANGROUP:433D					       ; ES:DI -> 128-byte buffer for ASCIZ canonical fully qualified name
TRANGROUP:433F		       mov     ds:IFNOTFLAG, 0 ; [RDEOF]
TRANGROUP:4344		       mov     ax, 6C00h
TRANGROUP:4347		       mov     bx, 40h
TRANGROUP:434A		       xor     cx, cx
TRANGROUP:434C		       mov     dx, 101h
TRANGROUP:434F		       int     21h	       ; DOS - 4.0 - EXTENDED OPEN/CREATE
TRANGROUP:434F					       ; BL = open mode	as in AL for normal open (INT 21h/AH=3Dh)
TRANGROUP:434F					       ; BH = flags, CX	= create attribute, DL = action	if file	exists/does not	exists
TRANGROUP:434F					       ; DH = 00h (reserved), DS:SI -> ASCIZ file name
TRANGROUP:4351		       jnb     short OPENOK
TRANGROUP:4353
TRANGROUP:4353 loc_6A33:
TRANGROUP:4353		       jmp     short Error_On_Source
TRANGROUP:4355 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4355
TRANGROUP:4355 OPENOK:				       ; ...
TRANGROUP:4355		       mov     bx, ax
TRANGROUP:4357		       mov     ds:SRCHAND, bx
TRANGROUP:435B		       mov     ax, 5700h
TRANGROUP:435E		       int     21h	       ; DOS - 2+ - GET	FILE'S DATE/TIME
TRANGROUP:435E					       ; BX = file handle
TRANGROUP:4360		       jb      short Error_On_Source
TRANGROUP:4362		       mov     ds:CPDATE, dx
TRANGROUP:4366		       mov     ds:CPTIME, cx
TRANGROUP:436A		       jmp     short No_Copy_Xa
TRANGROUP:436C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:436C
TRANGROUP:436C Error_On_Source:			       ; ...
TRANGROUP:436C		       call    Set_Ext_Error_Msg
TRANGROUP:436F		       mov     ds:string_ptr_2,	offset SrcBuf
TRANGROUP:4375		       mov     ds:extend_buf_sub, 1
TRANGROUP:437A		       call    std_eprintf
TRANGROUP:437D		       cmp     ds:SRCHAND, 0
TRANGROUP:4382		       jz      short No_Close_Src
TRANGROUP:4384		       call    CLOSESRC
TRANGROUP:4387
TRANGROUP:4387 No_Close_Src:			       ; ...
TRANGROUP:4387		       cmp     ds:CFLAG, 0
TRANGROUP:438C		       jz      short EndCopyJ3
TRANGROUP:438E		       jmp     ENDCOPY
TRANGROUP:4391 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4391
TRANGROUP:4391 EndCopyJ3:			       ; ...
TRANGROUP:4391		       jmp     ENDCOPY2
TRANGROUP:4394 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4394
TRANGROUP:4394 No_Copy_Xa:			       ; ...
TRANGROUP:4394		       mov     bx, ds:SRCHAND
TRANGROUP:4398		       mov     ax, 4400h
TRANGROUP:439B		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:439B					       ; BX = file or device handle
TRANGROUP:439D		       and     dl, 80h
TRANGROUP:43A0		       mov     ds:SRCISDEV, dl
TRANGROUP:43A4		       jz      short COPYLP
TRANGROUP:43A6		       cmp     ds:BINARY, 0
TRANGROUP:43AB		       jz      short COPYLP
TRANGROUP:43AD		       mov     dx, offset INBDEV_PTR
TRANGROUP:43B0		       jmp     COPYERR
TRANGROUP:43B3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:43B3
TRANGROUP:43B3 COPYLP:				       ; ...
TRANGROUP:43B3		       mov     bx, ds:SRCHAND
TRANGROUP:43B7		       mov     cx, ds:BYTCNT
TRANGROUP:43BB		       mov     dx, ds:NXTADD
TRANGROUP:43BF		       sub     cx, dx
TRANGROUP:43C1		       jnz     short GOTROOM
TRANGROUP:43C3		       call    FlshFil
TRANGROUP:43C6		       cmp     ds:TERMREAD, 0
TRANGROUP:43CB		       jnz     short CLOSESRC
TRANGROUP:43CD		       mov     cx, ds:BYTCNT
TRANGROUP:43D1
TRANGROUP:43D1 GOTROOM:				       ; ...
TRANGROUP:43D1		       push    ds
TRANGROUP:43D2		       mov     ds, ds:TPA
TRANGROUP:43D6		       mov     ah, 3Fh
TRANGROUP:43D8		       int     21h	       ; DOS - 2+ - READ FROM FILE WITH	HANDLE
TRANGROUP:43D8					       ; BX = file handle, CX =	number of bytes	to read
TRANGROUP:43D8					       ; DS:DX -> buffer
TRANGROUP:43DA		       pop     ds
TRANGROUP:43DB		       jb      short Error_On_Source
TRANGROUP:43DD		       mov     cx, ax
TRANGROUP:43DF		       jcxz    short CLOSESRC
TRANGROUP:43E1		       cmp     ds:SRCISDEV, 0
TRANGROUP:43E6		       jnz     short NOTESTA
TRANGROUP:43E8		       cmp     ds:ASCII, 0
TRANGROUP:43ED		       jz      short BINREAD
TRANGROUP:43EF
TRANGROUP:43EF NOTESTA:				       ; ...
TRANGROUP:43EF		       mov     dx, cx
TRANGROUP:43F1		       mov     di, ds:NXTADD
TRANGROUP:43F5		       mov     al, 1Ah
TRANGROUP:43F7		       push    es
TRANGROUP:43F8		       mov     es, ds:TPA
TRANGROUP:43FC		       repne scasb
TRANGROUP:43FE		       pop     es
TRANGROUP:43FF		       jnz     short USEALL
TRANGROUP:4401		       inc     ds:IFNOTFLAG    ; inc byte [RDEOF]
TRANGROUP:4405		       inc     cx
TRANGROUP:4406
TRANGROUP:4406 USEALL:				       ; ...
TRANGROUP:4406		       sub     dx, cx
TRANGROUP:4408		       mov     cx, dx
TRANGROUP:440A
TRANGROUP:440A BINREAD:				       ; ...
TRANGROUP:440A		       add     cx, ds:NXTADD
TRANGROUP:440E		       mov     ds:NXTADD, cx
TRANGROUP:4412		       cmp     cx, ds:BYTCNT
TRANGROUP:4416		       jb      short TESTDEV
TRANGROUP:4418		       call    FlshFil
TRANGROUP:441B		       cmp     ds:TERMREAD, 0
TRANGROUP:4420		       jnz     short CLOSESRC
TRANGROUP:4422		       jmp     short COPYLP
TRANGROUP:4424 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4424
TRANGROUP:4424 TESTDEV:				       ; ...
TRANGROUP:4424		       cmp     ds:SRCISDEV, 0
TRANGROUP:4429		       jz      short CLOSESRC
TRANGROUP:442B		       cmp     ds:IFNOTFLAG, 0 ; cmp byte [RDEOF],0
TRANGROUP:4430		       jz      short COPYLP
TRANGROUP:4430 DOCOPY	       endp
TRANGROUP:4430
TRANGROUP:4432
TRANGROUP:4432 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4432
TRANGROUP:4432
TRANGROUP:4432 CLOSESRC	       proc near	       ; ...
TRANGROUP:4432		       mov     bx, ds:SRCHAND
TRANGROUP:4436		       mov     ah, 3Eh
TRANGROUP:4438		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:4438					       ; BX = file handle
TRANGROUP:443A
TRANGROUP:443A CLOSESRCDEST_RETN:		       ; ...
TRANGROUP:443A		       retn
TRANGROUP:443A CLOSESRC	       endp
TRANGROUP:443A
TRANGROUP:443B
TRANGROUP:443B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:443B
TRANGROUP:443B
TRANGROUP:443B CLOSEDEST       proc near	       ; ...
TRANGROUP:443B
TRANGROUP:443B ; FUNCTION CHUNK	AT TRANGROUP:4511 SIZE 00000012	BYTES
TRANGROUP:443B
TRANGROUP:443B		       cmp     ds:SPECDRV, 0   ; byte [DestClosed]
TRANGROUP:4440		       jnz     short CLOSESRCDEST_RETN
TRANGROUP:4442		       mov     al, byte	ptr ds:ARG2S ; byte [DestSwitch]
TRANGROUP:4445		       call    SETASC
TRANGROUP:4448		       jz      short BINCLOS
TRANGROUP:444A		       mov     bx, ds:NXTADD
TRANGROUP:444E		       call    TRYFLUSH
TRANGROUP:4451		       jz      short NOCONC
TRANGROUP:4453
TRANGROUP:4453 CONCHNG:				       ; ...
TRANGROUP:4453		       stc
TRANGROUP:4454		       retn
TRANGROUP:4455 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4455
TRANGROUP:4455 NOCONC:				       ; ...
TRANGROUP:4455		       xor     bx, bx
TRANGROUP:4457		       push    ds
TRANGROUP:4458		       mov     ds, ds:TPA
TRANGROUP:445C		       mov     word ptr	[bx], 1Ah ; EOF	mark (ctrl-Z)
TRANGROUP:4460		       pop     ds
TRANGROUP:4461		       inc     ds:NXTADD
TRANGROUP:4465		       mov     ds:NOWRITE, 0
TRANGROUP:446A		       mov     ax, ds:WRITTEN
TRANGROUP:446D		       add     ax, ds:NXTADD
TRANGROUP:4471		       jb      short BINCLOS
TRANGROUP:4473		       cmp     ax, 1
TRANGROUP:4476		       jz      short FORGETITJ
TRANGROUP:4478
TRANGROUP:4478 BINCLOS:				       ; ...
TRANGROUP:4478		       call    TRYFLUSH
TRANGROUP:447B		       jnz     short CONCHNG
TRANGROUP:447D		       cmp     ds:WRITTEN, 0
TRANGROUP:4482
TRANGROUP:4482 FORGETITJ:			       ; ...
TRANGROUP:4482		       jnz     short NO_FORGET
TRANGROUP:4484		       jmp     FORGETIT
TRANGROUP:4487 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4487
TRANGROUP:4487 NO_FORGET:			       ; ...
TRANGROUP:4487		       mov     bx, ds:EndDestBuf ; [DESTHAND]
TRANGROUP:448B		       mov     cx, ds:CPTIME
TRANGROUP:448F		       mov     dx, ds:CPDATE
TRANGROUP:4493		       cmp     ds:INEXACT, 0
TRANGROUP:4498		       jz      short DODCLOSE
TRANGROUP:449A		       mov     ah, 2Ch
TRANGROUP:449C		       int     21h	       ; DOS - GET CURRENT TIME
TRANGROUP:449C					       ; Return: CH = hours, CL	= minutes, DH =	seconds
TRANGROUP:449C					       ; DL = hundredths of seconds
TRANGROUP:449E		       shl     cl, 1
TRANGROUP:44A0		       shl     cl, 1
TRANGROUP:44A2		       shl     cx, 1
TRANGROUP:44A4		       shl     cx, 1
TRANGROUP:44A6		       shl     cx, 1
TRANGROUP:44A8		       shr     dh, 1
TRANGROUP:44AA		       or      cl, dh
TRANGROUP:44AC		       push    cx
TRANGROUP:44AD		       mov     ah, 2Ah
TRANGROUP:44AF		       int     21h	       ; DOS - GET CURRENT DATE
TRANGROUP:44AF					       ; Return: DL = day, DH =	month, CX = year
TRANGROUP:44AF					       ; AL = day of the week (0=Sunday, 1=Monday, etc.)
TRANGROUP:44B1		       sub     cx, 1980
TRANGROUP:44B5		       xchg    ch, cl
TRANGROUP:44B7		       shl     cx, 1
TRANGROUP:44B9		       shl     dh, 1
TRANGROUP:44BB		       shl     dh, 1
TRANGROUP:44BD		       shl     dh, 1
TRANGROUP:44BF		       shl     dh, 1
TRANGROUP:44C1		       shl     dh, 1
TRANGROUP:44C3		       adc     ch, 0
TRANGROUP:44C6		       or      dl, dh
TRANGROUP:44C8		       mov     dh, ch
TRANGROUP:44CA		       pop     cx
TRANGROUP:44CA CLOSEDEST       endp
TRANGROUP:44CA
TRANGROUP:44CB
TRANGROUP:44CB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:44CB
TRANGROUP:44CB
TRANGROUP:44CB DODCLOSE	       proc near	       ; ...
TRANGROUP:44CB		       cmp     bx, 0
TRANGROUP:44CE		       jle     short CLOSEDONE
TRANGROUP:44D0		       mov     ax, 5701h
TRANGROUP:44D3		       int     21h	       ; DOS - 2+ - SET	FILE'S DATE/TIME
TRANGROUP:44D3					       ; BX = file handle, CX =	time to	be set
TRANGROUP:44D3					       ; DX = date to be set
TRANGROUP:44D5		       jb      short Cleanup_Err
TRANGROUP:44D7		       mov     ax, 4202h
TRANGROUP:44DA		       xor     dx, dx
TRANGROUP:44DC		       mov     cx, dx
TRANGROUP:44DE		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:44DE					       ; AL = method: offset from end of file
TRANGROUP:44E0		       or      dx, ax
TRANGROUP:44E2		       pushf
TRANGROUP:44E3		       mov     ax, 4400h
TRANGROUP:44E6		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:44E6					       ; BX = file or device handle
TRANGROUP:44E8		       push    dx
TRANGROUP:44E9		       mov     ah, 3Eh
TRANGROUP:44EB		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:44EB					       ; BX = file handle
TRANGROUP:44ED		       pop     dx
TRANGROUP:44EE		       jnb     short Close_Cont
TRANGROUP:44F0		       popf
TRANGROUP:44F1
TRANGROUP:44F1 Cleanup_Err:			       ; ...
TRANGROUP:44F1		       call    CleanUpErr
TRANGROUP:44F4		       call    DestDelete
TRANGROUP:44F7		       jmp     short FILECLOSED
TRANGROUP:44F9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:44F9
TRANGROUP:44F9 Close_Cont:			       ; ...
TRANGROUP:44F9		       popf
TRANGROUP:44FA		       jnz     short CLOSEDONE
TRANGROUP:44FC		       test    dx, 80h
TRANGROUP:4500		       jnz     short CLOSEDONE
TRANGROUP:4502		       call    DestDelete
TRANGROUP:4505		       jmp     short FILECLOSED
TRANGROUP:4507 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4507
TRANGROUP:4507 CLOSEDONE:			       ; ...
TRANGROUP:4507		       inc     ds:FileCnt
TRANGROUP:450B
TRANGROUP:450B FILECLOSED:			       ; ...
TRANGROUP:450B		       inc     ds:SPECDRV      ; [DestClosed]
TRANGROUP:450F
TRANGROUP:450F RET50:				       ; ...
TRANGROUP:450F		       clc
TRANGROUP:4510		       retn
TRANGROUP:4510 DODCLOSE	       endp
TRANGROUP:4510
TRANGROUP:4511 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4511 ; START OF FUNCTION CHUNK FOR CLOSEDEST
TRANGROUP:4511
TRANGROUP:4511 FORGETIT:			       ; ...
TRANGROUP:4511		       mov     bx, ds:EndDestBuf ; [DESTHAND]
TRANGROUP:4515		       call    DODCLOSE
TRANGROUP:4518		       call    DestDelete
TRANGROUP:451B		       mov     ds:FileCnt, 0
TRANGROUP:4521		       jmp     short RET50
TRANGROUP:4521 ; END OF	FUNCTION CHUNK FOR CLOSEDEST
TRANGROUP:4523
TRANGROUP:4523 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4523
TRANGROUP:4523
TRANGROUP:4523 DestDelete      proc near	       ; ...
TRANGROUP:4523		       mov     dx, offset DestBuf
TRANGROUP:4526		       mov     ah, 41h
TRANGROUP:4528		       int     21h	       ; DOS - 2+ - DELETE A FILE (UNLINK)
TRANGROUP:4528					       ; DS:DX -> ASCIZ	pathname of file to delete (no wildcards allowed)
TRANGROUP:452A		       retn
TRANGROUP:452A DestDelete      endp
TRANGROUP:452A
TRANGROUP:452B
TRANGROUP:452B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:452B
TRANGROUP:452B
TRANGROUP:452B SOURCE_SET      proc near	       ; ...
TRANGROUP:452B		       push    si
TRANGROUP:452C		       mov     ax, ds:STARTEL
TRANGROUP:452F		       mov     si, offset ScanBuf
TRANGROUP:4532		       sub     ax, si
TRANGROUP:4534		       mov     di, offset SrcBuf
TRANGROUP:4537		       add     ax, di
TRANGROUP:4539		       mov     ds:SrcTail, ax
TRANGROUP:453C		       mov     ds:SrcSiz, cl
TRANGROUP:4540		       inc     cx
TRANGROUP:4541		       rep movsb
TRANGROUP:4543		       mov     ds:SrcInfo, bh
TRANGROUP:4547		       pop     si
TRANGROUP:4548		       mov     ax, bp
TRANGROUP:454A		       call    SETASC
TRANGROUP:454D		       call    SWITCH
TRANGROUP:4550		       call    SETASC
TRANGROUP:4553		       retn
TRANGROUP:4553 SOURCE_SET      endp
TRANGROUP:4553
TRANGROUP:4554
TRANGROUP:4554 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4554
TRANGROUP:4554
TRANGROUP:4554 CleanUpErr      proc near	       ; ...
TRANGROUP:4554		       cmp     ds:msg_flag, 0
TRANGROUP:4559		       jnz     short CleanupErr_Cont
TRANGROUP:455B		       call    Set_Ext_Error_Msg
TRANGROUP:455E		       mov     ds:string_ptr_2,	offset DestBuf
TRANGROUP:4564		       mov     ds:extend_buf_sub, 1 ; one_subst
TRANGROUP:4569		       call    std_eprintf
TRANGROUP:456C
TRANGROUP:456C CleanupErr_Cont:			       ; ...
TRANGROUP:456C		       retn
TRANGROUP:456C CleanUpErr      endp
TRANGROUP:456C
TRANGROUP:456D
TRANGROUP:456D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:456D
TRANGROUP:456D
TRANGROUP:456D get_answer_YNA  proc near	       ; ...
TRANGROUP:456D		       mov     ds:cox_dest_file, 0 ; clear validation flag
TRANGROUP:4572		       mov     ax, 4300h
TRANGROUP:4575		       mov     dx, offset DestBuf
TRANGROUP:4578		       int     21h	       ; DOS - 2+ - GET	FILE ATTRIBUTES
TRANGROUP:4578					       ; DS:DX -> ASCIZ	file name or directory
TRANGROUP:4578					       ; name without trailing slash
TRANGROUP:457A		       jnb     short getansw_1
TRANGROUP:457C		       jmp     getansw_5
TRANGROUP:457F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:457F
TRANGROUP:457F getansw_1:			       ; ...
TRANGROUP:457F		       inc     ds:cox_dest_file	; valid	destination file
TRANGROUP:4583		       lea     si, cox_sublist_buff
TRANGROUP:4587		       mov     word ptr	[si], 11 ; sublist size, 11 bytes
TRANGROUP:458B		       mov     word ptr	[si+2],	offset DestBuf ; sublist value (pointer)
TRANGROUP:4590		       mov     word ptr	[si+4],	ds ; sublist segment
TRANGROUP:4593		       mov     byte ptr	[si+6],	1 ; sub	id (N of %N)
TRANGROUP:4597		       mov     byte ptr	[si+7],	10h ; data type	flags
TRANGROUP:459B		       mov     byte ptr	[si+8],	0 ; maximum length (chars)
TRANGROUP:459F		       mov     byte ptr	[si+9],	0 ; minimum length (chars)
TRANGROUP:45A3		       mov     byte ptr	[si+10], 0 ; pad field character (0)
TRANGROUP:45A7		       lea     si, cox_sublist_buff
TRANGROUP:45AB		       mov     ax, 1103	       ; message number
TRANGROUP:45AB					       ; 'Overwrite %1 (Yes/No/All)?'
TRANGROUP:45AE		       mov     bx, 2	       ; std error (file handle	= 2)
TRANGROUP:45B1		       mov     cx, 1	       ; byte count
TRANGROUP:45B4		       mov     dh, 0FFh	       ; message class (utility)
TRANGROUP:45B6		       xor     dl, dl	       ; control flag =	0
TRANGROUP:45B8		       call    SYSDISPMSG
TRANGROUP:45BB		       xor     bx, bx
TRANGROUP:45BD
TRANGROUP:45BD getansw_2:			       ; ...
TRANGROUP:45BD		       mov     ax, 0C08h
TRANGROUP:45C0		       int     21h	       ; DOS - CLEAR KEYBOARD BUFFER
TRANGROUP:45C0					       ; AL must be 01h, 06h, 07h, 08h,	or 0Ah.
TRANGROUP:45C2		       cmp     al, 0
TRANGROUP:45C4		       jz      short getansw_2
TRANGROUP:45C6		       cmp     al, 0Dh
TRANGROUP:45C8		       jz      short getansw_4
TRANGROUP:45CA		       mov     bl, al
TRANGROUP:45CC		       mov     dl, al
TRANGROUP:45CE		       mov     ax, 6520h
TRANGROUP:45D1		       int     21h	       ; DOS - 4.x internal - COUNTRY-DEPENDENT	FILENAME CAPITALIZATION
TRANGROUP:45D1					       ; AL = function -
TRANGROUP:45D3		       cmp     dl, ds:_Y_es    ; 'Y' ?
TRANGROUP:45D7		       jz      short getansw_3
TRANGROUP:45D9		       cmp     dl, ds:_N_o     ; 'N' ?
TRANGROUP:45DD		       jz      short getansw_3
TRANGROUP:45DF		       cmp     dl, ds:_A_ll    ; 'A' ?
TRANGROUP:45E3		       jnz     short getansw_2
TRANGROUP:45E5
TRANGROUP:45E5 getansw_3:			       ; ...
TRANGROUP:45E5		       mov     bh, bl
TRANGROUP:45E7		       push    bx
TRANGROUP:45E8		       mov     ds:MSG_1104, bl
TRANGROUP:45EC		       mov     ah, 40h
TRANGROUP:45EE		       mov     bx, 2	       ; std error (file handle	= 2)
TRANGROUP:45F1		       mov     cx, 1	       ; byte count
TRANGROUP:45F4		       mov     dx, offset MSG_1104
TRANGROUP:45F7		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:45F7					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:45F9		       mov     ah, 40h
TRANGROUP:45FB		       mov     ds:MSG_1104, 8  ; backspace (move cursor	to back)
TRANGROUP:4600		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:4600					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:4602		       pop     bx
TRANGROUP:4603		       jmp     short getansw_2
TRANGROUP:4605 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4605
TRANGROUP:4605 getansw_4:			       ; ...
TRANGROUP:4605		       cmp     bh, 0
TRANGROUP:4608		       jz      short getansw_2
TRANGROUP:460A		       mov     dl, bh
TRANGROUP:460C		       mov     ax, 6520h
TRANGROUP:460F		       int     21h	       ; DOS - 4.x internal - COUNTRY-DEPENDENT	FILENAME CAPITALIZATION
TRANGROUP:460F					       ; AL = function -
TRANGROUP:4611		       push    dx
TRANGROUP:4612		       mov     ax, 1070	       ; message number
TRANGROUP:4615		       mov     bx, 2	       ; std error (file handle	= 2)
TRANGROUP:4618		       xor     cx, cx
TRANGROUP:461A		       mov     dh, 0FFh	       ; message class (utility)
TRANGROUP:461C		       xor     dl, dl
TRANGROUP:461E		       call    SYSDISPMSG
TRANGROUP:4621		       pop     dx
TRANGROUP:4622		       cmp     dl, ds:_Y_es
TRANGROUP:4626		       jz      short getansw_5
TRANGROUP:4628		       cmp     dl, ds:_N_o
TRANGROUP:462C		       jz      short getansw_6
TRANGROUP:462E		       mov     ds:cox_y_override, 0
TRANGROUP:4633		       jmp     short $+2
TRANGROUP:4635
TRANGROUP:4635 getansw_5:			       ; ...
TRANGROUP:4635		       clc
TRANGROUP:4636		       jmp     short getansw_7
TRANGROUP:4638 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4638
TRANGROUP:4638 getansw_6:			       ; ...
TRANGROUP:4638		       stc
TRANGROUP:4639
TRANGROUP:4639 getansw_7:			       ; ...
TRANGROUP:4639		       retn
TRANGROUP:4639 get_answer_YNA  endp
TRANGROUP:4639
TRANGROUP:463A
TRANGROUP:463A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:463A
TRANGROUP:463A
TRANGROUP:463A init_copycmd_option proc	near	       ; ...
TRANGROUP:463A		       mov     ds:cox_y_override, 1 ; suppress copy overwrite confirmation
TRANGROUP:463F		       push    es
TRANGROUP:4640		       mov     es, ds:RESSEG
TRANGROUP:4644		       mov     es, es:EnvirSeg
TRANGROUP:4649		       lea     si, copycmd     ; "COPYCMD="
TRANGROUP:464D		       mov     cx, 8
TRANGROUP:4650		       call    getenv_copycmd
TRANGROUP:4653		       jb      short icpcmd_3
TRANGROUP:4655		       call    get_copycmd_option ; copycmd=/Y or copycmd=/-Y
TRANGROUP:4658		       jb      short icpcmd_2
TRANGROUP:465A		       inc     di	       ; skip '/'
TRANGROUP:465B		       mov     al, es:[di]
TRANGROUP:465E		       and     al, 0DFh	       ; convert to uppercase
TRANGROUP:4660		       cmp     al, 'Y'
TRANGROUP:4662		       jnz     short icpcmd_2
TRANGROUP:4664
TRANGROUP:4664 icpcmd_1:			       ; ...
TRANGROUP:4664		       mov     ds:cox_y_override, 0 ; clear copy overwrite question/confirmation
TRANGROUP:4664					       ; (don't suppress)
TRANGROUP:4669
TRANGROUP:4669 icpcmd_2:			       ; ...
TRANGROUP:4669		       pop     es
TRANGROUP:466A		       retn
TRANGROUP:466B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:466B
TRANGROUP:466B icpcmd_3:			       ; ...
TRANGROUP:466B		       mov     es, ds:RESSEG
TRANGROUP:466F		       cmp     es:cox_Y_option,	0 ; default (/Y) switch	option (1 = enabled)
TRANGROUP:4675		       jz      short icpcmd_2
TRANGROUP:4677		       jmp     short icpcmd_1
TRANGROUP:4677 init_copycmd_option endp
TRANGROUP:4677
TRANGROUP:4679
TRANGROUP:4679 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4679
TRANGROUP:4679
TRANGROUP:4679 get_copycmd_option proc near	       ; ...
TRANGROUP:4679		       cmp     byte ptr	es:[di], 0
TRANGROUP:467D		       jz      short gcpcmdo_2
TRANGROUP:467F		       cmp     byte ptr	es:[di], '/'
TRANGROUP:4683		       jz      short gcpcmdo_1
TRANGROUP:4685		       inc     di
TRANGROUP:4686		       jmp     short get_copycmd_option
TRANGROUP:4688 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4688
TRANGROUP:4688 gcpcmdo_1:			       ; ...
TRANGROUP:4688		       clc
TRANGROUP:4689		       jmp     short gcpcmdo_3
TRANGROUP:468B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:468B
TRANGROUP:468B gcpcmdo_2:			       ; ...
TRANGROUP:468B		       stc
TRANGROUP:468C
TRANGROUP:468C gcpcmdo_3:			       ; ...
TRANGROUP:468C		       retn
TRANGROUP:468C get_copycmd_option endp
TRANGROUP:468C
TRANGROUP:468D
TRANGROUP:468D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:468D
TRANGROUP:468D
TRANGROUP:468D getenv_copycmd  proc near	       ; ...
TRANGROUP:468D		       xor     di, di
TRANGROUP:468F		       xor     al, al
TRANGROUP:4691
TRANGROUP:4691 gecpcmd_1:			       ; ...
TRANGROUP:4691		       cmp     byte ptr	es:[di], 0
TRANGROUP:4695		       jz      short gecpcmd_3
TRANGROUP:4697		       push    cx
TRANGROUP:4698		       push    si
TRANGROUP:4699		       repe cmpsb
TRANGROUP:469B		       pop     si
TRANGROUP:469C		       pop     cx
TRANGROUP:469D		       jz      short gecpcmd_2
TRANGROUP:469F		       push    cx
TRANGROUP:46A0		       mov     cx, 32768
TRANGROUP:46A3		       repne scasb
TRANGROUP:46A5		       pop     cx
TRANGROUP:46A6		       jmp     short gecpcmd_1
TRANGROUP:46A8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:46A8
TRANGROUP:46A8 gecpcmd_2:			       ; ...
TRANGROUP:46A8		       clc
TRANGROUP:46A9		       jmp     short gecpcmd_4
TRANGROUP:46AB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:46AB
TRANGROUP:46AB gecpcmd_3:			       ; ...
TRANGROUP:46AB		       stc
TRANGROUP:46AC
TRANGROUP:46AC gecpcmd_4:			       ; ...
TRANGROUP:46AC		       retn
TRANGROUP:46AC getenv_copycmd  endp
TRANGROUP:46AC
TRANGROUP:46AD
TRANGROUP:46AD ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:46AD
TRANGROUP:46AD
TRANGROUP:46AD TRYFLUSH	       proc near	       ; ...
TRANGROUP:46AD		       mov     al, ds:PARM1    ; [Concat]
TRANGROUP:46B0		       push    ax
TRANGROUP:46B1		       call    FlshFil
TRANGROUP:46B4		       pop     ax
TRANGROUP:46B5		       cmp     al, ds:PARM1    ; [Concat]
TRANGROUP:46B9		       retn
TRANGROUP:46B9 TRYFLUSH	       endp
TRANGROUP:46B9
TRANGROUP:46BA
TRANGROUP:46BA ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:46BA
TRANGROUP:46BA
TRANGROUP:46BA FlshFil	       proc near	       ; ...
TRANGROUP:46BA		       mov     ds:TERMREAD, 0
TRANGROUP:46BF		       cmp     ds:CFLAG, 0
TRANGROUP:46C4		       jz      short NotExists
TRANGROUP:46C6		       jmp     Exists
TRANGROUP:46C9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:46C9
TRANGROUP:46C9 NotExists:			       ; ...
TRANGROUP:46C9		       call    BUILDDEST
TRANGROUP:46CC		       call    COMPNAME
TRANGROUP:46CF		       jnz     short ProcDest
TRANGROUP:46D1		       cmp     ds:SRCISDEV, 0
TRANGROUP:46D6		       jnz     short ProcDest
TRANGROUP:46D8		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:46DD		       mov     dx, offset OVERWR_PTR
TRANGROUP:46E0		       jnz     short No_Concat_Err
TRANGROUP:46E2		       jmp     COPYERR
TRANGROUP:46E5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:46E5
TRANGROUP:46E5 No_Concat_Err:			       ; ...
TRANGROUP:46E5		       mov     ds:NOWRITE, 1
TRANGROUP:46EA
TRANGROUP:46EA ProcDest:			       ; ...
TRANGROUP:46EA		       mov     ax, 6C00h
TRANGROUP:46ED		       mov     si, offset DestBuf
TRANGROUP:46F0		       mov     bx, 21h
TRANGROUP:46F3		       xor     cx, cx
TRANGROUP:46F5		       mov     dx, 101h
TRANGROUP:46F8		       cmp     ds:NOWRITE, 0
TRANGROUP:46FD		       jnz     short DoDestOpen
TRANGROUP:46FF		       mov     dx, 112h
TRANGROUP:4702
TRANGROUP:4702 DoDestOpen:			       ; ...
TRANGROUP:4702		       int     21h	       ; DOS - 4.0 - EXTENDED OPEN/CREATE
TRANGROUP:4702					       ; BL = open mode	as in AL for normal open (INT 21h/AH=3Dh)
TRANGROUP:4702					       ; BH = flags, CX	= create attribute, DL = action	if file	exists/does not	exists
TRANGROUP:4702					       ; DH = 00h (reserved), DS:SI -> ASCIZ file name
TRANGROUP:4704		       jnb     short Dest_Open_Okay
TRANGROUP:4706
TRANGROUP:4706 Xa_Set_Error:			       ; ...
TRANGROUP:4706		       call    Set_Ext_Error_Msg
TRANGROUP:4709		       mov     ds:string_ptr_2,	offset DestBuf
TRANGROUP:470F		       mov     ds:extend_buf_sub, 1
TRANGROUP:4714		       jmp     COPYERR
TRANGROUP:4717 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4717
TRANGROUP:4717 Dest_Open_Okay:			       ; ...
TRANGROUP:4717		       mov     ds:EndDestBuf, ax ; [DESTHAND]
TRANGROUP:471A		       mov     ds:CFLAG, 1
TRANGROUP:471F		       mov     bx, ax
TRANGROUP:4721		       mov     ax, 4400h
TRANGROUP:4724		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:4724					       ; BX = file or device handle
TRANGROUP:4726		       mov     ds:DESTISDEV, dl
TRANGROUP:472A		       test    dl, 80h
TRANGROUP:472D		       jz      short Exists
TRANGROUP:472F		       mov     al, byte	ptr ds:ARG2S ; [DestSwitch]
TRANGROUP:4732		       and     al, 0Ch	       ; SWITCHA+SWITCHB ; 4+8
TRANGROUP:4734		       jnz     short TestBoth
TRANGROUP:4736		       mov     al, ds:ASCII
TRANGROUP:4739		       or      al, ds:BINARY
TRANGROUP:473D		       jz      short ExSetA
TRANGROUP:473F
TRANGROUP:473F TestBoth:			       ; ...
TRANGROUP:473F		       jp      short Exists
TRANGROUP:4741		       test    al, 8	       ; SWITCHB
TRANGROUP:4743		       jz      short Exists
TRANGROUP:4745		       mov     ax, 4401h
TRANGROUP:4748		       xor     dh, dh
TRANGROUP:474A		       or      dl, 20h	       ; devid_RAW
TRANGROUP:474D		       mov     ds:DESTISDEV, dl
TRANGROUP:4751		       int     21h	       ; DOS - 2+ - IOCTL - SET	DEVICE INFORMATION
TRANGROUP:4751					       ; BX = device handle, DH	= 0
TRANGROUP:4751					       ; DL = device information to set	(bits 0-7 from function	0)
TRANGROUP:4753		       jmp     short Exists
TRANGROUP:4755 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4755		       jmp     COPYERR
TRANGROUP:4758 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4758
TRANGROUP:4758 ExSetA:				       ; ...
TRANGROUP:4758		       mov     ds:ASCII, 4     ; SWITCHA
TRANGROUP:475D		       or      ds:INEXACT, 4   ; SWITCHA
TRANGROUP:4762
TRANGROUP:4762 Exists:				       ; ...
TRANGROUP:4762		       cmp     ds:NOWRITE, 0
TRANGROUP:4767		       jnz     short NoChecking
TRANGROUP:4769		       cmp     ds:plus_comma, 1
TRANGROUP:476E		       jz      short NoChecking
TRANGROUP:4770		       call    COMPNAME
TRANGROUP:4773		       jnz     short NoChecking
TRANGROUP:4775		       cmp     ds:SRCISDEV, 0
TRANGROUP:477A		       jnz     short NoChecking
TRANGROUP:477C		       mov     dx, offset LOSTERR_PTR
TRANGROUP:477F		       call    std_eprintf
TRANGROUP:4782		       mov     ds:NXTADD, 0
TRANGROUP:4788		       inc     ds:TERMREAD
TRANGROUP:478C
TRANGROUP:478C Ret60:				       ; ...
TRANGROUP:478C		       retn
TRANGROUP:478D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:478D
TRANGROUP:478D NoChecking:			       ; ...
TRANGROUP:478D		       mov     bx, ds:EndDestBuf ; [DESTHAND]
TRANGROUP:4791		       xor     cx, cx
TRANGROUP:4793		       xchg    cx, ds:NXTADD
TRANGROUP:4797		       jcxz    short Ret60
TRANGROUP:4799		       inc     ds:WRITTEN
TRANGROUP:479D		       cmp     ds:NOWRITE, 0
TRANGROUP:47A2		       jnz     short SeekEnd
TRANGROUP:47A4		       xor     dx, dx
TRANGROUP:47A6		       push    ds
TRANGROUP:47A7		       mov     ds, ds:TPA
TRANGROUP:47AB		       mov     ah, 40h
TRANGROUP:47AD		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:47AD					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:47AF		       pop     ds
TRANGROUP:47B0		       mov     dx, offset NOSPACE_PTR
TRANGROUP:47B3		       jnb     short NoChecking2
TRANGROUP:47B5		       jmp     Xa_Set_Error
TRANGROUP:47B8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:47B8
TRANGROUP:47B8 NoChecking2:			       ; ...
TRANGROUP:47B8		       sub     cx, ax
TRANGROUP:47BA		       jz      short Ret60
TRANGROUP:47BC		       test    ds:DESTISDEV, 80h ; devid_ISDEV
TRANGROUP:47C1		       jz      short COPYERR
TRANGROUP:47C3		       test    ds:DESTISDEV, 20h ; devid_RAW
TRANGROUP:47C8		       jnz     short DevWrtErr
TRANGROUP:47CA		       cmp     ds:INEXACT, 0
TRANGROUP:47CF		       jnz     short Ret60
TRANGROUP:47D1		       dec     cx
TRANGROUP:47D2		       jz      short Ret60
TRANGROUP:47D4
TRANGROUP:47D4 DevWrtErr:			       ; ...
TRANGROUP:47D4		       mov     dx, offset DEVWMES_PTR
TRANGROUP:47D7		       jmp     short COPYERR
TRANGROUP:47D9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:47D9
TRANGROUP:47D9 SeekEnd:				       ; ...
TRANGROUP:47D9		       xor     dx, dx
TRANGROUP:47DB		       xchg    dx, cx
TRANGROUP:47DD		       mov     ax, 4201h
TRANGROUP:47E0		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:47E0					       ; AL = method: offset from present location
TRANGROUP:47E2		       mov     ds:OFilePtr_Lo, ax
TRANGROUP:47E5		       mov     ds:OFilePtr_Hi, dx
TRANGROUP:47E9		       cmp     ds:IFNOTFLAG, 0 ; cmp byte [RDEOF],0
TRANGROUP:47EE		       jz      short Ret60
TRANGROUP:47F0		       mov     ah, 40h
TRANGROUP:47F2		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:47F2					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:47F4		       jb      short Xa_Set_Error_Jmp
TRANGROUP:47F6		       mov     ds:OCtrlZ, 1Ah
TRANGROUP:47FB		       retn
TRANGROUP:47FC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:47FC
TRANGROUP:47FC COPYERR:				       ; ...
TRANGROUP:47FC		       call    std_eprintf
TRANGROUP:47FF
TRANGROUP:47FF CopErrP:				       ; inc byte [DestClosed]
TRANGROUP:47FF		       inc     ds:SPECDRV
TRANGROUP:4803		       cmp     ds:CFLAG, 0
TRANGROUP:4808		       jz      short EndCopyJ
TRANGROUP:480A		       mov     bx, ds:EndDestBuf ; [DESTHAND]
TRANGROUP:480E		       cmp     bx, 0
TRANGROUP:4811		       jle     short NoClose
TRANGROUP:4813		       mov     cx, ds:OFilePtr_Hi
TRANGROUP:4817		       mov     dx, ds:OFilePtr_Lo
TRANGROUP:481B		       mov     ax, cx
TRANGROUP:481D		       or      ax, dx
TRANGROUP:481F		       jz      short ceClose
TRANGROUP:4821		       mov     ax, 4200h
TRANGROUP:4824		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:4824					       ; AL = method: offset from beginning of file
TRANGROUP:4826		       xor     cx, cx
TRANGROUP:4828		       mov     ah, 40h
TRANGROUP:482A		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:482A					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:482C		       cmp     ds:OCtrlZ, 0
TRANGROUP:4831		       jz      short ceClose0
TRANGROUP:4833		       inc     cx
TRANGROUP:4834		       mov     dx, offset OCtrlZ
TRANGROUP:4837		       mov     ah, 40h
TRANGROUP:4839		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:4839					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:483B
TRANGROUP:483B ceClose0:			       ; ...
TRANGROUP:483B		       mov     ah, 3Eh
TRANGROUP:483D		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:483D					       ; BX = file handle
TRANGROUP:483F		       jmp     ENDCOPY
TRANGROUP:4842 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4842
TRANGROUP:4842 ceClose:				       ; ...
TRANGROUP:4842		       mov     ah, 3Eh
TRANGROUP:4844		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:4844					       ; BX = file handle
TRANGROUP:4846
TRANGROUP:4846 NoClose:				       ; ...
TRANGROUP:4846		       mov     dx, offset DestBuf
TRANGROUP:4849		       mov     ah, 41h
TRANGROUP:484B		       int     21h	       ; DOS - 2+ - DELETE A FILE (UNLINK)
TRANGROUP:484B					       ; DS:DX -> ASCIZ	pathname of file to delete (no wildcards allowed)
TRANGROUP:484D		       mov     ds:CFLAG, 0
TRANGROUP:4852
TRANGROUP:4852 EndCopyJ:			       ; ...
TRANGROUP:4852		       jmp     ENDCOPY
TRANGROUP:4855 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4855
TRANGROUP:4855 Xa_Set_Error_Jmp:		       ; ...
TRANGROUP:4855		       jmp     Xa_Set_Error
TRANGROUP:4855 FlshFil	       endp
TRANGROUP:4855
TRANGROUP:4858
TRANGROUP:4858 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4858
TRANGROUP:4858
TRANGROUP:4858 SETASC	       proc near	       ; ...
TRANGROUP:4858		       and     al, 0Ch	       ; SWITCHA+SWITCHB
TRANGROUP:485A		       jp      short LOADSW
TRANGROUP:485C		       push    ax
TRANGROUP:485D		       and     al, 8
TRANGROUP:485F		       mov     ds:BINARY, al   ; SWITCHB
TRANGROUP:4862		       pop     ax
TRANGROUP:4863		       and     al, 4	       ; SWITCHA
TRANGROUP:4865		       mov     ds:ASCII, al
TRANGROUP:4868		       or      ds:INEXACT, al
TRANGROUP:486C
TRANGROUP:486C LOADSW:				       ; ...
TRANGROUP:486C		       mov     al, ds:ASCII
TRANGROUP:486F		       or      al, al
TRANGROUP:4871		       retn
TRANGROUP:4871 SETASC	       endp
TRANGROUP:4871
TRANGROUP:4872
TRANGROUP:4872 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4872
TRANGROUP:4872
TRANGROUP:4872 BUILDDEST       proc near	       ; ...
TRANGROUP:4872		       cmp     ds:DestIsDir, 0FFh ; -1
TRANGROUP:4877		       jnz     short KNOWABOUTDEST
TRANGROUP:4879		       mov     di, offset USERDIR1
TRANGROUP:487C		       mov     bp, offset DestIsDir ; offset DestVars
TRANGROUP:487F		       call    BUILDPATH
TRANGROUP:4882		       call    RestUDir1
TRANGROUP:4885
TRANGROUP:4885 KNOWABOUTDEST:			       ; ...
TRANGROUP:4885		       xor     al, al
TRANGROUP:4887		       xchg    al, ds:FIRSTDEST
TRANGROUP:488B		       or      al, al
TRANGROUP:488D		       jnz     short FIRSTDST
TRANGROUP:488F		       jmp     NOFIRSTDEST
TRANGROUP:4892 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4892
TRANGROUP:4892 FIRSTDST:			       ; ...
TRANGROUP:4892		       mov     si, ds:DestTail
TRANGROUP:4896		       mov     di, offset DESTDIR ; offset DestFcb
TRANGROUP:4899		       mov     ax, 2900h
TRANGROUP:489C		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:489C					       ; DS:SI -> string to parse
TRANGROUP:489C					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:489C					       ; AL = bit mask to control parsing
TRANGROUP:489E		       cmp     byte ptr	[si], 0
TRANGROUP:48A1		       jz      short GOODPARSE
TRANGROUP:48A3		       mov     dx, offset FULLDIR_PTR
TRANGROUP:48A6		       jmp     COPYERR
TRANGROUP:48A9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:48A9
TRANGROUP:48A9 GOODPARSE:			       ; ...
TRANGROUP:48A9		       mov     ax, word	ptr ds:DestBuf
TRANGROUP:48AC		       cmp     ah, ':'
TRANGROUP:48AF		       jz      short DRVSPEC4
TRANGROUP:48B1		       mov     al, 40h ; '@'
TRANGROUP:48B3
TRANGROUP:48B3 DRVSPEC4:			       ; ...
TRANGROUP:48B3		       mov     cl, ds:ASCII
TRANGROUP:48B7		       or      al, 20h
TRANGROUP:48B9		       sub     al, 60h
TRANGROUP:48BB		       mov     ds:DESTDIR, al  ; [DestFcb]
TRANGROUP:48BE		       mov     al, ds:DestInfo
TRANGROUP:48C1		       mov     ah, ds:SrcInfo
TRANGROUP:48C5		       and     ax, 202h
TRANGROUP:48C8		       or      al, al
TRANGROUP:48CA		       jz      short NOTMELCOPY
TRANGROUP:48CC		       cmp     al, ah
TRANGROUP:48CE		       jnz     short NOTMELCOPY
TRANGROUP:48D0		       cmp     ds:PLUS,	0
TRANGROUP:48D5		       jz      short NOTMELCOPY
TRANGROUP:48D7		       inc     ds:MELCOPY
TRANGROUP:48DB		       xor     al, al
TRANGROUP:48DD		       jmp     short SETCONC
TRANGROUP:48DF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:48DF
TRANGROUP:48DF NOTMELCOPY:			       ; ...
TRANGROUP:48DF		       xor     al, 2
TRANGROUP:48E1		       and     al, ah
TRANGROUP:48E3		       shr     al, 1
TRANGROUP:48E5
TRANGROUP:48E5 SETCONC:				       ; ...
TRANGROUP:48E5		       or      al, ds:PLUS
TRANGROUP:48E9		       mov     ds:PARM1, al    ; [Concat]
TRANGROUP:48EC		       shl     al, 1
TRANGROUP:48EE		       shl     al, 1
TRANGROUP:48F0		       mov     ds:INEXACT, al
TRANGROUP:48F3		       cmp     ds:BINARY, 0
TRANGROUP:48F8		       jnz     short NOFIRSTDEST
TRANGROUP:48FA		       or      ds:ASCII, al
TRANGROUP:48FE		       or      cl, cl
TRANGROUP:4900		       jnz     short NOFIRSTDEST
TRANGROUP:4902		       or      al, al
TRANGROUP:4904		       jz      short NOFIRSTDEST
TRANGROUP:4906		       mov     cx, ds:NXTADD
TRANGROUP:490A		       jcxz    short NOFIRSTDEST
TRANGROUP:490C		       mov     al, 1Ah
TRANGROUP:490E		       push    es
TRANGROUP:490F		       xor     di, di
TRANGROUP:4911		       mov     es, ds:TPA
TRANGROUP:4915		       repne scasb
TRANGROUP:4917		       pop     es
TRANGROUP:4918		       jnz     short NOFIRSTDEST
TRANGROUP:491A		       dec     di
TRANGROUP:491B		       mov     ds:NXTADD, di
TRANGROUP:491F
TRANGROUP:491F NOFIRSTDEST:			       ; ...
TRANGROUP:491F		       mov     bx, (offset BWDBUF+1) ; DIRBUF+1
TRANGROUP:4922		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:4927		       jz      short GOTCHRSRC
TRANGROUP:4929		       mov     bx, (offset SDIRBUF+1)
TRANGROUP:492C
TRANGROUP:492C GOTCHRSRC:			       ; ...
TRANGROUP:492C		       mov     si, (offset DESTDIR+1)
TRANGROUP:492F		       mov     di, ds:DestTail
TRANGROUP:492F BUILDDEST       endp
TRANGROUP:492F
TRANGROUP:4933
TRANGROUP:4933 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4933
TRANGROUP:4933
TRANGROUP:4933 BUILDNAME       proc near	       ; ...
TRANGROUP:4933		       mov     cx, 8
TRANGROUP:4936
TRANGROUP:4936 BUILDMAIN:			       ; ...
TRANGROUP:4936		       lodsb
TRANGROUP:4937		       cmp     al, '?'
TRANGROUP:4939		       jnz     short NOTAMBIG
TRANGROUP:493B		       mov     al, [bx]
TRANGROUP:493D
TRANGROUP:493D NOTAMBIG:			       ; ...
TRANGROUP:493D		       cmp     al, 20h ; ' '
TRANGROUP:493F		       jz      short NOSTORE
TRANGROUP:4941		       stosb
TRANGROUP:4942
TRANGROUP:4942 NOSTORE:				       ; ...
TRANGROUP:4942		       inc     bx
TRANGROUP:4943		       loop    BUILDMAIN
TRANGROUP:4945		       mov     cl, 3
TRANGROUP:4947		       mov     al, 20h ; ' '
TRANGROUP:4949		       cmp     [si], al
TRANGROUP:494B		       jz      short ENDDEST
TRANGROUP:494D		       mov     al, '.'         ; 2Eh ; dot_chr
TRANGROUP:494F		       stosb
TRANGROUP:4950
TRANGROUP:4950 BUILDEXT:			       ; ...
TRANGROUP:4950		       lodsb
TRANGROUP:4951		       cmp     al, '?'         ; 3Fh
TRANGROUP:4953		       jnz     short NOTAMBIGE
TRANGROUP:4955		       mov     al, [bx]
TRANGROUP:4957
TRANGROUP:4957 NOTAMBIGE:			       ; ...
TRANGROUP:4957		       cmp     al, 20h ; ' '
TRANGROUP:4959		       jz      short NOSTOREE
TRANGROUP:495B		       stosb
TRANGROUP:495C
TRANGROUP:495C NOSTOREE:			       ; ...
TRANGROUP:495C		       inc     bx
TRANGROUP:495D		       loop    BUILDEXT
TRANGROUP:495F
TRANGROUP:495F ENDDEST:				       ; ...
TRANGROUP:495F		       xor     al, al
TRANGROUP:4961		       stosb
TRANGROUP:4962		       retn
TRANGROUP:4962 BUILDNAME       endp
TRANGROUP:4962
TRANGROUP:4963
TRANGROUP:4963 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4963
TRANGROUP:4963
TRANGROUP:4963 BUILDPATH       proc near	       ; ...
TRANGROUP:4963
TRANGROUP:4963 ; FUNCTION CHUNK	AT TRANGROUP:2078 SIZE 00000011	BYTES
TRANGROUP:4963
TRANGROUP:4963		       test    byte ptr	[bp+4],	2 ; [bp+VARSTRUC.INFO]
TRANGROUP:4967		       jnz     short NOTPFILE
TRANGROUP:4969		       mov     dx, bp
TRANGROUP:496B		       add     dx, 5	       ; add dx,VARSTRUC.BUF
TRANGROUP:496E		       push    di
TRANGROUP:496F		       mov     ax, 6C00h
TRANGROUP:4972		       mov     bx, 40h	       ; deny_none or read_open_mode
TRANGROUP:4975		       xor     cx, cx
TRANGROUP:4977		       mov     si, dx
TRANGROUP:4979		       mov     dx, 101h	       ; read_open_flag
TRANGROUP:497C		       int     21h	       ; DOS - 4.0 - EXTENDED OPEN/CREATE
TRANGROUP:497C					       ; BL = open mode	as in AL for normal open (INT 21h/AH=3Dh)
TRANGROUP:497C					       ; BH = flags, CX	= create attribute, DL = action	if file	exists/does not	exists
TRANGROUP:497C					       ; DH = 00h (reserved), DS:SI -> ASCIZ file name
TRANGROUP:497E		       pop     di
TRANGROUP:497F		       jnb     short PURE_FILE
TRANGROUP:4981		       call    get_ext_error_number
TRANGROUP:4984		       cmp     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:4987		       jz      short NOTPFILE
TRANGROUP:4989		       cmp     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:498C		       jz      short NOTPFILE
TRANGROUP:498E		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:4991		       jz      short NOTPFILE
TRANGROUP:4993		       jmp     extend_setup
TRANGROUP:4996 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4996
TRANGROUP:4996 PURE_FILE:			       ; ...
TRANGROUP:4996		       mov     bx, ax
TRANGROUP:4998		       mov     ax, 4400h
TRANGROUP:499B		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:499B					       ; BX = file or device handle
TRANGROUP:499D		       mov     ah, 3Eh
TRANGROUP:499F		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:499F					       ; BX = file handle
TRANGROUP:49A1		       test    dl, 80h
TRANGROUP:49A4		       jnz     short ISADEV
TRANGROUP:49A6		       test    byte ptr	[bp+4],	4 ; [bp+VARSTRUC.INFO]
TRANGROUP:49AA		       jz      short ISADEV
TRANGROUP:49AC
TRANGROUP:49AC NOTPFILE:			       ; ...
TRANGROUP:49AC		       mov     dx, [bp+5]      ; [bp+VARSTRUC.BUF]
TRANGROUP:49AF		       cmp     dl, 0
TRANGROUP:49B2		       jz      short SET_DRIVE_SPEC
TRANGROUP:49B4		       cmp     dh, 3Ah ; ':'
TRANGROUP:49B7		       jz      short DRVSPEC5
TRANGROUP:49B9
TRANGROUP:49B9 SET_DRIVE_SPEC:			       ; ...
TRANGROUP:49B9		       mov     dl, 40h ; '@'
TRANGROUP:49BB
TRANGROUP:49BB DRVSPEC5:			       ; ...
TRANGROUP:49BB		       or      dl, 20h
TRANGROUP:49BE		       sub     dl, 60h	       ; A = 1
TRANGROUP:49C1		       call    SAVUDIR1
TRANGROUP:49C4		       jnb     short CURDIR_OK
TRANGROUP:49C6		       call    get_ext_error_number
TRANGROUP:49C9		       jmp     extend_setup
TRANGROUP:49CC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:49CC
TRANGROUP:49CC CURDIR_OK:			       ; ...
TRANGROUP:49CC		       mov     dx, bp
TRANGROUP:49CE		       add     dx, 5	       ; add dx,VARSTRUC.BUF
TRANGROUP:49D1		       mov     bh, [bp+4]      ; [bp+VARSTRUC.INFO]
TRANGROUP:49D4		       and     bh, 6
TRANGROUP:49D7		       cmp     bh, 6
TRANGROUP:49DA		       jnz     short CHECKAMB
TRANGROUP:49DC		       mov     si, [bp+2]      ; [bp+VARSTRUC.TTAIL]
TRANGROUP:49DF		       mov     bl, 3Ah ; ':'
TRANGROUP:49E1		       cmp     [si-2], bl
TRANGROUP:49E4		       jnz     short KNOWNOTSPEC
TRANGROUP:49E6		       mov     byte ptr	[bp+0],	2 ; [bp+VARSTRUC.ISDIR]
TRANGROUP:49EA		       jmp     short DOPCDJ
TRANGROUP:49EC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:49EC
TRANGROUP:49EC KNOWNOTSPEC:			       ; ...
TRANGROUP:49EC		       mov     byte ptr	[bp+0],	1
TRANGROUP:49F0		       dec     si
TRANGROUP:49F1
TRANGROUP:49F1 DOPCDJ:				       ; ...
TRANGROUP:49F1		       jmp     DOPCD
TRANGROUP:49F4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:49F4
TRANGROUP:49F4 CHECKAMB:			       ; ...
TRANGROUP:49F4		       cmp     bh, 2
TRANGROUP:49F7		       jnz     short CHECKCD
TRANGROUP:49F9
TRANGROUP:49F9 ISADEV:				       ; ...
TRANGROUP:49F9		       mov     byte ptr	[bp+0],	0
TRANGROUP:49FD		       retn
TRANGROUP:49FE ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:49FE
TRANGROUP:49FE CHECKCD:				       ; ...
TRANGROUP:49FE		       call    SetRest1
TRANGROUP:4A01		       mov     ah, 3Bh
TRANGROUP:4A03		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:4A03					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:4A05		       jb      short NOTPDIR
TRANGROUP:4A07		       mov     di, dx
TRANGROUP:4A09		       xor     ax, ax
TRANGROUP:4A0B		       mov     cx, ax
TRANGROUP:4A0D		       dec     cx
TRANGROUP:4A0E
TRANGROUP:4A0E Kloop:				       ; ...
TRANGROUP:4A0E		       mov     al, es:[di]
TRANGROUP:4A11		       inc     di
TRANGROUP:4A12		       or      al, al
TRANGROUP:4A14		       jz      short DONE
TRANGROUP:4A16		       xor     ah, ah
TRANGROUP:4A18		       call    testkanj
TRANGROUP:4A1B		       jz      short Kloop
TRANGROUP:4A1D		       inc     di
TRANGROUP:4A1E		       inc     ah
TRANGROUP:4A20		       jmp     short Kloop
TRANGROUP:4A22 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4A22
TRANGROUP:4A22 DONE:				       ; ...
TRANGROUP:4A22		       dec     di
TRANGROUP:4A23		       mov     al, ds:DIRCHAR
TRANGROUP:4A26		       mov     byte ptr	[bp+0],	2 ; [bp+VARSTRUC.ISDIR]
TRANGROUP:4A2A		       or      ah, ah
TRANGROUP:4A2C		       jnz     short _STORE_PCHAR
TRANGROUP:4A2E		       cmp     al, [di-1]
TRANGROUP:4A31		       jz      short GOTSRCSLSH
TRANGROUP:4A33
TRANGROUP:4A33 _STORE_PCHAR:			       ; ...
TRANGROUP:4A33		       stosb
TRANGROUP:4A34		       mov     byte ptr	[bp+0],	1
TRANGROUP:4A38
TRANGROUP:4A38 GOTSRCSLSH:			       ; ...
TRANGROUP:4A38		       or      byte ptr	[bp+4],	6 ; [bp+VARSTRUC.INFO]
TRANGROUP:4A3C		       call    SETSTARS
TRANGROUP:4A3F
TRANGROUP:4A3F NOTPDIR_RETN:			       ; ...
TRANGROUP:4A3F		       retn
TRANGROUP:4A40 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4A40
TRANGROUP:4A40 NOTPDIR:				       ; ...
TRANGROUP:4A40		       call    get_ext_error_number
TRANGROUP:4A43		       cmp     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:4A46		       jz      short NOTPDIR_TRY
TRANGROUP:4A48		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:4A4B		       jnz     short EXTEND_SETUPJ
TRANGROUP:4A4D
TRANGROUP:4A4D NOTPDIR_TRY:			       ; ...
TRANGROUP:4A4D		       mov     byte ptr	[bp+0],	0 ; [bp+VARSTRUC.ISDIR]
TRANGROUP:4A51		       mov     bh, [bp+4]      ; [bp+VARSTRUC.INFO]
TRANGROUP:4A54		       test    bh, 4
TRANGROUP:4A57		       jz      short NOTPDIR_RETN
TRANGROUP:4A59		       mov     byte ptr	[bp+0],	2
TRANGROUP:4A5D		       mov     si, [bp+2]      ; [bp+VARSTRUC.TTAIL]
TRANGROUP:4A60		       cmp     byte ptr	[si], 0
TRANGROUP:4A63		       jz      short BADCDERRJ2
TRANGROUP:4A65		       mov     bl, 2Eh ; '.'
TRANGROUP:4A67		       cmp     [si], bl
TRANGROUP:4A69		       jz      short BADCDERRJ2
TRANGROUP:4A6B		       mov     bl, 3Ah ; ':'
TRANGROUP:4A6D		       cmp     [si-2], bl
TRANGROUP:4A70		       jz      short DOPCD
TRANGROUP:4A72		       mov     byte ptr	[bp+0],	1
TRANGROUP:4A76		       dec     si
TRANGROUP:4A77
TRANGROUP:4A77 DOPCD:				       ; ...
TRANGROUP:4A77		       xor     bl, bl
TRANGROUP:4A79		       xchg    bl, [si]
TRANGROUP:4A7B		       call    SetRest1
TRANGROUP:4A7E		       cmp     dx, si
TRANGROUP:4A80		       jnb     short LookBack
TRANGROUP:4A82		       push    si
TRANGROUP:4A83		       push    cx
TRANGROUP:4A84		       mov     cx, si
TRANGROUP:4A86		       mov     si, dx
TRANGROUP:4A88
TRANGROUP:4A88 Kloop2:				       ; ...
TRANGROUP:4A88		       lodsb
TRANGROUP:4A89		       call    testkanj
TRANGROUP:4A8C		       jz      short NotKanj4
TRANGROUP:4A8E		       lodsb
TRANGROUP:4A8F		       cmp     si, cx
TRANGROUP:4A91		       jb      short Kloop2
TRANGROUP:4A93		       pop     cx
TRANGROUP:4A94		       pop     si
TRANGROUP:4A95		       jmp     short DoCdr
TRANGROUP:4A97 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4A97
TRANGROUP:4A97 NotKanj4:			       ; ...
TRANGROUP:4A97		       cmp     si, cx
TRANGROUP:4A99		       jb      short Kloop2
TRANGROUP:4A9B		       pop     cx
TRANGROUP:4A9C		       pop     si
TRANGROUP:4A9D
TRANGROUP:4A9D LookBack:			       ; ...
TRANGROUP:4A9D		       cmp     bl, [si-1]
TRANGROUP:4AA0		       jz      short BADCDERRJ2
TRANGROUP:4AA2
TRANGROUP:4AA2 DoCdr:				       ; ...
TRANGROUP:4AA2		       mov     ah, 3Bh
TRANGROUP:4AA4		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:4AA4					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:4AA6		       xchg    bl, [si]
TRANGROUP:4AA8		       jnb     short NOTPDIR_RETN
TRANGROUP:4AAA		       call    get_ext_error_number
TRANGROUP:4AAD
TRANGROUP:4AAD EXTEND_SETUPJ:			       ; ...
TRANGROUP:4AAD		       jmp     extend_setup
TRANGROUP:4AB0 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4AB0
TRANGROUP:4AB0 BADCDERRJ2:			       ; ...
TRANGROUP:4AB0		       jmp     badpath_err
TRANGROUP:4AB0 BUILDPATH       endp
TRANGROUP:4AB0
TRANGROUP:4AB3
TRANGROUP:4AB3 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4AB3
TRANGROUP:4AB3
TRANGROUP:4AB3 SETSTARS	       proc near	       ; ...
TRANGROUP:4AB3		       mov     [bp+2], di      ; [bp+VARSTRUC.TTAIL]
TRANGROUP:4AB6		       add     byte ptr	[bp+1],	12 ; [bp+VARSTRUC.SIZ]
TRANGROUP:4ABA		       mov     ax, '.?'        ;  "?." ; dot_qmark ; 2E3Fh
TRANGROUP:4ABD		       mov     cx, 8
TRANGROUP:4AC0		       rep stosb
TRANGROUP:4AC2		       xchg    al, ah
TRANGROUP:4AC4		       stosb
TRANGROUP:4AC5		       xchg    al, ah
TRANGROUP:4AC7		       mov     cl, 3
TRANGROUP:4AC9		       rep stosb
TRANGROUP:4ACB		       xor     al, al
TRANGROUP:4ACD		       stosb
TRANGROUP:4ACE		       retn
TRANGROUP:4ACE SETSTARS	       endp
TRANGROUP:4ACE
TRANGROUP:4ACF
TRANGROUP:4ACF ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4ACF
TRANGROUP:4ACF
TRANGROUP:4ACF COMPNAME	       proc near	       ; ...
TRANGROUP:4ACF		       mov     si, offset DestBuf
TRANGROUP:4AD2		       mov     di, offset TRGXNAME
TRANGROUP:4AD5		       mov     ah, 60h	       ; xNameTrans
TRANGROUP:4AD7		       int     21h	       ; DOS - RESOLVE PATH STRING TO CANONICAL	PATH STRING
TRANGROUP:4AD7					       ; DS:SI -> ASCIZ	relative path string or	directory name
TRANGROUP:4AD7					       ; ES:DI -> 128-byte buffer for ASCIZ canonical fully qualified name
TRANGROUP:4AD9		       mov     si, offset SRCXNAME
TRANGROUP:4ADC		       mov     di, offset TRGXNAME
TRANGROUP:4ADF		       call    STRCOMP
TRANGROUP:4AE2		       retn
TRANGROUP:4AE2 COMPNAME	       endp
TRANGROUP:4AE2
TRANGROUP:4AE3
TRANGROUP:4AE3 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4AE3
TRANGROUP:4AE3
TRANGROUP:4AE3 cparse	       proc near	       ; ...
TRANGROUP:4AE3		       xor     ax, ax
TRANGROUP:4AE5		       mov     ds:STARTEL, di
TRANGROUP:4AE9		       mov     ds:ELPOS, al
TRANGROUP:4AEC		       mov     ds:SKPDEL, al
TRANGROUP:4AEF		       mov     bh, al
TRANGROUP:4AF1		       pushf
TRANGROUP:4AF2		       push    di
TRANGROUP:4AF3		       xor     cx, cx
TRANGROUP:4AF5		       mov     ds:comma, cl
TRANGROUP:4AF9
TRANGROUP:4AF9 moredelim:			       ; ...
TRANGROUP:4AF9		       lodsb
TRANGROUP:4AFA		       call    DELIM
TRANGROUP:4AFD		       jnz     short SCANCDONE
TRANGROUP:4AFF		       cmp     al, 20h ; ' '
TRANGROUP:4B01		       jz      short moredelim
TRANGROUP:4B03		       cmp     al, 9
TRANGROUP:4B05		       jz      short moredelim
TRANGROUP:4B07		       xchg    al, ds:SKPDEL
TRANGROUP:4B0B		       or      al, al
TRANGROUP:4B0D		       jz      short moredelim
TRANGROUP:4B0F		       test    bh, 80h
TRANGROUP:4B12		       jz      short no_comma
TRANGROUP:4B14		       mov     ds:comma, 1
TRANGROUP:4B19
TRANGROUP:4B19 no_comma:			       ; ...
TRANGROUP:4B19		       jmp     x_done
TRANGROUP:4B1C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4B1C
TRANGROUP:4B1C SCANCDONE:			       ; ...
TRANGROUP:4B1C		       cmp     al, bl
TRANGROUP:4B1E		       jnz     short nospec
TRANGROUP:4B20		       or      bh, 80h
TRANGROUP:4B23		       jmp     short moredelim
TRANGROUP:4B25 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4B25
TRANGROUP:4B25 nospec:				       ; ...
TRANGROUP:4B25		       cmp     al, 0Dh
TRANGROUP:4B27		       jnz     short ncperror
TRANGROUP:4B29		       jmp     cperror
TRANGROUP:4B2C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4B2C
TRANGROUP:4B2C ncperror:			       ; ...
TRANGROUP:4B2C		       cmp     al, ds:SWITCHAR
TRANGROUP:4B30		       jnz     short na_switch
TRANGROUP:4B32		       jmp     a_switch
TRANGROUP:4B35 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4B35
TRANGROUP:4B35 na_switch:			       ; ...
TRANGROUP:4B35		       mov     dl, ':'
TRANGROUP:4B37		       cmp     [si], dl
TRANGROUP:4B39		       jnz     short anum_chard
TRANGROUP:4B3B		       cmp     ds:cpyflag, 1
TRANGROUP:4B40		       jnz     short cpcont2
TRANGROUP:4B42		       call    UPCONV
TRANGROUP:4B45
TRANGROUP:4B45 cpcont2:				       ; ...
TRANGROUP:4B45		       call    move_char
TRANGROUP:4B48		       lodsb
TRANGROUP:4B49		       call    move_char
TRANGROUP:4B4C		       mov     ds:STARTEL, di
TRANGROUP:4B50		       mov     ds:ELCNT, 0
TRANGROUP:4B55		       jmp     anum_test
TRANGROUP:4B58 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4B58
TRANGROUP:4B58 anum_chard:			       ; ...
TRANGROUP:4B58		       mov     ds:STARTEL, di
TRANGROUP:4B5C		       mov     ds:ELCNT, 0
TRANGROUP:4B61		       cmp     ds:cpyflag, 1
TRANGROUP:4B66		       jnz     short anum_char
TRANGROUP:4B68		       call    pathchrcmp
TRANGROUP:4B6B		       jnz     short anum_char
TRANGROUP:4B6D		       push    ax
TRANGROUP:4B6E		       mov     al, ds:CURDRV
TRANGROUP:4B71		       add     al, 41h ; 'A'
TRANGROUP:4B73		       call    move_char
TRANGROUP:4B76		       mov     al, 3Ah ; ':'
TRANGROUP:4B78		       call    move_char
TRANGROUP:4B7B		       pop     ax
TRANGROUP:4B7C		       mov     ds:STARTEL, di
TRANGROUP:4B80		       mov     ds:ELCNT, 0
TRANGROUP:4B85
TRANGROUP:4B85 anum_char:			       ; ...
TRANGROUP:4B85		       call    testkanj
TRANGROUP:4B88		       jz      short NOTKANJ
TRANGROUP:4B8A		       call    move_char
TRANGROUP:4B8D		       lodsb
TRANGROUP:4B8E		       jmp     short notspecial
TRANGROUP:4B90 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4B90
TRANGROUP:4B90 NOTKANJ:				       ; ...
TRANGROUP:4B90		       cmp     ds:cpyflag, 1
TRANGROUP:4B95		       jnz     short TESTDOT
TRANGROUP:4B97		       call    UPCONV
TRANGROUP:4B9A
TRANGROUP:4B9A TESTDOT:				       ; ...
TRANGROUP:4B9A		       cmp     al, 2Eh ; '.'   ; dot_chr
TRANGROUP:4B9C		       jnz     short testquest
TRANGROUP:4B9E		       inc     ds:ELPOS
TRANGROUP:4BA2		       mov     ds:ELCNT, 0FFh
TRANGROUP:4BA7
TRANGROUP:4BA7 testquest:			       ; ...
TRANGROUP:4BA7		       cmp     al, 3Fh ; '?'
TRANGROUP:4BA9		       jnz     short testsplat
TRANGROUP:4BAB		       or      bh, 2
TRANGROUP:4BAE
TRANGROUP:4BAE testsplat:			       ; ...
TRANGROUP:4BAE		       cmp     al, 2Ah ; '*'   ; star
TRANGROUP:4BB0		       jnz     short testpath
TRANGROUP:4BB2		       or      bh, 2
TRANGROUP:4BB5		       cmp     ds:expand_star, 0
TRANGROUP:4BBA		       jnz     short expand_filename
TRANGROUP:4BBC		       jmp     short testpath
TRANGROUP:4BBE ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4BBE
TRANGROUP:4BBE BADPERR2J:			       ; ...
TRANGROUP:4BBE		       jmp     short BADPERR2
TRANGROUP:4BC0 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4BC0
TRANGROUP:4BC0 expand_filename:			       ; ...
TRANGROUP:4BC0		       mov     ah, 7
TRANGROUP:4BC2		       cmp     ds:ELPOS, 0
TRANGROUP:4BC7		       jz      short gotelcnt
TRANGROUP:4BC9		       mov     ah, 2
TRANGROUP:4BCB
TRANGROUP:4BCB gotelcnt:			       ; ...
TRANGROUP:4BCB		       mov     al, 3Fh ; '?'
TRANGROUP:4BCD		       sub     ah, ds:ELCNT
TRANGROUP:4BD1		       jb      short BADPERR2J
TRANGROUP:4BD3		       xchg    ah, cl
TRANGROUP:4BD5		       jcxz    short testpathx
TRANGROUP:4BD7
TRANGROUP:4BD7 qmove:				       ; ...
TRANGROUP:4BD7		       xchg    ah, cl
TRANGROUP:4BD9		       call    move_char
TRANGROUP:4BDC		       xchg    ah, cl
TRANGROUP:4BDE		       loop    qmove
TRANGROUP:4BE0
TRANGROUP:4BE0 testpathx:			       ; ...
TRANGROUP:4BE0		       xchg    ah, cl
TRANGROUP:4BE2
TRANGROUP:4BE2 testpath:			       ; ...
TRANGROUP:4BE2		       call    pathchrcmp
TRANGROUP:4BE5		       jnz     short notspecial
TRANGROUP:4BE7		       or      bh, 4
TRANGROUP:4BEA		       cmp     ds:expand_star, 0
TRANGROUP:4BEF		       jz      short no_err_check
TRANGROUP:4BF1		       test    bh, 2
TRANGROUP:4BF4		       jnz     short BADPERR
TRANGROUP:4BF6
TRANGROUP:4BF6 no_err_check:			       ; ...
TRANGROUP:4BF6		       mov     ds:STARTEL, di
TRANGROUP:4BFA		       inc     ds:STARTEL
TRANGROUP:4BFE		       mov     ds:ELCNT, 0FFh
TRANGROUP:4C03		       mov     ds:ELPOS, 0
TRANGROUP:4C08
TRANGROUP:4C08 notspecial:			       ; ...
TRANGROUP:4C08		       call    move_char
TRANGROUP:4C0B
TRANGROUP:4C0B anum_test:			       ; ...
TRANGROUP:4C0B		       lodsb
TRANGROUP:4C0C
TRANGROUP:4C0C cpcont3:
TRANGROUP:4C0C		       call    DELIM
TRANGROUP:4C0F		       jz      short x_done
TRANGROUP:4C11		       cmp     al, 0Dh
TRANGROUP:4C13		       jz      short x_done
TRANGROUP:4C15		       cmp     al, ds:SWITCHAR
TRANGROUP:4C19		       jz      short x_done
TRANGROUP:4C1B		       cmp     al, bl
TRANGROUP:4C1D		       jz      short x_done
TRANGROUP:4C1F		       cmp     al, 3Ah ; ':'
TRANGROUP:4C21		       jz      short FOO15
TRANGROUP:4C23		       jmp     anum_char
TRANGROUP:4C26 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4C26
TRANGROUP:4C26 FOO15:				       ; ...
TRANGROUP:4C26		       cmp     ds:cpyflag, 2
TRANGROUP:4C2B		       jnz     short cpcont4
TRANGROUP:4C2D		       call    move_char
TRANGROUP:4C30		       jmp     short anum_test
TRANGROUP:4C32 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4C32
TRANGROUP:4C32 cpcont4:				       ; ...
TRANGROUP:4C32		       inc     si
TRANGROUP:4C33		       jmp     short x_done
TRANGROUP:4C35 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4C35		       jmp     anum_char
TRANGROUP:4C38 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4C38
TRANGROUP:4C38 BADPERR2:			       ; ...
TRANGROUP:4C38		       mov     dx, offset BADCPMES_PTR
TRANGROUP:4C3B		       jmp     cerror
TRANGROUP:4C3E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4C3E
TRANGROUP:4C3E BADPERR:				       ; ...
TRANGROUP:4C3E		       mov     dx, offset badcd_ptr
TRANGROUP:4C41		       jmp     cerror
TRANGROUP:4C44 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4C44
TRANGROUP:4C44 cperror:				       ; ...
TRANGROUP:4C44		       dec     si
TRANGROUP:4C45		       pop     di
TRANGROUP:4C46		       popf
TRANGROUP:4C47		       stc
TRANGROUP:4C48		       retn
TRANGROUP:4C49 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4C49
TRANGROUP:4C49 x_done:				       ; ...
TRANGROUP:4C49		       dec     si
TRANGROUP:4C4A		       jmp     short out_token
TRANGROUP:4C4C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4C4C
TRANGROUP:4C4C a_switch:			       ; ...
TRANGROUP:4C4C		       or      bh, 1
TRANGROUP:4C4F		       or      bp, 8000h       ; FSWITCH
TRANGROUP:4C53		       call    scanoff
TRANGROUP:4C56		       inc     si
TRANGROUP:4C57		       call    testkanj
TRANGROUP:4C5A		       jz      short a_switch_notkanj
TRANGROUP:4C5C		       call    move_char
TRANGROUP:4C5F		       lodsb
TRANGROUP:4C60		       call    move_char
TRANGROUP:4C63		       or      bp, 4000h       ; FBADSWITCH
TRANGROUP:4C67		       jmp     short out_token
TRANGROUP:4C69 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4C69
TRANGROUP:4C69 a_switch_notkanj:		       ; ...
TRANGROUP:4C69		       cmp     al, 0Dh
TRANGROUP:4C6B		       jnz     short Store_swt
TRANGROUP:4C6D		       mov     al, 0
TRANGROUP:4C6F		       stosb
TRANGROUP:4C70		       or      bp, 4000h
TRANGROUP:4C74		       jmp     short cperror
TRANGROUP:4C76 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4C76
TRANGROUP:4C76 Store_swt:			       ; ...
TRANGROUP:4C76		       call    move_char
TRANGROUP:4C79		       call    UPCONV
TRANGROUP:4C7C		       push    es
TRANGROUP:4C7D		       push    di
TRANGROUP:4C7E		       push    cx
TRANGROUP:4C7F		       push    cs
TRANGROUP:4C80		       pop     es
TRANGROUP:4C81		       assume es:TRANGROUP
TRANGROUP:4C81		       mov     di, offset switch_list ;	"-Y?VBAPW"
TRANGROUP:4C84		       mov     cx, 8	       ; SWCOUNT
TRANGROUP:4C87		       or      bp, 4000h       ; FBADSWITCH
TRANGROUP:4C8B		       repne scasb
TRANGROUP:4C8D		       jnz     short out_tokenp
TRANGROUP:4C8F		       and     bp, 0BFFFh      ; ~FBADSWITCH ; not FBADSWITCH
TRANGROUP:4C93		       mov     ax, 1
TRANGROUP:4C96		       shl     ax, cl
TRANGROUP:4C98		       or      bp, ax
TRANGROUP:4C9A
TRANGROUP:4C9A out_tokenp:			       ; ...
TRANGROUP:4C9A		       pop     cx
TRANGROUP:4C9B		       pop     di
TRANGROUP:4C9C		       pop     es
TRANGROUP:4C9D		       assume es:nothing
TRANGROUP:4C9D
TRANGROUP:4C9D out_token:			       ; ...
TRANGROUP:4C9D		       mov     al, 0
TRANGROUP:4C9F		       stosb
TRANGROUP:4CA0		       pop     di
TRANGROUP:4CA1		       popf
TRANGROUP:4CA2		       clc
TRANGROUP:4CA3		       retn
TRANGROUP:4CA3 cparse	       endp
TRANGROUP:4CA3
TRANGROUP:4CA4
TRANGROUP:4CA4 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4CA4
TRANGROUP:4CA4
TRANGROUP:4CA4 move_char       proc near	       ; ...
TRANGROUP:4CA4		       stosb
TRANGROUP:4CA5		       inc     cx
TRANGROUP:4CA6		       inc     ds:ELCNT
TRANGROUP:4CAA		       retn
TRANGROUP:4CAA move_char       endp
TRANGROUP:4CAA
TRANGROUP:4CAB
TRANGROUP:4CAB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4CAB
TRANGROUP:4CAB
TRANGROUP:4CAB sysparse	       proc near	       ; ...
TRANGROUP:4CAB		       mov     word ptr	cs:$P_Flags, 0 ; mov psdata_seg:$P_Flags,0
TRANGROUP:4CB2		       mov     cs:$P_ORIG_ORD, cx ; MOV	PSDATA_SEG:$P_ORIG_ORD,CX
TRANGROUP:4CB7		       mov     cs:$P_ORIG_STACK, sp
TRANGROUP:4CBC		       mov     cs:$P_ORIG_SI, si
TRANGROUP:4CC1
TRANGROUP:4CC1 $P_Redo_Time:			       ; ...
TRANGROUP:4CC1		       cld
TRANGROUP:4CC2		       mov     cs:$P_ORDINAL, cx ; mov psdata_seg:$P_ordinal,cx
TRANGROUP:4CC7		       mov     cs:$P_RC, 0     ; mov psdata_seg:$P_RC,$P_No_Error
TRANGROUP:4CCE		       mov     cs:$P_Found_SYNONYM, 0 ;	mov psdata_seg:$P_Found_SYNONYM,0
TRANGROUP:4CD5		       mov     cs:$P_DX, 0     ; mov word ptr psdata_seg:$P_DX,0
TRANGROUP:4CDC		       mov     word ptr	cs:$P_FileSp_Char, '][' ; "[]|<>+=;\""
TRANGROUP:4CE3		       mov     word ptr	cs:$P_FileSp_Char+2, '<|'
TRANGROUP:4CEA		       mov     word ptr	cs:$P_FileSp_Char+4, '+>'
TRANGROUP:4CF1		       mov     word ptr	cs:$P_FileSp_Char+6, ';='
TRANGROUP:4CF8		       call    $P_Skip_Delim
TRANGROUP:4CFB		       jnb     short $P_Start
TRANGROUP:4CFD		       mov     ax, 0FFFFh      ; $P_RC_EOL
TRANGROUP:4D00		       push    bx
TRANGROUP:4D01		       mov     bx, es:[di]     ; es:[di].$P_PARMSX_Address
TRANGROUP:4D04		       cmp     cl, es:[bx]     ; es:[bx].$P_MinP
TRANGROUP:4D07		       jnb     short $P_Fin
TRANGROUP:4D09		       mov     ax, 2	       ; $P_Op_Missing
TRANGROUP:4D0C
TRANGROUP:4D0C $P_Fin:				       ; ...
TRANGROUP:4D0C		       pop     bx
TRANGROUP:4D0D		       jmp     $P_Single_Exit
TRANGROUP:4D10 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4D10
TRANGROUP:4D10 $P_Start:			       ; ...
TRANGROUP:4D10		       mov     cs:$P_SaveSI_Cmpx, si ; mov psdata_seg:$P_SaveSI_Cmpx,si
TRANGROUP:4D15		       push    bx
TRANGROUP:4D16		       push    di
TRANGROUP:4D17		       push    bp
TRANGROUP:4D18		       lea     bx, $P_STRING_BUF
TRANGROUP:4D1C		       test    cs:$P_Flags2, 20h ; $P_Extra
TRANGROUP:4D22		       jnz     short $P_Pack_End
TRANGROUP:4D24
TRANGROUP:4D24 $P_Pack_Loop:			       ; ...
TRANGROUP:4D24		       lodsb
TRANGROUP:4D25		       call    $P_Chk_Switch
TRANGROUP:4D28		       jb      short $P_Pack_End_BY_EOL
TRANGROUP:4D2A		       call    $P_Chk_EOL
TRANGROUP:4D2D		       jz      short $P_Pack_End_BY_EOL
TRANGROUP:4D2F		       call    $P_Chk_Delim
TRANGROUP:4D32		       jnz     short $P_PL01
TRANGROUP:4D34		       test    cs:$P_Flags2, 20h ; test	psdata_seg:$P_Flags2,$P_Extra
TRANGROUP:4D3A		       jnz     short $P_Pack_End_backup_si
TRANGROUP:4D3C		       call    $P_Skip_Delim
TRANGROUP:4D3F		       jmp     short $P_Pack_End
TRANGROUP:4D41 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4D41
TRANGROUP:4D41 $P_Pack_End_backup_si:		       ; ...
TRANGROUP:4D41		       test    cs:$P_Flags2, 41h ; test	psdata_seg:$P_Flags2,$P_SW+$P_equ
TRANGROUP:4D47		       jz      short $P_Pack_End
TRANGROUP:4D49		       dec     si
TRANGROUP:4D4A		       jmp     short $P_Pack_End
TRANGROUP:4D4C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4D4C
TRANGROUP:4D4C $P_PL01:				       ; ...
TRANGROUP:4D4C		       mov     cs:[bx],	al     ; mov psdata_seg:[bx],al
TRANGROUP:4D4F		       cmp     al, '='         ; cmp al,$P_Keyword
TRANGROUP:4D51		       jnz     short $P_PL00
TRANGROUP:4D53		       or      cs:$P_Flags2, 1 ; or psdata_seg:$P_Flags2,$P_equ
TRANGROUP:4D59
TRANGROUP:4D59 $P_PL00:				       ; ...
TRANGROUP:4D59		       inc     bx
TRANGROUP:4D5A		       call    $P_Chk_DBCS
TRANGROUP:4D5D		       jnb     short $P_Pack_Loop
TRANGROUP:4D5F		       lodsb
TRANGROUP:4D60		       mov     cs:[bx],	al     ; mov psdata_seg:[bx],al
TRANGROUP:4D63		       inc     bx
TRANGROUP:4D64		       jmp     short $P_Pack_Loop
TRANGROUP:4D66 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4D66
TRANGROUP:4D66 $P_Pack_End_BY_EOL:		       ; ...
TRANGROUP:4D66		       dec     si
TRANGROUP:4D67
TRANGROUP:4D67 $P_Pack_End:			       ; ...
TRANGROUP:4D67		       mov     cs:$P_SI_Save, si
TRANGROUP:4D6C		       mov     byte ptr	cs:[bx], 0 ; mov byte ptr psdata_seg:[bx],$P_NULL
TRANGROUP:4D70		       mov     cs:$P_Save_EOB, bx
TRANGROUP:4D75		       mov     bx, es:[di]     ; es:[di].$P_PARMSX_Address
TRANGROUP:4D78		       lea     si, $P_STRING_BUF ; lea si,psdata_seg:$P_STRING_BUF
TRANGROUP:4D78					       ; (lea si,ds:9E6Ah)
TRANGROUP:4D7C		       cmp     byte ptr	cs:[si], '/' ; psdata_seg:[si],$P_Switch
TRANGROUP:4D80		       jz      short $P_SW_Manager
TRANGROUP:4D82		       cmp     byte ptr	cs:[si], '"' ; psdata_seg:[si],$P_DQuote
TRANGROUP:4D86		       jz      short $P_Positional_Manager
TRANGROUP:4D88		       test    cs:$P_Flags2, 1 ; test psdata_seg:$P_Flags2,$P_equ
TRANGROUP:4D8E		       jnz     short $P_Key_Manager
TRANGROUP:4D90
TRANGROUP:4D90 $P_Positional_Manager:		       ; ...
TRANGROUP:4D90		       mov     al, es:[bx+1]   ; es:[bx].$P_MaxP
TRANGROUP:4D94		       xor     ah, ah
TRANGROUP:4D96		       cmp     cs:$P_ORDINAL, ax ; psdata_seg:$P_ORDINAL,ax
TRANGROUP:4D9B		       jnb     short $P_Too_Many_Error
TRANGROUP:4D9D		       mov     ax, cs:$P_ORDINAL ; psdata_seg:$P_ORDINAL
TRANGROUP:4DA1		       shl     ax, 1
TRANGROUP:4DA3		       inc     bx
TRANGROUP:4DA4		       inc     bx
TRANGROUP:4DA5		       add     bx, ax
TRANGROUP:4DA7		       mov     bx, es:[bx]
TRANGROUP:4DAA		       call    $P_Chk_Pos_Control
TRANGROUP:4DAD		       jmp     short $P_Return_to_Caller
TRANGROUP:4DAF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4DAF
TRANGROUP:4DAF $P_Too_Many_Error:		       ; ...
TRANGROUP:4DAF		       mov     cs:$P_RC, 1     ; psdata_seg:$P_RC,$P_Too_Many
TRANGROUP:4DB6		       jmp     short $P_Return_to_Caller
TRANGROUP:4DB8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4DB8
TRANGROUP:4DB8 $P_SW_Manager:			       ; ...
TRANGROUP:4DB8		       mov     al, es:[bx+1]   ; mov al,[es:bx+$P_PARMSX_BLK.$P_MaxP]
TRANGROUP:4DBC		       xor     ah, ah
TRANGROUP:4DBE		       inc     ax
TRANGROUP:4DBF		       shl     ax, 1
TRANGROUP:4DC1		       add     bx, ax
TRANGROUP:4DC3		       mov     cl, es:[bx]
TRANGROUP:4DC6		       xor     ch, ch
TRANGROUP:4DC8		       or      cx, cx
TRANGROUP:4DCA		       jz      short $P_SW_Not_Found
TRANGROUP:4DCC		       inc     bx
TRANGROUP:4DCD
TRANGROUP:4DCD $P_SW_Mgr_Loop:			       ; ...
TRANGROUP:4DCD		       push    bx
TRANGROUP:4DCE		       mov     bx, es:[bx]
TRANGROUP:4DD1		       call    $P_Chk_SW_Control
TRANGROUP:4DD4		       pop     bx
TRANGROUP:4DD5		       jnb     short $P_Return_to_Caller
TRANGROUP:4DD7		       inc     bx
TRANGROUP:4DD8		       inc     bx
TRANGROUP:4DD9		       loop    $P_SW_Mgr_Loop
TRANGROUP:4DDB
TRANGROUP:4DDB $P_SW_Not_Found:			       ; ...
TRANGROUP:4DDB		       mov     cs:$P_RC, 3
TRANGROUP:4DE2		       jmp     short $P_Return_to_Caller
TRANGROUP:4DE4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4DE4
TRANGROUP:4DE4 $P_Key_Manager:			       ; ...
TRANGROUP:4DE4		       mov     al, es:[bx+1]   ; es:[bx].$P_MaxP
TRANGROUP:4DE8		       xor     ah, ah
TRANGROUP:4DEA		       inc     ax
TRANGROUP:4DEB		       shl     ax, 1
TRANGROUP:4DED		       add     bx, ax
TRANGROUP:4DEF		       mov     al, es:[bx]
TRANGROUP:4DF2		       xor     ah, ah
TRANGROUP:4DF4		       shl     ax, 1
TRANGROUP:4DF6		       inc     ax
TRANGROUP:4DF7		       add     bx, ax
TRANGROUP:4DF9		       mov     cl, es:[bx]
TRANGROUP:4DFC		       xor     ch, ch
TRANGROUP:4DFE		       or      cx, cx
TRANGROUP:4E00		       jz      short $P_Key_Not_Found
TRANGROUP:4E02		       inc     bx
TRANGROUP:4E03
TRANGROUP:4E03 $P_Key_Mgr_Loop:			       ; ...
TRANGROUP:4E03		       push    bx
TRANGROUP:4E04		       mov     bx, es:[bx]
TRANGROUP:4E07		       call    $P_Chk_Key_Control
TRANGROUP:4E0A		       pop     bx
TRANGROUP:4E0B		       jnb     short $P_Return_to_Caller
TRANGROUP:4E0D		       inc     bx
TRANGROUP:4E0E		       inc     bx
TRANGROUP:4E0F		       loop    $P_Key_Mgr_Loop
TRANGROUP:4E11
TRANGROUP:4E11 $P_Key_Not_Found:		       ; ...
TRANGROUP:4E11		       mov     cs:$P_RC, 4     ; psdata_seg:$P_RC,$P_Not_In_Key
TRANGROUP:4E18
TRANGROUP:4E18 $P_Return_to_Caller:		       ; ...
TRANGROUP:4E18		       pop     bp
TRANGROUP:4E19		       pop     di
TRANGROUP:4E1A		       pop     bx
TRANGROUP:4E1B		       mov     cx, cs:$P_ORDINAL ; mov cx,psdata_seg:$P_Ordinal
TRANGROUP:4E20		       mov     ax, cs:$P_RC
TRANGROUP:4E24		       mov     si, cs:$P_SI_Save ; mov si,psdata_seg:$P_SI_Sav
TRANGROUP:4E29		       mov     dx, cs:$P_DX
TRANGROUP:4E2E		       mov     bl, cs:$P_Terminator
TRANGROUP:4E33
TRANGROUP:4E33 $P_Single_Exit:			       ; ...
TRANGROUP:4E33		       clc
TRANGROUP:4E34		       retn
TRANGROUP:4E34 sysparse	       endp
TRANGROUP:4E34
TRANGROUP:4E35
TRANGROUP:4E35 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4E35
TRANGROUP:4E35
TRANGROUP:4E35 $P_Chk_Pos_Control proc near	       ; ...
TRANGROUP:4E35		       push    ax
TRANGROUP:4E36		       mov     ax, es:[bx]     ; [es:bx+$P_CONTROL_BLK.$P_Match_Flag]
TRANGROUP:4E39		       test    ax, 2
TRANGROUP:4E3C		       jnz     short $P_CPC00
TRANGROUP:4E3E		       inc     cs:$P_ORDINAL
TRANGROUP:4E43
TRANGROUP:4E43 $P_CPC00:			       ; ...
TRANGROUP:4E43		       cmp     byte ptr	cs:[si], 0 ; $P_NULL
TRANGROUP:4E47		       jnz     short $P_CPC01
TRANGROUP:4E49		       test    ax, 1	       ; $P_Optional
TRANGROUP:4E4C		       jnz     short $P_CPC02
TRANGROUP:4E4E		       mov     cs:$P_RC, 2     ; $P_Op_Missing
TRANGROUP:4E55		       jmp     short $P_CPC_Exit
TRANGROUP:4E57 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4E57
TRANGROUP:4E57 $P_CPC02:			       ; ...
TRANGROUP:4E57		       push    ax
TRANGROUP:4E58		       mov     al, 3	       ; $P_String
TRANGROUP:4E5A		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:4E5C		       call    $P_Fill_Result
TRANGROUP:4E5F		       pop     ax
TRANGROUP:4E60		       jmp     short $P_CPC_Exit
TRANGROUP:4E62 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4E62
TRANGROUP:4E62 $P_CPC01:			       ; ...
TRANGROUP:4E62		       call    $P_Check_Match_Flags
TRANGROUP:4E65
TRANGROUP:4E65 $P_CPC_Exit:			       ; ...
TRANGROUP:4E65		       pop     ax
TRANGROUP:4E66		       retn
TRANGROUP:4E66 $P_Chk_Pos_Control endp
TRANGROUP:4E66
TRANGROUP:4E67
TRANGROUP:4E67 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4E67
TRANGROUP:4E67
TRANGROUP:4E67 $P_Chk_Key_Control proc near	       ; ...
TRANGROUP:4E67		       stc
TRANGROUP:4E68		       retn
TRANGROUP:4E68 $P_Chk_Key_Control endp
TRANGROUP:4E68
TRANGROUP:4E69
TRANGROUP:4E69 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4E69
TRANGROUP:4E69
TRANGROUP:4E69 $P_Search_KEYorSW proc near	       ; ...
TRANGROUP:4E69		       push    bp
TRANGROUP:4E6A		       push    cx
TRANGROUP:4E6B		       mov     cl, es:[bx+8]   ; [es:bx+$P_CONTROL_BLK.$P_nid]
TRANGROUP:4E6F		       xor     ch, ch
TRANGROUP:4E71		       or      cx, cx
TRANGROUP:4E73		       jz      short $P_KEYorSW_Not_Found
TRANGROUP:4E75		       lea     bp, [bx+9]      ; [es:bx+$P_CONTROL_BLK.$P_KEYorSW]
TRANGROUP:4E78
TRANGROUP:4E78 $P_KEYorSW_Loop:			       ; ...
TRANGROUP:4E78		       call    $P_String_Comp
TRANGROUP:4E7B		       jnb     short P_KEYorSW_Found
TRANGROUP:4E7D		       call    $P_MoveBP_NUL
TRANGROUP:4E80		       loop    $P_KEYorSW_Loop
TRANGROUP:4E82
TRANGROUP:4E82 $P_KEYorSW_Not_Found:		       ; ...
TRANGROUP:4E82		       stc
TRANGROUP:4E83		       jmp     short $P_KEYorSW_Exit
TRANGROUP:4E85 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4E85
TRANGROUP:4E85 P_KEYorSW_Found:			       ; ...
TRANGROUP:4E85		       mov     cs:$P_Found_SYNONYM, bp
TRANGROUP:4E8A		       clc
TRANGROUP:4E8B
TRANGROUP:4E8B $P_KEYorSW_Exit:			       ; ...
TRANGROUP:4E8B		       pop     cx
TRANGROUP:4E8C		       pop     bp
TRANGROUP:4E8D		       retn
TRANGROUP:4E8D $P_Search_KEYorSW endp
TRANGROUP:4E8D
TRANGROUP:4E8E
TRANGROUP:4E8E ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4E8E
TRANGROUP:4E8E
TRANGROUP:4E8E $P_MoveBP_NUL   proc near	       ; ...
TRANGROUP:4E8E		       cmp     byte ptr	es:[bp+0], 0 ; $P_NULL
TRANGROUP:4E93		       jz      short $P_MBP_Exit
TRANGROUP:4E95		       inc     bp
TRANGROUP:4E96		       jmp     short $P_MoveBP_NUL
TRANGROUP:4E98 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4E98
TRANGROUP:4E98 $P_MBP_Exit:			       ; ...
TRANGROUP:4E98		       inc     bp
TRANGROUP:4E99		       retn
TRANGROUP:4E99 $P_MoveBP_NUL   endp
TRANGROUP:4E99
TRANGROUP:4E9A
TRANGROUP:4E9A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4E9A
TRANGROUP:4E9A
TRANGROUP:4E9A $P_Chk_SW_Control proc near	       ; ...
TRANGROUP:4E9A		       or      cs:$P_Flags2, 10h ; or psdata_seg:$P_Flags2,$P_Sw_Cmp
TRANGROUP:4EA0		       call    $P_Search_KEYorSW
TRANGROUP:4EA3		       jb      short $P_Chk_SW_Err0
TRANGROUP:4EA5		       and     cs:$P_Flags2, 0EFh ; and	psdata_seg:$P_Flags2,0ffh-$P_Sw_Cmp
TRANGROUP:4EAB		       push    ax
TRANGROUP:4EAC		       mov     ax, cs:$P_KEYorSW_Ptr ; psdata_seg:$P_KEYorSW_Ptr
TRANGROUP:4EB0		       sub     ax, si
TRANGROUP:4EB2		       add     cs:$P_SaveSI_Cmpx, ax
TRANGROUP:4EB7		       pop     ax
TRANGROUP:4EB8		       mov     si, cs:$P_KEYorSW_Ptr
TRANGROUP:4EBD		       cmp     byte ptr	cs:[si], 0 ; psdata_seg:[si],$P_NULL
TRANGROUP:4EC1		       jnz     short $P_CSW00
TRANGROUP:4EC3		       cmp     byte ptr	cs:[si-1], ':' ; psdata_seg:[si-1],$P_Colon
TRANGROUP:4EC8		       jnz     short $P_Chk_if_data_required
TRANGROUP:4ECA		       mov     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:4ED1		       jmp     short $P_Chk_SW_Exit
TRANGROUP:4ED3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4ED3
TRANGROUP:4ED3 $P_Chk_if_data_required:		       ; ...
TRANGROUP:4ED3		       cmp     word ptr	es:[bx], 0 ; cmp es:[bx].$P_Match_Flag,0
TRANGROUP:4ED7		       jz      short $P_Chk_SW_Exit
TRANGROUP:4ED9		       test    word ptr	es:[bx], 1 ; test es:[bx].$P_Match_Flag,$P_Optional
TRANGROUP:4EDE		       jnz     short $P_Chk_SW_Exit
TRANGROUP:4EE0		       mov     cs:$P_RC, 2     ; mov psdata_seg:$P_RC,$P_Op_Missing
TRANGROUP:4EE7		       jmp     short $P_Chk_SW_Exit
TRANGROUP:4EE9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4EE9
TRANGROUP:4EE9 $P_CSW00:			       ; ...
TRANGROUP:4EE9		       call    $P_Check_Match_Flags
TRANGROUP:4EEC		       clc
TRANGROUP:4EED		       jmp     short P_Chk_SW_Single_Exit
TRANGROUP:4EEF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4EEF
TRANGROUP:4EEF $P_Chk_SW_Err0:			       ; ...
TRANGROUP:4EEF		       stc
TRANGROUP:4EF0		       jmp     short P_Chk_SW_Single_Exit
TRANGROUP:4EF2 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4EF2
TRANGROUP:4EF2 $P_Chk_SW_Exit:			       ; ...
TRANGROUP:4EF2		       push    ax
TRANGROUP:4EF3		       mov     al, 3	       ; mov al,$P_String
TRANGROUP:4EF5		       mov     ah, 0FFh	       ; mov ah,$P_No_Tag
TRANGROUP:4EF7		       call    $P_Fill_Result
TRANGROUP:4EFA		       pop     ax
TRANGROUP:4EFB		       clc
TRANGROUP:4EFC
TRANGROUP:4EFC P_Chk_SW_Single_Exit:		       ; ...
TRANGROUP:4EFC		       retn
TRANGROUP:4EFC $P_Chk_SW_Control endp
TRANGROUP:4EFC
TRANGROUP:4EFD
TRANGROUP:4EFD ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4EFD
TRANGROUP:4EFD
TRANGROUP:4EFD $P_Fill_Result  proc near	       ; ...
TRANGROUP:4EFD		       push    di
TRANGROUP:4EFE		       mov     di, es:[bx+4]   ; [es:bx+$P_CONTROL_BLK.$P_Result_Buf]
TRANGROUP:4F02		       mov     cs:$P_DX, di
TRANGROUP:4F07		       mov     es:[di],	al     ; [es:di+$P_RESULT_BLK.$P_Type]
TRANGROUP:4F0A		       mov     es:[di+1], ah   ; [es:di+$P_RESULT_BLK.$P_Item_Tag]
TRANGROUP:4F0E		       push    ax
TRANGROUP:4F0F		       mov     ax, cs:$P_Found_SYNONYM
TRANGROUP:4F13		       mov     es:[di+2], ax   ; [es:di+$P_RESULT_BLK.$P_SYNONYM_Ptr]
TRANGROUP:4F17		       pop     ax
TRANGROUP:4F18		       cmp     al, 1	       ; $P_Number
TRANGROUP:4F1A		       jnz     short $P_RLT00
TRANGROUP:4F1C
TRANGROUP:4F1C $P_RLT02:			       ; ...
TRANGROUP:4F1C		       mov     es:[di+4], dx   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:4F20		       mov     es:[di+6], cx   ; [es:di+2+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:4F24		       jmp     short $P_RLT_Exit
TRANGROUP:4F26 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4F26
TRANGROUP:4F26 $P_RLT00:			       ; ...
TRANGROUP:4F26		       cmp     al, 2	       ; $P_List_Idx
TRANGROUP:4F28		       jnz     short $P_RLT01
TRANGROUP:4F2A		       mov     es:[di+4], dx   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:4F2E		       jmp     short $P_RLT_Exit
TRANGROUP:4F30 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4F30
TRANGROUP:4F30 $P_RLT01:			       ; ...
TRANGROUP:4F30		       cmp     al, 7	       ; $P_Date_F
TRANGROUP:4F32		       jz      short $P_RLT02
TRANGROUP:4F34		       cmp     al, 8	       ; $P_Time_F
TRANGROUP:4F36		       jz      short $P_RLT02
TRANGROUP:4F38		       cmp     al, 6	       ; $P_Drive
TRANGROUP:4F3A		       jnz     short $P_RLT03
TRANGROUP:4F3C		       mov     es:[di+4], dl   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:4F40		       jmp     short $P_RLT_Exit
TRANGROUP:4F42 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4F42
TRANGROUP:4F42 $P_RLT03:			       ; ...
TRANGROUP:4F42		       cmp     al, 4	       ; $P_Complex
TRANGROUP:4F44		       jnz     short $P_RLT05
TRANGROUP:4F46		       mov     ax, cs:$P_SaveSI_Cmpx
TRANGROUP:4F4A		       inc     ax
TRANGROUP:4F4B		       mov     es:[di+4], ax   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:4F4F		       mov     word ptr	es:[di+6], ds ;	[es:di+2+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:4F53		       jmp     short $P_RLT_Exit
TRANGROUP:4F55 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4F55
TRANGROUP:4F55 $P_RLT05:			       ; ...
TRANGROUP:4F55		       mov     es:[di+4], si   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:4F59		       mov     word ptr	es:[di+6], cs ;	[es:di+2+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:4F5D		       push    ax
TRANGROUP:4F5E		       test    byte ptr	es:[bx+2], 1 ; [es:bx+$P_CONTROL_BLK.$P_Function_Flag],$P_CAP_File
TRANGROUP:4F63		       jz      short $P_RLT_CAP00
TRANGROUP:4F65		       mov     al, 4	       ; $P_DOSTBL_File
TRANGROUP:4F67		       jmp     short P_RLT_CAP02
TRANGROUP:4F69 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4F69
TRANGROUP:4F69 $P_RLT_CAP00:			       ; ...
TRANGROUP:4F69		       test    byte ptr	es:[bx+2], 2 ; [es:bx+$P_CONTROL_BLK.$P_Function_Flag],$P_CAP_Char
TRANGROUP:4F6E		       jz      short $P_RLT_CAP01
TRANGROUP:4F70		       mov     al, 2	       ; $P_DOSTBL_Char
TRANGROUP:4F72
TRANGROUP:4F72 P_RLT_CAP02:			       ; ...
TRANGROUP:4F72		       call    $P_Do_CAPS_String
TRANGROUP:4F75
TRANGROUP:4F75 $P_RLT_CAP01:			       ; ...
TRANGROUP:4F75		       pop     ax
TRANGROUP:4F76		       test    byte ptr	es:[bx+2], 10h ; [es:bx+$P_CONTROL_BLK.$P_Function_Flag],$P_Rm_Colon
TRANGROUP:4F7B		       jz      short $P_RLT_Exit
TRANGROUP:4F7D		       call    $P_Remove_Colon
TRANGROUP:4F80
TRANGROUP:4F80 $P_RLT_Exit:			       ; ...
TRANGROUP:4F80		       pop     di
TRANGROUP:4F81		       retn
TRANGROUP:4F81 $P_Fill_Result  endp
TRANGROUP:4F81
TRANGROUP:4F82
TRANGROUP:4F82 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:4F82
TRANGROUP:4F82
TRANGROUP:4F82 $P_Check_Match_Flags proc near	       ; ...
TRANGROUP:4F82		       mov     cs:$P_err_flag, 0 ; $P_NULL
TRANGROUP:4F88		       push    ax
TRANGROUP:4F89		       mov     ax, es:[bx]     ; [es:bx+$P_CONTROL_BLK.$P_Match_Flag]
TRANGROUP:4F8C		       or      ax, ax
TRANGROUP:4F8E		       jnz     short $P_Mat
TRANGROUP:4F90		       push    ax
TRANGROUP:4F91		       push    bx
TRANGROUP:4F92		       push    dx
TRANGROUP:4F93		       push    di
TRANGROUP:4F94		       mov     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:4F9B		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:4F9D		       mov     al, 3	       ; $P_String
TRANGROUP:4F9F		       call    $P_Fill_Result
TRANGROUP:4FA2		       pop     di
TRANGROUP:4FA3		       pop     dx
TRANGROUP:4FA4		       pop     bx
TRANGROUP:4FA5		       pop     ax
TRANGROUP:4FA6		       jmp     short $P_Bridge
TRANGROUP:4FA8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4FA8
TRANGROUP:4FA8 $P_Mat:				       ; ...
TRANGROUP:4FA8		       test    ax, 1000h       ; $P_Date_S
TRANGROUP:4FAB		       jz      short $P_Match02
TRANGROUP:4FAD		       mov     cs:$P_RC, 0     ; $P_No_Error
TRANGROUP:4FB4		       call    $P_Date_Format
TRANGROUP:4FB7		       cmp     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:4FBD		       jnz     short $P_Bridge
TRANGROUP:4FBF
TRANGROUP:4FBF $P_Match02:			       ; ...
TRANGROUP:4FBF		       test    ax, 800h
TRANGROUP:4FC2		       jz      short $P_Match03
TRANGROUP:4FC4		       mov     cs:$P_RC, 0     ; $P_No_Error
TRANGROUP:4FCB		       call    $P_Time_Format
TRANGROUP:4FCE		       cmp     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:4FD4		       jnz     short $P_Bridge
TRANGROUP:4FD6		       jmp     short $P_Match03
TRANGROUP:4FD8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4FD8
TRANGROUP:4FD8 $P_Bridge:			       ; ...
TRANGROUP:4FD8		       jmp     short $P_Match_Exit
TRANGROUP:4FDA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:4FDA		       nop
TRANGROUP:4FDB
TRANGROUP:4FDB $P_Match03:			       ; ...
TRANGROUP:4FDB		       test    ax, 8000h       ; $P_Num_Val
TRANGROUP:4FDE		       jz      short $P_Match04
TRANGROUP:4FE0		       mov     cs:$P_RC, 0     ; $P_No_Error
TRANGROUP:4FE7		       call    $P_Value
TRANGROUP:4FEA		       cmp     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:4FF0		       jnz     short $P_Match_Exit
TRANGROUP:4FF2
TRANGROUP:4FF2 $P_Match04:			       ; ...
TRANGROUP:4FF2		       test    ax, 4000h       ; $P_SNum_Val
TRANGROUP:4FF5		       jz      short $P_Match05
TRANGROUP:4FF7		       mov     cs:$P_RC, 0     ; $P_No_Error
TRANGROUP:4FFE		       call    $P_SValue
TRANGROUP:5001		       cmp     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:5007		       jnz     short $P_Match_Exit
TRANGROUP:5009
TRANGROUP:5009 $P_Match05:			       ; ...
TRANGROUP:5009		       test    ax, 100h	       ; $P_Drv_Only
TRANGROUP:500C		       jz      short $P_Match06
TRANGROUP:500E		       mov     cs:$P_RC, 0     ; $P_No_Error
TRANGROUP:5015		       call    $P_File_Format
TRANGROUP:5018		       call    $P_Drive_Format
TRANGROUP:501B		       cmp     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:5021		       jnz     short $P_Match_Exit
TRANGROUP:5023
TRANGROUP:5023 $P_Match06:			       ; ...
TRANGROUP:5023		       test    ax, 200h	       ; $P_File_Spc
TRANGROUP:5026		       jz      short $P_Match07
TRANGROUP:5028		       mov     cs:$P_RC, 0
TRANGROUP:502F		       call    $P_File_Format
TRANGROUP:5032		       cmp     cs:$P_RC, 9
TRANGROUP:5038		       jnz     short $P_Match_Exit
TRANGROUP:503A
TRANGROUP:503A $P_Match07:			       ; ...
TRANGROUP:503A		       test    ax, 2000h       ; $P_Simple_S
TRANGROUP:503D		       jz      short $P_Match_Exit
TRANGROUP:503F		       mov     cs:$P_RC, 0
TRANGROUP:5046		       call    $P_Simple_String
TRANGROUP:5049
TRANGROUP:5049 $P_Match_Exit:			       ; ...
TRANGROUP:5049		       cmp     cs:$P_err_flag, 1 ; $P_error_filespec
TRANGROUP:504F		       jnz     short $P_Match2_Exit
TRANGROUP:5051		       cmp     cs:$P_RC, 0     ; $P_No_Error
TRANGROUP:5057		       jnz     short $P_Match2_Exit
TRANGROUP:5059		       mov     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:5060
TRANGROUP:5060 $P_Match2_Exit:			       ; ...
TRANGROUP:5060		       pop     ax
TRANGROUP:5061		       retn
TRANGROUP:5061 $P_Check_Match_Flags endp
TRANGROUP:5061
TRANGROUP:5062
TRANGROUP:5062 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5062
TRANGROUP:5062
TRANGROUP:5062 $P_Remove_Colon proc near	       ; ...
TRANGROUP:5062		       push    ax
TRANGROUP:5063		       push    si
TRANGROUP:5064
TRANGROUP:5064 $P_RCOL_Loop:			       ; ...
TRANGROUP:5064		       mov     al, cs:[si]
TRANGROUP:5067		       or      al, al
TRANGROUP:5069		       jz      short $P_RCOL_Exit
TRANGROUP:506B		       cmp     al, ':'         ; $P_Colon
TRANGROUP:506D		       jnz     short $P_RCOL00
TRANGROUP:506F		       cmp     byte ptr	cs:[si+1], 0 ; $P_NULL
TRANGROUP:5074		       jnz     short $P_RCOL00
TRANGROUP:5076		       mov     byte ptr	cs:[si], 0
TRANGROUP:507A		       jmp     short $P_RCOL_Exit
TRANGROUP:507C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:507C
TRANGROUP:507C $P_RCOL00:			       ; ...
TRANGROUP:507C		       call    $P_Chk_DBCS
TRANGROUP:507F		       jnb     short $P_RCOL01
TRANGROUP:5081		       inc     si
TRANGROUP:5082
TRANGROUP:5082 $P_RCOL01:			       ; ...
TRANGROUP:5082		       inc     si
TRANGROUP:5083		       jmp     short $P_RCOL_Loop
TRANGROUP:5085 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5085
TRANGROUP:5085 $P_RCOL_Exit:			       ; ...
TRANGROUP:5085		       pop     si
TRANGROUP:5086		       pop     ax
TRANGROUP:5087		       retn
TRANGROUP:5087 $P_Remove_Colon endp
TRANGROUP:5087
TRANGROUP:5088
TRANGROUP:5088 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5088
TRANGROUP:5088
TRANGROUP:5088 $P_Do_CAPS_String proc near	       ; ...
TRANGROUP:5088		       push    si
TRANGROUP:5089		       push    dx
TRANGROUP:508A		       mov     dl, al
TRANGROUP:508C
TRANGROUP:508C $P_DCS_Loop:			       ; ...
TRANGROUP:508C		       mov     al, cs:[si]
TRANGROUP:508F		       call    $P_Chk_DBCS
TRANGROUP:5092		       jb      short $P_DCS0
TRANGROUP:5094		       or      al, al
TRANGROUP:5096		       jz      short $P_DCS_Exit
TRANGROUP:5098		       call    $P_Do_CAPS_Char
TRANGROUP:509B		       mov     cs:[si],	al
TRANGROUP:509E		       jmp     short $P_DCS01
TRANGROUP:50A0 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:50A0
TRANGROUP:50A0 $P_DCS0:				       ; ...
TRANGROUP:50A0		       inc     si
TRANGROUP:50A1
TRANGROUP:50A1 $P_DCS01:			       ; ...
TRANGROUP:50A1		       inc     si
TRANGROUP:50A2		       jmp     short $P_DCS_Loop
TRANGROUP:50A4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:50A4
TRANGROUP:50A4 $P_DCS_Exit:			       ; ...
TRANGROUP:50A4		       pop     dx
TRANGROUP:50A5		       pop     si
TRANGROUP:50A6		       retn
TRANGROUP:50A6 $P_Do_CAPS_String endp
TRANGROUP:50A6
TRANGROUP:50A7
TRANGROUP:50A7 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:50A7
TRANGROUP:50A7
TRANGROUP:50A7 $P_Do_CAPS_Char proc near	       ; ...
TRANGROUP:50A7		       cmp     al, 80h	       ; $P_ASCII80
TRANGROUP:50A9		       jnb     short $P_DCC_Go
TRANGROUP:50AB		       cmp     al, 61h ; 'a'
TRANGROUP:50AD		       jb      short $P_CAPS_Ret
TRANGROUP:50AF		       cmp     al, 7Ah ; 'z'
TRANGROUP:50B1		       ja      short $P_CAPS_Ret
TRANGROUP:50B3		       and     al, 0DFh	       ; $P_Make_Upper
TRANGROUP:50B5		       jmp     short $P_CAPS_Ret
TRANGROUP:50B7 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:50B7
TRANGROUP:50B7 $P_DCC_Go:			       ; ...
TRANGROUP:50B7		       push    bx
TRANGROUP:50B8		       push    es
TRANGROUP:50B9		       push    di
TRANGROUP:50BA		       lea     di, $P_File_CAP_Ptr
TRANGROUP:50BE		       cmp     dl, 4	       ; $P_DOSTBL_File
TRANGROUP:50C1		       jz      short $P_DCC00
TRANGROUP:50C3		       lea     di, $P_Char_CAP_Ptr
TRANGROUP:50C7
TRANGROUP:50C7 $P_DCC00:			       ; ...
TRANGROUP:50C7		       cmp     cs:[di],	dl
TRANGROUP:50CA		       jz      short $P_DCC01
TRANGROUP:50CC		       push    ax
TRANGROUP:50CD		       push    cx
TRANGROUP:50CE		       push    dx
TRANGROUP:50CF		       push    cs
TRANGROUP:50D0		       pop     es
TRANGROUP:50D1		       assume es:TRANGROUP
TRANGROUP:50D1		       mov     ah, 65h	       ; $P_DOS_Get_TBL
TRANGROUP:50D3		       mov     al, dl
TRANGROUP:50D5		       mov     bx, 0FFFFh      ; -1 ; get active CON
TRANGROUP:50D8		       mov     cx, 5	       ; buffer	length
TRANGROUP:50DB		       mov     dx, 0FFFFh      ; -1 ; get for default code page
TRANGROUP:50DE		       int     21h	       ; DOS - 4.x internal - COUNTRY-DEPENDENT	FILENAME CAPITALIZATION
TRANGROUP:50DE					       ; AL = function -
TRANGROUP:50E0		       pop     dx
TRANGROUP:50E1		       pop     cx
TRANGROUP:50E2		       pop     ax
TRANGROUP:50E3
TRANGROUP:50E3 $P_DCC01:			       ; ...
TRANGROUP:50E3		       mov     bx, cs:[di+1]   ; [cs:di+$P_DOS_TBL.$P_DOS_TBL_Off]
TRANGROUP:50E7		       mov     es, word	ptr cs:[di+3] ;	[cs:di+$P_DOS_TBL.$P_DOS_TBL_Seg]
TRANGROUP:50EB		       assume es:nothing
TRANGROUP:50EB		       inc     bx
TRANGROUP:50EC		       inc     bx
TRANGROUP:50ED		       sub     al, 80h
TRANGROUP:50EF		       xlat    byte ptr	es:[bx]	; $P_ASCII80
TRANGROUP:50F1		       pop     di
TRANGROUP:50F2		       pop     es
TRANGROUP:50F3		       pop     bx
TRANGROUP:50F4
TRANGROUP:50F4 $P_CAPS_Ret:			       ; ...
TRANGROUP:50F4		       retn
TRANGROUP:50F4 $P_Do_CAPS_Char endp
TRANGROUP:50F4
TRANGROUP:50F5
TRANGROUP:50F5 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:50F5
TRANGROUP:50F5
TRANGROUP:50F5 $P_SValue       proc near	       ; ...
TRANGROUP:50F5		       push    ax
TRANGROUP:50F6		       or      cs:$P_Flags2, 80h ; $P_Signed
TRANGROUP:50FC		       and     cs:$P_Flags2, 0FDh ; 0FFh-$P_Neg
TRANGROUP:5102		       mov     al, cs:[si]
TRANGROUP:5105		       cmp     al, 2Bh ; '+'   ; $P_Plus
TRANGROUP:5107		       jz      short $P_SVal00
TRANGROUP:5109		       cmp     al, 2Dh ; '-'   ; $P_Minus
TRANGROUP:510B		       jnz     short $P_Sval01
TRANGROUP:510D		       or      cs:$P_Flags2, 2 ; $P_Neg
TRANGROUP:5113
TRANGROUP:5113 $P_SVal00:			       ; ...
TRANGROUP:5113		       inc     si
TRANGROUP:5114
TRANGROUP:5114 $P_Sval01:			       ; ...
TRANGROUP:5114		       call    $P_Value
TRANGROUP:5117		       pop     ax
TRANGROUP:5118		       retn
TRANGROUP:5118 $P_SValue       endp
TRANGROUP:5118
TRANGROUP:5119
TRANGROUP:5119 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5119
TRANGROUP:5119
TRANGROUP:5119 $P_Value	       proc near	       ; ...
TRANGROUP:5119		       push    ax
TRANGROUP:511A		       push    cx
TRANGROUP:511B		       push    dx
TRANGROUP:511C		       push    si
TRANGROUP:511D		       xor     cx, cx
TRANGROUP:511F		       xor     dx, dx
TRANGROUP:5121		       push    bx
TRANGROUP:5122
TRANGROUP:5122 $P_Value_Loop:			       ; ...
TRANGROUP:5122		       mov     al, cs:[si]
TRANGROUP:5125		       or      al, al
TRANGROUP:5127		       jz      short $P_Value00
TRANGROUP:5129		       call    $P_0099
TRANGROUP:512C		       jb      short $P_Value_Err0
TRANGROUP:512E		       xor     ah, ah
TRANGROUP:5130		       mov     bp, ax
TRANGROUP:5132		       shl     dx, 1
TRANGROUP:5134		       rcl     cx, 1
TRANGROUP:5136		       call    $P_Check_OVF
TRANGROUP:5139		       jb      short $P_Value_Err0
TRANGROUP:513B		       mov     bx, dx
TRANGROUP:513D		       mov     ax, cx
TRANGROUP:513F		       shl     dx, 1
TRANGROUP:5141		       rcl     cx, 1
TRANGROUP:5143		       call    $P_Check_OVF
TRANGROUP:5146		       jb      short $P_Value_Err0
TRANGROUP:5148		       shl     dx, 1
TRANGROUP:514A		       rcl     cx, 1
TRANGROUP:514C		       call    $P_Check_OVF
TRANGROUP:514F		       jb      short $P_Value_Err0
TRANGROUP:5151		       add     dx, bx
TRANGROUP:5153		       adc     cx, ax
TRANGROUP:5155		       call    $P_Check_OVF
TRANGROUP:5158		       jb      short $P_Value_Err0
TRANGROUP:515A		       add     dx, bp
TRANGROUP:515C		       adc     cx, 0
TRANGROUP:515F		       call    $P_Check_OVF
TRANGROUP:5162		       jb      short $P_Value_Err0
TRANGROUP:5164		       inc     si
TRANGROUP:5165		       jmp     short $P_Value_Loop
TRANGROUP:5167 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5167
TRANGROUP:5167 $P_Value_Err0:			       ; ...
TRANGROUP:5167		       pop     bx
TRANGROUP:5168		       jmp     $P_Value_Err
TRANGROUP:516B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:516B
TRANGROUP:516B $P_Value00:			       ; ...
TRANGROUP:516B		       pop     bx
TRANGROUP:516C		       test    cs:$P_Flags2, 2 ; $P_Neg
TRANGROUP:5172		       jz      short $P_Value01
TRANGROUP:5174		       not     cx
TRANGROUP:5176		       not     dx
TRANGROUP:5178		       add     dx, 1
TRANGROUP:517B		       adc     cx, 0
TRANGROUP:517E
TRANGROUP:517E $P_Value01:			       ; ...
TRANGROUP:517E		       mov     si, es:[bx+6]   ; [es:bx+$P_CONTROL_BLK.$P_Value_List]
TRANGROUP:5182		       mov     al, es:[si]
TRANGROUP:5185		       cmp     al, 0	       ; $P_nval_None
TRANGROUP:5185					       ;
TRANGROUP:5187		       jnz     short $P_Value02
TRANGROUP:5189		       mov     al, 1
TRANGROUP:518B		       mov     ah, 0FFh
TRANGROUP:518D		       jmp     short $P_Value_Exit
TRANGROUP:518F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:518F		       nop
TRANGROUP:5190
TRANGROUP:5190 $P_Value02:			       ; ...
TRANGROUP:5190		       inc     si
TRANGROUP:5191		       mov     al, es:[si]
TRANGROUP:5194		       cmp     al, 0
TRANGROUP:5196		       jz      short $P_Value_Err ; $P_Value03
TRANGROUP:5198		       inc     si
TRANGROUP:5199
TRANGROUP:5199 $P_Val02_Loop:			       ; ...
TRANGROUP:5199		       test    cs:$P_Flags2, 80h ; $P_Signed
TRANGROUP:519F		       jnz     short $P_Val02_Sign
TRANGROUP:51A1		       cmp     cx, es:[si+3]   ; [es:si+$P_VAL_LIST.$P_Val_XH]
TRANGROUP:51A5		       jb      short $P_Val02_Next
TRANGROUP:51A7		       ja      short $P_Val_In
TRANGROUP:51A9		       cmp     dx, es:[si+1]   ; [es:si+$P_VAL_LIST.$P_Val_XL]
TRANGROUP:51AD		       jb      short $P_Val02_Next
TRANGROUP:51AF
TRANGROUP:51AF $P_Val_In:			       ; ...
TRANGROUP:51AF		       cmp     cx, es:[si+7]   ; [es:si+$P_VAL_LIST.$P_Val_YH]
TRANGROUP:51B3		       ja      short $P_Val02_Next
TRANGROUP:51B5		       jb      short $P_Val_Found
TRANGROUP:51B7		       cmp     dx, es:[si+5]   ; [es:si+$P_VAL_LIST.$P_Val_YL]
TRANGROUP:51BB		       ja      short $P_Val02_Next
TRANGROUP:51BD		       jmp     short $P_Val_Found
TRANGROUP:51BF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:51BF
TRANGROUP:51BF $P_Val02_Sign:			       ; ...
TRANGROUP:51BF		       cmp     cx, es:[si+3]
TRANGROUP:51C3		       jl      short $P_Val02_Next
TRANGROUP:51C5		       jg      short $P_SVal_In
TRANGROUP:51C7		       cmp     dx, es:[si+1]
TRANGROUP:51CB		       jl      short $P_Val02_Next
TRANGROUP:51CD
TRANGROUP:51CD $P_SVal_In:			       ; ...
TRANGROUP:51CD		       cmp     cx, es:[si+7]
TRANGROUP:51D1		       jg      short $P_Val02_Next
TRANGROUP:51D3		       jl      short $P_Val_Found
TRANGROUP:51D5		       cmp     dx, es:[si+5]
TRANGROUP:51D9		       jg      short $P_Val02_Next
TRANGROUP:51DB		       jmp     short $P_Val_Found
TRANGROUP:51DD ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:51DD
TRANGROUP:51DD $P_Val02_Next:			       ; ...
TRANGROUP:51DD		       add     si, 9	       ; $P_Len_Range
TRANGROUP:51E0		       dec     al
TRANGROUP:51E2		       jnz     short $P_Val02_Loop
TRANGROUP:51E4		       mov     cs:$P_RC, 6     ; $P_Out_Of_Range
TRANGROUP:51EB		       mov     al, 1	       ; $P_Number
TRANGROUP:51ED		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:51EF		       jmp     short $P_Value_Exit
TRANGROUP:51F1 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:51F1
TRANGROUP:51F1 $P_Val_Found:			       ; ...
TRANGROUP:51F1		       mov     al, 1
TRANGROUP:51F3		       mov     ah, es:[si]
TRANGROUP:51F6		       jmp     short $P_Value_Exit
TRANGROUP:51F8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:51F8
TRANGROUP:51F8 $P_Value_Err:			       ; ...
TRANGROUP:51F8		       mov     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:51FF		       mov     al, 3	       ; $P_String
TRANGROUP:5201		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:5203
TRANGROUP:5203 $P_Value_Exit:			       ; ...
TRANGROUP:5203		       call    $P_Fill_Result
TRANGROUP:5206		       pop     si
TRANGROUP:5207		       pop     dx
TRANGROUP:5208		       pop     cx
TRANGROUP:5209		       pop     ax
TRANGROUP:520A		       retn
TRANGROUP:520A $P_Value	       endp
TRANGROUP:520A
TRANGROUP:520B
TRANGROUP:520B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:520B
TRANGROUP:520B
TRANGROUP:520B $P_Check_OVF    proc near	       ; ...
TRANGROUP:520B		       pushf
TRANGROUP:520C		       test    cs:$P_Flags2, 2 ; $P_Neg
TRANGROUP:5212		       jnz     short $P_COVF
TRANGROUP:5214		       popf
TRANGROUP:5215		       retn
TRANGROUP:5216 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5216
TRANGROUP:5216 $P_COVF:				       ; ...
TRANGROUP:5216		       popf
TRANGROUP:5217		       jo      short $P_COVF00
TRANGROUP:5219		       clc
TRANGROUP:521A		       retn
TRANGROUP:521B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:521B
TRANGROUP:521B $P_COVF00:			       ; ...
TRANGROUP:521B		       stc
TRANGROUP:521C		       retn
TRANGROUP:521C $P_Check_OVF    endp
TRANGROUP:521C
TRANGROUP:521D
TRANGROUP:521D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:521D
TRANGROUP:521D
TRANGROUP:521D $P_0099	       proc near	       ; ...
TRANGROUP:521D		       cmp     al, 30h ; '0'
TRANGROUP:521F		       jb      short $P_0099Err
TRANGROUP:5221		       cmp     al, 39h ; '9'
TRANGROUP:5223		       ja      short $P_0099Err
TRANGROUP:5225		       sub     al, 30h ; '0'
TRANGROUP:5227		       clc
TRANGROUP:5228		       retn
TRANGROUP:5229 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5229
TRANGROUP:5229 $P_0099Err:			       ; ...
TRANGROUP:5229		       stc
TRANGROUP:522A		       retn
TRANGROUP:522A $P_0099	       endp
TRANGROUP:522A
TRANGROUP:522B
TRANGROUP:522B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:522B
TRANGROUP:522B
TRANGROUP:522B $P_Simple_String	proc near	       ; ...
TRANGROUP:522B		       push    ax
TRANGROUP:522C		       push    bx
TRANGROUP:522D		       push    dx
TRANGROUP:522E		       push    di
TRANGROUP:522F		       mov     di, es:[bx+6]   ; [es:bx+$P_CONTROL_BLK.$P_Value_List]
TRANGROUP:5233		       mov     al, es:[di]
TRANGROUP:5236		       or      al, al
TRANGROUP:5238		       jnz     short $P_Sim00
TRANGROUP:523A		       mov     ah, 0FFh
TRANGROUP:523C		       jmp     short $P_Sim_Exit
TRANGROUP:523E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:523E
TRANGROUP:523E $P_Sim00:			       ; ...
TRANGROUP:523E		       cmp     al, 3	       ; $P_nval_String
TRANGROUP:5240		       jnz     short $P_Sim01
TRANGROUP:5242		       inc     di
TRANGROUP:5243		       mov     al, es:[di]
TRANGROUP:5246		       mov     ah, 9	       ; $P_Len_Range
TRANGROUP:5248		       mul     ah
TRANGROUP:524A		       inc     ax
TRANGROUP:524B		       add     di, ax
TRANGROUP:524D		       mov     al, es:[di]
TRANGROUP:5250		       mov     ah, 5	       ; $P_Len_Value
TRANGROUP:5252		       mul     ah
TRANGROUP:5254		       inc     ax
TRANGROUP:5255		       add     di, ax
TRANGROUP:5257		       mov     al, es:[di]
TRANGROUP:525A		       inc     di
TRANGROUP:525B		       inc     di
TRANGROUP:525C
TRANGROUP:525C $P_Sim_Loop:			       ; ...
TRANGROUP:525C		       mov     bp, es:[di]
TRANGROUP:525F		       call    $P_String_Comp
TRANGROUP:5262		       jnb     short $P_Sim_Found
TRANGROUP:5264		       add     di, 3	       ; $P_Len_String
TRANGROUP:5267		       dec     al
TRANGROUP:5269		       jnz     short $P_Sim_Loop
TRANGROUP:526B		       mov     cs:$P_RC, 8     ; $P_Not_In_Str
TRANGROUP:5272		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:5274		       jmp     short $P_Sim_Exit
TRANGROUP:5276 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5276
TRANGROUP:5276 $P_Sim_Found:			       ; ...
TRANGROUP:5276		       mov     ah, es:[di-1]
TRANGROUP:527A		       mov     al, 2	       ; $P_List_Idx
TRANGROUP:527C		       mov     dx, es:[di]
TRANGROUP:527F		       jmp     short $P_Sim_Exit0
TRANGROUP:5281 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5281
TRANGROUP:5281 $P_Sim01:			       ; ...
TRANGROUP:5281		       mov     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:5288		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:528A
TRANGROUP:528A $P_Sim_Exit:			       ; ...
TRANGROUP:528A		       mov     al, 3	       ; $P_String
TRANGROUP:528C
TRANGROUP:528C $P_Sim_Exit0:			       ; ...
TRANGROUP:528C		       call    $P_Fill_Result
TRANGROUP:528F		       pop     di
TRANGROUP:5290		       pop     dx
TRANGROUP:5291		       pop     bx
TRANGROUP:5292		       pop     ax
TRANGROUP:5293		       retn
TRANGROUP:5293 $P_Simple_String	endp
TRANGROUP:5293
TRANGROUP:5294
TRANGROUP:5294 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5294
TRANGROUP:5294
TRANGROUP:5294 $P_String_Comp  proc near	       ; ...
TRANGROUP:5294		       push    ax
TRANGROUP:5295		       push    bp
TRANGROUP:5296		       push    dx
TRANGROUP:5297		       push    si
TRANGROUP:5298		       mov     dl, 2	       ; $P_DOSTBL_Char
TRANGROUP:529A
TRANGROUP:529A $P_SCOM_Loop:			       ; ...
TRANGROUP:529A		       mov     al, cs:[si]     ; 1st string
TRANGROUP:529D		       call    $P_Chk_DBCS
TRANGROUP:52A0		       jb      short $P_SCOM00
TRANGROUP:52A2		       call    $P_Do_CAPS_Char
TRANGROUP:52A5		       test    cs:$P_Flags2, 8 ; $P_Key_Cmp
TRANGROUP:52AB		       jz      short $P_SCOM04
TRANGROUP:52AD		       cmp     al, 3Dh ; '='   ; $P_Keyword
TRANGROUP:52AF		       jnz     short $P_SCOM03
TRANGROUP:52B1		       cmp     byte ptr	es:[bp+1], 0
TRANGROUP:52B6		       jnz     short $P_SCOM_Differ
TRANGROUP:52B8		       jmp     short $P_SCOM05
TRANGROUP:52BA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:52BA
TRANGROUP:52BA $P_SCOM04:			       ; ...
TRANGROUP:52BA		       test    cs:$P_Flags2, 10h ; $P_SW_Cmp
TRANGROUP:52C0		       jz      short $P_SCOM03
TRANGROUP:52C2		       cmp     al, 3Ah ; ':'   ; $P_Colon
TRANGROUP:52C4		       jnz     short $P_SCOM03
TRANGROUP:52C6		       cmp     byte ptr	es:[bp+0], 0 ; $P_NULL
TRANGROUP:52CB		       jnz     short $P_SCOM_Differ
TRANGROUP:52CD
TRANGROUP:52CD $P_SCOM05:			       ; ...
TRANGROUP:52CD		       inc     si
TRANGROUP:52CE		       jmp     short $P_SCOM_Same
TRANGROUP:52D0 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:52D0
TRANGROUP:52D0 $P_SCOM03:			       ; ...
TRANGROUP:52D0		       cmp     al, es:[bp+0]   ; 2nd string (must be upper case)
TRANGROUP:52D4		       jnz     short $P_SCOM_Differ0
TRANGROUP:52D6		       or      al, al
TRANGROUP:52D8		       jz      short $P_SCOM_Same
TRANGROUP:52DA		       inc     si
TRANGROUP:52DB		       inc     bp
TRANGROUP:52DC		       jmp     short $P_SCOM01
TRANGROUP:52DE ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:52DE
TRANGROUP:52DE $P_SCOM00:			       ; ...
TRANGROUP:52DE		       cmp     al, es:[bp+0]
TRANGROUP:52E2		       jnz     short $P_SCOM_Differ
TRANGROUP:52E4		       inc     si
TRANGROUP:52E5		       mov     al, cs:[si]
TRANGROUP:52E8		       inc     bp
TRANGROUP:52E9		       cmp     al, es:[bp+0]
TRANGROUP:52ED		       jnz     short $P_SCOM_Differ
TRANGROUP:52EF		       inc     si
TRANGROUP:52F0		       inc     bp
TRANGROUP:52F1
TRANGROUP:52F1 $P_SCOM01:			       ; ...
TRANGROUP:52F1		       jmp     short $P_SCOM_Loop
TRANGROUP:52F3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:52F3
TRANGROUP:52F3 $P_SCOM_Differ0:			       ; ...
TRANGROUP:52F3		       test    cs:$P_Flags2, 40h ; $P_SW
TRANGROUP:52F9		       jz      short $P_not_applicable
TRANGROUP:52FB		       test    word ptr	es:[bx+2], 20h ; [es:bx+$P_CONTROL_BLK.$P_Function_Flag],$P_colon_is_not_necessary
TRANGROUP:5301		       jz      short $P_not_applicable
TRANGROUP:5303		       cmp     byte ptr	es:[bp+0], 0
TRANGROUP:5308		       jz      short $P_SCOM_Same
TRANGROUP:530A
TRANGROUP:530A $P_not_applicable:		       ; ...
TRANGROUP:530A		       test    word ptr	es:[bx], 10h ; [es:bx+$P_CONTROL_BLK.$P_Match_Flag],$P_Ig_Colon
TRANGROUP:530F		       jz      short $P_SCOM_Differ
TRANGROUP:5311		       cmp     al, 3Ah ; ':'   ; $P_Colon
TRANGROUP:5313		       jnz     short $P_SCOM02
TRANGROUP:5315		       cmp     byte ptr	es:[bp+0], 0 ; $P_NULL
TRANGROUP:531A		       jnz     short $P_SCOM_Differ
TRANGROUP:531C		       jmp     short $P_SCOM_Same
TRANGROUP:531E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:531E
TRANGROUP:531E $P_SCOM02:			       ; ...
TRANGROUP:531E		       cmp     al, 0
TRANGROUP:5320		       jnz     short $P_SCOM_Differ
TRANGROUP:5322		       cmp     byte ptr	es:[bp+0], 3Ah ; ':'
TRANGROUP:5327		       jz      short $P_SCOM_Same
TRANGROUP:5329
TRANGROUP:5329 $P_SCOM_Differ:			       ; ...
TRANGROUP:5329		       stc
TRANGROUP:532A		       jmp     short $P_SCOM_Exit
TRANGROUP:532C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:532C
TRANGROUP:532C $P_SCOM_Same:			       ; ...
TRANGROUP:532C		       mov     cs:$P_KEYorSW_Ptr, si
TRANGROUP:5331		       clc
TRANGROUP:5332
TRANGROUP:5332 $P_SCOM_Exit:			       ; ...
TRANGROUP:5332		       pop     si
TRANGROUP:5333		       pop     dx
TRANGROUP:5334		       pop     bp
TRANGROUP:5335		       pop     ax
TRANGROUP:5336		       retn
TRANGROUP:5336 $P_String_Comp  endp
TRANGROUP:5336
TRANGROUP:5337
TRANGROUP:5337 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5337
TRANGROUP:5337
TRANGROUP:5337 $P_Date_Format  proc near	       ; ...
TRANGROUP:5337		       push    ax
TRANGROUP:5338		       push    cx
TRANGROUP:5339		       push    dx
TRANGROUP:533A		       push    si
TRANGROUP:533B		       push    bx
TRANGROUP:533C		       push    si
TRANGROUP:533D		       call    $P_Set_CDI
TRANGROUP:5340		       pop     si
TRANGROUP:5341		       mov     cs:$P_1st_Val, 0
TRANGROUP:5348		       mov     cs:$P_2nd_Val, 0	; mov psdata_seg:$P_2nd_Val,0
TRANGROUP:534F		       mov     cs:$P_3rd_Val, 0
TRANGROUP:5356		       call    $P_Get_DecNum
TRANGROUP:5359		       jb      short $P_DateF_Err0
TRANGROUP:535B		       mov     cs:$P_1st_Val, ax
TRANGROUP:535F		       or      bl, bl
TRANGROUP:5361		       jz      short $P_DateF_YMD
TRANGROUP:5363		       call    $P_Get_DecNum
TRANGROUP:5366		       jb      short $P_DateF_Error
TRANGROUP:5368		       mov     cs:$P_2nd_Val, ax
TRANGROUP:536C		       or      bl, bl
TRANGROUP:536E		       jz      short $P_DateF_YMD
TRANGROUP:5370		       call    $P_Get_DecNum
TRANGROUP:5373
TRANGROUP:5373 $P_DateF_Err0:			       ; ...
TRANGROUP:5373		       jb      short $P_DateF_Error
TRANGROUP:5375		       mov     cs:$P_3rd_Val, ax
TRANGROUP:5379		       or      bl, bl
TRANGROUP:537B		       jnz     short $P_DateF_Error
TRANGROUP:537D
TRANGROUP:537D $P_DateF_YMD:			       ; ...
TRANGROUP:537D		       mov     bx, cs:$P_Country_Info ;	[cs:$P_Country_Info+$P_CDI.$P_CDI_DateF]
TRANGROUP:537D					       ; mov bx,psdata_seg:$P_Country_Info.$P_CDI_DateF
TRANGROUP:5382		       cmp     bx, 2	       ; bx,$P_Date_YMD
TRANGROUP:5385		       jz      short $P_DateF00
TRANGROUP:5387		       mov     ax, cs:$P_1st_Val
TRANGROUP:538B		       or      ah, ah
TRANGROUP:538D		       jnz     short $P_DateF_Error
TRANGROUP:538F		       mov     cl, al
TRANGROUP:5391		       mov     ax, cs:$P_2nd_Val
TRANGROUP:5395		       or      ah, ah
TRANGROUP:5397		       jnz     short $P_DateF_Error
TRANGROUP:5399		       mov     ch, al
TRANGROUP:539B		       mov     dx, cs:$P_3rd_Val
TRANGROUP:53A0		       cmp     bx, 1	       ; bx,$P_Date_DMY
TRANGROUP:53A3		       jnz     short $P_DateF01
TRANGROUP:53A5		       xchg    ch, cl
TRANGROUP:53A7
TRANGROUP:53A7 $P_DateF01:			       ; ...
TRANGROUP:53A7		       jmp     short $P_DateF02
TRANGROUP:53A9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:53A9
TRANGROUP:53A9 $P_DateF00:			       ; ...
TRANGROUP:53A9		       mov     dx, cs:$P_1st_Val
TRANGROUP:53AE		       mov     ax, cs:$P_2nd_Val
TRANGROUP:53B2		       or      ah, ah
TRANGROUP:53B4		       jnz     short $P_DateF_Error
TRANGROUP:53B6		       mov     cl, al
TRANGROUP:53B8		       mov     ax, cs:$P_3rd_Val
TRANGROUP:53BC		       or      ah, ah
TRANGROUP:53BE		       jnz     short $P_DateF_Error
TRANGROUP:53C0		       mov     ch, al
TRANGROUP:53C2
TRANGROUP:53C2 $P_DateF02:			       ; ...
TRANGROUP:53C2		       cmp     dx, 100
TRANGROUP:53C5		       jnb     short $P_DateF03
TRANGROUP:53C7		       add     dx, 1900
TRANGROUP:53CB
TRANGROUP:53CB $P_DateF03:			       ; ...
TRANGROUP:53CB		       pop     bx
TRANGROUP:53CC		       pop     si
TRANGROUP:53CD		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:53CF		       mov     al, 7	       ; $P_Date_F
TRANGROUP:53D1		       call    $P_Fill_Result
TRANGROUP:53D4		       jmp     short $P_Date_Format_Exit
TRANGROUP:53D6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:53D6
TRANGROUP:53D6 $P_DateF_Error:			       ; ...
TRANGROUP:53D6		       pop     bx
TRANGROUP:53D7		       pop     si
TRANGROUP:53D8		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:53DA		       mov     al, 3	       ; $P_String
TRANGROUP:53DC		       call    $P_Fill_Result
TRANGROUP:53DF		       mov     cs:$P_RC, 9     ; mov psdata_seg:$P_RC,$P_Syntax
TRANGROUP:53E6
TRANGROUP:53E6 $P_Date_Format_Exit:		       ; ...
TRANGROUP:53E6		       pop     dx
TRANGROUP:53E7		       pop     cx
TRANGROUP:53E8		       pop     ax
TRANGROUP:53E9		       retn
TRANGROUP:53E9 $P_Date_Format  endp
TRANGROUP:53E9
TRANGROUP:53EA
TRANGROUP:53EA ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:53EA
TRANGROUP:53EA
TRANGROUP:53EA $P_Set_CDI      proc near	       ; ...
TRANGROUP:53EA		       lea     si, $P_Country_Info ; (lea si,ds:9EF1h)
TRANGROUP:53EA					       ; lea si,psdata_seg:$P_Country_Info
TRANGROUP:53EE		       cmp     word ptr	cs:[si], 0FFFFh	;
TRANGROUP:53EE					       ; cmp psdata_seg:[si].$P_CDI_DateF,$P_NeedToBeRead
TRANGROUP:53F2		       jz      short $P_Read_CDI
TRANGROUP:53F4		       jmp     short $P_Set_CDI_Exit
TRANGROUP:53F6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:53F6
TRANGROUP:53F6 $P_Read_CDI:			       ; ...
TRANGROUP:53F6		       push    ds
TRANGROUP:53F7		       push    dx
TRANGROUP:53F8		       push    ax
TRANGROUP:53F9		       push    cs
TRANGROUP:53FA		       pop     ds
TRANGROUP:53FB		       assume ds:TRANGROUP
TRANGROUP:53FB		       mov     ax, 3800h       ; $P_DOS_Get_CDI
TRANGROUP:53FE		       mov     dx, si
TRANGROUP:5400		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:5400					       ; get current-country info
TRANGROUP:5400					       ; DS:DX -> buffer for returned info
TRANGROUP:5402		       pop     ax
TRANGROUP:5403		       pop     dx
TRANGROUP:5404		       pop     ds
TRANGROUP:5405		       assume ds:nothing
TRANGROUP:5405
TRANGROUP:5405 $P_Set_CDI_Exit:			       ; ...
TRANGROUP:5405		       retn
TRANGROUP:5405 $P_Set_CDI      endp
TRANGROUP:5405
TRANGROUP:5406
TRANGROUP:5406 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5406
TRANGROUP:5406
TRANGROUP:5406 $P_Get_DecNum   proc near	       ; ...
TRANGROUP:5406		       push    cx
TRANGROUP:5407		       push    dx
TRANGROUP:5408		       xor     cx, cx
TRANGROUP:540A
TRANGROUP:540A $P_GetNum_Loop:			       ; ...
TRANGROUP:540A		       mov     al, cs:[si]     ; mov al,psdata_seg:[si]
TRANGROUP:540D		       or      al, al
TRANGROUP:540F		       jz      short $P_GetNum00
TRANGROUP:5411		       cmp     cs:$P_Got_Time, 0 ; cmp psdata_seg:$P_Got_Time,0
TRANGROUP:5417		       jz      short $P_Do_Date_Delims
TRANGROUP:5419		       cmp     bl, 1	       ; cmp bl,$P_colon_period
TRANGROUP:541C		       jnz     short $P_Do_Time_Delim1
TRANGROUP:541E		       cmp     al, ':'         ; $P_Colon
TRANGROUP:5420		       jz      short $P_GetNum01
TRANGROUP:5422
TRANGROUP:5422 $P_Do_Time_Delim1:		       ; ...
TRANGROUP:5422		       cmp     al, '.'         ; $P_Period
TRANGROUP:5424		       jz      short $P_GetNum01
TRANGROUP:5426		       jmp     short $P_Neither_Delims
TRANGROUP:5428 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5428
TRANGROUP:5428 $P_Do_Date_Delims:		       ; ...
TRANGROUP:5428		       cmp     al, '-'         ; $P_Minus
TRANGROUP:542A		       jz      short $P_GetNum01
TRANGROUP:542C		       cmp     al, '/'         ; $P_Slash
TRANGROUP:542E		       jz      short $P_GetNum01
TRANGROUP:5430		       cmp     al, '.'         ; $P_Period
TRANGROUP:5432		       jz      short $P_GetNum01
TRANGROUP:5434
TRANGROUP:5434 $P_Neither_Delims:		       ; ...
TRANGROUP:5434		       call    $P_0099
TRANGROUP:5437		       jb      short $P_GetNum_Exit
TRANGROUP:5439		       mov     ah, 0
TRANGROUP:543B		       xchg    ax, cx
TRANGROUP:543C		       mov     dx, 10
TRANGROUP:543F		       mul     dx
TRANGROUP:5441		       or      dx, dx
TRANGROUP:5443		       jnz     short $P_GetNum02
TRANGROUP:5445		       add     ax, cx
TRANGROUP:5447		       jb      short $P_GetNum_Exit
TRANGROUP:5449		       xchg    ax, cx
TRANGROUP:544A		       inc     si
TRANGROUP:544B		       jmp     short $P_GetNum_Loop
TRANGROUP:544D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:544D
TRANGROUP:544D $P_GetNum00:			       ; ...
TRANGROUP:544D		       mov     bl, al
TRANGROUP:544F		       clc
TRANGROUP:5450		       jmp     short $P_GetNum_Exit
TRANGROUP:5452 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5452
TRANGROUP:5452 $P_GetNum01:			       ; ...
TRANGROUP:5452		       inc     si
TRANGROUP:5453		       clc
TRANGROUP:5454		       jmp     short $P_GetNum_Exit
TRANGROUP:5456 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5456
TRANGROUP:5456 $P_GetNum02:			       ; ...
TRANGROUP:5456		       stc
TRANGROUP:5457
TRANGROUP:5457 $P_GetNum_Exit:			       ; ...
TRANGROUP:5457		       mov     ax, cx
TRANGROUP:5459		       pop     dx
TRANGROUP:545A		       pop     cx
TRANGROUP:545B		       retn
TRANGROUP:545B $P_Get_DecNum   endp
TRANGROUP:545B
TRANGROUP:545C
TRANGROUP:545C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:545C
TRANGROUP:545C
TRANGROUP:545C $P_Time_Format  proc near	       ; ...
TRANGROUP:545C		       push    ax
TRANGROUP:545D		       push    cx
TRANGROUP:545E		       push    dx
TRANGROUP:545F		       push    si
TRANGROUP:5460		       push    bx
TRANGROUP:5461		       push    si
TRANGROUP:5462		       call    $P_Set_CDI
TRANGROUP:5465		       test    byte ptr	cs:[si+11h], 1 ;
TRANGROUP:5465					       ; test byte ptr psdata_seg:[si].$P_CDI_TimeF,1
TRANGROUP:546A		       pop     si
TRANGROUP:546B		       jnz     short $P_TimeF00
TRANGROUP:546D		       call    $P_Time_2412
TRANGROUP:5470
TRANGROUP:5470 $P_TimeF00:			       ; ...
TRANGROUP:5470		       mov     cs:$P_1st_Val, 0
TRANGROUP:5477		       mov     cs:$P_2nd_Val, 0
TRANGROUP:547E		       mov     cs:$P_3rd_Val, 0	; mov psdata_seg:$P_3rd_Val,0
TRANGROUP:5485		       mov     cs:$P_4th_Val, 0
TRANGROUP:548C		       mov     cs:$P_Got_Time, 1 ; mov psdata_seg:$P_Got_Time,1
TRANGROUP:5492		       mov     bl, 1	       ; $P_colon_period
TRANGROUP:5494		       call    $P_Get_DecNum
TRANGROUP:5497		       jb      short $P_TimeF_Err0
TRANGROUP:5499		       mov     cs:$P_1st_Val, ax
TRANGROUP:549D		       or      bl, bl
TRANGROUP:549F		       jz      short $P_TimeF_Rlt
TRANGROUP:54A1		       call    $P_Get_DecNum
TRANGROUP:54A4		       jb      short $P_TimeF_Err0
TRANGROUP:54A6		       mov     cs:$P_2nd_Val, ax
TRANGROUP:54AA		       or      bl, bl
TRANGROUP:54AC		       jz      short $P_TimeF_Rlt
TRANGROUP:54AE		       mov     bl, 2	       ; mov bl,$P_period_only
TRANGROUP:54B0		       call    $P_Get_DecNum
TRANGROUP:54B3		       jb      short $P_TimeF_Err0
TRANGROUP:54B5		       mov     cs:$P_3rd_Val, ax
TRANGROUP:54B9		       or      bl, bl
TRANGROUP:54BB		       jnz     short $P_Time_4
TRANGROUP:54BD		       test    cs:$P_Flags, 2  ; test psdata_seg:$P_Flags1,$P_Time_Again
TRANGROUP:54C3		       jnz     short $P_TimeF_Rlt
TRANGROUP:54C5		       mov     si, cs:$P_SI_Save ; mov si,psdata_seg:$P_SI_Save
TRANGROUP:54CA		       cmp     byte ptr	[si-1],	',' ; cmp byte ptr [si-1],$P_Comma
TRANGROUP:54CE		       jnz     short $P_TimeF_Rlt
TRANGROUP:54D0		       mov     byte ptr	[si-1],	'.' ; mov byte ptr [si-1],$P_Period
TRANGROUP:54D4		       mov     word ptr	cs:$P_Flags, 0
TRANGROUP:54DB		       or      cs:$P_Flags, 2  ; or psdata_seg:$P_Flags1,$P_Time_Again
TRANGROUP:54E1		       mov     cx, cs:$P_ORIG_ORD
TRANGROUP:54E6		       mov     sp, cs:$P_ORIG_STACK
TRANGROUP:54EB		       mov     si, cs:$P_ORIG_SI
TRANGROUP:54F0		       jmp     $P_Redo_Time
TRANGROUP:54F3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:54F3
TRANGROUP:54F3 $P_Time_4:			       ; ...
TRANGROUP:54F3		       call    $P_Get_DecNum
TRANGROUP:54F6
TRANGROUP:54F6 $P_TimeF_Err0:			       ; ...
TRANGROUP:54F6		       jb      short $P_TimeF_Error
TRANGROUP:54F8		       mov     cs:$P_4th_Val, ax
TRANGROUP:54FC		       or      bl, bl
TRANGROUP:54FE		       jnz     short $P_TimeF_Error
TRANGROUP:5500
TRANGROUP:5500 $P_TimeF_Rlt:			       ; ...
TRANGROUP:5500		       mov     ax, cs:$P_1st_Val
TRANGROUP:5504		       or      ah, ah
TRANGROUP:5506		       jnz     short $P_TimeF_Error
TRANGROUP:5508		       test    cs:$P_Flags, 1  ; test psdata_seg:$P_Flags1,$P_Time12am
TRANGROUP:550E		       jz      short $P_Time_notAM
TRANGROUP:5510		       cmp     al, 12
TRANGROUP:5512		       ja      short $P_TimeF_Error
TRANGROUP:5514		       jnz     short $P_Time_notAM
TRANGROUP:5516		       xor     al, al
TRANGROUP:5518
TRANGROUP:5518 $P_Time_notAM:			       ; ...
TRANGROUP:5518		       test    cs:$P_Flags2, 4 ; test psdata_seg:$P_Flags2,$P_Time12
TRANGROUP:551E		       jz      short $P_TimeSkip00
TRANGROUP:5520		       cmp     al, 12
TRANGROUP:5522		       jz      short $P_TimeSkip00
TRANGROUP:5524		       add     al, 12
TRANGROUP:5526		       jb      short $P_TimeF_Error
TRANGROUP:5528		       cmp     al, 24
TRANGROUP:552A		       ja      short $P_TimeF_Error
TRANGROUP:552C
TRANGROUP:552C $P_TimeSkip00:			       ; ...
TRANGROUP:552C		       mov     dl, al
TRANGROUP:552E		       mov     ax, cs:$P_2nd_Val
TRANGROUP:5532		       or      ah, ah
TRANGROUP:5534		       jnz     short $P_TimeF_Error
TRANGROUP:5536		       mov     dh, al
TRANGROUP:5538		       mov     ax, cs:$P_3rd_Val
TRANGROUP:553C		       or      ah, ah
TRANGROUP:553E		       jnz     short $P_TimeF_Error
TRANGROUP:5540		       mov     cl, al
TRANGROUP:5542		       mov     ax, cs:$P_4th_Val ; mov ax,psdata_seg:$P_4th_Val
TRANGROUP:5546		       or      ah, ah
TRANGROUP:5548		       jnz     short $P_TimeF_Error
TRANGROUP:554A		       mov     ch, al
TRANGROUP:554C		       pop     bx
TRANGROUP:554D		       pop     si
TRANGROUP:554E		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:5550		       mov     al, 8	       ; $P_Time_F
TRANGROUP:5552		       call    $P_Fill_Result
TRANGROUP:5555		       jmp     short $P_Time_Format_Exit
TRANGROUP:5557 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5557
TRANGROUP:5557 $P_TimeF_Error:			       ; ...
TRANGROUP:5557		       pop     bx
TRANGROUP:5558		       pop     si
TRANGROUP:5559		       mov     ah, 0FFh
TRANGROUP:555B		       mov     al, 3	       ; $P_String
TRANGROUP:555D		       call    $P_Fill_Result
TRANGROUP:5560		       mov     cs:$P_RC, 9     ; mov psdata_seg:$P_RC,$P_Syntax
TRANGROUP:5567
TRANGROUP:5567 $P_Time_Format_Exit:		       ; ...
TRANGROUP:5567		       mov     cs:$P_Got_Time, 0 ; mov psdata_seg:$P_Got_Time,0
TRANGROUP:556D		       pop     dx
TRANGROUP:556E		       pop     cx
TRANGROUP:556F		       pop     ax
TRANGROUP:5570		       retn
TRANGROUP:5570 $P_Time_Format  endp
TRANGROUP:5570
TRANGROUP:5571
TRANGROUP:5571 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5571
TRANGROUP:5571
TRANGROUP:5571 $P_Time_2412    proc near	       ; ...
TRANGROUP:5571		       push    ax
TRANGROUP:5572		       push    si
TRANGROUP:5573
TRANGROUP:5573 $P_T12_Loop:			       ; ...
TRANGROUP:5573		       mov     al, cs:[si]     ; mov al,psdata_seg:[si]
TRANGROUP:5576		       inc     si
TRANGROUP:5577		       or      al, al
TRANGROUP:5579		       jnz     short $P_T12_Loop
TRANGROUP:557B		       mov     al, cs:[si-2]   ; mov al,psdata_seg:[si-word]
TRANGROUP:557F		       or      al, 20h	       ; or al,$P_Make_Lower
TRANGROUP:5581		       cmp     al, 'p'
TRANGROUP:5583		       jz      short $P_T1200
TRANGROUP:5585		       cmp     al, 'a'
TRANGROUP:5587		       jz      short $P_T1201
TRANGROUP:5589		       cmp     al, 'm'
TRANGROUP:558B		       jnz     short $P_T12_Exit
TRANGROUP:558D		       dec     si
TRANGROUP:558E		       mov     al, cs:[si-2]
TRANGROUP:5592		       or      al, 20h
TRANGROUP:5594		       cmp     al, 'p'
TRANGROUP:5596		       jz      short $P_T1200
TRANGROUP:5598		       cmp     al, 'a'
TRANGROUP:559A		       jz      short $P_T1201
TRANGROUP:559C		       jmp     short $P_T12_Exit
TRANGROUP:559E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:559E
TRANGROUP:559E $P_T1200:			       ; ...
TRANGROUP:559E		       or      cs:$P_Flags2, 4 ; or psdata_seg:$P_Flags2,$P_Time12
TRANGROUP:55A4		       jmp     short $P_Tclr_chr
TRANGROUP:55A6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:55A6
TRANGROUP:55A6 $P_T1201:			       ; ...
TRANGROUP:55A6		       or      cs:$P_Flags, 1  ; or psdata_seg:$P_Flags1,$P_Time12AM
TRANGROUP:55AC
TRANGROUP:55AC $P_Tclr_chr:			       ; ...
TRANGROUP:55AC		       mov     byte ptr	cs:[si-2], 0 ; psdata_seg:[si-2],$P_NULL
TRANGROUP:55B1
TRANGROUP:55B1 $P_T12_Exit:			       ; ...
TRANGROUP:55B1		       pop     si
TRANGROUP:55B2		       pop     ax
TRANGROUP:55B3		       retn
TRANGROUP:55B3 $P_Time_2412    endp
TRANGROUP:55B3
TRANGROUP:55B4
TRANGROUP:55B4 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:55B4
TRANGROUP:55B4
TRANGROUP:55B4 $P_File_Format  proc near	       ; ...
TRANGROUP:55B4		       push    ax
TRANGROUP:55B5		       push    di
TRANGROUP:55B6		       push    si
TRANGROUP:55B7		       mov     di, cs:$P_SaveSI_Cmpx
TRANGROUP:55BC		       mov     al, cs:[si]
TRANGROUP:55BF		       or      al, al
TRANGROUP:55C1		       jz      short $P_FileF_Err
TRANGROUP:55C3		       call    $P_FileSp_Chk
TRANGROUP:55C6		       jnz     short $P_FileF03
TRANGROUP:55C8		       mov     cs:$P_err_flag, 1 ; $P_error_filespec
TRANGROUP:55CE		       pop     si
TRANGROUP:55CF		       mov     byte ptr	cs:[si], 0 ; $P_NULL
TRANGROUP:55D3		       pop     di
TRANGROUP:55D4		       jmp     short $P_FileF02
TRANGROUP:55D6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:55D6
TRANGROUP:55D6 $P_FileF_Err:			       ; ...
TRANGROUP:55D6		       pop     si
TRANGROUP:55D7		       mov     byte ptr	cs:[si], 0
TRANGROUP:55DB		       pop     di
TRANGROUP:55DC		       test    word ptr	es:[bx], 1 ; [es:bx+$P_CONTROL_BLK.$P_Match_Flag],$P_Optional
TRANGROUP:55E1		       jnz     short $P_FileF02
TRANGROUP:55E3		       mov     cs:$P_RC, 2     ; $P_Op_Missing
TRANGROUP:55EA		       jmp     short $P_FileF02
TRANGROUP:55EC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:55EC
TRANGROUP:55EC $P_FileF03:			       ; ...
TRANGROUP:55EC		       pop     ax
TRANGROUP:55ED		       push    si
TRANGROUP:55EE
TRANGROUP:55EE $P_FileF_Loop1:			       ; ...
TRANGROUP:55EE		       mov     al, cs:[si]
TRANGROUP:55F1		       or      al, al
TRANGROUP:55F3		       jz      short $P_FileF_RLT
TRANGROUP:55F5		       call    $P_FileSp_Chk
TRANGROUP:55F8		       jz      short $P_FileF00
TRANGROUP:55FA		       call    $P_Chk_DBCS
TRANGROUP:55FD		       jnb     short $P_FileF01
TRANGROUP:55FF		       inc     di
TRANGROUP:5600		       inc     si
TRANGROUP:5601
TRANGROUP:5601 $P_FileF01:			       ; ...
TRANGROUP:5601		       inc     di
TRANGROUP:5602		       inc     si
TRANGROUP:5603		       jmp     short $P_FileF_Loop1
TRANGROUP:5605 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5605
TRANGROUP:5605 $P_FileF00:			       ; ...
TRANGROUP:5605		       mov     cs:$P_Terminator, al
TRANGROUP:5609		       mov     byte ptr	cs:[si], 0
TRANGROUP:560D		       inc     di
TRANGROUP:560E		       mov     cs:$P_SI_Save, di
TRANGROUP:5613
TRANGROUP:5613 $P_FileF_RLT:			       ; ...
TRANGROUP:5613		       pop     si
TRANGROUP:5614		       pop     di
TRANGROUP:5615
TRANGROUP:5615 $P_FileF02:			       ; ...
TRANGROUP:5615		       pop     ax
TRANGROUP:5616		       test    ax, 200h	       ; $P_File_Spc
TRANGROUP:5619		       jz      short $P_Drv_Only_Exit
TRANGROUP:561B		       push    ax
TRANGROUP:561C		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:561E		       mov     al, 5	       ; $P_File_Spec
TRANGROUP:5620		       call    $P_Fill_Result
TRANGROUP:5623		       pop     ax
TRANGROUP:5624
TRANGROUP:5624 $P_Drv_Only_Exit:		       ; ...
TRANGROUP:5624		       retn
TRANGROUP:5624 $P_File_Format  endp
TRANGROUP:5624
TRANGROUP:5625
TRANGROUP:5625 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5625
TRANGROUP:5625
TRANGROUP:5625 $P_FileSp_Chk   proc near	       ; ...
TRANGROUP:5625		       push    bx
TRANGROUP:5626		       push    cx
TRANGROUP:5627		       lea     bx, $P_FileSp_Char ; "[]|<>+=;\""
TRANGROUP:562B		       mov     cx, 9	       ; $P_FileSp_Len
TRANGROUP:562E
TRANGROUP:562E $P_FileSp_Loop:			       ; ...
TRANGROUP:562E		       cmp     al, cs:[bx]
TRANGROUP:5631		       jz      short $P_FileSp_Exit
TRANGROUP:5633		       inc     bx
TRANGROUP:5634		       loop    $P_FileSp_Loop
TRANGROUP:5636		       inc     cx
TRANGROUP:5637
TRANGROUP:5637 $P_FileSp_Exit:			       ; ...
TRANGROUP:5637		       pop     cx
TRANGROUP:5638		       pop     bx
TRANGROUP:5639		       retn
TRANGROUP:5639 $P_FileSp_Chk   endp
TRANGROUP:5639
TRANGROUP:563A
TRANGROUP:563A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:563A
TRANGROUP:563A
TRANGROUP:563A $P_Drive_Format proc near	       ; ...
TRANGROUP:563A		       push    ax
TRANGROUP:563B		       push    dx
TRANGROUP:563C		       mov     al, cs:[si]
TRANGROUP:563F		       or      al, al
TRANGROUP:5641		       jz      short $P_Drv_Exit
TRANGROUP:5643		       call    $P_Chk_DBCS
TRANGROUP:5646		       jb      short $P_Drv_Err
TRANGROUP:5648		       cmp     word ptr	cs:[si+1], 3Ah ; ':' ; $P_Colon
TRANGROUP:564D		       jz      short $P_DrvF00
TRANGROUP:564F		       test    word ptr	es:[bx], 10h ; $P_Ig_Colon
TRANGROUP:5654		       jz      short $P_Drv_Err
TRANGROUP:5656		       cmp     byte ptr	cs:[si+1], 0
TRANGROUP:565B		       jnz     short $P_Drv_Err
TRANGROUP:565D
TRANGROUP:565D $P_DrvF00:			       ; ...
TRANGROUP:565D		       or      al, 20h	       ; $P_Make_Lower
TRANGROUP:565F		       cmp     al, 61h ; 'a'
TRANGROUP:5661		       jb      short $P_Drv_Err
TRANGROUP:5663		       cmp     al, 7Ah ; 'z'
TRANGROUP:5665		       ja      short $P_Drv_Err
TRANGROUP:5667		       sub     al, 60h ; '`'
TRANGROUP:5669		       mov     dl, al
TRANGROUP:566B		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:566D		       mov     al, 6	       ; $P_Drive
TRANGROUP:566F		       call    $P_Fill_Result
TRANGROUP:5672		       jmp     short $P_Drv_Exit
TRANGROUP:5674 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5674
TRANGROUP:5674 $P_Drv_Err:			       ; ...
TRANGROUP:5674		       mov     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:567B
TRANGROUP:567B $P_Drv_Exit:			       ; ...
TRANGROUP:567B		       pop     dx
TRANGROUP:567C		       pop     ax
TRANGROUP:567D		       retn
TRANGROUP:567D $P_Drive_Format endp
TRANGROUP:567D
TRANGROUP:567E
TRANGROUP:567E ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:567E
TRANGROUP:567E
TRANGROUP:567E $P_Skip_Delim   proc near	       ; ...
TRANGROUP:567E		       lodsb
TRANGROUP:567F		       call    $P_Chk_EOL
TRANGROUP:5682		       jz      short $P_Skip_Delim_CY
TRANGROUP:5684		       call    $P_Chk_Delim
TRANGROUP:5687		       jnz     short $P_Skip_Delim_NCY
TRANGROUP:5689		       test    cs:$P_Flags2, 20h ; $P_Extra
TRANGROUP:568F		       jz      short $P_Skip_Delim
TRANGROUP:5691		       test    cs:$P_Flags2, 41h
TRANGROUP:5697		       jz      short $P_Exit_At_Extra
TRANGROUP:5699		       dec     si
TRANGROUP:569A		       jmp     short $P_Exit_At_Extra
TRANGROUP:569C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:569C
TRANGROUP:569C $P_Skip_Delim_CY:		       ; ...
TRANGROUP:569C		       stc
TRANGROUP:569D		       jmp     short $P_Skip_Delim_Exit
TRANGROUP:569F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:569F
TRANGROUP:569F $P_Skip_Delim_NCY:		       ; ...
TRANGROUP:569F		       clc
TRANGROUP:56A0
TRANGROUP:56A0 $P_Skip_Delim_Exit:		       ; ...
TRANGROUP:56A0		       dec     si
TRANGROUP:56A1		       retn
TRANGROUP:56A2 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:56A2
TRANGROUP:56A2 $P_Exit_At_Extra:		       ; ...
TRANGROUP:56A2		       clc
TRANGROUP:56A3		       retn
TRANGROUP:56A3 $P_Skip_Delim   endp
TRANGROUP:56A3
TRANGROUP:56A4
TRANGROUP:56A4 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:56A4
TRANGROUP:56A4
TRANGROUP:56A4 $P_Chk_EOL      proc near	       ; ...
TRANGROUP:56A4		       push    bx
TRANGROUP:56A5		       push    cx
TRANGROUP:56A6		       cmp     al, 0Dh	       ; $P_CR
TRANGROUP:56A8		       jz      short $P_Chk_EOL_Exit
TRANGROUP:56AA		       cmp     al, 0	       ; $P_NULL
TRANGROUP:56AC		       jz      short $P_Chk_EOL_Exit
TRANGROUP:56AE		       cmp     byte ptr	es:[di+2], 2 ; [es:di+$P_PARMS_BLK.$P_Num_Extra],$P_I_Have_EOL
TRANGROUP:56B3		       jb      short $P_Chk_EOL_Exit
TRANGROUP:56B5		       xor     bx, bx
TRANGROUP:56B7		       mov     bl, es:[di+3]   ; [es:di+$P_PARMS_BLK.$P_Len_Extra_Delim]
TRANGROUP:56BB		       add     bx, 4	       ; $P_Len_PARMS
TRANGROUP:56BE		       cmp     byte ptr	es:[bx+di], 0 ;	$P_I_Use_Default
TRANGROUP:56C2		       jz      short $P_Chk_EOL_NZ
TRANGROUP:56C4		       xor     cx, cx
TRANGROUP:56C6		       mov     cl, es:[bx+di]
TRANGROUP:56C9
TRANGROUP:56C9 $P_Chk_EOL_Loop:			       ; ...
TRANGROUP:56C9		       inc     bx
TRANGROUP:56CA		       cmp     al, es:[bx+di]
TRANGROUP:56CD		       jz      short $P_Chk_EOL_Exit
TRANGROUP:56CF		       loop    $P_Chk_EOL_Loop
TRANGROUP:56D1
TRANGROUP:56D1 $P_Chk_EOL_NZ:			       ; ...
TRANGROUP:56D1		       cmp     al, 0Dh
TRANGROUP:56D3
TRANGROUP:56D3 $P_Chk_EOL_Exit:			       ; ...
TRANGROUP:56D3		       pop     cx
TRANGROUP:56D4		       pop     bx
TRANGROUP:56D5		       retn
TRANGROUP:56D5 $P_Chk_EOL      endp
TRANGROUP:56D5
TRANGROUP:56D6
TRANGROUP:56D6 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:56D6
TRANGROUP:56D6
TRANGROUP:56D6 $P_Chk_Delim    proc near	       ; ...
TRANGROUP:56D6		       push    bx
TRANGROUP:56D7		       push    cx
TRANGROUP:56D8		       mov     cs:$P_Terminator, 20h ; ' ' ; $P_Space
TRANGROUP:56DE		       and     cs:$P_Flags2, 0DFh ; 0FFh-$P_Extra
TRANGROUP:56E4		       cmp     al, 20h ; ' '   ; $P_Space
TRANGROUP:56E6		       jz      short $P_Chk_Delim_Exit
TRANGROUP:56E8		       cmp     al, 9	       ; $P_TAB
TRANGROUP:56EA		       jz      short $P_Chk_Delim_Exit
TRANGROUP:56EC		       cmp     al, 2Ch ; ','   ; $P_Comma
TRANGROUP:56EE		       jz      short $P_Chk_Delim_Exit0
TRANGROUP:56F0		       cmp     al, 20h ; ' '   ; $P_DBSP1
TRANGROUP:56F2		       jnz     short $P_Chk_Delim01
TRANGROUP:56F4		       cmp     byte ptr	[si], 20h ; ' ' ; $P_DBSP2
TRANGROUP:56F7		       jnz     short $P_Chk_Delim01
TRANGROUP:56F9		       mov     al, 20h ; ' '
TRANGROUP:56FB		       inc     si
TRANGROUP:56FC		       cmp     al, al
TRANGROUP:56FE		       jmp     short $P_Chk_Delim_Exit
TRANGROUP:5700 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5700
TRANGROUP:5700 $P_Chk_Delim01:			       ; ...
TRANGROUP:5700		       cmp     byte ptr	es:[di+2], 1 ; [es:di+$P_PARMS_BLK.$P_Num_Extra],$P_I_Have_Delim
TRANGROUP:5705		       jb      short $P_Chk_Delim_Exit
TRANGROUP:5707		       xor     cx, cx
TRANGROUP:5709		       mov     cl, es:[di+3]   ; [es:di+$P_PARMS_BLK.$P_Len_Extra_Delim]
TRANGROUP:570D		       or      cx, cx
TRANGROUP:570F		       jz      short $P_Chk_Delim_NZ
TRANGROUP:5711		       mov     bx, 3	       ; $P_Len_PARMS-1
TRANGROUP:5714
TRANGROUP:5714 $P_Chk_Delim_Loop:		       ; ...
TRANGROUP:5714		       inc     bx
TRANGROUP:5715		       cmp     al, es:[bx+di]
TRANGROUP:5718		       jz      short $P_Chk_Delim_Exit0
TRANGROUP:571A		       loop    $P_Chk_Delim_Loop
TRANGROUP:571C
TRANGROUP:571C $P_Chk_Delim_NZ:			       ; ...
TRANGROUP:571C		       cmp     al, 20h ; ' '   ; $P_Space
TRANGROUP:571E
TRANGROUP:571E $P_Chk_Delim_Exit:		       ; ...
TRANGROUP:571E		       pop     cx
TRANGROUP:571F		       pop     bx
TRANGROUP:5720		       retn
TRANGROUP:5721 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5721
TRANGROUP:5721 $P_Chk_Delim_Exit0:		       ; ...
TRANGROUP:5721		       mov     cs:$P_Terminator, al
TRANGROUP:5725		       test    cs:$P_Flags2, 1 ; $P_equ
TRANGROUP:572B		       jnz     short $P_No_Set_Extra
TRANGROUP:572D		       or      cs:$P_Flags2, 20h ; $P_Extra
TRANGROUP:5733
TRANGROUP:5733 $P_No_Set_Extra:			       ; ...
TRANGROUP:5733		       cmp     al, al
TRANGROUP:5735		       jmp     short $P_Chk_Delim_Exit
TRANGROUP:5735 $P_Chk_Delim    endp
TRANGROUP:5735
TRANGROUP:5737
TRANGROUP:5737 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5737
TRANGROUP:5737
TRANGROUP:5737 $P_Chk_Switch   proc near	       ; ...
TRANGROUP:5737		       lea     bp, $P_STRING_BUF
TRANGROUP:573B		       cmp     bx, bp
TRANGROUP:573D		       jz      short $P_STRUC_L2
TRANGROUP:573F		       cmp     al, 2Fh ; '/'   ; $P_Switch
TRANGROUP:5741		       jnz     short $P_STRUC_L5
TRANGROUP:5743		       stc
TRANGROUP:5744		       push    ax
TRANGROUP:5745		       mov     al, cs:[bx-1]
TRANGROUP:5749		       call    $P_0099
TRANGROUP:574C		       jb      short $P_STRUC_L7
TRANGROUP:574E		       mov     al, [si]
TRANGROUP:5750		       call    $P_0099
TRANGROUP:5753
TRANGROUP:5753 $P_STRUC_L7:			       ; ...
TRANGROUP:5753		       pop     ax
TRANGROUP:5754		       jmp     short $P_STRUC_L1
TRANGROUP:5756 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5756
TRANGROUP:5756 $P_STRUC_L5:			       ; ...
TRANGROUP:5756		       clc
TRANGROUP:5757		       jmp     short $P_STRUC_L1
TRANGROUP:5759 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5759
TRANGROUP:5759 $P_STRUC_L2:			       ; ...
TRANGROUP:5759		       cmp     al, 2Fh ; '/'   ; $P_Switch
TRANGROUP:575B		       jnz     short $P_STRUC_L12
TRANGROUP:575D		       or      cs:$P_Flags2, 40h ; $P_SW
TRANGROUP:5763
TRANGROUP:5763 $P_STRUC_L12:			       ; ...
TRANGROUP:5763		       clc
TRANGROUP:5764
TRANGROUP:5764 $P_STRUC_L1:			       ; ...
TRANGROUP:5764		       retn
TRANGROUP:5764 $P_Chk_Switch   endp
TRANGROUP:5764
TRANGROUP:5765
TRANGROUP:5765 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5765
TRANGROUP:5765
TRANGROUP:5765 $P_Chk_DBCS     proc near	       ; ...
TRANGROUP:5765		       push    ds
TRANGROUP:5766		       push    si
TRANGROUP:5767		       push    bx
TRANGROUP:5768		       cmp     cs:$P_DBCSEV_SEG, 0 ; cmp psdata_seg:$P_DBCSEV_SEG
TRANGROUP:576E		       jnz     short $P_DBCS00
TRANGROUP:5770		       push    ax
TRANGROUP:5771		       push    ds
TRANGROUP:5772		       push    cx
TRANGROUP:5773		       push    dx
TRANGROUP:5774		       push    di
TRANGROUP:5775		       push    bp
TRANGROUP:5776		       push    es
TRANGROUP:5777		       xor     si, si
TRANGROUP:5779		       mov     ds, si
TRANGROUP:577B		       assume ds:RESGROUP
TRANGROUP:577B		       mov     ax, 6300h
TRANGROUP:577E		       int     21h	       ; DOS - 3.2+ only - GET DOUBLE BYTE CHARACTER SET LEAD TABLE
TRANGROUP:5780		       mov     bx, ds
TRANGROUP:5782		       or      bx, bx
TRANGROUP:5784		       pop     es
TRANGROUP:5785		       pop     bp
TRANGROUP:5786		       pop     di
TRANGROUP:5787		       pop     dx
TRANGROUP:5788		       pop     cx
TRANGROUP:5789		       pop     ds
TRANGROUP:578A		       assume ds:nothing
TRANGROUP:578A		       pop     ax
TRANGROUP:578B		       jz      short $P_NON_DBCS
TRANGROUP:578D		       mov     cs:$P_DBCSEV_OFF, si
TRANGROUP:5792		       mov     cs:$P_DBCSEV_SEG, bx ; psdata_seg:$P_DBCSEV_SEG,bx
TRANGROUP:5797
TRANGROUP:5797 $P_DBCS00:			       ; ...
TRANGROUP:5797		       mov     si, cs:$P_DBCSEV_OFF ; psdata_seg:$P_DBCSEV_OFF
TRANGROUP:579C		       mov     ds, cs:$P_DBCSEV_SEG
TRANGROUP:57A1
TRANGROUP:57A1 $P_DBCS_LOOP:			       ; ...
TRANGROUP:57A1		       cmp     word ptr	[si], 0
TRANGROUP:57A4		       jz      short $P_NON_DBCS
TRANGROUP:57A6		       cmp     al, [si]
TRANGROUP:57A8		       jb      short $P_DBCS01
TRANGROUP:57AA		       cmp     al, [si+1]
TRANGROUP:57AD		       ja      short $P_DBCS01
TRANGROUP:57AF		       stc
TRANGROUP:57B0		       jmp     short $P_DBCS_EXIT
TRANGROUP:57B2 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:57B2
TRANGROUP:57B2 $P_DBCS01:			       ; ...
TRANGROUP:57B2		       inc     si
TRANGROUP:57B3		       inc     si
TRANGROUP:57B4		       jmp     short $P_DBCS_LOOP
TRANGROUP:57B6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:57B6
TRANGROUP:57B6 $P_NON_DBCS:			       ; ...
TRANGROUP:57B6		       clc
TRANGROUP:57B7
TRANGROUP:57B7 $P_DBCS_EXIT:			       ; ...
TRANGROUP:57B7		       pop     bx
TRANGROUP:57B8		       pop     si
TRANGROUP:57B9		       pop     ds
TRANGROUP:57BA		       retn
TRANGROUP:57BA $P_Chk_DBCS     endp
TRANGROUP:57BA
TRANGROUP:57BB
TRANGROUP:57BB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:57BB
TRANGROUP:57BB
TRANGROUP:57BB cmd_parse       proc near	       ; ...
TRANGROUP:57BB		       call    sysparse
TRANGROUP:57BE		       retn
TRANGROUP:57BE cmd_parse       endp
TRANGROUP:57BE
TRANGROUP:57BF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:57BF
TRANGROUP:57BF append_parse:			       ; ...
TRANGROUP:57BF		       call    sysparse
TRANGROUP:57C2		       retf
TRANGROUP:57C3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:57C3
TRANGROUP:57C3 Printf_Init:			       ; ...
TRANGROUP:57C3		       call    std_printf
TRANGROUP:57C6		       retf
TRANGROUP:57C7
TRANGROUP:57C7 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:57C7
TRANGROUP:57C7
TRANGROUP:57C7 Printf_Crlf     proc near	       ; ...
TRANGROUP:57C7		       call    std_printf
TRANGROUP:57CA		       call    CRLF2
TRANGROUP:57CD		       retn
TRANGROUP:57CD Printf_Crlf     endp
TRANGROUP:57CD
TRANGROUP:57CE
TRANGROUP:57CE ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:57CE
TRANGROUP:57CE
TRANGROUP:57CE std_eprintf     proc near	       ; ...
TRANGROUP:57CE		       mov     ds:PRINTF_HANDLE, 2
TRANGROUP:57D4		       jmp     short new_printf
TRANGROUP:57D4 std_eprintf     endp
TRANGROUP:57D4
TRANGROUP:57D6
TRANGROUP:57D6 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:57D6
TRANGROUP:57D6
TRANGROUP:57D6 std_printf      proc near	       ; ...
TRANGROUP:57D6		       mov     ds:PRINTF_HANDLE, 1
TRANGROUP:57DC
TRANGROUP:57DC new_printf:			       ; ...
TRANGROUP:57DC		       push    ax
TRANGROUP:57DD		       push    bx
TRANGROUP:57DE		       push    cx
TRANGROUP:57DF		       push    es
TRANGROUP:57E0		       push    ds
TRANGROUP:57E1		       pop     es
TRANGROUP:57E2		       push    di
TRANGROUP:57E3		       push    si
TRANGROUP:57E4		       push    dx
TRANGROUP:57E5		       mov     ds:print_err_flag, 0 ; mov word [print_err_flag],0
TRANGROUP:57EB		       mov     si, dx
TRANGROUP:57ED		       lodsw
TRANGROUP:57EE		       push    ax
TRANGROUP:57EF		       lodsb
TRANGROUP:57F0		       mov     cl, al
TRANGROUP:57F2		       xor     ch, ch
TRANGROUP:57F4		       pop     ax
TRANGROUP:57F5		       cmp     cx, 0
TRANGROUP:57F8		       jz      short ready_to_print
TRANGROUP:57FA		       mov     di, offset subst_buffer
TRANGROUP:57FD		       push    di
TRANGROUP:57FE		       push    cx
TRANGROUP:57FF
TRANGROUP:57FF move_subst:			       ; ...
TRANGROUP:57FF		       push    cx
TRANGROUP:5800		       mov     bx, si
TRANGROUP:5802		       mov     cx, 11	       ; parm_block_size
TRANGROUP:5805		       rep movsb
TRANGROUP:5807		       test    byte ptr	[bx+7],	4 ; [bx.$M_S_FLAG],date_type
TRANGROUP:580B		       jz      short move_subst_cont
TRANGROUP:580D		       mov     word ptr	[bx+2],	0 ; [bx.$M_S_VALUE],0
TRANGROUP:5812		       mov     word ptr	[bx+4],	0 ; [bx.$M_S_VALUE+2],0
TRANGROUP:5817
TRANGROUP:5817 move_subst_cont:			       ; ...
TRANGROUP:5817		       pop     cx
TRANGROUP:5818		       loop    move_subst
TRANGROUP:581A		       pop     cx	       ; (number of substitutions)
TRANGROUP:581B		       push    ax	       ; (Message Number)
TRANGROUP:581C		       cmp     ds:msg_disp_class, 0FFh ; Util_Msg_Class
TRANGROUP:5821		       jz      short check_fix
TRANGROUP:5823		       mov     ds:msg_flag, 1  ; ext_msg_class
TRANGROUP:5828		       mov     di, offset extend_buf_ptr
TRANGROUP:582B		       xor     ax, ax
TRANGROUP:582D		       stosw
TRANGROUP:582E		       stosb
TRANGROUP:582F
TRANGROUP:582F check_fix:			       ; ...
TRANGROUP:582F		       pop     ax	       ; (Message Number)
TRANGROUP:5830		       pop     di	       ; (subst_buffer)
TRANGROUP:5831		       mov     si, di
TRANGROUP:5833		       mov     bx, si
TRANGROUP:5835		       push    cx
TRANGROUP:5836
TRANGROUP:5836 set_subst:			       ; ...
TRANGROUP:5836		       cmp     word ptr	[bx+4],	0 ; [bx.$M_S_VALUE+2],0
TRANGROUP:583A		       jnz     short subst_seg_set
TRANGROUP:583C		       test    byte ptr	[bx+7],	4 ; [bx.$M_S_FLAG],date_type
TRANGROUP:5840		       jnz     short subst_seg_set
TRANGROUP:5842		       mov     word ptr	[bx+4],	cs ; [bx.$M_S_VALUE+2],cs
TRANGROUP:5845
TRANGROUP:5845 subst_seg_set:			       ; ...
TRANGROUP:5845		       add     bx, 11	       ; parm_block_size
TRANGROUP:5848		       loop    set_subst
TRANGROUP:584A		       pop     cx
TRANGROUP:584B		       mov     bx, si
TRANGROUP:584D		       cmp     word ptr	[bx+2],	offset string_ptr_2 ;
TRANGROUP:584D					       ; [bx.$M_S_VALUE],offset	trangroup:string_ptr_2
TRANGROUP:5852		       jnz     short ready_to_print
TRANGROUP:5854		       mov     dx, ds:string_ptr_2
TRANGROUP:5858		       mov     [bx+2], dx      ; [bx.$M_S_VALUE],dx
TRANGROUP:585B
TRANGROUP:585B ready_to_print:			       ; ...
TRANGROUP:585B		       mov     bx, ds:PRINTF_HANDLE
TRANGROUP:585F		       mov     dl, ds:msg_cont_flag
TRANGROUP:5863		       mov     dh, ds:msg_disp_class
TRANGROUP:5867		       mov     ds:msg_cont_flag, 0 ; no_cont_flag (no control flag)
TRANGROUP:586C		       mov     ds:msg_disp_class, 0FFh ; Util_Msg_Class
TRANGROUP:5871		       push    ds
TRANGROUP:5872		       push    es
TRANGROUP:5873		       call    SYSDISPMSG
TRANGROUP:5876		       pop     es
TRANGROUP:5877		       pop     ds
TRANGROUP:5878		       jnb     short print_success
TRANGROUP:587A		       mov     ds:print_err_flag, ax ; cmp word	[print_err_flag],0
TRANGROUP:587D
TRANGROUP:587D print_success:			       ; ...
TRANGROUP:587D		       pop     dx
TRANGROUP:587E		       pop     si
TRANGROUP:587F		       pop     di
TRANGROUP:5880		       pop     es
TRANGROUP:5881		       pop     cx
TRANGROUP:5882		       pop     bx
TRANGROUP:5883		       pop     ax
TRANGROUP:5884		       cmp     ds:print_err_flag, 0
TRANGROUP:5889		       jnz     short print_err
TRANGROUP:588B		       retn
TRANGROUP:588C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:588C
TRANGROUP:588C print_err:			       ; ...
TRANGROUP:588C		       push    cs
TRANGROUP:588D		       pop     es
TRANGROUP:588E		       assume es:TRANGROUP
TRANGROUP:588E		       cmp     ds:PRINTF_HANDLE, 2
TRANGROUP:5893		       jnz     short not_stderr
TRANGROUP:5895		       jmp     TCOMMAND
TRANGROUP:5898 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5898
TRANGROUP:5898 not_stderr:			       ; ...
TRANGROUP:5898		       mov     ax, ds:print_err_flag
TRANGROUP:589B		       mov     es, ds:RESSEG
TRANGROUP:589F		       assume es:nothing
TRANGROUP:589F		       test    es:PipeFlag, 0FFh ; -1
TRANGROUP:58A5		       jz      short _go_to_error
TRANGROUP:58A7		       call    PipeOff
TRANGROUP:58AA		       mov     dx, offset PIPEEMES_PTR
TRANGROUP:58AD		       jmp     short print_err_exit
TRANGROUP:58AF ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:58AF
TRANGROUP:58AF _go_to_error:			       ; ...
TRANGROUP:58AF		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:58B4		       mov     dx, offset extend_buf_ptr
TRANGROUP:58B7		       mov     ds:extend_buf_ptr, ax
TRANGROUP:58BA
TRANGROUP:58BA print_err_exit:			       ; ...
TRANGROUP:58BA		       push    cs
TRANGROUP:58BB		       pop     es
TRANGROUP:58BC		       assume es:TRANGROUP
TRANGROUP:58BC		       jmp     cerror
TRANGROUP:58BC std_printf      endp
TRANGROUP:58BC
TRANGROUP:58BF
TRANGROUP:58BF ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:58BF
TRANGROUP:58BF
TRANGROUP:58BF TSYSLOADMSG     proc near	       ; ...
TRANGROUP:58BF		       push    bx
TRANGROUP:58C0		       call    SYSLOADMSG
TRANGROUP:58C3		       pop     bx
TRANGROUP:58C4		       retn
TRANGROUP:58C4 TSYSLOADMSG     endp
TRANGROUP:58C4
TRANGROUP:58C5
TRANGROUP:58C5 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:58C5
TRANGROUP:58C5
TRANGROUP:58C5 TSYSGETMSG      proc near	       ; ...
TRANGROUP:58C5		       push    cx
TRANGROUP:58C6		       call    SYSGETMSG
TRANGROUP:58C9		       pop     cx
TRANGROUP:58CA		       retn
TRANGROUP:58CA TSYSGETMSG      endp
TRANGROUP:58CA
TRANGROUP:58CB
TRANGROUP:58CB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:58CB
TRANGROUP:58CB
TRANGROUP:58CB SYSLOADMSG      proc near	       ; ...
TRANGROUP:58CB		       push    ax
TRANGROUP:58CC		       push    bx
TRANGROUP:58CD		       push    dx
TRANGROUP:58CE		       push    es
TRANGROUP:58CF		       push    di
TRANGROUP:58D0		       xor     cx, cx
TRANGROUP:58D2		       mov     es, cx
TRANGROUP:58D4		       assume es:RESGROUP
TRANGROUP:58D4		       xor     di, di
TRANGROUP:58D6		       mov     ax, 122Eh       ; DOS_GET_EXT_PARSE_ADD
TRANGROUP:58D9		       mov     dl, 0	       ; DOS_GET_EXTENDED
TRANGROUP:58DB		       int     2Fh	       ; Multiplex - DOS 3+ internal - GET OR SET ERROR	TABLE ADDRESSES
TRANGROUP:58DB					       ; DL = subfunction - get	standard DOS error table (errors 00h-12h,50h-5Bh)
TRANGROUP:58DB					       ; Return: ES:DI -> error	table
TRANGROUP:58DD		       mov     ds:$M_RT_$M_EXT_COMMAND+2, es ; [$M_RT+10]
TRANGROUP:58E1		       mov     ds:$M_RT_$M_EXT_COMMAND,	di ; [$M_RT+8]
TRANGROUP:58E5		       mov     ax, 122Eh
TRANGROUP:58E8		       mov     dl, 2	       ; DOS_GET_PARSE
TRANGROUP:58EA		       int     2Fh	       ; Multiplex - DOS 3+ internal - GET OR SET ERROR	TABLE ADDRESSES
TRANGROUP:58EA					       ; DL = subfunction - get	parameter error	table (errors 00h-0Ah)
TRANGROUP:58EA					       ; ES:DI -> error	table
TRANGROUP:58EC		       mov     ds:$M_RT_$M_PARSE_COMMAND+2, es ; [$M_RT+18]
TRANGROUP:58F0		       mov     ds:$M_RT_$M_PARSE_COMMAND, di ; [$M_RT+16]
TRANGROUP:58F4		       mov     ax, 122Eh
TRANGROUP:58F7		       mov     dl, 4	       ; DOS_GET_CRITICAL
TRANGROUP:58F9		       int     2Fh	       ; Multiplex - DOS 3+ internal - GET OR SET ERROR	TABLE ADDRESSES
TRANGROUP:58F9					       ; DL = subfunction - get	critical/SHARE error table (errors 13h-2Bh)
TRANGROUP:58F9					       ; ES:DI -> error	table
TRANGROUP:58FB		       mov     ds:$M_RT_$M_CRIT_COMMAND+2, es ;	[$M_RT+34]
TRANGROUP:58FF		       mov     ds:$M_RT_$M_CRIT_COMMAND, di ; [$M_RT+32]
TRANGROUP:5903		       mov     ax, 122Eh
TRANGROUP:5906		       mov     dl, 6	       ; DOS_GET_FILE
TRANGROUP:5908		       int     2Fh	       ; Multiplex - DOS 3+ internal - GET OR SET ERROR	TABLE ADDRESSES
TRANGROUP:5908					       ; DL = subfunction - get	??? error table
TRANGROUP:5908					       ; ES:DI -> error	table
TRANGROUP:590A		       mov     ds:$M_RT_$M_EXT_FILE+2, es ; [$M_RT+6]
TRANGROUP:590E		       mov     ds:$M_RT_$M_EXT_FILE, di	; [$M_RT+4]
TRANGROUP:5912		       call    $M_MSGSERV_1
TRANGROUP:5915		       mov     ds:$M_RT_$M_EXT_ERR_ADDRS+2, es ; [$M_RT+2]
TRANGROUP:5919		       mov     ds:$M_RT_$M_EXT_ERR_ADDRS, di ; [$M_RT+0]
TRANGROUP:591D		       mov     ds:$M_RT_$M_CRIT_ADDRS+2, es ; [$M_RT+30]
TRANGROUP:5921		       mov     ds:$M_RT_$M_CRIT_ADDRS, di ; [$M_RT+28]
TRANGROUP:5925		       call    $M_MSGSERV_2
TRANGROUP:5928		       mov     ds:$M_RT_$M_PARSE_ADDRS+2, es ; [$M_RT+22]
TRANGROUP:592C		       mov     ds:$M_RT_$M_PARSE_ADDRS,	di ; [$M_RT+20]
TRANGROUP:5930		       mov     ax, 122Eh
TRANGROUP:5933		       mov     dl, 8
TRANGROUP:5935		       int     2Fh	       ; Multiplex - DOS 3+ internal - GET OR SET ERROR	TABLE ADDRESSES
TRANGROUP:5935					       ; DL = subfunction - get	??? error table
TRANGROUP:5935					       ; Return: ES:DI -> error	table
TRANGROUP:5937		       mov     word ptr	ds:$M_RT_$M_DISK_PROC_ADDR+2, es ; [$M_RT+42]
TRANGROUP:593B		       mov     word ptr	ds:$M_RT_$M_DISK_PROC_ADDR, di ; [$M_RT+40]
TRANGROUP:593F		       mov     ds:$M_RT_$M_CRLF, 0A0Dh ; CRLF
TRANGROUP:5945		       mov     ds:$M_RT_$M_BUF_TERM, 24h ; '$'
TRANGROUP:594A		       mov     ds:$M_RT_$M_MSG_NUM, 0 ;	$M_NULL
TRANGROUP:5950		       mov     ds:$M_RT_$M_DIVISOR, 10 ; $M_BASE10
TRANGROUP:5956		       call    $M_CLS_3	       ; Get addressibilty to class F
TRANGROUP:5959		       mov     ds:$M_RT_$M_CLASS_ADDRS,	di ; $M_RT.$M_CLASS_ADDRS+$M_INDEX ; $M_INDEX =	0
TRANGROUP:5959					       ; [$M_RT+44]
TRANGROUP:595D		       call    $M_GET_DBCS_VEC
TRANGROUP:5960		       clc
TRANGROUP:5961		       jb      short $MIF20
TRANGROUP:5963		       pop     di
TRANGROUP:5964		       pop     es
TRANGROUP:5965		       assume es:nothing
TRANGROUP:5965		       pop     dx
TRANGROUP:5966		       pop     bx
TRANGROUP:5967		       pop     ax
TRANGROUP:5968		       jmp     short $MEN20
TRANGROUP:596A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:596A
TRANGROUP:596A $MIF20:				       ; ...
TRANGROUP:596A		       add     sp, 10
TRANGROUP:596D		       stc
TRANGROUP:596E
TRANGROUP:596E $MEN20:				       ; ...
TRANGROUP:596E		       retn
TRANGROUP:596E SYSLOADMSG      endp
TRANGROUP:596E
TRANGROUP:596F
TRANGROUP:596F ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:596F
TRANGROUP:596F
TRANGROUP:596F $M_GET_DBCS_VEC proc near	       ; ...
TRANGROUP:596F		       push    ax
TRANGROUP:5970		       push    si
TRANGROUP:5971		       push    ds
TRANGROUP:5972		       mov     ax, 6300h
TRANGROUP:5975		       int     21h	       ; DOS - 3.2+ only - GET DOUBLE BYTE CHARACTER SET LEAD TABLE
TRANGROUP:5977		       push    ds
TRANGROUP:5978		       pop     es
TRANGROUP:5979		       pop     ds
TRANGROUP:597A		       jb      short $MIF23
TRANGROUP:597C		       mov     ds:$M_RT_$M_DBCS_VEC, si	; $M_RT.$M_DBCS_VEC
TRANGROUP:597C					       ; [$M_RT+60]
TRANGROUP:5980		       mov     ds:$M_RT_$M_DBCS_VEC+2, es ; [$M_RT+62]
TRANGROUP:5984
TRANGROUP:5984 $MIF23:				       ; ...
TRANGROUP:5984		       pop     si
TRANGROUP:5985		       pop     ax
TRANGROUP:5986		       retn
TRANGROUP:5986 $M_GET_DBCS_VEC endp
TRANGROUP:5986
TRANGROUP:5987
TRANGROUP:5987 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5987
TRANGROUP:5987
TRANGROUP:5987 SYSGETMSG       proc near	       ; ...
TRANGROUP:5987		       push    ax
TRANGROUP:5988		       push    es
TRANGROUP:5989		       push    di
TRANGROUP:598A		       push    bp
TRANGROUP:598B		       call    $M_GET_MSG_ADDRESS
TRANGROUP:598E		       jb      short $MIF31
TRANGROUP:5990		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:5993		       clc
TRANGROUP:5994		       jz      short $MIF32
TRANGROUP:5996		       push    es
TRANGROUP:5997		       pop     ds
TRANGROUP:5998		       jmp     short $MEN32
TRANGROUP:599A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:599A
TRANGROUP:599A $MIF32:				       ; ...
TRANGROUP:599A		       push    cs
TRANGROUP:599B		       pop     ds
TRANGROUP:599C		       assume ds:TRANGROUP
TRANGROUP:599C
TRANGROUP:599C $MEN32:				       ; ...
TRANGROUP:599C		       mov     si, di
TRANGROUP:599E
TRANGROUP:599E $MIF31:				       ; ...
TRANGROUP:599E		       pop     bp
TRANGROUP:599F		       pop     di
TRANGROUP:59A0		       pop     es
TRANGROUP:59A1		       pop     ax
TRANGROUP:59A2		       retn
TRANGROUP:59A2 SYSGETMSG       endp
TRANGROUP:59A2
TRANGROUP:59A3
TRANGROUP:59A3 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:59A3
TRANGROUP:59A3
TRANGROUP:59A3 $M_GET_MSG_ADDRESS proc near	       ; ...
TRANGROUP:59A3
TRANGROUP:59A3 ; FUNCTION CHUNK	AT TRANGROUP:5A3C SIZE 00000007	BYTES
TRANGROUP:59A3
TRANGROUP:59A3		       push    si
TRANGROUP:59A4		       push    bx
TRANGROUP:59A5		       xor     si, si
TRANGROUP:59A7		       xor     cx, cx
TRANGROUP:59A9
TRANGROUP:59A9 $MDO36:				       ; ...
TRANGROUP:59A9		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:59AC		       jnz     short $MIF37
TRANGROUP:59AE		       mov     di, $M_RT_$M_CLASS_ADDRS[si] ;
TRANGROUP:59AE					       ; mov di,[si+$M_RT+$M_RES_ADDRS.$M_CLASS_ADDRS]
TRANGROUP:59B2		       mov     bx, di
TRANGROUP:59B4		       jmp     short $MEN37
TRANGROUP:59B6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:59B6
TRANGROUP:59B6 $MIF37:				       ; ...
TRANGROUP:59B6		       test    dh, 2	       ; PARSE_ERR_CLASS
TRANGROUP:59B9		       jz      short $MIF39
TRANGROUP:59BB		       les     di, dword ptr $M_RT_$M_PARSE_COMMAND[si]	;
TRANGROUP:59BB					       ; les di,[si+$M_RT+$M_RES_ADDRS.$M_PARSE_COMMAND]
TRANGROUP:59BF		       mov     bx, es
TRANGROUP:59C1		       jmp     short $MEN37
TRANGROUP:59C3 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:59C3
TRANGROUP:59C3 $MIF39:				       ; ...
TRANGROUP:59C3		       cmp     ax, 19	       ; $M_CRIT_LO
TRANGROUP:59C6		       jb      short $MIF41
TRANGROUP:59C8		       cmp     ax, 39	       ; $M_CRIT_HI
TRANGROUP:59CB		       ja      short $MIF41
TRANGROUP:59CD		       les     di, dword ptr $M_RT_$M_CRIT_ADDRS[si] ;
TRANGROUP:59CD					       ; les di,[si+$M_RT+$M_RES_ADDRS.$M_CRIT_ADDRS]
TRANGROUP:59D1		       mov     bx, es
TRANGROUP:59D3		       jmp     short $MEN37
TRANGROUP:59D5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:59D5
TRANGROUP:59D5 $MIF41:				       ; ...
TRANGROUP:59D5		       les     di, dword ptr $M_RT_$M_EXT_ERR_ADDRS[si]	;
TRANGROUP:59D5					       ; les di,[si+$M_RT+$M_RES_ADDRS.$M_EXT_ERR_ADDRS]
TRANGROUP:59D9		       mov     bx, es
TRANGROUP:59DB
TRANGROUP:59DB $MEN37:				       ; ...
TRANGROUP:59DB		       cmp     bx, 0FFFFh      ; $M_TERMINATING_FLAG
TRANGROUP:59DE		       jnz     short $MIF46
TRANGROUP:59E0		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:59E3		       jnz     short $MIF47
TRANGROUP:59E5		       stc
TRANGROUP:59E6		       jmp     short $MEN47
TRANGROUP:59E8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:59E8
TRANGROUP:59E8 $MIF47:				       ; ...
TRANGROUP:59E8		       mov     $M_RT_$M_MSG_NUM, ax ; $M_RT.$M_MSG_NUM
TRANGROUP:59E8					       ; [$M_RT+72]
TRANGROUP:59EB		       mov     ax, 0FFFFh      ; $M_SPECIAL_MSG_NUM
TRANGROUP:59EE		       mov     bp, 1	       ; $M_ONE_REPLACE
TRANGROUP:59F1		       xor     si, si
TRANGROUP:59F3		       clc
TRANGROUP:59F4
TRANGROUP:59F4 $MEN47:				       ; ...
TRANGROUP:59F4		       jmp     short $MEN46
TRANGROUP:59F6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:59F6
TRANGROUP:59F6 $MIF46:				       ; ...
TRANGROUP:59F6		       cmp     bx, 0	       ; $M_CLASS_NOT_EXIST
TRANGROUP:59F9		       jz      short $MIF51
TRANGROUP:59FB		       call    $M_FIND_SPECIFIED_MSG
TRANGROUP:59FE
TRANGROUP:59FE $MIF51:				       ; ...
TRANGROUP:59FE		       add     si, 4	       ; $M_ADDR_SZ_FAR
TRANGROUP:5A01		       clc
TRANGROUP:5A02
TRANGROUP:5A02 $MEN46:				       ; ...
TRANGROUP:5A02		       jb      short $MEN36
TRANGROUP:5A04		       or      cx, cx
TRANGROUP:5A06		       jnz     short $MEN36
TRANGROUP:5A08		       jmp     short $MDO36
TRANGROUP:5A0A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5A0A
TRANGROUP:5A0A $MEN36:				       ; ...
TRANGROUP:5A0A		       pushf
TRANGROUP:5A0B		       cmp     dh, 1	       ; EXT_ERR_CLASS
TRANGROUP:5A0E		       jnz     short $MIF56
TRANGROUP:5A10		       push    dx
TRANGROUP:5A11		       push    bp
TRANGROUP:5A12		       push    cx
TRANGROUP:5A13		       push    es
TRANGROUP:5A14		       push    di
TRANGROUP:5A15		       push    ax
TRANGROUP:5A16		       mov     ax, 500h	       ; IFSFUNC_INSTALL_CHECK
TRANGROUP:5A19		       int     2Fh	       ; Multiplex - DOS 3+ CRITICAL ERROR HANDLER - INSTALLATION CHECK
TRANGROUP:5A19					       ; Return: AL = 00h not installed, OK to install
TRANGROUP:5A19					       ; 01h not installed, can't install
TRANGROUP:5A19					       ; FFh installed
TRANGROUP:5A1B		       cmp     al, 0FFh	       ; IFSFUNC_INSTALLED
TRANGROUP:5A1D		       pop     ax
TRANGROUP:5A1E		       jnz     short $MIF57
TRANGROUP:5A20		       mov     bx, ax
TRANGROUP:5A22		       mov     ax, 502h	       ; IFS_GET_ERR_TEXT
TRANGROUP:5A25		       int     2Fh	       ; Multiplex - DOS 3+ CRITICAL ERROR HANDLER -
TRANGROUP:5A27		       jmp     short $MEN57
TRANGROUP:5A29 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5A29
TRANGROUP:5A29 $MIF57:				       ; ...
TRANGROUP:5A29		       stc
TRANGROUP:5A2A
TRANGROUP:5A2A $MEN57:				       ; ...
TRANGROUP:5A2A		       jnb     short $MIF60
TRANGROUP:5A2C		       pop     di
TRANGROUP:5A2D		       pop     es
TRANGROUP:5A2E		       pop     cx
TRANGROUP:5A2F		       jmp     short $MEN60
TRANGROUP:5A31 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5A31
TRANGROUP:5A31 $MIF60:				       ; ...
TRANGROUP:5A31		       add     sp, 6
TRANGROUP:5A34		       call    $M_SET_LEN_IN_CX
TRANGROUP:5A37
TRANGROUP:5A37 $MEN60:				       ; ...
TRANGROUP:5A37		       pop     bp
TRANGROUP:5A38		       pop     dx
TRANGROUP:5A39
TRANGROUP:5A39 $MIF56:				       ; ...
TRANGROUP:5A39		       jmp     short $M_MYRET
TRANGROUP:5A39 $M_GET_MSG_ADDRESS endp
TRANGROUP:5A39
TRANGROUP:5A3B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5A3B
TRANGROUP:5A3B m_popf_iret:			       ; ...
TRANGROUP:5A3B		       iret
TRANGROUP:5A3C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5A3C ; START OF FUNCTION CHUNK FOR $M_GET_MSG_ADDRESS
TRANGROUP:5A3C
TRANGROUP:5A3C $M_MYRET:			       ; ...
TRANGROUP:5A3C		       push    cs	       ; $M_POPF (macro)
TRANGROUP:5A3D		       call    m_popf_iret
TRANGROUP:5A40		       pop     bx
TRANGROUP:5A41		       pop     si
TRANGROUP:5A42		       retn
TRANGROUP:5A42 ; END OF	FUNCTION CHUNK FOR $M_GET_MSG_ADDRESS
TRANGROUP:5A43
TRANGROUP:5A43 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5A43
TRANGROUP:5A43
TRANGROUP:5A43 $M_SET_LEN_IN_CX	proc near	       ; ...
TRANGROUP:5A43		       push    di
TRANGROUP:5A44		       push    ax
TRANGROUP:5A45		       mov     cx, 0FFFFh      ; -1 ; 65535
TRANGROUP:5A48		       xor     al, al
TRANGROUP:5A4A		       repne scasb
TRANGROUP:5A4C		       not     cx
TRANGROUP:5A4E		       dec     cx
TRANGROUP:5A4F		       pop     ax
TRANGROUP:5A50		       pop     di
TRANGROUP:5A51		       retn
TRANGROUP:5A51 $M_SET_LEN_IN_CX	endp
TRANGROUP:5A51
TRANGROUP:5A52
TRANGROUP:5A52 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5A52
TRANGROUP:5A52
TRANGROUP:5A52 $M_FIND_SPECIFIED_MSG proc near	       ; ...
TRANGROUP:5A52		       cmp     bx, 1
TRANGROUP:5A55		       jnz     short $MIF64
TRANGROUP:5A57		       cmp     word ptr	$M_RT_$M_DISK_PROC_ADDR, 0FFFFh	; [$M_RT+40],-1
TRANGROUP:5A5C		       jz      short $MIF64
TRANGROUP:5A5E		       cmp     ax, 0FFFFh
TRANGROUP:5A61		       jnz     short $MIF65
TRANGROUP:5A63		       push    ax
TRANGROUP:5A64		       mov     ax, $M_RT_$M_MSG_NUM ; $M_RT.$M_MSG_NUM
TRANGROUP:5A64					       ; [$M_RT+72]
TRANGROUP:5A67		       call    $M_RT_$M_DISK_PROC_ADDR ; DWORD PTR $M_RT.$M_DISK_PROC_ADDR
TRANGROUP:5A67					       ; call far [$M_RT+$M_RES_ADDRS.$M_DISK_PROC_ADDR]
TRANGROUP:5A6B		       pop     ax
TRANGROUP:5A6C		       jmp     short $MEN65
TRANGROUP:5A6E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5A6E
TRANGROUP:5A6E $MIF65:				       ; ...
TRANGROUP:5A6E		       call    $M_RT_$M_DISK_PROC_ADDR ;
TRANGROUP:5A6E					       ; call far [$M_RT+$M_RES_ADDRS.$M_DISK_PROC_ADDR]
TRANGROUP:5A72
TRANGROUP:5A72 $MEN65:				       ; ...
TRANGROUP:5A72		       jmp     short $MEN64
TRANGROUP:5A74 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5A74
TRANGROUP:5A74 $MIF64:				       ; ...
TRANGROUP:5A74		       xor     cx, cx
TRANGROUP:5A76		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:5A79		       jz      short $MIF69
TRANGROUP:5A7B		       mov     cl, es:[di+3]   ; BYTE PTR ES:[DI].$M_NUM_CLS_MSG
TRANGROUP:5A7F		       jmp     short $MEN69
TRANGROUP:5A81 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5A81
TRANGROUP:5A81 $MIF69:				       ; ...
TRANGROUP:5A81		       cmp     cs:[di],	dh     ; BYTE PTR CS:[DI].$M_CLASS_ID,DH
TRANGROUP:5A84		       jnz     short $MEN69
TRANGROUP:5A86		       mov     cl, cs:[di+3]   ; BYTE PTR CS:[DI].$M_NUM_CLS_MSG
TRANGROUP:5A8A
TRANGROUP:5A8A $MEN69:				       ; ...
TRANGROUP:5A8A		       add     di, 4	       ; $M_CLASS_ID_SZ
TRANGROUP:5A8D		       stc
TRANGROUP:5A8E
TRANGROUP:5A8E $MEN64:				       ; ...
TRANGROUP:5A8E		       jnb     short $MIF75
TRANGROUP:5A90		       clc
TRANGROUP:5A91
TRANGROUP:5A91 $MDO76:				       ; ...
TRANGROUP:5A91		       or      cx, cx
TRANGROUP:5A93		       jz      short $MEN76
TRANGROUP:5A95		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:5A98		       jz      short $MIF78
TRANGROUP:5A9A		       cmp     ax, es:[di]     ; WORD PTR ES:[DI].$M_NUM
TRANGROUP:5A9D		       jmp     short $MEN78
TRANGROUP:5A9F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5A9F
TRANGROUP:5A9F $MIF78:				       ; ...
TRANGROUP:5A9F		       cmp     ax, cs:[di]     ; WORD PTR CS:[DI].$M_NUM
TRANGROUP:5AA2
TRANGROUP:5AA2 $MEN78:				       ; ...
TRANGROUP:5AA2		       jnz     short $MIF76
TRANGROUP:5AA4		       jmp     short $MSR76
TRANGROUP:5AA6 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5AA6
TRANGROUP:5AA6 $MIF76:				       ; ...
TRANGROUP:5AA6		       dec     cx
TRANGROUP:5AA7		       jz      short $MEN76
TRANGROUP:5AA9		       add     di, 4
TRANGROUP:5AAC		       jmp     short $MDO76
TRANGROUP:5AAE ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5AAE
TRANGROUP:5AAE $MEN76:				       ; ...
TRANGROUP:5AAE		       stc
TRANGROUP:5AAF
TRANGROUP:5AAF $MSR76:				       ; ...
TRANGROUP:5AAF		       jb      short $MIF75
TRANGROUP:5AB1		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:5AB4		       clc
TRANGROUP:5AB5		       jnz     short $MIF87
TRANGROUP:5AB7		       push    cs
TRANGROUP:5AB8		       pop     es
TRANGROUP:5AB9		       assume es:TRANGROUP
TRANGROUP:5AB9
TRANGROUP:5AB9 $MIF87:				       ; ...
TRANGROUP:5AB9		       add     di, es:[di+2]   ; WORD PTR ES:[DI].$M_TXT_PTR
TRANGROUP:5ABD
TRANGROUP:5ABD $MIF75:				       ; ...
TRANGROUP:5ABD		       jb      short $MIF91
TRANGROUP:5ABF		       xor     ch, ch
TRANGROUP:5AC1		       mov     cl, es:[di]
TRANGROUP:5AC4		       inc     di
TRANGROUP:5AC5
TRANGROUP:5AC5 $MIF91:				       ; ...
TRANGROUP:5AC5		       mov     $M_RT_$M_SIZE, 0	; $M_RT.$M_SIZE,$M_NULL
TRANGROUP:5AC5					       ; [$M_RT+66]
TRANGROUP:5ACA		       retn
TRANGROUP:5ACA $M_FIND_SPECIFIED_MSG endp
TRANGROUP:5ACA
TRANGROUP:5ACB
TRANGROUP:5ACB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5ACB
TRANGROUP:5ACB
TRANGROUP:5ACB SYSDISPMSG      proc near	       ; ...
TRANGROUP:5ACB		       push    ax
TRANGROUP:5ACC		       push    bx
TRANGROUP:5ACD		       push    cx
TRANGROUP:5ACE		       push    bp
TRANGROUP:5ACF		       push    di
TRANGROUP:5AD0		       push    es
TRANGROUP:5AD1		       push    dx
TRANGROUP:5AD2		       mov     bp, cx
TRANGROUP:5AD4		       mov     $M_RT_$M_HANDLE,	bx ; [$M_RT+$M_RES_ADDRS.$M_HANDLE]
TRANGROUP:5AD4					       ; [$M_RT+64],bx
TRANGROUP:5AD8		       mov     $M_RT_$M_CLASS, dh ; [$M_RT+$M_RES_ADDRS.$M_CLASS]
TRANGROUP:5AD8					       ; [$M_RT+69],dh
TRANGROUP:5ADC		       call    $M_GET_MSG_ADDRESS
TRANGROUP:5ADF		       or      cx, cx	       ; (message length)
TRANGROUP:5AE1		       jz      short $MIF93
TRANGROUP:5AE3		       or      bp, bp
TRANGROUP:5AE5		       jnz     short $MIF94
TRANGROUP:5AE7		       call    $M_DISPLAY_STRING ; (es:di = message/text address)
TRANGROUP:5AEA		       jmp     short $MEN94
TRANGROUP:5AEC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5AEC
TRANGROUP:5AEC $MIF94:				       ; ...
TRANGROUP:5AEC		       call    $M_DISPLAY_MESSAGE
TRANGROUP:5AEF
TRANGROUP:5AEF $MEN94:				       ; ...
TRANGROUP:5AEF		       jb      short $MIF97
TRANGROUP:5AF1		       pop     dx
TRANGROUP:5AF2		       call    $M_ADD_CRLF
TRANGROUP:5AF5		       pop     es
TRANGROUP:5AF6		       assume es:nothing
TRANGROUP:5AF6		       pop     di
TRANGROUP:5AF7		       or      dl, dl
TRANGROUP:5AF9		       jz      short $MIF98
TRANGROUP:5AFB		       call    $M_WAIT_FOR_INPUT ; MSDOS 6.0 (to 6.22)
TRANGROUP:5AFE
TRANGROUP:5AFE $MIF98:				       ; ...
TRANGROUP:5AFE		       jmp     short $MEN97
TRANGROUP:5B00 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5B00
TRANGROUP:5B00 $MIF97:				       ; ...
TRANGROUP:5B00		       add     sp, 6
TRANGROUP:5B03		       stc
TRANGROUP:5B04
TRANGROUP:5B04 $MEN97:				       ; ...
TRANGROUP:5B04		       jmp     short $MEN93
TRANGROUP:5B06 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5B06
TRANGROUP:5B06 $MIF93:				       ; ...
TRANGROUP:5B06		       pop     es
TRANGROUP:5B07		       pop     di
TRANGROUP:5B08		       pop     dx
TRANGROUP:5B09		       stc
TRANGROUP:5B0A
TRANGROUP:5B0A $MEN93:				       ; ...
TRANGROUP:5B0A		       jb      short $MIF104
TRANGROUP:5B0C		       pop     bp
TRANGROUP:5B0D		       pop     cx
TRANGROUP:5B0E		       pop     bx
TRANGROUP:5B0F		       add     sp, 2
TRANGROUP:5B12		       jmp     short $MEN104
TRANGROUP:5B14 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5B14
TRANGROUP:5B14 $MIF104:				       ; ...
TRANGROUP:5B14		       add     sp, 8
TRANGROUP:5B17		       stc
TRANGROUP:5B18
TRANGROUP:5B18 $MEN104:				       ; ...
TRANGROUP:5B18		       retn
TRANGROUP:5B18 SYSDISPMSG      endp
TRANGROUP:5B18
TRANGROUP:5B19
TRANGROUP:5B19 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5B19
TRANGROUP:5B19
TRANGROUP:5B19 $M_DISPLAY_STRING proc near	       ; ...
TRANGROUP:5B19		       push    ax
TRANGROUP:5B1A		       push    bx
TRANGROUP:5B1B		       push    dx
TRANGROUP:5B1C		       mov     bx, $M_RT_$M_HANDLE ; $M_RT.$M_HANDLE
TRANGROUP:5B1C					       ; [$M_RT+64]
TRANGROUP:5B20		       cmp     bx, 0FFFFh      ; $M_NO_HANDLE
TRANGROUP:5B23		       jnz     short $MIF107
TRANGROUP:5B25		       call    $M_DISPLAY_$_STRING
TRANGROUP:5B28		       jmp     short $MEN107
TRANGROUP:5B2A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5B2A
TRANGROUP:5B2A $MIF107:				       ; ...
TRANGROUP:5B2A		       call    $M_DISPLAY_H_STRING
TRANGROUP:5B2D
TRANGROUP:5B2D $MEN107:				       ; ...
TRANGROUP:5B2D		       jnb     short $MIF110
TRANGROUP:5B2F		       mov     ah, 59h	       ; DOS_GET_EXT_ERROR
TRANGROUP:5B31		       mov     bx, 0
TRANGROUP:5B34		       int     21h	       ; DOS - 3+ - GET	EXTENDED ERROR CODE
TRANGROUP:5B34					       ; BX = version code (0000h for DOS 3.x)
TRANGROUP:5B36		       xor     ah, ah
TRANGROUP:5B38		       add     sp, 6
TRANGROUP:5B3B		       stc
TRANGROUP:5B3C		       jmp     short $MEN110
TRANGROUP:5B3E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5B3E
TRANGROUP:5B3E $MIF110:				       ; ...
TRANGROUP:5B3E		       cmp     bx, 0FFFFh      ; $M_NO_HANDLE
TRANGROUP:5B41		       jz      short $MEN110
TRANGROUP:5B43		       cmp     ax, cx
TRANGROUP:5B45		       jz      short $MEN110
TRANGROUP:5B47		       call    $M_GET_EXT_ERR_39
TRANGROUP:5B4A		       add     sp, 6
TRANGROUP:5B4D		       stc
TRANGROUP:5B4E
TRANGROUP:5B4E $MEN110:				       ; ...
TRANGROUP:5B4E		       jb      short $MIF117
TRANGROUP:5B50		       pop     dx
TRANGROUP:5B51		       pop     bx
TRANGROUP:5B52		       pop     ax
TRANGROUP:5B53
TRANGROUP:5B53 $MIF117:				       ; ...
TRANGROUP:5B53		       retn
TRANGROUP:5B53 $M_DISPLAY_STRING endp ;	sp =  6
TRANGROUP:5B53
TRANGROUP:5B54
TRANGROUP:5B54 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5B54
TRANGROUP:5B54
TRANGROUP:5B54 $M_DISPLAY_$_STRING proc	near	       ; ...
TRANGROUP:5B54		       push    ds
TRANGROUP:5B55		       push    es
TRANGROUP:5B56		       pop     ds
TRANGROUP:5B57		       assume ds:nothing
TRANGROUP:5B57		       cmp     cx, 1	       ; $M_SINGLE_CHAR
TRANGROUP:5B5A		       jnz     short $MIF119
TRANGROUP:5B5C		       mov     ah, 2	       ; DOS_DISP_CHAR
TRANGROUP:5B5E		       mov     dl, es:[di]
TRANGROUP:5B61		       int     21h	       ; DOS - DISPLAY OUTPUT
TRANGROUP:5B61					       ; DL = character	to send	to standard output
TRANGROUP:5B63		       pop     ds
TRANGROUP:5B64		       mov     al, dl
TRANGROUP:5B66		       call    $M_IS_IT_DBCS
TRANGROUP:5B69		       push    ds
TRANGROUP:5B6A		       push    es
TRANGROUP:5B6B		       pop     ds
TRANGROUP:5B6C		       jnb     short $MIF120
TRANGROUP:5B6E		       mov     dl, es:[di+1]
TRANGROUP:5B72		       int     21h	       ; DOS -
TRANGROUP:5B74		       clc
TRANGROUP:5B75
TRANGROUP:5B75 $MIF120:				       ; ...
TRANGROUP:5B75		       jmp     short $MEN119
TRANGROUP:5B77 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5B77
TRANGROUP:5B77 $MIF119:				       ; ...
TRANGROUP:5B77		       mov     ah, 2	       ; DOS_DISP_CHAR
TRANGROUP:5B79
TRANGROUP:5B79 $MDO123:				       ; ...
TRANGROUP:5B79		       or      cx, cx
TRANGROUP:5B7B		       jz      short $MEN119
TRANGROUP:5B7D		       mov     dl, es:[di]
TRANGROUP:5B80		       int     21h	       ; DOS - DISPLAY OUTPUT
TRANGROUP:5B80					       ; DL = character	to send	to standard output
TRANGROUP:5B82		       inc     di
TRANGROUP:5B83		       dec     cx
TRANGROUP:5B84		       jnz     short $MDO123
TRANGROUP:5B86
TRANGROUP:5B86 $MEN119:				       ; ...
TRANGROUP:5B86		       clc
TRANGROUP:5B87		       pop     ds
TRANGROUP:5B88		       retn
TRANGROUP:5B88 $M_DISPLAY_$_STRING endp
TRANGROUP:5B88
TRANGROUP:5B89
TRANGROUP:5B89 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5B89
TRANGROUP:5B89
TRANGROUP:5B89 scan_ctrlz      proc near	       ; ...
TRANGROUP:5B89		       push    di
TRANGROUP:5B8A		       push    ax
TRANGROUP:5B8B		       push    es
TRANGROUP:5B8C		       push    bx
TRANGROUP:5B8D		       mov     di, dx
TRANGROUP:5B8F		       push    ds
TRANGROUP:5B90		       pop     es
TRANGROUP:5B91		       mov     bx, cx
TRANGROUP:5B93		       mov     al, 1Ah	       ; Ctrl-Z
TRANGROUP:5B95		       cld
TRANGROUP:5B96		       repne scasb
TRANGROUP:5B98		       jnz     short noCtrlz
TRANGROUP:5B9A		       sub     bx, cx
TRANGROUP:5B9C		       dec     bx
TRANGROUP:5B9D
TRANGROUP:5B9D noCtrlz:				       ; ...
TRANGROUP:5B9D		       mov     cx, bx
TRANGROUP:5B9F		       pop     bx
TRANGROUP:5BA0		       pop     es
TRANGROUP:5BA1		       pop     ax
TRANGROUP:5BA2		       pop     di
TRANGROUP:5BA3		       retn
TRANGROUP:5BA3 scan_ctrlz      endp
TRANGROUP:5BA3
TRANGROUP:5BA4
TRANGROUP:5BA4 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5BA4
TRANGROUP:5BA4
TRANGROUP:5BA4 $M_DISPLAY_H_STRING proc	near	       ; ...
TRANGROUP:5BA4
TRANGROUP:5BA4 ; FUNCTION CHUNK	AT TRANGROUP:5BD8 SIZE 00000006	BYTES
TRANGROUP:5BA4
TRANGROUP:5BA4		       xor     ax, ax
TRANGROUP:5BA6		       or      cx, cx
TRANGROUP:5BA8		       jz      short $MIF127
TRANGROUP:5BAA		       push    ds
TRANGROUP:5BAB		       push    es
TRANGROUP:5BAC		       pop     ds
TRANGROUP:5BAD		       mov     ah, 40h
TRANGROUP:5BAF		       mov     dx, di
TRANGROUP:5BB1		       cmp     cx, 1	       ; $M_SINGLE_CHAR
TRANGROUP:5BB4		       jnz     short $MIF128
TRANGROUP:5BB6		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:5BB6					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:5BB8		       pop     ds
TRANGROUP:5BB9		       push    ax
TRANGROUP:5BBA		       mov     al, es:[di]
TRANGROUP:5BBD		       call    $M_IS_IT_DBCS
TRANGROUP:5BC0		       pop     ax
TRANGROUP:5BC1		       push    ds
TRANGROUP:5BC2		       push    es
TRANGROUP:5BC3		       pop     ds
TRANGROUP:5BC4		       jnb     short $MIF129
TRANGROUP:5BC6		       clc
TRANGROUP:5BC7		       mov     ah, 40h
TRANGROUP:5BC9		       inc     dx
TRANGROUP:5BCA		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:5BCA					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:5BCC
TRANGROUP:5BCC $MIF129:				       ; ...
TRANGROUP:5BCC		       pushf
TRANGROUP:5BCD		       cmp     byte ptr	es:[di], 1Ah ; Ctrl-Z?
TRANGROUP:5BD1		       jnz     short m_popf_j  ; @@:
TRANGROUP:5BD3		       mov     ax, cx
TRANGROUP:5BD5
TRANGROUP:5BD5 m_popf_j:			       ; ...
TRANGROUP:5BD5		       jmp     short m_popf
TRANGROUP:5BD5 $M_DISPLAY_H_STRING endp
TRANGROUP:5BD5
TRANGROUP:5BD7 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5BD7
TRANGROUP:5BD7 intret:				       ; ...
TRANGROUP:5BD7		       iret
TRANGROUP:5BD8 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5BD8 ; START OF FUNCTION CHUNK FOR $M_DISPLAY_H_STRING
TRANGROUP:5BD8
TRANGROUP:5BD8 m_popf:				       ; ...
TRANGROUP:5BD8		       push    cs	       ; $M_Popf (macro)
TRANGROUP:5BD9		       call    intret
TRANGROUP:5BDC		       jmp     short $MEN128
TRANGROUP:5BDC ; END OF	FUNCTION CHUNK FOR $M_DISPLAY_H_STRING
TRANGROUP:5BDE ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5BDE
TRANGROUP:5BDE $MIF128:				       ; ...
TRANGROUP:5BDE		       push    bp
TRANGROUP:5BDF		       push    cx
TRANGROUP:5BE0		       call    scan_ctrlz
TRANGROUP:5BE3		       mov     bp, cx
TRANGROUP:5BE5		       pop     cx
TRANGROUP:5BE6		       int     21h	       ; DOS -
TRANGROUP:5BE8		       jnb     short chk_count
TRANGROUP:5BEA		       jmp     short m_cnt_ok
TRANGROUP:5BEC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5BEC
TRANGROUP:5BEC chk_count:			       ; ...
TRANGROUP:5BEC		       cmp     cx, ax
TRANGROUP:5BEE		       jz      short m_cnt_ok
TRANGROUP:5BF0		       cmp     bp, ax
TRANGROUP:5BF2		       clc
TRANGROUP:5BF3		       jnz     short m_cnt_ok
TRANGROUP:5BF5		       mov     ax, cx
TRANGROUP:5BF7
TRANGROUP:5BF7 m_cnt_ok:			       ; ...
TRANGROUP:5BF7		       pop     bp
TRANGROUP:5BF8
TRANGROUP:5BF8 $MEN128:				       ; ...
TRANGROUP:5BF8		       pop     ds
TRANGROUP:5BF9
TRANGROUP:5BF9 $MIF127:				       ; ...
TRANGROUP:5BF9		       retn
TRANGROUP:5BFA
TRANGROUP:5BFA ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5BFA
TRANGROUP:5BFA
TRANGROUP:5BFA $M_GET_EXT_ERR_39 proc near	       ; ...
TRANGROUP:5BFA		       mov     ax, 27h	       ; EXT_ERR_39
TRANGROUP:5BFD		       mov     bx, 4	       ; (ERROR_CLASS_39 SHR 8)	+ ACTION_39
TRANGROUP:5C00		       mov     ch, 1	       ; LOCUS_39
TRANGROUP:5C02		       retn
TRANGROUP:5C02 $M_GET_EXT_ERR_39 endp
TRANGROUP:5C02
TRANGROUP:5C03
TRANGROUP:5C03 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5C03
TRANGROUP:5C03
TRANGROUP:5C03 $M_ADD_CRLF     proc near	       ; ...
TRANGROUP:5C03		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:5C06		       jz      short $MIF134
TRANGROUP:5C08		       test    dh, 80h	       ; $M_NO_CRLF_MASK
TRANGROUP:5C0B		       jnz     short $MIF134
TRANGROUP:5C0D		       push    ds
TRANGROUP:5C0E		       pop     es
TRANGROUP:5C0F		       lea     di, $M_RT_$M_CRLF ; $M_RT.$M_CRLF
TRANGROUP:5C0F					       ; [$M_RT+67]
TRANGROUP:5C13		       mov     cx, 2	       ; $M_CRLF_SIZE
TRANGROUP:5C16		       call    $M_DISPLAY_STRING
TRANGROUP:5C19
TRANGROUP:5C19 $MIF134:				       ; ...
TRANGROUP:5C19		       retn
TRANGROUP:5C19 $M_ADD_CRLF     endp
TRANGROUP:5C19
TRANGROUP:5C1A
TRANGROUP:5C1A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5C1A
TRANGROUP:5C1A
TRANGROUP:5C1A $M_IS_IT_DBCS   proc near	       ; ...
TRANGROUP:5C1A		       push    es
TRANGROUP:5C1B		       push    di
TRANGROUP:5C1C		       les     di, dword ptr ds:$M_RT_$M_DBCS_VEC ; $M_RT.$M_DBCS_VEC
TRANGROUP:5C1C					       ; [$M_RT+60]
TRANGROUP:5C1C					       ; les di,[$M_RT+$M_RES_ADDRS.$M_DBCS_VEC]
TRANGROUP:5C20		       or      di, di
TRANGROUP:5C22		       jz      short $MIF138
TRANGROUP:5C24
TRANGROUP:5C24 $MDO139:				       ; ...
TRANGROUP:5C24		       cmp     word ptr	es:[di], 0 ; $M_DBCS_TERM
TRANGROUP:5C28		       clc
TRANGROUP:5C29		       jz      short $MIF138
TRANGROUP:5C2B		       cmp     al, es:[di]
TRANGROUP:5C2E		       jb      short $MIF141
TRANGROUP:5C30		       cmp     al, es:[di+1]
TRANGROUP:5C34		       ja      short $MIF141
TRANGROUP:5C36		       stc
TRANGROUP:5C37
TRANGROUP:5C37 $MIF141:				       ; ...
TRANGROUP:5C37		       inc     di
TRANGROUP:5C38		       inc     di
TRANGROUP:5C39		       jmp     short $MDO139
TRANGROUP:5C3B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5C3B
TRANGROUP:5C3B $MIF138:				       ; ...
TRANGROUP:5C3B		       pop     di
TRANGROUP:5C3C		       pop     es
TRANGROUP:5C3D		       retn
TRANGROUP:5C3D $M_IS_IT_DBCS   endp
TRANGROUP:5C3D
TRANGROUP:5C3E
TRANGROUP:5C3E ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5C3E
TRANGROUP:5C3E
TRANGROUP:5C3E $M_CONVERT2ASC  proc near	       ; ...
TRANGROUP:5C3E		       pop     ds:$M_RT_$M_RETURN_ADDR ; pop word [$M_RT+70]
TRANGROUP:5C42		       xor     bx, bx
TRANGROUP:5C44		       xchg    ax, bx
TRANGROUP:5C45		       xchg    ax, dx
TRANGROUP:5C46
TRANGROUP:5C46 $MDO145:				       ; ...
TRANGROUP:5C46		       div     ds:$M_RT_$M_DIVISOR ; div word [$M_RT+74]
TRANGROUP:5C4A		       xchg    ax, bx
TRANGROUP:5C4B		       div     ds:$M_RT_$M_DIVISOR ; [$M_RT+74]
TRANGROUP:5C4F		       cmp     dx, 9
TRANGROUP:5C52		       jbe     short $MIF146
TRANGROUP:5C54		       add     dl, 55	       ; add dl,37h
TRANGROUP:5C57		       jmp     short $MEN146
TRANGROUP:5C59 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5C59
TRANGROUP:5C59 $MIF146:				       ; ...
TRANGROUP:5C59		       add     dl, '0'         ; 30h
TRANGROUP:5C5C
TRANGROUP:5C5C $MEN146:				       ; ...
TRANGROUP:5C5C		       push    dx
TRANGROUP:5C5D		       inc     cx
TRANGROUP:5C5E		       or      ax, ax
TRANGROUP:5C60		       jnz     short $MLL149
TRANGROUP:5C62		       or      bx, bx
TRANGROUP:5C64		       jz      short $MEN145
TRANGROUP:5C66
TRANGROUP:5C66 $MLL149:				       ; ...
TRANGROUP:5C66		       cmp     cx, 3	       ; $M_FIRST_THOU
TRANGROUP:5C69		       jnz     short $MIF150
TRANGROUP:5C6B		       cmp     byte ptr	[si+0Ah], ',' ;
TRANGROUP:5C6B					       ; $M_SL.$M_S_PAD,$M_COMMA ($M_SL	= [DS:SI])
TRANGROUP:5C6F		       jnz     short $MIF151
TRANGROUP:5C71		       push    ds:$M_RT_$M_THOU_SEPARA ; word $M_RT.$M_THOU_SEPARA
TRANGROUP:5C75		       inc     cx
TRANGROUP:5C76
TRANGROUP:5C76 $MIF151:				       ; ...
TRANGROUP:5C76		       jmp     short $MEN154
TRANGROUP:5C78 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5C78
TRANGROUP:5C78 $MIF150:				       ; ...
TRANGROUP:5C78		       cmp     cx, 7	       ; $M_SECOND_THOU
TRANGROUP:5C78					       ; (It was 'cmp cx,6' in MSDOS 5.0 COMMAND.COM!)
TRANGROUP:5C7B		       jnz     short $MIF154
TRANGROUP:5C7D		       cmp     byte ptr	[si+0Ah], ','
TRANGROUP:5C81		       jnz     short $MIF155
TRANGROUP:5C83		       push    ds:$M_RT_$M_THOU_SEPARA ; [$M_RT+83]
TRANGROUP:5C87		       inc     cx
TRANGROUP:5C88
TRANGROUP:5C88 $MIF155:				       ; ...
TRANGROUP:5C88		       jmp     short $MEN154
TRANGROUP:5C8A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5C8A
TRANGROUP:5C8A $MIF154:				       ; ...
TRANGROUP:5C8A		       cmp     cx, 11	       ; $M_THIRD_THOU
TRANGROUP:5C8A					       ; (It was 'cmp cx,9' in MSDOS 5.0 COMMAND.COM!)
TRANGROUP:5C8D		       jnz     short $MEN154
TRANGROUP:5C8F		       cmp     byte ptr	[si+0Ah], ',' ; $M_SL.$M_S_PAD,$M_COMMA
TRANGROUP:5C93		       jnz     short $MEN154
TRANGROUP:5C95		       push    ds:$M_RT_$M_THOU_SEPARA ; [$M_RT+83]
TRANGROUP:5C99		       inc     cx
TRANGROUP:5C9A
TRANGROUP:5C9A $MEN154:				       ; ...
TRANGROUP:5C9A		       xchg    ax, bx
TRANGROUP:5C9B		       xor     dx, dx
TRANGROUP:5C9D		       jmp     short $MDO145
TRANGROUP:5C9F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5C9F
TRANGROUP:5C9F $MEN145:				       ; ...
TRANGROUP:5C9F		       xor     dx, dx
TRANGROUP:5CA1		       xor     ax, ax
TRANGROUP:5CA3		       push    ds:$M_RT_$M_RETURN_ADDR ; [$M_RT+70]
TRANGROUP:5CA7		       retn
TRANGROUP:5CA7 $M_CONVERT2ASC  endp ; sp = -2
TRANGROUP:5CA7
TRANGROUP:5CA8
TRANGROUP:5CA8 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5CA8
TRANGROUP:5CA8
TRANGROUP:5CA8 $M_DISPLAY_MESSAGE proc near	       ; ...
TRANGROUP:5CA8		       xor     dx, dx	       ; $MDO165
TRANGROUP:5CAA		       or      cx, cx	       ; (byte count of	the message/text)
TRANGROUP:5CAC		       jz      short $MIF166
TRANGROUP:5CAE		       mov     ah, '%'
TRANGROUP:5CB0		       mov     al, 0
TRANGROUP:5CB2
TRANGROUP:5CB2 $MDO167:				       ; ...
TRANGROUP:5CB2		       cmp     es:[di],	ah
TRANGROUP:5CB5		       jnz     short $MLL168
TRANGROUP:5CB7		       cmp     es:[di+1], ah
TRANGROUP:5CBB		       jz      short $MLL168
TRANGROUP:5CBD		       cmp     al, ah
TRANGROUP:5CBF		       jnz     short $MIF166
TRANGROUP:5CC1
TRANGROUP:5CC1 $MLL168:				       ; ...
TRANGROUP:5CC1		       mov     al, es:[di]
TRANGROUP:5CC4		       call    $M_IS_IT_DBCS
TRANGROUP:5CC7		       jnb     short $MIF169
TRANGROUP:5CC9		       inc     di
TRANGROUP:5CCA
TRANGROUP:5CCA $MIF169:				       ; ...
TRANGROUP:5CCA		       inc     di
TRANGROUP:5CCB		       inc     dx
TRANGROUP:5CCC		       dec     cx
TRANGROUP:5CCD		       jnz     short $MDO167
TRANGROUP:5CCF
TRANGROUP:5CCF $MIF166:				       ; ...
TRANGROUP:5CCF		       push    si
TRANGROUP:5CD0		       xchg    cx, dx
TRANGROUP:5CD2		       or      bp, bp
TRANGROUP:5CD4		       jz      short $MIF173
TRANGROUP:5CD6		       dec     bp
TRANGROUP:5CD7		       cmp     ds:$M_RT_$M_MSG_NUM, 0 ;	$M_RT.$M_MSG_NUM,$M_NULL
TRANGROUP:5CD7					       ; [$M_RT+72]],0
TRANGROUP:5CDC		       jnz     short $MIF173
TRANGROUP:5CDE
TRANGROUP:5CDE $MDO175:				       ; ...
TRANGROUP:5CDE		       mov     al, [si+6]      ; $M_SL.$M_S_ID
TRANGROUP:5CE1		       add     al, 30h
TRANGROUP:5CE3		       cmp     al, es:[di+1]
TRANGROUP:5CE7		       jnz     short $MIF175
TRANGROUP:5CE9		       jmp     short $MIF173
TRANGROUP:5CEB ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5CEB
TRANGROUP:5CEB $MIF175:				       ; ...
TRANGROUP:5CEB		       cmp     al, 30h	       ; $M_SPECIAL_CASE
TRANGROUP:5CED		       jnz     short $MLL178
TRANGROUP:5CEF		       or      dx, dx
TRANGROUP:5CF1		       jz      short $MEN175
TRANGROUP:5CF3
TRANGROUP:5CF3 $MLL178:				       ; ...
TRANGROUP:5CF3		       add     si, [si]	       ; add si,[si+$M_SUBLIST_STRUC.$M_S_SIZE]
TRANGROUP:5CF3					       ; add si,[si+0]
TRANGROUP:5CF5		       jmp     short $MDO175
TRANGROUP:5CF7 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5CF7
TRANGROUP:5CF7 $MEN175:				       ; ...
TRANGROUP:5CF7		       cmp     ds:$M_RT_$M_CLASS, 0FFh ; $M_RT.$M_CLASS,UTILITY_MSG_CLASS
TRANGROUP:5CF7					       ; cmp byte [$M_RT+69],0FFh
TRANGROUP:5CFC		       jnz     short $MIF180
TRANGROUP:5CFE		       inc     dx
TRANGROUP:5CFF		       inc     dx
TRANGROUP:5D00		       dec     cx
TRANGROUP:5D01		       dec     cx
TRANGROUP:5D02		       dec     di
TRANGROUP:5D03		       dec     di
TRANGROUP:5D04		       jmp     short $MIF173
TRANGROUP:5D06 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5D06
TRANGROUP:5D06 $MIF180:				       ; ...
TRANGROUP:5D06		       mov     dx, -1	       ; 0FFFFh
TRANGROUP:5D09
TRANGROUP:5D09 $MIF173:				       ; ...
TRANGROUP:5D09		       push    di
TRANGROUP:5D0A		       sub     di, cx
TRANGROUP:5D0C		       call    $M_DISPLAY_STRING
TRANGROUP:5D0F		       pop     di
TRANGROUP:5D10		       pop     cx
TRANGROUP:5D11		       jnb     short $MXL3
TRANGROUP:5D13		       jmp     $MEN165
TRANGROUP:5D16 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5D16
TRANGROUP:5D16 $MXL3:				       ; ...
TRANGROUP:5D16		       push    cx
TRANGROUP:5D17		       mov     cx, dx
TRANGROUP:5D19		       cmp     byte ptr	[si+6],	0 ; $M_SL.$M_S_ID,$M_SPECIAL_CASE-30H
TRANGROUP:5D1D		       jz      short $MIF187
TRANGROUP:5D1F		       or      cx, cx
TRANGROUP:5D21		       jz      short $MIF188
TRANGROUP:5D23		       dec     cx
TRANGROUP:5D24		       dec     cx
TRANGROUP:5D25		       inc     di
TRANGROUP:5D26		       inc     di
TRANGROUP:5D27		       jmp     short $MEN188
TRANGROUP:5D29 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5D29
TRANGROUP:5D29 $MIF188:				       ; ...
TRANGROUP:5D29		       pop     si
TRANGROUP:5D2A
TRANGROUP:5D2A $MEN188:				       ; ...
TRANGROUP:5D2A		       jmp     short $MEN187
TRANGROUP:5D2C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5D2C
TRANGROUP:5D2C $MIF187:				       ; ...
TRANGROUP:5D2C		       or      cx, cx
TRANGROUP:5D2E		       jnz     short $MIF192
TRANGROUP:5D30		       pop     si
TRANGROUP:5D31		       jmp     short $MEN187
TRANGROUP:5D33 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5D33
TRANGROUP:5D33 $MIF192:				       ; ...
TRANGROUP:5D33		       cmp     cx, -1
TRANGROUP:5D36		       jnz     short $MIF194
TRANGROUP:5D38		       xor     cx, cx
TRANGROUP:5D3A
TRANGROUP:5D3A $MIF194:				       ; ...
TRANGROUP:5D3A		       or      di, di
TRANGROUP:5D3C
TRANGROUP:5D3C $MEN187:				       ; ...
TRANGROUP:5D3C		       jz      short $MEN165
TRANGROUP:5D3E		       push    bp
TRANGROUP:5D3F		       push    di
TRANGROUP:5D40		       push    es
TRANGROUP:5D41		       push    cx
TRANGROUP:5D42		       xor     cx, cx
TRANGROUP:5D44		       cmp     ds:$M_RT_$M_MSG_NUM, 0 ;	$M_RT.$M_MSG_NUM,$M_NULL
TRANGROUP:5D44					       ; [$M_RT+72],0
TRANGROUP:5D49		       jnz     short $MIF199
TRANGROUP:5D4B		       test    byte ptr	[si+7],	0Fh ;
TRANGROUP:5D4B					       ; $M_SL.$M_S_FLAG,NOT Char_Type AND $M_TYPE_MASK
TRANGROUP:5D4F		       jnz     short $MIF200
TRANGROUP:5D51		       les     di, [si+2]      ; $M_SL.$M_S_VALUE
TRANGROUP:5D54		       call    $M_CHAR_REPLACE
TRANGROUP:5D57		       jmp     short $MEN200
TRANGROUP:5D59 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5D59
TRANGROUP:5D59 $MIF200:				       ; ...
TRANGROUP:5D59		       test    byte ptr	[si+7],	0Dh ;
TRANGROUP:5D59					       ; $M_SL.$M_S_FLAG,NOT Sgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:5D5D		       jz      short $MLL202
TRANGROUP:5D5F		       test    byte ptr	[si+7],	0Eh ;
TRANGROUP:5D5F					       ; $M_SL.$M_S_FLAG,NOT Unsgn_Bin_Type AND	$M_TYPE_MASK
TRANGROUP:5D63		       jz      short $MLL202
TRANGROUP:5D65		       test    byte ptr	[si+7],	0Ch ;
TRANGROUP:5D65					       ; $M_SL.$M_S_FLAG,NOT Bin_Hex_Type AND $M_TYPE_MASK
TRANGROUP:5D69		       jnz     short $MIF202
TRANGROUP:5D6B
TRANGROUP:5D6B $MLL202:				       ; ...
TRANGROUP:5D6B		       les     di, [si+2]
TRANGROUP:5D6E		       call    $M_BIN2ASC_REPLACE
TRANGROUP:5D71		       jmp     short $MEN200
TRANGROUP:5D73 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5D73
TRANGROUP:5D73 $MIF202:				       ; ...
TRANGROUP:5D73		       test    byte ptr	[si+7],	0Bh ; $M_SL.$M_S_FLAG,NOT Date_Type AND	$M_TYPE_MASK
TRANGROUP:5D73					       ; ($M_SL	= [ds:si])
TRANGROUP:5D77		       jnz     short $MIF204
TRANGROUP:5D79		       call    $M_DATE_REPLACE
TRANGROUP:5D7C		       jmp     short $MEN200
TRANGROUP:5D7E ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5D7E
TRANGROUP:5D7E $MIF204:				       ; ...
TRANGROUP:5D7E		       call    $M_TIME_REPLACE
TRANGROUP:5D81
TRANGROUP:5D81 $MEN200:				       ; ...
TRANGROUP:5D81		       call    $M_DISPLAY_REPLACE
TRANGROUP:5D84		       jmp     short $MEN199
TRANGROUP:5D86 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5D86
TRANGROUP:5D86 $MIF199:				       ; ...
TRANGROUP:5D86		       call    $M_EXT_PAR_REPLACE
TRANGROUP:5D89
TRANGROUP:5D89 $MEN199:				       ; ...
TRANGROUP:5D89		       jb      short $MIF211
TRANGROUP:5D8B		       pop     cx
TRANGROUP:5D8C		       pop     es
TRANGROUP:5D8D		       pop     di
TRANGROUP:5D8E		       pop     bp
TRANGROUP:5D8F		       pop     si
TRANGROUP:5D90		       jmp     short $MEN211
TRANGROUP:5D92 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5D92
TRANGROUP:5D92 $MIF211:				       ; ...
TRANGROUP:5D92		       add     sp, 10
TRANGROUP:5D95		       stc
TRANGROUP:5D96
TRANGROUP:5D96 $MEN211:				       ; ...
TRANGROUP:5D96		       cmp     ds:$M_RT_$M_MSG_NUM, 0 ;	$M_RT.$M_MSG_NUM,$M_NUL
TRANGROUP:5D96					       ; cmp word [$M_RT+72],0
TRANGROUP:5D9B		       jnz     short $MEN165
TRANGROUP:5D9D		       jb      short $MEN165
TRANGROUP:5D9F		       jmp     $M_DISPLAY_MESSAGE ; jmp	$MDO165
TRANGROUP:5DA2 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5DA2
TRANGROUP:5DA2 $MEN165:				       ; ...
TRANGROUP:5DA2		       mov     ds:$M_RT_$M_MSG_NUM, 0 ;	$M_RT.$M_MSG_NUM,0
TRANGROUP:5DA2					       ; mov word [$M_RT+72],0
TRANGROUP:5DA8		       retn
TRANGROUP:5DA8 $M_DISPLAY_MESSAGE endp
TRANGROUP:5DA8
TRANGROUP:5DA9
TRANGROUP:5DA9 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5DA9
TRANGROUP:5DA9
TRANGROUP:5DA9 $M_EXT_PAR_REPLACE proc near	       ; ...
TRANGROUP:5DA9		       xor     dx, dx
TRANGROUP:5DAB		       mov     ax, ds:$M_RT_$M_MSG_NUM ; $M_RT.$M_MSG_NUM
TRANGROUP:5DAB					       ; mov ax,[$M_RT+72]
TRANGROUP:5DAE		       mov     ds:$M_RT_$M_DIVISOR, 10 ; $M_RT.$M_DIVISOR,$M_BASE10
TRANGROUP:5DAE					       ; [$M_RT+74],10
TRANGROUP:5DB4		       call    $M_CONVERT2ASC
TRANGROUP:5DB7
TRANGROUP:5DB7 $MDO215:				       ; ...
TRANGROUP:5DB7		       pop     ax
TRANGROUP:5DB8		       mov     byte ptr	ds:$M_RT_$M_TEMP_BUF[bx], al ; [bx+$M_RT+76]
TRANGROUP:5DB8					       ; [bx+$M_RT+$M_RES_ADDRS.$M_TEMP_BUF]
TRANGROUP:5DBC		       inc     bx
TRANGROUP:5DBD		       cmp     bx, 64	       ; $M_TEMP_BUF_SZ
TRANGROUP:5DC0		       jnz     short $MIF216
TRANGROUP:5DC2		       call    $M_FLUSH_BUF
TRANGROUP:5DC5
TRANGROUP:5DC5 $MIF216:				       ; ...
TRANGROUP:5DC5		       dec     cl
TRANGROUP:5DC7		       jnz     short $MDO215
TRANGROUP:5DC9		       mov     ax, 0A0Dh       ; $M_CR_LF
TRANGROUP:5DCC		       mov     ds:$M_RT_$M_TEMP_BUF[bx], ax ; $M_RT.$M_TEMP_BUF[BX],AX
TRANGROUP:5DD0		       inc     bx
TRANGROUP:5DD1		       inc     bx
TRANGROUP:5DD2		       call    $M_FLUSH_BUF
TRANGROUP:5DD5		       retn
TRANGROUP:5DD5 $M_EXT_PAR_REPLACE endp ; sp =  2
TRANGROUP:5DD5
TRANGROUP:5DD6
TRANGROUP:5DD6 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5DD6
TRANGROUP:5DD6
TRANGROUP:5DD6 $M_DISPLAY_REPLACE proc near	       ; ...
TRANGROUP:5DD6		       xor     bx, bx
TRANGROUP:5DD8		       cmp     byte ptr	[si+6],	0 ; $M_SL.$M_S_ID,$M_SPECIAL_CASE-30H
TRANGROUP:5DDC		       jnz     short $MIF276
TRANGROUP:5DDE		       mov     ds:$M_RT_$M_TEMP_BUF[bx], 2D20h ;
TRANGROUP:5DDE					       ; $M_RT.$M_TEMP_BUF[BX],$M_SPACE_HYP
TRANGROUP:5DE4		       inc     bx
TRANGROUP:5DE5		       inc     bx
TRANGROUP:5DE6		       mov     byte ptr	ds:$M_RT_$M_TEMP_BUF[bx], 20h ;
TRANGROUP:5DE6					       ; $M_RT.$M_TEMP_BUF[BX],$M_SPACE
TRANGROUP:5DEB		       inc     bx
TRANGROUP:5DEC		       call    $M_FLUSH_BUF
TRANGROUP:5DEF
TRANGROUP:5DEF $MIF276:				       ; ...
TRANGROUP:5DEF		       pop     bp
TRANGROUP:5DF0		       xor     bx, bx
TRANGROUP:5DF2		       xor     dx, dx
TRANGROUP:5DF4		       mov     ds:$M_RT_$M_SIZE, cl ; $M_RT.$M_SIZE
TRANGROUP:5DF4					       ; mov [$M_RT+66],cl
TRANGROUP:5DF8		       mov     al, [si+9]      ; $M_SL.$M_S_MINW
TRANGROUP:5DFB		       cmp     al, cl
TRANGROUP:5DFD		       jbe     short $MIF278
TRANGROUP:5DFF		       sub     al, cl
TRANGROUP:5E01		       mov     dh, al
TRANGROUP:5E03		       test    byte ptr	[si+7],	80h ; BYTE PTR $M_SL.$M_S_FLAG,Right_Align
TRANGROUP:5E07		       jz      short $MIF278
TRANGROUP:5E09
TRANGROUP:5E09 MDO280:				       ; ...
TRANGROUP:5E09		       mov     al, [si+0Ah]    ; $M_SL.$M_S_PAD
TRANGROUP:5E0C		       mov     byte ptr	ds:$M_RT_$M_TEMP_BUF[bx], al
TRANGROUP:5E10		       inc     bx
TRANGROUP:5E11		       cmp     bx, 64	       ; $M_TEMP_BUF_SZ
TRANGROUP:5E14		       jnz     short $MIF281
TRANGROUP:5E16		       call    $M_FLUSH_BUF
TRANGROUP:5E19
TRANGROUP:5E19 $MIF281:				       ; ...
TRANGROUP:5E19		       dec     dh
TRANGROUP:5E1B		       jnz     short MDO280
TRANGROUP:5E1D
TRANGROUP:5E1D $MIF278:				       ; ...
TRANGROUP:5E1D		       cmp     byte ptr	[si+8],	0 ; $M_SL.$M_S_MAXW,$M_UNLIM_W
TRANGROUP:5E21		       jz      short $MIF286
TRANGROUP:5E23		       cmp     [si+8], cl      ; $M_SL.$M_S_MAXW
TRANGROUP:5E26		       jnb     short $MIF286
TRANGROUP:5E28		       sub     cl, [si+8]
TRANGROUP:5E2B		       mov     dl, cl
TRANGROUP:5E2D		       mov     cl, [si+8]
TRANGROUP:5E30
TRANGROUP:5E30 $MIF286:				       ; ...
TRANGROUP:5E30		       or      cx, cx
TRANGROUP:5E32		       jz      short $MIF290
TRANGROUP:5E34
TRANGROUP:5E34 $MDO291:				       ; ...
TRANGROUP:5E34		       test    byte ptr	[si+7],	0Fh ;
TRANGROUP:5E34					       ; $M_SL.$M_S_FLAG,NOT Char_Type AND $M_TYPE_MASK
TRANGROUP:5E38		       jnz     short $MIF292
TRANGROUP:5E3A		       test    byte ptr	[si+7],	10h ;
TRANGROUP:5E3A					       ; $M_SL.$M_S_FLAG,Char_field_ASCIIZ AND $M_SIZE_MASK
TRANGROUP:5E3E		       jz      short $MIF292
TRANGROUP:5E40		       mov     al, es:[di]
TRANGROUP:5E43		       inc     di
TRANGROUP:5E44		       jmp     short $MEN292
TRANGROUP:5E46 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5E46
TRANGROUP:5E46 $MIF292:				       ; ...
TRANGROUP:5E46		       pop     ax
TRANGROUP:5E47
TRANGROUP:5E47 $MEN292:				       ; ...
TRANGROUP:5E47		       mov     byte ptr	ds:$M_RT_$M_TEMP_BUF[bx], al ;
TRANGROUP:5E47					       ; MOV BYTE PTR $M_RT.$M_TEMP_BUF[BX],AL
TRANGROUP:5E47					       ; mov [bx+$M_RT+76],al
TRANGROUP:5E4B		       inc     bx
TRANGROUP:5E4C		       cmp     bx, 64	       ; $M_TEMP_BUF_SZ
TRANGROUP:5E4F		       jnz     short $MIF295
TRANGROUP:5E51		       call    $M_FLUSH_BUF
TRANGROUP:5E54
TRANGROUP:5E54 $MIF295:				       ; ...
TRANGROUP:5E54		       dec     cl
TRANGROUP:5E56		       jnz     short $MDO291
TRANGROUP:5E58
TRANGROUP:5E58 $MIF290:				       ; ...
TRANGROUP:5E58		       test    byte ptr	[si+7],	80h ; $M_SL.$M_S_FLAG,Right_Align
TRANGROUP:5E5C		       jnz     short $MIF299
TRANGROUP:5E5E		       or      dh, dh
TRANGROUP:5E60		       jz      short $MIF299
TRANGROUP:5E62
TRANGROUP:5E62 $MDO301:				       ; ...
TRANGROUP:5E62		       mov     al, [si+0Ah]    ; $M_SL.$M_S_PAD
TRANGROUP:5E62					       ; (ds:si+$M_SUBLIST_STRUC.$M_S_PAD)
TRANGROUP:5E65		       mov     byte ptr	ds:$M_RT_$M_TEMP_BUF[bx], al
TRANGROUP:5E69		       inc     bx
TRANGROUP:5E6A		       cmp     bx, 64	       ; $M_TEMP_BUF_SZ
TRANGROUP:5E6D		       jnz     short $MIF302
TRANGROUP:5E6F		       call    $M_FLUSH_BUF
TRANGROUP:5E72
TRANGROUP:5E72 $MIF302:				       ; ...
TRANGROUP:5E72		       dec     dh
TRANGROUP:5E74		       jnz     short $MDO301
TRANGROUP:5E76
TRANGROUP:5E76 $MIF299:				       ; ...
TRANGROUP:5E76		       test    byte ptr	[si+7],	0Fh ;
TRANGROUP:5E76					       ; $M_SL.$M_S_FLAG,NOT Char_Type AND $M_TYPE_MASK
TRANGROUP:5E7A		       jnz     short $MIF307
TRANGROUP:5E7C		       test    byte ptr	[si+7],	10h ;
TRANGROUP:5E7C					       ; $M_SL.$M_S_FLAG,Char_field_ASCIIZ AND $M_SIZE_MASK
TRANGROUP:5E80		       jz      short $MIF307
TRANGROUP:5E82		       jmp     short $MEN307
TRANGROUP:5E84 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5E84
TRANGROUP:5E84 $MIF307:				       ; ...
TRANGROUP:5E84		       or      dl, dl
TRANGROUP:5E86		       jz      short $MEN307
TRANGROUP:5E88
TRANGROUP:5E88 $MDO310:				       ; ...
TRANGROUP:5E88		       pop     ds:$M_RT_$M_RETURN_ADDR ; pop [$M_RT.$M_RETURN_ADDR]
TRANGROUP:5E88					       ; pop word [$M_RT+70]
TRANGROUP:5E8C		       dec     dl
TRANGROUP:5E8E		       jnz     short $MDO310
TRANGROUP:5E90
TRANGROUP:5E90 $MEN307:				       ; ...
TRANGROUP:5E90		       call    $M_FLUSH_BUF
TRANGROUP:5E93		       push    bp
TRANGROUP:5E94		       retn
TRANGROUP:5E94 $M_DISPLAY_REPLACE endp ; sp =  4
TRANGROUP:5E94
TRANGROUP:5E95
TRANGROUP:5E95 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5E95
TRANGROUP:5E95
TRANGROUP:5E95 $M_FLUSH_BUF    proc near	       ; ...
TRANGROUP:5E95		       push    cx
TRANGROUP:5E96		       push    es
TRANGROUP:5E97		       push    di
TRANGROUP:5E98		       push    ds
TRANGROUP:5E99		       pop     es
TRANGROUP:5E9A		       mov     cx, bx
TRANGROUP:5E9C		       xor     bx, bx
TRANGROUP:5E9E		       lea     di, $M_RT_$M_TEMP_BUF ; $M_RT.$M_TEMP_BUF
TRANGROUP:5E9E					       ; lea di,[$M_RT+76]
TRANGROUP:5EA2		       call    $M_DISPLAY_STRING
TRANGROUP:5EA5		       jb      short $MIF314
TRANGROUP:5EA7		       pop     di
TRANGROUP:5EA8		       pop     es
TRANGROUP:5EA9		       pop     cx
TRANGROUP:5EAA		       jmp     short $MEN314
TRANGROUP:5EAC ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5EAC
TRANGROUP:5EAC $MIF314:				       ; ...
TRANGROUP:5EAC		       add     sp, 6
TRANGROUP:5EAF		       stc
TRANGROUP:5EB0
TRANGROUP:5EB0 $MEN314:				       ; ...
TRANGROUP:5EB0		       retn
TRANGROUP:5EB0 $M_FLUSH_BUF    endp
TRANGROUP:5EB0
TRANGROUP:5EB1
TRANGROUP:5EB1 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5EB1
TRANGROUP:5EB1
TRANGROUP:5EB1 $M_CHAR_REPLACE proc near	       ; ...
TRANGROUP:5EB1		       pop     bp
TRANGROUP:5EB2		       test    byte ptr	[si+7],	30h ;
TRANGROUP:5EB2					       ; $M_SL.$M_S_FLAG,NOT Char_Field_Char AND $M_SIZE_MASK
TRANGROUP:5EB6		       jnz     short $MIF317
TRANGROUP:5EB8		       mov     al, es:[di]
TRANGROUP:5EBB		       push    ax
TRANGROUP:5EBC		       inc     cx
TRANGROUP:5EBD		       call    $M_IS_IT_DBCS
TRANGROUP:5EC0		       jnb     short $MIF318
TRANGROUP:5EC2		       mov     al, es:[di+1]
TRANGROUP:5EC6		       push    ax
TRANGROUP:5EC7		       clc
TRANGROUP:5EC8
TRANGROUP:5EC8 $MIF318:				       ; ...
TRANGROUP:5EC8		       jmp     short $MEN317
TRANGROUP:5ECA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5ECA
TRANGROUP:5ECA $MIF317:				       ; ...
TRANGROUP:5ECA		       mov     al, es:[di]
TRANGROUP:5ECD		       or      al, al
TRANGROUP:5ECF		       jz      short $MEN321
TRANGROUP:5ED1		       inc     di
TRANGROUP:5ED2		       inc     cx
TRANGROUP:5ED3		       jmp     short $MIF317
TRANGROUP:5ED5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5ED5
TRANGROUP:5ED5 $MEN321:				       ; ...
TRANGROUP:5ED5		       sub     di, cx
TRANGROUP:5ED7
TRANGROUP:5ED7 $MEN317:				       ; ...
TRANGROUP:5ED7		       push    bp
TRANGROUP:5ED8		       retn
TRANGROUP:5ED8 $M_CHAR_REPLACE endp
TRANGROUP:5ED8
TRANGROUP:5ED9
TRANGROUP:5ED9 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5ED9
TRANGROUP:5ED9
TRANGROUP:5ED9 $M_BIN2ASC_REPLACE proc near	       ; ...
TRANGROUP:5ED9		       pop     bp
TRANGROUP:5EDA		       xor     dx, dx
TRANGROUP:5EDC		       xor     ax, ax
TRANGROUP:5EDE		       mov     ds:$M_RT_$M_DIVISOR, 10h	; $M_RT.$M_DIVISOR,$M_BASE16
TRANGROUP:5EDE					       ; mov word [$M_RT+74],16
TRANGROUP:5EE4		       xor     bx, bx
TRANGROUP:5EE6		       test    byte ptr	[si+7],	20h ; $M_SL.$M_S_FLAG,NOT $M_BYTE AND $M_SIZE_MASK
TRANGROUP:5EEA		       jnz     short $MIF325
TRANGROUP:5EEC		       mov     al, es:[di]
TRANGROUP:5EEF		       test    byte ptr	[si+7],	0Dh ; $M_SL.$M_S_FLAG,NOT Sgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:5EF3		       jnz     short $MIF326
TRANGROUP:5EF5		       test    al, 80h	       ; test al,10000000b
TRANGROUP:5EF7		       jz      short $MIF327
TRANGROUP:5EF9		       inc     bx	       ; negative number
TRANGROUP:5EFA		       and     al, 7Fh	       ; and al,01111111b
TRANGROUP:5EFC
TRANGROUP:5EFC $MIF327:				       ; ...
TRANGROUP:5EFC		       mov     ds:$M_RT_$M_DIVISOR, 10 ; $M_RT.$M_DIVISOR,$M_BASE10
TRANGROUP:5EFC					       ; mov word [$M_RT+74],10
TRANGROUP:5F02
TRANGROUP:5F02 $MIF326:				       ; ...
TRANGROUP:5F02		       test    byte ptr	[si+7],	0Eh ; $M_SL.$M_S_FLAG,NOT Unsgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:5F06		       jnz     short $MIF330
TRANGROUP:5F08		       mov     ds:$M_RT_$M_DIVISOR, 10 ; mov word [$M_RT+74],10
TRANGROUP:5F0E
TRANGROUP:5F0E $MIF330:				       ; ...
TRANGROUP:5F0E		       jmp     short $MEN333
TRANGROUP:5F10 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5F10
TRANGROUP:5F10 $MIF325:				       ; ...
TRANGROUP:5F10		       test    byte ptr	[si+7],	10h ; $M_SL.$M_S_FLAG,NOT $M_WORD AND $M_SIZE_MASK
TRANGROUP:5F14		       jnz     short $MIF333
TRANGROUP:5F16		       mov     ax, es:[di]
TRANGROUP:5F19		       test    byte ptr	[si+7],	0Dh ; $M_SL.$M_S_FLAG,NOT Sgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:5F1D		       jnz     short $MIF334
TRANGROUP:5F1F		       test    ah, 80h	       ; test ah,10000000b
TRANGROUP:5F22		       jz      short $MIF335
TRANGROUP:5F24		       inc     bx
TRANGROUP:5F25		       and     ah, 7Fh	       ; and ah,01111111b
TRANGROUP:5F28
TRANGROUP:5F28 $MIF335:				       ; ...
TRANGROUP:5F28		       mov     ds:$M_RT_$M_DIVISOR, 10
TRANGROUP:5F2E
TRANGROUP:5F2E $MIF334:				       ; ...
TRANGROUP:5F2E		       test    byte ptr	[si+7],	0Eh ; $M_SL.$M_S_FLAG,NOT Unsgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:5F32		       jnz     short $MIF338
TRANGROUP:5F34		       mov     ds:$M_RT_$M_DIVISOR, 10 ; $M_RT.$M_DIVISOR,$M_BASE10
TRANGROUP:5F34					       ; mov word [$M_RT+74],10
TRANGROUP:5F3A
TRANGROUP:5F3A $MIF338:				       ; ...
TRANGROUP:5F3A		       jmp     short $MEN333
TRANGROUP:5F3C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5F3C
TRANGROUP:5F3C $MIF333:				       ; ...
TRANGROUP:5F3C		       mov     ax, es:[di]
TRANGROUP:5F3F		       mov     dx, es:[di+2]
TRANGROUP:5F43		       test    byte ptr	[si+7],	0Dh ; $M_SL.$M_S_FLAG,NOT Sgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:5F47		       jnz     short $MIF341
TRANGROUP:5F49		       test    dh, 80h	       ; test dh,10000000b
TRANGROUP:5F4C		       jz      short $MIF342
TRANGROUP:5F4E		       inc     bx
TRANGROUP:5F4F		       and     dh, 7Fh	       ; and dh,01111111b
TRANGROUP:5F52
TRANGROUP:5F52 $MIF342:				       ; ...
TRANGROUP:5F52		       mov     ds:$M_RT_$M_DIVISOR, 10 ; mov word [$M_RT+74],10
TRANGROUP:5F58
TRANGROUP:5F58 $MIF341:				       ; ...
TRANGROUP:5F58		       test    byte ptr	[si+7],	0Eh ; $M_SL.$M_S_FLAG,NOT Unsgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:5F58					       ; ($M_SL	= [ds:si]) ($M_SUBLIST_STRUC.$M_S_FLAG = 7)
TRANGROUP:5F5C		       jnz     short $MEN333
TRANGROUP:5F5E		       mov     ds:$M_RT_$M_DIVISOR, 10
TRANGROUP:5F64
TRANGROUP:5F64 $MEN333:				       ; ...
TRANGROUP:5F64		       test    byte ptr	[si+7],	40h ; MSDOS 6.22
TRANGROUP:5F64					       ; (Custom/International flag for	thousand separator)
TRANGROUP:5F68		       jz      short $MEN325
TRANGROUP:5F6A		       push    ax	       ; MSDOS 6.22
TRANGROUP:5F6B		       push    dx
TRANGROUP:5F6C		       mov     ah, 38h	       ; International
TRANGROUP:5F6E		       xor     al, al
TRANGROUP:5F70		       lea     dx, $M_RT_$M_TEMP_BUF
TRANGROUP:5F74		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:5F74					       ; get current-country info
TRANGROUP:5F74					       ; DS:DX -> buffer for returned info
TRANGROUP:5F76		       jnb     short $MEN341   ; (use country depended thousand	separator)
TRANGROUP:5F78		       mov     byte ptr	ds:$M_RT_$M_THOU_SEPARA, ','
TRANGROUP:5F7D
TRANGROUP:5F7D $MEN341:				       ; ...
TRANGROUP:5F7D		       mov     al, [si+0Ah]    ; (save pad character)
TRANGROUP:5F80		       mov     di, ax
TRANGROUP:5F82		       pop     dx
TRANGROUP:5F83		       pop     ax
TRANGROUP:5F84		       mov     byte ptr	[si+0Ah], ',' ; (comma is needed for converting procedure)
TRANGROUP:5F88		       call    $M_CONVERT2ASC
TRANGROUP:5F8B		       mov     ax, di
TRANGROUP:5F8D		       mov     [si+0Ah], al    ; (restore pad character)
TRANGROUP:5F90		       jmp     short $MEN345   ; MSDOS 6.22
TRANGROUP:5F92 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:5F92		       nop
TRANGROUP:5F93
TRANGROUP:5F93 $MEN325:				       ; ...
TRANGROUP:5F93		       call    $M_CONVERT2ASC
TRANGROUP:5F96
TRANGROUP:5F96 $MEN345:				       ; ...
TRANGROUP:5F96		       or      bx, bx
TRANGROUP:5F98		       jz      short $MIF349
TRANGROUP:5F9A		       xor     dx, dx
TRANGROUP:5F9C		       mov     dl, '-'         ; $M_NEG_SIGN
TRANGROUP:5F9E		       push    dx
TRANGROUP:5F9F
TRANGROUP:5F9F $MIF349:				       ; ...
TRANGROUP:5F9F		       push    bp
TRANGROUP:5FA0		       retn
TRANGROUP:5FA0 $M_BIN2ASC_REPLACE endp ; sp = -2
TRANGROUP:5FA0
TRANGROUP:5FA1
TRANGROUP:5FA1 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:5FA1
TRANGROUP:5FA1
TRANGROUP:5FA1 $M_DATE_REPLACE proc near	       ; ...
TRANGROUP:5FA1		       pop     bp
TRANGROUP:5FA2		       mov     ds:$M_RT_$M_DIVISOR, 10 ; $M_RT.$M_DIVISOR,$M_BASE10
TRANGROUP:5FA2					       ; mov word [$M_RT+74],10
TRANGROUP:5FA8		       call    $M_GET_DATE
TRANGROUP:5FAB		       xor     dx, dx
TRANGROUP:5FAD		       xor     ax, ax
TRANGROUP:5FAF		       cmp     ds:$M_RT_$M_TEMP_BUF, 0 ; $M_RT.$M_DATE_FORMAT,0
TRANGROUP:5FAF					       ; cmp word [$M_RT+76],0
TRANGROUP:5FB4		       jnz     short $MIF351
TRANGROUP:5FB6		       call    $M_YEAR
TRANGROUP:5FB9		       call    $M_CONVERTDATE
TRANGROUP:5FBC		       push    ds:$M_RT_$M_DATE_SEPARA ; $M_RT.$M_DATE_SEPARA
TRANGROUP:5FBC					       ; push word [$M_RT+87]
TRANGROUP:5FC0		       inc     cx
TRANGROUP:5FC1		       xor     ax, ax
TRANGROUP:5FC3		       mov     al, [si+5]      ; $M_SL.$M_S_VALUE+3
TRANGROUP:5FC6		       call    $M_CONVERTDATE
TRANGROUP:5FC9		       push    ds:$M_RT_$M_DATE_SEPARA
TRANGROUP:5FCD		       inc     cx
TRANGROUP:5FCE		       mov     al, [si+4]      ; $M_SL.$M_S_VALUE+2
TRANGROUP:5FD1		       call    $M_CONVERTDATE
TRANGROUP:5FD4
TRANGROUP:5FD4 $MIF351:				       ; ...
TRANGROUP:5FD4		       cmp     ds:$M_RT_$M_TEMP_BUF, 1 ; $M_RT.$M_DATE_FORMAT,1
TRANGROUP:5FD9		       jnz     short $MIF353
TRANGROUP:5FDB		       call    $M_YEAR
TRANGROUP:5FDE		       call    $M_CONVERTDATE
TRANGROUP:5FE1		       push    ds:$M_RT_$M_DATE_SEPARA ; push word [$M_RT+87]
TRANGROUP:5FE5		       inc     cx
TRANGROUP:5FE6		       xor     ax, ax
TRANGROUP:5FE8		       mov     al, [si+4]      ; $M_SL.$M_S_VALUE+2
TRANGROUP:5FEB		       call    $M_CONVERTDATE
TRANGROUP:5FEE		       push    ds:$M_RT_$M_DATE_SEPARA
TRANGROUP:5FF2		       inc     cx
TRANGROUP:5FF3		       mov     al, [si+5]      ; $M_SL.$M_S_VALUE+3
TRANGROUP:5FF6		       call    $M_CONVERTDATE
TRANGROUP:5FF9
TRANGROUP:5FF9 $MIF353:				       ; ...
TRANGROUP:5FF9		       cmp     ds:$M_RT_$M_TEMP_BUF, 2 ; $M_RT.$M_DATE_FORMAT,2
TRANGROUP:5FFE		       jnz     short $MIF355
TRANGROUP:6000		       mov     al, [si+5]
TRANGROUP:6003		       call    $M_CONVERTDATE
TRANGROUP:6006		       push    ds:$M_RT_$M_DATE_SEPARA
TRANGROUP:600A		       inc     cx
TRANGROUP:600B		       mov     al, [si+4]
TRANGROUP:600E		       call    $M_CONVERTDATE
TRANGROUP:6011		       push    ds:$M_RT_$M_DATE_SEPARA ; $M_RT.$M_DATE_SEPARA
TRANGROUP:6015		       inc     cx
TRANGROUP:6016		       call    $M_YEAR
TRANGROUP:6019		       call    $M_CONVERTDATE
TRANGROUP:601C
TRANGROUP:601C $MIF355:				       ; ...
TRANGROUP:601C		       push    bp
TRANGROUP:601D		       retn
TRANGROUP:601D $M_DATE_REPLACE endp ; sp = -0Ch
TRANGROUP:601D
TRANGROUP:601E
TRANGROUP:601E ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:601E
TRANGROUP:601E
TRANGROUP:601E $M_GET_DATE     proc near	       ; ...
TRANGROUP:601E		       mov     ah, 38h	       ; DOS_GET_COUNTRY
TRANGROUP:6020		       mov     al, 0
TRANGROUP:6022		       lea     dx, $M_RT_$M_TEMP_BUF ; lea dx,[$M_RT+76]
TRANGROUP:6026		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:6026					       ; get current-country info
TRANGROUP:6026					       ; DS:DX -> buffer for returned info
TRANGROUP:6028		       jnb     short $MIF357
TRANGROUP:602A		       mov     ds:$M_RT_$M_TEMP_BUF, 0 ; $M_RT.$M_DATE_FORMAT,$M_DEF_DATE_FORM
TRANGROUP:6030		       mov     byte ptr	ds:$M_RT_$M_DATE_SEPARA, '-' ;
TRANGROUP:6030					       ; $M_RT.$M_DATE_SEPARA,$M_DEF_DATE_SEP
TRANGROUP:6030					       ; mov byte [$M_RT+87],'-'
TRANGROUP:6035
TRANGROUP:6035 $MIF357:				       ; ...
TRANGROUP:6035		       retn
TRANGROUP:6035 $M_GET_DATE     endp
TRANGROUP:6035
TRANGROUP:6036
TRANGROUP:6036 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6036
TRANGROUP:6036
TRANGROUP:6036 $M_YEAR	       proc near	       ; ...
TRANGROUP:6036		       mov     ax, [si+2]      ; $M_SL.$M_S_VALUE
TRANGROUP:6036					       ; ($M_SUBLIST_STRUC.$M_S_VALUE =	2)
TRANGROUP:6039		       test    byte ptr	[si+7],	10h ; $M_SL.$M_S_FLAG,Date_MDY_4 AND $M_DATE_MASK
TRANGROUP:603D		       jnz     short $MIF360
TRANGROUP:603F		       cmp     ax, 99	       ; $M_MAX_2_YEAR
TRANGROUP:6042		       jbe     short $MIF360
TRANGROUP:6044		       mov     ax, 99
TRANGROUP:6047
TRANGROUP:6047 $MIF360:				       ; ...
TRANGROUP:6047		       retn
TRANGROUP:6047 $M_YEAR	       endp
TRANGROUP:6047
TRANGROUP:6048
TRANGROUP:6048 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6048
TRANGROUP:6048
TRANGROUP:6048 $M_CONVERTDATE  proc near	       ; ...
TRANGROUP:6048		       pop     ds:$M_RT_$M_TEMP_BUF ; $M_RT.$M_TEMP_BUF
TRANGROUP:6048					       ; pop word [$M_RT+76]
TRANGROUP:604C		       mov     ds:$M_RT_$M_SIZE, cl ; $M_RT.$M_SIZE
TRANGROUP:6050		       call    $M_CONVERT2ASC
TRANGROUP:6053		       dec     cx
TRANGROUP:6054		       cmp     cl, ds:$M_RT_$M_SIZE
TRANGROUP:6058		       jnz     short $MIF363
TRANGROUP:605A		       mov     ax, '0'         ; $M_TIMEDATE_PAD
TRANGROUP:605D		       push    ax
TRANGROUP:605E		       inc     cx
TRANGROUP:605F
TRANGROUP:605F $MIF363:				       ; ...
TRANGROUP:605F		       inc     cx
TRANGROUP:6060		       push    ds:$M_RT_$M_TEMP_BUF ; push word	[$M_RT+76]
TRANGROUP:6064		       retn
TRANGROUP:6064 $M_CONVERTDATE  endp ; sp = -2
TRANGROUP:6064
TRANGROUP:6065
TRANGROUP:6065 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6065
TRANGROUP:6065
TRANGROUP:6065 $M_TIME_REPLACE proc near	       ; ...
TRANGROUP:6065		       pop     bp
TRANGROUP:6066		       mov     ds:$M_RT_$M_DIVISOR, 10 ; MOV $M_RT.$M_DIVISOR,$M_BASE10
TRANGROUP:606C		       call    $M_GET_TIME
TRANGROUP:606F		       test    byte ptr	[si+7],	1 ; $M_SL.$M_S_FLAG,Time_Cty_Type AND $M_TIME_MASK
TRANGROUP:6073		       jz      short $MIF365
TRANGROUP:6075		       cmp     ds:$M_RT_$M_TIME_FORMAT,	0 ; $M_RT.$M_TIME_FORMAT
TRANGROUP:6075					       ; cmp byte [$M_RT+93],0
TRANGROUP:607A		       jnz     short $MIF365
TRANGROUP:607C		       mov     al, [si+2]      ; $M_SL.$M_S_VALUE ($M_SL = [ds:si])
TRANGROUP:607F		       cmp     al, 12
TRANGROUP:6081		       jl      short $MLL367
TRANGROUP:6083		       cmp     al, 23
TRANGROUP:6085		       jle     short MIF367
TRANGROUP:6087
TRANGROUP:6087 $MLL367:				       ; ...
TRANGROUP:6087		       mov     al, 'a'         ; $M_AM
TRANGROUP:6089		       push    ax
TRANGROUP:608A		       inc     cx
TRANGROUP:608B		       jmp     short $MIF365
TRANGROUP:608D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:608D
TRANGROUP:608D MIF367:				       ; ...
TRANGROUP:608D		       mov     al, 'p'         ; $M_PM
TRANGROUP:608F		       push    ax
TRANGROUP:6090		       inc     cx
TRANGROUP:6091
TRANGROUP:6091 $MIF365:				       ; ...
TRANGROUP:6091		       xor     ax, ax
TRANGROUP:6093		       xor     dx, dx
TRANGROUP:6095		       test    byte ptr	[si+7],	20h ;
TRANGROUP:6095					       ; $M_SL.$M_S_FLAG,Time_HHMMSSHH_Cty AND $M_SIZE_MASK
TRANGROUP:6099		       jz      short $MIF372
TRANGROUP:609B		       mov     al, [si+5]      ; $M_SL.$M_S_VALUE+3 ($M_SUBLIST_STRUC.$M_S_VALUE = 2)
TRANGROUP:609E		       call    $M_CONVERTTIME
TRANGROUP:60A1		       push    ds:$M_RT_$M_DECI_SEPARA ; $M_RT.$M_DECI_SEPARA
TRANGROUP:60A1					       ; push word [$M_RT+85]
TRANGROUP:60A5		       inc     cx
TRANGROUP:60A6
TRANGROUP:60A6 $MIF372:				       ; ...
TRANGROUP:60A6		       test    byte ptr	[si+7],	20h ;
TRANGROUP:60A6					       ; $M_SL.$M_S_FLAG,Time_HHMMSSHH_Cty AND $M_SIZE_MASK
TRANGROUP:60AA		       jnz     short $MLL374
TRANGROUP:60AC		       test    byte ptr	[si+7],	10h ;
TRANGROUP:60AC					       ; $M_SL.$M_S_FLAG,Time_HHMMSS_Cty AND $M_SIZE_MASK
TRANGROUP:60B0		       jz      short $MIF374
TRANGROUP:60B2
TRANGROUP:60B2 $MLL374:				       ; ...
TRANGROUP:60B2		       mov     al, [si+4]      ; $M_SL.$M_S_VALUE+2
TRANGROUP:60B5		       call    $M_CONVERTTIME
TRANGROUP:60B8		       push    ds:$M_RT_$M_TIME_SEPARA ; $M_RT.$M_TIME_SEPARA
TRANGROUP:60B8					       ; push word [$M_RT+89]
TRANGROUP:60BC		       inc     cx
TRANGROUP:60BD
TRANGROUP:60BD $MIF374:				       ; ...
TRANGROUP:60BD		       mov     al, [si+3]      ; $M_SL.$M_S_VALUE+1
TRANGROUP:60C0		       call    $M_CONVERTTIME
TRANGROUP:60C3		       push    ds:$M_RT_$M_TIME_SEPARA
TRANGROUP:60C7		       inc     cx
TRANGROUP:60C8		       mov     al, [si+2]      ; $M_SL.$M_S_VALUE
TRANGROUP:60CB		       test    byte ptr	[si+7],	1 ;
TRANGROUP:60CB					       ; $M_SL.$M_S_FLAG,Time_Cty_Type AND $M_TIME_MASK
TRANGROUP:60CF		       jz      short $MIF376
TRANGROUP:60D1		       cmp     ds:$M_RT_$M_TIME_FORMAT,	0 ; $M_RT.$M_TIME_FORMAT
TRANGROUP:60D1					       ; cmp byte [$M_RT+93],0
TRANGROUP:60D6		       jnz     short $MIF376
TRANGROUP:60D8		       cmp     al, 13
TRANGROUP:60DA		       jl      short $MIF378
TRANGROUP:60DC		       sub     al, 12
TRANGROUP:60DE
TRANGROUP:60DE $MIF378:				       ; ...
TRANGROUP:60DE		       cmp     al, 0
TRANGROUP:60E0		       jnz     short $MIF376
TRANGROUP:60E2		       mov     al, 12
TRANGROUP:60E4
TRANGROUP:60E4 $MIF376:				       ; ...
TRANGROUP:60E4		       call    $M_CONVERT2ASC
TRANGROUP:60E7		       push    bp
TRANGROUP:60E8		       retn
TRANGROUP:60E8 $M_TIME_REPLACE endp ; sp = -8
TRANGROUP:60E8
TRANGROUP:60E9
TRANGROUP:60E9 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:60E9
TRANGROUP:60E9
TRANGROUP:60E9 $M_GET_TIME     proc near	       ; ...
TRANGROUP:60E9		       mov     ah, 38h	       ; DOS_GET_COUNTRY
TRANGROUP:60EB		       mov     al, 0
TRANGROUP:60ED		       lea     dx, $M_RT_$M_TEMP_BUF
TRANGROUP:60F1		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:60F1					       ; get current-country info
TRANGROUP:60F1					       ; DS:DX -> buffer for returned info
TRANGROUP:60F3		       jnb     short $MIF384
TRANGROUP:60F5		       mov     word ptr	ds:$M_RT_$M_TIME_FORMAT, 1 ; $M_DEF_TIME_FORM
TRANGROUP:60FB		       mov     byte ptr	ds:$M_RT_$M_TIME_SEPARA, ':' ; $M_DEF_TIME_SEP
TRANGROUP:6100		       mov     byte ptr	ds:$M_RT_$M_DECI_SEPARA, '.' ; $M_DEF_DECI_SEP
TRANGROUP:6105
TRANGROUP:6105 $MIF384:				       ; ...
TRANGROUP:6105		       retn
TRANGROUP:6105 $M_GET_TIME     endp
TRANGROUP:6105
TRANGROUP:6106
TRANGROUP:6106 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6106
TRANGROUP:6106
TRANGROUP:6106 $M_CONVERTTIME  proc near	       ; ...
TRANGROUP:6106		       pop     ds:$M_RT_$M_TEMP_BUF ; $M_RT.$M_TEMP_BUF
TRANGROUP:6106					       ; pop word [$M_RT+76]
TRANGROUP:610A		       mov     ds:$M_RT_$M_SIZE, cl
TRANGROUP:610E		       call    $M_CONVERT2ASC
TRANGROUP:6111		       dec     cx
TRANGROUP:6112		       cmp     cl, ds:$M_RT_$M_SIZE ; $M_RT.$M_SIZE
TRANGROUP:6116		       jnz     short $MIF386
TRANGROUP:6118		       mov     ax, '0'         ; $M_TIMEDATE_PAD
TRANGROUP:611B		       push    ax
TRANGROUP:611C		       inc     cx
TRANGROUP:611D
TRANGROUP:611D $MIF386:				       ; ...
TRANGROUP:611D		       inc     cx
TRANGROUP:611E		       push    ds:$M_RT_$M_TEMP_BUF
TRANGROUP:6122		       retn
TRANGROUP:6122 $M_CONVERTTIME  endp ; sp = -2
TRANGROUP:6122
TRANGROUP:6123
TRANGROUP:6123 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6123
TRANGROUP:6123
TRANGROUP:6123 $M_WAIT_FOR_INPUT proc near	       ; ...
TRANGROUP:6123		       push    cx
TRANGROUP:6124		       push    dx
TRANGROUP:6125		       push    ds
TRANGROUP:6126		       cmp     dl, 0C0h	       ; DOS_CLR_KEYB_BUF_MASK
TRANGROUP:6129		       jbe     short $MIF388
TRANGROUP:612B		       mov     al, dl
TRANGROUP:612D		       and     al, 0Fh	       ; LOW_NIB_MASK
TRANGROUP:612F		       mov     ah, 0Ch	       ; DOS_CLR_KEYB_BUF
TRANGROUP:6131		       jmp     short $MEN388
TRANGROUP:6133 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6133
TRANGROUP:6133 $MIF388:				       ; ...
TRANGROUP:6133		       mov     ah, dl
TRANGROUP:6135
TRANGROUP:6135 $MEN388:				       ; ...
TRANGROUP:6135		       push    es
TRANGROUP:6136		       pop     ds
TRANGROUP:6137		       mov     dx, di
TRANGROUP:6139		       int     21h	       ; DOS -
TRANGROUP:613B		       pop     ds
TRANGROUP:613C		       cmp     dl, 0Ah	       ; DOS_BUF_KEYB_INP
TRANGROUP:613F		       clc
TRANGROUP:6140		       jz      short $MIF391
TRANGROUP:6142		       call    $M_IS_IT_DBCS
TRANGROUP:6145		       jnb     short $MIF392
TRANGROUP:6147		       mov     cl, al
TRANGROUP:6149		       mov     ah, dl
TRANGROUP:614B		       int     21h	       ; DOS -
TRANGROUP:614D		       mov     ah, cl
TRANGROUP:614F		       clc
TRANGROUP:6150		       jmp     short $MIF391
TRANGROUP:6152 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6152
TRANGROUP:6152 $MIF392:				       ; ...
TRANGROUP:6152		       mov     ah, 0
TRANGROUP:6154
TRANGROUP:6154 $MIF391:				       ; ...
TRANGROUP:6154		       jb      short $MIF396
TRANGROUP:6156		       pop     dx
TRANGROUP:6157		       pop     cx
TRANGROUP:6158		       jmp     short $MEN396
TRANGROUP:615A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:615A
TRANGROUP:615A $MIF396:				       ; ...
TRANGROUP:615A		       add     sp, 4
TRANGROUP:615D		       stc
TRANGROUP:615E
TRANGROUP:615E $MEN396:				       ; ...
TRANGROUP:615E		       retn
TRANGROUP:615E $M_WAIT_FOR_INPUT endp
TRANGROUP:615E
TRANGROUP:615F
TRANGROUP:615F ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:615F
TRANGROUP:615F
TRANGROUP:615F InitVar	       proc near	       ; ...
TRANGROUP:615F		       push    ax
TRANGROUP:6160		       push    cx
TRANGROUP:6161		       push    di
TRANGROUP:6162		       push    es
TRANGROUP:6163		       mov     es, ds:RESSEG
TRANGROUP:6167		       xor     ax, ax
TRANGROUP:6169		       mov     es:fUmbTiny, al
TRANGROUP:616D		       mov     es:fInHigh, al
TRANGROUP:6171		       mov     es:SegLoad, ax
TRANGROUP:6175		       mov     es:UmbLoad, 0FFh	; UNSPECIFIED
TRANGROUP:617B		       mov     es:fm_argc, al
TRANGROUP:617F		       cld
TRANGROUP:6180		       mov     cx, 16	       ; MAXUMB
TRANGROUP:6183		       mov     di, offset UmbUsed
TRANGROUP:6186		       rep stosb
TRANGROUP:6188		       mov     cx, 16	       ; MAXUMB
TRANGROUP:618B		       mov     di, offset UmbSize
TRANGROUP:618E		       rep stosw
TRANGROUP:6190		       pop     es
TRANGROUP:6191		       pop     di
TRANGROUP:6192		       pop     cx
TRANGROUP:6193		       pop     ax
TRANGROUP:6194		       retn
TRANGROUP:6194 InitVar	       endp
TRANGROUP:6194
TRANGROUP:6195
TRANGROUP:6195 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6195
TRANGROUP:6195
TRANGROUP:6195 FixMem	       proc near	       ; ...
TRANGROUP:6195		       push    ax
TRANGROUP:6196		       push    bx
TRANGROUP:6197		       push    cx
TRANGROUP:6198		       push    dx
TRANGROUP:6199		       push    es
TRANGROUP:619A		       call    fm_link
TRANGROUP:619D		       call    UmbHead
TRANGROUP:61A0		       jb      short fmX
TRANGROUP:61A2		       mov     es, ax
TRANGROUP:61A4		       xor     dx, dx
TRANGROUP:61A6		       mov     cx, dx
TRANGROUP:61A8		       inc     dx
TRANGROUP:61A9
TRANGROUP:61A9 fm10:				       ; ...
TRANGROUP:61A9		       mov     al, es:0	       ; es:[arena_signature]
TRANGROUP:61AD		       mov     bx, es:1	       ; es:[arena_owner]
TRANGROUP:61B2		       or      bx, dx
TRANGROUP:61B4		       jnz     short fm30
TRANGROUP:61B6
TRANGROUP:61B6 fm20:
TRANGROUP:61B6		       mov     bx, es:3
TRANGROUP:61BB		       mov     es, cx
TRANGROUP:61BD		       assume es:RESGROUP
TRANGROUP:61BD		       mov     es:0, al
TRANGROUP:61C1		       add     bx, es:3	       ; es:[arena_size]
TRANGROUP:61C6		       add     bx, 1
TRANGROUP:61C9		       mov     es:3, bx
TRANGROUP:61CE
TRANGROUP:61CE fm30:				       ; ...
TRANGROUP:61CE		       mov     cx, es
TRANGROUP:61D0		       mov     dx, es:1
TRANGROUP:61D5		       mov     bx, es
TRANGROUP:61D7		       add     bx, es:3
TRANGROUP:61DC		       inc     bx
TRANGROUP:61DD		       mov     es, bx
TRANGROUP:61DF		       assume es:nothing
TRANGROUP:61DF		       cmp     al, 5Ah ; 'Z'
TRANGROUP:61E1		       jnz     short fm10
TRANGROUP:61E3
TRANGROUP:61E3 fmX:				       ; ...
TRANGROUP:61E3		       call    fm_unlink
TRANGROUP:61E6		       pop     es
TRANGROUP:61E7		       pop     dx
TRANGROUP:61E8		       pop     cx
TRANGROUP:61E9		       pop     bx
TRANGROUP:61EA		       pop     ax
TRANGROUP:61EB		       retn
TRANGROUP:61EB FixMem	       endp
TRANGROUP:61EB
TRANGROUP:61EC
TRANGROUP:61EC ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:61EC
TRANGROUP:61EC
TRANGROUP:61EC fm_link	       proc near	       ; ...
TRANGROUP:61EC		       mov     ax, 5802h
TRANGROUP:61EF		       int     21h	       ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
TRANGROUP:61EF					       ; AL = function code: (DOS 5beta) get UMB link state
TRANGROUP:61F1		       push    es
TRANGROUP:61F2		       mov     es, ds:RESSEG
TRANGROUP:61F6		       mov     es:fm_umb, al
TRANGROUP:61FA		       pop     es
TRANGROUP:61FB		       mov     ax, 5803h
TRANGROUP:61FE		       mov     bx, 1
TRANGROUP:6201		       int     21h	       ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
TRANGROUP:6201					       ; AL = function code: (DOS 5beta) set UMB link state
TRANGROUP:6203		       retn
TRANGROUP:6203 fm_link	       endp
TRANGROUP:6203
TRANGROUP:6204
TRANGROUP:6204 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6204
TRANGROUP:6204
TRANGROUP:6204 fm_unlink       proc near	       ; ...
TRANGROUP:6204		       xor     bx, bx
TRANGROUP:6206		       push    ds
TRANGROUP:6207		       mov     ds, ds:RESSEG
TRANGROUP:620B		       mov     bl, ds:fm_umb
TRANGROUP:620F		       pop     ds
TRANGROUP:6210		       mov     ax, 5803h
TRANGROUP:6213		       int     21h	       ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
TRANGROUP:6213					       ; AL = function code: (DOS 5beta) set UMB link state
TRANGROUP:6215		       retn
TRANGROUP:6215 fm_unlink       endp
TRANGROUP:6215
TRANGROUP:6216
TRANGROUP:6216 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6216
TRANGROUP:6216
TRANGROUP:6216 ParseVar	       proc near	       ; ...
TRANGROUP:6216		       push    di
TRANGROUP:6217		       push    ds
TRANGROUP:6218		       push    es
TRANGROUP:6219		       push    es
TRANGROUP:621A		       pop     ds
TRANGROUP:621B		       cld
TRANGROUP:621C
TRANGROUP:621C pv10:				       ; ...
TRANGROUP:621C		       lodsb
TRANGROUP:621D		       call    isWhite
TRANGROUP:6220		       jz      short pv10
TRANGROUP:6222		       cmp     al, '/'         ; SWTCH
TRANGROUP:6224		       jz      short pv20
TRANGROUP:6226		       dec     si
TRANGROUP:6227		       clc
TRANGROUP:6228		       jmp     short pvX
TRANGROUP:622A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:622A
TRANGROUP:622A pv20:				       ; ...
TRANGROUP:622A		       lodsb
TRANGROUP:622B		       and     al, 0DFh	       ; toUpper (macro)
TRANGROUP:622D		       cmp     al, 'S'         ; optS ; just read 'S'?
TRANGROUP:622F		       jnz     short pv30
TRANGROUP:6231		       call    incArgc	       ; it is /S, another arg for LH is skipped
TRANGROUP:6234		       push    es
TRANGROUP:6235		       mov     es, ds:RESSEG
TRANGROUP:6239		       mov     es:fUmbTiny, 1
TRANGROUP:623F		       pop     es
TRANGROUP:6240		       jmp     short pv10
TRANGROUP:6242 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6242
TRANGROUP:6242 pv30:				       ; ...
TRANGROUP:6242		       cmp     al, 'L'         ; optL ; If it's not 'L', it is a bad switch
TRANGROUP:6244		       jnz     short pvE1
TRANGROUP:6246		       call    incArgc	       ; it is /L, another arg for LH is skipped
TRANGROUP:6249		       call    parseL
TRANGROUP:624C		       jnb     short pv10
TRANGROUP:624E		       dec     si
TRANGROUP:624F		       jmp     short pvErr
TRANGROUP:6251 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6251
TRANGROUP:6251 pvE1:				       ; ...
TRANGROUP:6251		       mov     ax, 3	       ; PV_InvSwt ; Unrecognized switch passed
TRANGROUP:6254
TRANGROUP:6254 pvErr:				       ; ...
TRANGROUP:6254		       dec     si
TRANGROUP:6255		       dec     si
TRANGROUP:6256		       stc
TRANGROUP:6257
TRANGROUP:6257 pvX:				       ; ...
TRANGROUP:6257		       pop     es
TRANGROUP:6258		       pop     ds
TRANGROUP:6259		       pop     di
TRANGROUP:625A		       retn
TRANGROUP:625A ParseVar	       endp
TRANGROUP:625A
TRANGROUP:625B
TRANGROUP:625B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:625B
TRANGROUP:625B
TRANGROUP:625B parseL	       proc near	       ; ...
TRANGROUP:625B		       lodsb
TRANGROUP:625C		       cmp     al, ':'         ; Make sure they did /L:
TRANGROUP:625E		       jnz     short plE1
TRANGROUP:6260
TRANGROUP:6260 pl10:				       ; ...
TRANGROUP:6260		       call    GetXNum
TRANGROUP:6263		       jb      short plE2
TRANGROUP:6265		       call    convUMB	       ; Convert any address to	a UMB number
TRANGROUP:6268		       mov     cl, al
TRANGROUP:626A		       call    stowUMB	       ; Mark this UMB # as used
TRANGROUP:626D		       jb      short plE2
TRANGROUP:626F		       call    incArgc	       ; Each UMB number is another arg	for LH to skip
TRANGROUP:6272		       lodsb
TRANGROUP:6273		       cmp     al, ';'         ; Did "umb;" ?
TRANGROUP:6275		       jz      short pl10      ; get another UMB
TRANGROUP:6277		       call    isWhite	       ; Did "umb " ?
TRANGROUP:627A		       jz      short plX       ; return
TRANGROUP:627C		       call    isEOL	       ; Did "umb" ?
TRANGROUP:627F		       jz      short plSwX     ; backup	and exit
TRANGROUP:6281		       cmp     al, '/'         ; Did "umb/" ? (as in, "/L:1,100;2/S")
TRANGROUP:6283		       jz      short plSwX     ; backup	one character and return
TRANGROUP:6285		       cmp     al, ','         ; Did "umb," ?
TRANGROUP:6287		       jnz     short plE1      ; return	error
TRANGROUP:6289		       call    GetXNum	       ; Stop on "size;" or "size " or anything	else
TRANGROUP:628C		       jb      short plE1      ; bad size
TRANGROUP:628E		       call    toPara	       ; Convert from bytes to paragraphs
TRANGROUP:6291		       call    stowSiz	       ; CL still has the UMB number for this routine
TRANGROUP:6294		       call    incArgc	       ; Each UMB size is another arg for LH to	skip
TRANGROUP:6297		       lodsb
TRANGROUP:6298		       cmp     al, ';'         ; They did "umb,size;", so get another UMB.
TRANGROUP:629A		       jz      short pl10
TRANGROUP:629C		       call    isWhite	       ; Did it	end with whitespace?
TRANGROUP:629F		       jz      short plX       ; we're done here--go back
TRANGROUP:62A1		       call    isEOL	       ; Did they do "umb,size"	and end??? (stupid)
TRANGROUP:62A4		       jz      short plSwX     ; backup	and exit like everything's ok
TRANGROUP:62A6		       cmp     al, '/'         ; Did they do "umb,size/" ?
TRANGROUP:62A8		       jz      short plSwX     ; we're done here
TRANGROUP:62AA
TRANGROUP:62AA plE1:				       ; ...
TRANGROUP:62AA		       mov     ax, 1	       ; PV_InvArg ; we	don't know WHAT they did..
TRANGROUP:62AD		       dec     si
TRANGROUP:62AE		       stc
TRANGROUP:62AF		       retn
TRANGROUP:62B0 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:62B0
TRANGROUP:62B0 plE2:				       ; ...
TRANGROUP:62B0		       mov     ax, 2	       ; PV_BadUMB ; they've specified a UMB twice
TRANGROUP:62B3		       stc
TRANGROUP:62B4		       retn
TRANGROUP:62B5 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:62B5
TRANGROUP:62B5 plSwX:				       ; ...
TRANGROUP:62B5		       dec     si	       ; we hit	a '/' character, back up one char
TRANGROUP:62B6
TRANGROUP:62B6 plX:				       ; ...
TRANGROUP:62B6		       clc
TRANGROUP:62B7		       retn
TRANGROUP:62B7 parseL	       endp
TRANGROUP:62B7
TRANGROUP:62B8
TRANGROUP:62B8 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:62B8
TRANGROUP:62B8
TRANGROUP:62B8 incArgc	       proc near	       ; ...
TRANGROUP:62B8		       push    ax
TRANGROUP:62B9		       push    ds	       ; getdata (macro)
TRANGROUP:62B9					       ; getdata al, fm_argc
TRANGROUP:62BA		       mov     ds, ds:RESSEG
TRANGROUP:62BE		       mov     al, ds:fm_argc  ; Obtain	previous value of fm_argc,
TRANGROUP:62C1		       pop     ds
TRANGROUP:62C2		       inc     al	       ; increment it,
TRANGROUP:62C4		       push    es	       ; putdata (macro)
TRANGROUP:62C4					       ; putdata fm_argc, al
TRANGROUP:62C5		       mov     es, ds:RESSEG
TRANGROUP:62C9		       mov     es:fm_argc, al  ; and store it right back.
TRANGROUP:62CD		       pop     es
TRANGROUP:62CE		       pop     ax
TRANGROUP:62CF		       retn
TRANGROUP:62CF incArgc	       endp
TRANGROUP:62CF
TRANGROUP:62D0
TRANGROUP:62D0 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:62D0
TRANGROUP:62D0
TRANGROUP:62D0 isEOL	       proc near	       ; ...
TRANGROUP:62D0		       cmp     al, 0	       ; Null-terminator
TRANGROUP:62D2		       jz      short ieX
TRANGROUP:62D4		       cmp     al, 0Dh	       ; Carriage Return
TRANGROUP:62D6		       jz      short ieX
TRANGROUP:62D8		       cmp     al, 0Ah	       ; LineFeed
TRANGROUP:62DA
TRANGROUP:62DA ieX:				       ; ...
TRANGROUP:62DA		       retn
TRANGROUP:62DA isEOL	       endp
TRANGROUP:62DA
TRANGROUP:62DB
TRANGROUP:62DB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:62DB
TRANGROUP:62DB
TRANGROUP:62DB isWhite	       proc near	       ; ...
TRANGROUP:62DB		       cmp     al, 20h ; ' '   ; Space
TRANGROUP:62DD		       jz      short iwX
TRANGROUP:62DF		       cmp     al, 3Dh ; '='   ; Equals (treat as whitespace)
TRANGROUP:62E1		       jz      short iwX
TRANGROUP:62E3		       cmp     al, 9	       ; Tab
TRANGROUP:62E5
TRANGROUP:62E5 iwX:				       ; ...
TRANGROUP:62E5		       retn
TRANGROUP:62E5 isWhite	       endp
TRANGROUP:62E5
TRANGROUP:62E6
TRANGROUP:62E6 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:62E6
TRANGROUP:62E6
TRANGROUP:62E6 unMarkUMB       proc near	       ; ...
TRANGROUP:62E6		       push    ax
TRANGROUP:62E7		       push    bx
TRANGROUP:62E8		       push    di
TRANGROUP:62E9		       push    es
TRANGROUP:62EA		       mov     es, ds:RESSEG
TRANGROUP:62EE		       xor     ah, ah
TRANGROUP:62F0		       mov     bx, ax
TRANGROUP:62F2		       mov     es:UmbUsed[bx], 0 ; marks the UMB as unused
TRANGROUP:62F8		       cmp     es:UmbLoad, al
TRANGROUP:62FD		       jnz     short umu10
TRANGROUP:62FF		       mov     es:UmbLoad, 0
TRANGROUP:6305
TRANGROUP:6305 umu10:				       ; ...
TRANGROUP:6305		       pop     es
TRANGROUP:6306		       pop     di
TRANGROUP:6307		       pop     bx
TRANGROUP:6308		       pop     ax
TRANGROUP:6309		       retn
TRANGROUP:6309 unMarkUMB       endp
TRANGROUP:6309
TRANGROUP:630A
TRANGROUP:630A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:630A
TRANGROUP:630A
TRANGROUP:630A stowUMB	       proc near	       ; ...
TRANGROUP:630A		       cmp     al, 16	       ; MAXUMB
TRANGROUP:630C		       jb      short su10
TRANGROUP:630E		       stc
TRANGROUP:630F		       retn
TRANGROUP:6310 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6310
TRANGROUP:6310 su10:				       ; ...
TRANGROUP:6310		       push    bx
TRANGROUP:6311		       push    di
TRANGROUP:6312		       push    si
TRANGROUP:6313		       push    ds
TRANGROUP:6314		       push    es
TRANGROUP:6315		       mov     es, ds:RESSEG
TRANGROUP:6319		       mov     ds, ds:RESSEG
TRANGROUP:631D		       cmp     ds:UmbLoad, 0FFh	; UNSPECIFIED
TRANGROUP:6322		       jnz     short su20
TRANGROUP:6324		       mov     ds:UmbLoad, al  ; remember this UMB as the load UMB slot
TRANGROUP:6327
TRANGROUP:6327 su20:				       ; ...
TRANGROUP:6327		       or      al, al
TRANGROUP:6329		       jz      short su30      ; umb number is 0, nothing to do
TRANGROUP:632B		       mov     bl, al
TRANGROUP:632D		       xor     bh, bh
TRANGROUP:632F		       mov     ax, 1	       ; Now, AX = 1 and BX = UMB Number
TRANGROUP:6332		       xchg    al, es:UmbUsed[bx] ; mark the UMB as used
TRANGROUP:6337		       or      al, al	       ; If it was already 1, that means an error
TRANGROUP:6339		       jz      short su30
TRANGROUP:633B		       stc		       ; OOOPS!	This one's been used before.
TRANGROUP:633C
TRANGROUP:633C su30:				       ; ...
TRANGROUP:633C		       pop     es
TRANGROUP:633D		       pop     ds
TRANGROUP:633E		       pop     si
TRANGROUP:633F		       pop     di
TRANGROUP:6340		       pop     bx
TRANGROUP:6341		       retn
TRANGROUP:6341 stowUMB	       endp
TRANGROUP:6341
TRANGROUP:6342
TRANGROUP:6342 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6342
TRANGROUP:6342
TRANGROUP:6342 stowSiz	       proc near	       ; ...
TRANGROUP:6342		       push    bx
TRANGROUP:6343		       push    di
TRANGROUP:6344		       push    es
TRANGROUP:6345		       mov     es, ds:RESSEG
TRANGROUP:6349		       mov     bl, cl	       ; bl==UMB number, AX==size
TRANGROUP:634B		       mov     bh, 0
TRANGROUP:634D		       shl     bl, 1
TRANGROUP:634F		       mov     es:UmbSize[bx], ax ; bx==offset into array, AX=size
TRANGROUP:6354		       pop     es
TRANGROUP:6355		       pop     di
TRANGROUP:6356		       pop     bx
TRANGROUP:6357		       retn
TRANGROUP:6357 stowSiz	       endp
TRANGROUP:6357
TRANGROUP:6357 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6358 gnradix	       dw 0		       ; ...
TRANGROUP:6358					       ; Must be a word--16x16 multiplication
TRANGROUP:635A
TRANGROUP:635A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:635A
TRANGROUP:635A
TRANGROUP:635A toDigit	       proc near	       ; ...
TRANGROUP:635A		       cmp     ds:gnradix, 16
TRANGROUP:635F		       jnz     short td20      ; Don't check hex digits if radix isn't 16
TRANGROUP:6361		       cmp     cl, 'a'
TRANGROUP:6364		       jb      short td10
TRANGROUP:6366		       cmp     cl, 'f'
TRANGROUP:6369		       ja      short tdE
TRANGROUP:636B		       sub     cl, 57h	       ; 'a'-10 ; 87 ; make 'a' == 10
TRANGROUP:636E		       retn
TRANGROUP:636F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:636F
TRANGROUP:636F td10:				       ; ...
TRANGROUP:636F		       cmp     cl, 'A'
TRANGROUP:6372		       jb      short td20
TRANGROUP:6374		       cmp     cl, 'F'
TRANGROUP:6377		       ja      short tdE
TRANGROUP:6379		       sub     cl, 37h	       ; 'A'-10 ; 55 ; make 'A' == 10
TRANGROUP:637C		       retn
TRANGROUP:637D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:637D
TRANGROUP:637D td20:				       ; ...
TRANGROUP:637D		       cmp     cl, '0'
TRANGROUP:6380		       jb      short tdE
TRANGROUP:6382		       cmp     cl, '9'
TRANGROUP:6385		       ja      short tdE
TRANGROUP:6387		       sub     cl, '0'         ; 30h ;  make '0' == 0
TRANGROUP:638A		       retn
TRANGROUP:638B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:638B
TRANGROUP:638B tdE:				       ; ...
TRANGROUP:638B		       stc
TRANGROUP:638C		       retn
TRANGROUP:638C toDigit	       endp
TRANGROUP:638C
TRANGROUP:638D
TRANGROUP:638D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:638D
TRANGROUP:638D
TRANGROUP:638D GetXNum	       proc near	       ; ...
TRANGROUP:638D		       push    bx
TRANGROUP:638E		       push    cx
TRANGROUP:638F		       push    ds
TRANGROUP:6390		       cld
TRANGROUP:6391		       xor     ax, ax
TRANGROUP:6393		       xor     bx, bx
TRANGROUP:6395		       xor     cx, cx
TRANGROUP:6397		       xor     dx, dx
TRANGROUP:6399		       mov     ds:gnradix, 10  ; default radix is 10
TRANGROUP:639F		       mov     cl, es:[si]
TRANGROUP:63A2		       call    toDigit
TRANGROUP:63A5		       jb      short gxnE      ; it is not a digit
TRANGROUP:63A7		       or      cl, cl
TRANGROUP:63A9		       jnz     short gxn20     ; Doesn't have '0x'
TRANGROUP:63AB		       mov     cl, es:[si+1]
TRANGROUP:63AF		       cmp     cl, 'x'         ; 'x' means it's hexadecimal
TRANGROUP:63B2		       jz      short gxn10
TRANGROUP:63B4		       cmp     cl, 'X'         ; 'X' means it's hexadecimal
TRANGROUP:63B7		       jnz     short gxn20
TRANGROUP:63B9
TRANGROUP:63B9 gxn10:				       ; ...
TRANGROUP:63B9		       mov     ds:gnradix, 16  ; Since we read "0x", march over	it.
TRANGROUP:63BF		       inc     si
TRANGROUP:63C0		       inc     si
TRANGROUP:63C1
TRANGROUP:63C1 gxn20:				       ; ...
TRANGROUP:63C1		       mov     cl, es:[si]     ; Now DX:AX=current total,
TRANGROUP:63C1					       ; CH=0, CL=number <=15
TRANGROUP:63C4		       inc     si
TRANGROUP:63C5		       call    toDigit
TRANGROUP:63C8		       jb      short gxnQ      ; not a digit, stop
TRANGROUP:63CA		       call    mul32	       ; Multiply DX:AX	by gnradix
TRANGROUP:63CD		       jb      short gxnX      ; (if it's too big, error out)
TRANGROUP:63CF		       add     ax, cx
TRANGROUP:63D1		       adc     dx, bx	       ; bx = 0
TRANGROUP:63D3		       jb      short gxnX
TRANGROUP:63D5		       jmp     short gxn20
TRANGROUP:63D7 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:63D7
TRANGROUP:63D7 gxnE:				       ; ...
TRANGROUP:63D7		       stc
TRANGROUP:63D8		       jmp     short gxnX
TRANGROUP:63DA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:63DA
TRANGROUP:63DA gxnQ:				       ; ...
TRANGROUP:63DA		       dec     si
TRANGROUP:63DB		       clc
TRANGROUP:63DC
TRANGROUP:63DC gxnX:				       ; ...
TRANGROUP:63DC		       pop     ds
TRANGROUP:63DD		       pop     cx
TRANGROUP:63DE		       pop     bx
TRANGROUP:63DF		       retn
TRANGROUP:63DF GetXNum	       endp
TRANGROUP:63DF
TRANGROUP:63E0
TRANGROUP:63E0 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:63E0
TRANGROUP:63E0
TRANGROUP:63E0 mul32	       proc near	       ; ...
TRANGROUP:63E0		       push    ax
TRANGROUP:63E1		       mov     ax, dx
TRANGROUP:63E3		       mul     ds:gnradix
TRANGROUP:63E7		       jb      short m32E      ; too big?
TRANGROUP:63E9		       mov     dx, ax
TRANGROUP:63EB		       pop     ax
TRANGROUP:63EC		       xchg    dx, bx
TRANGROUP:63EE		       mul     ds:gnradix
TRANGROUP:63F2		       xchg    dx, bx
TRANGROUP:63F4		       add     dx, bx
TRANGROUP:63F6		       xor     bx, bx
TRANGROUP:63F8		       retn
TRANGROUP:63F9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:63F9
TRANGROUP:63F9 m32E:				       ; ...
TRANGROUP:63F9		       pop     ax
TRANGROUP:63FA		       retn
TRANGROUP:63FA mul32	       endp
TRANGROUP:63FA
TRANGROUP:63FB
TRANGROUP:63FB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:63FB
TRANGROUP:63FB
TRANGROUP:63FB toPara	       proc near	       ; ...
TRANGROUP:63FB		       push    cx	       ; divide	DX:AX by 16; result in AX only
TRANGROUP:63FB					       ; DX:AX=HHHH hhhh hhhh hhhh:LLLL	llll llll llll
TRANGROUP:63FC		       mov     cl, 4
TRANGROUP:63FE		       shr     ax, cl	       ; DX:AX=HHHH hhhh hhhh hhhh:0000	LLLL llll llll
TRANGROUP:6400		       xchg    ax, dx	       ; DX:AX=0000 LLLL llll llll:HHHH	hhhh hhhh hhhh
TRANGROUP:6401		       mov     cl, 12
TRANGROUP:6403		       shl     ax, cl	       ; DX:AX=0000 LLLL llll llll:hhhh	0000 0000 0000
TRANGROUP:6405		       or      ax, dx	       ;    AX=hhhh LLLL llll llll
TRANGROUP:6407		       pop     cx
TRANGROUP:6408		       retn
TRANGROUP:6408 toPara	       endp
TRANGROUP:6408
TRANGROUP:6409
TRANGROUP:6409 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6409
TRANGROUP:6409
TRANGROUP:6409 UmbHead	       proc near	       ; ...
TRANGROUP:6409		       push    si
TRANGROUP:640A		       push    ds
TRANGROUP:640B		       push    es
TRANGROUP:640C		       mov     ah, 52h	       ; DOS_GET_DOS_LISTS
TRANGROUP:640E		       int     21h	       ; DOS - 2+ internal - GET LIST OF LISTS
TRANGROUP:640E					       ; Return: ES:BX -> DOS list of lists
TRANGROUP:6410		       mov     ax, es:8Ch      ; [DOS_UMB_HEAD]
TRANGROUP:6414		       cmp     ax, 0FFFFh
TRANGROUP:6417		       jz      short uhE       ; error (ax = 0FFFFh)
TRANGROUP:6419		       clc
TRANGROUP:641A		       jmp     short uhX
TRANGROUP:641C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:641C
TRANGROUP:641C uhE:				       ; ...
TRANGROUP:641C		       stc
TRANGROUP:641D
TRANGROUP:641D uhX:				       ; ...
TRANGROUP:641D		       pop     es
TRANGROUP:641E		       pop     ds
TRANGROUP:641F		       pop     si
TRANGROUP:6420		       retn
TRANGROUP:6420 UmbHead	       endp
TRANGROUP:6420
TRANGROUP:6421
TRANGROUP:6421 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6421
TRANGROUP:6421
TRANGROUP:6421 isSysMCB	       proc near	       ; ...
TRANGROUP:6421		       push    ax	       ; sets ZF
TRANGROUP:6421					       ; if ES points to an MCB	owned by "SC"+(8or9)
TRANGROUP:6422		       mov     ax, es:1	       ; mov ax, es:[arena_owner]
TRANGROUP:6426		       cmp     ax, 8	       ; SystemPSPOwner	(for US	or Japan)
TRANGROUP:6429		       jz      short ism10
TRANGROUP:642B		       cmp     ax, 9	       ; JapanPSPOwner (for Japan)
TRANGROUP:642E		       jz      short ism10
TRANGROUP:6430		       jmp     short ismX
TRANGROUP:6432 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6432
TRANGROUP:6432 ism10:				       ; ...
TRANGROUP:6432		       mov     ax, es:8	       ; mov ax, word ptr es:[arena_name]
TRANGROUP:6436		       cmp     ax, 'CS'        ; 'SC'
TRANGROUP:6439
TRANGROUP:6439 ismX:				       ; ...
TRANGROUP:6439		       pop     ax
TRANGROUP:643A		       retn
TRANGROUP:643A isSysMCB	       endp
TRANGROUP:643A
TRANGROUP:643B
TRANGROUP:643B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:643B
TRANGROUP:643B
TRANGROUP:643B AddrToUmb       proc near	       ; ...
TRANGROUP:643B		       push    cx	       ; convert segment addr in AX to UMB number
TRANGROUP:643C		       push    dx
TRANGROUP:643D		       push    es
TRANGROUP:643E		       mov     dx, ax
TRANGROUP:6440		       call    UmbHead
TRANGROUP:6443		       jb      short atuE
TRANGROUP:6445		       mov     es, ax
TRANGROUP:6447		       xor     cx, cx	       ; cx = UMB# = 0
TRANGROUP:6449
TRANGROUP:6449 atu10:				       ; ...
TRANGROUP:6449		       mov     ax, es
TRANGROUP:644B		       cmp     ax, dx	       ; Present segment >= given segment?
TRANGROUP:644D		       jnb     short atuX
TRANGROUP:644F		       call    isSysMCB
TRANGROUP:6452		       jnz     short atu20
TRANGROUP:6454		       inc     cx	       ; If it _was_ a system MCB,
TRANGROUP:6454					       ; we're in a new UMB.
TRANGROUP:6455
TRANGROUP:6455 atu20:				       ; ...
TRANGROUP:6455		       mov     al, es:0	       ; mov al, es:[arena_signature]
TRANGROUP:6459		       cmp     al, 'Z'         ; arena_signature_end
TRANGROUP:645B		       jz      short atu30     ; 'Z' means this was the last MCB
TRANGROUP:645D		       mov     ax, es
TRANGROUP:645F		       add     ax, es:3	       ; NextMCB (macro)
TRANGROUP:6464		       inc     ax
TRANGROUP:6465		       mov     es, ax
TRANGROUP:6467		       jmp     short atu10
TRANGROUP:6469 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6469
TRANGROUP:6469 atu30:				       ; ...
TRANGROUP:6469		       mov     ax, es
TRANGROUP:646B		       add     ax, es:3	       ; add ax, es:[arena_size]
TRANGROUP:6470		       cmp     ax, dx	       ; Present >= given?
TRANGROUP:6472		       jnb     short atuX      ; Yes, it _was_ inside
TRANGROUP:6474
TRANGROUP:6474 atuE:				       ; ...
TRANGROUP:6474		       xor     cx, cx	       ; Else, fall through with UMB # == -1
TRANGROUP:6476		       dec     cx
TRANGROUP:6477
TRANGROUP:6477 atuX:				       ; ...
TRANGROUP:6477		       mov     ax, cx	       ; Return	the UMB	number in AX
TRANGROUP:6479		       pop     es
TRANGROUP:647A		       pop     dx
TRANGROUP:647B		       pop     cx
TRANGROUP:647C		       retn
TRANGROUP:647C AddrToUmb       endp
TRANGROUP:647C
TRANGROUP:647D
TRANGROUP:647D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:647D
TRANGROUP:647D
TRANGROUP:647D convUMB	       proc near	       ; ...
TRANGROUP:647D		       cmp     ds:gnradix, 16
TRANGROUP:6482		       jnz     short cu10      ; If it didn't read in hex, it's not an address
TRANGROUP:6484		       call    AddrToUmb       ; convert the address to	a UMB number
TRANGROUP:6487		       cmp     ax, 0FFFFh
TRANGROUP:648A		       jnz     short cu10
TRANGROUP:648C		       inc     ax	       ; If too	high, ignore it	(make it conventional)
TRANGROUP:648D
TRANGROUP:648D cu10:				       ; ...
TRANGROUP:648D		       retn
TRANGROUP:648D convUMB	       endp
TRANGROUP:648D
TRANGROUP:648E
TRANGROUP:648E ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:648E
TRANGROUP:648E
TRANGROUP:648E setUMBs	       proc near	       ; ...
TRANGROUP:648E		       push    ax
TRANGROUP:648F		       push    bx
TRANGROUP:6490		       call    fm_link
TRANGROUP:6493		       mov     ax, 5800h       ; DOS_CHECK_STRATEGY
TRANGROUP:6496		       int     21h	       ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
TRANGROUP:6496					       ; AL = function code: get allocation strategy
TRANGROUP:6498		       push    es
TRANGROUP:6499		       mov     es, ds:RESSEG
TRANGROUP:649D		       mov     es:fm_strat, al ; store the current strategy
TRANGROUP:64A1		       pop     es
TRANGROUP:64A2		       and     ax, 7Fh	       ; 0000.0000.0111.1111 ==	All that other stuff
TRANGROUP:64A5		       push    ax
TRANGROUP:64A6		       call    loadLow	       ; returns al==0 if load low, al==1 if loadhigh
TRANGROUP:64A9		       ror     al, 1	       ; shift that to al==0 or	al==0x80
TRANGROUP:64AB		       pop     bx	       ; restore pushed	ax above
TRANGROUP:64AC		       or      bl, al	       ; now we	have 0000.0000.?111.1111 in BX
TRANGROUP:64AE		       mov     ax, 5801h       ; DOS_SET_STRATEGY ; with ? ==1 if load highfirs
TRANGROUP:64B1		       int     21h	       ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
TRANGROUP:64B1					       ; AL = function code: set allocation strategy
TRANGROUP:64B3		       pop     bx
TRANGROUP:64B4		       pop     ax
TRANGROUP:64B5		       retn
TRANGROUP:64B5 setUMBs	       endp
TRANGROUP:64B5
TRANGROUP:64B6
TRANGROUP:64B6 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:64B6
TRANGROUP:64B6
TRANGROUP:64B6 loadLow	       proc near	       ; ...
TRANGROUP:64B6		       push    ds	       ; returns AL==0 if UMB0 == 0, else AL==1
TRANGROUP:64B7		       mov     ds, ds:RESSEG
TRANGROUP:64BB		       mov     al, ds:UmbLoad
TRANGROUP:64BE		       cmp     al, 0FFh	       ; UNSPECIFIED
TRANGROUP:64C0		       jnz     short ll10
TRANGROUP:64C2		       mov     al, 1	       ; Return	with AL==1 && STC if no	UMBs specified
TRANGROUP:64C4		       stc
TRANGROUP:64C5		       jmp     short llX
TRANGROUP:64C7 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:64C7
TRANGROUP:64C7 ll10:				       ; ...
TRANGROUP:64C7		       or      al, al	       ; AL=the	load UMB: Is it	== 0?
TRANGROUP:64C9		       jz      short llX       ; yes, CF==0 (from OR) && AL=0, so just exit
TRANGROUP:64CB		       mov     al, 1
TRANGROUP:64CD		       clc
TRANGROUP:64CE
TRANGROUP:64CE llX:				       ; ...
TRANGROUP:64CE		       pop     ds
TRANGROUP:64CF		       retn
TRANGROUP:64CF loadLow	       endp
TRANGROUP:64CF
TRANGROUP:64D0
TRANGROUP:64D0 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:64D0
TRANGROUP:64D0
TRANGROUP:64D0 HideUMBs	       proc near	       ; ...
TRANGROUP:64D0		       push    ax
TRANGROUP:64D1		       push    cx
TRANGROUP:64D2		       push    ds
TRANGROUP:64D3		       push    es
TRANGROUP:64D4		       call    UmbTest	       ; see if	we REALLY linked in anything...
TRANGROUP:64D7		       jb      short husX      ; if not, there's nothing for us to do.
TRANGROUP:64D9		       call    FixMem	       ; concatenate adjacent free MCBs	in upper mem
TRANGROUP:64DC		       call    setUMBs	       ; link UMBs and set memory-allocation strategy
TRANGROUP:64DF		       push    es
TRANGROUP:64E0		       mov     es, ds:RESSEG
TRANGROUP:64E4		       mov     es:fInHigh, 1   ; remember that we're now running high
TRANGROUP:64EA		       pop     es
TRANGROUP:64EB		       call    GetLoadUMB      ; see if	they gave us a list to leave free
TRANGROUP:64EE		       cmp     al, 0FFh	       ; UNSPECIFIED ; if they didn't,
TRANGROUP:64F0		       jz      short husX      ; then we shouldn't do this loop
TRANGROUP:64F2		       xor     cx, cx
TRANGROUP:64F4
TRANGROUP:64F4 hus10:				       ; ...
TRANGROUP:64F4		       inc     cx	       ; for each UMB
TRANGROUP:64F5		       cmp     cx, 16
TRANGROUP:64F8		       jnb     short hus20
TRANGROUP:64FA		       mov     al, cl	       ; stopping as soon as we're outside of the
TRANGROUP:64FA					       ; valid range of	UMBs
TRANGROUP:64FC		       push    es
TRANGROUP:64FD		       call    findumb
TRANGROUP:6500		       pop     es
TRANGROUP:6501		       jb      short hus20
TRANGROUP:6503		       call    hideUMB?	       ; hide what we need to hide
TRANGROUP:6506		       jmp     short hus10
TRANGROUP:6508 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6508
TRANGROUP:6508 hus20:				       ; ...
TRANGROUP:6508		       call    GetLoadUMB      ; now check if they offered /L:0
TRANGROUP:650B		       or      al, al	       ; is the	load UMB 0? (-1==unspecified)
TRANGROUP:650D		       jnz     short husX      ; if not, we're done
TRANGROUP:650F		       call    hl_unlink       ; if so,	however, fix UMBs and strategy
TRANGROUP:6512
TRANGROUP:6512 husX:				       ; ...
TRANGROUP:6512		       pop     es
TRANGROUP:6513		       pop     ds
TRANGROUP:6514		       pop     cx
TRANGROUP:6515		       pop     ax
TRANGROUP:6516		       retn
TRANGROUP:6516 HideUMBs	       endp
TRANGROUP:6516
TRANGROUP:6517
TRANGROUP:6517 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6517
TRANGROUP:6517
TRANGROUP:6517 GetLoadUMB      proc near	       ; ...
TRANGROUP:6517		       push    ds
TRANGROUP:6518		       mov     ds, ds:RESSEG   ; getdata (macro)
TRANGROUP:6518					       ; getdata al,UmbLoad
TRANGROUP:651C		       mov     al, ds:UmbLoad
TRANGROUP:651F		       pop     ds
TRANGROUP:6520		       retn
TRANGROUP:6520 GetLoadUMB      endp
TRANGROUP:6520
TRANGROUP:6521
TRANGROUP:6521 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6521
TRANGROUP:6521
TRANGROUP:6521 GetLoadSize     proc near
TRANGROUP:6521		       push    bx
TRANGROUP:6522		       push    si
TRANGROUP:6523		       push    ds
TRANGROUP:6524		       mov     ds, ds:RESSEG
TRANGROUP:6528		       mov     al, ds:UmbLoad
TRANGROUP:652B		       xor     ah, ah	       ; ax==UMB
TRANGROUP:652D		       mov     bx, offset UmbSize
TRANGROUP:6530		       shl     al, 1
TRANGROUP:6532		       add     ax, bx
TRANGROUP:6534		       mov     si, ax	       ; ds:si==element	index
TRANGROUP:6536		       lodsw		       ; ax==size
TRANGROUP:6537		       pop     ds
TRANGROUP:6538		       pop     si
TRANGROUP:6539		       pop     bx
TRANGROUP:653A		       retn
TRANGROUP:653A GetLoadSize     endp
TRANGROUP:653A
TRANGROUP:653B
TRANGROUP:653B ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:653B
TRANGROUP:653B
TRANGROUP:653B GetSize	       proc near	       ; ...
TRANGROUP:653B		       push    bx
TRANGROUP:653C		       push    si
TRANGROUP:653D		       push    ds
TRANGROUP:653E		       mov     ds, ds:RESSEG
TRANGROUP:6542		       xor     ah, ah	       ; ax==UMB
TRANGROUP:6544		       mov     bx, offset UmbSize
TRANGROUP:6547		       shl     al, 1
TRANGROUP:6549		       add     ax, bx
TRANGROUP:654B		       mov     si, ax	       ; ds:si==element	index
TRANGROUP:654D		       lodsw		       ; ax==size
TRANGROUP:654E		       pop     ds
TRANGROUP:654F		       pop     si
TRANGROUP:6550		       pop     bx
TRANGROUP:6551		       retn
TRANGROUP:6551 GetSize	       endp
TRANGROUP:6551
TRANGROUP:6552
TRANGROUP:6552 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6552
TRANGROUP:6552
TRANGROUP:6552 StoLoadUMB      proc near
TRANGROUP:6552		       push    es
TRANGROUP:6553		       mov     es, ds:RESSEG
TRANGROUP:6557		       mov     es:UmbLoad, al
TRANGROUP:655B		       pop     es
TRANGROUP:655C		       retn
TRANGROUP:655C StoLoadUMB      endp
TRANGROUP:655C
TRANGROUP:655D
TRANGROUP:655D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:655D
TRANGROUP:655D
TRANGROUP:655D StoLoadSize     proc near
TRANGROUP:655D		       push    dx
TRANGROUP:655E		       push    ds
TRANGROUP:655F		       mov     ds, ds:RESSEG
TRANGROUP:6563		       mov     dl, ds:UmbLoad  ; Put UMB# in DL	and size in AX
TRANGROUP:6567		       pop     ds
TRANGROUP:6568		       cmp     dl, 0FFh	       ; UNSPECIFIED
TRANGROUP:656B		       jz      short sls10
TRANGROUP:656D		       call    stowSiz
TRANGROUP:6570
TRANGROUP:6570 sls10:				       ; ...
TRANGROUP:6570		       pop     dx
TRANGROUP:6571		       retn
TRANGROUP:6571 StoLoadSize     endp
TRANGROUP:6571
TRANGROUP:6572
TRANGROUP:6572 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6572
TRANGROUP:6572
TRANGROUP:6572 hideUMB	       proc near	       ; ...
TRANGROUP:6572		       push    ax
TRANGROUP:6573		       push    es
TRANGROUP:6574		       call    findumb
TRANGROUP:6577		       jb      short huX
TRANGROUP:6579
TRANGROUP:6579 hu10:				       ; ...
TRANGROUP:6579		       call    isSysMCB
TRANGROUP:657C		       jz      short huX
TRANGROUP:657E		       call    isFreeMCB       ; ZF = 1	if owner is 0
TRANGROUP:6581		       jnz     short hu20      ; ZF = 0
TRANGROUP:6583		       call    hideMCB
TRANGROUP:6586
TRANGROUP:6586 hu20:				       ; ...
TRANGROUP:6586		       mov     al, es:0	       ; mov al, es:[arena_signature]
TRANGROUP:658A		       cmp     al, 'Z'         ; arena_signature_end
TRANGROUP:658C		       jz      short huX       ; 'Z' means this was the last MCB
TRANGROUP:658E		       mov     ax, es	       ; NextMCB (macro)
TRANGROUP:658E					       ; NextMCB es, ax
TRANGROUP:6590		       add     ax, es:3
TRANGROUP:6595		       inc     ax
TRANGROUP:6596		       mov     es, ax
TRANGROUP:6598		       jmp     short hu10
TRANGROUP:659A ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:659A
TRANGROUP:659A huX:				       ; ...
TRANGROUP:659A		       pop     es
TRANGROUP:659B		       pop     ax
TRANGROUP:659C		       retn
TRANGROUP:659C hideUMB	       endp
TRANGROUP:659C
TRANGROUP:659D
TRANGROUP:659D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:659D
TRANGROUP:659D
TRANGROUP:659D isTiny	       proc near	       ; ...
TRANGROUP:659D		       push    ax
TRANGROUP:659E		       push    ds
TRANGROUP:659F		       mov     ds, ds:RESSEG   ; getdata (macro)
TRANGROUP:659F					       ; getdata al, fUmbTiny
TRANGROUP:65A3		       mov     al, ds:fUmbTiny
TRANGROUP:65A6		       pop     ds
TRANGROUP:65A7		       or      al, al
TRANGROUP:65A9		       pop     ax
TRANGROUP:65AA		       retn
TRANGROUP:65AA isTiny	       endp
TRANGROUP:65AA
TRANGROUP:65AB
TRANGROUP:65AB ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:65AB
TRANGROUP:65AB
TRANGROUP:65AB isFreeMCB       proc near	       ; ...
TRANGROUP:65AB		       or      word ptr	es:1, 0	; or es:[arena_owner], 0
TRANGROUP:65B1		       retn
TRANGROUP:65B1 isFreeMCB       endp
TRANGROUP:65B1
TRANGROUP:65B2
TRANGROUP:65B2 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:65B2
TRANGROUP:65B2
TRANGROUP:65B2 hideMCB	       proc near	       ; ...
TRANGROUP:65B2		       mov     word ptr	es:1, 8	; mov es:[arena_owner],	SystemPSPOwner
TRANGROUP:65B9		       mov     word ptr	es:8, 4948h ; 'HIDDEN  '
TRANGROUP:65B9					       ; mov word ptr es:[arena_name+0], 'IH'
TRANGROUP:65C0		       mov     word ptr	es:0Ah,	4444h ;	mov word ptr es:[arena_name+2],	'DD'
TRANGROUP:65C7		       mov     word ptr	es:0Ch,	4E45h ;	mov word ptr es:[arena_name+4],	'NE'
TRANGROUP:65CE		       mov     word ptr	es:0Eh,	2020h ;	mov word ptr es:[arena_name+6],	'  '
TRANGROUP:65D5		       retn
TRANGROUP:65D5 hideMCB	       endp
TRANGROUP:65D5
TRANGROUP:65D6
TRANGROUP:65D6 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:65D6
TRANGROUP:65D6
TRANGROUP:65D6 unHideMCB       proc near	       ; ...
TRANGROUP:65D6		       push    ax
TRANGROUP:65D7		       mov     word ptr	es:1, 0	; mov es:[arena_owner],	FreePSPOwner
TRANGROUP:65DE		       mov     ax, 2020h       ; mov ax, '  '
TRANGROUP:65E1		       mov     es:8, ax	       ; mov word ptr es:[arena_name+0], ax
TRANGROUP:65E5		       mov     es:0Ah, ax      ; mov word ptr es:[arena_name+2], ax
TRANGROUP:65E9		       mov     es:0Ch, ax      ; mov word ptr es:[arena_name+4], ax
TRANGROUP:65ED		       mov     es:0Eh, ax      ; mov word ptr es:[arena_name+6], ax
TRANGROUP:65F1		       pop     ax
TRANGROUP:65F2		       retn
TRANGROUP:65F2 unHideMCB       endp
TRANGROUP:65F2
TRANGROUP:65F3
TRANGROUP:65F3 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:65F3
TRANGROUP:65F3
TRANGROUP:65F3 findumb	       proc near	       ; ...
TRANGROUP:65F3		       push    ax	       ; makes ES:0 point to the first MCB in UMB given	as AL
TRANGROUP:65F4		       push    cx
TRANGROUP:65F5		       push    dx
TRANGROUP:65F6		       xor     ah, ah
TRANGROUP:65F8		       mov     dx, ax	       ; Store the to-be-found UMB number in DX
TRANGROUP:65FA		       call    UmbHead	       ; Returns first UMB segment in AX
TRANGROUP:65FD		       mov     es, ax
TRANGROUP:65FF		       xor     cx, cx	       ; Pretend we're on UMB 0 for now.
TRANGROUP:6601
TRANGROUP:6601 fu10:				       ; ...
TRANGROUP:6601		       cmp     cx, dx
TRANGROUP:6603		       jz      short fuX
TRANGROUP:6605		       call    isSysMCB	       ; Returns with ZF set if	owner is SYSTEM
TRANGROUP:6608		       jnz     short fu20
TRANGROUP:660A		       inc     cx	       ; If it _was_ SYSTEM, we're in a new UMB
TRANGROUP:660B
TRANGROUP:660B fu20:				       ; ...
TRANGROUP:660B		       mov     al, es:0	       ; mov al, es:[arena_signature]
TRANGROUP:660F		       cmp     al, 5Ah ; 'Z'   ; cmp al, arena_signature_end
TRANGROUP:6611		       jz      short fuE       ; 'Z' means this was the last MCB
TRANGROUP:6613		       mov     ax, es	       ; NextMCB (macro)
TRANGROUP:6613					       ; NextMCB es, ax
TRANGROUP:6615		       add     ax, es:3
TRANGROUP:661A		       inc     ax
TRANGROUP:661B		       mov     es, ax
TRANGROUP:661D		       jmp     short fu10
TRANGROUP:661F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:661F
TRANGROUP:661F fuE:				       ; ...
TRANGROUP:661F		       stc
TRANGROUP:6620
TRANGROUP:6620 fuX:				       ; ...
TRANGROUP:6620		       pop     dx
TRANGROUP:6621		       pop     cx
TRANGROUP:6622		       pop     ax
TRANGROUP:6623		       retn
TRANGROUP:6623 findumb	       endp
TRANGROUP:6623
TRANGROUP:6624
TRANGROUP:6624 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6624
TRANGROUP:6624
TRANGROUP:6624 BigFree	       proc near	       ; ...
TRANGROUP:6624		       push    bx	       ; makes ES:0 point to the largest free MCB in UMB given as AL
TRANGROUP:6625		       push    cx
TRANGROUP:6626		       call    findumb
TRANGROUP:6629		       jb      short bfX
TRANGROUP:662B		       xor     bx, bx	       ; Segment address of largest free MCB
TRANGROUP:662D		       xor     cx, cx	       ; Size of largest free MCB
TRANGROUP:662F
TRANGROUP:662F bf10:				       ; ...
TRANGROUP:662F		       call    isSysMCB	       ; If we've left the MCB, we're done
TRANGROUP:6632		       jz      short bf30
TRANGROUP:6634		       call    isFreeMCB       ; Returns with ZF set if	owner is 0
TRANGROUP:6637		       jnz     short bf20
TRANGROUP:6639		       cmp     cx, es:3	       ; es:[arena_size]
TRANGROUP:663E		       jg      short bf20
TRANGROUP:6640		       mov     bx, es
TRANGROUP:6642		       mov     cx, es:3
TRANGROUP:6647
TRANGROUP:6647 bf20:				       ; ...
TRANGROUP:6647		       mov     al, es:0	       ; es:[arena_signature]
TRANGROUP:664B		       cmp     al, 5Ah ; 'Z'   ; arena_signature_end
TRANGROUP:664D		       jz      short bf30
TRANGROUP:664F		       mov     ax, es	       ; NextMCB es, ax
TRANGROUP:6651		       add     ax, es:3
TRANGROUP:6656		       inc     ax
TRANGROUP:6657		       mov     es, ax
TRANGROUP:6659		       jmp     short bf10
TRANGROUP:665B ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:665B
TRANGROUP:665B bf30:				       ; ...
TRANGROUP:665B		       mov     es, bx
TRANGROUP:665D		       mov     ax, cx
TRANGROUP:665F		       or      bx, bx
TRANGROUP:6661		       jnz     short bfX       ; (if size==0, there's nothing free)
TRANGROUP:6663		       stc
TRANGROUP:6664
TRANGROUP:6664 bfX:				       ; ...
TRANGROUP:6664		       pop     cx
TRANGROUP:6665		       pop     bx
TRANGROUP:6666		       retn
TRANGROUP:6666 BigFree	       endp
TRANGROUP:6666
TRANGROUP:6667
TRANGROUP:6667 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6667
TRANGROUP:6667
TRANGROUP:6667 isSpecified     proc near	       ; ...
TRANGROUP:6667		       push    ax	       ; sets ZF if UMB	in AL wasn't specified in DH/LH line
TRANGROUP:6668		       xor     bh, bh
TRANGROUP:666A		       mov     bl, al
TRANGROUP:666C		       push    ds	       ; getdata al, ds:UmbUsed[bx]
TRANGROUP:666D		       mov     ds, ds:RESSEG
TRANGROUP:6671		       mov     al, ds:UmbUsed[bx]
TRANGROUP:6675		       pop     ds
TRANGROUP:6676		       or      al, al	       ; Sets ZF if al==0 (ie, if unspecified)
TRANGROUP:6678		       pop     ax
TRANGROUP:6679		       retn
TRANGROUP:6679 isSpecified     endp
TRANGROUP:6679
TRANGROUP:667A
TRANGROUP:667A ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:667A
TRANGROUP:667A
TRANGROUP:667A shrinkMCB       proc near	       ; ...
TRANGROUP:667A		       push    bx	       ; breaks	an MCB into two	pieces,
TRANGROUP:667A					       ; the lowest one's size==AX
TRANGROUP:667B		       push    cx
TRANGROUP:667C		       push    es
TRANGROUP:667D		       mov     bx, ax
TRANGROUP:667F		       mov     ax, es
TRANGROUP:6681		       mov     cx, es:3	       ; es:[arena_size]
TRANGROUP:6686		       sub     cx, 32	       ; MIN_SPLIT_SIZE
TRANGROUP:6689		       cmp     bx, cx	       ; {New size} vs {Current	Size-20h}
TRANGROUP:668B		       ja      short smE       ; if wanted_size	> cur-20h, abort.
TRANGROUP:668D		       mov     dl, es:0	       ; es:[arena_signature]
TRANGROUP:6692		       mov     cx, es:3	       ; es:[arena_size]
TRANGROUP:6697		       mov     es:3, bx
TRANGROUP:669C		       mov     byte ptr	es:0, 'M' ; 4Dh
TRANGROUP:66A2		       add     ax, bx
TRANGROUP:66A4		       inc     ax
TRANGROUP:66A5		       mov     es, ax	       ; move to new arena area
TRANGROUP:66A7		       mov     ax, cx
TRANGROUP:66A9		       sub     ax, bx
TRANGROUP:66AB		       dec     ax	       ; and prepare the new size
TRANGROUP:66AC		       mov     es:0, dl
TRANGROUP:66B1		       mov     word ptr	es:1, 0	; es:[arena_owner]
TRANGROUP:66B8		       mov     es:3, ax	       ; es:[arena_size]
TRANGROUP:66BC		       mov     ax, 2020h
TRANGROUP:66BF		       mov     es:8, ax	       ; es:[arena_name+0]
TRANGROUP:66C3		       mov     es:0Ah, ax
TRANGROUP:66C7		       mov     es:0Ch, ax
TRANGROUP:66CB		       mov     es:0Eh, ax      ; es:[arena_name+6]
TRANGROUP:66CF		       clc
TRANGROUP:66D0		       jmp     short smX
TRANGROUP:66D2 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:66D2
TRANGROUP:66D2 smE:				       ; ...
TRANGROUP:66D2		       stc
TRANGROUP:66D3
TRANGROUP:66D3 smX:				       ; ...
TRANGROUP:66D3		       pop     es
TRANGROUP:66D4		       pop     cx
TRANGROUP:66D5		       pop     bx
TRANGROUP:66D6		       retn
TRANGROUP:66D6 shrinkMCB       endp
TRANGROUP:66D6
TRANGROUP:66D7
TRANGROUP:66D7 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:66D7
TRANGROUP:66D7
TRANGROUP:66D7 hideUMB?	       proc near	       ; ...
TRANGROUP:66D7		       push    bx	       ; hides as appropriate the UMB in CL
TRANGROUP:66D8		       push    dx
TRANGROUP:66D9		       push    es
TRANGROUP:66DA		       mov     al, cl
TRANGROUP:66DC		       call    isSpecified     ; Returns ZF set	if al's umb was NOT specified.
TRANGROUP:66DF		       jz      short hu?20
TRANGROUP:66E1		       mov     al, cl	       ; Retrieve the size of the largest
TRANGROUP:66E3		       call    BigFree	       ; free element in AX; put its address in	ES.
TRANGROUP:66E6		       jb      short hu?20     ; Oops. Errors mean skip	this part.
TRANGROUP:66E8		       push    ax
TRANGROUP:66E9		       mov     al, cl
TRANGROUP:66EB		       call    GetSize	       ; Retrieve the user's specified
TRANGROUP:66EB					       ; minimum size for this umb (into AX).
TRANGROUP:66EE		       pop     bx	       ; Now BX==BigFree, AX==Specified	Size
TRANGROUP:66EF		       or      ax, ax
TRANGROUP:66F1		       jz      short hu?20     ; If they didn't specify one,
TRANGROUP:66F1					       ; skip over all this.
TRANGROUP:66F3		       cmp     ax, bx	       ; if (specified > max free)
TRANGROUP:66F5		       jbe     short hu?10
TRANGROUP:66F7		       mov     al, cl	       ; Then mark that	UMB as unused.
TRANGROUP:66F9		       call    unMarkUMB
TRANGROUP:66FC		       jmp     short hu?20
TRANGROUP:66FE ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:66FE
TRANGROUP:66FE hu?10:				       ; ...
TRANGROUP:66FE		       call    isTiny	       ; Returns ZF clear if user specified /S.
TRANGROUP:6701		       jz      short hu?20
TRANGROUP:6703		       call    shrinkMCB       ; They specified	/S, so shrink the MCB to AX.
TRANGROUP:6706		       jb      short hu?20     ; if didn't shrink after all, skip this
TRANGROUP:6708		       mov     dx, es
TRANGROUP:670A		       jmp     short hu?30     ; Skip the spec check.
TRANGROUP:670C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:670C
TRANGROUP:670C hu?20:				       ; ...
TRANGROUP:670C		       mov     ax, cx
TRANGROUP:670E		       call    isSpecified     ; If they specified this	UMB, we're done.
TRANGROUP:6711		       jnz     short hu?X
TRANGROUP:6713		       xor     dx, dx
TRANGROUP:6715
TRANGROUP:6715 hu?30:				       ; ...
TRANGROUP:6715		       mov     al, cl
TRANGROUP:6717		       call    hideUMB	       ; Hides everything in UMB #al
TRANGROUP:671A		       or      dx, dx	       ; Did we	shrink a UMB? If not, DX==0,
TRANGROUP:671C		       jz      short hu?X      ; So we should leave.
TRANGROUP:671E		       mov     es, dx	       ; DX==the MCB's address
TRANGROUP:6720		       call    unHideMCB       ; Un-hides the lower portion of that MCB.
TRANGROUP:6723
TRANGROUP:6723 hu?X:				       ; ...
TRANGROUP:6723		       pop     es
TRANGROUP:6724		       pop     dx
TRANGROUP:6725		       pop     bx
TRANGROUP:6726		       retn
TRANGROUP:6726 hideUMB?	       endp
TRANGROUP:6726
TRANGROUP:6727
TRANGROUP:6727 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6727
TRANGROUP:6727
TRANGROUP:6727 UnFreeze	       proc near
TRANGROUP:6727		       push    ax	       ; Marks FROZEN elements as FREE
TRANGROUP:6728		       push    es
TRANGROUP:6729		       call    UmbHead	       ; Returns with carry if err, else ES == MCB
TRANGROUP:672C		       jb      short ufX
TRANGROUP:672E		       mov     es, ax
TRANGROUP:6730
TRANGROUP:6730 uf10:				       ; ...
TRANGROUP:6730		       call    isFrozMCB       ; Returns with ZF set if	MCB is FROZEN
TRANGROUP:6733		       jnz     short uf20
TRANGROUP:6735		       call    unHideMCB
TRANGROUP:6738
TRANGROUP:6738 uf20:				       ; ...
TRANGROUP:6738		       mov     al, es:0	       ; es:[arena_signature]
TRANGROUP:673C		       cmp     al, 5Ah ; 'Z'   ; 'Z' means this was the last MCB.
TRANGROUP:673E		       jz      short ufX
TRANGROUP:6740		       mov     ax, es	       ; NextMCB es, ax
TRANGROUP:6740					       ; Go on forward.
TRANGROUP:6742		       add     ax, es:3	       ; es:[arena_size]
TRANGROUP:6747		       inc     ax
TRANGROUP:6748		       mov     es, ax
TRANGROUP:674A		       jmp     short uf10
TRANGROUP:674C ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:674C
TRANGROUP:674C ufX:				       ; ...
TRANGROUP:674C		       pop     es
TRANGROUP:674D		       pop     ax
TRANGROUP:674E		       retn
TRANGROUP:674E UnFreeze	       endp
TRANGROUP:674E
TRANGROUP:674F
TRANGROUP:674F ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:674F
TRANGROUP:674F
TRANGROUP:674F isFrozMCB       proc near	       ; ...
TRANGROUP:674F		       push    ax
TRANGROUP:6750		       mov     ax, es:1	       ; es:[arena_owner]
TRANGROUP:6754		       cmp     ax, 8	       ; SystemPSPOwner
TRANGROUP:6757		       jnz     short ifmX
TRANGROUP:6759		       mov     ax, es:8	       ; 'FROZEN  '
TRANGROUP:6759					       ; mov ax, word ptr es:[arena_name]
TRANGROUP:675D		       cmp     ax, 'RF'        ; 4256h
TRANGROUP:6760		       jnz     short ifmX
TRANGROUP:6762		       mov     ax, es:0Ah
TRANGROUP:6766		       cmp     ax, 'ZO'        ; 5A4Fh
TRANGROUP:6769		       jnz     short ifmX
TRANGROUP:676B		       mov     ax, es:0Ch
TRANGROUP:676F		       cmp     ax, 'NE'        ; 4E45h
TRANGROUP:6772		       jnz     short ifmX
TRANGROUP:6774		       mov     ax, es:0Eh
TRANGROUP:6778		       cmp     ax, '  '        ; 2020h
TRANGROUP:677B
TRANGROUP:677B ifmX:				       ; ...
TRANGROUP:677B		       pop     ax
TRANGROUP:677C		       retn
TRANGROUP:677C isFrozMCB       endp
TRANGROUP:677C
TRANGROUP:677D
TRANGROUP:677D ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:677D
TRANGROUP:677D
TRANGROUP:677D frezMCB	       proc near	       ; ...
TRANGROUP:677D		       mov     word ptr	es:1, 8	; mov es:[arena_owner],	SystemPSPOwner
TRANGROUP:6784		       mov     word ptr	es:8, 'RF' ; 'FROZEN  '
TRANGROUP:6784					       ; mov word ptr es:[arena_name+0], 'RF'
TRANGROUP:678B		       mov     word ptr	es:0Ah,	'ZO'
TRANGROUP:6792		       mov     word ptr	es:0Ch,	'NE'
TRANGROUP:6799		       mov     word ptr	es:0Eh,	'  ' ;
TRANGROUP:6799					       ; mov word ptr es:[arena_name+6], 2020h
TRANGROUP:67A0		       retn
TRANGROUP:67A0 frezMCB	       endp
TRANGROUP:67A0
TRANGROUP:67A1
TRANGROUP:67A1 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:67A1
TRANGROUP:67A1
TRANGROUP:67A1 FreezeUM	       proc near
TRANGROUP:67A1		       push    ax
TRANGROUP:67A2		       push    cx
TRANGROUP:67A3		       push    dx
TRANGROUP:67A4		       push    es
TRANGROUP:67A5		       call    GetLoadUMB
TRANGROUP:67A8		       xor     ah, ah
TRANGROUP:67AA		       mov     dx, ax	       ; Store the load	UMB in DX, so we can skip it
TRANGROUP:67AC		       call    UmbHead	       ; Returns first UMB segment in AX
TRANGROUP:67AF		       mov     es, ax
TRANGROUP:67B1		       xor     cx, cx
TRANGROUP:67B3
TRANGROUP:67B3 fum10:				       ; ...
TRANGROUP:67B3		       call    isSysMCB	       ; Returns with ZF set if	owner is SYSTEM
TRANGROUP:67B6		       jnz     short fum20
TRANGROUP:67B8		       inc     cx	       ; If it _was_ SYSTEM, we're in a new UMB.
TRANGROUP:67B9
TRANGROUP:67B9 fum20:				       ; ...
TRANGROUP:67B9		       cmp     cx, dx
TRANGROUP:67BB		       jz      short fum30
TRANGROUP:67BD		       call    isFreeMCB       ; If it's not free, we can't freeze it.
TRANGROUP:67C0		       jnz     short fum30
TRANGROUP:67C2		       call    frezMCB
TRANGROUP:67C5
TRANGROUP:67C5 fum30:				       ; ...
TRANGROUP:67C5		       mov     al, es:0	       ; es:[arena_signature]
TRANGROUP:67C9		       cmp     al, 'Z'         ; arena_signature_end
TRANGROUP:67CB		       jz      short fumX      ; 'Z' means this was the last MCB.
TRANGROUP:67CD		       mov     ax, es	       ; NextMCB es, ax
TRANGROUP:67CD					       ; Go on forward.
TRANGROUP:67CF		       add     ax, es:3	       ; es:[arena_size]
TRANGROUP:67D4		       inc     ax
TRANGROUP:67D5		       mov     es, ax
TRANGROUP:67D7		       jmp     short fum10
TRANGROUP:67D9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:67D9
TRANGROUP:67D9 fumX:				       ; ...
TRANGROUP:67D9		       pop     es
TRANGROUP:67DA		       pop     dx
TRANGROUP:67DB		       pop     cx
TRANGROUP:67DC		       pop     ax
TRANGROUP:67DD		       retn
TRANGROUP:67DD FreezeUM	       endp
TRANGROUP:67DD
TRANGROUP:67DE
TRANGROUP:67DE ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:67DE
TRANGROUP:67DE
TRANGROUP:67DE UmbTest	       proc near	       ; ...
TRANGROUP:67DE		       push    ax	       ; returns with carry set	if UMBs	are not	available,
TRANGROUP:67DE					       ; else CF==false
TRANGROUP:67DF		       push    bx
TRANGROUP:67E0		       push    ds
TRANGROUP:67E1		       push    es
TRANGROUP:67E2		       call    fm_link	       ; Link in UMBs (if not already linked)
TRANGROUP:67E5		       call    WalkMem	       ; Check to see if they're really linked
TRANGROUP:67E8		       pushf		       ; remember what we found	out.
TRANGROUP:67E9		       call    fm_unlink       ; Unlink	UMBs (if WE have linked	them)
TRANGROUP:67EC		       popf		       ; restore what we found out.
TRANGROUP:67ED		       pop     es
TRANGROUP:67EE		       pop     ds
TRANGROUP:67EF		       pop     bx
TRANGROUP:67F0		       pop     ax
TRANGROUP:67F1		       retn
TRANGROUP:67F1 UmbTest	       endp
TRANGROUP:67F1
TRANGROUP:67F2
TRANGROUP:67F2 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:67F2
TRANGROUP:67F2
TRANGROUP:67F2 WalkMem	       proc near	       ; ...
TRANGROUP:67F2		       push    ax	       ; travels memory	chain
TRANGROUP:67F2					       ; and returns carry clear if UMBs are linked
TRANGROUP:67F3		       push    bx
TRANGROUP:67F4		       push    es
TRANGROUP:67F5		       mov     ah, 52h	       ; DOS_GET_DOS_LISTS
TRANGROUP:67F7		       int     21h	       ; DOS - 2+ internal - GET LIST OF LISTS
TRANGROUP:67F7					       ; Return: ES:BX -> DOS list of lists
TRANGROUP:67F9		       mov     ax, es:[bx-2]
TRANGROUP:67FD		       mov     es, ax
TRANGROUP:67FF
TRANGROUP:67FF um10:				       ; ...
TRANGROUP:67FF		       mov     al, es:0	       ; es:[arena_signature]
TRANGROUP:6803		       cmp     al, 'Z'         ; 5Ah, arena_signature_end
TRANGROUP:6805		       jz      short um20
TRANGROUP:6807		       mov     bx, es	       ; NextMCB es, bx
TRANGROUP:6809		       add     bx, es:3
TRANGROUP:680E		       inc     bx
TRANGROUP:680F		       mov     es, bx
TRANGROUP:6811		       jmp     short um10
TRANGROUP:6813 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6813
TRANGROUP:6813 um20:				       ; ...
TRANGROUP:6813		       mov     ax, es
TRANGROUP:6815		       cmp     ax, 9FFFh       ;  This sets CF if ax < 9FFF.
TRANGROUP:6818		       pop     es
TRANGROUP:6819		       pop     bx
TRANGROUP:681A		       pop     ax
TRANGROUP:681B		       retn
TRANGROUP:681B WalkMem	       endp
TRANGROUP:681B
TRANGROUP:681C
TRANGROUP:681C ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:681C
TRANGROUP:681C
TRANGROUP:681C hl_unlink       proc near	       ; ...
TRANGROUP:681C		       xor     bh, bh
TRANGROUP:681E		       push    ds
TRANGROUP:681F		       mov     ds, ds:RESSEG
TRANGROUP:6823		       mov     bl, ds:fm_umb   ; Restore original link-state
TRANGROUP:6827		       pop     ds
TRANGROUP:6828		       mov     ax, 5803h       ; DOS_SET_UMBLINK
TRANGROUP:682B		       int     21h	       ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
TRANGROUP:682B					       ; AL = function code: (DOS 5beta) set UMB link state
TRANGROUP:682D		       xor     bh, bh
TRANGROUP:682F		       push    ds
TRANGROUP:6830		       mov     ds, ds:RESSEG
TRANGROUP:6834		       mov     bl, ds:fm_strat ; Restore original mem-alloc strategy
TRANGROUP:6838		       pop     ds
TRANGROUP:6839		       mov     ax, 5801h       ; DOS_SET_STRATEGY
TRANGROUP:683C		       int     21h	       ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
TRANGROUP:683C					       ; AL = function code: set allocation strategy
TRANGROUP:683E		       retn
TRANGROUP:683E hl_unlink       endp
TRANGROUP:683E
TRANGROUP:683F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:683F
TRANGROUP:683F LoadHigh:			       ; ...
TRANGROUP:683F		       push    ds
TRANGROUP:6840		       pop     es
TRANGROUP:6841		       call    ParseLhCmd      ; parse the command line
TRANGROUP:6844		       jb      short LhErr
TRANGROUP:6846		       call    SetupCmdLine    ; setup pgm's command line
TRANGROUP:6849		       call    SetupPath       ; setup path for	file
TRANGROUP:684C		       jb      short LhErr
TRANGROUP:684E		       call    HideUMBs	       ; prepare upper-memory for load
TRANGROUP:6851		       jmp     LH_EXECUTE      ; go and	exec file
TRANGROUP:6854 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6854
TRANGROUP:6854 LhErr:				       ; ...
TRANGROUP:6854		       jmp     cerror	       ; print error message and recycle
TRANGROUP:6857
TRANGROUP:6857 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6857
TRANGROUP:6857
TRANGROUP:6857 ParseLhCmd      proc near	       ; ...
TRANGROUP:6857		       mov     si, 81h	       ; iCmdLine
TRANGROUP:6857					       ; ds:si points at command line
TRANGROUP:685A		       push    es
TRANGROUP:685B		       push    ds
TRANGROUP:685C		       pop     es
TRANGROUP:685D		       call    InitVar	       ; Initialize data for ParseVar
TRANGROUP:6860		       call    ParseVar	       ; And parse the command line
TRANGROUP:6863		       pop     es
TRANGROUP:6864		       jnb     short plcC
TRANGROUP:6866		       cmp     ax, 2	       ; PV_BadUMB ; Bad UMB passed?
TRANGROUP:6869		       jnz     short plc10
TRANGROUP:686B		       mov     dx, offset LhBadUMB_Ptr
TRANGROUP:686E		       stc
TRANGROUP:686F		       retn
TRANGROUP:6870 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6870
TRANGROUP:6870 plc10:				       ; ...
TRANGROUP:6870		       mov     dx, offset LhInvSwt_Ptr
TRANGROUP:6873		       cmp     ax, 3	       ; PV_InvSwt ; Unrecognized switch passed?
TRANGROUP:6876		       jz      short plc20
TRANGROUP:6878		       mov     dx, offset LhInvArg_Ptr
TRANGROUP:687B
TRANGROUP:687B plc20:				       ; ...
TRANGROUP:687B		       stc
TRANGROUP:687C		       retn
TRANGROUP:687D ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:687D
TRANGROUP:687D plcC:				       ; ...
TRANGROUP:687D		       call    LhCopyFilename  ; copy filename into our	buffer
TRANGROUP:6880		       retn
TRANGROUP:6880 ParseLhCmd      endp
TRANGROUP:6880
TRANGROUP:6881
TRANGROUP:6881 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:6881
TRANGROUP:6881
TRANGROUP:6881 LhCopyFilename  proc near	       ; ...
TRANGROUP:6881		       mov     di, offset EXECPATH
TRANGROUP:6884		       mov     cx, 0
TRANGROUP:6887
TRANGROUP:6887 lhcpfn1:				       ; ...
TRANGROUP:6887		       lodsb
TRANGROUP:6888		       cmp     al, '*'         ; wildcard? (*)
TRANGROUP:688A		       jz      short lhfilerr
TRANGROUP:688C		       cmp     al, '?'         ; wildcard? (?)
TRANGROUP:688E		       jz      short lhfilerr
TRANGROUP:6890		       cmp     al, 0Dh	       ; carriage return?
TRANGROUP:6892		       jz      short lhcpfn2
TRANGROUP:6894		       cmp     al, ds:SWITCHAR ; '/'?
TRANGROUP:6898		       jz      short lhcpfn2
TRANGROUP:689A		       or      al, al	       ; EOS?
TRANGROUP:689C		       jz      short lhcpfn2
TRANGROUP:689E		       cmp     al, 20h ; ' '   ; Space?
TRANGROUP:68A0		       jz      short lhcpfn2
TRANGROUP:68A2		       or      al, al
TRANGROUP:68A4		       jz      short lhcpfn2
TRANGROUP:68A6		       stosb		       ; store char
TRANGROUP:68A7		       inc     cx	       ; number	of chars stored
TRANGROUP:68A8		       jmp     short lhcpfn1
TRANGROUP:68AA ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:68AA
TRANGROUP:68AA lhcpfn2:				       ; ...
TRANGROUP:68AA		       xor     al, al
TRANGROUP:68AC		       stosb
TRANGROUP:68AD		       or      cx, cx	       ; If we didn't copy any characters,
TRANGROUP:68AF		       jz      short lhmissing ; they didn't give a filename.
TRANGROUP:68B1		       dec     si
TRANGROUP:68B2		       clc
TRANGROUP:68B3		       retn
TRANGROUP:68B4 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:68B4
TRANGROUP:68B4 lhfilerr:			       ; ...
TRANGROUP:68B4		       mov     dx, offset LhInvFil_Ptr ; "Invalid Filename"
TRANGROUP:68B7		       stc
TRANGROUP:68B8		       retn
TRANGROUP:68B9 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:68B9
TRANGROUP:68B9 lhmissing:			       ; ...
TRANGROUP:68B9		       mov     dx, offset ReqParmMiss ;	"Required parm missing"
TRANGROUP:68BC		       stc
TRANGROUP:68BD		       retn
TRANGROUP:68BD LhCopyFilename  endp
TRANGROUP:68BD
TRANGROUP:68BE
TRANGROUP:68BE ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:68BE
TRANGROUP:68BE
TRANGROUP:68BE SetupCmdLine    proc near	       ; ...
TRANGROUP:68BE		       mov     di, 81h	       ; iCmdLine
TRANGROUP:68C1		       xor     cl, cl
TRANGROUP:68C3		       dec     cl	       ; just CR means count = 0
TRANGROUP:68C5
TRANGROUP:68C5 scmdl1:				       ; ...
TRANGROUP:68C5		       lodsb
TRANGROUP:68C6		       stosb
TRANGROUP:68C7		       inc     cl	       ; update	count
TRANGROUP:68C9		       or      al, al
TRANGROUP:68CB		       jz      short scmdl2
TRANGROUP:68CD		       cmp     al, 0Dh	       ; carriage return?
TRANGROUP:68CF		       jnz     short scmdl1    ; no, continue storing
TRANGROUP:68D1
TRANGROUP:68D1 scmdl2:				       ; ...
TRANGROUP:68D1		       mov     es:80h, cl      ; store new cmd line length
TRANGROUP:68D6		       retn
TRANGROUP:68D6 SetupCmdLine    endp
TRANGROUP:68D6
TRANGROUP:68D7
TRANGROUP:68D7 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:68D7
TRANGROUP:68D7
TRANGROUP:68D7 LhSetupErrMsg   proc near	       ; ...
TRANGROUP:68D7		       mov     ds:msg_disp_class, 1 ; EXT_MSG_CLASS
TRANGROUP:68DC		       mov     dx, offset extend_buf_ptr
TRANGROUP:68DF		       mov     ds:extend_buf_ptr, ax
TRANGROUP:68E2		       retn
TRANGROUP:68E2 LhSetupErrMsg   endp
TRANGROUP:68E2
TRANGROUP:68E3
TRANGROUP:68E3 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:68E3
TRANGROUP:68E3
TRANGROUP:68E3 SetupPath       proc near	       ; ...
TRANGROUP:68E3		       mov     ax, ds:ARG_ARGVCNT ; arg.argvcnt
TRANGROUP:68E3					       ; total number of arguments
TRANGROUP:68E6		       dec     ax
TRANGROUP:68E7		       mov     bx, 11	       ; SIZE Argv_ele
TRANGROUP:68EA		       mul     bx	       ; dx:ax = size of argument lists
TRANGROUP:68EC		       push    ds	       ; getdata (macro)
TRANGROUP:68EC					       ; getdata cl, fm_argc
TRANGROUP:68EC					       ; CL = number of	arguments to skip
TRANGROUP:68ED		       mov     ds, ds:RESSEG
TRANGROUP:68F1		       mov     cl, ds:fm_argc
TRANGROUP:68F5		       pop     ds
TRANGROUP:68F6		       inc     cl	       ; Skip one arg, to get over "lh"
TRANGROUP:68F8
TRANGROUP:68F8 argloop:				       ; ...
TRANGROUP:68F8		       jcxz    short argdone
TRANGROUP:68FA		       dec     cx
TRANGROUP:68FB		       push    ax
TRANGROUP:68FC		       push    cx
TRANGROUP:68FD		       mov     cx, ax
TRANGROUP:68FF		       mov     di, offset ARG_ARGV ; offset TRANGROUP:Arg
TRANGROUP:68FF					       ; Copy TO argv[0]
TRANGROUP:6902		       mov     si, di
TRANGROUP:6904		       add     si, 11	       ; SIZE Argv_ele
TRANGROUP:6904					       ; Copy FROM argv[1]
TRANGROUP:6907		       cld
TRANGROUP:6908		       rep movsb	       ; Move the argument list
TRANGROUP:690A		       dec     ds:ARG_ARGVCNT  ; arg.argvcnt
TRANGROUP:690A					       ; Fake one less argument, and
TRANGROUP:690E		       sub     ax, 11	       ; there's one argument we don't copy.
TRANGROUP:6911		       pop     cx
TRANGROUP:6912		       pop     ax
TRANGROUP:6913		       jmp     short argloop
TRANGROUP:6915 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6915
TRANGROUP:6915 argdone:				       ; ...
TRANGROUP:6915		       call    path_search     ; look in the path
TRANGROUP:6915					       ;
TRANGROUP:6915					       ; ax = 0, no file found
TRANGROUP:6915					       ; ax < 4, batch file found -- cant be executed
TRANGROUP:6915					       ; ax = 4,8 => .com or .exe file found
TRANGROUP:6915					       ;
TRANGROUP:6918		       or      ax, ax	       ; any file found?
TRANGROUP:691A		       jz      short no_exec_file ; no,	error
TRANGROUP:691C		       cmp     ax, 4	       ; executable file?
TRANGROUP:691F		       jl      short no_exec_bat ; no, indicate	fail
TRANGROUP:6921		       clc
TRANGROUP:6922		       retn
TRANGROUP:6923 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6923
TRANGROUP:6923 no_exec_bat:			       ; ...
TRANGROUP:6923		       mov     dx, offset NoExecBat_Ptr	; offset TRANGROUP:NoExecBat_Ptr
TRANGROUP:6923					       ; Setup message ptr
TRANGROUP:6926		       jmp     short lhsp_errret
TRANGROUP:6928 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6928
TRANGROUP:6928 no_exec_file:			       ; ...
TRANGROUP:6928		       mov     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:692B		       call    LhSetupErrMsg   ; setup error message
TRANGROUP:692E
TRANGROUP:692E lhsp_errret:			       ; ...
TRANGROUP:692E		       stc
TRANGROUP:692F		       retn
TRANGROUP:692F SetupPath       endp
TRANGROUP:692F
TRANGROUP:692F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:6930 $M_CLASS_3_STRUC	db 0FFh		       ; ...
TRANGROUP:6931		       dw 1606h		       ; $M_COMMAND_VER	(COMMAND.COM version)
TRANGROUP:6933		       db 187		       ; Total number of messages
TRANGROUP:6934 $M_ID_3_1       dw 1020
TRANGROUP:6936		       dw 748
TRANGROUP:6938 $M_ID_3_2       dw 1015
TRANGROUP:693A		       dw 760
TRANGROUP:693C $M_ID_3_3       dw 1004,	792,1026, 814,1031, 830,1035, 841,1062,	852
TRANGROUP:693C		       dw 1028,	863,1045, 893,1041, 918,1042, 948,1043,	971
TRANGROUP:693C		       dw 1002,	999,1003,1035,1007,1059,1008,1082,1009,1100
TRANGROUP:693C		       dw 1010,1117,1011,1145,1014,1168,1016,1181,1017,1219
TRANGROUP:693C		       dw 1018,1252,1019,1268,1021,1276,1022,1302,1023,1337
TRANGROUP:693C		       dw 1024,1377,1025,1396,1027,1416,1029,1445,1030,1459
TRANGROUP:693C		       dw 1032,1470,1033,1490,1034,1508,1036,1526,1037,1543
TRANGROUP:693C		       dw 1038,1556,1039,1571,1040,1628,1044,1645,1046,1661
TRANGROUP:693C		       dw 1047,1712,1048,1733,1049,1747,1050,1753,1051,1780
TRANGROUP:693C		       dw 1052,1793,1053,1812,1054,1846,1055,1881,1056,1891
TRANGROUP:693C		       dw 1057,1902,1059,1911,1060,1912,1061,1912,1063,1934
TRANGROUP:693C		       dw 1064,1933,1065,1932,1066,1931,1067,1930,1068,1928
TRANGROUP:693C		       dw 1069,1935,1070,1935,1071,1934,1072,1933,1073,1939
TRANGROUP:693C		       dw 1074,1945,1075,1951,1076,1953,1077,1952,1078,1956
TRANGROUP:693C		       dw 1079,1979,1080,1986,1081,2004,1082,2043,1083,2047
TRANGROUP:693C		       dw 1084,2046,1090,2058,1091,2068,1092,2078,1093,2088
TRANGROUP:693C		       dw 1094,2105,1095,2130,1096,2155,1097,2200,1098,2225
TRANGROUP:693C		       dw 1099,2250,1100,2268,1101,2302,1102,2313,1103,2367
TRANGROUP:693C		       dw 1104,2390,1105,2390,1200,2391,1300,2388,1320,2519
TRANGROUP:693C		       dw 1321,2579,1340,2688,1341,2776,1342,2871,1360,3013
TRANGROUP:693C		       dw 1400,3037,1401,3190,1402,3291,1403,3406,1404,3466
TRANGROUP:693C		       dw 1405,3579,1406,3690,1407,3753,1420,3885,1440,4020
TRANGROUP:693C		       dw 1441,4110,1460,4238,1461,4335,1462,4463,1480,4539
TRANGROUP:693C		       dw 1481,4673,1482,4700,1483,4777,1484,4863,1485,4986
TRANGROUP:693C		       dw 1486,5106,1487,5252,1488,5319,1489,5443,1490,5505
TRANGROUP:693C		       dw 1491,5529,1492,5608,1493,5751,1494,5770,1500,5796
TRANGROUP:693C		       dw 1520,5855,1540,5913,1541,6003,1542,6107,1560,6163
TRANGROUP:693C		       dw 1561,6215,1562,6336,1563,6380,1564,6419,1565,6477
TRANGROUP:693C		       dw 1566,6526,1567,6567,1568,6685,1580,6758,1600,6826
TRANGROUP:693C		       dw 1601,6851,1602,6931,1620,7088,1621,7172,1622,7298
TRANGROUP:693C		       dw 1640,7370,1641,7412,1660,7540,1680,7607,1700,7641
TRANGROUP:693C		       dw 1720,7815,1740,7894,1741,7982,1760,8093,1780,8166
TRANGROUP:693C		       dw 1800,8270,1801,8344,1820,8428,1821,8496,1840,8631
TRANGROUP:693C		       dw 1860,8702,1861,8789,1862,8856,1863,8978,1864,9137
TRANGROUP:693C		       dw 1865,9236,1866,9339,1880,9439,1881,9555,1882,9677
TRANGROUP:693C		       dw 1883,9760,1900,9919,1920,9939,1921,9983,1922,10137
TRANGROUP:693C		       dw 1923,10316,1924,10446,1925,10570,1926,10698
TRANGROUP:6C1C $M_ID_3_187     dw 1927		       ; Message Number	= 1927
TRANGROUP:6C1E		       dw 10782		       ; Message offset	from message number
TRANGROUP:6C20 MSG_1020	       db 0Fh
TRANGROUP:6C21		       db '%1 bytes free',0Dh,0Ah
TRANGROUP:6C30 MSG_1015	       db 23h
TRANGROUP:6C31		       db 'File cannot be copied onto itself',0Dh,0Ah
TRANGROUP:6C54 MSG_1004	       db 19h
TRANGROUP:6C55		       db 'Insufficient disk space',0Dh,0Ah
TRANGROUP:6C6E MSG_1026	       db 13h
TRANGROUP:6C6F		       db 'Invalid code page',0Dh,0Ah
TRANGROUP:6C82 MSG_1031	       db 0Eh
TRANGROUP:6C83		       db 'Invalid date',0Dh,0Ah
TRANGROUP:6C91 MSG_1035	       db 0Eh
TRANGROUP:6C92		       db 'Invalid time',0Dh,0Ah
TRANGROUP:6CA0 MSG_1062	       db 0Eh
TRANGROUP:6CA1		       db 'Invalid path',0Dh,0Ah
TRANGROUP:6CAF MSG_1028	       db 21h
TRANGROUP:6CB0		       db 'Press any key to continue . . .',0Dh,0Ah
TRANGROUP:6CD1 MSG_1045	       db 1Ch
TRANGROUP:6CD2		       db 'Unable to create directory',0Dh,0Ah
TRANGROUP:6CEE MSG_1041	       db 21h
TRANGROUP:6CEF		       db 'Volume in drive %1 has no label',0Dh,0Ah
TRANGROUP:6D10 MSG_1042	       db 1Ah
TRANGROUP:6D11		       db 'Volume in drive %1 is %2',0Dh,0Ah
TRANGROUP:6D2B MSG_1043	       db 1Fh
TRANGROUP:6D2C		       db 'Volume Serial Number is %1-%2',0Dh,0Ah
TRANGROUP:6D4B MSG_1002	       db 27h
TRANGROUP:6D4C		       db 'Duplicate file name or file not found',0Dh,0Ah
TRANGROUP:6D73 MSG_1003	       db 1Bh
TRANGROUP:6D74		       db 'Invalid path or file name',0Dh,0Ah
TRANGROUP:6D8F MSG_1007	       db 1Ah
TRANGROUP:6D90		       db 'Out of environment space',0Dh,0Ah
TRANGROUP:6DAA MSG_1008	       db 15h
TRANGROUP:6DAB		       db 'File creation error',0Dh,0Ah
TRANGROUP:6DC0 MSG_1009	       db 14h
TRANGROUP:6DC1		       db 'Batch file missing',0Dh,0Ah
TRANGROUP:6DD5 MSG_1010	       db 1Fh
TRANGROUP:6DD6		       db 0Dh,0Ah
TRANGROUP:6DD6		       db 'Insert disk with batch file',0Dh,0Ah
TRANGROUP:6DF5 MSG_1011	       db 1Ah
TRANGROUP:6DF6		       db 'Bad command or file name',0Dh,0Ah
TRANGROUP:6E10 MSG_1014	       db 10h
TRANGROUP:6E11		       db 'Access denied ',0Dh,0Ah
TRANGROUP:6E21 MSG_1016	       db 29h
TRANGROUP:6E22		       db 'Content of destination lost before copy',0Dh,0Ah
TRANGROUP:6E4B MSG_1017	       db 24h
TRANGROUP:6E4C		       db 'Invalid filename or file not found',0Dh,0Ah
TRANGROUP:6E70		       db 13h
TRANGROUP:6E71		       db '%1 file(s) copied',0Dh,0Ah
TRANGROUP:6E84		       db 0Bh
TRANGROUP:6E85		       db '%1 file(s) '
TRANGROUP:6E90		       db 1Dh
TRANGROUP:6E91		       db 'Invalid drive specification',0Dh,0Ah
TRANGROUP:6EAE		       db 26h
TRANGROUP:6EAF		       db 'Code page %1 not prepared for system',0Dh,0Ah
TRANGROUP:6ED5		       db 2Bh
TRANGROUP:6ED6		       db 'Code page %1 not prepared for all devices',0Dh,0Ah
TRANGROUP:6F01		       db 16h
TRANGROUP:6F02		       db 'Active code page: %1',0Dh,0Ah
TRANGROUP:6F18		       db 17h
TRANGROUP:6F19		       db 'NLSFUNC not installed',0Dh,0Ah
TRANGROUP:6F30		       db 20h
TRANGROUP:6F31		       db 'Current drive is no longer valid'
TRANGROUP:6F51		       db 11h
TRANGROUP:6F52		       db 'Label not found',0Dh,0Ah
TRANGROUP:6F63		       db 0Eh
TRANGROUP:6F64		       db 'Syntax error',0Dh,0Ah
TRANGROUP:6F72		       db 17h
TRANGROUP:6F73		       db 'Current date is %1 %2',0Dh,0Ah
TRANGROUP:6F8A		       db 15h
TRANGROUP:6F8B		       db 'SunMonTueWedThuFriSat'
TRANGROUP:6FA0		       db 15h
TRANGROUP:6FA1		       db 'Enter new date (%1): '
TRANGROUP:6FB6		       db 14h
TRANGROUP:6FB7		       db 'Current time is %1',0Dh,0Ah
TRANGROUP:6FCB		       db 10h
TRANGROUP:6FCC		       db 'Enter new time: '
TRANGROUP:6FDC		       db 12h
TRANGROUP:6FDD		       db ',    Delete (Y/N)?'
TRANGROUP:6FEF		       db 3Ch
TRANGROUP:6FF0		       db 'All files in directory will be deleted!',0Dh,0Ah
TRANGROUP:6FF0		       db 'Are you sure (Y/N)?'
TRANGROUP:702C		       db 14h
TRANGROUP:702D		       db 'MS-DOS Version %1.%2'
TRANGROUP:7041		       db 13h
TRANGROUP:7042		       db 'Invalid directory',0Dh,0Ah
TRANGROUP:7055		       db 36h
TRANGROUP:7056		       db 'Invalid path, not directory,',0Dh,0Ah
TRANGROUP:7056		       db 'or directory not empty',0Dh,0Ah
TRANGROUP:708C		       db 18h
TRANGROUP:708D		       db 'Must specify ON or OFF',0Dh,0Ah
TRANGROUP:70A5		       db 11h
TRANGROUP:70A6		       db 'Directory of %1',0Dh,0Ah
TRANGROUP:70B7		       db 9
TRANGROUP:70B8		       db 'No Path',0Dh,0Ah
TRANGROUP:70C1		       db 1Eh
TRANGROUP:70C2		       db 'Invalid drive in search path',0Dh,0Ah
TRANGROUP:70E0		       db 10h
TRANGROUP:70E1		       db 'Invalid device',0Dh,0Ah
TRANGROUP:70F1		       db 16h
TRANGROUP:70F2		       db 'FOR cannot be nested',0Dh,0Ah
TRANGROUP:7108		       db 25h
TRANGROUP:7109		       db 'Intermediate file error during pipe',0Dh,0Ah
TRANGROUP:712E		       db 26h
TRANGROUP:712F		       db 'Cannot do binary reads from a device',0Dh,0Ah
TRANGROUP:7155 MSG_1055	       db 0Dh
TRANGROUP:7156		       db 'BREAK is %1',0Dh,0Ah
TRANGROUP:7163		       db 0Eh
TRANGROUP:7164		       db 'VERIFY is %1',0Dh,0Ah
TRANGROUP:7172		       db 0Ch
TRANGROUP:7173		       db 'ECHO is %1',0Dh,0Ah
TRANGROUP:717F		       db 4
TRANGROUP:7180		       db 'off',0
TRANGROUP:7184		       db 3
TRANGROUP:7185		       db 'on',0
TRANGROUP:7188 MSG_1061	       db 19h
TRANGROUP:7189		       db 'Error writing to device',0Dh,0Ah
TRANGROUP:71A2 MSG_1063	       db 2
TRANGROUP:71A3		       db '%1'
TRANGROUP:71A5		       db 2
TRANGROUP:71A6		       db '%1'
TRANGROUP:71A8		       db 2
TRANGROUP:71A9		       db '%1'
TRANGROUP:71AB		       db 2
TRANGROUP:71AC		       db '%1'
TRANGROUP:71AE MSG_1067	       db 1
TRANGROUP:71AF		       db 9
TRANGROUP:71B0 MSG_1068	       db 10
TRANGROUP:71B1		       db ' <DIR>    '
TRANGROUP:71BB		       db 3
TRANGROUP:71BC		       db    8,	20h,   8
TRANGROUP:71BF MSG_1070	       db 2
TRANGROUP:71C0		       db  0Dh,	0Ah
TRANGROUP:71C2		       db 2
TRANGROUP:71C3		       db '%1'
TRANGROUP:71C5 MSG_1072	       db 9
TRANGROUP:71C6		       db 'mm-dd-yy',0
TRANGROUP:71CF MSG_1073	       db 9
TRANGROUP:71D0		       db 'dd-mm-yy',0
TRANGROUP:71D9 MSG_1074	       db 9
TRANGROUP:71DA		       db 'yy-mm-dd',0
TRANGROUP:71E3 MSG_1075	       db 5
TRANGROUP:71E4		       db '%1 %2'
TRANGROUP:71E9		       db 2
TRANGROUP:71EA		       db '%1'
TRANGROUP:71EC		       db 7
TRANGROUP:71ED		       db ' %1  %2'
TRANGROUP:71F4 MSG_1078	       db 1Ah
TRANGROUP:71F5		       db 'Directory already exists',0Dh,0Ah
TRANGROUP:720F MSG_1079	       db 10
TRANGROUP:7210		       db '%1 bytes',0Dh,0Ah
TRANGROUP:721A MSG_1080	       db 15h
TRANGROUP:721B		       db 'Total files listed:',0Dh,0Ah
TRANGROUP:7230		       db 2Ah
TRANGROUP:7231		       db '(Error occurred in environment variable)',0Dh,0Ah
TRANGROUP:725B MSG_1082	       db 7
TRANGROUP:725C		       db ' [Y/N]?'
TRANGROUP:7263 MSG_1083	       db 2
TRANGROUP:7264		       db 'YN'
TRANGROUP:7266 MSG_1084	       db 0Fh
TRANGROUP:7267		       db '(continuing %1)'
TRANGROUP:7276		       db 0Dh
TRANGROUP:7277		       db 'Revision %1',0Dh,0Ah
TRANGROUP:7284		       db 0Dh
TRANGROUP:7285		       db 'DOS is in ROM'
TRANGROUP:7292		       db 0Dh
TRANGROUP:7293		       db 'DOS is in HMA'
TRANGROUP:72A0		       db 14h
TRANGROUP:72A1		       db 'DOS is in low memory'
TRANGROUP:72B5		       db 1Ch
TRANGROUP:72B6		       db 'Cannot Loadhigh batch file',0Dh,0Ah
TRANGROUP:72D2 MSG_1095	       db 28
TRANGROUP:72D3		       db 'LoadHigh: Invalid filename',0Dh,0Ah
TRANGROUP:72EF		       db 30h
TRANGROUP:72F0		       db 'Cannot open specified country information file',0Dh,0Ah
TRANGROUP:7320 MSG_1097	       db 28
TRANGROUP:7321		       db 'LoadHigh: Invalid argument',0Dh,0Ah
TRANGROUP:733D MSG_1098	       db 28
TRANGROUP:733E		       db 'Required parameter missing',0Dh,0Ah
TRANGROUP:735A		       db 21
TRANGROUP:735B		       db 'Unrecognized switch',0Dh,0Ah
TRANGROUP:7370		       db 37
TRANGROUP:7371		       db 'A bad UMB number has been specified',0Dh,0Ah
TRANGROUP:7396 MSG_1101	       db 14
TRANGROUP:7397		       db '  %1.%2 to 1.0'
TRANGROUP:73A5 MSG_1102	       db 57
TRANGROUP:73A6		       db '                 %1.%2 to 1.0 average compression ratio',0Dh,0Ah
TRANGROUP:73DF MSG_1103	       db 26
TRANGROUP:73E0		       db 'Overwrite %1 (Yes/No/All)?'
TRANGROUP:73FA MSG_1104	       db 3		       ; ...
TRANGROUP:73FB _Y_es	       db 'Y'                  ; ...
TRANGROUP:73FC _N_o	       db 'N'                  ; ...
TRANGROUP:73FD _A_ll	       db 'A'                  ; ...
TRANGROUP:73FE MSG_1105	       db 4
TRANGROUP:73FF		       db '    '
TRANGROUP:7403 MSG_1200	       db 0
TRANGROUP:7404 MSG_1300	       db 86h
TRANGROUP:7405		       db 'Sets or clears extended CTRL+C checking.',0Dh,0Ah
TRANGROUP:7405		       db 0Dh,0Ah
TRANGROUP:7405		       db 'BREAK [ON | OFF]',0Dh,0Ah
TRANGROUP:7405		       db 0Dh,0Ah
TRANGROUP:7405		       db 'Type BREAK without a parameter to display the current BREAK setti'
TRANGROUP:7405		       db 'ng.',0Dh,0Ah
TRANGROUP:748B		       db 3Fh
TRANGROUP:748C		       db 'Displays or sets the active code page number.',0Dh,0Ah
TRANGROUP:748C		       db 0Dh,0Ah
TRANGROUP:748C		       db 'CHCP [nnn]',0Dh,0Ah
TRANGROUP:748C		       db 0Dh,0Ah
TRANGROUP:74CB		       db 70h
TRANGROUP:74CC		       db '  nnn   Specifies a code page number.',0Dh,0Ah
TRANGROUP:74CC		       db 0Dh,0Ah
TRANGROUP:74CC		       db 'Type CHCP without a parameter to display the active code page num'
TRANGROUP:74CC		       db 'ber.',0Dh,0Ah
TRANGROUP:753C		       db 5Bh
TRANGROUP:753D		       db 'Displays the name of or changes the current directory.',0Dh,0Ah
TRANGROUP:753D		       db 0Dh,0Ah
TRANGROUP:753D		       db 'CHDIR [drive:][path]',0Dh,0Ah
TRANGROUP:753D		       db 'CHDIR[..]',0Dh,0Ah
TRANGROUP:7598		       db 62h
TRANGROUP:7599		       db 'CD [drive:][path]',0Dh,0Ah
TRANGROUP:7599		       db 'CD[..]',0Dh,0Ah
TRANGROUP:7599		       db 0Dh,0Ah
TRANGROUP:7599		       db '  ..   Specifies that you want to change to the parent directory.'
TRANGROUP:7599		       db 0Dh,0Ah
TRANGROUP:7599		       db 0Dh,0Ah
TRANGROUP:75FB		       db 91h
TRANGROUP:75FC		       db 'Type CD drive: to display the current directory in the specified '
TRANGROUP:75FC		       db 'drive.',0Dh,0Ah
TRANGROUP:75FC		       db 'Type CD without parameters to display the current drive and direc'
TRANGROUP:75FC		       db 'tory.',0Dh,0Ah
TRANGROUP:768D		       db 1Bh
TRANGROUP:768E		       db 'Clears the screen.',0Dh,0Ah
TRANGROUP:768E		       db 0Dh,0Ah
TRANGROUP:768E		       db 'CLS',0Dh,0Ah
TRANGROUP:76A9 MSG_1400	       db 156
TRANGROUP:76AA		       db 'Copies one or more files to another location.',0Dh,0Ah
TRANGROUP:76AA		       db 0Dh,0Ah
TRANGROUP:76AA		       db 'COPY [/A | /B] source [/A | /B] [+ source [/A | /B] [+ ...]] [des'
TRANGROUP:76AA		       db 'tination',0Dh,0Ah
TRANGROUP:76AA		       db '  [/A | /B]] [/V] [/Y | /-Y]',0Dh,0Ah
TRANGROUP:76AA		       db 0Dh,0Ah
TRANGROUP:7746		       db 68h
TRANGROUP:7747		       db '  source       Specifies the file or files to be copied.',0Dh,0Ah
TRANGROUP:7747		       db '  /A           Indicates an ASCII text file.',0Dh,0Ah
TRANGROUP:77AF		       db 76h
TRANGROUP:77B0		       db '  /B           Indicates a binary file.',0Dh,0Ah
TRANGROUP:77B0		       db '  destination  Specifies the directory and/or filename for the ne'
TRANGROUP:77B0		       db 'w file(s).',0Dh,0Ah
TRANGROUP:7826 MSG_1403	       db 63
TRANGROUP:7827		       db '  /V           Verifies that new files are written correctly.',0Dh,0Ah
TRANGROUP:7866 MSG_1404	       db 116
TRANGROUP:7867		       db '  /Y           Suppresses prompting to confirm you want to overwr'
TRANGROUP:7867		       db 'ite an',0Dh,0Ah
TRANGROUP:7867		       db '               existing destination file.',0Dh,0Ah
TRANGROUP:78DB MSG_1405	       db 114
TRANGROUP:78DC		       db '  /-Y          Causes prompting to confirm you want to overwrite '
TRANGROUP:78DC		       db 'an',0Dh,0Ah
TRANGROUP:78DC		       db '               existing destination file.',0Dh,0Ah
TRANGROUP:78DC		       db 0Dh,0Ah
TRANGROUP:794E MSG_1406	       db 66
TRANGROUP:794F		       db 'The switch /Y may be preset in the COPYCMD environment variable.',0Dh
TRANGROUP:794F		       db 0Ah
TRANGROUP:7991 MSG_1407	       db 135
TRANGROUP:7992		       db 'To append files, specify a single file for destination, but multi'
TRANGROUP:7992		       db 'ple files',0Dh,0Ah
TRANGROUP:7992		       db 'for source (using wildcards or file1+file2+file3 format).',0Dh,0Ah
TRANGROUP:7A19 MSG_1420	       db 8Ah
TRANGROUP:7A1A		       db 'Changes the terminal device used to control your system.',0Dh,0Ah
TRANGROUP:7A1A		       db 0Dh,0Ah
TRANGROUP:7A1A		       db 'CTTY device',0Dh,0Ah
TRANGROUP:7A1A		       db 0Dh,0Ah
TRANGROUP:7A1A		       db '  device   The terminal device you want to use, such as COM1.',0Dh,0Ah
TRANGROUP:7AA4 MSG_1440	       db 93
TRANGROUP:7AA5		       db 'Displays or sets the date.',0Dh,0Ah
TRANGROUP:7AA5		       db 0Dh,0Ah
TRANGROUP:7AA5		       db 'DATE [mm-dd-yy]',0Dh,0Ah
TRANGROUP:7AA5		       db 0Dh,0Ah
TRANGROUP:7AA5		       db '  mm-dd-yy    Sets the date you specify.',0Dh,0Ah
TRANGROUP:7AA5		       db 0Dh,0Ah
TRANGROUP:7B02		       db 83h
TRANGROUP:7B03		       db 'Type DATE without parameters to display the current date setting '
TRANGROUP:7B03		       db 'and',0Dh,0Ah
TRANGROUP:7B03		       db 'a prompt for a new one.  Press ENTER to keep the same date.',0Dh,0Ah
TRANGROUP:7B86 MSG_1460	       db 64h
TRANGROUP:7B87		       db 'Deletes one or more files.',0Dh,0Ah
TRANGROUP:7B87		       db 0Dh,0Ah
TRANGROUP:7B87		       db 'DEL [drive:][path]filename [/P]',0Dh,0Ah
TRANGROUP:7B87		       db 'ERASE [drive:][path]filename [/P]',0Dh,0Ah
TRANGROUP:7B87		       db 0Dh,0Ah
TRANGROUP:7BEB		       db 83h
TRANGROUP:7BEC		       db '  [drive:][path]filename  Specifies the file(s) to delete.  Speci'
TRANGROUP:7BEC		       db 'fy multiple',0Dh,0Ah
TRANGROUP:7BEC		       db '                          files by using wildcards.',0Dh,0Ah
TRANGROUP:7C6F		       db 4Fh
TRANGROUP:7C70		       db '  /P                      Prompts for confirmation before deletin'
TRANGROUP:7C70		       db 'g each file.',0Dh,0Ah
TRANGROUP:7CBF MSG_1480	       db 137
TRANGROUP:7CC0		       db 'Displays a list of files and subdirectories in a directory.',0Dh,0Ah
TRANGROUP:7CC0		       db 0Dh,0Ah
TRANGROUP:7CC0		       db 'DIR [drive:][path][filename] [/P] [/W] [/A[[:]attribs]] [/O[[:]so'
TRANGROUP:7CC0		       db 'rtord]]',0Dh,0Ah
TRANGROUP:7D49		       db 30
TRANGROUP:7D4A		       db '    [/S] [/B] [/L] [/C[H]]',0Dh,0Ah
TRANGROUP:7D4A		       db 0Dh,0Ah
TRANGROUP:7D68		       db 80
TRANGROUP:7D69		       db '  [drive:][path][filename]   Specifies drive, directory, and/or f'
TRANGROUP:7D69		       db 'iles to list.',0Dh,0Ah
TRANGROUP:7DB9		       db 89
TRANGROUP:7DBA		       db '  /P      Pauses after each screenful of information.',0Dh,0Ah
TRANGROUP:7DBA		       db '  /W      Uses wide list format.',0Dh,0Ah
TRANGROUP:7E13		       db 126
TRANGROUP:7E14		       db '  /A      Displays files with specified attributes.',0Dh,0Ah
TRANGROUP:7E14		       db '  attribs   D  Directories   R  Read-only files         H  Hidden'
TRANGROUP:7E14		       db ' files',0Dh,0Ah
TRANGROUP:7E92 MSG_1485	       db 123
TRANGROUP:7E93		       db '            S  System files  A  Files ready to archive  -  Prefix'
TRANGROUP:7E93		       db ' meaning "not"',0Dh,0Ah
TRANGROUP:7E93		       db '  /O      List by files in sorted order.',0Dh,0Ah
TRANGROUP:7F0E		       db 149
TRANGROUP:7F0F		       db '  sortord   N  By name (alphabetic)       S  By size (smallest fi'
TRANGROUP:7F0F		       db 'rst)',0Dh,0Ah
TRANGROUP:7F0F		       db '            E  By extension (alphabetic)  D  By date & time (earl'
TRANGROUP:7F0F		       db 'iest first)',0Dh,0Ah
TRANGROUP:7FA4 MSG_1487	       db 70
TRANGROUP:7FA5		       db '            G  Group directories first    -  Prefix to reverse or'
TRANGROUP:7FA5		       db 'der',0Dh,0Ah
TRANGROUP:7FEB		       db 127
TRANGROUP:7FEC		       db '            C  By compression ratio (smallest first)',0Dh,0Ah
TRANGROUP:7FEC		       db '  /S      Displays files in specified directory and all subdirect'
TRANGROUP:7FEC		       db 'ories.',0Dh,0Ah
TRANGROUP:806B		       db 65
TRANGROUP:806C		       db '  /B      Uses bare format (no heading information or summary).',0Dh
TRANGROUP:806C		       db 0Ah
TRANGROUP:80AD MSG_1490	       db 27
TRANGROUP:80AE		       db '  /L      Uses lowercase.',0Dh,0Ah
TRANGROUP:80C9		       db 82
TRANGROUP:80CA		       db '  /C[H]   Displays file compression ratio; /CH uses host allocati'
TRANGROUP:80CA		       db 'on unit size.',0Dh,0Ah
TRANGROUP:80CA		       db 0Dh,0Ah
TRANGROUP:811C MSG_1492	       db 146
TRANGROUP:811D		       db 'Switches may be preset in the DIRCMD environment variable.  Overr'
TRANGROUP:811D		       db 'ide',0Dh,0Ah
TRANGROUP:811D		       db 'preset switches by prefixing any switch with - (hyphen)--for exam'
TRANGROUP:811D		       db 'ple, /-W.',0Dh,0Ah
TRANGROUP:81AF		       db 22
TRANGROUP:81B0		       db '    [/S] [/B] [/L]',0Dh,0Ah
TRANGROUP:81B0		       db 0Dh,0Ah
TRANGROUP:81C6 MSG_1494	       db 29
TRANGROUP:81C7		       db '  /L      Uses lowercase.',0Dh,0Ah
TRANGROUP:81C7		       db 0Dh,0Ah
TRANGROUP:81E4 MSG_1500	       db 3Eh
TRANGROUP:81E5		       db 'Quits the COMMAND.COM program (command interpreter).',0Dh,0Ah
TRANGROUP:81E5		       db 0Dh,0Ah
TRANGROUP:81E5		       db 'EXIT',0Dh,0Ah
TRANGROUP:8223 MSG_1520	       db 3Dh
TRANGROUP:8224		       db 'Creates a directory.',0Dh,0Ah
TRANGROUP:8224		       db 0Dh,0Ah
TRANGROUP:8224		       db 'MKDIR [drive:]path',0Dh,0Ah
TRANGROUP:8224		       db 'MD [drive:]path',0Dh,0Ah
TRANGROUP:8261 MSG_1540	       db 5Dh
TRANGROUP:8262		       db 'Displays or sets a search path for executable files.',0Dh,0Ah
TRANGROUP:8262		       db 0Dh,0Ah
TRANGROUP:8262		       db 'PATH [[drive:]path[;...]]',0Dh,0Ah
TRANGROUP:8262		       db 'PATH ;',0Dh,0Ah
TRANGROUP:8262		       db 0Dh,0Ah
TRANGROUP:82BF		       db 6Bh
TRANGROUP:82C0		       db 'Type PATH ; to clear all search-path settings and direct MS-DOS t'
TRANGROUP:82C0		       db 'o search',0Dh,0Ah
TRANGROUP:82C0		       db 'only in the current directory.',0Dh,0Ah
TRANGROUP:832B		       db 3Bh
TRANGROUP:832C		       db 'Type PATH without parameters to display the current path.',0Dh,0Ah
TRANGROUP:8367 MSG_1560	       db 37h
TRANGROUP:8368		       db 'Changes the MS-DOS command prompt.',0Dh,0Ah
TRANGROUP:8368		       db 0Dh,0Ah
TRANGROUP:8368		       db 'PROMPT [text]',0Dh,0Ah
TRANGROUP:8368		       db 0Dh,0Ah
TRANGROUP:839F		       db 7Ch
TRANGROUP:83A0		       db '  text    Specifies a new command prompt.',0Dh,0Ah
TRANGROUP:83A0		       db 0Dh,0Ah
TRANGROUP:83A0		       db 'Prompt can be made up of normal characters and the following spec'
TRANGROUP:83A0		       db 'ial codes:',0Dh,0Ah
TRANGROUP:83A0		       db 0Dh,0Ah
TRANGROUP:841C		       db 2Fh
TRANGROUP:841D		       db '  $Q   = (equal sign)',0Dh,0Ah
TRANGROUP:841D		       db '  $$   $ (dollar sign)',0Dh,0Ah
TRANGROUP:844C		       db 2Ah
TRANGROUP:844D		       db '  $T   Current time',0Dh,0Ah
TRANGROUP:844D		       db '  $D   Current date',0Dh,0Ah
TRANGROUP:8477		       db 3Dh
TRANGROUP:8478		       db '  $P   Current drive and path',0Dh,0Ah
TRANGROUP:8478		       db '  $V   MS-DOS version number',0Dh,0Ah
TRANGROUP:84B5 MSG_1565	       db 34h
TRANGROUP:84B6		       db '  $N   Current drive',0Dh,0Ah
TRANGROUP:84B6		       db '  $G   > (greater-than sign)',0Dh,0Ah
TRANGROUP:84EA		       db 2Ch
TRANGROUP:84EB		       db '  $L   < (less-than sign)',0Dh,0Ah
TRANGROUP:84EB		       db '  $B   | (pipe)',0Dh,0Ah
TRANGROUP:8517		       db 79h
TRANGROUP:8518		       db '  $H   Backspace (erases previous character)',0Dh,0Ah
TRANGROUP:8518		       db '  $E   Escape code (ASCII code 27)',0Dh,0Ah
TRANGROUP:8518		       db '  $_   Carriage return and linefeed',0Dh,0Ah
TRANGROUP:8518		       db 0Dh,0Ah
TRANGROUP:8591		       db 4Ch
TRANGROUP:8592		       db 'Type PROMPT without parameters to reset the prompt to the default'
TRANGROUP:8592		       db ' setting.',0Dh,0Ah
TRANGROUP:85DE MSG_1580	       db 47h
TRANGROUP:85DF		       db 'Removes (deletes) a directory.',0Dh,0Ah
TRANGROUP:85DF		       db 0Dh,0Ah
TRANGROUP:85DF		       db 'RMDIR [drive:]path',0Dh,0Ah
TRANGROUP:85DF		       db 'RD [drive:]path',0Dh,0Ah
TRANGROUP:8626 MSG_1600	       db 1Ch
TRANGROUP:8627		       db 'Renames a file or files.',0Dh,0Ah
TRANGROUP:8627		       db 0Dh,0Ah
TRANGROUP:8643		       db 53h
TRANGROUP:8644		       db 'RENAME [drive:][path]filename1 filename2',0Dh,0Ah
TRANGROUP:8644		       db 'REN [drive:][path]filename1 filename2',0Dh,0Ah
TRANGROUP:8644		       db 0Dh,0Ah
TRANGROUP:8697 MSG_1602	       db 160
TRANGROUP:8698		       db 'Note that you cannot specify a new drive or path for your destina'
TRANGROUP:8698		       db 'tion file.',0Dh,0Ah
TRANGROUP:8698		       db 0Dh,0Ah
TRANGROUP:8698		       db 'Use MOVE to rename a directory, or to move files from one directo'
TRANGROUP:8698		       db 'ry to another.',0Dh,0Ah
TRANGROUP:8738 MSG_1620	       db 57h
TRANGROUP:8739		       db 'Displays, sets, or removes MS-DOS environment variables.',0Dh,0Ah
TRANGROUP:8739		       db 0Dh,0Ah
TRANGROUP:8739		       db 'SET [variable=[string]]',0Dh,0Ah
TRANGROUP:8739		       db 0Dh,0Ah
TRANGROUP:8790		       db 81h
TRANGROUP:8791		       db '  variable  Specifies the environment-variable name.',0Dh,0Ah
TRANGROUP:8791		       db '  string    Specifies a series of characters to assign to the var'
TRANGROUP:8791		       db 'iable.',0Dh,0Ah
TRANGROUP:8791		       db 0Dh,0Ah
TRANGROUP:8812 MSG_1622	       db 4Bh
TRANGROUP:8813		       db 'Type SET without parameters to display the current environment va'
TRANGROUP:8813		       db 'riables.',0Dh,0Ah
TRANGROUP:885E MSG_1640	       db 45
TRANGROUP:885F		       db 'Displays or sets the time.',0Dh,0Ah
TRANGROUP:885F		       db 0Dh,0Ah
TRANGROUP:885F		       db 'TIME [time]',0Dh,0Ah
TRANGROUP:885F		       db 0Dh,0Ah
TRANGROUP:888C		       db 83h
TRANGROUP:888D		       db 'Type TIME without parameters to display the current time setting '
TRANGROUP:888D		       db 'and',0Dh,0Ah
TRANGROUP:888D		       db 'a prompt for a new one.  Press ENTER to keep the same time.',0Dh,0Ah
TRANGROUP:8910 MSG_1660	       db 46h
TRANGROUP:8911		       db 'Displays the contents of a text file.',0Dh,0Ah
TRANGROUP:8911		       db 0Dh,0Ah
TRANGROUP:8911		       db 'TYPE [drive:][path]filename',0Dh,0Ah
TRANGROUP:8957 MSG_1680	       db 25h
TRANGROUP:8958		       db 'Displays the MS-DOS version.',0Dh,0Ah
TRANGROUP:8958		       db 0Dh,0Ah
TRANGROUP:8958		       db 'VER',0Dh,0Ah
TRANGROUP:897D MSG_1700	       db 177
TRANGROUP:897E		       db 'Tells MS-DOS whether to verify that your files are written correc'
TRANGROUP:897E		       db 'tly to a',0Dh,0Ah
TRANGROUP:897E		       db 'disk.',0Dh,0Ah
TRANGROUP:897E		       db 0Dh,0Ah
TRANGROUP:897E		       db 'VERIFY [ON | OFF]',0Dh,0Ah
TRANGROUP:897E		       db 0Dh,0Ah
TRANGROUP:897E		       db 'Type VERIFY without a parameter to display the current VERIFY set'
TRANGROUP:897E		       db 'ting.',0Dh,0Ah
TRANGROUP:8A2F MSG_1720	       db 52h
TRANGROUP:8A30		       db 'Displays the disk volume label and serial number, if they exist.',0Dh
TRANGROUP:8A30		       db 0Ah
TRANGROUP:8A30		       db 0Dh,0Ah
TRANGROUP:8A30		       db 'VOL [drive:]',0Dh,0Ah
TRANGROUP:8A82 MSG_1740	       db 5Bh
TRANGROUP:8A83		       db 'Calls one batch program from another.',0Dh,0Ah
TRANGROUP:8A83		       db 0Dh,0Ah
TRANGROUP:8A83		       db 'CALL [drive:][path]filename [batch-parameters]',0Dh,0Ah
TRANGROUP:8A83		       db 0Dh,0Ah
TRANGROUP:8ADE MSG_1741	       db 72h
TRANGROUP:8ADF		       db '  batch-parameters   Specifies any command-line information requi'
TRANGROUP:8ADF		       db 'red by the',0Dh,0Ah
TRANGROUP:8ADF		       db '                     batch program.',0Dh,0Ah
TRANGROUP:8B51 MSG_1760	       db 4Ch
TRANGROUP:8B52		       db 'Records comments (remarks) in a batch file or CONFIG.SYS.',0Dh,0Ah
TRANGROUP:8B52		       db 0Dh,0Ah
TRANGROUP:8B52		       db 'REM [comment]',0Dh,0Ah
TRANGROUP:8B9E MSG_1780	       db 6Bh
TRANGROUP:8B9F		       db 'Suspends processing of a batch program and displays the message "'
TRANGROUP:8B9F		       db 'Press any',0Dh,0Ah
TRANGROUP:8B9F		       db 'key to continue...."',0Dh,0Ah
TRANGROUP:8B9F		       db 0Dh,0Ah
TRANGROUP:8B9F		       db 'PAUSE',0Dh,0Ah
TRANGROUP:8C0A MSG_1800	       db 4Dh
TRANGROUP:8C0B		       db 'Displays messages, or turns command-echoing on or off.',0Dh,0Ah
TRANGROUP:8C0B		       db 0Dh,0Ah
TRANGROUP:8C0B		       db '  ECHO [ON | OFF]',0Dh,0Ah
TRANGROUP:8C58 MSG_1801	       db 57h
TRANGROUP:8C59		       db '  ECHO [message]',0Dh,0Ah
TRANGROUP:8C59		       db 0Dh,0Ah
TRANGROUP:8C59		       db 'Type ECHO without parameters to display the current echo setting.'
TRANGROUP:8C59		       db 0Dh,0Ah
TRANGROUP:8CB0		       db 47h
TRANGROUP:8CB1		       db 'Directs MS-DOS to a labelled line in a batch program.',0Dh,0Ah
TRANGROUP:8CB1		       db 0Dh,0Ah
TRANGROUP:8CB1		       db 'GOTO label',0Dh,0Ah
TRANGROUP:8CB1		       db 0Dh,0Ah
TRANGROUP:8CF8		       db 8Ah
TRANGROUP:8CF9		       db '  label   Specifies a text string used in the batch program as a '
TRANGROUP:8CF9		       db 'label.',0Dh,0Ah
TRANGROUP:8CF9		       db 0Dh,0Ah
TRANGROUP:8CF9		       db 'You type a label on a line by itself, beginning with a colon.',0Dh,0Ah
TRANGROUP:8D83 MSG_1840	       db 4Ah
TRANGROUP:8D84		       db 'Changes the position of replaceable parameters in a batch file.',0Dh
TRANGROUP:8D84		       db 0Ah
TRANGROUP:8D84		       db 0Dh,0Ah
TRANGROUP:8D84		       db 'SHIFT',0Dh,0Ah
TRANGROUP:8DCE MSG_1860	       db 5Ah
TRANGROUP:8DCF		       db 'Performs conditional processing in batch programs.',0Dh,0Ah
TRANGROUP:8DCF		       db 0Dh,0Ah
TRANGROUP:8E05		       db 'IF [NOT] ERRORLEVEL number command',0Dh,0Ah
TRANGROUP:8E29		       db 46h
TRANGROUP:8E2A		       db 'IF [NOT] string1==string2 command',0Dh,0Ah
TRANGROUP:8E2A		       db 'IF [NOT] EXIST filename command',0Dh,0Ah
TRANGROUP:8E2A		       db 0Dh,0Ah
TRANGROUP:8E70		       db 7Dh
TRANGROUP:8E71		       db '  NOT               Specifies that MS-DOS should carry out the co'
TRANGROUP:8E71		       db 'mmand only',0Dh,0Ah
TRANGROUP:8E71		       db '                    if the condition is false.',0Dh,0Ah
TRANGROUP:8EEE MSG_1863	       db 0A2h
TRANGROUP:8EEF		       db '  ERRORLEVEL number Specifies a true condition if the last progra'
TRANGROUP:8EEF		       db 'm run returned',0Dh,0Ah
TRANGROUP:8EEF		       db '                    an exit code equal to or greater than the num'
TRANGROUP:8EEF		       db 'ber specified.',0Dh,0Ah
TRANGROUP:8F91		       db 66h
TRANGROUP:8F92		       db '  command           Specifies the command to carry out if the con'
TRANGROUP:8F92		       db 'dition is',0Dh,0Ah
TRANGROUP:8F92		       db '                    met.',0Dh,0Ah
TRANGROUP:8FF8		       db 6Ah
TRANGROUP:8FF9		       db '  string1==string2  Specifies a true condition if the specified t'
TRANGROUP:8FF9		       db 'ext strings',0Dh,0Ah
TRANGROUP:8FF9		       db '                    match.',0Dh,0Ah
TRANGROUP:9063		       db 67h
TRANGROUP:9064		       db '  EXIST filename    Specifies a true condition if the specified f'
TRANGROUP:9064		       db 'ilename',0Dh,0Ah
TRANGROUP:9064		       db '                    exists.',0Dh,0Ah
TRANGROUP:90CB MSG_1880	       db 77h
TRANGROUP:90CC		       db 'Runs a specified command for each file in a set of files.',0Dh,0Ah
TRANGROUP:90CC		       db 0Dh,0Ah
TRANGROUP:90CC		       db 'FOR %variable IN (set) DO command [command-parameters]',0Dh,0Ah
TRANGROUP:90CC		       db 0Dh,0Ah
TRANGROUP:9143		       db 7Dh
TRANGROUP:9144		       db '  %variable  Specifies a replaceable parameter.',0Dh,0Ah
TRANGROUP:9144		       db '  (set)      Specifies a set of one or more files.  Wildcards may'
TRANGROUP:9144		       db ' be used.',0Dh,0Ah
TRANGROUP:91C1		       db 56h
TRANGROUP:91C2		       db '  command    Specifies the command to carry out for each file.',0Dh,0Ah
TRANGROUP:91C2		       db '  command-parameters',0Dh,0Ah
TRANGROUP:9218 MSG_1883	       db 0A2h
TRANGROUP:9219		       db '             Specifies parameters or switches for the specified c'
TRANGROUP:9219		       db 'ommand.',0Dh,0Ah
TRANGROUP:9219		       db 0Dh,0Ah
TRANGROUP:9219		       db 'To use the FOR command in a batch program, specify %%variable ins'
TRANGROUP:9219		       db 'tead of',0Dh,0Ah
TRANGROUP:9219		       db '%variable.',0Dh,0Ah
TRANGROUP:92BB MSG_1900	       db 17h
TRANGROUP:92BC		       db 'Reserved command name',0Dh,0Ah
TRANGROUP:92D3 MSG_1920	       db 2Fh
TRANGROUP:92D4		       db 'Loads a program into the upper memory area.',0Dh,0Ah
TRANGROUP:92D4		       db 0Dh,0Ah
TRANGROUP:9303 MSG_1921	       db 157
TRANGROUP:9304		       db 'LOADHIGH [drive:][path]filename [parameters]',0Dh,0Ah
TRANGROUP:9304		       db 'LOADHIGH [/L:region1[,minsize1][;region2[,minsize2]...] [/S]]',0Dh,0Ah
TRANGROUP:9304		       db '         [drive:][path]filename [parameters]',0Dh,0Ah
TRANGROUP:9304		       db 0Dh,0Ah
TRANGROUP:93A1 MSG_1922	       db 182
TRANGROUP:93A2		       db '/L:region1[,minsize1][;region2[,minsize2]]...',0Dh,0Ah
TRANGROUP:93A2		       db '            Specifies the region(s) of memory into which to load',0Dh
TRANGROUP:93A2		       db 0Ah
TRANGROUP:93A2		       db '            the program.  Region1 specifies the number of the fir'
TRANGROUP:93A2		       db 'st',0Dh,0Ah
TRANGROUP:9458 MSG_1923	       db 133
TRANGROUP:9459		       db '            memory region; minsize1 specifies the minimum size, i'
TRANGROUP:9459		       db 'f',0Dh,0Ah
TRANGROUP:9459		       db '            any, for region1.  Region2 and minsize2 specify the',0Dh
TRANGROUP:9459		       db 0Ah
TRANGROUP:94DE		       db 127
TRANGROUP:94DF		       db '            number and minimum size of the second region, if any.'
TRANGROUP:94DF		       db 0Dh,0Ah
TRANGROUP:94DF		       db '            You can specify as many regions as you want.',0Dh,0Ah
TRANGROUP:94DF		       db 0Dh,0Ah
TRANGROUP:955E MSG_1925	       db 131
TRANGROUP:955F		       db '/S          Shrinks a UMB to its minimum size while the program',0Dh
TRANGROUP:955F		       db 0Ah
TRANGROUP:955F		       db '            is loading.  /S is normally used only by MemMaker.',0Dh,0Ah
TRANGROUP:955F		       db 0Dh,0Ah
TRANGROUP:95E2		       db 87
TRANGROUP:95E3		       db '[drive:][path]filename',0Dh,0Ah
TRANGROUP:95E3		       db '            Specifies the location and name of the program.',0Dh,0Ah
TRANGROUP:95E3		       db 0Dh,0Ah
TRANGROUP:963A MSG_1927	       db 90
TRANGROUP:963B		       db 'parameters  Specifies any command-line information required by',0Dh,0Ah
TRANGROUP:963B		       db '            the program.',0Dh,0Ah
TRANGROUP:9695
TRANGROUP:9695 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:9695
TRANGROUP:9695
TRANGROUP:9695 $M_CLS_3	       proc near	       ; ...
TRANGROUP:9695		       push    cs
TRANGROUP:9696		       pop     es
TRANGROUP:9697		       assume es:TRANGROUP
TRANGROUP:9697		       lea     di, $M_CLASS_3_STRUC
TRANGROUP:969B		       add     cx, 11627       ; ADD CX,$-$M_CLASS_3_STRUC
TRANGROUP:969F		       retn
TRANGROUP:969F $M_CLS_3	       endp
TRANGROUP:969F
TRANGROUP:969F ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:96A0 $M_CLASS_1_STRUC	db 1		       ; ...
TRANGROUP:96A0					       ; $M_CLASS_ID
TRANGROUP:96A1		       dw 1606h		       ; EXPECTED_VERSION (COMMAND.COM version)
TRANGROUP:96A3		       db 4		       ; Class_1_MessageCount
TRANGROUP:96A4 $M_ID_1_1       dw 2		       ; Message Number	= 2
TRANGROUP:96A6		       dw 10h		       ; Message offset	from message number
TRANGROUP:96A8 $M_ID_1_2       dw 3		       ; Message Number	= 3
TRANGROUP:96AA		       dw 1Bh		       ; Message offset	from message number
TRANGROUP:96AC $M_ID_1_3       dw 8		       ; Message Number	= 8
TRANGROUP:96AE		       dw 26h		       ; Message offset	from message number
TRANGROUP:96B0 $M_ID_1_4       dw 0FFFFh	       ; Message Number	= -1
TRANGROUP:96B2		       dw 36h		       ; Message offset	from message number
TRANGROUP:96B4 EXTEND2	       db 0Eh
TRANGROUP:96B5		       db 'File not found'
TRANGROUP:96C3 EXTEND3	       db 0Eh
TRANGROUP:96C4		       db 'Path not found'
TRANGROUP:96D2 EXTEND8	       db 13h
TRANGROUP:96D3		       db 'Insufficient memory'
TRANGROUP:96E6 EXTEND999       db 11h
TRANGROUP:96E7		       db 'Extended Error %1'
TRANGROUP:96F8
TRANGROUP:96F8 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:96F8
TRANGROUP:96F8
TRANGROUP:96F8 $M_MSGSERV_1    proc near	       ; ...
TRANGROUP:96F8		       push    cs
TRANGROUP:96F9		       pop     es
TRANGROUP:96FA		       lea     di, $M_CLASS_1_STRUC
TRANGROUP:96FE		       add     cx, 94	       ; $-$M_CLASS_1_STRUC
TRANGROUP:9701		       retn
TRANGROUP:9701 $M_MSGSERV_1    endp
TRANGROUP:9701
TRANGROUP:9701 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:9702 $M_CLASS_2_STRUC	db 2		       ; ...
TRANGROUP:9702					       ; $M_CLASS_ID
TRANGROUP:9703		       dw 1606h		       ; EXPECTED_VERSION (COMMAND.COM version)
TRANGROUP:9705		       db 1		       ; Class_2_MessageCount
TRANGROUP:9706 $M_ID_2_1       dw 0FFFFh
TRANGROUP:9708		       dw 4		       ; Message Number	= -1
TRANGROUP:970A PARSE999	       db 0Eh		       ; Message offset	from message number
TRANGROUP:970B		       db 'Parse Error %1'
TRANGROUP:9719
TRANGROUP:9719 ; ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ S U B R O U T I N E ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
TRANGROUP:9719
TRANGROUP:9719
TRANGROUP:9719 $M_MSGSERV_2    proc near	       ; ...
TRANGROUP:9719		       push    cs
TRANGROUP:971A		       pop     es
TRANGROUP:971B		       lea     di, $M_CLASS_2_STRUC
TRANGROUP:971F		       add     cx, 29
TRANGROUP:9722		       retn
TRANGROUP:9722 $M_MSGSERV_2    endp
TRANGROUP:9722
TRANGROUP:9722 ; ДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД
TRANGROUP:9723 msg_disp_class  db 0FFh		       ; ...
TRANGROUP:9724 msg_cont_flag   db 0		       ; ...
TRANGROUP:9725 extend_buf_ptr  dw 0		       ; ...
TRANGROUP:9727 extend_buf_sub  db 0		       ; ...
TRANGROUP:9728		       db 11
TRANGROUP:9729		       db 0
TRANGROUP:972A		       dw offset string_ptr_2
TRANGROUP:972C extend_buf_seg  dw 0
TRANGROUP:972E		       db 0
TRANGROUP:972F		       db 10h
TRANGROUP:9730		       db 128
TRANGROUP:9731		       db 0
TRANGROUP:9732		       db 20h
TRANGROUP:9733 RENERR_PTR      dw 1002		       ; ...
TRANGROUP:9735		       db 0
TRANGROUP:9736 BADCPMES_PTR    dw 1003		       ; ...
TRANGROUP:9738		       db 0
TRANGROUP:9739 NOSPACE_PTR     dw 1004		       ; ...
TRANGROUP:973B		       db 0
TRANGROUP:973C ENVERR_PTR      dw 1007		       ; ...
TRANGROUP:973E		       db 0
TRANGROUP:973F FULLDIR_PTR     dw 1008		       ; ...
TRANGROUP:9741		       db 0
TRANGROUP:9742 BADBAT_PTR      dw 1009		       ; ...
TRANGROUP:9744		       db 0
TRANGROUP:9745 NEEDBAT_PTR     dw 1010		       ; ...
TRANGROUP:9747		       db 0
TRANGROUP:9748 BADNAM_PTR      dw 1011		       ; ...
TRANGROUP:974A		       db 0
TRANGROUP:974B ACCDEN_PTR      dw 1014		       ; ...
TRANGROUP:974D		       db 0
TRANGROUP:974E OVERWR_PTR      dw 1015		       ; ...
TRANGROUP:9750		       db 0
TRANGROUP:9751 LOSTERR_PTR     dw 1016		       ; ...
TRANGROUP:9753		       db 0
TRANGROUP:9754 INORNOT_PTR     dw 1017		       ; ...
TRANGROUP:9756		       db 0
TRANGROUP:9757 copied_ptr      dw 1018		       ; ...
TRANGROUP:9759		       db 1
TRANGROUP:975A		       db 0Bh
TRANGROUP:975B		       db 0
TRANGROUP:975C		       dw offset Copy_num
TRANGROUP:975E		       dw 0
TRANGROUP:9760		       db 1
TRANGROUP:9761		       db 0A1h
TRANGROUP:9762		       db 9
TRANGROUP:9763		       db 9
TRANGROUP:9764		       db 20h
TRANGROUP:9765 dirmes_ptr      dw 1019		       ; ...
TRANGROUP:9767		       db 1
TRANGROUP:9768		       db 0Bh		       ; parm_block_size
TRANGROUP:9769		       db 0
TRANGROUP:976A		       dw offset Dir_Num
TRANGROUP:976C		       dw 0
TRANGROUP:976E		       db 1
TRANGROUP:976F screen_f_3      db 0E1h		       ; ...
TRANGROUP:976F					       ; Right_Align+Unsgn_Bin_Word (binary to decimal)
TRANGROUP:976F					       ; + 40h (for 80 columns per row)
TRANGROUP:9770		       db 9
TRANGROUP:9771		       db 9
TRANGROUP:9772		       db 20h
TRANGROUP:9773 bytmes_ptr      dw 1020		       ; ...
TRANGROUP:9775		       db 1
TRANGROUP:9776		       db 0Bh
TRANGROUP:9777		       db 0
TRANGROUP:9778		       dw offset Bytes_Free
TRANGROUP:977A		       dw 0
TRANGROUP:977C		       db 1
TRANGROUP:977D screen_f_6      db 0F1h		       ; ...
TRANGROUP:977D					       ; Right_Align+Unsgn_Bin_DWord (long binary to decimal)
TRANGROUP:977D					       ; + 40h (for 80 columns per row)
TRANGROUP:977E screen_f_7      db 32		       ; ...
TRANGROUP:977F		       db 32
TRANGROUP:9780		       db 20h
TRANGROUP:9781 baddrv_ptr      dw 1021		       ; ...
TRANGROUP:9783		       db 0
TRANGROUP:9784 cp_not_set_ptr  dw 1022		       ; ...
TRANGROUP:9786		       db 1
TRANGROUP:9787		       db 0Bh
TRANGROUP:9788		       db 0
TRANGROUP:9789		       dw offset system_cpage
TRANGROUP:978B		       dw 0
TRANGROUP:978D		       db 1
TRANGROUP:978E		       db 0A1h
TRANGROUP:978F		       db 5
TRANGROUP:9790		       db 1
TRANGROUP:9791		       db 20h
TRANGROUP:9792 cp_not_all_ptr  dw 1023		       ; ...
TRANGROUP:9794		       db 1
TRANGROUP:9795		       db 0Bh
TRANGROUP:9796		       db 0
TRANGROUP:9797		       dw offset system_cpage
TRANGROUP:9799		       dw 0
TRANGROUP:979B		       db 1
TRANGROUP:979C		       db 0A1h
TRANGROUP:979D		       db 5
TRANGROUP:979E		       db 1
TRANGROUP:979F		       db 20h
TRANGROUP:97A0 cp_active_ptr   dw 1024		       ; ...
TRANGROUP:97A2		       db 1
TRANGROUP:97A3		       db 0Bh
TRANGROUP:97A4		       db 0
TRANGROUP:97A5		       dw offset system_cpage
TRANGROUP:97A7		       dw 0
TRANGROUP:97A9		       db 1
TRANGROUP:97AA		       db 0A1h
TRANGROUP:97AB		       db 5
TRANGROUP:97AC		       db 1
TRANGROUP:97AD		       db 20h
TRANGROUP:97AE NLSFUNC_PTR     dw 1025		       ; ...
TRANGROUP:97B0		       db 0
TRANGROUP:97B1 INV_CODE_PAGE   dw 1026		       ; ...
TRANGROUP:97B3		       db 0
TRANGROUP:97B4 BADCURDRV       dw 1027		       ; ...
TRANGROUP:97B6		       db 0
TRANGROUP:97B7 PAUSEMES_PTR    dw 1028		       ; ...
TRANGROUP:97B9		       db 0
TRANGROUP:97BA BADLAB_PTR      dw 1029		       ; ...
TRANGROUP:97BC		       db 0
TRANGROUP:97BD SYNTMES_PTR     dw 1030		       ; ...
TRANGROUP:97BF		       db 0
TRANGROUP:97C0 BADDAT_PTR      dw 1031		       ; ...
TRANGROUP:97C2		       db 0
TRANGROUP:97C3 CurDat_Ptr      dw 1032		       ; ...
TRANGROUP:97C5		       db 2
TRANGROUP:97C6		       db 0Bh
TRANGROUP:97C7		       db 0
TRANGROUP:97C8		       dw offset Arg_Buf
TRANGROUP:97CA		       dw 0
TRANGROUP:97CC		       db 1
TRANGROUP:97CD		       db 10h
TRANGROUP:97CE		       db 3
TRANGROUP:97CF		       db 3
TRANGROUP:97D0		       db 20h
TRANGROUP:97D1		       db 0Bh
TRANGROUP:97D2		       db 0
TRANGROUP:97D3 CurDat_yr       dw 0		       ; ...
TRANGROUP:97D5 CurDat_mo_day   dw 0		       ; ...
TRANGROUP:97D7		       db 2
TRANGROUP:97D8		       db 34h
TRANGROUP:97D9		       db 10
TRANGROUP:97DA		       db 10
TRANGROUP:97DB		       db 20h
TRANGROUP:97DC WeekTab	       dw 1033		       ; ...
TRANGROUP:97DE		       db 0
TRANGROUP:97DF NewDat_Ptr      dw 1034		       ; ...
TRANGROUP:97E1		       db 1
TRANGROUP:97E2		       db 0Bh
TRANGROUP:97E3		       db 0
TRANGROUP:97E4 NewDat_Format   dw 0		       ; ...
TRANGROUP:97E6		       dw 0
TRANGROUP:97E8		       db 1
TRANGROUP:97E9		       db 10h
TRANGROUP:97EA		       db 8
TRANGROUP:97EB		       db 8
TRANGROUP:97EC		       db 20h
TRANGROUP:97ED BadTim_Ptr      dw 1035		       ; ...
TRANGROUP:97EF		       db 0
TRANGROUP:97F0 CurTim_Ptr      dw 1036		       ; ...
TRANGROUP:97F2		       db 1
TRANGROUP:97F3		       db 0Bh
TRANGROUP:97F4		       db 0
TRANGROUP:97F5 CurTim_hr_min   dw 0		       ; ...
TRANGROUP:97F7 CurTim_Sec_hn   dw 0		       ; ...
TRANGROUP:97F9		       db 1
TRANGROUP:97FA		       db 0A5h
TRANGROUP:97FB		       db 12
TRANGROUP:97FC		       db 12
TRANGROUP:97FD		       db 20h
TRANGROUP:97FE NewTim_Ptr      dw 1037		       ; ...
TRANGROUP:9800		       db 0
TRANGROUP:9801 Del_Y_N_Ptr     dw 1038		       ; ...
TRANGROUP:9803		       db 0
TRANGROUP:9804 SureMes_Ptr     dw 1039		       ; ...
TRANGROUP:9806		       db 0
TRANGROUP:9807 VerMes_Ptr      dw 1040		       ; ...
TRANGROUP:9809		       db 2
TRANGROUP:980A		       db 11
TRANGROUP:980B		       db 0
TRANGROUP:980C		       dw offset Major_Ver_Num
TRANGROUP:980E		       dw 0
TRANGROUP:9810		       db 1
TRANGROUP:9811		       db 0A1h
TRANGROUP:9812		       db 1
TRANGROUP:9813		       db 1
TRANGROUP:9814		       db 20h		       ; blank (pad character)
TRANGROUP:9815		       db 11
TRANGROUP:9816		       db 0
TRANGROUP:9817		       dw offset Minor_Ver_Num
TRANGROUP:9819		       dw 0
TRANGROUP:981B		       db 2
TRANGROUP:981C		       db 0A1h
TRANGROUP:981D		       db 2
TRANGROUP:981E		       db 2
TRANGROUP:981F		       db 30h		       ; "0" (pad character)
TRANGROUP:9820 VolMes_Ptr_2    dw 1041		       ; ...
TRANGROUP:9820					       ; message number
TRANGROUP:9822		       db 1
TRANGROUP:9823		       db 11		       ; 0Bh
TRANGROUP:9824		       db 0
TRANGROUP:9825		       dw offset vol_drv
TRANGROUP:9827		       dw 0
TRANGROUP:9829		       db 1
TRANGROUP:982A		       db 0		       ; Char_field_Char (character)
TRANGROUP:982B		       db 128
TRANGROUP:982C		       db 1
TRANGROUP:982D		       db 20h
TRANGROUP:982E VolMes_Ptr      dw 1042		       ; ...
TRANGROUP:982E					       ; "Volume in drive %1 is	%2",13,10
TRANGROUP:9830		       db 2		       ; number	of subst
TRANGROUP:9831		       db 11		       ; size of sublist
TRANGROUP:9832		       db 0		       ; reserved
TRANGROUP:9833		       dw offset vol_drv       ; offset	of drive
TRANGROUP:9835		       dw 0		       ; segment of arg
TRANGROUP:9837		       db 1		       ; first subst
TRANGROUP:9838		       db 0		       ; character (Char_field_Char)
TRANGROUP:9839		       db 128		       ; maximum width
TRANGROUP:983A		       db 1		       ; minimum width
TRANGROUP:983B		       db 20h		       ; pad character (blank)
TRANGROUP:983C		       db 11		       ; size of sublist
TRANGROUP:983D		       db 0		       ; reserved
TRANGROUP:983E		       dw offset CHARBUF       ; offset	of string
TRANGROUP:9840		       dw 0		       ; segment of arg
TRANGROUP:9842		       db 2		       ; second	subst
TRANGROUP:9843		       db 10h		       ; Char_field_ASCIIZ (character string)
TRANGROUP:9844		       db 128		       ; maximum width
TRANGROUP:9845		       db 1		       ; minimum width
TRANGROUP:9846		       db 20h		       ; pad character (blank)
TRANGROUP:9847 VolSerMes_Ptr   dw 1043		       ; ...
TRANGROUP:9847					       ; "Volume Serial	Number is %1-%2",13,10
TRANGROUP:9849		       db 2
TRANGROUP:984A		       db 11		       ; 11
TRANGROUP:984B		       db 0
TRANGROUP:984C		       dw offset vol_serial+2
TRANGROUP:984E		       dw 0
TRANGROUP:9850		       db 1
TRANGROUP:9851		       db 0A3h		       ; Right_Align+Bin_Hex_Word (binary to hex)
TRANGROUP:9852		       db 4
TRANGROUP:9853		       db 4
TRANGROUP:9854		       db 30h		       ; "0"
TRANGROUP:9855		       db 11
TRANGROUP:9856		       db 0
TRANGROUP:9857		       dw offset vol_serial
TRANGROUP:9859		       dw 0
TRANGROUP:985B		       db 2
TRANGROUP:985C		       db 0A3h
TRANGROUP:985D		       db 4
TRANGROUP:985E		       db 4
TRANGROUP:985F		       db 30h
TRANGROUP:9860 badcd_ptr       dw 1044		       ; ...
TRANGROUP:9862		       db 0
TRANGROUP:9863 badmkd_ptr      dw 1045		       ; ...
TRANGROUP:9865		       db 0
TRANGROUP:9866 badrmd_ptr      dw 1046		       ; ...
TRANGROUP:9868		       db 0
TRANGROUP:9869 bad_on_off_ptr  dw 1047		       ; ...
TRANGROUP:986B		       db 0
TRANGROUP:986C dirhead_ptr     dw 1048		       ; ...
TRANGROUP:986E		       db 1
TRANGROUP:986F		       db 0Bh
TRANGROUP:9870		       db 0
TRANGROUP:9871		       dw offset BWDBUF
TRANGROUP:9873		       dw 0
TRANGROUP:9875		       db 1
TRANGROUP:9876		       db 10h
TRANGROUP:9877		       db 128
TRANGROUP:9878		       db 0
TRANGROUP:9879		       db 20h
TRANGROUP:987A NULLPATH_PTR    dw 1049		       ; ...
TRANGROUP:987C		       db 0
TRANGROUP:987D BADPMES_PTR     dw 1050		       ; ...
TRANGROUP:987F		       db 0
TRANGROUP:9880 BADDEV_PTR      dw 1051		       ; ...
TRANGROUP:9882		       db 0
TRANGROUP:9883 FORNESTMES_PTR  dw 1052		       ; ...
TRANGROUP:9885		       db 0
TRANGROUP:9886 PIPEEMES_PTR    dw 1053		       ; ...
TRANGROUP:9888		       db 0
TRANGROUP:9889 INBDEV_PTR      dw 1054		       ; ...
TRANGROUP:988B		       db 0
TRANGROUP:988C CtrlcMes_Ptr    dw 1055		       ; ...
TRANGROUP:988E		       db 1
TRANGROUP:988F		       db 11
TRANGROUP:9890		       db 0
TRANGROUP:9891		       dw 0
TRANGROUP:9893		       dw 0
TRANGROUP:9895		       db 1
TRANGROUP:9896		       db 10h
TRANGROUP:9897		       db 128
TRANGROUP:9898		       db 1
TRANGROUP:9899		       db 20h
TRANGROUP:989A VeriMes_Ptr     dw 1056		       ; ...
TRANGROUP:989C		       db 1
TRANGROUP:989D		       db 0Bh
TRANGROUP:989E		       db 0
TRANGROUP:989F		       dw 0
TRANGROUP:98A1		       dw 0
TRANGROUP:98A3		       db 1
TRANGROUP:98A4		       db 10h
TRANGROUP:98A5		       db 80h
TRANGROUP:98A6		       db 1
TRANGROUP:98A7		       db 20h
TRANGROUP:98A8 EchoMes_Ptr     dw 1057		       ; ...
TRANGROUP:98AA		       db 1
TRANGROUP:98AB		       db 0Bh
TRANGROUP:98AC		       db 0
TRANGROUP:98AD		       dw 0
TRANGROUP:98AF		       dw 0
TRANGROUP:98B1		       db 1
TRANGROUP:98B2		       db 10h
TRANGROUP:98B3		       db 80h
TRANGROUP:98B4		       db 1
TRANGROUP:98B5		       db 20h
TRANGROUP:98B6 OFFMES_PTR      dw 1059		       ; ...
TRANGROUP:98B8		       db 0
TRANGROUP:98B9 ONMES_PTR       dw 1060		       ; ...
TRANGROUP:98BB		       db 0
TRANGROUP:98BC DEVWMES_PTR     dw 1061		       ; ...
TRANGROUP:98BE		       db 0
TRANGROUP:98BF INVAL_PATH_PTR  dw 1062
TRANGROUP:98C1		       db 0
TRANGROUP:98C2 arg_buf_ptr     dw 1063		       ; ...
TRANGROUP:98C4		       db 1
TRANGROUP:98C5		       db 0Bh
TRANGROUP:98C6		       db 0
TRANGROUP:98C7		       dw offset Arg_Buf
TRANGROUP:98C9		       dw 0
TRANGROUP:98CB		       db 1
TRANGROUP:98CC		       db 10h
TRANGROUP:98CD		       db 80h
TRANGROUP:98CE		       db 0
TRANGROUP:98CF		       db 20h
TRANGROUP:98D0 file_name_ptr   dw 1064		       ; ...
TRANGROUP:98D2		       db 1
TRANGROUP:98D3		       db 0Bh
TRANGROUP:98D4		       db 0
TRANGROUP:98D5		       dw offset SrcBuf
TRANGROUP:98D7		       dw 0
TRANGROUP:98D9		       db 1
TRANGROUP:98DA		       db 10h
TRANGROUP:98DB		       db 80h
TRANGROUP:98DC		       db 0
TRANGROUP:98DD		       db 20h
TRANGROUP:98DE disp_file_size_ptr dw 1065	       ; ...
TRANGROUP:98E0		       db 1
TRANGROUP:98E1		       db 0Bh
TRANGROUP:98E2		       db 0
TRANGROUP:98E3		       dw offset File_Size_Low
TRANGROUP:98E5		       dw 0
TRANGROUP:98E7		       db 1
TRANGROUP:98E8 screen_f_1      db 0F1h		       ; ...
TRANGROUP:98E9 screen_f_2      db 14		       ; ...
TRANGROUP:98EA		       db 14
TRANGROUP:98EB		       db 20h
TRANGROUP:98EC string_buf_ptr  dw 1066		       ; ...
TRANGROUP:98EE		       db 1
TRANGROUP:98EF		       db 11
TRANGROUP:98F0		       db 0
TRANGROUP:98F1		       dw offset string_ptr_2
TRANGROUP:98F3		       dw 0
TRANGROUP:98F5		       db 1
TRANGROUP:98F6		       db 10h
TRANGROUP:98F7		       db 128
TRANGROUP:98F8		       db 0
TRANGROUP:98F9		       db 20h
TRANGROUP:98FA		       db 0
TRANGROUP:98FB tab_ptr	       dw 1067		       ; ...
TRANGROUP:98FD		       db 0
TRANGROUP:98FE dmes_ptr	       dw 1068		       ; ...
TRANGROUP:9900		       db 0
TRANGROUP:9901 space_4_ptr     dw 1105		       ; ...
TRANGROUP:9903		       db 0
TRANGROUP:9904 dback_ptr       dw 1069		       ; ...
TRANGROUP:9906		       db 0
TRANGROUP:9907 acrlf_ptr       dw 1070		       ; ...
TRANGROUP:9909		       db 0
TRANGROUP:990A usadat_Ptr      dw 1072		       ; ...
TRANGROUP:990C		       db 0
TRANGROUP:990D eurdat_ptr      dw 1073		       ; ...
TRANGROUP:990F		       db 0
TRANGROUP:9910 japdat_ptr      dw 1074		       ; ...
TRANGROUP:9912		       db 0
TRANGROUP:9913 promptdat_ptr   dw 1075		       ; ...
TRANGROUP:9915		       db 2
TRANGROUP:9916		       db 11
TRANGROUP:9917		       db 0
TRANGROUP:9918		       dw offset Arg_Buf
TRANGROUP:991A		       dw 0
TRANGROUP:991C		       db 1
TRANGROUP:991D		       db 10h
TRANGROUP:991E		       db 3
TRANGROUP:991F		       db 3
TRANGROUP:9920		       db 20h
TRANGROUP:9921		       db 11
TRANGROUP:9922		       db 0
TRANGROUP:9923 promptDat_yr    dw 0		       ; ...
TRANGROUP:9925 promptDat_moday dw 0		       ; ...
TRANGROUP:9927		       db 2
TRANGROUP:9928		       db 34h
TRANGROUP:9929		       db 10
TRANGROUP:992A		       db 8
TRANGROUP:992B		       db 20h
TRANGROUP:992C promtim_ptr     dw 1076		       ; ...
TRANGROUP:992E		       db 1
TRANGROUP:992F		       db 0Bh
TRANGROUP:9930		       db 0
TRANGROUP:9931 PromTim_hr_min  dw 0		       ; ...
TRANGROUP:9933 PromTim_Sec_hn  dw 0		       ; ...
TRANGROUP:9935		       db 1
TRANGROUP:9936		       db 0A6h
TRANGROUP:9937		       db 11
TRANGROUP:9938		       db 11
TRANGROUP:9939		       db 20h
TRANGROUP:993A dirdattim_ptr   dw 1077		       ; ...
TRANGROUP:993C		       db 2
TRANGROUP:993D		       db 0Bh
TRANGROUP:993E		       db 0
TRANGROUP:993F DirDat_Yr       dw 0		       ; ...
TRANGROUP:9941 DirDat_Mo_Day   dw 0		       ; ...
TRANGROUP:9943		       db 1
TRANGROUP:9944		       db 0A4h
TRANGROUP:9945		       db 10
TRANGROUP:9946		       db 8
TRANGROUP:9947		       db 20h
TRANGROUP:9948		       db 0Bh
TRANGROUP:9949		       db 0
TRANGROUP:994A DirTim_Hr_Min   dw 0		       ; ...
TRANGROUP:994C DirTim_Sec_hn   dw 0
TRANGROUP:994E		       db 2
TRANGROUP:994F		       db 85h
TRANGROUP:9950		       db 6
TRANGROUP:9951		       db 6
TRANGROUP:9952		       db 20h
TRANGROUP:9953 MD_EXISTS_PTR   dw 1078		       ; ...
TRANGROUP:9955		       db 0
TRANGROUP:9956 bytes_ptr       dw 1079		       ; ...
TRANGROUP:9958		       db 1
TRANGROUP:9959		       db 0Bh
TRANGROUP:995A		       db 0
TRANGROUP:995B		       dw offset FileSiz
TRANGROUP:995D		       dw 0
TRANGROUP:995F		       db 1
TRANGROUP:9960 screen_f_4      db 0F1h		       ; ...
TRANGROUP:9961 screen_f_5      db 14		       ; ...
TRANGROUP:9962		       db 14
TRANGROUP:9963		       db 20h
TRANGROUP:9964 total_ptr       dw 1080		       ; ...
TRANGROUP:9966		       db 0
TRANGROUP:9967 errparsenv_ptr  dw 1081		       ; ...
TRANGROUP:9969		       db 0
TRANGROUP:996A cox_Y_quest_ptr dw 1082		       ; ...
TRANGROUP:996C		       db 0
TRANGROUP:996D cox_Y_answ_ptr  dw 1083
TRANGROUP:996F		       db 0
TRANGROUP:9970 dircont_ptr     dw 1084		       ; ...
TRANGROUP:9972		       db 1
TRANGROUP:9973		       db 0Bh
TRANGROUP:9974		       db 0
TRANGROUP:9975		       dw offset BWDBUF
TRANGROUP:9977		       dw 0
TRANGROUP:9979		       db 1
TRANGROUP:997A		       db 10h
TRANGROUP:997B		       db 80h
TRANGROUP:997C		       db 0
TRANGROUP:997D		       db 20h
TRANGROUP:997E dosrev_ptr      dw 1090		       ; ...
TRANGROUP:9980		       db 1
TRANGROUP:9981		       dw 0Bh
TRANGROUP:9983		       dw offset One_Char_Val
TRANGROUP:9985		       dw 0
TRANGROUP:9987		       db 1
TRANGROUP:9988		       db 0
TRANGROUP:9989		       db 1
TRANGROUP:998A		       db 1
TRANGROUP:998B		       db 20h
TRANGROUP:998C DosRom_Ptr      dw 1091		       ; ...
TRANGROUP:998E		       db 0
TRANGROUP:998F DosHma_Ptr      dw 1092		       ; ...
TRANGROUP:9991		       db 0
TRANGROUP:9992 DosLow_Ptr      dw 1093		       ; ...
TRANGROUP:9994		       db 0
TRANGROUP:9995 NoExecBat_Ptr   dw 1094		       ; ...
TRANGROUP:9997		       db 0
TRANGROUP:9998 LhInvFil_Ptr    dw 1095		       ; ...
TRANGROUP:999A		       db 0
TRANGROUP:999B NoCntry_Ptr     dw 1096		       ; ...
TRANGROUP:999D		       db 0
TRANGROUP:999E LhInvArg_Ptr    dw 1097		       ; ...
TRANGROUP:99A0		       db 0
TRANGROUP:99A1 ReqParmMiss     dw 1098		       ; ...
TRANGROUP:99A3		       db 0
TRANGROUP:99A4 LhInvSwt_Ptr    dw 1099		       ; ...
TRANGROUP:99A6		       db 0
TRANGROUP:99A7 LhBadUMB_Ptr    dw 1100		       ; ...
TRANGROUP:99A9		       db 0
TRANGROUP:99AA DirCompRatio_Ptr	dw 1101		       ; ...
TRANGROUP:99AC		       db 2
TRANGROUP:99AD		       db 0Bh
TRANGROUP:99AE		       db 0
TRANGROUP:99AF		       dw offset Dir_CRatio_1
TRANGROUP:99B1		       dw 0
TRANGROUP:99B3		       db 1
TRANGROUP:99B4		       db 91h
TRANGROUP:99B5		       db 2
TRANGROUP:99B6		       db 2
TRANGROUP:99B7		       db 20h
TRANGROUP:99B8		       db 0Bh
TRANGROUP:99B9		       db 0
TRANGROUP:99BA		       dw offset Dir_CRatio_2
TRANGROUP:99BC		       dw 0
TRANGROUP:99BE		       db 2
TRANGROUP:99BF		       db 11h
TRANGROUP:99C0		       db 1
TRANGROUP:99C1		       db 1
TRANGROUP:99C2		       db 20h
TRANGROUP:99C3 AveCompRatio_Ptr	dw 1102		       ; ...
TRANGROUP:99C5		       db 2
TRANGROUP:99C6		       db 0Bh
TRANGROUP:99C7		       db 0
TRANGROUP:99C8		       dw offset Dir_CRatio_1
TRANGROUP:99CA		       dw 0
TRANGROUP:99CC		       db 1
TRANGROUP:99CD		       db 91h
TRANGROUP:99CE		       db 2
TRANGROUP:99CF		       db 2
TRANGROUP:99D0		       db 20h
TRANGROUP:99D1		       db 0Bh
TRANGROUP:99D2		       db 0
TRANGROUP:99D3		       dw offset Dir_CRatio_2
TRANGROUP:99D5		       dw 0
TRANGROUP:99D7		       db 2
TRANGROUP:99D8		       db 11h
TRANGROUP:99D9		       db 1
TRANGROUP:99DA		       db 1
TRANGROUP:99DB		       db 20h
TRANGROUP:99DC PATH_TEXT       db 'PATH='              ; ...
TRANGROUP:99E1 PROMPT_TEXT     db 'PROMPT='            ; ...
TRANGROUP:99E8 COMSPECSTR      db 'COMSPEC='           ; ...
TRANGROUP:99F0 DirEnvVar       db 'DIRCMD='            ; ...
TRANGROUP:99F7 BreakHelpMsgs   dw 1300,	  0	       ; ...
TRANGROUP:99FB ChcpHelpMsgs    dw 1320,1321,   0       ; ...
TRANGROUP:9A01 CdHelpMsgs      dw 1340,1341,1342,   0  ; ...
TRANGROUP:9A09 ClsHelpMsgs     dw 1360,	  0	       ; ...
TRANGROUP:9A0D CopyHelpMsgs    dw 1400,1401,1402,1403,1404,1405,1406,1407,   0 ; ...
TRANGROUP:9A1F CttyHelpMsgs    dw 1420,	  0	       ; ...
TRANGROUP:9A23 DateHelpMsgs    dw 1440,1441,   0       ; ...
TRANGROUP:9A29 DelHelpMsgs     dw 1460,1461,1462,   0  ; ...
TRANGROUP:9A31 DirHelpMsgs     dw 1480,1481,1482,1483,1484,1485,1486,1487,1488,1489,1490 ; ...
TRANGROUP:9A31		       dw 1491,1492
TRANGROUP:9A4B		       dw 0
TRANGROUP:9A4D ExitHelpMsgs    dw 1500,	  0	       ; ...
TRANGROUP:9A51 MdHelpMsgs      dw 1520,	  0	       ; ...
TRANGROUP:9A55 PathHelpMsgs    dw 1540,1541,1542,   0  ; ...
TRANGROUP:9A5D PromptHelpMsgs  dw 1560,1561,1562,1563,1564,1565,1566,1567,1568,	  0 ; ...
TRANGROUP:9A71 RdHelpMsgs      dw 1580,	  0	       ; ...
TRANGROUP:9A75 RenHelpMsgs     dw 1600,1601,1602,   0  ; ...
TRANGROUP:9A7D SetHelpMsgs     dw 1620,1621,1622,   0  ; ...
TRANGROUP:9A85 TimeHelpMsgs    dw 1640,1641,   0       ; ...
TRANGROUP:9A8B TypeHelpMsgs    dw 1660,	  0	       ; ...
TRANGROUP:9A8F VerHelpMsgs     dw 1680,	  0	       ; ...
TRANGROUP:9A93 VerifyHelpMsgs  dw 1700,	  0	       ; ...
TRANGROUP:9A97 VolHelpMsgs     dw 1720,	  0	       ; ...
TRANGROUP:9A9B CallHelpMsgs    dw 1740,1741,   0       ; ...
TRANGROUP:9AA1 RemHelpMsgs     dw 1760,	  0	       ; ...
TRANGROUP:9AA5 PauseHelpMsgs   dw 1780,	  0	       ; ...
TRANGROUP:9AA9 EchoHelpMsgs    dw 1800,1801,   0       ; ...
TRANGROUP:9AAF GotoHelpMsgs    dw 1820,1821,   0       ; ...
TRANGROUP:9AB5 ShiftHelpMsgs   dw 1840,	  0	       ; ...
TRANGROUP:9AB9 IfHelpMsgs      dw 1860,1861,1862,1863,1864,1865,1866,	0 ; ...
TRANGROUP:9AC9 ForHelpMsgs     dw 1880,1881,1882,1883,	 0 ; ...
TRANGROUP:9AD3 TruenameHelpMsgs	dw 1900,   0	       ; ...
TRANGROUP:9AD7 LoadhighHelpMsgs	dw 1920,1921,1922,1923,1924,1925,1926,1927,   0	; ...
TRANGROUP:9AE9 CLSSTRING       db 4		       ; ...
TRANGROUP:9AEA		       db 1Bh		       ; ESC
TRANGROUP:9AEB clsstring_2     db '[2J'                ; ...
TRANGROUP:9AEE PROMPT_TABLE    db 'B'
TRANGROUP:9AEF		       dw offset Print_B
TRANGROUP:9AF1		       db 'D'
TRANGROUP:9AF2		       dw offset PRINT_DATE
TRANGROUP:9AF4		       db 'E'
TRANGROUP:9AF5		       dw offset PRINT_ESC
TRANGROUP:9AF7		       db 'G'
TRANGROUP:9AF8		       dw offset PRINT_G
TRANGROUP:9AFA		       db 'H'
TRANGROUP:9AFB		       dw offset PRINT_BACK
TRANGROUP:9AFD		       db 'L'
TRANGROUP:9AFE		       dw offset PRINT_L
TRANGROUP:9B00		       db 'N'
TRANGROUP:9B01		       dw offset PRINT_DRIVE
TRANGROUP:9B03		       db 'P'
TRANGROUP:9B04		       dw offset build_dir_for_prompt
TRANGROUP:9B06		       db 'Q'
TRANGROUP:9B07		       dw offset PRINT_EQ
TRANGROUP:9B09		       db 'T'
TRANGROUP:9B0A		       dw offset PRINT_TIME
TRANGROUP:9B0C		       db 'V'
TRANGROUP:9B0D		       dw offset PRINT_VERSION
TRANGROUP:9B0F		       db '_'
TRANGROUP:9B10		       dw offset CRLF2
TRANGROUP:9B12		       db '$'
TRANGROUP:9B13		       dw offset PRINT_CHAR
TRANGROUP:9B15		       db 0
TRANGROUP:9B16 IFTAB	       db 3		       ; ...
TRANGROUP:9B17		       db 'NOT'
TRANGROUP:9B1A		       dw offset IFNOT
TRANGROUP:9B1C		       db 10
TRANGROUP:9B1D		       db 'ERRORLEVEL'
TRANGROUP:9B27		       dw offset IFERLEV
TRANGROUP:9B29		       db 5
TRANGROUP:9B2A		       db 'EXIST'
TRANGROUP:9B2F		       dw offset IFEXISTS
TRANGROUP:9B31		       db 0
TRANGROUP:9B32 COMTAB	       db 3		       ; ...
TRANGROUP:9B33		       db 'DIR'
TRANGROUP:9B36		       db 3
TRANGROUP:9B37		       dw offset CATALOG
TRANGROUP:9B39		       dw offset DirHelpMsgs
TRANGROUP:9B3B		       db 4
TRANGROUP:9B3C		       db 'CALL'
TRANGROUP:9B40		       db 2
TRANGROUP:9B41		       dw offset _$CALL
TRANGROUP:9B43		       dw offset CallHelpMsgs
TRANGROUP:9B45		       db 4
TRANGROUP:9B46		       db 'CHCP'
TRANGROUP:9B4A		       db 2
TRANGROUP:9B4B		       dw offset CHCP
TRANGROUP:9B4D		       dw offset ChcpHelpMsgs
TRANGROUP:9B4F		       db 6
TRANGROUP:9B50		       db 'RENAME'
TRANGROUP:9B56		       db 3
TRANGROUP:9B57		       dw offset CRENAME
TRANGROUP:9B59		       dw offset RenHelpMsgs
TRANGROUP:9B5B		       db 3
TRANGROUP:9B5C		       db 'REN'
TRANGROUP:9B5F		       db 3
TRANGROUP:9B60		       dw offset CRENAME
TRANGROUP:9B62		       dw offset RenHelpMsgs
TRANGROUP:9B64		       db 5
TRANGROUP:9B65		       db 'ERASE'
TRANGROUP:9B6A		       db 3
TRANGROUP:9B6B		       dw offset ERASE
TRANGROUP:9B6D		       dw offset DelHelpMsgs
TRANGROUP:9B6F		       db 3
TRANGROUP:9B70		       db 'DEL'
TRANGROUP:9B73		       db 3
TRANGROUP:9B74		       dw offset ERASE
TRANGROUP:9B76		       dw offset DelHelpMsgs
TRANGROUP:9B78		       db 4
TRANGROUP:9B79		       db 'TYPE'
TRANGROUP:9B7D		       db 3
TRANGROUP:9B7E		       dw offset TYPEFIL
TRANGROUP:9B80		       dw offset TypeHelpMsgs
TRANGROUP:9B82		       db 3
TRANGROUP:9B83		       db 'REM'
TRANGROUP:9B86		       db 6
TRANGROUP:9B87		       dw offset TCOMMAND
TRANGROUP:9B89		       dw offset RemHelpMsgs
TRANGROUP:9B8B		       db 4
TRANGROUP:9B8C		       db 'COPY'
TRANGROUP:9B90		       db 3
TRANGROUP:9B91		       dw offset COPY
TRANGROUP:9B93		       dw offset CopyHelpMsgs
TRANGROUP:9B95		       db 5
TRANGROUP:9B96		       db 'PAUSE'
TRANGROUP:9B9B		       db 6
TRANGROUP:9B9C		       dw offset PAUSE
TRANGROUP:9B9E		       dw offset PauseHelpMsgs
TRANGROUP:9BA0		       db 4
TRANGROUP:9BA1		       db 'DATE'
TRANGROUP:9BA5		       db 2
TRANGROUP:9BA6		       dw offset DATE
TRANGROUP:9BA8		       dw offset DateHelpMsgs
TRANGROUP:9BAA		       db 4
TRANGROUP:9BAB		       db 'TIME'
TRANGROUP:9BAF		       db 2
TRANGROUP:9BB0		       dw offset CTIME
TRANGROUP:9BB2		       dw offset TimeHelpMsgs
TRANGROUP:9BB4		       db 3
TRANGROUP:9BB5		       db 'VER'
TRANGROUP:9BB8		       db 2
TRANGROUP:9BB9		       dw offset VERSION
TRANGROUP:9BBB		       dw offset VerHelpMsgs
TRANGROUP:9BBD		       db 3
TRANGROUP:9BBE		       db 'VOL'
TRANGROUP:9BC1		       db 3
TRANGROUP:9BC2		       dw offset VOLUME
TRANGROUP:9BC4		       dw offset VolHelpMsgs
TRANGROUP:9BC6		       db 2
TRANGROUP:9BC7		       db 'CD'
TRANGROUP:9BC9		       db 3
TRANGROUP:9BCA		       dw offset _$CHDIR
TRANGROUP:9BCC		       dw offset CdHelpMsgs
TRANGROUP:9BCE		       db 5
TRANGROUP:9BCF		       db 'CHDIR'
TRANGROUP:9BD4		       db 3
TRANGROUP:9BD5		       dw offset _$CHDIR
TRANGROUP:9BD7		       dw offset CdHelpMsgs
TRANGROUP:9BD9		       db 2
TRANGROUP:9BDA		       db 'MD'
TRANGROUP:9BDC		       db 3
TRANGROUP:9BDD		       dw offset _$MKDIR
TRANGROUP:9BDF		       dw offset MdHelpMsgs
TRANGROUP:9BE1		       db 5
TRANGROUP:9BE2		       db 'MKDIR'
TRANGROUP:9BE7		       db 3
TRANGROUP:9BE8		       dw offset _$MKDIR
TRANGROUP:9BEA		       dw offset MdHelpMsgs
TRANGROUP:9BEC		       db 2
TRANGROUP:9BED		       db 'RD'
TRANGROUP:9BEF		       db 3
TRANGROUP:9BF0		       dw offset _$RMDIR
TRANGROUP:9BF2		       dw offset RdHelpMsgs
TRANGROUP:9BF4		       db 5
TRANGROUP:9BF5		       db 'RMDIR'
TRANGROUP:9BFA		       db 3
TRANGROUP:9BFB		       dw offset _$RMDIR
TRANGROUP:9BFD		       dw offset RdHelpMsgs
TRANGROUP:9BFF		       db 5
TRANGROUP:9C00		       db 'BREAK'
TRANGROUP:9C05		       db 2
TRANGROUP:9C06		       dw offset CNTRLC
TRANGROUP:9C08		       dw offset BreakHelpMsgs
TRANGROUP:9C0A		       db 6
TRANGROUP:9C0B		       db 'VERIFY'
TRANGROUP:9C11		       db 2
TRANGROUP:9C12		       dw offset VERIFY
TRANGROUP:9C14		       dw offset VerifyHelpMsgs
TRANGROUP:9C16		       db 3
TRANGROUP:9C17		       db 'SET'
TRANGROUP:9C1A		       db 6
TRANGROUP:9C1B		       dw offset ADD_NAME_TO_ENVIRONMENT
TRANGROUP:9C1D		       dw offset SetHelpMsgs
TRANGROUP:9C1F		       db 6
TRANGROUP:9C20		       db 'PROMPT'
TRANGROUP:9C26		       db 6
TRANGROUP:9C27		       dw offset ADD_PROMPT
TRANGROUP:9C29		       dw offset PromptHelpMsgs
TRANGROUP:9C2B		       db 4
TRANGROUP:9C2C		       db 'PATH'
TRANGROUP:9C30		       db 2
TRANGROUP:9C31		       dw offset PATH
TRANGROUP:9C33		       dw offset PathHelpMsgs
TRANGROUP:9C35		       db 4
TRANGROUP:9C36		       db 'EXIT'
TRANGROUP:9C3A		       db 0
TRANGROUP:9C3B		       dw offset _$EXIT
TRANGROUP:9C3D		       dw offset ExitHelpMsgs
TRANGROUP:9C3F		       db 4
TRANGROUP:9C40		       db 'CTTY'
TRANGROUP:9C44		       db 3
TRANGROUP:9C45		       dw offset CTTY
TRANGROUP:9C47		       dw offset CttyHelpMsgs
TRANGROUP:9C49		       db 4
TRANGROUP:9C4A		       db 'ECHO'
TRANGROUP:9C4E		       db 6
TRANGROUP:9C4F		       dw offset ECHO
TRANGROUP:9C51		       dw offset EchoHelpMsgs
TRANGROUP:9C53		       db 4
TRANGROUP:9C54		       db 'GOTO'
TRANGROUP:9C58		       db 6
TRANGROUP:9C59		       dw offset GOTO
TRANGROUP:9C5B		       dw offset GotoHelpMsgs
TRANGROUP:9C5D		       db 5
TRANGROUP:9C5E		       db 'SHIFT'
TRANGROUP:9C63		       db 2
TRANGROUP:9C64		       dw offset SHIFT
TRANGROUP:9C66		       dw offset ShiftHelpMsgs
TRANGROUP:9C68		       db 2
TRANGROUP:9C69		       db 'IF'
TRANGROUP:9C6B		       db 6
TRANGROUP:9C6C		       dw offset _$IF
TRANGROUP:9C6E		       dw offset IfHelpMsgs
TRANGROUP:9C70		       db 3
TRANGROUP:9C71		       db 'FOR'
TRANGROUP:9C74		       db 6
TRANGROUP:9C75		       dw offset _$FOR
TRANGROUP:9C77		       dw offset ForHelpMsgs
TRANGROUP:9C79		       db 3
TRANGROUP:9C7A		       db 'CLS'
TRANGROUP:9C7D		       db 0
TRANGROUP:9C7E		       dw offset CLS
TRANGROUP:9C80		       dw offset ClsHelpMsgs
TRANGROUP:9C82		       db 8
TRANGROUP:9C83		       db 'TRUENAME'
TRANGROUP:9C8B		       db 3
TRANGROUP:9C8C		       dw offset TRUENAME
TRANGROUP:9C8E		       dw offset TruenameHelpMsgs
TRANGROUP:9C90		       db 8
TRANGROUP:9C91		       db 'LOADHIGH'
TRANGROUP:9C99		       db 2
TRANGROUP:9C9A		       dw offset LoadHigh
TRANGROUP:9C9C		       dw offset LoadhighHelpMsgs
TRANGROUP:9C9E		       db 2
TRANGROUP:9C9F		       db 'LH'
TRANGROUP:9CA1		       db 2
TRANGROUP:9CA2		       dw offset LoadHigh
TRANGROUP:9CA4		       dw offset LoadhighHelpMsgs
TRANGROUP:9CA6		       db 0
TRANGROUP:9CA7 comext	       db '.COM'               ; ...
TRANGROUP:9CAB exeext	       db '.EXE'               ; ...
TRANGROUP:9CAF batext	       db '.BAT'               ; ...
TRANGROUP:9CB3 switch_list     db '-Y?VBAPW'           ; ...
TRANGROUP:9CBB AttrLtrs	       db 'RHSvDA'             ; ...
TRANGROUP:9CC1 OrderLtrs       db 'NEDSGC'             ; ...
TRANGROUP:9CC7 comspec_flag    db 0		       ; ...
TRANGROUP:9CC8 BATBUFLEN       dw 32		       ; ...
TRANGROUP:9CCA NO_VALUES       dw 0		       ; ...
TRANGROUP:9CCC NULL_VALUE_LIST db 0		       ; ...
TRANGROUP:9CCD FILE_REQUIRED   dw 200h		       ; ...
TRANGROUP:9CCF		       dw 1
TRANGROUP:9CD1		       dw offset PARSE1_OUTPUT
TRANGROUP:9CD3		       dw offset NO_VALUES
TRANGROUP:9CD5		       db 0
TRANGROUP:9CD6 FILE_OPTIONAL   dw 301h		       ; ...
TRANGROUP:9CD8		       dw 1
TRANGROUP:9CDA		       dw offset PARSE1_OUTPUT
TRANGROUP:9CDC		       dw offset NO_VALUES
TRANGROUP:9CDE		       db 0
TRANGROUP:9CDF FILE_OPTIONAL2  dw 201h		       ; ...
TRANGROUP:9CE1		       dw 1
TRANGROUP:9CE3		       dw offset PARSE1_OUTPUT
TRANGROUP:9CE5		       dw offset NO_VALUES
TRANGROUP:9CE7		       db 0
TRANGROUP:9CE8 SLASH_P_SWITCH  dw 0		       ; ...
TRANGROUP:9CEA		       dw 2
TRANGROUP:9CEC		       dw offset PARSE1_OUTPUT
TRANGROUP:9CEE		       dw offset NO_VALUES
TRANGROUP:9CF0		       db 1
TRANGROUP:9CF1 SLASH_P_SYN     db '/P',0               ; ...
TRANGROUP:9CF4 PARSE_BREAK     dw offset BREAK_PARMS   ; ...
TRANGROUP:9CF6		       db 0
TRANGROUP:9CF7 BREAK_PARMS     db 0		       ; ...
TRANGROUP:9CF8		       db 1
TRANGROUP:9CF9		       dw offset BREAK_CONTROL1
TRANGROUP:9CFB		       db 0
TRANGROUP:9CFC		       db 0
TRANGROUP:9CFD BREAK_CONTROL1  dw 2001h		       ; ...
TRANGROUP:9CFF		       db 2
TRANGROUP:9D00		       db 0
TRANGROUP:9D01		       dw offset PARSE1_OUTPUT
TRANGROUP:9D03		       dw offset BREAK_VALUES
TRANGROUP:9D05		       db 0
TRANGROUP:9D06 BREAK_VALUES    db 3		       ; ...
TRANGROUP:9D07		       db 0
TRANGROUP:9D08		       db 0
TRANGROUP:9D09		       db 2
TRANGROUP:9D0A		       db 0
TRANGROUP:9D0B		       dw offset BREAK_ON      ; "ON"
TRANGROUP:9D0D		       db 'f'
TRANGROUP:9D0E		       dw offset BREAK_OFF     ; "OFF"
TRANGROUP:9D10 BREAK_ON	       db 'ON',0               ; ...
TRANGROUP:9D13 BREAK_OFF       db 'OFF',0              ; ...
TRANGROUP:9D17 PARSE_CHCP      dw offset CHCP_PARMS    ; ...
TRANGROUP:9D19		       db 0
TRANGROUP:9D1A CHCP_PARMS      db 0		       ; ...
TRANGROUP:9D1B		       db 1
TRANGROUP:9D1C		       dw offset CHCP_CONTROL1
TRANGROUP:9D1E		       db 0
TRANGROUP:9D1F		       db 0
TRANGROUP:9D20 CHCP_CONTROL1   dw 8001h		       ; ...
TRANGROUP:9D22		       dw 0
TRANGROUP:9D24		       dw offset PARSE1_OUTPUT
TRANGROUP:9D26		       dw offset CHCP_VALUES
TRANGROUP:9D28		       db 0
TRANGROUP:9D29 CHCP_VALUES     db 1		       ; ...
TRANGROUP:9D2A		       db 1
TRANGROUP:9D2B		       db 1
TRANGROUP:9D2C		       dd 100
TRANGROUP:9D30		       dd 999
TRANGROUP:9D34		       db 0
TRANGROUP:9D35		       db 0
TRANGROUP:9D36 PARSE_DATE      dw offset DATE_PARMS    ; ...
TRANGROUP:9D38		       db 0
TRANGROUP:9D39 DATE_PARMS      db 0		       ; ...
TRANGROUP:9D3A		       db 1
TRANGROUP:9D3B		       dw offset DATE_CONTROL1
TRANGROUP:9D3D		       db 0
TRANGROUP:9D3E		       db 0
TRANGROUP:9D3F DATE_CONTROL1   dw 1001h		       ; ...
TRANGROUP:9D41		       dw 0
TRANGROUP:9D43		       dw offset DATE_OUTPUT
TRANGROUP:9D45		       dw offset NO_VALUES
TRANGROUP:9D47		       db 0
TRANGROUP:9D48 PARSE_TIME      dw offset TIME_PARMS    ; ...
TRANGROUP:9D4A		       db 0
TRANGROUP:9D4B TIME_PARMS      db 0		       ; ...
TRANGROUP:9D4C		       db 1
TRANGROUP:9D4D		       dw offset TIME_CONTROL1
TRANGROUP:9D4F		       db 0
TRANGROUP:9D50		       db 0
TRANGROUP:9D51 TIME_CONTROL1   dw 801h		       ; ...
TRANGROUP:9D53		       dw 0
TRANGROUP:9D55		       dw offset TIME_OUTPUT
TRANGROUP:9D57		       dw offset NO_VALUES
TRANGROUP:9D59		       db 0
TRANGROUP:9D5A PARSE_VOL       dw offset VOL_PARMS     ; ...
TRANGROUP:9D5C		       db 0
TRANGROUP:9D5D VOL_PARMS       db 0		       ; ...
TRANGROUP:9D5E		       db 1
TRANGROUP:9D5F		       dw offset DRIVE_CONTROL1
TRANGROUP:9D61		       db 0
TRANGROUP:9D62		       db 0
TRANGROUP:9D63 DRIVE_CONTROL1  dw 101h		       ; ...
TRANGROUP:9D65		       dw 1
TRANGROUP:9D67		       dw offset DRIVE_OUTPUT
TRANGROUP:9D69		       dw offset NO_VALUES
TRANGROUP:9D6B		       db 0
TRANGROUP:9D6C PARSE_MRDIR     dw offset MRDIR_PARMS   ; ...
TRANGROUP:9D6E		       db 0
TRANGROUP:9D6F MRDIR_PARMS     db 1		       ; ...
TRANGROUP:9D70		       db 1
TRANGROUP:9D71		       dw offset FILE_REQUIRED
TRANGROUP:9D73		       db 0
TRANGROUP:9D74		       db 0
TRANGROUP:9D75 PARSE_CHDIR     dw offset CHDIR_PARMS   ; ...
TRANGROUP:9D77		       db 0
TRANGROUP:9D78 CHDIR_PARMS     db 0		       ; ...
TRANGROUP:9D79		       db 1
TRANGROUP:9D7A		       dw offset FILE_OPTIONAL
TRANGROUP:9D7C		       db 0
TRANGROUP:9D7D		       db 0
TRANGROUP:9D7E PARSE_ERASE     dw offset ERASE_PARMS   ; ...
TRANGROUP:9D80		       db 0
TRANGROUP:9D81 ERASE_PARMS     db 1		       ; ...
TRANGROUP:9D82		       db 1
TRANGROUP:9D83		       dw offset FILE_REQUIRED
TRANGROUP:9D85		       db 1
TRANGROUP:9D86		       dw offset SLASH_P_SWITCH
TRANGROUP:9D88		       db 0
TRANGROUP:9D89 PARSE_DIR       dw offset DIR_PARMS     ; ...
TRANGROUP:9D8B		       db 0
TRANGROUP:9D8C DIR_PARMS       db 0		       ; ...
TRANGROUP:9D8D		       db 1
TRANGROUP:9D8E		       dw offset FILE_OPTIONAL2
TRANGROUP:9D90		       db 2
TRANGROUP:9D91		       dw offset DIR_SW_VALUED
TRANGROUP:9D93		       dw offset DIR_SW_UNVALUED
TRANGROUP:9D95		       db 0
TRANGROUP:9D96 DIR_SW_VALUED   dw 2001h		       ; ...
TRANGROUP:9D98		       dw 21h
TRANGROUP:9D9A		       dw offset PARSE1_OUTPUT
TRANGROUP:9D9C		       dw offset NULL_VALUE_LIST
TRANGROUP:9D9E		       db 3
TRANGROUP:9D9F DIR_SW_A	       db '/A',0               ; ...
TRANGROUP:9DA2 DIR_SW_O	       db '/O',0               ; ...
TRANGROUP:9DA5 DIR_SW_C	       db '/C',0               ; ...
TRANGROUP:9DA8 DIR_SW_UNVALUED dw 0		       ; ...
TRANGROUP:9DAA		       dw 0
TRANGROUP:9DAC		       dw offset PARSE1_OUTPUT
TRANGROUP:9DAE		       dw offset NO_VALUES
TRANGROUP:9DB0		       db 13
TRANGROUP:9DB1 DIR_SW_NEG_A    db '/-A',0              ; ...
TRANGROUP:9DB5 DIR_SW_NEG_O    db '/-O',0              ; ...
TRANGROUP:9DB9 DIR_SW_S	       db '/S',0               ; ...
TRANGROUP:9DBC DIR_SW_NEG_S    db '/-S',0              ; ...
TRANGROUP:9DC0 DIR_SW_B	       db '/B',0               ; ...
TRANGROUP:9DC3 DIR_SW_NEG_B    db '/-B',0              ; ...
TRANGROUP:9DC7 DIR_SW_W	       db '/W',0               ; ...
TRANGROUP:9DCA DIR_SW_NEG_W    db '/-W',0              ; ...
TRANGROUP:9DCE DIR_SW_P	       db '/P',0               ; ...
TRANGROUP:9DD1 DIR_SW_NEG_P    db '/-P',0              ; ...
TRANGROUP:9DD5 DIR_SW_L	       db '/L',0               ; ...
TRANGROUP:9DD8 DIR_SW_NEG_L    db '/-L',0              ; ...
TRANGROUP:9DDC DIR_SW_NEG_C    db '/-C',0              ; ...
TRANGROUP:9DE0 Dir_Sw_Ptrs     dw offset DIR_SW_NEG_C  ; ...
TRANGROUP:9DE0					       ; "/-C"
TRANGROUP:9DE2 Dir_Sw_Ptrs_2   dw offset DIR_SW_C      ; ...
TRANGROUP:9DE2					       ; "/C"
TRANGROUP:9DE4		       dw offset DIR_SW_NEG_W  ; "/-W"
TRANGROUP:9DE6		       dw offset DIR_SW_W      ; "/W"
TRANGROUP:9DE8		       dw offset DIR_SW_NEG_P  ; "/-P"
TRANGROUP:9DEA		       dw offset DIR_SW_P      ; "/P"
TRANGROUP:9DEC		       dw offset DIR_SW_NEG_S  ; "/-S"
TRANGROUP:9DEE		       dw offset DIR_SW_S      ; "/S"
TRANGROUP:9DF0		       dw offset DIR_SW_NEG_B  ; "/-B"
TRANGROUP:9DF2		       dw offset DIR_SW_B      ; "/B"
TRANGROUP:9DF4		       dw offset DIR_SW_NEG_L  ; "/-L"
TRANGROUP:9DF6		       dw offset DIR_SW_L      ; "/L"
TRANGROUP:9DF8		       dw offset DIR_SW_NEG_O  ; "/-O"
TRANGROUP:9DFA		       dw offset DIR_SW_O      ; "/O"
TRANGROUP:9DFC		       dw offset DIR_SW_NEG_A  ; "/-A"
TRANGROUP:9DFE		       dw offset DIR_SW_A      ; "/A"
TRANGROUP:9E00 PARSE_RENAME    dw offset RENAME_PARMS  ; ...
TRANGROUP:9E02		       db 0
TRANGROUP:9E03 RENAME_PARMS    db 2		       ; ...
TRANGROUP:9E04		       db 2
TRANGROUP:9E05		       dw offset FILE_REQUIRED
TRANGROUP:9E07		       dw offset FILE_REQUIRED
TRANGROUP:9E09		       db 0
TRANGROUP:9E0A		       db 0
TRANGROUP:9E0B PARSE_CTTY      dw offset CTTY_PARMS    ; ...
TRANGROUP:9E0D		       db    0
TRANGROUP:9E0E CTTY_PARMS      db 1		       ; ...
TRANGROUP:9E0F		       db 1
TRANGROUP:9E10		       dw offset CTTY_CONTROL1
TRANGROUP:9E12		       db 0
TRANGROUP:9E13		       db 0
TRANGROUP:9E14 CTTY_CONTROL1   dw 2000h		       ; ...
TRANGROUP:9E16		       dw 11h
TRANGROUP:9E18		       dw offset PARSE1_OUTPUT
TRANGROUP:9E1A		       dw offset NO_VALUES
TRANGROUP:9E1C		       db 0
TRANGROUP:9E1D PARSE_VER       dw offset VER_PARMS     ; ...
TRANGROUP:9E1F		       db 0
TRANGROUP:9E20 VER_PARMS       db 0		       ; ...
TRANGROUP:9E21		       db 0
TRANGROUP:9E22		       db 1
TRANGROUP:9E23		       dw offset SLASH_R
TRANGROUP:9E25		       db 0
TRANGROUP:9E26 SLASH_R	       dw 0		       ; ...
TRANGROUP:9E28		       dw 2
TRANGROUP:9E2A		       dw offset PARSE1_OUTPUT
TRANGROUP:9E2C		       dw offset NO_VALUES
TRANGROUP:9E2E		       db 1
TRANGROUP:9E2F SLASH_R_SYN     db '/R',0
TRANGROUP:9E32 Parse_LoadHi    dw offset LoadHi_Parms
TRANGROUP:9E34		       db 0
TRANGROUP:9E35 LoadHi_Parms    db 1		       ; ...
TRANGROUP:9E36		       db 1
TRANGROUP:9E37		       dw offset FILE_REQUIRED
TRANGROUP:9E39		       db 0
TRANGROUP:9E3A		       db 0
TRANGROUP:9E3B TempVarName     db 'TEMP=',0            ; ...
TRANGROUP:9E41 copycmd	       db 'COPYCMD='           ; ...
TRANGROUP:9E49 sCVFRoot	       db '\DBLSPACE.'         ; ...
TRANGROUP:9E53 $P_ORDINAL      dw 0		       ; ...
TRANGROUP:9E55 $P_RC	       dw 0		       ; ...
TRANGROUP:9E57 $P_SI_Save      dw 0		       ; ...
TRANGROUP:9E59 $P_DX	       dw 0		       ; ...
TRANGROUP:9E5B $P_Terminator   db 0		       ; ...
TRANGROUP:9E5C $P_DBCSEV_OFF   dw 0		       ; ...
TRANGROUP:9E5E $P_DBCSEV_SEG   dw 0		       ; ...
TRANGROUP:9E60 $P_Flags	       db 0		       ; ...
TRANGROUP:9E61 $P_Flags2       db 0		       ; ...
TRANGROUP:9E62 $P_SaveSI_Cmpx  dw 0		       ; ...
TRANGROUP:9E64 $P_KEYorSW_Ptr  dw 0		       ; ...
TRANGROUP:9E66 $P_Save_EOB     dw 0		       ; ...
TRANGROUP:9E68 $P_Found_SYNONYM	dw 0		       ; ...
TRANGROUP:9E6A $P_STRING_BUF   db 128 dup(0)	       ; ...
TRANGROUP:9EEA $P_ORIG_ORD     dw 0		       ; ...
TRANGROUP:9EEC $P_ORIG_STACK   dw 0		       ; ...
TRANGROUP:9EEE $P_ORIG_SI      dw 0		       ; ...
TRANGROUP:9EF0 $P_Got_Time     db 0		       ; ...
TRANGROUP:9EF1 $P_Country_Info dw 0FFFFh	       ; ...
TRANGROUP:9EF3		       db 32 dup(0)
TRANGROUP:9F13 $P_1st_Val      dw 0		       ; ...
TRANGROUP:9F15 $P_2nd_Val      dw 0		       ; ...
TRANGROUP:9F17 $P_3rd_Val      dw 0		       ; ...
TRANGROUP:9F19 $P_4th_Val      dw 0		       ; ...
TRANGROUP:9F1B $P_Char_CAP_Ptr db 0FFh		       ; ...
TRANGROUP:9F1C		       dd 0
TRANGROUP:9F20 $P_File_CAP_Ptr db 0FFh		       ; ...
TRANGROUP:9F21		       dd 0
TRANGROUP:9F25 $P_FileSp_Char  db '[]|<>+=;"'          ; ...
TRANGROUP:9F2E $P_err_flag     db 0		       ; ...
TRANGROUP:9F2F $M_RT_$M_EXT_ERR_ADDRS dw 2 dup(	  0)   ; ...
TRANGROUP:9F33 $M_RT_$M_EXT_FILE dw 2 dup(   0)	       ; ...
TRANGROUP:9F37 $M_RT_$M_EXT_COMMAND dw 2 dup(	0)     ; ...
TRANGROUP:9F3B		       dd 0FFFFFFFFh
TRANGROUP:9F3F $M_RT_$M_PARSE_COMMAND dw 2 dup(	  0)   ; ...
TRANGROUP:9F43 $M_RT_$M_PARSE_ADDRS dw 2 dup(	0)     ; ...
TRANGROUP:9F47		       dd 0FFFFFFFFh
TRANGROUP:9F4B $M_RT_$M_CRIT_ADDRS dw 2	dup(   0)      ; ...
TRANGROUP:9F4F $M_RT_$M_CRIT_COMMAND dw	2 dup(	 0)    ; ...
TRANGROUP:9F53		       dd 0FFFFFFFFh
TRANGROUP:9F57 $M_RT_$M_DISK_PROC_ADDR dd 0FFFFFFFFh   ; ...
TRANGROUP:9F5B $M_RT_$M_CLASS_ADDRS dw 6 dup(	0)     ; ...
TRANGROUP:9F67		       dd 0FFFFFFFFh
TRANGROUP:9F6B $M_RT_$M_DBCS_VEC dw 2 dup(   0)	       ; ...
TRANGROUP:9F6F $M_RT_$M_HANDLE dw 0		       ; ...
TRANGROUP:9F71 $M_RT_$M_SIZE   db 0		       ; ...
TRANGROUP:9F72 $M_RT_$M_CRLF   dw 0A0Dh		       ; ...
TRANGROUP:9F74 $M_RT_$M_CLASS  db 0		       ; ...
TRANGROUP:9F75 $M_RT_$M_RETURN_ADDR dw 0	       ; ...
TRANGROUP:9F77 $M_RT_$M_MSG_NUM	dw 0		       ; ...
TRANGROUP:9F79 $M_RT_$M_DIVISOR	dw 10		       ; ...
TRANGROUP:9F7B $M_RT_$M_TEMP_BUF dw 2424h	       ; ...
TRANGROUP:9F7D $M_RT_$M_CURR_SEPARA db 5 dup( '$')
TRANGROUP:9F82 $M_RT_$M_THOU_SEPARA dw 2424h	       ; ...
TRANGROUP:9F84 $M_RT_$M_DECI_SEPARA dw 2424h	       ; ...
TRANGROUP:9F86 $M_RT_$M_DATE_SEPARA dw 2424h	       ; ...
TRANGROUP:9F88 $M_RT_$M_TIME_SEPARA dw 2424h	       ; ...
TRANGROUP:9F8A $M_RT_$M_CURR_FORMAT db 24h	       ; $
TRANGROUP:9F8B $M_RT_$M_SIG_DIGS_CU db 24h	       ; $
TRANGROUP:9F8C $M_RT_$M_TIME_FORMAT db 24h	       ; ...
TRANGROUP:9F8C					       ; $
TRANGROUP:9F8D		       db '$'                  ; 24h
TRANGROUP:9F8E		       db 2Dh dup( '$')
TRANGROUP:9FBB $M_RT_$M_BUF_TERM db '$'                ; ...
TRANGROUP:9FBC MsDosVer6_CCopy db 'MS DOS Version 6 (C)Copyright 1981-1994 Microsoft Corp Licensed M'
TRANGROUP:9FBC		       db 'aterial - Property of Microsoft All rights reserved '
TRANGROUP:A031 PRINTF_HANDLE   dw 0		       ; ...
TRANGROUP:A033 SRCXNAME	       db 87 dup(0)	       ; ...
TRANGROUP:A08A TRGXNAME	       db 87 dup(0)	       ; ...
TRANGROUP:A0E1 UCOMBUF	       db 131 dup(0)	       ; ...
TRANGROUP:A164 COMBUF	       db 131 dup(0)	       ; ...
TRANGROUP:A1E7 USERDIR1	       db 70 dup(0)	       ; ...
TRANGROUP:A22D EXECPATH	       db 131 dup(0)	       ; ...
TRANGROUP:A2B0 RE_INSTR	       db 83 dup(0)	       ; ...
TRANGROUP:A303 HEADCALL	       dw 0		       ; ...
TRANGROUP:A305 RESSEG	       dw 0		       ; ...
TRANGROUP:A307 TPA	       dw 0		       ; ...
TRANGROUP:A309 SWITCHAR	       db 0		       ; ...
TRANGROUP:A30A DIRCHAR	       db 0		       ; ...
TRANGROUP:A30B EXEC_ADDR       dd 0		       ; ...
TRANGROUP:A30F RCH_ADDR	       dd 0		       ; ...
TRANGROUP:A313		       dw 0
TRANGROUP:A315 TRAN_TPA	       dw 0		       ; ...
TRANGROUP:A317 CHKDRV	       db 0		       ; ...
TRANGROUP:A318 IFNOTFLAG       db 0		       ; ...
TRANGROUP:A319 CURDRV	       db 0		       ; ...
TRANGROUP:A31A PARM1	       db 0		       ; ...
TRANGROUP:A31B PARM2	       db 0		       ; ...
TRANGROUP:A31C COMSW	       dw 0		       ; ...
TRANGROUP:A31E ARG1S	       dw 0		       ; ...
TRANGROUP:A320 ARG2S	       dw 0		       ; ...
TRANGROUP:A322 ARGTS	       dw 0		       ; ...
TRANGROUP:A324 CFLAG	       db 0		       ; ...
TRANGROUP:A325 SPECDRV	       db 0		       ; ...
TRANGROUP:A326 BYTCNT	       dw 0		       ; ...
TRANGROUP:A328 savBytCnt       dw 0		       ; ...
TRANGROUP:A32A NXTADD	       dw 0		       ; ...
TRANGROUP:A32C FRSTSRCH	       db 0		       ; ...
TRANGROUP:A32D LeftOnLine      db 0		       ; ...
TRANGROUP:A32E PerLine	       db 0		       ; ...
TRANGROUP:A32F LeftOnPage      dw 0		       ; ...
TRANGROUP:A331 FileCnt	       dw 0		       ; ...
TRANGROUP:A333 FileSiz	       dw 2 dup(   0)	       ; ...
TRANGROUP:A337 FileCntTotal    dw 2 dup(   0)	       ; ...
TRANGROUP:A33B FileSizTotal    dd 0		       ; ...
TRANGROUP:A33F ccluUsed	       dw 0		       ; ...
TRANGROUP:A341 ccluUsedDir     dw 0		       ; ...
TRANGROUP:A343 ccluUsedTotal   dw 0		       ; ...
TRANGROUP:A345 csecUsed	       dw 2 dup(   0)	       ; ...
TRANGROUP:A349 csecUsedDir     dw 2 dup(   0)	       ; ...
TRANGROUP:A34D csecUsedTotal   dd 0		       ; ...
TRANGROUP:A351 fhCVF	       dw 0		       ; ...
TRANGROUP:A353 szCVF	       db 16 dup(   0)	       ; ...
TRANGROUP:A363 MDBPB	       db 64 dup(   0)	       ; ...
TRANGROUP:A3A3 csecPerCluster  db 0		       ; ...
TRANGROUP:A3A4 fUseHostSize    db 0		       ; ...
TRANGROUP:A3A5 cFATEntries     dw 0		       ; ...
TRANGROUP:A3A7 entInBuf	       dw 0		       ; ...
TRANGROUP:A3A9 segFATBuf       dw 0		       ; ...
TRANGROUP:A3AB pbufDOSFAT      dw 0		       ; ...
TRANGROUP:A3AD pbufMDFAT       dw 0		       ; ...
TRANGROUP:A3AF bufDOSFAT       db 64 dup(   0)	       ; ...
TRANGROUP:A3EF bufMDFAT	       db 128 dup(   0)	       ; ...
TRANGROUP:A46F CHARBUF	       db 80 dup(   0)	       ; ...
TRANGROUP:A4BF IDLEN	       db 0		       ; ...
TRANGROUP:A4C0 ID	       db 8 dup(0)	       ; ...
TRANGROUP:A4C8 COM	       db 3 dup(   0)
TRANGROUP:A4CB DEST	       db 37 dup(   0)	       ; ...
TRANGROUP:A4F0 DESTNAME	       db 11 dup(   0)
TRANGROUP:A4FB DESTDIR	       db 67 dup(   0)	       ; ...
TRANGROUP:A53E BWDBUF	       dw 4 dup(   0)	       ; ...
TRANGROUP:A546 DIRBUF_8	       db 11 dup(   0)	       ; ...
TRANGROUP:A551 DIRBUF_8_DIR_ATTR db 0		       ; ...
TRANGROUP:A552		       db 0
TRANGROUP:A553 DIRBUF_find_buf_attr db 0	       ; ...
TRANGROUP:A554		       db 8 dup(   0)
TRANGROUP:A55C DIRBUF_find_buf_pname db	13 dup(	  0)   ; ...
TRANGROUP:A569		       db 27 dup(   0)
TRANGROUP:A584 SDIRBUF	       db 12 dup(   0)	       ; ...
TRANGROUP:A590 _Bits	       dw 0		       ; ...
TRANGROUP:A592 PathCnt	       dw 0		       ; ...
TRANGROUP:A594 PathPos	       dw 0		       ; ...
TRANGROUP:A596 PathSw	       dw 0		       ; ...
TRANGROUP:A598 AttrSpecified   db 0		       ; ...
TRANGROUP:A599 AttrSelect      db 0		       ; ...
TRANGROUP:A59A comma	       db 0		       ; ...
TRANGROUP:A59B plus_comma      db 0		       ; ...
TRANGROUP:A59C DirFlag	       db 0		       ; ...
TRANGROUP:A59D parse_last      dw 0		       ; ...
TRANGROUP:A59F system_cpage    dw 0		       ; ...
TRANGROUP:A5A1 Arg_Buf	       db 128 dup(0)	       ; ...
TRANGROUP:A621 File_Size_Low   dw 0		       ; ...
TRANGROUP:A623 File_Size_High  dw 0		       ; ...
TRANGROUP:A625 string_ptr_2    dw 0		       ; ...
TRANGROUP:A627 Copy_num	       dw 0		       ; ...
TRANGROUP:A629 cpyflag	       db 0		       ; ...
TRANGROUP:A62A Dir_Num	       dw 0		       ; ...
TRANGROUP:A62C Dir_CRatio_1    db 0		       ; ...
TRANGROUP:A62D Dir_CRatio_2    db 0		       ; ...
TRANGROUP:A62E Bytes_Free      dd 0		       ; ...
TRANGROUP:A632 Major_Ver_Num   dw 0		       ; ...
TRANGROUP:A634 Minor_Ver_Num   dw 0		       ; ...
TRANGROUP:A636 One_Char_Val    db 0		       ; ...
TRANGROUP:A637		       db 0
TRANGROUP:A638 vol_drv	       db 0		       ; ...
TRANGROUP:A639 ROM_CALL	       db 0		       ; ...
TRANGROUP:A63A ROM_IP	       dw 0		       ; ...
TRANGROUP:A63C ROM_CS	       dw 0		       ; ...
TRANGROUP:A63E DestIsDir       db 0		       ; ...
TRANGROUP:A63F DestSiz	       db 0		       ; ...
TRANGROUP:A640 DestTail	       dw 0		       ; ...
TRANGROUP:A642 DestInfo	       db 0		       ; ...
TRANGROUP:A643 DestBuf	       db 87 dup(   0)	       ; ...
TRANGROUP:A69A EndDestBuf      dw 0		       ; ...
TRANGROUP:A69C DESTISDEV       db 0		       ; ...
TRANGROUP:A69D FIRSTDEST       db 0		       ; ...
TRANGROUP:A69E MELCOPY	       db 0		       ; ...
TRANGROUP:A69F MELSTART	       dw 0		       ; ...
TRANGROUP:A6A1 SrcIsDir	       db 0		       ; ...
TRANGROUP:A6A2 SrcSiz	       db 0		       ; ...
TRANGROUP:A6A3 SrcTail	       dw 0		       ; ...
TRANGROUP:A6A5 SrcInfo	       db 0		       ; ...
TRANGROUP:A6A6 SrcBuf	       db 87 dup(0)	       ; ...
TRANGROUP:A6FD SRCHAND	       dw 0		       ; ...
TRANGROUP:A6FF SRCISDEV	       db 0		       ; ...
TRANGROUP:A700 ScanBuf	       db 87 dup(   0)	       ; ...
TRANGROUP:A757 SRCPT	       dw 0		       ; ...
TRANGROUP:A759 INEXACT	       db 0		       ; ...
TRANGROUP:A75A NOWRITE	       db 0		       ; ...
TRANGROUP:A75B BINARY	       db 0		       ; ...
TRANGROUP:A75C WRITTEN	       dw 0		       ; ...
TRANGROUP:A75E TERMREAD	       db 0		       ; ...
TRANGROUP:A75F ASCII	       db 0		       ; ...
TRANGROUP:A760 PLUS	       db 0		       ; ...
TRANGROUP:A761 ObjCnt	       db 0		       ; ...
TRANGROUP:A762 CPDATE	       dw 0		       ; ...
TRANGROUP:A764 CPTIME	       dw 0		       ; ...
TRANGROUP:A766 OFilePtr_Lo     dw 0		       ; ...
TRANGROUP:A768 OFilePtr_Hi     dw 0		       ; ...
TRANGROUP:A76A OCtrlZ	       db 0		       ; ...
TRANGROUP:A76B cox_sublist_buff	db 11 dup(   0)	       ; ...
TRANGROUP:A776 cox_y_override  db 0		       ; ...
TRANGROUP:A777 cox_dest_file   db 0		       ; ...
TRANGROUP:A778 cox_src_file    db 0		       ; ...
TRANGROUP:A779 BATHAND	       dw 0		       ; ...
TRANGROUP:A77B STARTEL	       dw 0		       ; ...
TRANGROUP:A77D ELCNT	       db 0		       ; ...
TRANGROUP:A77E ELPOS	       db 0		       ; ...
TRANGROUP:A77F SKPDEL	       db 0		       ; ...
TRANGROUP:A780		       db 11 dup(   0)
TRANGROUP:A78B ext_entered     db 0		       ; ...
TRANGROUP:A78C Display_Ioctl   db 0		       ; ...
TRANGROUP:A78D		       db 0
TRANGROUP:A78E		       dw 14		       ; crt_ioctl_ln
TRANGROUP:A790		       dw 0
TRANGROUP:A792 display_mode    db 0
TRANGROUP:A793		       db 0
TRANGROUP:A794		       dw 0
TRANGROUP:A796		       dw 0
TRANGROUP:A798		       dw 0
TRANGROUP:A79A display_width   dw 0		       ; ...
TRANGROUP:A79C LinPerPag       dw 25		       ; ...
TRANGROUP:A79E vol_ioctl_buf   dw 0		       ; ...
TRANGROUP:A7A0 vol_serial      dd 0		       ; ...
TRANGROUP:A7A4		       db 0Bh dup( 20h)
TRANGROUP:A7AF		       db 8 dup( 20h)
TRANGROUP:A7B7 expand_star     db 0		       ; ...
TRANGROUP:A7B8 msg_flag	       db 0		       ; ...
TRANGROUP:A7B9 Msg_Numb	       dw 0		       ; ...
TRANGROUP:A7BB append_exec     db 0		       ; ...
TRANGROUP:A7BC print_err_flag  dw 0		       ; ...
TRANGROUP:A7BE subst_buffer    db 22 dup(   0)	       ; ...
TRANGROUP:A7D4 KPARSE	       db 0		       ; ...
TRANGROUP:A7D5 ARG_ARGV	       dw 0		       ; ...
TRANGROUP:A7D7 ARGV0_ARG_FLAGS db 0		       ; ...
TRANGROUP:A7D8 ARGV0_ARGSTARTEL	dw 0		       ; ...
TRANGROUP:A7DA ARGV0_ARGLEN    dw 0		       ; ...
TRANGROUP:A7DC ARGV0_ARGSW_WORD	dw 0		       ; ...
TRANGROUP:A7DE ARGV0_OCOMPTR   dw 0		       ; ...
TRANGROUP:A7E0 ARGV1_ARGPOINTER	dw 0		       ; ...
TRANGROUP:A7E2		       dw 0
TRANGROUP:A7E4		       dw 0
TRANGROUP:A7E6		       db 0
TRANGROUP:A7E7 ARGV1_ARGSW_WORD	dw 0		       ; ...
TRANGROUP:A7E9		       dw 0
TRANGROUP:A7EB ARGV2_ARGPOINTER	dw 0		       ; ...
TRANGROUP:A7ED		       db 5 dup(0)
TRANGROUP:A7F2 ARGV2_ARGSW_WORD	dw 0		       ; ...
TRANGROUP:A7F4		       db 673 dup(0)
TRANGROUP:AA95 ARG_ARGVCNT     dw 0		       ; ...
TRANGROUP:AA97 ARG_ARGSWINFO   dw 0		       ; ...
TRANGROUP:AA99 ARG_ARGBUF      db 512 dup(   0)	       ; ...
TRANGROUP:AC99 ARG_ARGFORCOMBUF	db 128 dup(   0)       ; ...
TRANGROUP:AD19 ARGBUF_PTR      dw 0		       ; ...
TRANGROUP:AD1B TPBUF	       db 128 dup(   0)	       ; ...
TRANGROUP:AD9B LASTARG	       dw 0		       ; ...
TRANGROUP:AD9D COMPTR	       dw 0		       ; ...
TRANGROUP:AD9F FBUF	       db 43 dup(   0)	       ; ...
TRANGROUP:ADCA pathinfo	       dw 3 dup(   0)	       ; ...
TRANGROUP:ADD0 psep_char       db 0		       ; ...
TRANGROUP:ADD1 search_best     db 0		       ; ...
TRANGROUP:ADD2 search_best_buf db 13 dup(   0)	       ; ...
TRANGROUP:ADDF search_curdir_buf db 64 dup(   0)       ; ...
TRANGROUP:AE1F search_error    dw 0		       ; ...
TRANGROUP:AE21 IF_NOT_COUNT    dw 0		       ; ...
TRANGROUP:AE23 zflag	       db 0		       ; ...
TRANGROUP:AE24		       db 256 dup(   0)
TRANGROUP:AF24 STACK	       db 32 dup(0)	       ; ...
TRANGROUP:AF44 CountryPtrInfo  db 0		       ; ...
TRANGROUP:AF45 CountryPtr      dd 0		       ; ...
TRANGROUP:AF49 OldCtrlCHandler dd 0		       ; ...
TRANGROUP:AF4D BATBUFPOS       dw 0		       ; ...
TRANGROUP:AF4F BATBUF	       db 32 dup(   0)	       ; ...
TRANGROUP:AF6F BATBUFEND       dw 0		       ; ...
TRANGROUP:AF71 TypeFilSiz      dw 2 dup(   0)	       ; ...
TRANGROUP:AF75 PARSE1_OUTPUT   db 0		       ; ...
TRANGROUP:AF76 PARSE1_CODE     db 0		       ; ...
TRANGROUP:AF77 PARSE1_SYN      dw 0		       ; ...
TRANGROUP:AF79 PARSE1_ADDR     dd 0		       ; ...
TRANGROUP:AF7D DATE_OUTPUT     db 0		       ; ...
TRANGROUP:AF7E		       db 0
TRANGROUP:AF7F		       dw 0
TRANGROUP:AF81 DATE_YEAR       dw 0		       ; ...
TRANGROUP:AF83 DATE_MONTH      db 0		       ; ...
TRANGROUP:AF84 DATE_DAY	       db 0		       ; ...
TRANGROUP:AF85 TIME_OUTPUT     db 0		       ; ...
TRANGROUP:AF86		       db 0
TRANGROUP:AF87		       dw 0
TRANGROUP:AF89 TIME_HOUR       db 0		       ; ...
TRANGROUP:AF8A TIME_MINUTES    db 0		       ; ...
TRANGROUP:AF8B TIME_SECONDS    db 0		       ; ...
TRANGROUP:AF8C TIME_FRACTION   db 0		       ; ...
TRANGROUP:AF8D DRIVE_OUTPUT    db 0		       ; ...
TRANGROUP:AF8E DRIVE_VALUE     db 0
TRANGROUP:AF8F		       dw 0
TRANGROUP:AF91 DRIVE_NUMBER    db 0
TRANGROUP:AF92		       db 3 dup(   0)
TRANGROUP:AF92 TRANGROUP       ends
TRANGROUP:AF92
TRANGROUP:AF92
TRANGROUP:AF92		       end StartCode
