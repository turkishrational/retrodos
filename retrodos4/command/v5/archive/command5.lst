RESGROUP:0100 ;
RESGROUP:0100 ;	иммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм╩
RESGROUP:0100 ;	╨     This file	is generated by	The Interactive	Disassembler (IDA)	  ╨
RESGROUP:0100 ;	╨     Copyright	(c) 2010 by Hex-Rays SA, <support@hex-rays.com>		  ╨
RESGROUP:0100 ;	╨		       Licensed	to: Freeware version			  ╨
RESGROUP:0100 ;	хммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм╪
RESGROUP:0100 ;
RESGROUP:0100 ;	Input MD5   : C2EA62CA46CEA5463CF1DDA84A239CC1
RESGROUP:0100
RESGROUP:0100 ;	File Name   : C:\Users\ErdoПan\Desktop\COMMAND.COM
RESGROUP:0100 ;	Format	    : MS-DOS COM-file
RESGROUP:0100 ;	Base Address: 0h Range:	100h-BBE5h Loaded length: BAE5h
RESGROUP:0100
RESGROUP:0100		      .386
RESGROUP:0100		      .model tiny
RESGROUP:0100
RESGROUP:0100 ;	ммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм
RESGROUP:0100
RESGROUP:0100 ;	Segment	type: Pure code
RESGROUP:0100 RESGROUP	      segment byte public 'CODE' use16
RESGROUP:0100		      assume cs:RESGROUP
RESGROUP:0100		      org 100h
RESGROUP:0100		      assume es:nothing, ss:nothing, ds:RESGROUP, fs:nothing, gs:nothing
RESGROUP:0100
RESGROUP:0100 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:0100
RESGROUP:0100 ;	Attributes: thunk
RESGROUP:0100
RESGROUP:0100		      public StartCode
RESGROUP:0100 StartCode	      proc near
RESGROUP:0100		      jmp     ConProc
RESGROUP:0100 StartCode	      endp
RESGROUP:0100
RESGROUP:0100 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0103 VersionByte     db 0
RESGROUP:0104 Int2f_Entry     dd MsgInt2fHandler      ;	...
RESGROUP:0108 Int2e_Entry     dd Int_2e		      ;	...
RESGROUP:010C Ctrlc_Entry     dd ContC		      ;	...
RESGROUP:0110 CritErr_Entry   dd DskErr		      ;	...
RESGROUP:0114 Exec_Entry      dd 0		      ;	...
RESGROUP:0118 RemCheck_Entry  dd 0		      ;	...
RESGROUP:011C TrnLodCom1_Entry dd 0		      ;	...
RESGROUP:0120 LodCom_Entry    dd 0		      ;	...
RESGROUP:0124 MsgRetrv_Entry  dd 0		      ;	...
RESGROUP:0128 HeadFix_Entry   dd 0		      ;	...
RESGROUP:012C UMBOff_Entry    dd 0		      ;	...
RESGROUP:0130 XMMCallAddr     dd 0		      ;	...
RESGROUP:0134 ComInHMA	      db 0		      ;	...
RESGROUP:0135 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0135
RESGROUP:0135 Int2f_Trap:			      ;	...
RESGROUP:0135		      sti
RESGROUP:0136		      call    CheckA20
RESGROUP:0139		      push    ds
RESGROUP:013A		      push    cs
RESGROUP:013B		      jmp     cs:Int2f_Entry
RESGROUP:0140 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0140
RESGROUP:0140 Int2e_Trap:			      ;	...
RESGROUP:0140		      sti
RESGROUP:0141		      call    CheckA20
RESGROUP:0144		      push    ds
RESGROUP:0145		      push    cs
RESGROUP:0146		      jmp     cs:Int2e_Entry
RESGROUP:014B ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:014B
RESGROUP:014B Ctrlc_Trap:			      ;	...
RESGROUP:014B		      sti
RESGROUP:014C		      call    CheckA20
RESGROUP:014F		      push    ds
RESGROUP:0150		      push    cs
RESGROUP:0151		      jmp     cs:Ctrlc_Entry
RESGROUP:0156 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0156
RESGROUP:0156 CritErr_Trap:			      ;	...
RESGROUP:0156		      sti
RESGROUP:0157		      call    CheckA20
RESGROUP:015A		      push    ds
RESGROUP:015B		      push    cs
RESGROUP:015C		      jmp     cs:CritErr_Entry
RESGROUP:0161 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0161
RESGROUP:0161 Exec_Trap:			      ;	...
RESGROUP:0161		      call    CheckA20
RESGROUP:0164		      push    ds
RESGROUP:0165		      push    cs
RESGROUP:0166		      jmp     cs:Exec_Entry
RESGROUP:016B ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:016B
RESGROUP:016B RemCheck_Trap:			      ;	...
RESGROUP:016B		      call    CheckA20
RESGROUP:016E		      push    ds
RESGROUP:016F		      push    cs
RESGROUP:0170		      jmp     cs:RemCheck_Entry
RESGROUP:0175 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0175
RESGROUP:0175 TrnLodCom1_Trap:			      ;	...
RESGROUP:0175		      call    CheckA20
RESGROUP:0178		      push    ds
RESGROUP:0179		      push    cs
RESGROUP:017A		      jmp     cs:TrnLodCom1_Entry
RESGROUP:017F ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:017F ;	START OF FUNCTION CHUNK	FOR ConProc
RESGROUP:017F
RESGROUP:017F LodCom_Trap:			      ;	...
RESGROUP:017F		      call    CheckA20
RESGROUP:0182		      push    ds
RESGROUP:0183		      push    cs
RESGROUP:0184		      jmp     cs:LodCom_Entry
RESGROUP:0184 ;	END OF FUNCTION	CHUNK FOR ConProc
RESGROUP:0189 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0189
RESGROUP:0189 MsgRetrv_Trap:			      ;	...
RESGROUP:0189		      call    CheckA20
RESGROUP:018C		      push    ds
RESGROUP:018D		      push    cs
RESGROUP:018E		      jmp     cs:MsgRetrv_Entry
RESGROUP:0193 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0193
RESGROUP:0193 HeadFix_Trap:			      ;	...
RESGROUP:0193		      call    CheckA20
RESGROUP:0196		      push    ds
RESGROUP:0197		      push    cs
RESGROUP:0198		      jmp     cs:HeadFix_Entry
RESGROUP:019D
RESGROUP:019D ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:019D
RESGROUP:019D
RESGROUP:019D CheckA20	      proc near		      ;	...
RESGROUP:019D		      pushf
RESGROUP:019E		      cmp     cs:ComInHMA, 0
RESGROUP:01A4		      jz      short A20_on
RESGROUP:01A6		      call    QueryA20
RESGROUP:01A9		      jnb     short A20_on
RESGROUP:01AB		      call    EnableA20
RESGROUP:01AE
RESGROUP:01AE A20_on:				      ;	...
RESGROUP:01AE		      popf
RESGROUP:01AF		      retn
RESGROUP:01AF CheckA20	      endp
RESGROUP:01AF
RESGROUP:01B0 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:01B0
RESGROUP:01B0 Carousel_i2f_Hook:		      ;	...
RESGROUP:01B0		      jmp     far ptr Int2f_Trap
RESGROUP:01B5
RESGROUP:01B5 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:01B5
RESGROUP:01B5
RESGROUP:01B5 QueryA20	      proc near		      ;	...
RESGROUP:01B5		      push    bx
RESGROUP:01B6		      push    ax
RESGROUP:01B7		      mov     ah, 7
RESGROUP:01B9		      call    cs:XMMCallAddr
RESGROUP:01BE		      or      ax, ax
RESGROUP:01C0		      pop     ax
RESGROUP:01C1		      pop     bx
RESGROUP:01C2		      jnz     short QA20_ON
RESGROUP:01C4		      stc
RESGROUP:01C5		      retn
RESGROUP:01C6 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:01C6
RESGROUP:01C6 QA20_ON:				      ;	...
RESGROUP:01C6		      clc
RESGROUP:01C7		      retn
RESGROUP:01C7 QueryA20	      endp
RESGROUP:01C7
RESGROUP:01C8
RESGROUP:01C8 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:01C8
RESGROUP:01C8
RESGROUP:01C8 EnableA20	      proc near		      ;	...
RESGROUP:01C8		      push    bx
RESGROUP:01C9		      push    ax
RESGROUP:01CA		      mov     ah, 5
RESGROUP:01CC		      call    cs:XMMCallAddr
RESGROUP:01D1		      or      ax, ax
RESGROUP:01D3		      jz      short XMMerror
RESGROUP:01D5		      pop     ax
RESGROUP:01D6		      pop     bx
RESGROUP:01D7		      retn
RESGROUP:01D8 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:01D8
RESGROUP:01D8 XMMerror:				      ;	...
RESGROUP:01D8		      jmp     short XMMerror
RESGROUP:01D8 EnableA20	      endp
RESGROUP:01D8
RESGROUP:01DA ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:01DA
RESGROUP:01DA Issue_Exec_Call:			      ;	...
RESGROUP:01DA		      int     21h	      ;	DOS -
RESGROUP:01DC		      cli
RESGROUP:01DD		      push    cs
RESGROUP:01DE		      pop     ss
RESGROUP:01DF		      assume ss:RESGROUP
RESGROUP:01DF		      mov     sp, offset RStack	; 53Eh
RESGROUP:01E2		      sti
RESGROUP:01E3		      push    cs
RESGROUP:01E4		      pop     ds
RESGROUP:01E5		      pushf
RESGROUP:01E6		      mov     al, cs:fInHigh
RESGROUP:01EA		      test    al, 80h
RESGROUP:01EC		      jz      short uhu10
RESGROUP:01EE		      and     al, 7Fh
RESGROUP:01F0		      call    cs:UMBOff_Entry
RESGROUP:01F5
RESGROUP:01F5 uhu10:				      ;	...
RESGROUP:01F5		      and     cs:fInHigh, 7Fh
RESGROUP:01FB		      popf
RESGROUP:01FC		      jmp     Exec_Trap
RESGROUP:01FC ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:01FF BlkDevErrSubst  db 2		      ;	...
RESGROUP:0200 BlkDevErrRw     dw 0		      ;	...
RESGROUP:0202		      db 1
RESGROUP:0203		      dw offset	DrvLet
RESGROUP:0205 DrvLet	      db 'A'                  ; ...
RESGROUP:0206 CharDevErrSubst db 2		      ;	...
RESGROUP:0207 CharDevErrRw    dw 0		      ;	...
RESGROUP:0209		      db 2
RESGROUP:020A CharDevErrDev   dw offset	DevName
RESGROUP:020C DevName	      db 8 dup(0)	      ;	...
RESGROUP:0214		      db 0
RESGROUP:0215 NeedVolSubst    db 2		      ;	...
RESGROUP:0216		      dw offset	VolName
RESGROUP:0218		      db 3
RESGROUP:0219		      dw offset	VolSer+2
RESGROUP:021B		      db 3
RESGROUP:021C		      dw offset	VolSer
RESGROUP:021E VolName	      db 11 dup(0)	      ;	...
RESGROUP:0229		      db 0
RESGROUP:022A VolSer	      dd 0		      ;	...
RESGROUP:022E CDevAt	      db 0		      ;	...
RESGROUP:022F BadFatSubst     db 1		      ;	...
RESGROUP:0230		      dw offset	DrvLet
RESGROUP:0232 PutBackSubst    db 2		      ;	...
RESGROUP:0233 PutBackComSpec  dw 0		      ;	...
RESGROUP:0235		      db 1
RESGROUP:0236		      dw offset	PutBackDrv
RESGROUP:0238 PutBackDrv      db 20h		      ;	...
RESGROUP:0239 ExecErrSubst    db 2		      ;	...
RESGROUP:023A		      dw offset	SafePathBuffer
RESGROUP:023C NeedVol	      dd 0		      ;	...
RESGROUP:0240 ErrType	      db 0		      ;	...
RESGROUP:0241 Int_2e_Ret      dd 0		      ;	...
RESGROUP:0245 Save_Pdb	      dw 0		      ;	...
RESGROUP:0247 Parent	      dw 0		      ;	...
RESGROUP:0249 OldTerm	      dw 2 dup(0)	      ;	...
RESGROUP:024D ErrCd_24	      dw 0		      ;	...
RESGROUP:024F Handle01	      dw 0		      ;	...
RESGROUP:0251 Loading	      db 0		      ;	...
RESGROUP:0252 Batch	      dw 0		      ;	...
RESGROUP:0254 ComSpec	      db 64 dup(0)	      ;	...
RESGROUP:0294 ComSpec_End     dw 0		      ;	...
RESGROUP:0296 Trans	      dw offset	COMMAND	      ;	...
RESGROUP:0298 TrnSeg	      dw 0		      ;	...
RESGROUP:029A TrnMvFlg	      db 0		      ;	...
RESGROUP:029B In_Batch	      db 0		      ;	...
RESGROUP:029C Batch_Abort     db 0		      ;	...
RESGROUP:029D ComDrv	      db 0		      ;	...
RESGROUP:029E MemSiz	      dw 0		      ;	...
RESGROUP:02A0 Sum	      dw 0		      ;	...
RESGROUP:02A2 ExtCom	      db 1		      ;	...
RESGROUP:02A3 RetCode	      dw 0		      ;	...
RESGROUP:02A5 Crit_Err_Info   db 0		      ;	...
RESGROUP:02A6 EchoFlag	      db 1		      ;	...
RESGROUP:02A7 Suppress	      db 1		      ;	...
RESGROUP:02A8 Io_Save	      dw 0		      ;	...
RESGROUP:02AA RestDir	      db 0		      ;	...
RESGROUP:02AB PermCom	      db 0		      ;	...
RESGROUP:02AC SingleCom	      dw 0		      ;	...
RESGROUP:02AE VerVal	      dw 0FFFFh		      ;	...
RESGROUP:02B0 fFail	      db 0		      ;	...
RESGROUP:02B1 IfFlag	      db 0		      ;	...
RESGROUP:02B2 ForFlag	      db 0		      ;	...
RESGROUP:02B3 ForPtr	      dw 0		      ;	...
RESGROUP:02B5 Nest	      dw 0		      ;	...
RESGROUP:02B7 Call_Flag	      db 0		      ;	...
RESGROUP:02B8 Call_Batch_Flag db 0		      ;	...
RESGROUP:02B9 Next_Batch      dw 0		      ;	...
RESGROUP:02BB NullFlag	      db 0		      ;	...
RESGROUP:02BC FUCase_Addr     db 5 dup(0)	      ;	...
RESGROUP:02C1 Crit_Msg_Off    dw 0		      ;	...
RESGROUP:02C3 Crit_Msg_Seg    dw 0		      ;	...
RESGROUP:02C5 Dbcs_Vector_Addr dw 2 dup(0)	      ;	...
RESGROUP:02C9 Append_State    dw 0		      ;	...
RESGROUP:02CB Append_Flag     db 0		      ;	...
RESGROUP:02CC Re_Out_App      db 0		      ;	...
RESGROUP:02CD Re_OutStr	      db 80 dup(0)	      ;	...
RESGROUP:031D InitFlag	      db 1		      ;	...
RESGROUP:031E PipeFlag	      db 0		      ;	...
RESGROUP:031F PipeFiles	      db 0		      ;	...
RESGROUP:0320 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0320 ;	START OF FUNCTION CHUNK	FOR ConProc
RESGROUP:0320
RESGROUP:0320 EndInit:				      ;	...
RESGROUP:0320		      push    ds
RESGROUP:0321		      push    es
RESGROUP:0322		      push    cs
RESGROUP:0323		      pop     ds
RESGROUP:0324		      mov     dx, TrnSize
RESGROUP:0328		      mov     ax, OldEnv
RESGROUP:032B		      mov     bx, EnvSiz
RESGROUP:032F		      mov     cx, UsedEnv
RESGROUP:0333		      push    ax
RESGROUP:0334		      push    bx
RESGROUP:0335		      push    cx
RESGROUP:0336		      mov     bx, ds
RESGROUP:0338		      mov     es, bx
RESGROUP:033A		      assume es:RESGROUP
RESGROUP:033A		      mov     bx, ResSize
RESGROUP:033E		      mov     ah, 4Ah
RESGROUP:0340		      int     21h	      ;	DOS - 2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
RESGROUP:0340					      ;	ES = segment address of	block to change
RESGROUP:0340					      ;	BX = new size in paragraphs
RESGROUP:0342		      cmp     PermCom, 1
RESGROUP:0347		      jnz     short adjust_env
RESGROUP:0349		      cmp     Batch, 0
RESGROUP:034E		      jz      short adjust_env
RESGROUP:0350		      mov     bx, 4
RESGROUP:0353		      mov     ah, 48h
RESGROUP:0355		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:0355					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:0357		      jb      short adjust_env
RESGROUP:0359		      mov     es, ax
RESGROUP:035B		      assume es:nothing
RESGROUP:035B		      xor     di, di
RESGROUP:035D		      xor     si, si
RESGROUP:035F		      push    ds
RESGROUP:0360		      mov     ds, Batch
RESGROUP:0364		      mov     cx, 33
RESGROUP:0367		      add     cx, 16
RESGROUP:036A		      cld
RESGROUP:036B		      rep movsb
RESGROUP:036D		      pop     ds
RESGROUP:036E		      mov     cx, es
RESGROUP:0370		      mov     es, Batch
RESGROUP:0374		      mov     ah, 49h
RESGROUP:0376		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:0376					      ;	ES = segment address of	area to	be freed
RESGROUP:0378		      mov     Batch, cx
RESGROUP:037C
RESGROUP:037C adjust_env:			      ;	...
RESGROUP:037C		      pop     cx
RESGROUP:037D		      pop     bx
RESGROUP:037E		      pop     bp
RESGROUP:037F		      mov     ah, 48h
RESGROUP:0381		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:0381					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:0383		      jb      short nomem_err
RESGROUP:0385		      mov     EnvirSeg,	ax
RESGROUP:0388		      mov     ds:2Ch, ax      ;	[PDB.ENVIRON]
RESGROUP:038B		      mov     es, ax
RESGROUP:038D		      push    ds
RESGROUP:038E		      mov     ds, bp
RESGROUP:0390		      xor     si, si
RESGROUP:0392		      mov     di, si
RESGROUP:0394		      cld
RESGROUP:0395		      rep movsb
RESGROUP:0397		      pop     ds
RESGROUP:0398		      cmp     AllocedEnv, 0
RESGROUP:039D		      jnz     short no_free
RESGROUP:039F		      mov     es, bp
RESGROUP:03A1		      mov     ah, 49h
RESGROUP:03A3		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:03A3					      ;	ES = segment address of	area to	be freed
RESGROUP:03A5
RESGROUP:03A5 no_free:				      ;	...
RESGROUP:03A5		      mov     TrnMvFlg,	1
RESGROUP:03AA		      push    es
RESGROUP:03AB		      mov     si, 2320h	      ;	mov si,TRANSTART (2320h)
RESGROUP:03AE		      mov     di, 0
RESGROUP:03B1		      mov     cx, 98C5h	      ;	TRANSIENT portion size
RESGROUP:03B4		      mov     bx, 0FFFFh
RESGROUP:03B7		      mov     ah, 48h
RESGROUP:03B9		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:03B9					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:03BB		      cmp     bx, dx
RESGROUP:03BD		      jb      short nomem_err
RESGROUP:03BF		      mov     ah, 48h
RESGROUP:03C1		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:03C1					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:03C3		      jb      short nomem_err
RESGROUP:03C5		      push    ax
RESGROUP:03C6		      add     ax, bx
RESGROUP:03C8		      sub     ax, dx
RESGROUP:03CA		      mov     TrnSeg, ax
RESGROUP:03CD		      mov     es, ax
RESGROUP:03CF		      pop     ax
RESGROUP:03D0		      add     si, cx
RESGROUP:03D2		      dec     si
RESGROUP:03D3		      add     di, cx
RESGROUP:03D5		      dec     di
RESGROUP:03D6		      std
RESGROUP:03D7		      rep movsb
RESGROUP:03D9		      cld
RESGROUP:03DA		      mov     es, ax
RESGROUP:03DC		      mov     ah, 49h
RESGROUP:03DE		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:03DE					      ;	ES = segment address of	area to	be freed
RESGROUP:03E0		      mov     InitFlag,	0
RESGROUP:03E5		      pop     es
RESGROUP:03E6		      pop     ds
RESGROUP:03E7		      jmp     LodCom_Trap
RESGROUP:03EA ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:03EA
RESGROUP:03EA nomem_err:			      ;	...
RESGROUP:03EA		      jmp     Alloc_error
RESGROUP:03EA ;	END OF FUNCTION	CHUNK FOR ConProc
RESGROUP:03EA ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:03ED EndCodeInit     db 84 dup(0)	      ;	db (EndPipe-EndCodeInit) dup(0)
RESGROUP:0441 InPipePtr	      dw 320h		      ;	...
RESGROUP:0441					      ;	offset Pipe1 (=	EndInit)
RESGROUP:0443 OutPipePtr      dw 36Fh		      ;	...
RESGROUP:0443					      ;	offset Pipe2 (=	EndInit+79)
RESGROUP:0445 EnvirSeg	      dw 0		      ;	...
RESGROUP:0447 Com_Ptr	      dw 80h, 0		      ;	...
RESGROUP:044B Com_Fcb1	      dw 5Ch, 0		      ;	...
RESGROUP:044F Com_Fcb2	      dw 6Ch, 0		      ;	...
RESGROUP:0453 TranVars	      dw offset	HeadFix_Trap  ;	...
RESGROUP:0455 MySeg	      dw 0		      ;	...
RESGROUP:0457 LTpa	      dw 0		      ;	...
RESGROUP:0459 RSwitChar	      db '/'                  ; ...
RESGROUP:045A RDirChar	      db '\'                  ; ...
RESGROUP:045B		      dw offset	Issue_Exec_Call
RESGROUP:045D MySeg1	      dw 0		      ;	...
RESGROUP:045F		      dw offset	RemCheck_Trap
RESGROUP:0461 MySeg2	      dw 0		      ;	...
RESGROUP:0463 ResTest	      dw 0
RESGROUP:0465 Res_Tpa	      dw 0		      ;	...
RESGROUP:0467 OldErrNo	      dw 0		      ;	...
RESGROUP:0469 SafePathBuffer  db 80 dup(0)	      ;	...
RESGROUP:04B9 Int2fHandler    dw 2 dup(0)	      ;	...
RESGROUP:04BD ResMsgEnd	      dw 0		      ;	...
RESGROUP:04BF ResSize	      dw 0		      ;	...
RESGROUP:04C1		      db 125 dup(0)
RESGROUP:053E RStack	      dw 0		      ;	...
RESGROUP:0540 fInHigh	      db 0		      ;	...
RESGROUP:0541 ABORT_CHAR      db 'A'                  ; ...
RESGROUP:0542 RETRY_CHAR      db 'R'                  ; ...
RESGROUP:0543 IGNORE_CHAR     db 'I'                  ; ...
RESGROUP:0544 FAIL_CHAR	      db 'F'                  ; ...
RESGROUP:0545 YES_CHAR	      db 'Y'                  ; ...
RESGROUP:0546 NO_CHAR	      db 'N'                  ; ...
RESGROUP:0547 REQ_ABORT	      db 5		      ;	...
RESGROUP:0548		      db 'Abort'
RESGROUP:054D REQ_RETRY	      db 7		      ;	...
RESGROUP:054E		      db ', Retry'
RESGROUP:0555 REQ_IGNORE      db 8		      ;	...
RESGROUP:0556		      db ', Ignore'
RESGROUP:055E REQ_FAIL	      db 6		      ;	...
RESGROUP:055F		      db ', Fail'
RESGROUP:0565 REQ_END	      db 1		      ;	...
RESGROUP:0566		      db '?'
RESGROUP:0567 MREAD	      db 8		      ;	...
RESGROUP:0568		      db 'reading'
RESGROUP:056F		      db 0
RESGROUP:0570 MWRITE	      db 8		      ;	...
RESGROUP:0571		      db 'writing'
RESGROUP:0578		      db 0
RESGROUP:0579 MDRIVE	      db 14		      ;	...
RESGROUP:057A		      db ' %1 drive %2',0Dh,0Ah
RESGROUP:0588 MDEVICE	      db 15		      ;	...
RESGROUP:0589		      db ' %1 device %2',0Dh,0Ah
RESGROUP:0598 MVOLSERIAL      db 38		      ;	...
RESGROUP:0599		      db 'Please insert volume %1 serial %2-%3',0Dh,0Ah
RESGROUP:05BF BADFATMSG	      db 37		      ;	...
RESGROUP:05C0		      db 'File allocation table bad, drive %1',0Dh,0Ah
RESGROUP:05E5 COMBAD	      db 21		      ;	...
RESGROUP:05E6		      db 'Invalid COMMAND.COM',0Dh,0Ah
RESGROUP:05FB PUTBACKMSG      db 33		      ;	...
RESGROUP:05FC		      db 'Insert disk with %1 in drive %2',0Dh,0Ah
RESGROUP:061D PROMPT	      db 33		      ;	...
RESGROUP:061E		      db 'Press any key to continue . . .',0Dh,0Ah
RESGROUP:063F ENDBATMES	      db 28		      ;	...
RESGROUP:0640		      db 0Dh,0Ah
RESGROUP:0640		      db 'Terminate batch job (Y/N)?'
RESGROUP:065C EXECEMES	      db 19		      ;	...
RESGROUP:065D		      db 'Cannot execute %1',0Dh,0Ah
RESGROUP:0670 EXEBAD	      db 19		      ;	...
RESGROUP:0671		      db 'Error in EXE file',0Dh,0Ah
RESGROUP:0684 TOOBIG	      db 34		      ;	...
RESGROUP:0685		      db 'Program too big to fit in memory',0Dh,0Ah
RESGROUP:06A7 NOHANDMES	      db 22		      ;	...
RESGROUP:06A8		      db 0Dh,0Ah
RESGROUP:06A8		      db 'No free file handles'
RESGROUP:06BE RBADNAM	      db 26		      ;	...
RESGROUP:06BF		      db 'Bad Command or file name',0Dh,0Ah
RESGROUP:06D9 ACCDEN	      db 14		      ;	...
RESGROUP:06DA		      db 'Access denied '
RESGROUP:06E8 BMEMMES	      db 25		      ;	...
RESGROUP:06E9		      db 0Dh,0Ah
RESGROUP:06E9		      db 'Memory allocation error'
RESGROUP:0702 HALTMES	      db 38		      ;	...
RESGROUP:0703		      db 0Dh,0Ah
RESGROUP:0705		      db 'Cannot load COMMAND, system halted',0Dh,0Ah
RESGROUP:0729 FRETMES	      db 33		      ;	...
RESGROUP:072A		      db 0Dh,0Ah
RESGROUP:072A		      db 'Cannot start COMMAND, exiting',0Dh,0Ah
RESGROUP:074B PATRICIDE	      db 46		      ;	...
RESGROUP:074C		      db 0Dh,0Ah
RESGROUP:074C		      db 'Top level process aborted, cannot continue',0Dh,0Ah
RESGROUP:077A NEWLINE	      db 2		      ;	...
RESGROUP:077B		      db 0Dh, 0Ah
RESGROUP:077D MsgPtrLists     dd 10C8Ch		      ;	...
RESGROUP:0781		      dw offset	PARSMSGPTRS   ;	parse error messages
RESGROUP:0783		      dw 1
RESGROUP:0785		      dw offset	EXTMSGPTRS    ;	extended/critical error	messages
RESGROUP:0787		      dw 1
RESGROUP:0789		      dw 0		      ;	File system error messages
RESGROUP:078B		      dw 0		      ;	are not	supported.
RESGROUP:078D		      dw offset	MsgRetrv_Trap
RESGROUP:078F MySeg3	      dw 0		      ;	...
RESGROUP:0791 CRMSG0	      db 19		      ;	...
RESGROUP:0792		      db 'Write protect error'
RESGROUP:07A5 CRMSG1	      db 12		      ;	...
RESGROUP:07A6		      db 'Invalid unit'
RESGROUP:07B2 CRMSG2	      db 9		      ;	...
RESGROUP:07B3		      db 'Not ready'
RESGROUP:07BC CRMSG3	      db 22		      ;	...
RESGROUP:07BD		      db 'Invalid device request'
RESGROUP:07D3 CRMSG4	      db 10		      ;	...
RESGROUP:07D4		      db 'Data error'
RESGROUP:07DE CRMSG5	      db 33		      ;	...
RESGROUP:07DF		      db 'Invalid device request parameters'
RESGROUP:0800 CRMSG6	      db 10		      ;	...
RESGROUP:0801		      db 'Seek error'
RESGROUP:080B CRMSG7	      db 18		      ;	...
RESGROUP:080C		      db 'Invalid media type'
RESGROUP:081E CRMSG8	      db 16		      ;	...
RESGROUP:081F		      db 'Sector not found'
RESGROUP:082F CRMSG9	      db 26		      ;	...
RESGROUP:0830		      db 'Printer out of paper error'
RESGROUP:084A CRMSG10	      db 17		      ;	...
RESGROUP:084B		      db 'Write fault error'
RESGROUP:085C CRMSG11	      db 16		      ;	...
RESGROUP:085D		      db 'Read fault error'
RESGROUP:086D CRMSG12	      db 15		      ;	...
RESGROUP:086E		      db 'General failure'
RESGROUP:087D CRMSG13	      db 17		      ;	...
RESGROUP:087E		      db 'Sharing violation'
RESGROUP:088F CRMSG14	      db 14		      ;	...
RESGROUP:0890		      db 'Lock violation'
RESGROUP:089E CRMSG15	      db 19		      ;	...
RESGROUP:089F		      db 'Invalid disk change'
RESGROUP:08B2 CRMSG16	      db 15		      ;	...
RESGROUP:08B3		      db 'FCB unavailable'
RESGROUP:08C2 CRMSG17	      db 25		      ;	...
RESGROUP:08C3		      db 'System resource exhausted'
RESGROUP:08DC CRMSG18	      db 18		      ;	...
RESGROUP:08DD		      db 'Code page mismatch'
RESGROUP:08EF CRMSG19	      db 12		      ;	...
RESGROUP:08F0		      db 'Out of input'
RESGROUP:08FC CRMSG20	      db 23		      ;	...
RESGROUP:08FD		      db 'Insufficient disk space'
RESGROUP:0914 CRITMSGPTRS     dw offset	CRMSG0	      ;	...
RESGROUP:0916		      dw offset	CRMSG1
RESGROUP:0918		      dw offset	CRMSG2
RESGROUP:091A		      dw offset	CRMSG3
RESGROUP:091C		      dw offset	CRMSG4
RESGROUP:091E		      dw offset	CRMSG5
RESGROUP:0920		      dw offset	CRMSG6
RESGROUP:0922		      dw offset	CRMSG7
RESGROUP:0924		      dw offset	CRMSG8
RESGROUP:0926		      dw offset	CRMSG9
RESGROUP:0928		      dw offset	CRMSG10
RESGROUP:092A		      dw offset	CRMSG11
RESGROUP:092C		      dw offset	CRMSG12
RESGROUP:092E		      dw offset	CRMSG13
RESGROUP:0930		      dw offset	CRMSG14
RESGROUP:0932		      dw offset	CRMSG15
RESGROUP:0934		      dw offset	CRMSG16
RESGROUP:0936		      dw offset	CRMSG17
RESGROUP:0938		      dw offset	CRMSG18
RESGROUP:093A		      dw offset	CRMSG19
RESGROUP:093C		      dw offset	CRMSG20
RESGROUP:093E PAERRMSG0	      db 19		      ;	...
RESGROUP:093F		      db 'Too many parameters'
RESGROUP:0952 PAERRMSG1	      db 26		      ;	...
RESGROUP:0953		      db 'Required parameter missing'
RESGROUP:096D PAERRMSG2	      db 14		      ;	...
RESGROUP:096E		      db 'Invalid switch'
RESGROUP:097C PAERRMSG3	      db 15		      ;	...
RESGROUP:097D		      db 'Invalid keyword'
RESGROUP:098C PAERRMSG4	      db 1		      ;	...
RESGROUP:098D		      db 20h
RESGROUP:098E PAERRMSG5	      db 36		      ;	...
RESGROUP:098F		      db 'Parameter value not in allowed range'
RESGROUP:09B3 PAERRMSG6	      db 27		      ;	...
RESGROUP:09B4		      db 'Parameter value not allowed'
RESGROUP:09CF PAERRMSG7	      db 27		      ;	...
RESGROUP:09D0		      db 'Parameter value not allowed'
RESGROUP:09EB PAERRMSG8	      db 28		      ;	...
RESGROUP:09EC		      db 'Parameter format not correct'
RESGROUP:0A08 PAERRMSG9	      db 17		      ;	...
RESGROUP:0A09		      db 'Invalid parameter'
RESGROUP:0A1A PAERRMSG10      db 29		      ;	...
RESGROUP:0A1B		      db 'Invalid parameter combination'
RESGROUP:0A38 PARSMSGPTRS     dw offset	PAERRMSG0     ;	...
RESGROUP:0A3A		      dw offset	PAERRMSG1
RESGROUP:0A3C		      dw offset	PAERRMSG2
RESGROUP:0A3E		      dw offset	PAERRMSG3
RESGROUP:0A40		      dw offset	PAERRMSG4
RESGROUP:0A42		      dw offset	PAERRMSG5
RESGROUP:0A44		      dw offset	PAERRMSG6
RESGROUP:0A46		      dw offset	PAERRMSG7
RESGROUP:0A48		      dw offset	PAERRMSG8
RESGROUP:0A4A		      dw offset	PAERRMSG9
RESGROUP:0A4C		      dw offset	PAERRMSG10
RESGROUP:0A4E INVLFUNCT	      db 16		      ;	...
RESGROUP:0A4F		      db 'Invalid function'
RESGROUP:0A5F FNOTFOUND	      db 14		      ;	...
RESGROUP:0A60		      db 'File not found'
RESGROUP:0A6E PNOTFOUND	      db 14		      ;	...
RESGROUP:0A6F		      db 'Path not found'
RESGROUP:0A7D TOOMANYOF	      db 19		      ;	...
RESGROUP:0A7E		      db 'Too many open files'
RESGROUP:0A91 ACCDENIED	      db 14		      ;	...
RESGROUP:0A92		      db 'Access denied '
RESGROUP:0AA0 INVHANDLE	      db 14		      ;	...
RESGROUP:0AA1		      db 'Invalid handle'
RESGROUP:0AAF MEMCBDEST	      db 31		      ;	...
RESGROUP:0AB0		      db 'Memory control blocks destroyed'
RESGROUP:0ACF INSUFFMEM	      db 19		      ;	...
RESGROUP:0AD0		      db 'Insufficient memory'
RESGROUP:0AE3 INVMEMBLA	      db 28		      ;	...
RESGROUP:0AE4		      db 'Invalid memory block address'
RESGROUP:0B00 INVENVIRO	      db 19		      ;	...
RESGROUP:0B01		      db 'Invalid Environment'
RESGROUP:0B14 INVFORMAT	      db 14		      ;	...
RESGROUP:0B15		      db 'Invalid format'
RESGROUP:0B23 INVFNPARM	      db 26		      ;	...
RESGROUP:0B24		      db 'Invalid function parameter'
RESGROUP:0B3E INVLDDATA	      db 12		      ;	...
RESGROUP:0B3F		      db 'Invalid data'
RESGROUP:0B4B INVDRVSPC	      db 27		      ;	...
RESGROUP:0B4C		      db 'Invalid drive specification'
RESGROUP:0B67 ATRCURDIR	      db 35		      ;	...
RESGROUP:0B68		      db 'Attempt to remove current directory'
RESGROUP:0B8B NOTSAMDEV	      db 15		      ;	...
RESGROUP:0B8C		      db 'Not same device'
RESGROUP:0B9B NOMOREFIL	      db 13		      ;	...
RESGROUP:0B9C		      db 'No more files'
RESGROUP:0BA9 FILEXISTS	      db 11		      ;	...
RESGROUP:0BAA		      db 'File exists'
RESGROUP:0BB5 CANTMKDIR	      db 27		      ;	...
RESGROUP:0BB6		      db 'Cannot make directory entry'
RESGROUP:0BD1 FAILINT24	      db 14		      ;	...
RESGROUP:0BD2		      db 'Fail on INT 24'
RESGROUP:0BE0 TOOMANYRD	      db 21		      ;	...
RESGROUP:0BE1		      db 'Too many redirections'
RESGROUP:0BF6 DUPLREDIR	      db 21		      ;	...
RESGROUP:0BF7		      db 'Duplicate redirection'
RESGROUP:0C0C INVPASSWD	      db 16		      ;	...
RESGROUP:0C0D		      db 'Invalid password'
RESGROUP:0C1D INVLDPARM	      db 17		      ;	...
RESGROUP:0C1E		      db 'Invalid parameter'
RESGROUP:0C2F NETDATFAU	      db 18		      ;	...
RESGROUP:0C30		      db 'Network data fault'
RESGROUP:0C42 FNOSUPNET	      db 33		      ;	...
RESGROUP:0C43		      db 'Function not supported by network'
RESGROUP:0C64 RSCNOTINS	      db 39		      ;	...
RESGROUP:0C65		      db 'Required system component not installed'
RESGROUP:0C8C EXTMSGPTRS      dw offset	INVLFUNCT     ;	...
RESGROUP:0C8E		      dw offset	FNOTFOUND
RESGROUP:0C90		      dw offset	PNOTFOUND
RESGROUP:0C92		      dw offset	TOOMANYOF
RESGROUP:0C94		      dw offset	ACCDENIED
RESGROUP:0C96		      dw offset	INVHANDLE
RESGROUP:0C98		      dw offset	MEMCBDEST
RESGROUP:0C9A		      dw offset	INSUFFMEM
RESGROUP:0C9C		      dw offset	INVMEMBLA
RESGROUP:0C9E		      dw offset	INVENVIRO
RESGROUP:0CA0		      dw offset	INVFORMAT
RESGROUP:0CA2		      dw offset	INVFNPARM
RESGROUP:0CA4		      dw offset	INVLDDATA
RESGROUP:0CA6		      dw 0
RESGROUP:0CA8		      dw offset	INVDRVSPC
RESGROUP:0CAA		      dw offset	ATRCURDIR
RESGROUP:0CAC		      dw offset	NOTSAMDEV
RESGROUP:0CAE		      dw offset	NOMOREFIL
RESGROUP:0CB0		      dw offset	CRMSG0
RESGROUP:0CB2		      dw offset	CRMSG1
RESGROUP:0CB4		      dw offset	CRMSG2
RESGROUP:0CB6		      dw offset	CRMSG3
RESGROUP:0CB8		      dw offset	CRMSG4
RESGROUP:0CBA		      dw offset	CRMSG5
RESGROUP:0CBC		      dw offset	CRMSG6
RESGROUP:0CBE		      dw offset	CRMSG7
RESGROUP:0CC0		      dw offset	CRMSG8
RESGROUP:0CC2		      dw offset	CRMSG9
RESGROUP:0CC4		      dw offset	CRMSG10
RESGROUP:0CC6		      dw offset	CRMSG11
RESGROUP:0CC8		      dw offset	CRMSG12
RESGROUP:0CCA		      dw offset	CRMSG13
RESGROUP:0CCC		      dw offset	CRMSG14
RESGROUP:0CCE		      dw offset	CRMSG15
RESGROUP:0CD0		      dw offset	CRMSG16
RESGROUP:0CD2		      dw offset	CRMSG17
RESGROUP:0CD4		      dw offset	CRMSG18
RESGROUP:0CD6		      dw offset	CRMSG19
RESGROUP:0CD8		      dw offset	CRMSG20
RESGROUP:0CDA		      db 80 dup(0)
RESGROUP:0D2A		      dw offset	FILEXISTS
RESGROUP:0D2C		      dw 0
RESGROUP:0D2E		      dw offset	CANTMKDIR
RESGROUP:0D30		      dw offset	FAILINT24
RESGROUP:0D32		      dw offset	TOOMANYRD
RESGROUP:0D34		      dw offset	DUPLREDIR
RESGROUP:0D36		      dw offset	INVPASSWD
RESGROUP:0D38		      dw offset	INVLDPARM
RESGROUP:0D3A		      dw offset	NETDATFAU
RESGROUP:0D3C		      dw offset	FNOSUPNET
RESGROUP:0D3E		      dw offset	RSCNOTINS
RESGROUP:0D40 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0D40
RESGROUP:0D40 Exec_Err:				      ;	...
RESGROUP:0D40		      mov     bx, offset RBADNAM
RESGROUP:0D43		      cmp     al, 2
RESGROUP:0D45		      jz      short GotExecEMes
RESGROUP:0D47		      mov     bx, offset TOOBIG
RESGROUP:0D4A		      cmp     al, 8
RESGROUP:0D4C		      jz      short GotExecEMes
RESGROUP:0D4E		      mov     bx, offset EXEBAD
RESGROUP:0D51		      cmp     al, 0Bh
RESGROUP:0D53		      jz      short GotExecEMes
RESGROUP:0D55		      mov     bx, offset ACCDEN
RESGROUP:0D58		      cmp     al, 5
RESGROUP:0D5A		      jz      short GotExecEMes
RESGROUP:0D5C		      mov     bx, offset EXECEMES
RESGROUP:0D5F		      mov     si, offset ExecErrSubst
RESGROUP:0D62
RESGROUP:0D62 GotExecEMes:			      ;	...
RESGROUP:0D62		      mov     dx, bx
RESGROUP:0D64		      call    RPrint
RESGROUP:0D67		      jmp     short NoExec
RESGROUP:0D69 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0D69
RESGROUP:0D69 Exec_Ret:
RESGROUP:0D69		      jb      short Exec_Err
RESGROUP:0D6B
RESGROUP:0D6B Exec_Wait:			      ;	...
RESGROUP:0D6B		      mov     ah, 4Dh
RESGROUP:0D6D		      int     21h	      ;	DOS - 2+ - GET EXIT CODE OF SUBPROGRAM (WAIT)
RESGROUP:0D6F		      mov     RetCode, ax
RESGROUP:0D72
RESGROUP:0D72 NoExec:				      ;	...
RESGROUP:0D72		      jmp     LodCom
RESGROUP:0D75 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0D75
RESGROUP:0D75 ContC:				      ;	...
RESGROUP:0D75		      pop     ds
RESGROUP:0D76		      test    InitFlag,	1
RESGROUP:0D7B		      jz      short NotAtInit
RESGROUP:0D7D		      test    InitFlag,	2
RESGROUP:0D82		      jz      short CmdIret
RESGROUP:0D84		      pop     ds
RESGROUP:0D85		      jmp     init_contc_specialcase
RESGROUP:0D88 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0D88
RESGROUP:0D88 CmdIret:				      ;	...
RESGROUP:0D88		      pop     ds
RESGROUP:0D89		      iret
RESGROUP:0D8A ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0D8A
RESGROUP:0D8A NotAtInit:			      ;	...
RESGROUP:0D8A		      test    InitFlag,	4
RESGROUP:0D8F		      jz      short NotInit
RESGROUP:0D91		      cmp     ah, 1
RESGROUP:0D94		      jb      short CmdIret
RESGROUP:0D96		      cmp     ah, 12
RESGROUP:0D99		      ja      short CmdIret
RESGROUP:0D9B		      pop     ds
RESGROUP:0D9C		      add     sp, 6
RESGROUP:0D9F		      stc
RESGROUP:0DA0		      retf    2
RESGROUP:0DA3 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0DA3
RESGROUP:0DA3 NotInit:				      ;	...
RESGROUP:0DA3		      or      InitFlag,	4
RESGROUP:0DA8		      sti
RESGROUP:0DA9		      pop     ax
RESGROUP:0DAA		      mov     ax, SingleCom
RESGROUP:0DAD		      or      ax, ax
RESGROUP:0DAF		      jnz     short NoReset
RESGROUP:0DB1		      push    ax
RESGROUP:0DB2		      mov     ah, 0Dh
RESGROUP:0DB4		      int     21h	      ;	DOS - DISK RESET
RESGROUP:0DB6		      pop     ax
RESGROUP:0DB7
RESGROUP:0DB7 NoReset:				      ;	...
RESGROUP:0DB7		      test    Batch, 0FFFFh
RESGROUP:0DBD		      jz      short ContCTerm
RESGROUP:0DBF		      or      ax, ax
RESGROUP:0DC1		      jnz     short ContCTerm
RESGROUP:0DC3		      call    SavHand
RESGROUP:0DC6		      call    AskEnd
RESGROUP:0DC9		      jnb     short ContBatch
RESGROUP:0DCB		      mov     cl, EchoFlag
RESGROUP:0DCF		      push    bx
RESGROUP:0DD0
RESGROUP:0DD0 ClearBatch:			      ;	...
RESGROUP:0DD0		      mov     es, Batch
RESGROUP:0DD4		      mov     di, 20h
RESGROUP:0DD7		      mov     bx, es:5
RESGROUP:0DDC		      cmp     bx, 0
RESGROUP:0DDF		      jz      short No_Bat_For
RESGROUP:0DE1		      push    es
RESGROUP:0DE2		      mov     es, bx
RESGROUP:0DE4		      mov     ah, 49h
RESGROUP:0DE6		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:0DE6					      ;	ES = segment address of	area to	be freed
RESGROUP:0DE8		      pop     es
RESGROUP:0DE9
RESGROUP:0DE9 No_Bat_For:			      ;	...
RESGROUP:0DE9		      mov     cl, es:1
RESGROUP:0DEE		      mov     bx, es:3
RESGROUP:0DF3		      mov     ah, 49h
RESGROUP:0DF5		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:0DF5					      ;	ES = segment address of	area to	be freed
RESGROUP:0DF7		      mov     Batch, bx
RESGROUP:0DFB		      dec     Nest
RESGROUP:0DFF		      jnz     short ClearBatch
RESGROUP:0E01		      pop     bx
RESGROUP:0E02		      mov     EchoFlag,	cl
RESGROUP:0E06		      mov     PipeFlag,	0
RESGROUP:0E0B
RESGROUP:0E0B ContBatch:			      ;	...
RESGROUP:0E0B		      call    crlf
RESGROUP:0E0E		      call    RestHand
RESGROUP:0E11
RESGROUP:0E11 ContCTerm:			      ;	...
RESGROUP:0E11		      xor     ax, ax
RESGROUP:0E13		      mov     bp, ax
RESGROUP:0E15		      mov     IfFlag, al
RESGROUP:0E18		      mov     ForFlag, al
RESGROUP:0E1B		      call    ResPipeOff
RESGROUP:0E1E		      cmp     SingleCom, ax
RESGROUP:0E22		      jz      short NoSetSing
RESGROUP:0E24		      mov     SingleCom, 0FFFFh
RESGROUP:0E2A
RESGROUP:0E2A NoSetSing:			      ;	...
RESGROUP:0E2A		      and     InitFlag,	0FBh
RESGROUP:0E2F		      cmp     ExtCom, al
RESGROUP:0E33		      jnz     short DoDAb
RESGROUP:0E35		      jmp     LodCom1
RESGROUP:0E38 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0E38
RESGROUP:0E38 DoDAb:				      ;	...
RESGROUP:0E38		      stc
RESGROUP:0E39		      retf
RESGROUP:0E3A
RESGROUP:0E3A ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:0E3A
RESGROUP:0E3A
RESGROUP:0E3A ResPipeOff      proc near		      ;	...
RESGROUP:0E3A		      push    ax
RESGROUP:0E3B		      xor     ax, ax
RESGROUP:0E3D		      xchg    al, PipeFlag
RESGROUP:0E41		      or      al, al
RESGROUP:0E43		      jz      short NoPipePop
RESGROUP:0E45		      shr     EchoFlag,	1
RESGROUP:0E49
RESGROUP:0E49 NoPipePop:			      ;	...
RESGROUP:0E49		      pop     ax
RESGROUP:0E4A		      retn
RESGROUP:0E4A ResPipeOff      endp
RESGROUP:0E4A
RESGROUP:0E4B ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0E4B ;	START OF FUNCTION CHUNK	FOR alloc_env
RESGROUP:0E4B
RESGROUP:0E4B BadMemErr:			      ;	...
RESGROUP:0E4B		      mov     dx, offset BMEMMES
RESGROUP:0E4E
RESGROUP:0E4E FatalC:				      ;	...
RESGROUP:0E4E		      call    RPrint
RESGROUP:0E51		      cmp     PermCom, 0
RESGROUP:0E56		      jz      short FatalRet
RESGROUP:0E58		      cmp     SingleCom, 0
RESGROUP:0E5D		      jnz     short FatalRet
RESGROUP:0E5F		      mov     dx, offset HALTMES
RESGROUP:0E62		      call    RPrint
RESGROUP:0E65		      sti
RESGROUP:0E66
RESGROUP:0E66 Stall:				      ;	...
RESGROUP:0E66		      jmp     short Stall
RESGROUP:0E68 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0E68
RESGROUP:0E68 FatalRet:				      ;	...
RESGROUP:0E68		      mov     dx, offset FRETMES
RESGROUP:0E6B		      call    RPrint
RESGROUP:0E6E
RESGROUP:0E6E FatalRet2:			      ;	...
RESGROUP:0E6E		      cmp     PermCom, 0
RESGROUP:0E73		      jnz     short Ret_2e
RESGROUP:0E75		      mov     ax, Parent
RESGROUP:0E78		      mov     ds:16h, ax      ;	[PDB.PARENT_PID]
RESGROUP:0E7B		      mov     ax, OldTerm
RESGROUP:0E7E		      mov     ds:0Ah, ax      ;	[PDB.EXIT]
RESGROUP:0E81		      mov     ax, OldTerm+2
RESGROUP:0E84		      mov     ds:0Ch, ax      ;	[PDB.EXIT+2]
RESGROUP:0E87		      mov     ax, 4C00h
RESGROUP:0E8A		      int     21h	      ;	DOS - 2+ - QUIT	WITH EXIT CODE (EXIT)
RESGROUP:0E8A					      ;	AL = exit code
RESGROUP:0E8C ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0E8C
RESGROUP:0E8C Ret_2e:				      ;	...
RESGROUP:0E8C		      mov     SingleCom, 0
RESGROUP:0E92		      mov     es, Res_Tpa
RESGROUP:0E96		      mov     ah, 49h
RESGROUP:0E98		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:0E98					      ;	ES = segment address of	area to	be freed
RESGROUP:0E9A		      mov     bx, Save_Pdb
RESGROUP:0E9E		      mov     ah, 50h
RESGROUP:0EA0		      int     21h	      ;	DOS - 2+ internal - SET	PSP SEGMENT
RESGROUP:0EA0					      ;	BX = segment address of	new PSP
RESGROUP:0EA2		      mov     ax, RetCode
RESGROUP:0EA5		      cmp     ExtCom, 0
RESGROUP:0EAA		      jnz     short GotECode
RESGROUP:0EAC		      xor     ax, ax
RESGROUP:0EAE
RESGROUP:0EAE GotECode:				      ;	...
RESGROUP:0EAE		      mov     ExtCom, 1
RESGROUP:0EB3		      jmp     Int_2e_Ret
RESGROUP:0EB3 ;	END OF FUNCTION	CHUNK FOR alloc_env
RESGROUP:0EB7 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0EB7
RESGROUP:0EB7 Int_2e:				      ;	...
RESGROUP:0EB7		      pop     ds
RESGROUP:0EB8		      pop     ax
RESGROUP:0EB9		      pop     word ptr Int_2e_Ret
RESGROUP:0EBD		      pop     word ptr Int_2e_Ret+2
RESGROUP:0EC1		      add     sp, 2
RESGROUP:0EC4		      push    ds
RESGROUP:0EC5		      pop     es
RESGROUP:0EC6		      assume es:RESGROUP
RESGROUP:0EC6		      mov     ds, ax
RESGROUP:0EC8		      mov     di, 80h
RESGROUP:0ECB		      mov     cx, 64
RESGROUP:0ECE		      rep movsw
RESGROUP:0ED0		      mov     ah, 51h
RESGROUP:0ED2		      int     21h	      ;	DOS - 2+ internal - GET	PSP SEGMENT
RESGROUP:0ED2					      ;	Return:	BX = current PSP segment
RESGROUP:0ED4		      mov     es:Save_Pdb, bx
RESGROUP:0ED9		      mov     ah, 50h
RESGROUP:0EDB		      push    es
RESGROUP:0EDC		      pop     ds
RESGROUP:0EDD		      mov     bx, ds
RESGROUP:0EDF		      int     21h	      ;	DOS - 2+ internal - SET	PSP SEGMENT
RESGROUP:0EDF					      ;	BX = segment address of	new PSP
RESGROUP:0EE1		      mov     SingleCom, 81h ; '│'
RESGROUP:0EE7		      mov     ExtCom, 1
RESGROUP:0EEC		      push    ds
RESGROUP:0EED		      push    ds
RESGROUP:0EEE
RESGROUP:0EEE LodCom:				      ;	...
RESGROUP:0EEE		      pop     ds
RESGROUP:0EEF		      add     sp, 2
RESGROUP:0EF2		      cmp     ExtCom, 0
RESGROUP:0EF7		      jnz     short LodCom0
RESGROUP:0EF9		      jmp     LodCom1
RESGROUP:0EFC ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0EFC
RESGROUP:0EFC LodCom0:				      ;	...
RESGROUP:0EFC		      mov     bx, 0FFFFh
RESGROUP:0EFF		      mov     ah, 48h
RESGROUP:0F01		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:0F01					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:0F03		      call    SetSize
RESGROUP:0F06		      add     ax, 20h
RESGROUP:0F09		      cmp     bx, ax
RESGROUP:0F0B		      jnb     short MemOk
RESGROUP:0F0D
RESGROUP:0F0D BadMemErrJ:			      ;	...
RESGROUP:0F0D		      jmp     BadMemErr
RESGROUP:0F10
RESGROUP:0F10 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:0F10
RESGROUP:0F10
RESGROUP:0F10 SetSize	      proc near		      ;	...
RESGROUP:0F10		      mov     ax, 98D4h	      ;	TRANSPACEEND+15
RESGROUP:0F13		      mov     cl, 4
RESGROUP:0F15		      shr     ax, cl
RESGROUP:0F17		      retn
RESGROUP:0F17 SetSize	      endp
RESGROUP:0F17
RESGROUP:0F18 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0F18
RESGROUP:0F18 MemOk:				      ;	...
RESGROUP:0F18		      mov     ah, 48h
RESGROUP:0F1A		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:0F1A					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:0F1C		      jb      short BadMemErrJ
RESGROUP:0F1E		      mov     ExtCom, 0
RESGROUP:0F23		      mov     Res_Tpa, ax
RESGROUP:0F26		      and     ax, 0F000h
RESGROUP:0F29		      add     ax, 1000h
RESGROUP:0F2C		      jb      short Bad_Tpa
RESGROUP:0F2E		      mov     dx, Res_Tpa
RESGROUP:0F32		      add     dx, bx
RESGROUP:0F34		      cmp     dx, ax
RESGROUP:0F36		      jbe     short Bad_Tpa
RESGROUP:0F38		      sub     dx, ax
RESGROUP:0F3A		      cmp     dx, 1000h
RESGROUP:0F3E		      jnb     short LTpaSet
RESGROUP:0F40
RESGROUP:0F40 Bad_Tpa:				      ;	...
RESGROUP:0F40		      mov     ax, Res_Tpa
RESGROUP:0F43
RESGROUP:0F43 LTpaSet:				      ;	...
RESGROUP:0F43		      mov     LTpa, ax
RESGROUP:0F46		      mov     ax, Res_Tpa
RESGROUP:0F49		      add     bx, ax
RESGROUP:0F4B		      mov     MemSiz, bx
RESGROUP:0F4F		      call    SetSize
RESGROUP:0F52		      sub     bx, ax
RESGROUP:0F54		      cmp     bx, TrnSeg
RESGROUP:0F58		      jz      short LodCom1
RESGROUP:0F5A		      mov     cx, 98C5h
RESGROUP:0F5D		      ja      short mov_down
RESGROUP:0F5F		      xor     si, si
RESGROUP:0F61		      mov     di, si
RESGROUP:0F63		      cld
RESGROUP:0F64		      jmp     short copy_trans
RESGROUP:0F66 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0F66
RESGROUP:0F66 mov_down:				      ;	...
RESGROUP:0F66		      mov     si, cx
RESGROUP:0F68		      dec     si
RESGROUP:0F69		      mov     di, si
RESGROUP:0F6B		      std
RESGROUP:0F6C
RESGROUP:0F6C copy_trans:			      ;	...
RESGROUP:0F6C		      push    ds
RESGROUP:0F6D		      push    es
RESGROUP:0F6E		      mov     es, bx
RESGROUP:0F70		      assume es:nothing
RESGROUP:0F70		      mov     ds, TrnSeg
RESGROUP:0F74		      rep movsb
RESGROUP:0F76		      cld
RESGROUP:0F77		      pop     es
RESGROUP:0F78		      pop     ds
RESGROUP:0F79		      mov     TrnSeg, bx
RESGROUP:0F7D
RESGROUP:0F7D LodCom1:				      ;	...
RESGROUP:0F7D		      mov     ax, ds
RESGROUP:0F7F		      mov     ss, ax
RESGROUP:0F81		      mov     sp, offset RStack	; mov sp,offset	DATARES:RStack
RESGROUP:0F84		      call    HeadFix
RESGROUP:0F87		      xor     bp, bp
RESGROUP:0F89		      mov     ax, 0FFFFh
RESGROUP:0F8C		      xchg    ax, VerVal
RESGROUP:0F90		      cmp     ax, 0FFFFh
RESGROUP:0F93		      jz      short NoSetVer
RESGROUP:0F95		      mov     ah, 2Eh
RESGROUP:0F97		      int     21h	      ;	DOS - SET VERIFY FLAG
RESGROUP:0F97					      ;	DL = 00h, AL = 01h VERIFY on / 00h VERIFY off
RESGROUP:0F99
RESGROUP:0F99 NoSetVer:				      ;	...
RESGROUP:0F99		      cmp     SingleCom, 0FFFFh
RESGROUP:0F9E		      jnz     short NoSng
RESGROUP:0FA0		      jmp     FatalRet2
RESGROUP:0FA3 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0FA3
RESGROUP:0FA3 NoSng:				      ;	...
RESGROUP:0FA3		      call    ChkSum
RESGROUP:0FA6		      cmp     dx, Sum
RESGROUP:0FAA		      jz      short HavCom
RESGROUP:0FAC
RESGROUP:0FAC Bogus_Com:
RESGROUP:0FAC		      mov     Loading, 1
RESGROUP:0FB1		      call    LoadCom
RESGROUP:0FB4
RESGROUP:0FB4 ChkSame:				      ;	...
RESGROUP:0FB4		      call    ChkSum
RESGROUP:0FB7		      cmp     dx, Sum
RESGROUP:0FBB		      jz      short HavCom
RESGROUP:0FBD
RESGROUP:0FBD Also_Bogus:
RESGROUP:0FBD		      call    WrongCom
RESGROUP:0FC0		      jmp     short ChkSame
RESGROUP:0FC2 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0FC2
RESGROUP:0FC2 HavCom:				      ;	...
RESGROUP:0FC2		      mov     Loading, 0
RESGROUP:0FC7		      mov     si, offset TranVars ; offset DATARES:TranVars
RESGROUP:0FCA		      mov     di, offset HEADCALL ; offset TRANGROUP:HeadCall
RESGROUP:0FCD		      mov     es, TrnSeg
RESGROUP:0FD1		      cld
RESGROUP:0FD2		      mov     cx, offset OldErrNo ; offset TranVarEnd
RESGROUP:0FD5		      sub     cx, si
RESGROUP:0FD7		      rep movsb
RESGROUP:0FD9		      mov     ax, MemSiz
RESGROUP:0FDC		      mov     ds:2, ax	      ;	[PDB.BLOCK_LEN]
RESGROUP:0FDF
RESGROUP:0FDF TJmp:
RESGROUP:0FDF		      jmp     dword ptr	Trans
RESGROUP:0FE3 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0FE3
RESGROUP:0FE3 TRemCheck:
RESGROUP:0FE3		      pop     ds
RESGROUP:0FE4		      add     sp, 2
RESGROUP:0FE7		      call    RemCheck
RESGROUP:0FEA		      retf
RESGROUP:0FEB
RESGROUP:0FEB ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:0FEB
RESGROUP:0FEB
RESGROUP:0FEB RemCheck	      proc near		      ;	...
RESGROUP:0FEB		      push    ax
RESGROUP:0FEC		      push    bx
RESGROUP:0FED		      mov     bx, ax
RESGROUP:0FEF		      mov     ax, 4408h
RESGROUP:0FF2		      int     21h	      ;	DOS - 2+ - IOCTL -
RESGROUP:0FF4		      jnb     short rcCont
RESGROUP:0FF6		      or      ax, ax
RESGROUP:0FF8		      jmp     short ResRegs
RESGROUP:0FFA ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:0FFA
RESGROUP:0FFA rcCont:				      ;	...
RESGROUP:0FFA		      and     ax, 1
RESGROUP:0FFD		      not     ax
RESGROUP:0FFF
RESGROUP:0FFF ResRegs:				      ;	...
RESGROUP:0FFF		      pop     bx
RESGROUP:1000		      pop     ax
RESGROUP:1001		      retn
RESGROUP:1001 RemCheck	      endp
RESGROUP:1001
RESGROUP:1002 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1002
RESGROUP:1002 THeadFix:
RESGROUP:1002		      pop     ds
RESGROUP:1003		      add     sp, 2
RESGROUP:1006		      call    HeadFix
RESGROUP:1009		      retf
RESGROUP:100A
RESGROUP:100A ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:100A
RESGROUP:100A
RESGROUP:100A HeadFix	      proc near		      ;	...
RESGROUP:100A		      call    SetVect
RESGROUP:100D		      xor     bx, bx
RESGROUP:100F		      mov     cx, Io_Save
RESGROUP:1013		      mov     dx, ds:18h      ;	[PDB.JFN_TABLE]
RESGROUP:1017		      cmp     cl, dl
RESGROUP:1019		      jz      short Chk1
RESGROUP:101B		      mov     ah, 3Eh
RESGROUP:101D		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:101D					      ;	BX = file handle
RESGROUP:101F		      mov     ds:18h, cl
RESGROUP:1023
RESGROUP:1023 Chk1:				      ;	...
RESGROUP:1023		      inc     bx
RESGROUP:1024		      cmp     ch, dh
RESGROUP:1026		      jz      short ChkOtherHand
RESGROUP:1028		      mov     ah, 3Eh
RESGROUP:102A		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:102A					      ;	BX = file handle
RESGROUP:102C		      mov     ds:19h, ch
RESGROUP:1030
RESGROUP:1030 ChkOtherHand:			      ;	...
RESGROUP:1030		      add     bx, 4
RESGROUP:1033		      mov     cx, 15	      ;	FILPERPROC-5
RESGROUP:1036
RESGROUP:1036 CloseLoop:			      ;	...
RESGROUP:1036		      mov     ah, 3Eh
RESGROUP:1038		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:1038					      ;	BX = file handle
RESGROUP:103A		      inc     bx
RESGROUP:103B		      loop    CloseLoop
RESGROUP:103D		      cmp     Append_Flag, 0FFh
RESGROUP:1042		      jnz     short Append_Fix_End
RESGROUP:1044		      mov     ax, 0B707h
RESGROUP:1047		      mov     bx, Append_State
RESGROUP:104B		      int     2Fh	      ;	- Multiplex - DOS 4.0 APPEND - SET APPEND FUNCTION STATE
RESGROUP:104B					      ;	BX = APPEND state bits
RESGROUP:104D		      mov     Append_Flag, 0
RESGROUP:1052
RESGROUP:1052 Append_Fix_End:			      ;	...
RESGROUP:1052		      retn
RESGROUP:1052 HeadFix	      endp
RESGROUP:1052
RESGROUP:1053
RESGROUP:1053 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1053
RESGROUP:1053
RESGROUP:1053 SavHand	      proc near		      ;	...
RESGROUP:1053		      push    bx
RESGROUP:1054		      push    ax
RESGROUP:1055		      push    es
RESGROUP:1056		      push    ds
RESGROUP:1057		      mov     ah, 51h
RESGROUP:1059		      int     21h	      ;	DOS - 2+ internal - GET	PSP SEGMENT
RESGROUP:1059					      ;	Return:	BX = current PSP segment
RESGROUP:105B		      mov     ds, bx
RESGROUP:105D		      lds     bx, ds:34h      ;	[PDB.JFN_Pointer]
RESGROUP:1061		      mov     ax, [bx]
RESGROUP:1063		      pop     es
RESGROUP:1064		      push    es
RESGROUP:1065		      mov     es:Handle01, ax
RESGROUP:1069		      mov     al, es:1Ah      ;	[es:PDB.JFN_TABLE+2]
RESGROUP:106D		      mov     ah, al
RESGROUP:106F		      mov     [bx], ax
RESGROUP:1071		      pop     ds
RESGROUP:1072		      pop     es
RESGROUP:1073		      pop     ax
RESGROUP:1074		      pop     bx
RESGROUP:1075		      retn
RESGROUP:1075 SavHand	      endp
RESGROUP:1075
RESGROUP:1076 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1076
RESGROUP:1076 GetComDsk2:			      ;	...
RESGROUP:1076		      call    GetComDsk
RESGROUP:1079		      jmp     LodCom1
RESGROUP:107C
RESGROUP:107C ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:107C
RESGROUP:107C
RESGROUP:107C RestHand	      proc near		      ;	...
RESGROUP:107C		      push    ds
RESGROUP:107D		      push    bx
RESGROUP:107E		      push    ax
RESGROUP:107F		      mov     ah, 51h
RESGROUP:1081		      int     21h	      ;	DOS - 2+ internal - GET	PSP SEGMENT
RESGROUP:1081					      ;	Return:	BX = current PSP segment
RESGROUP:1083		      mov     ax, Handle01
RESGROUP:1086		      mov     ds, bx
RESGROUP:1088		      lds     bx, ds:34h      ;	[PDB.JFN_Pointer]
RESGROUP:108C		      mov     [bx], ax
RESGROUP:108E		      pop     ax
RESGROUP:108F		      pop     bx
RESGROUP:1090		      pop     ds
RESGROUP:1091		      retn
RESGROUP:1091 RestHand	      endp
RESGROUP:1091
RESGROUP:1092 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1092 ;	START OF FUNCTION CHUNK	FOR GetComDsk
RESGROUP:1092
RESGROUP:1092 Hopeless:				      ;	...
RESGROUP:1092		      mov     dx, offset COMBAD	; offset DATARES:ComBad
RESGROUP:1095		      jmp     FatalC
RESGROUP:1095 ;	END OF FUNCTION	CHUNK FOR GetComDsk
RESGROUP:1098
RESGROUP:1098 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1098
RESGROUP:1098
RESGROUP:1098 GetComDsk	      proc near		      ;	...
RESGROUP:1098
RESGROUP:1098 ;	FUNCTION CHUNK AT RESGROUP:1092	SIZE 00000006 BYTES
RESGROUP:1098
RESGROUP:1098		      mov     al, ComDrv
RESGROUP:109B		      call    RemCheck
RESGROUP:109E		      jnz     short Hopeless
RESGROUP:10A0
RESGROUP:10A0 GetComDsk3:
RESGROUP:10A0		      cmp     dx, offset COMBAD
RESGROUP:10A4		      jnz     short GetComDsk4
RESGROUP:10A6		      mov     dx, offset COMBAD
RESGROUP:10A9		      call    RPrint
RESGROUP:10AC
RESGROUP:10AC GetComDsk4:			      ;	...
RESGROUP:10AC		      cmp     PutBackDrv, 0
RESGROUP:10B1		      jnz     short Users_Drive
RESGROUP:10B3		      mov     ah, 19h
RESGROUP:10B5		      int     21h	      ;	DOS - GET DEFAULT DISK NUMBER
RESGROUP:10B7		      add     al, 'A'
RESGROUP:10B9		      mov     PutBackDrv, al
RESGROUP:10BC
RESGROUP:10BC Users_Drive:			      ;	...
RESGROUP:10BC		      mov     dx, offset PUTBACKMSG
RESGROUP:10BF		      mov     si, offset PutBackSubst
RESGROUP:10C2		      call    RPrint
RESGROUP:10C5		      mov     dx, offset PROMPT	; "Press any key to continue"
RESGROUP:10C8		      call    RPrint
RESGROUP:10CB		      call    GetRawFlushedByte
RESGROUP:10CE		      retn
RESGROUP:10CE GetComDsk	      endp
RESGROUP:10CE
RESGROUP:10CF
RESGROUP:10CF ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:10CF
RESGROUP:10CF
RESGROUP:10CF GetRawFlushedByte	proc near	      ;	...
RESGROUP:10CF		      mov     ax, 0C07h
RESGROUP:10D2		      int     21h	      ;	DOS - CLEAR KEYBOARD BUFFER
RESGROUP:10D2					      ;	AL must	be 01h,	06h, 07h, 08h, or 0Ah.
RESGROUP:10D4		      mov     ax, 0C00h
RESGROUP:10D7		      int     21h	      ;	DOS - CLEAR KEYBOARD BUFFER
RESGROUP:10D7					      ;	AL must	be 01h,	06h, 07h, 08h, or 0Ah.
RESGROUP:10D9
RESGROUP:10D9 LoadCom_retn:			      ;	...
RESGROUP:10D9		      retn
RESGROUP:10D9 GetRawFlushedByte	endp
RESGROUP:10D9
RESGROUP:10DA
RESGROUP:10DA ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:10DA
RESGROUP:10DA
RESGROUP:10DA LoadCom	      proc near		      ;	...
RESGROUP:10DA		      inc     bp
RESGROUP:10DB		      mov     dx, offset ComSpec
RESGROUP:10DE		      mov     ax, 3D00h
RESGROUP:10E1		      int     21h	      ;	DOS - 2+ - OPEN	DISK FILE WITH HANDLE
RESGROUP:10E1					      ;	DS:DX -> ASCIZ filename
RESGROUP:10E1					      ;	AL = access mode
RESGROUP:10E1					      ;	0 - read
RESGROUP:10E3		      jnb     short ReadCom
RESGROUP:10E5		      cmp     ax, 4
RESGROUP:10E8		      jnz     short TryDoOpen
RESGROUP:10EA		      mov     dx, offset NOHANDMES
RESGROUP:10ED		      jmp     FatalC
RESGROUP:10F0 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:10F0
RESGROUP:10F0 TryDoOpen:			      ;	...
RESGROUP:10F0		      call    GetComDsk
RESGROUP:10F3		      jmp     short LoadCom
RESGROUP:10F5 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:10F5
RESGROUP:10F5 ReadCom:				      ;	...
RESGROUP:10F5		      mov     bx, ax
RESGROUP:10F7		      mov     dx, 2320h	      ;	mov dx,offset RESGROUP:TranStart
RESGROUP:10FA		      xor     cx, cx
RESGROUP:10FC		      mov     ax, 4200h
RESGROUP:10FF		      int     21h	      ;	DOS - 2+ - MOVE	FILE READ/WRITE	POINTER	(LSEEK)
RESGROUP:10FF					      ;	AL = method: offset from beginning of file
RESGROUP:1101		      jb      short WrongCom1
RESGROUP:1103		      mov     cx, 97C5h	      ;	mov cx,offset TRANGROUP:TranSpaceEnd - 100h
RESGROUP:1106		      push    ds
RESGROUP:1107		      mov     ds, TrnSeg
RESGROUP:110B		      mov     dx, 100h
RESGROUP:110E		      mov     ah, 3Fh
RESGROUP:1110		      int     21h	      ;	DOS - 2+ - READ	FROM FILE WITH HANDLE
RESGROUP:1110					      ;	BX = file handle, CX = number of bytes to read
RESGROUP:1110					      ;	DS:DX -> buffer
RESGROUP:1112		      pop     ds
RESGROUP:1113
RESGROUP:1113 WrongCom1:			      ;	...
RESGROUP:1113		      pushf
RESGROUP:1114		      push    ax
RESGROUP:1115		      mov     ah, 3Eh
RESGROUP:1117		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:1117					      ;	BX = file handle
RESGROUP:1119		      pop     ax
RESGROUP:111A		      popf
RESGROUP:111B		      jb      short WrongCom
RESGROUP:111D		      cmp     ax, cx
RESGROUP:111F		      jz      short LoadCom_retn
RESGROUP:111F LoadCom	      endp
RESGROUP:111F
RESGROUP:1121
RESGROUP:1121 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1121
RESGROUP:1121
RESGROUP:1121 WrongCom	      proc near		      ;	...
RESGROUP:1121		      mov     dx, offset COMBAD
RESGROUP:1124		      call    GetComDsk
RESGROUP:1127		      jmp     short LoadCom
RESGROUP:1127 WrongCom	      endp
RESGROUP:1127
RESGROUP:1129
RESGROUP:1129 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1129
RESGROUP:1129
RESGROUP:1129 ChkSum	      proc near		      ;	...
RESGROUP:1129		      push    ds
RESGROUP:112A		      mov     ds, TrnSeg
RESGROUP:112E		      mov     si, 100h
RESGROUP:1131		      mov     cx, 87C2h	      ;	offset TRANGROUP:TranDataEnd - 100h
RESGROUP:1134		      cld
RESGROUP:1135		      shr     cx, 1
RESGROUP:1137		      xor     dx, dx
RESGROUP:1139
RESGROUP:1139 Chk:				      ;	...
RESGROUP:1139		      lodsw
RESGROUP:113A		      add     dx, ax
RESGROUP:113C		      adc     dx, 0
RESGROUP:113F		      loop    Chk
RESGROUP:1141		      pop     ds
RESGROUP:1142		      retn
RESGROUP:1142 ChkSum	      endp
RESGROUP:1142
RESGROUP:1143
RESGROUP:1143 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1143
RESGROUP:1143
RESGROUP:1143 SetVect	      proc near		      ;	...
RESGROUP:1143		      mov     dx, offset LodCom_Trap
RESGROUP:1146		      mov     ax, 2522h
RESGROUP:1149		      mov     ds:0Ah, dx      ;	[PDB.EXIT]
RESGROUP:114D		      mov     word ptr ds:0Ch, ds ; [PDB.EXIT+2]
RESGROUP:1151		      int     21h	      ;	DOS - SET INTERRUPT VECTOR
RESGROUP:1151					      ;	AL = interrupt number
RESGROUP:1151					      ;	DS:DX =	new vector to be used for specified interrupt
RESGROUP:1153		      mov     dx, offset Ctrlc_Trap
RESGROUP:1156		      inc     al
RESGROUP:1158		      int     21h	      ;	DOS - SET INTERRUPT VECTOR
RESGROUP:1158					      ;	AL = interrupt number
RESGROUP:1158					      ;	DS:DX =	new vector to be used for specified interrupt
RESGROUP:115A		      mov     dx, offset CritErr_Trap
RESGROUP:115D		      inc     al
RESGROUP:115F		      int     21h	      ;	DOS - SET INTERRUPT VECTOR
RESGROUP:115F					      ;	AL = interrupt number
RESGROUP:115F					      ;	DS:DX =	new vector to be used for specified interrupt
RESGROUP:1161		      retn
RESGROUP:1161 SetVect	      endp
RESGROUP:1161
RESGROUP:1162 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1162
RESGROUP:1162 TrnLodCom1:
RESGROUP:1162		      pop     ds
RESGROUP:1163		      add     sp, 2
RESGROUP:1166		      jmp     LodCom1
RESGROUP:1169
RESGROUP:1169 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1169
RESGROUP:1169
RESGROUP:1169 AskEnd	      proc near		      ;	...
RESGROUP:1169		      mov     dx, offset ENDBATMES
RESGROUP:116C		      call    RPrint
RESGROUP:116F		      mov     ax, 0C01h
RESGROUP:1172		      int     21h	      ;	DOS - CLEAR KEYBOARD BUFFER
RESGROUP:1172					      ;	AL must	be 01h,	06h, 07h, 08h, or 0Ah.
RESGROUP:1174		      call    CharToUpper
RESGROUP:1177		      cmp     al, NO_CHAR
RESGROUP:117B		      jz      short aeRet
RESGROUP:117D		      cmp     al, YES_CHAR
RESGROUP:1181		      jnz     short AskEnd
RESGROUP:1183		      stc
RESGROUP:1184
RESGROUP:1184 aeRet:				      ;	...
RESGROUP:1184		      retn
RESGROUP:1184 AskEnd	      endp
RESGROUP:1184
RESGROUP:1185 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1185
RESGROUP:1185 DskErr:				      ;	...
RESGROUP:1185		      pop     ds
RESGROUP:1186		      pop     RStack	      ;	pop word [OldDS]
RESGROUP:118A		      sti
RESGROUP:118B		      push    es
RESGROUP:118C		      push    si
RESGROUP:118D		      push    cx
RESGROUP:118E		      push    di
RESGROUP:118F		      push    cx
RESGROUP:1190		      push    ax
RESGROUP:1191		      push    ds
RESGROUP:1192		      pop     es
RESGROUP:1193		      assume es:RESGROUP
RESGROUP:1193		      mov     ds, bp
RESGROUP:1195		      mov     ax, [si+4]
RESGROUP:1198		      mov     es:CDevAt, ah
RESGROUP:119D		      mov     di, offset DevName
RESGROUP:11A0		      mov     cx, 8
RESGROUP:11A3		      add     si, 10
RESGROUP:11A6		      cld
RESGROUP:11A7		      rep movsb
RESGROUP:11A9		      pop     ax
RESGROUP:11AA		      pop     cx
RESGROUP:11AB		      pop     di
RESGROUP:11AC		      push    es
RESGROUP:11AD		      pop     ds
RESGROUP:11AE		      call    SavHand
RESGROUP:11B1		      push    dx
RESGROUP:11B2		      call    crlf
RESGROUP:11B5		      pop     dx
RESGROUP:11B6		      mov     Crit_Err_Info, ah
RESGROUP:11BA		      add     al, 'A'
RESGROUP:11BC		      mov     DrvLet, al
RESGROUP:11BF		      test    ah, 80h
RESGROUP:11C2		      jz      short NoHardE
RESGROUP:11C4		      test    CDevAt, 80h
RESGROUP:11C9		      jnz     short NoHardE
RESGROUP:11CB		      jmp     FatErr
RESGROUP:11CE ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:11CE
RESGROUP:11CE NoHardE:				      ;	...
RESGROUP:11CE		      mov     si, offset MREAD
RESGROUP:11D1		      test    ah, 1
RESGROUP:11D4		      jz      short SavMes
RESGROUP:11D6		      mov     si, offset MWRITE
RESGROUP:11D9
RESGROUP:11D9 SavMes:				      ;	...
RESGROUP:11D9		      mov     OldErrNo,	di
RESGROUP:11DD		      push    es
RESGROUP:11DE		      push    ds
RESGROUP:11DF		      push    bp
RESGROUP:11E0		      push    si
RESGROUP:11E1		      push    dx
RESGROUP:11E2		      push    cx
RESGROUP:11E3		      push    bx
RESGROUP:11E4		      mov     ah, 59h
RESGROUP:11E6		      int     21h	      ;	DOS - 3+ - GET EXTENDED	ERROR CODE
RESGROUP:11E6					      ;	BX = version code (0000h for DOS 3.x)
RESGROUP:11E8		      pop     bx
RESGROUP:11E9		      pop     cx
RESGROUP:11EA		      pop     dx
RESGROUP:11EB		      pop     si
RESGROUP:11EC		      pop     bp
RESGROUP:11ED		      pop     ds
RESGROUP:11EE		      mov     word ptr NeedVol,	di
RESGROUP:11F2		      mov     word ptr NeedVol+2, es
RESGROUP:11F6		      pop     es
RESGROUP:11F7		      assume es:nothing
RESGROUP:11F7		      xor     ah, ah
RESGROUP:11F9		      mov     di, ax
RESGROUP:11FB		      sub     di, 13h	      ;	ERROR_WRITE_PROTECT
RESGROUP:11FE		      jnb     short HavCod
RESGROUP:1200		      mov     di, 0Ch	      ;	ERROR_GEN_FAILURE - ERROR_WRITE_PROTECT
RESGROUP:1203
RESGROUP:1203 HavCod:				      ;	...
RESGROUP:1203		      mov     ErrType, 0
RESGROUP:1208		      cmp     di, 10h	      ;	ERROR_FCB_UNAVAILABLE -	ERROR_WRITE_PROTECT
RESGROUP:120B		      jz      short SetStyle
RESGROUP:120D		      cmp     di, 11h	      ;	ERROR_SHARING_BUFFER_EXCEEDED -	ERROR_WRITE_PROTECT
RESGROUP:1210		      jnz     short GotStyle
RESGROUP:1212
RESGROUP:1212 SetStyle:				      ;	...
RESGROUP:1212		      mov     ErrType, 1
RESGROUP:1217
RESGROUP:1217 GotStyle:				      ;	...
RESGROUP:1217		      mov     ErrCd_24,	di
RESGROUP:121B		      cmp     di, 14h	      ;	ERROR_HANDLE_DISK_FULL - ERROR_WRITE_PROTECT
RESGROUP:121E		      jbe     short NormalError
RESGROUP:1220		      mov     di, ax
RESGROUP:1222		      mov     ax, 500h
RESGROUP:1225		      int     2Fh	      ;	Multiplex - DOS	3+ CRITICAL ERROR HANDLER - INSTALLATION CHECK
RESGROUP:1225					      ;	Return:	AL = 00h not installed,	OK to install
RESGROUP:1225					      ;	01h not	installed, can't install
RESGROUP:1225					      ;	FFh installed
RESGROUP:1227		      cmp     al, 0FFh
RESGROUP:1229		      jnz     short NoHandler
RESGROUP:122B		      push    bx
RESGROUP:122C		      mov     bx, di
RESGROUP:122E		      mov     ax, 501h
RESGROUP:1231		      int     2Fh	      ;	Multiplex - DOS	3+ CRITICAL ERROR HANDLER -
RESGROUP:1233		      pop     bx
RESGROUP:1234		      jb      short NoHandler
RESGROUP:1236		      mov     ErrType, al
RESGROUP:1239		      push    ds
RESGROUP:123A		      push    es
RESGROUP:123B		      pop     ds
RESGROUP:123C		      mov     dx, di
RESGROUP:123E		      mov     cx, 0FFFFh
RESGROUP:1241		      xor     al, al
RESGROUP:1243		      cld
RESGROUP:1244		      repne scasb
RESGROUP:1246		      mov     byte ptr [di-1], '$'
RESGROUP:124A		      mov     ah, 9
RESGROUP:124C		      int     21h	      ;	DOS - PRINT STRING
RESGROUP:124C					      ;	DS:DX -> string	terminated by "$"
RESGROUP:124E		      mov     byte ptr [di-1], 0
RESGROUP:1252		      pop     ds
RESGROUP:1253		      jmp     short CheckErrType
RESGROUP:1255 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1255
RESGROUP:1255 NoHandler:			      ;	...
RESGROUP:1255		      mov     ErrType, 0
RESGROUP:125A		      mov     di, OldErrNo
RESGROUP:125E		      mov     ErrCd_24,	di
RESGROUP:1262
RESGROUP:1262 NormalError:			      ;	...
RESGROUP:1262		      add     di, 13h	      ;	ERROR_WRITE_PROTECT
RESGROUP:1265		      xchg    di, dx
RESGROUP:1267		      call    RPrintCrit
RESGROUP:126A
RESGROUP:126A CheckErrType:			      ;	...
RESGROUP:126A		      cmp     ErrType, 0
RESGROUP:126F		      jz      short ContOld
RESGROUP:1271		      call    crlf
RESGROUP:1274		      jmp     short Ask
RESGROUP:1276 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1276
RESGROUP:1276 ContOld:				      ;	...
RESGROUP:1276		      inc     si
RESGROUP:1277		      test    CDevAt, 80h     ;	test byte [CDevAt],DEVTYP>>8
RESGROUP:127C		      jz      short BlkErr
RESGROUP:127E		      mov     dx, offset MDEVICE ; offset DATARES:CharDevErr
RESGROUP:1281		      mov     CharDevErrRw, si ; CharDevErrRw.SubstPtr
RESGROUP:1285		      mov     si, offset CharDevErrSubst
RESGROUP:1288		      call    RPrint
RESGROUP:128B		      jmp     short Ask
RESGROUP:128D ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:128D
RESGROUP:128D BlkErr:				      ;	...
RESGROUP:128D		      mov     dx, offset MDRIVE	; mov dx,offset	DATARES:BlkDevErr
RESGROUP:1290		      mov     BlkDevErrRw, si ;	BlkDevErrRw.SubstPtr
RESGROUP:1294		      mov     si, offset BlkDevErrSubst
RESGROUP:1297		      call    RPrint
RESGROUP:129A		      cmp     Loading, 0
RESGROUP:129F		      jz      short Ask
RESGROUP:12A1		      call    RestHand
RESGROUP:12A4		      jmp     GetComDsk2
RESGROUP:12A7 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:12A7
RESGROUP:12A7 Ask:				      ;	...
RESGROUP:12A7		      cmp     ErrCd_24,	0Fh
RESGROUP:12AC		      jnz     short Not15
RESGROUP:12AE		      push    cx
RESGROUP:12AF		      push    ds
RESGROUP:12B0		      pop     es
RESGROUP:12B1		      assume es:RESGROUP
RESGROUP:12B1		      lds     si, NeedVol
RESGROUP:12B5		      push    di
RESGROUP:12B6		      mov     di, offset VolName
RESGROUP:12B9		      mov     cx, 16
RESGROUP:12BC		      cld
RESGROUP:12BD		      rep movsb
RESGROUP:12BF		      pop     di
RESGROUP:12C0		      push    es
RESGROUP:12C1		      pop     ds
RESGROUP:12C2		      pop     cx
RESGROUP:12C3		      mov     dx, offset MVOLSERIAL
RESGROUP:12C6		      mov     si, offset NeedVolSubst
RESGROUP:12C9		      call    RPrint
RESGROUP:12CC
RESGROUP:12CC Not15:				      ;	...
RESGROUP:12CC		      mov     dx, offset REQ_ABORT
RESGROUP:12CF		      call    RPrint
RESGROUP:12D2		      test    Crit_Err_Info, 10h
RESGROUP:12D7		      jz      short Try_Ignore
RESGROUP:12D9		      mov     dx, offset REQ_RETRY
RESGROUP:12DC		      call    RPrint
RESGROUP:12DF
RESGROUP:12DF Try_Ignore:			      ;	...
RESGROUP:12DF		      test    Crit_Err_Info, 20h
RESGROUP:12E4		      jz      short Try_Fail
RESGROUP:12E6		      mov     dx, offset REQ_IGNORE
RESGROUP:12E9		      call    RPrint
RESGROUP:12EC
RESGROUP:12EC Try_Fail:				      ;	...
RESGROUP:12EC		      test    Crit_Err_Info, 8
RESGROUP:12F1		      jz      short Term_Question
RESGROUP:12F3		      mov     dx, offset REQ_FAIL
RESGROUP:12F6		      call    RPrint
RESGROUP:12F9
RESGROUP:12F9 Term_Question:			      ;	...
RESGROUP:12F9		      mov     dx, offset REQ_END
RESGROUP:12FC		      call    RPrint
RESGROUP:12FF		      test    fFail, 0FFh
RESGROUP:1304		      jz      short DoPrompt
RESGROUP:1306		      mov     ah, 3
RESGROUP:1308		      jmp     EExit
RESGROUP:130B ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:130B
RESGROUP:130B DoPrompt:				      ;	...
RESGROUP:130B		      mov     ax, 0C01h
RESGROUP:130E		      int     21h	      ;	DOS - CLEAR KEYBOARD BUFFER
RESGROUP:130E					      ;	AL must	be 01h,	06h, 07h, 08h, or 0Ah.
RESGROUP:1310		      call    crlf
RESGROUP:1313		      call    CharToUpper
RESGROUP:1316		      mov     ah, 0
RESGROUP:1318		      test    Crit_Err_Info, 20h
RESGROUP:131D		      jz      short User_Retry
RESGROUP:131F		      cmp     al, IGNORE_CHAR
RESGROUP:1323		      jz      short EExitJ
RESGROUP:1325
RESGROUP:1325 User_Retry:			      ;	...
RESGROUP:1325		      inc     ah
RESGROUP:1327		      test    Crit_Err_Info, 10h
RESGROUP:132C		      jz      short User_Abort
RESGROUP:132E		      cmp     al, RETRY_CHAR
RESGROUP:1332		      jz      short EExitJ
RESGROUP:1334
RESGROUP:1334 User_Abort:			      ;	...
RESGROUP:1334		      inc     ah
RESGROUP:1336		      cmp     al, ABORT_CHAR
RESGROUP:133A		      jz      short Abort_Process
RESGROUP:133C		      inc     ah
RESGROUP:133E		      test    Crit_Err_Info, 8
RESGROUP:1343		      jz      short AskJ
RESGROUP:1345		      cmp     al, FAIL_CHAR
RESGROUP:1349		      jz      short EExitJ
RESGROUP:134B
RESGROUP:134B AskJ:				      ;	...
RESGROUP:134B		      jmp     Ask
RESGROUP:134E ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:134E
RESGROUP:134E EExitJ:				      ;	...
RESGROUP:134E		      jmp     short EExit
RESGROUP:1350 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1350
RESGROUP:1350 Abort_Process:			      ;	...
RESGROUP:1350		      test    InitFlag,	1
RESGROUP:1355		      jz      short AbortCont
RESGROUP:1357		      cmp     PermCom, 0
RESGROUP:135C		      jz      short JustExit
RESGROUP:135E		      mov     dx, offset PATRICIDE
RESGROUP:1361		      call    RPrint
RESGROUP:1364
RESGROUP:1364 DeadInTheWater:			      ;	...
RESGROUP:1364		      jmp     short DeadInTheWater
RESGROUP:1366 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1366
RESGROUP:1366 JustExit:				      ;	...
RESGROUP:1366		      mov     ax, Parent
RESGROUP:1369		      mov     ds:16h, ax      ;	[PDB.PARENT_PID]
RESGROUP:136C		      mov     ax, 4CFFh
RESGROUP:136F		      int     21h	      ;	DOS - 2+ - QUIT	WITH EXIT CODE (EXIT)
RESGROUP:136F					      ;	AL = exit code
RESGROUP:1371 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1371
RESGROUP:1371 AbortCont:			      ;	...
RESGROUP:1371		      test    In_Batch,	0FFh
RESGROUP:1376		      jz      short Not_Batch_Abort
RESGROUP:1378		      mov     Batch_Abort, 1
RESGROUP:137D
RESGROUP:137D Not_Batch_Abort:			      ;	...
RESGROUP:137D		      mov     dl, PipeFlag
RESGROUP:1381		      call    ResPipeOff
RESGROUP:1384		      or      dl, dl
RESGROUP:1386		      jz      short CheckForA
RESGROUP:1388		      cmp     SingleCom, 0
RESGROUP:138D		      jz      short CheckForA
RESGROUP:138F		      mov     SingleCom, 0FFFFh	; -1
RESGROUP:1395
RESGROUP:1395 CheckForA:			      ;	...
RESGROUP:1395		      cmp     ErrCd_24,	0
RESGROUP:139A		      jz      short abortfor
RESGROUP:139C		      cmp     ErrCd_24,	2
RESGROUP:13A1		      jnz     short EExit
RESGROUP:13A3
RESGROUP:13A3 abortfor:				      ;	...
RESGROUP:13A3		      mov     ForFlag, 0
RESGROUP:13A8		      cmp     SingleCom, 0
RESGROUP:13AD		      jz      short EExit
RESGROUP:13AF		      mov     SingleCom, 0FFFFh
RESGROUP:13B5
RESGROUP:13B5 EExit:				      ;	...
RESGROUP:13B5		      mov     al, ah
RESGROUP:13B7		      mov     dx, di
RESGROUP:13B9
RESGROUP:13B9 RestHd:				      ;	...
RESGROUP:13B9		      call    RestHand
RESGROUP:13BC		      pop     cx
RESGROUP:13BD		      pop     si
RESGROUP:13BE		      pop     es
RESGROUP:13BF		      assume es:nothing
RESGROUP:13BF		      mov     ds, RStack      ;	mov ds,[OldDS]
RESGROUP:13C3		      iret
RESGROUP:13C4 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:13C4
RESGROUP:13C4 FatErr:				      ;	...
RESGROUP:13C4		      mov     dx, offset BADFATMSG
RESGROUP:13C7		      mov     si, offset BadFatSubst
RESGROUP:13CA		      call    RPrint
RESGROUP:13CD		      mov     al, 2
RESGROUP:13CF		      jmp     short RestHd
RESGROUP:13D1
RESGROUP:13D1 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:13D1
RESGROUP:13D1
RESGROUP:13D1 crlf	      proc near		      ;	...
RESGROUP:13D1		      mov     dx, offset NEWLINE
RESGROUP:13D1 crlf	      endp
RESGROUP:13D1
RESGROUP:13D4
RESGROUP:13D4 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:13D4
RESGROUP:13D4
RESGROUP:13D4 RPrint	      proc near		      ;	...
RESGROUP:13D4		      push    si
RESGROUP:13D5		      push    ax
RESGROUP:13D6		      push    bx
RESGROUP:13D7		      push    cx
RESGROUP:13D8		      push    dx
RESGROUP:13D9		      mov     bx, si
RESGROUP:13DB		      mov     si, dx
RESGROUP:13DD		      lodsb
RESGROUP:13DE		      xor     cx, cx
RESGROUP:13E0		      mov     cl, al
RESGROUP:13E2		      jcxz    short rpRet
RESGROUP:13E4		      call    RDispMsg
RESGROUP:13E7
RESGROUP:13E7 rpRet:				      ;	...
RESGROUP:13E7		      pop     dx
RESGROUP:13E8		      pop     cx
RESGROUP:13E9		      pop     bx
RESGROUP:13EA		      pop     ax
RESGROUP:13EB		      pop     si
RESGROUP:13EC		      retn
RESGROUP:13EC RPrint	      endp
RESGROUP:13EC
RESGROUP:13ED
RESGROUP:13ED ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:13ED
RESGROUP:13ED
RESGROUP:13ED RPrintCrit      proc near		      ;	...
RESGROUP:13ED		      push    dx
RESGROUP:13EE		      xchg    bx, dx
RESGROUP:13F0		      sub     bx, 19
RESGROUP:13F3		      shl     bx, 1
RESGROUP:13F5		      mov     bx, CRITMSGPTRS[bx]
RESGROUP:13F9		      xchg    bx, dx
RESGROUP:13FB		      call    RPrint
RESGROUP:13FE		      pop     dx
RESGROUP:13FF		      retn
RESGROUP:13FF RPrintCrit      endp
RESGROUP:13FF
RESGROUP:1400
RESGROUP:1400 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1400
RESGROUP:1400
RESGROUP:1400 RDispMsg	      proc near		      ;	...
RESGROUP:1400		      lodsb
RESGROUP:1401		      cmp     al, '%'
RESGROUP:1403		      jnz     short rdOutChar
RESGROUP:1405		      mov     dl, [si]
RESGROUP:1407		      sub     dl, '1'
RESGROUP:140A		      cmp     dl, 9
RESGROUP:140D		      jnb     short rdOutChar
RESGROUP:140F		      call    SubstMsg
RESGROUP:1412		      inc     si
RESGROUP:1413		      dec     cx
RESGROUP:1414		      jmp     short rdCharDone
RESGROUP:1416 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1416
RESGROUP:1416 rdOutChar:			      ;	...
RESGROUP:1416		      mov     dl, al
RESGROUP:1418		      mov     ah, 2
RESGROUP:141A		      int     21h	      ;	DOS - DISPLAY OUTPUT
RESGROUP:141A					      ;	DL = character to send to standard output
RESGROUP:141C
RESGROUP:141C rdCharDone:			      ;	...
RESGROUP:141C		      loop    RDispMsg
RESGROUP:141E		      retn
RESGROUP:141E RDispMsg	      endp
RESGROUP:141E
RESGROUP:141F
RESGROUP:141F ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:141F
RESGROUP:141F
RESGROUP:141F SubstMsg	      proc near		      ;	...
RESGROUP:141F		      push    bx
RESGROUP:1420		      push    cx
RESGROUP:1421		      mov     al, 3
RESGROUP:1423		      mul     dl
RESGROUP:1425		      add     bx, ax
RESGROUP:1427		      mov     al, [bx]
RESGROUP:1429		      mov     bx, [bx+1]
RESGROUP:142C		      dec     al
RESGROUP:142E		      jz      short smChar
RESGROUP:1430		      dec     al
RESGROUP:1432		      jz      short smStr
RESGROUP:1434		      mov     ax, [bx]
RESGROUP:1436		      mov     cx, 4
RESGROUP:1439
RESGROUP:1439 smDigit:				      ;	...
RESGROUP:1439		      rol     ax, 1
RESGROUP:143B		      rol     ax, 1
RESGROUP:143D		      rol     ax, 1
RESGROUP:143F		      rol     ax, 1
RESGROUP:1441		      push    ax
RESGROUP:1442		      and     al, 0Fh
RESGROUP:1444		      add     al, '0'
RESGROUP:1446		      cmp     al, '9'
RESGROUP:1448		      jbe     short smDigit09
RESGROUP:144A		      add     al, 7	      ;	'A' - '0' - 10
RESGROUP:144C
RESGROUP:144C smDigit09:			      ;	...
RESGROUP:144C		      mov     dl, al
RESGROUP:144E		      mov     ah, 2
RESGROUP:1450		      int     21h	      ;	DOS - DISPLAY OUTPUT
RESGROUP:1450					      ;	DL = character to send to standard output
RESGROUP:1452		      pop     ax
RESGROUP:1453		      loop    smDigit
RESGROUP:1455		      jmp     short smRet
RESGROUP:1457 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1457
RESGROUP:1457 smChar:				      ;	...
RESGROUP:1457		      mov     dl, [bx]
RESGROUP:1459		      mov     ah, 2
RESGROUP:145B		      int     21h	      ;	DOS - DISPLAY OUTPUT
RESGROUP:145B					      ;	DL = character to send to standard output
RESGROUP:145D		      jmp     short smRet
RESGROUP:145F ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:145F
RESGROUP:145F smStr:				      ;	...
RESGROUP:145F		      mov     dl, [bx]
RESGROUP:1461		      or      dl, dl
RESGROUP:1463		      jz      short smRet
RESGROUP:1465		      mov     ah, 2
RESGROUP:1467		      int     21h	      ;	DOS - DISPLAY OUTPUT
RESGROUP:1467					      ;	DL = character to send to standard output
RESGROUP:1469		      inc     bx
RESGROUP:146A		      jmp     short smStr
RESGROUP:146C ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:146C
RESGROUP:146C smRet:				      ;	...
RESGROUP:146C		      pop     cx
RESGROUP:146D		      pop     bx
RESGROUP:146E		      retn
RESGROUP:146E SubstMsg	      endp
RESGROUP:146E
RESGROUP:146F
RESGROUP:146F ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:146F
RESGROUP:146F
RESGROUP:146F CharToUpper     proc near		      ;	...
RESGROUP:146F		      push    ax
RESGROUP:1470		      mov     ax, 1213h
RESGROUP:1473		      int     2Fh	      ;	Multiplex - DOS	3+ internal - UPPERCASE	CHARACTER
RESGROUP:1473					      ;	STACK: WORD character to convert to uppercase
RESGROUP:1473					      ;	Return:	AL = uppercase character
RESGROUP:1473					      ;	STACK unchanged
RESGROUP:1475		      inc     sp
RESGROUP:1476		      inc     sp
RESGROUP:1477		      retn
RESGROUP:1477 CharToUpper     endp ; sp	= -2
RESGROUP:1477
RESGROUP:1478 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1478
RESGROUP:1478 MsgInt2fHandler:			      ;	...
RESGROUP:1478		      pop     ds
RESGROUP:1479		      cmp     ax, 122Eh
RESGROUP:147C		      jz      short miOurs
RESGROUP:147E		      cmp     ax, 5500h
RESGROUP:1481		      jz      short fcOurs
RESGROUP:1483		      push    ax
RESGROUP:1484		      push    ax
RESGROUP:1485		      push    bp
RESGROUP:1486		      push    ax
RESGROUP:1487		      mov     bp, sp
RESGROUP:1489		      mov     ax, [bp+8]
RESGROUP:148C		      mov     [bp+4], ax
RESGROUP:148F		      mov     ax, Int2fHandler+2
RESGROUP:1492		      mov     [bp+8], ax
RESGROUP:1495		      mov     ax, Int2fHandler
RESGROUP:1498		      mov     [bp+6], ax
RESGROUP:149B		      pop     ax
RESGROUP:149C		      pop     bp
RESGROUP:149D		      pop     ds
RESGROUP:149E		      retf
RESGROUP:149F ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:149F
RESGROUP:149F fcOurs:				      ;	...
RESGROUP:149F		      pop     ax
RESGROUP:14A0		      push    ds
RESGROUP:14A1		      mov     si, offset Int2f_Entry
RESGROUP:14A4		      xor     ax, ax
RESGROUP:14A6		      jmp     short miRet
RESGROUP:14A8 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:14A8
RESGROUP:14A8 miOurs:				      ;	...
RESGROUP:14A8		      test    dl, 1
RESGROUP:14AB		      jnz     short miRet
RESGROUP:14AD		      push    bx
RESGROUP:14AE		      mov     bx, dx
RESGROUP:14B0		      xor     bh, bh
RESGROUP:14B2		      shl     bx, 1
RESGROUP:14B4		      les     di, MsgPtrLists[bx]
RESGROUP:14B8		      pop     bx
RESGROUP:14B9
RESGROUP:14B9 miRet:				      ;	...
RESGROUP:14B9		      pop     ds
RESGROUP:14BA		      iret
RESGROUP:14BB ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:14BB
RESGROUP:14BB MsgRetriever:
RESGROUP:14BB		      pop     ds
RESGROUP:14BC		      push    ax
RESGROUP:14BD		      push    bx
RESGROUP:14BE		      push    cx
RESGROUP:14BF		      push    dx
RESGROUP:14C0		      push    si
RESGROUP:14C1		      push    ds
RESGROUP:14C2		      pop     es
RESGROUP:14C3		      assume es:RESGROUP
RESGROUP:14C3		      mov     bx, 11	      ;	NUMPARSMSGS
RESGROUP:14C6		      cmp     di, offset PARSMSGPTRS
RESGROUP:14CA		      jz      short chkmsgnum
RESGROUP:14CC		      mov     bx, 90	      ;	NUMEXTMSGS
RESGROUP:14CF
RESGROUP:14CF chkmsgnum:			      ;	...
RESGROUP:14CF		      cmp     bx, ax
RESGROUP:14D1		      jb      short mrRet
RESGROUP:14D3		      dec     ax
RESGROUP:14D4		      shl     ax, 1
RESGROUP:14D6		      add     di, ax
RESGROUP:14D8		      cmp     di, ResMsgEnd
RESGROUP:14DC		      jb      short mrInMem
RESGROUP:14DE		      mov     si, offset ComSpec
RESGROUP:14E1		      mov     dx, 1	      ;	EXT_EXISTS_OPEN
RESGROUP:14E4		      mov     bx, 2000h	      ;	INT_24_ERROR
RESGROUP:14E7		      mov     ax, 6C00h
RESGROUP:14EA		      int     21h	      ;	DOS - 4.0 - EXTENDED OPEN/CREATE
RESGROUP:14EA					      ;	BL = open mode as in AL	for normal open	(INT 21h/AH=3Dh)
RESGROUP:14EA					      ;	BH = flags, CX = create	attribute, DL =	action if file exists/does not exists
RESGROUP:14EA					      ;	DH = 00h (reserved), DS:SI -> ASCIZ file name
RESGROUP:14EC		      jb      short mrRet
RESGROUP:14EE		      mov     bx, ax
RESGROUP:14F0		      mov     dx, di
RESGROUP:14F2		      xor     si, si
RESGROUP:14F4
RESGROUP:14F4 mrRead:				      ;	...
RESGROUP:14F4		      sub     dx, 100h
RESGROUP:14F8		      xor     cx, cx
RESGROUP:14FA		      mov     ax, 4200h
RESGROUP:14FD		      int     21h	      ;	DOS - 2+ - MOVE	FILE READ/WRITE	POINTER	(LSEEK)
RESGROUP:14FD					      ;	AL = method: offset from beginning of file
RESGROUP:14FF		      jb      short mrCloseFile
RESGROUP:1501		      mov     dx, offset SafePathBuffer	; offset DATARES:MsgBuffer
RESGROUP:1504		      mov     cx, 64
RESGROUP:1507		      mov     ah, 3Fh
RESGROUP:1509		      int     21h	      ;	DOS - 2+ - READ	FROM FILE WITH HANDLE
RESGROUP:1509					      ;	BX = file handle, CX = number of bytes to read
RESGROUP:1509					      ;	DS:DX -> buffer
RESGROUP:150B		      jb      short mrCloseFile
RESGROUP:150D		      or      si, si
RESGROUP:150F		      jnz     short mrCloseFile
RESGROUP:1511		      inc     si
RESGROUP:1512		      mov     dx, word ptr SafePathBuffer
RESGROUP:1516		      or      dx, dx
RESGROUP:1518		      jnz     short mrRead
RESGROUP:151A		      stc
RESGROUP:151B
RESGROUP:151B mrCloseFile:			      ;	...
RESGROUP:151B		      pushf
RESGROUP:151C		      mov     ah, 3Eh
RESGROUP:151E		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:151E					      ;	BX = file handle
RESGROUP:1520		      popf
RESGROUP:1521		      mov     di, dx
RESGROUP:1523		      jmp     short mrRet
RESGROUP:1525 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1525
RESGROUP:1525 mrInMem:				      ;	...
RESGROUP:1525		      mov     di, es:[di]
RESGROUP:1528		      or      di, di
RESGROUP:152A		      jnz     short mrRet
RESGROUP:152C		      stc
RESGROUP:152D
RESGROUP:152D mrRet:				      ;	...
RESGROUP:152D		      pop     si
RESGROUP:152E		      pop     dx
RESGROUP:152F		      pop     cx
RESGROUP:1530		      pop     bx
RESGROUP:1531		      pop     ax
RESGROUP:1532		      pop     ds
RESGROUP:1533		      retf
RESGROUP:1534 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1534
RESGROUP:1534 Lh_OffUnlink:
RESGROUP:1534		      mov     ch, al
RESGROUP:1536		      mov     cl, al
RESGROUP:1538		      mov     ax, 5800h
RESGROUP:153B		      int     21h	      ;	DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
RESGROUP:153B					      ;	AL = function code: get	allocation strategy
RESGROUP:153D		      mov     bx, ax
RESGROUP:153F		      ror     cl, 1
RESGROUP:1541		      and     cl, 80h
RESGROUP:1544		      and     bl, 7Fh
RESGROUP:1547		      or      bl, cl
RESGROUP:1549		      mov     ax, 5801h
RESGROUP:154C		      int     21h	      ;	DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
RESGROUP:154C					      ;	AL = function code: set	allocation strategy
RESGROUP:154E		      mov     bl, ch
RESGROUP:1550		      shr     bl, 1
RESGROUP:1552		      xor     bh, bh
RESGROUP:1554		      mov     ax, 5803h
RESGROUP:1557		      int     21h	      ;	DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
RESGROUP:1557					      ;	AL = function code: (DOS 5beta)	set UMB	link state
RESGROUP:1559		      retf
RESGROUP:1559 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:155A EndCode	      db 6 dup(0)
RESGROUP:1560
RESGROUP:1560 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1560
RESGROUP:1560
RESGROUP:1560 ConProc	      proc near		      ;	...
RESGROUP:1560
RESGROUP:1560 ;	FUNCTION CHUNK AT RESGROUP:017F	SIZE 0000000A BYTES
RESGROUP:1560 ;	FUNCTION CHUNK AT RESGROUP:0320	SIZE 000000CD BYTES
RESGROUP:1560
RESGROUP:1560		      mov     sp, offset RStack
RESGROUP:1563		      mov     ah, 50h
RESGROUP:1565		      mov     bx, es
RESGROUP:1567		      int     21h	      ;	DOS - 2+ internal - SET	PSP SEGMENT
RESGROUP:1567					      ;	BX = segment address of	new PSP
RESGROUP:1569		      mov     ah, 30h
RESGROUP:156B		      int     21h	      ;	DOS - GET DOS VERSION
RESGROUP:156B					      ;	Return:	AL = major version number (00h for DOS 1.x)
RESGROUP:156D		      cmp     ax, 5
RESGROUP:1570		      jz      short okdos
RESGROUP:1572		      mov     dx, offset BADVERMSG
RESGROUP:1575		      call    RPrint
RESGROUP:1578		      mov     ax, es
RESGROUP:157A		      cmp     es:16h, ax      ;	[es:PDB.PARENT_PID]
RESGROUP:157F
RESGROUP:157F Here:				      ;	...
RESGROUP:157F		      jz      short Here
RESGROUP:1581		      int     20h	      ;	DOS - PROGRAM TERMINATION
RESGROUP:1581					      ;	returns	to DOS--identical to INT 21/AH=00h
RESGROUP:1583 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1583
RESGROUP:1583 okdos:				      ;	...
RESGROUP:1583		      mov     dx, 232Fh	      ;	TRANSTART+15
RESGROUP:1586		      mov     cl, 4
RESGROUP:1588		      shr     dx, cl
RESGROUP:158A		      mov     ax, cs
RESGROUP:158C		      add     ax, dx
RESGROUP:158E		      mov     initend, ax
RESGROUP:1591		      call    CheckHelp
RESGROUP:1594		      call    patch_segs
RESGROUP:1597		      mov     ax, 0B700h
RESGROUP:159A		      int     2Fh	      ;	- Multiplex - APPEND - INSTALLATION CHECK
RESGROUP:159A					      ;	Return:	AL = 00h not installed
RESGROUP:159A					      ;	AL = FFh if installed
RESGROUP:159C		      cmp     al, 0
RESGROUP:159E		      jz      short set_msg_addr
RESGROUP:15A0		      mov     ax, 0B702h
RESGROUP:15A3		      int     2Fh	      ;	- Multiplex - APPEND - VERSION CHECK
RESGROUP:15A3					      ;	Return:	AX = FFFFh if not DOS 4.0 APPEND
RESGROUP:15A3					      ;	AL = major version number
RESGROUP:15A3					      ;	AH = minor version number, otherwise
RESGROUP:15A5		      cmp     ax, 0FFFFh
RESGROUP:15A8		      jnz     short set_msg_addr
RESGROUP:15AA		      mov     ax, 0B706h
RESGROUP:15AD		      int     2Fh	      ;	- Multiplex - DOS 4.0 APPEND - GET APPEND FUNCTION STATE
RESGROUP:15AD					      ;	Return:	BX = APPEND state
RESGROUP:15AF		      mov     Append_State, bx
RESGROUP:15B3		      xor     bx, bx
RESGROUP:15B5		      mov     ax, 0B707h
RESGROUP:15B8		      int     2Fh	      ;	- Multiplex - DOS 4.0 APPEND - SET APPEND FUNCTION STATE
RESGROUP:15B8					      ;	BX = APPEND state bits
RESGROUP:15BA
RESGROUP:15BA set_msg_addr:			      ;	...
RESGROUP:15BA		      mov     di, offset PAERRMSG0 ; offset resgroup:DataresEnd
RESGROUP:15BD		      mov     ResMsgEnd, di
RESGROUP:15C1		      call    get_XMMAddr
RESGROUP:15C4		      mov     ax, 5500h
RESGROUP:15C7		      int     2Fh
RESGROUP:15C9		      or      ax, ax
RESGROUP:15CB		      jnz     short first_com
RESGROUP:15CD		      mov     es:ResJmpTable, si
RESGROUP:15D2		      mov     es:ResJmpTable+2,	ds
RESGROUP:15D7		      jmp     short init_cntry
RESGROUP:15D9 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:15D9
RESGROUP:15D9 first_com:			      ;	...
RESGROUP:15D9		      mov     es:FirstCom, 1
RESGROUP:15DF
RESGROUP:15DF init_cntry:			      ;	...
RESGROUP:15DF		      push    es
RESGROUP:15E0		      pop     ds
RESGROUP:15E1		      mov     ah, 65h
RESGROUP:15E3		      mov     al, 4
RESGROUP:15E5		      mov     dx, 0FFFFh
RESGROUP:15E8		      mov     bx, 0FFFFh
RESGROUP:15EB		      mov     cx, 5
RESGROUP:15EE		      mov     di, offset FUCase_Addr
RESGROUP:15F1		      int     21h	      ;	DOS - 4.x internal - COUNTRY-DEPENDENT FILENAME	CAPITALIZATION
RESGROUP:15F1					      ;	AL = function -
RESGROUP:15F3		      push    ds
RESGROUP:15F4		      mov     ax, 6300h
RESGROUP:15F7		      int     21h	      ;	DOS - 3.2+ only	- GET DOUBLE BYTE CHARACTER SET	LEAD TABLE
RESGROUP:15F9		      mov     bx, ds
RESGROUP:15FB		      pop     ds
RESGROUP:15FC		      mov     Dbcs_Vector_Addr,	si
RESGROUP:1600		      mov     Dbcs_Vector_Addr+2, bx
RESGROUP:1604		      mov     ax, ds:16h      ;	[PDB.PARENT_PID]
RESGROUP:1607		      mov     Parent, ax
RESGROUP:160A		      mov     ax, ds:0Ah      ;	[PDB.EXIT]
RESGROUP:160D		      mov     OldTerm, ax
RESGROUP:1610		      mov     ax, ds:0Ch      ;	[PDB.EXIT+2]
RESGROUP:1613		      mov     OldTerm+2, ax
RESGROUP:1616		      mov     ax, 1569h	      ;	EndCode+15
RESGROUP:1619		      mov     cl, 4
RESGROUP:161B		      shr     ax, cl
RESGROUP:161D		      mov     cx, cs
RESGROUP:161F		      add     ax, cx
RESGROUP:1621		      mov     Res_Tpa, ax
RESGROUP:1624		      and     ax, 0F000h
RESGROUP:1627		      add     ax, 1000h
RESGROUP:162A		      jnb     short TpaSet
RESGROUP:162C		      mov     ax, Res_Tpa
RESGROUP:162F
RESGROUP:162F TpaSet:				      ;	...
RESGROUP:162F		      mov     LTpa, ax
RESGROUP:1632		      mov     ax, ds:2	      ;	[PDB.BLOCK_LEN]
RESGROUP:1635		      mov     MySeg1, ds
RESGROUP:1639		      mov     MySeg2, ds
RESGROUP:163D		      mov     MySeg, ds
RESGROUP:1641		      mov     MySeg3, ds      ;	segment	of msg retriever routine
RESGROUP:1645		      mov     MemSiz, ax
RESGROUP:1648		      push    ax
RESGROUP:1649		      mov     bx, 2320h	      ;	mov bx,offset RESGROUP:TranStart
RESGROUP:164C		      add     bx, 98C5h	      ;	add bx,offset TRANGROUP:TranSpaceEnd
RESGROUP:1650		      add     bx, 0Fh
RESGROUP:1653		      mov     cl, 4
RESGROUP:1655		      shr     bx, cl
RESGROUP:1657		      mov     ah, 4Ah
RESGROUP:1659		      int     21h	      ;	DOS - 2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
RESGROUP:1659					      ;	ES = segment address of	block to change
RESGROUP:1659					      ;	BX = new size in paragraphs
RESGROUP:165B		      pop     ax
RESGROUP:165C		      mov     EnvMax, 81
RESGROUP:1662		      mov     EnvSiz, 16
RESGROUP:1668		      mov     dx, 98D4h	      ;	TRANSPACEEND+15
RESGROUP:166B		      mov     cl, 4
RESGROUP:166D		      shr     dx, cl
RESGROUP:166F		      mov     TrnSize, dx
RESGROUP:1673		      sub     ax, dx
RESGROUP:1675		      mov     TrnSeg, ax
RESGROUP:1678		      mov     ax, ds:2Ch      ;	[PDB.ENVIRON]
RESGROUP:167B		      or      ax, ax
RESGROUP:167D		      jz      short buildenv
RESGROUP:167F		      inc     AllocedEnv
RESGROUP:1683		      jmp     short environpassed
RESGROUP:1685 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1685
RESGROUP:1685 buildenv:				      ;	...
RESGROUP:1685		      call    alloc_env
RESGROUP:1688
RESGROUP:1688 environpassed:			      ;	...
RESGROUP:1688		      mov     EnvirSeg,	ax
RESGROUP:168B		      mov     es, ax
RESGROUP:168D		      assume es:nothing
RESGROUP:168D
RESGROUP:168D gottheenvir:
RESGROUP:168D		      mov     ah, 19h
RESGROUP:168F		      int     21h	      ;	DOS - GET DEFAULT DISK NUMBER
RESGROUP:1691		      inc     al
RESGROUP:1693		      mov     ComDrv, al
RESGROUP:1696		      mov     al, ds:5Ch      ;	[FCB]
RESGROUP:1699		      or      al, al
RESGROUP:169B		      jz      short nocomdrv
RESGROUP:169D		      mov     ah, ':'
RESGROUP:169F		      mov     ComDrv, al
RESGROUP:16A2		      add     al, 40h
RESGROUP:16A4		      std
RESGROUP:16A5		      cmp     AllocedEnv, 0
RESGROUP:16AA		      jnz     short notwidenv
RESGROUP:16AC		      push    ds
RESGROUP:16AD		      push    es
RESGROUP:16AE		      pop     ds
RESGROUP:16AF		      mov     di, 9Fh	      ;	ENVIRONSIZ-1
RESGROUP:16B2		      mov     si, 9Dh	      ;	ENVIRONSIZ-3
RESGROUP:16B5		      mov     cx, 144	      ;	MAX_COMSPEC-2
RESGROUP:16B8		      rep movsb
RESGROUP:16BA		      pop     ds
RESGROUP:16BB		      mov     es:0Eh, ax      ;	[es:ECOMSPEC]
RESGROUP:16BF
RESGROUP:16BF notwidenv:			      ;	...
RESGROUP:16BF		      cld
RESGROUP:16C0		      mov     word ptr AUTOBAT,	ax
RESGROUP:16C3		      mov     word ptr KAUTOBAT, ax
RESGROUP:16C6
RESGROUP:16C6 nocomdrv:				      ;	...
RESGROUP:16C6		      call    SetVect
RESGROUP:16C9		      push    cs
RESGROUP:16CA		      push    cs
RESGROUP:16CB		      pop     ds
RESGROUP:16CC		      pop     es
RESGROUP:16CD		      mov     si, 80h
RESGROUP:16D0		      lodsb
RESGROUP:16D1		      mov     di, si
RESGROUP:16D3		      xor     ah, ah
RESGROUP:16D5		      add     di, ax
RESGROUP:16D7		      mov     byte ptr [di], 0Dh
RESGROUP:16DA		      xor     cx, cx
RESGROUP:16DC		      mov     num_positionals, cx
RESGROUP:16E0
RESGROUP:16E0 Parse_command_line:		      ;	...
RESGROUP:16E0		      mov     di, offset INTERNAT_INFO ; offset	ResGroup:Parse_Command
RESGROUP:16E3		      mov     cx, num_positionals
RESGROUP:16E7		      xor     dx, dx
RESGROUP:16E9		      mov     old_parse_ptr, si
RESGROUP:16ED		      call    dword ptr	Init_Parse
RESGROUP:16F1		      mov     num_positionals, cx
RESGROUP:16F5		      cmp     ax, 0FFFFh
RESGROUP:16F8		      jz      short ArgsDoneJ
RESGROUP:16FA
RESGROUP:16FA t1:
RESGROUP:16FA		      cmp     ax, 0
RESGROUP:16FD		      jz      short parse_cont
RESGROUP:16FF
RESGROUP:16FF parse_line_error:			      ;	...
RESGROUP:16FF		      push    si
RESGROUP:1700		      push    ax
RESGROUP:1701		      cmp     ax, 3
RESGROUP:1704		      jnz     short parse_line_error_disp
RESGROUP:1706		      mov     di, si
RESGROUP:1708		      mov     si, old_parse_ptr
RESGROUP:170C
RESGROUP:170C init_chk_delim:			      ;	...
RESGROUP:170C		      cmp     si, di
RESGROUP:170E		      jz      short parse_line_error_disp
RESGROUP:1710		      lodsb
RESGROUP:1711		      cmp     al, space
RESGROUP:1715		      jz      short init_chk_delim
RESGROUP:1717		      cmp     al, 9
RESGROUP:1719		      jz      short init_chk_delim
RESGROUP:171B		      cmp     al, RSwitChar
RESGROUP:171F		      jnz     short parse_line_error_disp
RESGROUP:1721		      lodsb
RESGROUP:1722		      call    iupconv
RESGROUP:1725		      cmp     al, scswitch
RESGROUP:1729		      jnz     short parse_line_error_disp
RESGROUP:172B		      pop     dx
RESGROUP:172C		      pop     dx
RESGROUP:172D		      jmp     SetSSwitch
RESGROUP:1730 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1730
RESGROUP:1730 parse_line_error_disp:		      ;	...
RESGROUP:1730		      pop     ax
RESGROUP:1731		      pop     si
RESGROUP:1732		      mov     dx, ax
RESGROUP:1734		      call    RPrintParse
RESGROUP:1737		      call    crlf
RESGROUP:173A		      jmp     short Parse_command_line
RESGROUP:173C ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:173C
RESGROUP:173C parse_cont:			      ;	...
RESGROUP:173C		      cmp     COMND1_SYN, offset COMMAND_F_SYN ; "/F"
RESGROUP:1742		      jz      short SetFSwitch
RESGROUP:1744		      cmp     COMND1_SYN, offset COMMAND_P_SYN ; "/P"
RESGROUP:174A		      jz      short SetPSwitch
RESGROUP:174C		      cmp     COMND1_SYN, offset COMMAND_D_SYN ; "/D"
RESGROUP:1752		      jz      short SetDSwitch
RESGROUP:1754		      cmp     COMND1_SYN, offset COMMAND_C_SYN ; "/C"
RESGROUP:175A		      jz      short SetSSwitch
RESGROUP:175C		      cmp     COMND1_SYN, offset COMMAND_E_SYN ; "/E"
RESGROUP:1762		      jz      short SetESwitch
RESGROUP:1764		      cmp     COMND1_SYN, offset COMMAND_M_SYN ; "/MSG"
RESGROUP:176A		      jz      short SetMSwitchjmp
RESGROUP:176C		      jmp     ChkOtherArgs
RESGROUP:176F ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:176F
RESGROUP:176F SetMSwitchjmp:			      ;	...
RESGROUP:176F		      jmp     SetMSwitch
RESGROUP:1772 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1772
RESGROUP:1772 ArgsDoneJ:			      ;	...
RESGROUP:1772		      jmp     ArgsDone
RESGROUP:1775 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1775
RESGROUP:1775 SetFSwitch:			      ;	...
RESGROUP:1775		      cmp     fFail, 0FFh
RESGROUP:177A		      jnz     short failok
RESGROUP:177C		      mov     ax, 1
RESGROUP:177F		      jmp     parse_line_error
RESGROUP:1782 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1782
RESGROUP:1782 failok:				      ;	...
RESGROUP:1782		      mov     fFail, 0FFh
RESGROUP:1787		      jmp     Parse_command_line
RESGROUP:178A ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:178A
RESGROUP:178A SetPSwitch:			      ;	...
RESGROUP:178A		      cmp     PermCom, 0
RESGROUP:178F		      jz      short permcomok
RESGROUP:1791		      mov     ax, 1
RESGROUP:1794		      jmp     parse_line_error
RESGROUP:1797 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1797
RESGROUP:1797 permcomok:			      ;	...
RESGROUP:1797		      inc     PermCom
RESGROUP:179B		      mov     OldTerm, offset LodCom_Trap
RESGROUP:17A1		      mov     OldTerm+2, ds
RESGROUP:17A5		      cmp     PRDATTM, 0FFh
RESGROUP:17AA		      jnz     short Parse_command_line_jmp
RESGROUP:17AC		      mov     PRDATTM, 0
RESGROUP:17B1
RESGROUP:17B1 Parse_command_line_jmp:		      ;	...
RESGROUP:17B1		      jmp     Parse_command_line
RESGROUP:17B4 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:17B4		      jmp     ArgsDone
RESGROUP:17B7 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:17B7
RESGROUP:17B7 SetDSwitch:			      ;	...
RESGROUP:17B7		      cmp     dswitch, 0
RESGROUP:17BC		      jz      short setdateok
RESGROUP:17BE		      mov     ax, 1
RESGROUP:17C1		      jmp     parse_line_error
RESGROUP:17C4 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:17C4
RESGROUP:17C4 setdateok:			      ;	...
RESGROUP:17C4		      inc     dswitch
RESGROUP:17C8		      mov     PRDATTM, 1
RESGROUP:17CD		      jmp     Parse_command_line
RESGROUP:17D0 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:17D0
RESGROUP:17D0 SetSSwitch:			      ;	...
RESGROUP:17D0		      mov     SingleCom, si
RESGROUP:17D4		      mov     PermCom, 0
RESGROUP:17D9		      mov     PRDATTM, 1
RESGROUP:17DE		      jmp     ArgsDone
RESGROUP:17E1 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:17E1
RESGROUP:17E1 SetESwitch:			      ;	...
RESGROUP:17E1		      cmp     eswitch, 0
RESGROUP:17E6		      jz      short eswitchok
RESGROUP:17E8		      mov     ax, 1
RESGROUP:17EB		      jmp     parse_line_error
RESGROUP:17EE ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:17EE
RESGROUP:17EE eswitchok:			      ;	...
RESGROUP:17EE		      inc     eswitch
RESGROUP:17F2		      mov     di, offset COMND1_ADDR
RESGROUP:17F5		      mov     bx, [di]
RESGROUP:17F7		      add     bx, 0Fh
RESGROUP:17FA		      mov     cl, 4
RESGROUP:17FC		      shr     bx, cl
RESGROUP:17FE		      mov     EnvSiz, bx
RESGROUP:1802		      jmp     Parse_command_line
RESGROUP:1805 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1805
RESGROUP:1805 SetMSwitch:			      ;	...
RESGROUP:1805		      cmp     ext_msg, 1
RESGROUP:180A		      jnz     short setMswitchok
RESGROUP:180C		      mov     ax, 1
RESGROUP:180F		      jmp     parse_line_error
RESGROUP:1812 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1812
RESGROUP:1812 setMswitchok:			      ;	...
RESGROUP:1812		      mov     ext_msg, 1
RESGROUP:1817		      jmp     Parse_command_line
RESGROUP:181A ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:181A		      jmp     ArgsDone
RESGROUP:181D ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:181D
RESGROUP:181D ChkOtherArgs:			      ;	...
RESGROUP:181D		      push    ds
RESGROUP:181E		      push    si
RESGROUP:181F		      lds     si, COMND1_ADDR
RESGROUP:1823		      mov     dx, si
RESGROUP:1825		      mov     ax, 3D02h
RESGROUP:1828		      int     21h	      ;	DOS - 2+ - OPEN	DISK FILE WITH HANDLE
RESGROUP:1828					      ;	DS:DX -> ASCIZ filename
RESGROUP:1828					      ;	AL = access mode
RESGROUP:1828					      ;	2 - read & write
RESGROUP:182A		      jb      short ChkSrchSpec
RESGROUP:182C		      mov     bx, ax
RESGROUP:182E		      mov     ax, 4400h
RESGROUP:1831		      int     21h	      ;	DOS - 2+ - IOCTL - GET DEVICE INFORMATION
RESGROUP:1831					      ;	BX = file or device handle
RESGROUP:1833		      test    dl, 80h
RESGROUP:1836		      jnz     short IsaDevice
RESGROUP:1838
RESGROUP:1838 BadSetCon:			      ;	...
RESGROUP:1838		      mov     ah, 3Eh
RESGROUP:183A		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:183A					      ;	BX = file handle
RESGROUP:183C		      jmp     short ChkSrchSpec
RESGROUP:183E ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:183E
RESGROUP:183E IsaDevice:			      ;	...
RESGROUP:183E		      xor     dh, dh
RESGROUP:1840		      or      dl, 3
RESGROUP:1843		      mov     ax, 4401h
RESGROUP:1846		      int     21h	      ;	DOS - 2+ - IOCTL - SET DEVICE INFORMATION
RESGROUP:1846					      ;	BX = device handle, DH = 0
RESGROUP:1846					      ;	DL = device information	to set (bits 0-7 from function 0)
RESGROUP:1848		      jb      short BadSetCon
RESGROUP:184A		      mov     dx, bx
RESGROUP:184C		      cmp     es:DevFlag, 1
RESGROUP:1852		      jz      short DevErr
RESGROUP:1854		      push    cx
RESGROUP:1855		      mov     cx, 3
RESGROUP:1858		      xor     bx, bx
RESGROUP:185A
RESGROUP:185A rcclloop:				      ;	...
RESGROUP:185A		      mov     ah, 3Eh
RESGROUP:185C		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:185C					      ;	BX = file handle
RESGROUP:185E		      inc     bx
RESGROUP:185F		      loop    rcclloop
RESGROUP:1861		      mov     bx, dx
RESGROUP:1863		      mov     ah, 45h
RESGROUP:1865		      int     21h	      ;	DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
RESGROUP:1865					      ;	BX = file handle to duplicate
RESGROUP:1867		      mov     ah, 45h
RESGROUP:1869		      int     21h	      ;	DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
RESGROUP:1869					      ;	BX = file handle to duplicate
RESGROUP:186B		      mov     ah, 45h
RESGROUP:186D		      int     21h	      ;	DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
RESGROUP:186D					      ;	BX = file handle to duplicate
RESGROUP:186F		      mov     ah, 3Eh
RESGROUP:1871		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:1871					      ;	BX = file handle
RESGROUP:1873		      pop     cx
RESGROUP:1874		      pop     si
RESGROUP:1875		      pop     ds
RESGROUP:1876		      inc     es:DevFlag
RESGROUP:187B		      jmp     Parse_command_line
RESGROUP:187E ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:187E
RESGROUP:187E DevErr:				      ;	...
RESGROUP:187E		      pop     si
RESGROUP:187F		      pop     ds
RESGROUP:1880		      mov     dx, 1
RESGROUP:1883		      call    RPrintParse
RESGROUP:1886		      call    crlf
RESGROUP:1889		      jmp     Parse_command_line
RESGROUP:188C ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:188C
RESGROUP:188C ChkSrchSpec:			      ;	...
RESGROUP:188C		      cmp     es:PathFlag, 1
RESGROUP:1892		      jz      short DevErr
RESGROUP:1894		      inc     es:PathFlag
RESGROUP:1899		      mov     ax, ss:EnvirSeg
RESGROUP:189D		      cmp     ss:AllocedEnv, 1
RESGROUP:18A3		      mov     ss:AllocedEnv, 0
RESGROUP:18A9		      jnz     short env_alloced
RESGROUP:18AB		      call    alloc_env
RESGROUP:18AE		      mov     ss:EnvirSeg, ax
RESGROUP:18B2
RESGROUP:18B2 env_alloced:			      ;	...
RESGROUP:18B2		      mov     es, ax
RESGROUP:18B4		      push    si
RESGROUP:18B5		      xor     cx, cx
RESGROUP:18B7
RESGROUP:18B7 countloop:			      ;	...
RESGROUP:18B7		      lodsb
RESGROUP:18B8		      inc     cx
RESGROUP:18B9		      cmp     al, 0
RESGROUP:18BB		      jnz     short countloop
RESGROUP:18BD		      mov     al, ss:space
RESGROUP:18C1		      dec     si
RESGROUP:18C2		      mov     [si], al
RESGROUP:18C4		      pop     si
RESGROUP:18C5		      mov     di, 0Eh	      ;	ComspOffset (ECOMSPEC)
RESGROUP:18C8
RESGROUP:18C8 ComtrLoop:			      ;	...
RESGROUP:18C8		      lodsb
RESGROUP:18C9		      dec     cx
RESGROUP:18CA		      cmp     al, ss:space
RESGROUP:18CF		      jz      short SetComsr
RESGROUP:18D1		      stosb
RESGROUP:18D2		      jcxz    short SetComsr
RESGROUP:18D4		      jmp     short ComtrLoop
RESGROUP:18D6 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:18D6
RESGROUP:18D6 SetComsr:				      ;	...
RESGROUP:18D6		      push    cx
RESGROUP:18D7		      push    cs
RESGROUP:18D8		      pop     ds
RESGROUP:18D9		      push    ds
RESGROUP:18DA		      mov     si, offset COMSPECT ; "\\COMMAND.COM"
RESGROUP:18DD		      mov     cx, 14
RESGROUP:18E0		      mov     al, es:[di-1]
RESGROUP:18E4		      cmp     al, RDirChar
RESGROUP:18E8		      jnz     short iNotRoot
RESGROUP:18EA		      inc     si
RESGROUP:18EB		      dec     cx
RESGROUP:18EC
RESGROUP:18EC iNotRoot:				      ;	...
RESGROUP:18EC		      rep movsb
RESGROUP:18EE		      mov     dx, 0Eh	      ;	ComspOffset (ECOMSPEC)
RESGROUP:18F1		      push    es
RESGROUP:18F2		      pop     ds
RESGROUP:18F3		      mov     ax, 3D00h
RESGROUP:18F6		      int     21h	      ;	DOS - 2+ - OPEN	DISK FILE WITH HANDLE
RESGROUP:18F6					      ;	DS:DX -> ASCIZ filename
RESGROUP:18F6					      ;	AL = access mode
RESGROUP:18F6					      ;	0 - read
RESGROUP:18F8		      pop     ds
RESGROUP:18F9		      jb      short SetComsrBad
RESGROUP:18FB		      mov     bx, ax
RESGROUP:18FD		      mov     ah, 3Eh
RESGROUP:18FF		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:18FF					      ;	BX = file handle
RESGROUP:1901
RESGROUP:1901 SetComsrRet:			      ;	...
RESGROUP:1901		      pop     cx
RESGROUP:1902		      pop     si
RESGROUP:1903		      pop     ds
RESGROUP:1904		      push    cs
RESGROUP:1905		      pop     es
RESGROUP:1906		      assume es:RESGROUP
RESGROUP:1906		      jmp     Parse_command_line
RESGROUP:1909 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1909
RESGROUP:1909 SetComsrBad:			      ;	...
RESGROUP:1909		      mov     dx, offset BADCOMLKMES
RESGROUP:190C		      call    50B2h	      ;	call TriageError (in TRANSCODE)
RESGROUP:190C					      ;	2320h+2D92h
RESGROUP:190F		      cmp     ax, 65
RESGROUP:1912		      jnz     short doprt
RESGROUP:1914		      mov     dx, offset BADCOMACCMSG
RESGROUP:1917
RESGROUP:1917 doprt:				      ;	...
RESGROUP:1917		      call    RPrint
RESGROUP:191A		      mov     si, offset COMSPECT ; "\\COMMAND.COM"
RESGROUP:191D		      mov     di, 0Eh	      ;	ComspOffset
RESGROUP:1920		      mov     cx, 14
RESGROUP:1923		      rep movsb
RESGROUP:1925		      jmp     short SetComsrRet
RESGROUP:1927 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1927
RESGROUP:1927 ArgsDone:				      ;	...
RESGROUP:1927		      mov     es, EnvirSeg
RESGROUP:192B		      assume es:nothing
RESGROUP:192B		      cmp     PermCom, 0
RESGROUP:1930		      jz      short ComReturns
RESGROUP:1932		      push    es
RESGROUP:1933		      mov     ah, 50h
RESGROUP:1935		      mov     bx, ds
RESGROUP:1937		      mov     es, bx
RESGROUP:1939		      assume es:RESGROUP
RESGROUP:1939		      int     21h	      ;	DOS - 2+ internal - SET	PSP SEGMENT
RESGROUP:1939					      ;	BX = segment address of	new PSP
RESGROUP:193B		      mov     di, 0Ah	      ;	PDB.EXIT
RESGROUP:193E		      mov     ax, offset LodCom_Trap
RESGROUP:1941		      stosw
RESGROUP:1942		      mov     ax, ds
RESGROUP:1944		      stosw
RESGROUP:1945		      mov     ax, offset Ctrlc_Trap
RESGROUP:1948		      stosw
RESGROUP:1949		      mov     ax, ds
RESGROUP:194B		      stosw
RESGROUP:194C		      mov     ax, offset CritErr_Trap
RESGROUP:194F		      stosw
RESGROUP:1950		      mov     ax, ds
RESGROUP:1952		      stosw
RESGROUP:1953		      mov     word ptr ds:16h, ds ; PDB.Parent_Pid
RESGROUP:1957		      mov     dx, offset Int2e_Trap
RESGROUP:195A		      mov     ax, 252Eh
RESGROUP:195D		      int     21h	      ;	DOS - SET INTERRUPT VECTOR
RESGROUP:195D					      ;	AL = interrupt number
RESGROUP:195D					      ;	DS:DX =	new vector to be used for specified interrupt
RESGROUP:195F		      pop     es
RESGROUP:1960		      assume es:nothing
RESGROUP:1960
RESGROUP:1960 ComReturns:			      ;	...
RESGROUP:1960		      mov     ax, ds:16h
RESGROUP:1963		      mov     Parent, ax
RESGROUP:1966		      mov     word ptr ds:16h, ds
RESGROUP:196A		      mov     ax, ds:18h      ;	PDB.Jfn_Table
RESGROUP:196D		      mov     Io_Save, ax
RESGROUP:1970		      mov     Com_Ptr+2, ds
RESGROUP:1974		      mov     Com_Fcb1+2, ds
RESGROUP:1978		      mov     Com_Fcb2+2, ds
RESGROUP:197C		      mov     di, offset ComSpec
RESGROUP:197F		      mov     si, 0Eh	      ;	[ComspOffset] =	ECOMSPEC = 14
RESGROUP:1982		      cmp     AllocedEnv, 0
RESGROUP:1987		      mov     ax, ds
RESGROUP:1989		      push    es
RESGROUP:198A		      pop     ds
RESGROUP:198B		      mov     es, ax
RESGROUP:198D		      assume es:RESGROUP
RESGROUP:198D		      jz      short CopyComsp
RESGROUP:198F		      push    cs
RESGROUP:1990		      pop     ds
RESGROUP:1991		      mov     si, offset ComspString ; "COMSPEC=\\COMMAND.COM"
RESGROUP:1994		      push    es
RESGROUP:1995		      push    di
RESGROUP:1996		      call    IfindE
RESGROUP:1999		      mov     si, di
RESGROUP:199B		      push    es
RESGROUP:199C		      pop     ds
RESGROUP:199D		      pop     di
RESGROUP:199E		      pop     es
RESGROUP:199F		      assume es:nothing
RESGROUP:199F		      jnb     short CopyComsp
RESGROUP:19A1
RESGROUP:19A1 ComSpecNofnd:
RESGROUP:19A1		      mov     si, 0Eh
RESGROUP:19A4		      push    cs
RESGROUP:19A5		      pop     ds
RESGROUP:19A6
RESGROUP:19A6 CopyComsp:			      ;	...
RESGROUP:19A6		      mov     es:PutBackComSpec, di ; PutBackComSpec.SubstPtr
RESGROUP:19AB		      cmp     byte ptr [si+1], ':'
RESGROUP:19AF		      jnz     short CopyComspLoop
RESGROUP:19B1		      add     es:PutBackComSpec, 2
RESGROUP:19B7
RESGROUP:19B7 CopyComspLoop:			      ;	...
RESGROUP:19B7		      lodsb
RESGROUP:19B8		      stosb
RESGROUP:19B9		      or      al, al
RESGROUP:19BB		      jnz     short CopyComspLoop
RESGROUP:19BD		      mov     es:ComSpec_End, di
RESGROUP:19C2		      dec     es:ComSpec_End
RESGROUP:19C7		      mov     ah, es:ComDrv
RESGROUP:19CC		      add     ah, 40h	      ;	'A' - 1
RESGROUP:19CF		      mov     es:PutBackDrv, ah
RESGROUP:19D4		      call    setup_for_messages
RESGROUP:19D7		      call    Setup_res_end
RESGROUP:19DA		      push    cs
RESGROUP:19DB		      pop     ds
RESGROUP:19DC
RESGROUP:19DC EnvMaximum:			      ;
RESGROUP:19DC		      mov     si, 2320h	      ;	offset RESGROUP:TranStart
RESGROUP:19DF		      add     si, 100h
RESGROUP:19E3		      mov     cx, 87C2h	      ;	offset TRANGROUP:TranDataEnd - 100h
RESGROUP:19E6		      cld
RESGROUP:19E7		      shr     cx, 1
RESGROUP:19E9		      xor     dx, dx
RESGROUP:19EB
RESGROUP:19EB Ichksum:				      ;	...
RESGROUP:19EB		      lodsw
RESGROUP:19EC		      add     dx, ax
RESGROUP:19EE		      adc     dx, 0
RESGROUP:19F1		      loop    Ichksum
RESGROUP:19F3		      mov     Sum, dx
RESGROUP:19F7		      cmp     PRDATTM, 0
RESGROUP:19FC		      jnz     short NoBatchSeg
RESGROUP:19FE		      mov     bx, 4
RESGROUP:1A01		      mov     ah, 48h
RESGROUP:1A03		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:1A03					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:1A05		      jb      short NoBatchSeg
RESGROUP:1A07		      mov     Batch, ax
RESGROUP:1A0A
RESGROUP:1A0A NoBatchSeg:			      ;	...
RESGROUP:1A0A		      mov     bx, EnvirSeg
RESGROUP:1A0E		      mov     OldEnv, bx
RESGROUP:1A12		      mov     UsedEnv, 0
RESGROUP:1A18		      mov     ds, bx
RESGROUP:1A1A		      xor     si, si
RESGROUP:1A1C		      mov     di, si
RESGROUP:1A1E		      mov     bx, 0FFFh	      ;	4096 - 1
RESGROUP:1A21		      mov     ss:EnvMax, bx
RESGROUP:1A26		      shl     bx, 1
RESGROUP:1A28		      shl     bx, 1
RESGROUP:1A2A		      shl     bx, 1
RESGROUP:1A2C		      shl     bx, 1
RESGROUP:1A2E		      mov     ss:EnvMax, bx
RESGROUP:1A33		      dec     bx
RESGROUP:1A34		      xor     dx, dx
RESGROUP:1A36
RESGROUP:1A36 NxtStr:				      ;	...
RESGROUP:1A36		      call    GetStrLen
RESGROUP:1A39		      push    ds
RESGROUP:1A3A		      push    cs
RESGROUP:1A3B		      pop     ds
RESGROUP:1A3C		      add     UsedEnv, cx
RESGROUP:1A40		      pop     ds
RESGROUP:1A41		      cmp     cx, 1
RESGROUP:1A44		      jz      short EnvExit
RESGROUP:1A46		      sub     bx, cx
RESGROUP:1A48		      jnb     short OkCpyStr
RESGROUP:1A4A		      inc     dx
RESGROUP:1A4B		      jmp     short EnvExit
RESGROUP:1A4D ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1A4D
RESGROUP:1A4D OkCpyStr:				      ;	...
RESGROUP:1A4D		      jmp     short NxtStr
RESGROUP:1A4F ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1A4F
RESGROUP:1A4F EnvExit:				      ;	...
RESGROUP:1A4F		      push    cs
RESGROUP:1A50		      pop     ds
RESGROUP:1A51		      or      dx, dx
RESGROUP:1A53		      jz      short EnvNoErr
RESGROUP:1A55		      mov     dx, offset OUTENVMSG
RESGROUP:1A58		      call    RPrint
RESGROUP:1A5B
RESGROUP:1A5B EnvNoErr:				      ;	...
RESGROUP:1A5B		      mov     ax, EnvSiz
RESGROUP:1A5E		      mov     cl, 4
RESGROUP:1A60		      shl     ax, cl
RESGROUP:1A62		      cmp     ax, UsedEnv
RESGROUP:1A66		      ja      short st_envsize
RESGROUP:1A68		      mov     ax, UsedEnv
RESGROUP:1A6B		      add     ax, 15
RESGROUP:1A6E
RESGROUP:1A6E st_envsize:			      ;	...
RESGROUP:1A6E		      shr     ax, cl
RESGROUP:1A70		      mov     EnvSiz, ax
RESGROUP:1A73		      cmp     Batch, 0
RESGROUP:1A78		      jnz     short DoDate
RESGROUP:1A7A		      jmp     NoDttm
RESGROUP:1A7D ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1A7D
RESGROUP:1A7D DoDate:				      ;	...
RESGROUP:1A7D		      mov     ax, Batch
RESGROUP:1A80		      mov     EchoFlag,	3
RESGROUP:1A85		      mov     Nest, 1
RESGROUP:1A8B		      mov     es, ax
RESGROUP:1A8D		      xor     di, di
RESGROUP:1A8F		      mov     al, 0
RESGROUP:1A91		      stosb
RESGROUP:1A92		      mov     al, 1
RESGROUP:1A94		      stosb
RESGROUP:1A95		      xor     ax, ax
RESGROUP:1A97		      stosb
RESGROUP:1A98		      stosw
RESGROUP:1A99		      stosw
RESGROUP:1A9A		      stosb
RESGROUP:1A9B		      stosw
RESGROUP:1A9C		      stosw
RESGROUP:1A9D		      mov     ax, 0FFFFh
RESGROUP:1AA0		      mov     cx, 10
RESGROUP:1AA3		      rep stosw
RESGROUP:1AA5		      cmp     AUTOBAT, 0
RESGROUP:1AAA		      jnz     short NoAutSet
RESGROUP:1AAC		      mov     ah, 19h
RESGROUP:1AAE		      int     21h	      ;	DOS - GET DEFAULT DISK NUMBER
RESGROUP:1AB0		      add     al, ucasea
RESGROUP:1AB4		      mov     AUTOBAT, al
RESGROUP:1AB7		      mov     KAUTOBAT,	al
RESGROUP:1ABA
RESGROUP:1ABA NoAutSet:				      ;	...
RESGROUP:1ABA		      mov     si, offset AUTOBAT
RESGROUP:1ABD		      mov     cx, 8
RESGROUP:1AC0		      rep movsw
RESGROUP:1AC2		      movsb
RESGROUP:1AC3		      mov     dx, offset AUTOBAT
RESGROUP:1AC6		      mov     ax, 3D00h
RESGROUP:1AC9		      int     21h	      ;	DOS - 2+ - OPEN	DISK FILE WITH HANDLE
RESGROUP:1AC9					      ;	DS:DX -> ASCIZ filename
RESGROUP:1AC9					      ;	AL = access mode
RESGROUP:1AC9					      ;	0 - read
RESGROUP:1ACB		      jb      short noabat
RESGROUP:1ACD		      mov     bx, ax
RESGROUP:1ACF		      mov     ah, 3Eh
RESGROUP:1AD1		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:1AD1					      ;	BX = file handle
RESGROUP:1AD3		      jmp     Drv0
RESGROUP:1AD6 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1AD6
RESGROUP:1AD6 noabat:				      ;	...
RESGROUP:1AD6		      push    ax
RESGROUP:1AD7		      call    Setup_Seg
RESGROUP:1ADA		      mov     triage_add_seg, ax ; [triage_add+2]
RESGROUP:1ADD		      pop     ax
RESGROUP:1ADE		      call    dword ptr	triage_add
RESGROUP:1AE2		      cmp     ax, 65
RESGROUP:1AE5		      jz      short AccDenErr
RESGROUP:1AE7		      mov     dx, offset INTERNAT_INFO
RESGROUP:1AEA		      mov     ax, 3800h
RESGROUP:1AED		      int     21h	      ;	DOS - 2+ - GET COUNTRY-DEPENDENT INFORMATION
RESGROUP:1AED					      ;	get current-country info
RESGROUP:1AED					      ;	DS:DX -> buffer	for returned info
RESGROUP:1AEF		      jb      short NoKabat
RESGROUP:1AF1		      cmp     bx, 52h	      ;	KOREA_COUNTRY_CODE
RESGROUP:1AF4		      jnz     short OpenErr
RESGROUP:1AF6		      mov     di, 20h	      ;	BatFile
RESGROUP:1AF9		      mov     si, offset KAUTOBAT
RESGROUP:1AFC		      mov     cx, 8
RESGROUP:1AFF		      rep movsw
RESGROUP:1B01		      movsb
RESGROUP:1B02		      mov     dx, offset KAUTOBAT
RESGROUP:1B05		      mov     ax, 3D00h
RESGROUP:1B08		      int     21h	      ;	DOS - 2+ - OPEN	DISK FILE WITH HANDLE
RESGROUP:1B08					      ;	DS:DX -> ASCIZ filename
RESGROUP:1B08					      ;	AL = access mode
RESGROUP:1B08					      ;	0 - read
RESGROUP:1B0A		      jb      short NoKabat
RESGROUP:1B0C		      mov     bx, ax
RESGROUP:1B0E		      mov     ah, 3Eh
RESGROUP:1B10		      int     21h	      ;	DOS - 2+ - CLOSE A FILE	WITH HANDLE
RESGROUP:1B10					      ;	BX = file handle
RESGROUP:1B12		      jmp     short Drv0
RESGROUP:1B14 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1B14
RESGROUP:1B14 NoKabat:				      ;	...
RESGROUP:1B14		      call    dword ptr	triage_add
RESGROUP:1B18		      cmp     ax, 65
RESGROUP:1B1B		      jnz     short OpenErr
RESGROUP:1B1D
RESGROUP:1B1D AccDenErr:			      ;	...
RESGROUP:1B1D		      mov     dx, offset ACCDEN
RESGROUP:1B20		      call    RPrint
RESGROUP:1B23
RESGROUP:1B23 OpenErr:				      ;	...
RESGROUP:1B23		      mov     es, Batch
RESGROUP:1B27		      mov     ah, 49h
RESGROUP:1B29		      int     21h	      ;	DOS - 2+ - FREE	MEMORY
RESGROUP:1B29					      ;	ES = segment address of	area to	be freed
RESGROUP:1B2B		      mov     Batch, 0
RESGROUP:1B31		      mov     EchoFlag,	1
RESGROUP:1B36		      mov     Nest, 0
RESGROUP:1B3C		      mov     ax, offset DATINIT ; offset TranGroup:Datinit
RESGROUP:1B3F		      mov     word ptr INITADD,	ax
RESGROUP:1B42		      mov     ax, 2320h	      ;	offset RESGROUP:TranStart
RESGROUP:1B45		      mov     cl, 4
RESGROUP:1B47		      shr     ax, cl
RESGROUP:1B49		      mov     cx, cs
RESGROUP:1B4B		      add     ax, cx
RESGROUP:1B4D		      mov     word ptr INITADD+2, ax
RESGROUP:1B50		      call    INITADD
RESGROUP:1B54
RESGROUP:1B54 NoDttm:				      ;	...
RESGROUP:1B54		      cmp     SingleCom, 0    ;	Copyright
RESGROUP:1B59		      jnz     short Drv0
RESGROUP:1B5B		      mov     dx, offset COPYRIGHTMSG
RESGROUP:1B5E		      call    RPrint
RESGROUP:1B61
RESGROUP:1B61 Drv0:				      ;	...
RESGROUP:1B61		      push    ds
RESGROUP:1B62		      push    cs
RESGROUP:1B63		      pop     ds
RESGROUP:1B64		      mov     ax, 0B707h
RESGROUP:1B67		      mov     bx, Append_State
RESGROUP:1B6B		      int     2Fh	      ;	- Multiplex - DOS 4.0 APPEND - SET APPEND FUNCTION STATE
RESGROUP:1B6B					      ;	BX = APPEND state bits
RESGROUP:1B6D		      pop     ds
RESGROUP:1B6E		      cmp     FirstCom,	1
RESGROUP:1B73		      jz      short move_code
RESGROUP:1B75		      push    es
RESGROUP:1B76		      push    ds
RESGROUP:1B77		      push    ds
RESGROUP:1B78		      pop     es
RESGROUP:1B79		      assume es:RESGROUP
RESGROUP:1B79		      mov     di, offset Int2f_Entry
RESGROUP:1B7C		      mov     ds, es:ResJmpTable+2
RESGROUP:1B81		      mov     si, es:ResJmpTable
RESGROUP:1B86		      mov     cx, 11
RESGROUP:1B89		      shl     cx, 1
RESGROUP:1B8B		      shl     cx, 1
RESGROUP:1B8D		      cld
RESGROUP:1B8E		      rep movsb
RESGROUP:1B90		      cmp     word ptr es:[di-2], 0F000h
RESGROUP:1B96		      jb      short res_low
RESGROUP:1B98		      mov     es:ComInHMA, 1
RESGROUP:1B9E
RESGROUP:1B9E res_low:				      ;	...
RESGROUP:1B9E		      pop     ds
RESGROUP:1B9F		      pop     es
RESGROUP:1BA0		      assume es:nothing
RESGROUP:1BA0		      jmp     short finish_init
RESGROUP:1BA2 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1BA2
RESGROUP:1BA2 move_code:			      ;	...
RESGROUP:1BA2		      call    Move_res_code
RESGROUP:1BA5
RESGROUP:1BA5 finish_init:			      ;	...
RESGROUP:1BA5		      jmp     EndInit	      ;	RESGROUP:EndInit
RESGROUP:1BA5 ConProc	      endp
RESGROUP:1BA5
RESGROUP:1BA8
RESGROUP:1BA8 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1BA8
RESGROUP:1BA8
RESGROUP:1BA8 GetStrLen	      proc near		      ;	...
RESGROUP:1BA8		      xor     cx, cx
RESGROUP:1BAA
RESGROUP:1BAA NxtChar:				      ;	...
RESGROUP:1BAA		      lodsb
RESGROUP:1BAB		      inc     cx
RESGROUP:1BAC		      or      al, al
RESGROUP:1BAE		      jnz     short NxtChar
RESGROUP:1BB0		      retn
RESGROUP:1BB0 GetStrLen	      endp
RESGROUP:1BB0
RESGROUP:1BB1
RESGROUP:1BB1 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1BB1
RESGROUP:1BB1
RESGROUP:1BB1 Setup_Seg	      proc near		      ;	...
RESGROUP:1BB1		      mov     ax, TrnSeg
RESGROUP:1BB4		      cmp     TrnMvFlg,	1
RESGROUP:1BB9		      jz      short setup_end
RESGROUP:1BBB		      push    bx
RESGROUP:1BBC		      mov     bx, cs
RESGROUP:1BBE		      mov     ax, 2320h	      ;	offset ResGroup:TranStart
RESGROUP:1BC1		      shr     ax, 1
RESGROUP:1BC3		      shr     ax, 1
RESGROUP:1BC5		      shr     ax, 1
RESGROUP:1BC7		      shr     ax, 1
RESGROUP:1BC9		      add     ax, bx
RESGROUP:1BCB		      pop     bx
RESGROUP:1BCC
RESGROUP:1BCC setup_end:			      ;	...
RESGROUP:1BCC		      retn
RESGROUP:1BCC Setup_Seg	      endp
RESGROUP:1BCC
RESGROUP:1BCD
RESGROUP:1BCD ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1BCD
RESGROUP:1BCD
RESGROUP:1BCD RPrintParse     proc near		      ;	...
RESGROUP:1BCD		      push    dx
RESGROUP:1BCE		      xchg    bx, dx
RESGROUP:1BD0		      dec     bx
RESGROUP:1BD1		      shl     bx, 1
RESGROUP:1BD3		      mov     bx, PARSMSGPTRS[bx]
RESGROUP:1BD7		      xchg    bx, dx
RESGROUP:1BD9		      call    RPrint
RESGROUP:1BDC		      pop     dx
RESGROUP:1BDD		      retn
RESGROUP:1BDD RPrintParse     endp
RESGROUP:1BDD
RESGROUP:1BDE
RESGROUP:1BDE ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1BDE
RESGROUP:1BDE
RESGROUP:1BDE IfindE	      proc near		      ;	...
RESGROUP:1BDE		      call    ifind
RESGROUP:1BE1		      jb      short ifind2
RESGROUP:1BE3		      jmp     short Iscasb1
RESGROUP:1BE3 IfindE	      endp
RESGROUP:1BE3
RESGROUP:1BE5
RESGROUP:1BE5 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1BE5
RESGROUP:1BE5
RESGROUP:1BE5 ifind	      proc near		      ;	...
RESGROUP:1BE5		      cld
RESGROUP:1BE6		      call    Icount0
RESGROUP:1BE9		      mov     es, EnvirSeg
RESGROUP:1BED		      xor     di, di
RESGROUP:1BEF
RESGROUP:1BEF ifind1:				      ;	...
RESGROUP:1BEF		      push    cx
RESGROUP:1BF0		      push    si
RESGROUP:1BF1		      push    di
RESGROUP:1BF2
RESGROUP:1BF2 ifind11:				      ;	...
RESGROUP:1BF2		      lodsb
RESGROUP:1BF3		      call    iupconv
RESGROUP:1BF6		      inc     di
RESGROUP:1BF7		      cmp     al, es:[di-1]
RESGROUP:1BFB		      jnz     short ifind12
RESGROUP:1BFD		      loop    ifind11
RESGROUP:1BFF
RESGROUP:1BFF ifind12:				      ;	...
RESGROUP:1BFF		      pop     di
RESGROUP:1C00		      pop     si
RESGROUP:1C01		      pop     cx
RESGROUP:1C02		      jz      short ifind2
RESGROUP:1C04		      push    cx
RESGROUP:1C05		      call    Iscasb2
RESGROUP:1C08		      pop     cx
RESGROUP:1C09		      cmp     byte ptr es:[di],	0
RESGROUP:1C0D		      jnz     short ifind1
RESGROUP:1C0F		      stc
RESGROUP:1C10
RESGROUP:1C10 ifind2:				      ;	...
RESGROUP:1C10		      retn
RESGROUP:1C10 ifind	      endp
RESGROUP:1C10
RESGROUP:1C11
RESGROUP:1C11 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1C11
RESGROUP:1C11
RESGROUP:1C11 Icount0	      proc near		      ;	...
RESGROUP:1C11		      push    ds
RESGROUP:1C12		      pop     es
RESGROUP:1C13		      assume es:RESGROUP
RESGROUP:1C13		      mov     di, si
RESGROUP:1C15		      push    di
RESGROUP:1C16		      call    Iscasb1
RESGROUP:1C19		      jmp     short Icountx
RESGROUP:1C1B ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1C1B		      push    di
RESGROUP:1C1C		      call    Iscasb2
RESGROUP:1C1F
RESGROUP:1C1F Icountx:				      ;	...
RESGROUP:1C1F		      pop     cx
RESGROUP:1C20		      sub     di, cx
RESGROUP:1C22		      xchg    di, cx
RESGROUP:1C24		      retn
RESGROUP:1C24 Icount0	      endp
RESGROUP:1C24
RESGROUP:1C25
RESGROUP:1C25 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1C25
RESGROUP:1C25
RESGROUP:1C25 Iscasb1	      proc near		      ;	...
RESGROUP:1C25		      mov     al, equalsign
RESGROUP:1C28		      jmp     short Iscasbx
RESGROUP:1C28 Iscasb1	      endp
RESGROUP:1C28
RESGROUP:1C2A
RESGROUP:1C2A ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1C2A
RESGROUP:1C2A
RESGROUP:1C2A Iscasb2	      proc near		      ;	...
RESGROUP:1C2A		      xor     al, al
RESGROUP:1C2C
RESGROUP:1C2C Iscasbx:				      ;	...
RESGROUP:1C2C		      mov     cx, 256
RESGROUP:1C2F		      repne scasb
RESGROUP:1C31		      retn
RESGROUP:1C31 Iscasb2	      endp
RESGROUP:1C31
RESGROUP:1C32
RESGROUP:1C32 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1C32
RESGROUP:1C32
RESGROUP:1C32 iupconv	      proc near		      ;	...
RESGROUP:1C32		      cmp     al, 80h
RESGROUP:1C34		      jb      short other_fucase
RESGROUP:1C36		      sub     al, 80h
RESGROUP:1C38		      push    ds
RESGROUP:1C39		      push    bx
RESGROUP:1C3A		      lds     bx, dword	ptr FUCase_Addr+1
RESGROUP:1C3E		      add     bx, 2
RESGROUP:1C41		      xlat
RESGROUP:1C42		      pop     bx
RESGROUP:1C43		      pop     ds
RESGROUP:1C44		      jmp     short iupconv_end
RESGROUP:1C46 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1C46
RESGROUP:1C46 other_fucase:			      ;	...
RESGROUP:1C46		      cmp     al, lcasea
RESGROUP:1C4A		      jb      short iupconv_end
RESGROUP:1C4C		      cmp     al, lcasez
RESGROUP:1C50		      ja      short iupconv_end
RESGROUP:1C52		      sub     al, 20h
RESGROUP:1C54
RESGROUP:1C54 iupconv_end:			      ;	...
RESGROUP:1C54		      retn
RESGROUP:1C54 iupconv	      endp
RESGROUP:1C54
RESGROUP:1C55 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1C55
RESGROUP:1C55 init_contc_specialcase:		      ;	...
RESGROUP:1C55		      add     sp, 6
RESGROUP:1C58		      push    si
RESGROUP:1C59		      mov     si, dx
RESGROUP:1C5B		      mov     word ptr [si+1], 0D00h
RESGROUP:1C60		      pop     si
RESGROUP:1C61		      iret
RESGROUP:1C62
RESGROUP:1C62 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1C62
RESGROUP:1C62
RESGROUP:1C62 setup_for_messages proc near	      ;	...
RESGROUP:1C62		      push    bx
RESGROUP:1C63		      push    ds
RESGROUP:1C64		      push    es
RESGROUP:1C65		      push    ax
RESGROUP:1C66		      push    dx
RESGROUP:1C67		      push    di
RESGROUP:1C68		      mov     ax, cs
RESGROUP:1C6A		      mov     ds, ax
RESGROUP:1C6C		      mov     es, ax
RESGROUP:1C6E		      cmp     PermCom, 0
RESGROUP:1C73		      jz      short no_permcom
RESGROUP:1C75		      push    es
RESGROUP:1C76		      mov     ax, 352Fh
RESGROUP:1C79		      int     21h	      ;	DOS - 2+ - GET INTERRUPT VECTOR
RESGROUP:1C79					      ;	AL = interrupt number
RESGROUP:1C79					      ;	Return:	ES:BX =	value of interrupt vector
RESGROUP:1C7B		      mov     Int2fHandler, bx
RESGROUP:1C7F		      mov     Int2fHandler+2, es
RESGROUP:1C83		      pop     es
RESGROUP:1C84		      assume es:nothing
RESGROUP:1C84		      cmp     FirstCom,	0
RESGROUP:1C89		      jz      short no_msg_hook
RESGROUP:1C8B		      push    ds
RESGROUP:1C8C		      mov     dx, offset Carousel_i2f_Hook
RESGROUP:1C8F		      sub     dx, 10h
RESGROUP:1C92		      mov     ax, ds
RESGROUP:1C94		      inc     ax
RESGROUP:1C95		      mov     ds, ax
RESGROUP:1C97		      assume ds:nothing
RESGROUP:1C97		      mov     ax, 252Fh
RESGROUP:1C9A		      int     21h	      ;	DOS - SET INTERRUPT VECTOR
RESGROUP:1C9A					      ;	AL = interrupt number
RESGROUP:1C9A					      ;	DS:DX =	new vector to be used for specified interrupt
RESGROUP:1C9C		      pop     ds
RESGROUP:1C9D		      assume ds:RESGROUP
RESGROUP:1C9D		      mov     word ptr Carousel_i2f_Hook+3, ds
RESGROUP:1CA1
RESGROUP:1CA1 no_msg_hook:			      ;	...
RESGROUP:1CA1		      cmp     ext_msg, 1
RESGROUP:1CA6		      jnz     short permcom_end
RESGROUP:1CA8		      mov     di, offset Exec_Err ; offset ResGroup:ExtMsgEnd
RESGROUP:1CAB		      mov     ResMsgEnd, di
RESGROUP:1CAF		      jmp     short permcom_end
RESGROUP:1CB1 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1CB1
RESGROUP:1CB1 no_permcom:			      ;	...
RESGROUP:1CB1		      cmp     ext_msg, 1
RESGROUP:1CB6		      jnz     short permcom_end
RESGROUP:1CB8		      mov     dx, 2
RESGROUP:1CBB		      call    RPrintParse
RESGROUP:1CBE
RESGROUP:1CBE permcom_end:			      ;	...
RESGROUP:1CBE		      pop     di
RESGROUP:1CBF		      pop     dx
RESGROUP:1CC0		      pop     ax
RESGROUP:1CC1		      pop     es
RESGROUP:1CC2		      pop     ds
RESGROUP:1CC3		      pop     bx
RESGROUP:1CC4		      retn
RESGROUP:1CC4 setup_for_messages endp
RESGROUP:1CC4
RESGROUP:1CC5
RESGROUP:1CC5 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1CC5
RESGROUP:1CC5
RESGROUP:1CC5 CheckHelp	      proc near		      ;	...
RESGROUP:1CC5		      mov     si, 81h	      ;	command-line tail
RESGROUP:1CC8		      mov     di, offset INTERNAT_INFO ; RESGROUP:Parse_Command
RESGROUP:1CCB		      xor     cx, cx
RESGROUP:1CCD		      xor     dx, dx
RESGROUP:1CCF
RESGROUP:1CCF chParse:				      ;	...
RESGROUP:1CCF		      call    dword ptr	Init_Parse
RESGROUP:1CD3		      cmp     ax, 0FFFFh      ;	END_OF_LINE (-1)
RESGROUP:1CD6		      jz      short chRet
RESGROUP:1CD8		      cmp     ax, 0
RESGROUP:1CDB		      jz      short chWhich
RESGROUP:1CDD		      jmp     short chParse
RESGROUP:1CDF ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1CDF
RESGROUP:1CDF chWhich:				      ;	...
RESGROUP:1CDF		      cmp     COMND1_SYN, offset COMMAND_?_SYN ; "/?"
RESGROUP:1CE5		      jz      short chHelp
RESGROUP:1CE7		      cmp     COMND1_SYN, offset COMMAND_C_SYN ; "/C"
RESGROUP:1CED		      jz      short chRet
RESGROUP:1CEF		      jmp     short chParse
RESGROUP:1CF1 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1CF1
RESGROUP:1CF1 chHelp:				      ;	...
RESGROUP:1CF1		      mov     si, offset HelpMsgs
RESGROUP:1CF4
RESGROUP:1CF4 chHelpNext:			      ;	...
RESGROUP:1CF4		      lodsw
RESGROUP:1CF5		      or      ax, ax
RESGROUP:1CF7		      jz      short chHelpDone
RESGROUP:1CF9		      mov     dx, ax
RESGROUP:1CFB		      call    RPrint
RESGROUP:1CFE		      jmp     short chHelpNext
RESGROUP:1D00 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1D00
RESGROUP:1D00 chHelpDone:			      ;	...
RESGROUP:1D00		      int     20h	      ;	DOS - PROGRAM TERMINATION
RESGROUP:1D00					      ;	returns	to DOS--identical to INT 21/AH=00h
RESGROUP:1D02 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1D02
RESGROUP:1D02 chRet:				      ;	...
RESGROUP:1D02		      retn
RESGROUP:1D02 CheckHelp	      endp
RESGROUP:1D02
RESGROUP:1D03
RESGROUP:1D03 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1D03
RESGROUP:1D03
RESGROUP:1D03 Setup_res_end   proc near		      ;	...
RESGROUP:1D03		      push    ds
RESGROUP:1D04		      mov     ax, cs
RESGROUP:1D06		      mov     ds, ax
RESGROUP:1D08		      mov     cx, ResMsgEnd
RESGROUP:1D0C		      cmp     cx, offset Exec_Err ; cmp	cx,ExtMsgEnd
RESGROUP:1D10		      jnz     short calc_res
RESGROUP:1D12		      add     cx, 0Fh
RESGROUP:1D15		      and     cx, 0FFF0h
RESGROUP:1D18
RESGROUP:1D18 calc_res:				      ;	...
RESGROUP:1D18		      xor     ax, ax
RESGROUP:1D1A		      cmp     FirstCom,	1
RESGROUP:1D1F		      jnz     short not_first
RESGROUP:1D21		      push    bx
RESGROUP:1D22		      push    cx
RESGROUP:1D23		      mov     ax, 3306h
RESGROUP:1D26		      int     21h	      ;	DOS - 5+ Get TRUE Version Number (BL major, BH minor, DL revision, DH flags)
RESGROUP:1D28		      pop     cx
RESGROUP:1D29		      cmp     bl, 5
RESGROUP:1D2C		      jb      short oldver
RESGROUP:1D2E		      xor     ax, ax
RESGROUP:1D30		      and     dh, 10h
RESGROUP:1D33		      pop     bx
RESGROUP:1D34		      jnz     short not_first
RESGROUP:1D36		      mov     ax, 81Ah	      ;	offset CODERES:EndCode
RESGROUP:1D39
RESGROUP:1D39 not_first:			      ;	...
RESGROUP:1D39		      add     cx, ax
RESGROUP:1D3B		      add     cx, 15
RESGROUP:1D3E		      shr     cx, 1
RESGROUP:1D40		      shr     cx, 1
RESGROUP:1D42		      shr     cx, 1
RESGROUP:1D44		      shr     cx, 1
RESGROUP:1D46		      mov     ResSize, cx
RESGROUP:1D4A		      pop     ds
RESGROUP:1D4B		      retn
RESGROUP:1D4C ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1D4C
RESGROUP:1D4C oldver:				      ;	...
RESGROUP:1D4C		      pop     bx
RESGROUP:1D4D		      mov     ax, 81Ah	      ;	size of	code in	bytes
RESGROUP:1D50		      jmp     short not_first
RESGROUP:1D50 Setup_res_end   endp
RESGROUP:1D50
RESGROUP:1D52
RESGROUP:1D52 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1D52
RESGROUP:1D52
RESGROUP:1D52 Move_res_code   proc near		      ;	...
RESGROUP:1D52		      push    ds
RESGROUP:1D53		      push    es
RESGROUP:1D54		      mov     ax, cs
RESGROUP:1D56		      mov     ds, ax
RESGROUP:1D58		      mov     ax, 3306h
RESGROUP:1D5B		      int     21h	      ;	DOS - 5+ Get TRUE Version Number (BL major, BH minor, DL revision, DH flags)
RESGROUP:1D5D		      and     dh, 10h
RESGROUP:1D60		      jnz     short move_high
RESGROUP:1D62
RESGROUP:1D62 load_low:				      ;	...
RESGROUP:1D62		      push    ds
RESGROUP:1D63		      pop     es
RESGROUP:1D64		      assume es:RESGROUP
RESGROUP:1D64		      mov     di, ResMsgEnd
RESGROUP:1D68		      mov     bx, offset Exec_Err ; offset RESGROUP: ExtMsgEnd
RESGROUP:1D6B		      cmp     di, bx
RESGROUP:1D6D		      jz      short no_move
RESGROUP:1D6F		      jmp     short setup_move
RESGROUP:1D71 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1D71
RESGROUP:1D71 move_high:			      ;	...
RESGROUP:1D71		      mov     bx, 81Ah	      ;	offset CODERES:	EndCode
RESGROUP:1D74		      mov     di, 0FFFFh
RESGROUP:1D77		      mov     ax, 4A02h
RESGROUP:1D7A		      int     2Fh
RESGROUP:1D7C		      cmp     di, 0FFFFh
RESGROUP:1D7F		      mov     ComInHMA,	1
RESGROUP:1D84		      jnz     short setup_move
RESGROUP:1D86		      mov     ComInHMA,	0
RESGROUP:1D8B		      mov     cx, ResMsgEnd
RESGROUP:1D8F		      mov     ax, 81Ah
RESGROUP:1D92		      add     cx, ax
RESGROUP:1D94		      add     cx, 0Fh
RESGROUP:1D97		      shr     cx, 1
RESGROUP:1D99		      shr     cx, 1
RESGROUP:1D9B		      shr     cx, 1
RESGROUP:1D9D		      shr     cx, 1
RESGROUP:1D9F		      mov     ResSize, cx
RESGROUP:1DA3		      jmp     short load_low
RESGROUP:1DA5 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1DA5
RESGROUP:1DA5 no_move:				      ;	...
RESGROUP:1DA5		      mov     cl, 4
RESGROUP:1DA7		      add     di, 0Fh
RESGROUP:1DAA		      and     di, 0FFF0h
RESGROUP:1DAD		      jmp     short patch_up
RESGROUP:1DAF ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1DAF
RESGROUP:1DAF setup_move:			      ;	...
RESGROUP:1DAF		      mov     si, offset Exec_Err ; offset RESGROUP: StartCode
RESGROUP:1DB2		      mov     cx, 81Ah	      ;	offset CODERES:	EndCode
RESGROUP:1DB5		      cld
RESGROUP:1DB6		      push    di
RESGROUP:1DB7		      rep movsb
RESGROUP:1DB9		      pop     di
RESGROUP:1DBA
RESGROUP:1DBA patch_up:				      ;	...
RESGROUP:1DBA		      call    patch_stub
RESGROUP:1DBD		      pop     es
RESGROUP:1DBE		      assume es:nothing
RESGROUP:1DBE		      pop     ds
RESGROUP:1DBF		      retn
RESGROUP:1DBF Move_res_code   endp
RESGROUP:1DBF
RESGROUP:1DC0
RESGROUP:1DC0 ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1DC0
RESGROUP:1DC0
RESGROUP:1DC0 alloc_env	      proc near		      ;	...
RESGROUP:1DC0
RESGROUP:1DC0 ;	FUNCTION CHUNK AT RESGROUP:0E4B	SIZE 0000006C BYTES
RESGROUP:1DC0
RESGROUP:1DC0		      push    ds
RESGROUP:1DC1		      push    es
RESGROUP:1DC2		      push    si
RESGROUP:1DC3		      push    di
RESGROUP:1DC4		      mov     bx, 10	      ;	ENVIRONSIZ>>4
RESGROUP:1DC7		      mov     ah, 48h
RESGROUP:1DC9		      int     21h	      ;	DOS - 2+ - ALLOCATE MEMORY
RESGROUP:1DC9					      ;	BX = number of 16-byte paragraphs desired
RESGROUP:1DCB		      jb      short init_nomem
RESGROUP:1DCD
RESGROUP:1DCD init_ok:
RESGROUP:1DCD		      mov     es, ax
RESGROUP:1DCF		      xor     di, di
RESGROUP:1DD1		      mov     ax, di
RESGROUP:1DD3		      mov     cx, 160	      ;	ENVIRONSIZ
RESGROUP:1DD3					      ;	size of	Environment Struc (SIZE	Environment)
RESGROUP:1DD6		      rep stosb		      ;	clear
RESGROUP:1DD8
RESGROUP:1DD8 init_pathstr:
RESGROUP:1DD8		      push    ss
RESGROUP:1DD9		      pop     ds
RESGROUP:1DDA		      mov     si, offset PathString ; "PATH="
RESGROUP:1DDD		      mov     di, 0
RESGROUP:1DE0
RESGROUP:1DE0 init_cp_pathstr:			      ;	...
RESGROUP:1DE0		      lodsb
RESGROUP:1DE1		      stosb
RESGROUP:1DE2		      or      al, al
RESGROUP:1DE4		      jnz     short init_cp_pathstr
RESGROUP:1DE6
RESGROUP:1DE6 init_comspec:			      ;	"COMSPEC=\\COMMAND.COM"
RESGROUP:1DE6		      mov     si, offset ComspString
RESGROUP:1DE9		      mov     di, 6
RESGROUP:1DEC
RESGROUP:1DEC init_cp_compstr:			      ;	...
RESGROUP:1DEC		      lodsb
RESGROUP:1DED		      stosb
RESGROUP:1DEE		      or      al, al
RESGROUP:1DF0		      jnz     short init_cp_compstr
RESGROUP:1DF2
RESGROUP:1DF2 init_done:
RESGROUP:1DF2		      mov     ax, es
RESGROUP:1DF4
RESGROUP:1DF4 alloc_done:
RESGROUP:1DF4		      pop     di
RESGROUP:1DF5		      pop     si
RESGROUP:1DF6		      pop     es
RESGROUP:1DF7		      pop     ds
RESGROUP:1DF8		      retn
RESGROUP:1DF9 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1DF9
RESGROUP:1DF9 init_nomem:			      ;	...
RESGROUP:1DF9		      call    $+3	      ;	call Alloc_error
RESGROUP:1DFC
RESGROUP:1DFC Alloc_error:			      ;	...
RESGROUP:1DFC		      jmp     BadMemErr	      ;	RESGROUP:BadMemErr
RESGROUP:1DFC alloc_env	      endp
RESGROUP:1DFC
RESGROUP:1DFF
RESGROUP:1DFF ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1DFF
RESGROUP:1DFF
RESGROUP:1DFF patch_stub      proc near		      ;	...
RESGROUP:1DFF		      push    es
RESGROUP:1E00		      mov     bx, es
RESGROUP:1E02		      mov     dx, di
RESGROUP:1E04		      mov     di, offset Int2f_Entry ; offset DATARES:Int2f_Entry
RESGROUP:1E07		      mov     si, offset Reloc_Table ; offset RESGROUP:Reloc_Table
RESGROUP:1E0A		      push    ds
RESGROUP:1E0B		      pop     es
RESGROUP:1E0C		      assume es:RESGROUP
RESGROUP:1E0C		      mov     cx, 11	      ;	NUM_RELOC_ENTRIES
RESGROUP:1E0F
RESGROUP:1E0F patchlp:				      ;	...
RESGROUP:1E0F		      lodsw
RESGROUP:1E10		      add     ax, dx
RESGROUP:1E12		      stosw
RESGROUP:1E13		      mov     ax, bx
RESGROUP:1E15		      stosw
RESGROUP:1E16		      loop    patchlp
RESGROUP:1E18		      pop     es
RESGROUP:1E19		      assume es:nothing
RESGROUP:1E19		      retn
RESGROUP:1E19 patch_stub      endp
RESGROUP:1E19
RESGROUP:1E1A
RESGROUP:1E1A ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1E1A
RESGROUP:1E1A
RESGROUP:1E1A patch_segs      proc near		      ;	...
RESGROUP:1E1A		      mov     di, offset Int2f_Entry
RESGROUP:1E1D		      mov     cx, 4
RESGROUP:1E20		      add     di, 2
RESGROUP:1E23		      mov     ax, es
RESGROUP:1E25
RESGROUP:1E25 pseglp:				      ;	...
RESGROUP:1E25		      stosw
RESGROUP:1E26		      add     di, 2
RESGROUP:1E29		      loop    pseglp
RESGROUP:1E2B		      retn
RESGROUP:1E2B patch_segs      endp
RESGROUP:1E2B
RESGROUP:1E2C
RESGROUP:1E2C ;	шшшшшшшшшшшшшшш	S U B R	O U T I	N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
RESGROUP:1E2C
RESGROUP:1E2C
RESGROUP:1E2C get_XMMAddr     proc near		      ;	...
RESGROUP:1E2C		      push    es
RESGROUP:1E2D		      mov     ax, 4300h
RESGROUP:1E30		      int     2Fh	      ;	- Multiplex - XMS - INSTALLATION CHECK
RESGROUP:1E30					      ;	Return:	AL = 80h XMS driver installed
RESGROUP:1E30					      ;	AL <> 80h no driver
RESGROUP:1E32		      cmp     al, 80h ;	'─'
RESGROUP:1E34		      jnz     short cXMMexit
RESGROUP:1E36		      mov     ax, 4310h
RESGROUP:1E39		      int     2Fh	      ;	- Multiplex - XMS - GET	DRIVER ADDRESS
RESGROUP:1E39					      ;	Return:	ES:BX -> driver	entry point
RESGROUP:1E3B		      mov     word ptr XMMCallAddr, bx
RESGROUP:1E3F		      mov     word ptr XMMCallAddr+2, es
RESGROUP:1E43
RESGROUP:1E43 cXMMexit:				      ;	...
RESGROUP:1E43		      pop     es
RESGROUP:1E44		      retn
RESGROUP:1E44 get_XMMAddr     endp
RESGROUP:1E44
RESGROUP:1E44 ;	ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
RESGROUP:1E45		      db 11 dup(0)
RESGROUP:1E50 ICONDEV	      db '/DEV/CON',0,0,0,0,0,0
RESGROUP:1E5E		      db 0
RESGROUP:1E5F COMSPECT	      db '\COMMAND.COM',0     ; ...
RESGROUP:1E6C		      db 0
RESGROUP:1E6D AUTOBAT	      db 0		      ;	...
RESGROUP:1E6E		      db ':\AUTOEXEC.BAT',0
RESGROUP:1E7D		      db 0Dh
RESGROUP:1E7E KAUTOBAT	      db 0		      ;	...
RESGROUP:1E7F		      db ':\KAUTOEXE.BAT',0
RESGROUP:1E8E		      db 0Dh
RESGROUP:1E8F PRDATTM	      db 0FFh		      ;	...
RESGROUP:1E90 INITADD	      dd 0		      ;	...
RESGROUP:1E94 print_add	      dw offset	Printf_Init
RESGROUP:1E96 print_add_seg   dw 0
RESGROUP:1E98 triage_add      dw offset	Triage_Init   ;	...
RESGROUP:1E9A triage_add_seg  dw 0		      ;	...
RESGROUP:1E9C AllocedEnv      db 0		      ;	...
RESGROUP:1E9D PathString      db 'PATH=',0            ; ...
RESGROUP:1EA3 ComspString     db 'COMSPEC=\COMMAND.COM',0 ; ...
RESGROUP:1EB8 equalsign	      db '='                  ; ...
RESGROUP:1EB9 lcasea	      db 'a'                  ; ...
RESGROUP:1EBA lcasez	      db 'z'                  ; ...
RESGROUP:1EBB space	      db ' '                  ; ...
RESGROUP:1EBC scswitch	      db 'C'                  ; ...
RESGROUP:1EBD ucasea	      db 'A'                  ; ...
RESGROUP:1EBE EnvSiz	      dw 0		      ;	...
RESGROUP:1EC0 EnvMax	      dw 0		      ;	...
RESGROUP:1EC2 OldEnv	      dw 0		      ;	...
RESGROUP:1EC4 UsedEnv	      dw 0		      ;	...
RESGROUP:1EC6 PARS_MSG_OFF    dw 0
RESGROUP:1EC8 PARS_MSG_SEG    dw 0
RESGROUP:1ECA Init_Parse      dw offset	append_parse  ;	...
RESGROUP:1ECA					      ;	TRANGROUP:APPEND_PARSE
RESGROUP:1ECC initend	      dw 0		      ;	...
RESGROUP:1ECE TrnSize	      dw 0		      ;	...
RESGROUP:1ED0 resetenv	      db 0
RESGROUP:1ED1 ext_msg	      db 0		      ;	...
RESGROUP:1ED2 eswitch	      db 0		      ;	...
RESGROUP:1ED3 dswitch	      db 0		      ;	...
RESGROUP:1ED4 parsemes_ptr    dw 0
RESGROUP:1ED6 INTERNAT_INFO   dw offset	COMMAND_PARMS ;	...
RESGROUP:1ED8		      db 0
RESGROUP:1ED9 COMMAND_PARMS   db 0		      ;	...
RESGROUP:1EDA		      db 2
RESGROUP:1EDB		      dw offset	COMMAND_FILE
RESGROUP:1EDD		      dw offset	COMMAND_FILE
RESGROUP:1EDF		      db 7
RESGROUP:1EE0		      dw offset	COMMAND_SWITCH1
RESGROUP:1EE2		      dw offset	COMMAND_SWITCH2
RESGROUP:1EE4		      dw offset	COMMAND_SWITCH3
RESGROUP:1EE6		      dw offset	COMMAND_SWITCH4
RESGROUP:1EE8		      dw offset	COMMAND_SWITCH5
RESGROUP:1EEA		      dw offset	COMMAND_SWITCH6
RESGROUP:1EEC		      dw offset	COMMAND_SWITCH7
RESGROUP:1EEE		      db 0
RESGROUP:1EEF COMMAND_FILE    dw 201h		      ;	...
RESGROUP:1EF1		      dw 1
RESGROUP:1EF3		      dw offset	COMND1_OUTPUT
RESGROUP:1EF5		      dw offset	NO_VAL
RESGROUP:1EF7		      db 0
RESGROUP:1EF8 COMMAND_SWITCH1 dw 0		      ;	...
RESGROUP:1EFA		      dw 2
RESGROUP:1EFC		      dw offset	COMND1_OUTPUT
RESGROUP:1EFE		      dw offset	NO_VAL
RESGROUP:1F00		      db 1
RESGROUP:1F01 COMMAND_P_SYN   db '/P',0               ; ...
RESGROUP:1F04 COMMAND_SWITCH2 dw 0		      ;	...
RESGROUP:1F06		      dw 2
RESGROUP:1F08		      dw offset	COMND1_OUTPUT
RESGROUP:1F0A		      dw offset	NO_VAL
RESGROUP:1F0C		      db 1
RESGROUP:1F0D COMMAND_F_SYN   db '/F',0               ; ...
RESGROUP:1F10 COMMAND_SWITCH3 dw 0		      ;	...
RESGROUP:1F12		      dw 2
RESGROUP:1F14		      dw offset	COMND1_OUTPUT
RESGROUP:1F16		      dw offset	NO_VAL
RESGROUP:1F18		      db 1
RESGROUP:1F19 COMMAND_D_SYN   db '/D',0               ; ...
RESGROUP:1F1C COMMAND_SWITCH4 dw 8000h		      ;	...
RESGROUP:1F1E		      dw 0
RESGROUP:1F20		      dw offset	COMND1_OUTPUT
RESGROUP:1F22		      dw offset	COMMAND_E_VAL
RESGROUP:1F24		      db 1
RESGROUP:1F25 COMMAND_E_SYN   db '/E',0               ; ...
RESGROUP:1F28 COMMAND_E_VAL   db 1		      ;	...
RESGROUP:1F29		      db 1
RESGROUP:1F2A		      db 1
RESGROUP:1F2B		      dd 160
RESGROUP:1F2F		      dd 32768
RESGROUP:1F33		      db 0
RESGROUP:1F34		      db 0
RESGROUP:1F35 COMMAND_SWITCH5 dw 0		      ;	...
RESGROUP:1F37		      dw 2
RESGROUP:1F39		      dw offset	COMND1_OUTPUT
RESGROUP:1F3B		      dw offset	NO_VAL
RESGROUP:1F3D		      db 1
RESGROUP:1F3E COMMAND_C_SYN   db '/C',0               ; ...
RESGROUP:1F41 COMMAND_SWITCH6 dw 0		      ;	...
RESGROUP:1F43		      dw 2
RESGROUP:1F45		      dw offset	COMND1_OUTPUT
RESGROUP:1F47		      dw offset	NO_VAL
RESGROUP:1F49		      db 1
RESGROUP:1F4A COMMAND_M_SYN   db '/MSG',0             ; ...
RESGROUP:1F4F COMMAND_SWITCH7 dw 0		      ;	...
RESGROUP:1F51		      dw 2
RESGROUP:1F53		      dw offset	COMND1_OUTPUT
RESGROUP:1F55		      dw offset	NO_VAL
RESGROUP:1F57		      db 1
RESGROUP:1F58 COMMAND_?_SYN   db '/?',0               ; ...
RESGROUP:1F5B COMND1_OUTPUT   db 0		      ;	...
RESGROUP:1F5C		      db 0
RESGROUP:1F5D COMND1_SYN      dw 0		      ;	...
RESGROUP:1F5F COMND1_ADDR     dd 0		      ;	...
RESGROUP:1F63 NO_VAL	      db 0		      ;	...
RESGROUP:1F64 num_positionals dw 0		      ;	...
RESGROUP:1F66 old_parse_ptr   dw 0		      ;	...
RESGROUP:1F68 BADVERMSG	      db 23		      ;	...
RESGROUP:1F69		      db 'Incorrect DOS version',0Dh,0Ah
RESGROUP:1F80 OUTENVMSG	      db 26		      ;	...
RESGROUP:1F81		      db 'Out of environment space',0Dh,0Ah
RESGROUP:1F9B COPYRIGHTMSG    db 94		      ;	...
RESGROUP:1F9C		      db 0Dh,0Ah
RESGROUP:1F9C		      db 0Dh,0Ah
RESGROUP:1F9C		      db 'Microsoft(R) MS-DOS(R) Version 5.00',0Dh,0Ah
RESGROUP:1F9C		      db '             (C)Copyright Microsoft Corp 1981-1991.',0Dh,0Ah
RESGROUP:1FFA BADCOMLKMES     db 40		      ;	...
RESGROUP:1FFB		      db 'Specified COMMAND search directory bad',0Dh,0Ah
RESGROUP:2023 BADCOMACCMSG    db 54		      ;	...
RESGROUP:2024		      db 'Specified COMMAND search directory bad '
RESGROUP:204B		      db 'access denied',0Dh,0Ah
RESGROUP:205A HELPMSG1	      db 60		      ;	...
RESGROUP:205B		      db 'Starts a new instance of the MS-DOS command interpreter.',0Dh,0Ah
RESGROUP:205B		      db 0Dh,0Ah
RESGROUP:2097 HELPMSG2	      db 70		      ;	...
RESGROUP:2098		      db 'COMMAND [[drive:]path] [device] [/E:nnnnn] [/P] [/C string] [/MSG'
RESGROUP:2098		      db ']',0Dh,0Ah
RESGROUP:2098		      db 0Dh,0Ah
RESGROUP:20DE HELPMSG3	      db 72		      ;	...
RESGROUP:20DF		      db '  [drive:]path    Specifies the directory containing COMMAND.COM '
RESGROUP:20DF		      db 'file.',0Dh,0Ah
RESGROUP:2127 HELPMSG4	      db 77		      ;	...
RESGROUP:2128		      db '  device          Specifies the device to use for command input a'
RESGROUP:2128		      db 'nd output.',0Dh,0Ah
RESGROUP:2175 HELPMSG5	      db 69		      ;	...
RESGROUP:2176		      db '  /E:nnnnn        Sets the initial environment size to nnnnn byte'
RESGROUP:2176		      db 's.',0Dh,0Ah
RESGROUP:21BB HELPMSG6	      db 77		      ;	...
RESGROUP:21BC		      db '  /P              Makes the new command interpreter permanent (ca'
RESGROUP:21BC		      db 'n',27h,'t exit).',0Dh,0Ah
RESGROUP:2209 HELPMSG7	      db 80		      ;	...
RESGROUP:220A		      db '  /C string       Carries out the command specified by string, an'
RESGROUP:220A		      db 'd then stops.',0Dh,0Ah
RESGROUP:225A HELPMSG8	      db 78		      ;	...
RESGROUP:225B		      db '  /MSG            Specifies that all error messages be stored in '
RESGROUP:225B		      db 'memory. You',0Dh,0Ah
RESGROUP:22A9 HELPMSG9	      db 56		      ;	...
RESGROUP:22AA		      db '                  need to specify /P with this switch.',0Dh,0Ah
RESGROUP:22E2 HelpMsgs	      dw offset	HELPMSG1      ;	...
RESGROUP:22E4		      dw offset	HELPMSG2
RESGROUP:22E6		      dw offset	HELPMSG3
RESGROUP:22E8		      dw offset	HELPMSG4
RESGROUP:22EA		      dw offset	HELPMSG5
RESGROUP:22EC		      dw offset	HELPMSG6
RESGROUP:22EE		      dw offset	HELPMSG7
RESGROUP:22F0		      dw offset	HELPMSG8
RESGROUP:22F2		      dw offset	HELPMSG9
RESGROUP:22F4		      dw 0
RESGROUP:22F6 Reloc_Table     dw 738h		      ;	...
RESGROUP:22F6					      ;	738h+0D40h = MsgInt2fHandler
RESGROUP:22F8		      dw 177h		      ;	177h+0D40h = Int_2e
RESGROUP:22FA		      dw 35h		      ;	035h+0D40h = ContC
RESGROUP:22FC		      dw 445h		      ;	445h+0D40h = DskErr
RESGROUP:22FE		      dw 29h		      ;	029h+0D40h = Exec_Ret
RESGROUP:2300		      dw 2A3h		      ;	2A3h+0D40h = TRemCheck
RESGROUP:2302		      dw 422h		      ;	422h+0D40h = TrnLodCom1
RESGROUP:2304		      dw 1AEh		      ;	1AEh+0D40h = LodCom
RESGROUP:2306		      dw 77Bh		      ;	77Bh+0D40h = MsgRetriever
RESGROUP:2308		      dw 2C2h		      ;	2C2h+0D40h = THeadFix
RESGROUP:230A		      dw 7F4h		      ;	7F4h+0D40h = Lh_OffUnlink
RESGROUP:230C ResJmpTable     dw 2 dup(0)	      ;	...
RESGROUP:2310 FirstCom	      db 0		      ;	...
RESGROUP:2311 DevFlag	      db 0		      ;	...
RESGROUP:2312 PathFlag	      db 0		      ;	...
RESGROUP:2313		      db 13 dup(0)
RESGROUP:2313 RESGROUP	      ends
RESGROUP:2313
TRANGROUP:0000 ; ммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм
TRANGROUP:0000
TRANGROUP:0000 ; Segment type: Pure code
TRANGROUP:0000 TRANGROUP       segment byte public 'CODE' use16
TRANGROUP:0000		       assume cs:TRANGROUP
TRANGROUP:0000		       assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing
TRANGROUP:0000 TRANSTART       db 256 dup(0)	       ; ...
TRANGROUP:0100 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0100 ; START OF FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:0100
TRANGROUP:0100 SETDRV:				       ; ...
TRANGROUP:0100		       mov     ah, 0Eh
TRANGROUP:0102		       int     21h	       ; DOS - SELECT DISK
TRANGROUP:0102					       ; DL = new default drive	number (0 = A, 1 = B, etc.)
TRANGROUP:0102					       ; Return: AL = number of	logical	drives
TRANGROUP:0104
TRANGROUP:0104 TCOMMAND:			       ; ...
TRANGROUP:0104		       mov     ds, cs:RESSEG
TRANGROUP:0109		       mov     ax, 0FFFFh
TRANGROUP:010C		       xchg    ax, ds:VerVal
TRANGROUP:0110		       cmp     ax, 0FFFFh
TRANGROUP:0113		       jz      short NOSETVER2
TRANGROUP:0115		       mov     ah, 2Eh
TRANGROUP:0117		       int     21h	       ; DOS - SET VERIFY FLAG
TRANGROUP:0117					       ; DL = 00h, AL =	01h VERIFY on /	00h VERIFY off
TRANGROUP:0119
TRANGROUP:0119 NOSETVER2:			       ; ...
TRANGROUP:0119		       call    dword ptr cs:HEADCALL
TRANGROUP:011E		       xor     bp, bp
TRANGROUP:0120		       cmp     ds:SingleCom, 0FFFFh
TRANGROUP:0125		       jnz     short COMMAND
TRANGROUP:0127
TRANGROUP:0127 _$EXITPREP:			       ; ...
TRANGROUP:0127		       push    cs
TRANGROUP:0128		       pop     ds
TRANGROUP:0129		       assume ds:TRANGROUP
TRANGROUP:0129		       jmp     _$EXIT
TRANGROUP:012C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:012C
TRANGROUP:012C COMMAND:				       ; ...
TRANGROUP:012C		       cld
TRANGROUP:012D		       mov     ax, cs
TRANGROUP:012F		       cli
TRANGROUP:0130		       mov     ss, ax
TRANGROUP:0132		       assume ss:TRANGROUP
TRANGROUP:0132		       mov     sp, offset STACK
TRANGROUP:0135		       sti
TRANGROUP:0136		       mov     es, ax
TRANGROUP:0138		       assume es:TRANGROUP
TRANGROUP:0138		       mov     ds, ax
TRANGROUP:013A		       call    TSYSLOADMSG
TRANGROUP:013D		       mov     append_exec, 0
TRANGROUP:0142		       mov     ds, RESSEG
TRANGROUP:0146		       assume ds:nothing
TRANGROUP:0146		       mov     ss:UCOMBUF, 128
TRANGROUP:014C		       mov     ss:COMBUF, 128
TRANGROUP:0152		       or      bp, bp
TRANGROUP:0154		       jz      short TESTRDIR
TRANGROUP:0156		       mov     word ptr	ss:UCOMBUF+1, 0D01h
TRANGROUP:015D		       jmp     short NOSETBUF
TRANGROUP:015F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:015F
TRANGROUP:015F TESTRDIR:			       ; ...
TRANGROUP:015F		       cmp     ds:RestDir, 0
TRANGROUP:0164		       jz      short NOSETBUF
TRANGROUP:0166		       push    ds
TRANGROUP:0167		       mov     ds:RestDir, 0
TRANGROUP:016C		       push    cs
TRANGROUP:016D		       pop     ds
TRANGROUP:016E		       assume ds:TRANGROUP
TRANGROUP:016E		       mov     dx, offset USERDIR1
TRANGROUP:0171		       mov     ah, 3Bh
TRANGROUP:0173		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:0173					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:0175		       pop     ds
TRANGROUP:0176		       assume ds:nothing
TRANGROUP:0176
TRANGROUP:0176 NOSETBUF:			       ; ...
TRANGROUP:0176		       cmp     ds:PipeFiles, 0
TRANGROUP:017B		       jz      short NOPCLOSE
TRANGROUP:017D		       cmp     ds:PipeFlag, 0
TRANGROUP:0182		       jnz     short NOPCLOSE
TRANGROUP:0184		       call    PIPEDEL
TRANGROUP:0187
TRANGROUP:0187 NOPCLOSE:			       ; ...
TRANGROUP:0187		       mov     ds:ExtCom, 0
TRANGROUP:018C		       mov     ax, cs
TRANGROUP:018E		       mov     ds, ax
TRANGROUP:0190		       assume ds:TRANGROUP
TRANGROUP:0190		       push    ax
TRANGROUP:0191		       mov     dx, offset STACK	; offset INTERNATVARS
TRANGROUP:0194		       mov     ax, 3800h
TRANGROUP:0197		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:0197					       ; get current-country info
TRANGROUP:0197					       ; DS:DX -> buffer for returned info
TRANGROUP:0199		       pop     ax
TRANGROUP:019A		       sub     ax, TPA
TRANGROUP:019E		       push    bx
TRANGROUP:019F		       mov     bx, 16
TRANGROUP:01A2		       mul     bx
TRANGROUP:01A4		       pop     bx
TRANGROUP:01A5		       or      dx, dx
TRANGROUP:01A7		       jz      short SAVSIZ
TRANGROUP:01A9		       mov     ax, 0FFFFh
TRANGROUP:01AC
TRANGROUP:01AC SAVSIZ:				       ; ...
TRANGROUP:01AC		       cmp     ax, 512
TRANGROUP:01AF		       jbe     short GOTSIZE
TRANGROUP:01B1		       and     ax, 0FE00h
TRANGROUP:01B4
TRANGROUP:01B4 GOTSIZE:				       ; ...
TRANGROUP:01B4		       mov     BYTCNT, ax
TRANGROUP:01B7		       mov     ds, RESSEG
TRANGROUP:01BB		       assume ds:nothing
TRANGROUP:01BB		       test    ds:EchoFlag, 1
TRANGROUP:01C0		       jz      short GETCOM
TRANGROUP:01C2		       call    SINGLETEST
TRANGROUP:01C5		       jb      short GETCOM
TRANGROUP:01C7		       test    ds:PipeFlag, 0FFh
TRANGROUP:01CC		       jnz     short GETCOM
TRANGROUP:01CE		       test    ds:ForFlag, 0FFh
TRANGROUP:01D3		       jnz     short GETCOM
TRANGROUP:01D5		       test    ds:Batch, 0FFFFh
TRANGROUP:01DB		       jnz     short GETCOM
TRANGROUP:01DD		       call    CRLF2
TRANGROUP:01E0
TRANGROUP:01E0 GETCOM:				       ; ...
TRANGROUP:01E0		       mov     ds:Call_Flag, 0
TRANGROUP:01E5		       mov     ds:Call_Batch_Flag, 0
TRANGROUP:01EA		       mov     ah, 19h
TRANGROUP:01EC		       int     21h	       ; DOS - GET DEFAULT DISK	NUMBER
TRANGROUP:01EE		       mov     ss:CURDRV, al
TRANGROUP:01F2		       test    ds:PipeFlag, 0FFh
TRANGROUP:01F7		       jz      short NOPIPE
TRANGROUP:01F9		       jmp     PIPEPROC
TRANGROUP:01FC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:01FC
TRANGROUP:01FC NOPIPE:				       ; ...
TRANGROUP:01FC		       test    ds:EchoFlag, 1
TRANGROUP:0201		       jz      short NOPDRV
TRANGROUP:0203		       call    SINGLETEST
TRANGROUP:0206		       jb      short NOPDRV
TRANGROUP:0208		       test    ds:ForFlag, 0FFh
TRANGROUP:020D		       jnz     short NOPDRV
TRANGROUP:020F		       test    ds:Batch, 0FFFFh
TRANGROUP:0215		       jnz     short TESTFORBAT
TRANGROUP:0217		       call    PRINT_PROMPT
TRANGROUP:021A
TRANGROUP:021A NOPDRV:				       ; ...
TRANGROUP:021A		       test    ds:ForFlag, 0FFh
TRANGROUP:021F		       jz      short TESTFORBAT
TRANGROUP:0221		       jmp     FORPROC
TRANGROUP:0224 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0224
TRANGROUP:0224 TESTFORBAT:			       ; ...
TRANGROUP:0224		       mov     ss:RE_INSTR, 0
TRANGROUP:022A		       mov     ds:Re_OutStr, 0
TRANGROUP:022F		       mov     ds:Re_Out_App, 0
TRANGROUP:0234		       mov     ds:IfFlag, 0
TRANGROUP:0239		       test    ds:Batch, 0FFFFh
TRANGROUP:023F		       jz      short ISNOBAT
TRANGROUP:0241		       push    es
TRANGROUP:0242		       push    ds
TRANGROUP:0243		       mov     ax, 1902h
TRANGROUP:0246		       mov     es, ds:Batch
TRANGROUP:024A		       assume es:nothing
TRANGROUP:024A		       mov     di, 20h
TRANGROUP:024D		       push    cs
TRANGROUP:024E		       pop     ds
TRANGROUP:024F		       assume ds:TRANGROUP
TRANGROUP:024F		       mov     dx, offset COMBUF
TRANGROUP:0252		       int     2Fh	       ; - Multiplex - DOS 4.x only SHELLB.COM - COMMAND.COM INTERFACE
TRANGROUP:0252					       ; ES:DI -> ASCIZ	full filename of current batch file, with at least the
TRANGROUP:0252					       ; final filename	element	uppercased
TRANGROUP:0252					       ; DS:DX -> buffer for results
TRANGROUP:0254		       cmp     al, 0FFh
TRANGROUP:0256		       pop     ds
TRANGROUP:0257		       assume ds:nothing
TRANGROUP:0257		       pop     es
TRANGROUP:0258		       jz      short JDOCOM1
TRANGROUP:025A		       push    ds
TRANGROUP:025B		       call    READBAT
TRANGROUP:025E		       pop     ds
TRANGROUP:025F		       mov     ds:NullFlag, 0
TRANGROUP:0264		       test    ds:Batch, 0FFFFh
TRANGROUP:026A		       jnz     short JDOCOM1
TRANGROUP:026C		       mov     bx, ds:Next_Batch
TRANGROUP:0270		       cmp     bx, 0
TRANGROUP:0273		       jz      short JDOCOM1
TRANGROUP:0275		       mov     ds:Batch, bx
TRANGROUP:0279		       mov     ds:Next_Batch, 0
TRANGROUP:027F
TRANGROUP:027F JDOCOM1:				       ; ...
TRANGROUP:027F		       push    cs
TRANGROUP:0280		       pop     ds
TRANGROUP:0281		       assume ds:TRANGROUP
TRANGROUP:0281		       jmp     short DOCOM1
TRANGROUP:0283 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0283
TRANGROUP:0283 ISNOBAT:				       ; ...
TRANGROUP:0283		       cmp     ds:SingleCom, 0
TRANGROUP:0288		       jz      short REGCOM
TRANGROUP:028A		       mov     si, 0FFFFh
TRANGROUP:028D		       xchg    si, ds:SingleCom
TRANGROUP:0291		       mov     di, (offset COMBUF+2)
TRANGROUP:0294		       xor     cx, cx
TRANGROUP:0296
TRANGROUP:0296 SINGLELOOP:			       ; ...
TRANGROUP:0296		       lodsb
TRANGROUP:0297		       stosb
TRANGROUP:0298		       inc     cx
TRANGROUP:0299		       cmp     al, 0Dh
TRANGROUP:029B		       jnz     short SINGLELOOP
TRANGROUP:029D		       dec     cx
TRANGROUP:029E		       push    cs
TRANGROUP:029F		       pop     ds
TRANGROUP:02A0		       mov     COMBUF+1, cl
TRANGROUP:02A4		       jmp     short DOCOM1
TRANGROUP:02A6 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:02A6
TRANGROUP:02A6 REGCOM:				       ; ...
TRANGROUP:02A6		       mov     ax, 5D09h
TRANGROUP:02A9		       int     21h	       ; DOS - 3.1+ internal - FLUSH REDIRECTED	PRINTER	OUTPUT
TRANGROUP:02A9 ; END OF	FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:02AB		       mov     ax, 5D08h
TRANGROUP:02AE		       mov     dl, 1
TRANGROUP:02B0		       int     21h	       ; DOS - 3.1+ internal - SET REDIRECTED PRINTER MODE
TRANGROUP:02B0					       ; DL = 00h redirected output is combined
TRANGROUP:02B0					       ;      01h redirected output placed in separate jobs
TRANGROUP:02B0					       ; start new print job now
TRANGROUP:02B2		       push    cs
TRANGROUP:02B3		       pop     ds
TRANGROUP:02B4		       mov     dx, offset UCOMBUF
TRANGROUP:02B7		       mov     ax, 4810h
TRANGROUP:02BA		       int     2Fh
TRANGROUP:02BC		       or      ax, ax
TRANGROUP:02BE		       jz      short GOTCOM
TRANGROUP:02C0		       mov     ah, 0Ah
TRANGROUP:02C2		       int     21h	       ; DOS - BUFFERED	KEYBOARD INPUT
TRANGROUP:02C2					       ; DS:DX -> buffer
TRANGROUP:02C4
TRANGROUP:02C4 GOTCOM:				       ; ...
TRANGROUP:02C4		       mov     cl, UCOMBUF
TRANGROUP:02C8		       xor     ch, ch
TRANGROUP:02CA		       add     cx, 3
TRANGROUP:02CD		       mov     si, offset UCOMBUF
TRANGROUP:02D0		       mov     di, offset COMBUF
TRANGROUP:02D3		       rep movsb
TRANGROUP:02D5 ; START OF FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:02D5
TRANGROUP:02D5 DOCOM:				       ; ...
TRANGROUP:02D5		       call    CRLF2
TRANGROUP:02D8
TRANGROUP:02D8 DOCOM1:				       ; ...
TRANGROUP:02D8		       call    PRESCAN
TRANGROUP:02DB		       jz      short NOPIPEPROC
TRANGROUP:02DD		       jmp     PIPEPROCSTRT
TRANGROUP:02E0 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:02E0
TRANGROUP:02E0 NULLCOMJ:			       ; ...
TRANGROUP:02E0		       jmp     NULLCOM
TRANGROUP:02E3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:02E3
TRANGROUP:02E3 NOPIPEPROC:			       ; ...
TRANGROUP:02E3		       call    PARSELINE
TRANGROUP:02E6		       jnb     short OKPARSE
TRANGROUP:02E8
TRANGROUP:02E8 BADPARSE:			       ; ...
TRANGROUP:02E8		       push    cs
TRANGROUP:02E9		       pop     ds
TRANGROUP:02EA		       mov     dx, offset BADNAM_PTR
TRANGROUP:02ED		       call    std_eprintf
TRANGROUP:02F0		       jmp     TCOMMAND
TRANGROUP:02F3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:02F3
TRANGROUP:02F3 OKPARSE:				       ; ...
TRANGROUP:02F3		       test    ARGV0_ARG_FLAGS,	2 ; [ARG+ARGV_ELE.argflags],wildcard
TRANGROUP:02F8		       jnz     short BADPARSE
TRANGROUP:02FA		       cmp     ARG_ARGVCNT, 0  ; [ARG+ARG_UNIT.argvcnt]
TRANGROUP:02FF		       jz      short NULLCOMJ
TRANGROUP:0301		       cmp     ARGV0_ARGLEN, 0 ; [ARG+ARGV_ELE.arglen]
TRANGROUP:0306		       jz      short NULLCOMJ
TRANGROUP:0308		       mov     si, (offset COMBUF+2)
TRANGROUP:030B		       mov     di, offset IDLEN
TRANGROUP:030E		       mov     ax, 2901h
TRANGROUP:0311		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:0311					       ; DS:SI -> string to parse
TRANGROUP:0311					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:0311					       ; AL = bit mask to control parsing
TRANGROUP:0313		       mov     bx, ARG_ARGV    ; [ARG+ARG_UNIT.argv]
TRANGROUP:0317		       cmp     byte ptr	[bx+1],	':'
TRANGROUP:031B		       jnz     short DRVGD
TRANGROUP:031D		       mov     dl, [bx]
TRANGROUP:031F		       and     dl, 0DFh
TRANGROUP:0322		       sub     dl, 'A'
TRANGROUP:0325		       cmp     al, 0FFh
TRANGROUP:0327		       jz      short DRVBADJ
TRANGROUP:0329		       mov     di, ARGV0_ARGSTARTEL ; [ARG+ARGV_ELE.argstartel]
TRANGROUP:032D		       cmp     byte ptr	[di], 0
TRANGROUP:0330		       jnz     short DRVGD
TRANGROUP:0332		       jmp     SETDRV
TRANGROUP:0335 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0335
TRANGROUP:0335 DRVBADJ:				       ; ...
TRANGROUP:0335		       jmp     DRVBAD
TRANGROUP:0338 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0338
TRANGROUP:0338 DRVGD:				       ; ...
TRANGROUP:0338		       mov     al, [di]
TRANGROUP:033A		       mov     SPECDRV,	al
TRANGROUP:033D		       mov     al, 20h ; ' '
TRANGROUP:033F		       mov     cx, 9
TRANGROUP:0342		       inc     di
TRANGROUP:0343		       repne scasb
TRANGROUP:0345		       mov     al, 8
TRANGROUP:0347		       sub     al, cl
TRANGROUP:0349		       mov     IDLEN, al
TRANGROUP:034C		       mov     di, 81h
TRANGROUP:034F		       push    si
TRANGROUP:0350		       mov     si, (offset COMBUF+2)
TRANGROUP:0353		       call    scanoff
TRANGROUP:0356		       inc     si
TRANGROUP:0357
TRANGROUP:0357 DO_SKIPCOM:			       ; ...
TRANGROUP:0357		       lodsb
TRANGROUP:0358		       call    DELIM
TRANGROUP:035B		       jz      short DO_SKIPPED
TRANGROUP:035D		       cmp     al, 0Dh
TRANGROUP:035F		       jz      short DO_SKIPPED
TRANGROUP:0361		       cmp     al, SWITCHAR
TRANGROUP:0365		       jnz     short DO_SKIPCOM
TRANGROUP:0367
TRANGROUP:0367 DO_SKIPPED:			       ; ...
TRANGROUP:0367		       dec     si
TRANGROUP:0368		       xor     cx, cx
TRANGROUP:036A
TRANGROUP:036A COMTAIL:				       ; ...
TRANGROUP:036A		       lodsb
TRANGROUP:036B		       stosb
TRANGROUP:036C		       cmp     al, 0Dh
TRANGROUP:036E		       loopne  COMTAIL
TRANGROUP:0370		       dec     di
TRANGROUP:0371		       mov     bp, di
TRANGROUP:0373		       not     cl
TRANGROUP:0375		       mov     TRANSTART+80h, cl ; mov [80h],cl
TRANGROUP:0379		       pop     si
TRANGROUP:037A		       mov     di, ARGV0_ARGSW_WORD ; [ARG+ARGV_ELE.argsw_word]
TRANGROUP:037E		       mov     COMSW, di
TRANGROUP:0382		       mov     si, ARGV1_ARGPOINTER ; [ARG+ARGV_ELE.SIZE+ARGV_ELE.argpointer]
TRANGROUP:0386		       or      si, si
TRANGROUP:0388		       jnz     short DOPARSE
TRANGROUP:038A		       mov     si, bp
TRANGROUP:038C
TRANGROUP:038C DOPARSE:				       ; ...
TRANGROUP:038C		       mov     di, 5Ch	       ; mov di,FCB ; 5Ch
TRANGROUP:038F		       mov     ax, 2901h
TRANGROUP:0392		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:0392					       ; DS:SI -> string to parse
TRANGROUP:0392					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:0392					       ; AL = bit mask to control parsing
TRANGROUP:0394		       mov     PARM1, al
TRANGROUP:0397		       mov     di, ARGV1_ARGSW_WORD ; [ARG+ARGV_ELE.SIZE+ARGV_ELE.argsw_word]
TRANGROUP:039B		       mov     ARG1S, di
TRANGROUP:039F		       mov     si, ARGV2_ARGPOINTER ; [ARG+(2*ARGV_ELE.SIZE)+ARGV_ELE.argpointer]
TRANGROUP:03A3		       or      si, si
TRANGROUP:03A5		       jnz     short DOPARSE2
TRANGROUP:03A7		       mov     si, bp
TRANGROUP:03A9
TRANGROUP:03A9 DOPARSE2:			       ; ...
TRANGROUP:03A9		       mov     di, 6Ch	       ; mov di,FCB+10h	; 6Ch
TRANGROUP:03AC		       mov     ax, 2901h
TRANGROUP:03AF		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:03AF					       ; DS:SI -> string to parse
TRANGROUP:03AF					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:03AF					       ; AL = bit mask to control parsing
TRANGROUP:03B1		       mov     PARM2, al
TRANGROUP:03B4		       mov     di, ARGV2_ARGSW_WORD ; [ARG+(2*ARGV_ELE.SIZE)+ARGV_ELE.argsw_word]
TRANGROUP:03B8		       mov     ARG2S, di
TRANGROUP:03BC		       mov     di, ARGV0_ARGSW_WORD ; [ARG+ARGV_ELE.argsw_word]
TRANGROUP:03C0		       not     di
TRANGROUP:03C2		       and     di, ARG_ARGSWINFO ; [ARG+ARG_UNIT.argswinfo]
TRANGROUP:03C6		       mov     ARGTS, di
TRANGROUP:03CA		       mov     al, IDLEN
TRANGROUP:03CD		       mov     dl, SPECDRV
TRANGROUP:03D1		       or      dl, dl
TRANGROUP:03D3		       jnz     short EXTERNALJ1
TRANGROUP:03D5		       dec     al
TRANGROUP:03D7		       jmp     FNDCOM
TRANGROUP:03DA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:03DA
TRANGROUP:03DA EXTERNALJ1:			       ; ...
TRANGROUP:03DA		       jmp     EXTERNAL
TRANGROUP:03DD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:03DD
TRANGROUP:03DD NULLCOM:				       ; ...
TRANGROUP:03DD		       mov     ds, RESSEG
TRANGROUP:03E1		       assume ds:nothing
TRANGROUP:03E1		       test    ds:Batch, 0FFFFh	; -1
TRANGROUP:03E7		       jz      short NOSETFLAG
TRANGROUP:03E9		       mov     ds:NullFlag, 1  ; mov byte [NullFlag],nullcommand
TRANGROUP:03EE
TRANGROUP:03EE NOSETFLAG:			       ; ...
TRANGROUP:03EE		       cmp     ds:SingleCom, 0FFFFh ; -1
TRANGROUP:03F3		       jz      short EXITJ
TRANGROUP:03F5		       jmp     GETCOM
TRANGROUP:03F8 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:03F8
TRANGROUP:03F8 EXITJ:				       ; ...
TRANGROUP:03F8		       jmp     _$EXITPREP
TRANGROUP:03F8 ; END OF	FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:03FB
TRANGROUP:03FB ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:03FB
TRANGROUP:03FB
TRANGROUP:03FB ROM_SCAN	       proc near	       ; ...
TRANGROUP:03FB		       push    es
TRANGROUP:03FC		       push    si
TRANGROUP:03FD		       push    di
TRANGROUP:03FE		       push    cx
TRANGROUP:03FF		       push    ax
TRANGROUP:0400		       push    bx
TRANGROUP:0401		       mov     ax, 0F000h
TRANGROUP:0404		       mov     es, ax
TRANGROUP:0406		       assume es:nothing
TRANGROUP:0406		       cmp     byte ptr	es:0FFFEh, 0FDh
TRANGROUP:040C		       jz      short SCAN_IT
TRANGROUP:040E
TRANGROUP:040E NO_ROM:				       ; ...
TRANGROUP:040E		       clc
TRANGROUP:040F
TRANGROUP:040F ROM_RET:				       ; ...
TRANGROUP:040F		       pop     bx
TRANGROUP:0410		       pop     ax
TRANGROUP:0411		       pop     cx
TRANGROUP:0412		       pop     di
TRANGROUP:0413		       pop     si
TRANGROUP:0414		       pop     es
TRANGROUP:0415		       assume es:nothing
TRANGROUP:0415		       retn
TRANGROUP:0416 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0416
TRANGROUP:0416 SCAN_IT:				       ; ...
TRANGROUP:0416		       mov     ax, 0C000h
TRANGROUP:0419
TRANGROUP:0419 SCAN_ONE:			       ; ...
TRANGROUP:0419		       mov     es, ax
TRANGROUP:041B		       assume es:nothing
TRANGROUP:041B		       xor     di, di
TRANGROUP:041D		       cmp     word ptr	es:[di], 0AA55h
TRANGROUP:0422		       jz      short SCAN_LIST
TRANGROUP:0424		       add     ax, 80h
TRANGROUP:0427
TRANGROUP:0427 SCAN_END:			       ; ...
TRANGROUP:0427		       cmp     ax, 0F000h
TRANGROUP:042A		       jb      short SCAN_ONE
TRANGROUP:042C		       jmp     short NO_ROM
TRANGROUP:042E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:042E
TRANGROUP:042E SCAN_LIST:			       ; ...
TRANGROUP:042E		       mov     bl, es:[di+2]   ; [es:di+ROM_HEADER.rom_length]
TRANGROUP:0432		       xor     bh, bh
TRANGROUP:0434		       shl     bx, 1
TRANGROUP:0436		       shl     bx, 1
TRANGROUP:0438		       add     bx, 7Fh
TRANGROUP:043B		       and     bx, 0FF80h      ; round to 2k
TRANGROUP:043E		       mov     di, 6	       ; mov di,ROM_HEADER.rom_length
TRANGROUP:0441
TRANGROUP:0441 SCAN_NAME:			       ; ...
TRANGROUP:0441		       mov     cl, es:[di]
TRANGROUP:0444		       inc     di
TRANGROUP:0445		       xor     ch, ch
TRANGROUP:0447		       or      cx, cx
TRANGROUP:0449		       jnz     short SCAN_TEST
TRANGROUP:044B		       add     ax, bx
TRANGROUP:044D		       jmp     short SCAN_END
TRANGROUP:044F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:044F
TRANGROUP:044F SCAN_TEST:			       ; ...
TRANGROUP:044F		       mov     si, dx
TRANGROUP:0451		       inc     si
TRANGROUP:0452		       repe cmpsb
TRANGROUP:0454		       jz      short SCAN_FOUND
TRANGROUP:0456
TRANGROUP:0456 SCAN_NEXT:			       ; ...
TRANGROUP:0456		       add     di, cx
TRANGROUP:0458		       add     di, 3
TRANGROUP:045B		       jmp     short SCAN_NAME
TRANGROUP:045D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:045D
TRANGROUP:045D SCAN_FOUND:			       ; ...
TRANGROUP:045D		       cmp     byte ptr	[si], 3Fh ; '?'
TRANGROUP:0460		       jz      short SCAN_SAVE
TRANGROUP:0462		       cmp     byte ptr	[si], 20h ; ' '
TRANGROUP:0465		       jnz     short SCAN_NEXT
TRANGROUP:0467
TRANGROUP:0467 SCAN_SAVE:			       ; ...
TRANGROUP:0467		       mov     cs:ROM_CS, es
TRANGROUP:046C		       mov     cs:ROM_IP, di
TRANGROUP:0471		       stc
TRANGROUP:0472		       jmp     short ROM_RET
TRANGROUP:0472 ROM_SCAN	       endp
TRANGROUP:0472
TRANGROUP:0474 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0474 ; START OF FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:0474
TRANGROUP:0474 ROM_EXEC:			       ; ...
TRANGROUP:0474		       mov     bx, 0FFFFh
TRANGROUP:0477		       mov     ah, 48h
TRANGROUP:0479		       int     21h	       ; DOS - 2+ - ALLOCATE MEMORY
TRANGROUP:0479					       ; BX = number of	16-byte	paragraphs desired
TRANGROUP:047B		       mov     ah, 48h
TRANGROUP:047D		       int     21h	       ; DOS - 2+ - ALLOCATE MEMORY
TRANGROUP:047D					       ; BX = number of	16-byte	paragraphs desired
TRANGROUP:047F		       push    bx
TRANGROUP:0480		       push    ax
TRANGROUP:0481		       mov     ax, 2522h
TRANGROUP:0484		       push    ds
TRANGROUP:0485		       mov     ds, cs:RESSEG
TRANGROUP:048A		       mov     dx, offset Exec_Wait
TRANGROUP:048D		       int     21h	       ; DOS - SET INTERRUPT VECTOR
TRANGROUP:048D					       ; AL = interrupt	number
TRANGROUP:048D					       ; DS:DX = new vector to be used for specified interrupt
TRANGROUP:048F		       mov     dx, ds
TRANGROUP:0491		       mov     es, dx
TRANGROUP:0493		       assume es:nothing
TRANGROUP:0493		       pop     ds
TRANGROUP:0494		       pop     dx
TRANGROUP:0495		       mov     ah, 55h
TRANGROUP:0497		       int     21h	       ; DOS - 2+ internal - CREATE PSP
TRANGROUP:0497					       ; DX = segment number at	which to set up	PSP
TRANGROUP:0497					       ; SI = (DOS 3+) value to	place in memory	size field at DX:[0002h]
TRANGROUP:0499		       mov     ds, dx
TRANGROUP:049B		       mov     dx, 80h
TRANGROUP:049E		       mov     ah, 1Ah
TRANGROUP:04A0		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:04A0					       ; DS:DX -> disk transfer	buffer
TRANGROUP:04A2		       mov     ax, es:EnvirSeg
TRANGROUP:04A6		       mov     ds:2Ch, ax      ; [PDB.ENVIRON]
TRANGROUP:04A9		       pop     bx
TRANGROUP:04AA		       mov     dx, ds
TRANGROUP:04AC		       add     dx, bx
TRANGROUP:04AE		       mov     ds:2, dx	       ; [PDB.BLOCK_LEN]
TRANGROUP:04B2		       mov     dx, ds
TRANGROUP:04B4		       dec     dx
TRANGROUP:04B5		       mov     ds, dx
TRANGROUP:04B7		       assume ds:nothing
TRANGROUP:04B7		       inc     dx
TRANGROUP:04B8		       mov     ds:1, dx	       ; [ARENA.owner]
TRANGROUP:04BC		       mov     ds, dx
TRANGROUP:04BE		       assume ds:nothing
TRANGROUP:04BE		       cmp     bx, 1000h
TRANGROUP:04C2		       jb      short GOT_STACK
TRANGROUP:04C4		       xor     bx, bx
TRANGROUP:04C6
TRANGROUP:04C6 GOT_STACK:			       ; ...
TRANGROUP:04C6		       mov     cl, 4
TRANGROUP:04C8		       shl     bx, cl
TRANGROUP:04CA		       mov     dx, ds
TRANGROUP:04CC		       mov     ss, dx
TRANGROUP:04CE		       assume ss:nothing
TRANGROUP:04CE		       mov     sp, bx
TRANGROUP:04D0		       xor     ax, ax
TRANGROUP:04D2		       push    ax
TRANGROUP:04D3		       not     ax
TRANGROUP:04D5		       push    cs:ROM_CS
TRANGROUP:04DA		       push    cs:ROM_IP
TRANGROUP:04DF		       mov     es, dx
TRANGROUP:04E1		       retf
TRANGROUP:04E1 ; END OF	FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:04E2
TRANGROUP:04E2 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:04E2
TRANGROUP:04E2
TRANGROUP:04E2 PROMPTBAT       proc near	       ; ...
TRANGROUP:04E2
TRANGROUP:04E2 ; FUNCTION CHUNK	AT TRANGROUP:0100 SIZE 000001AB	BYTES
TRANGROUP:04E2 ; FUNCTION CHUNK	AT TRANGROUP:02D5 SIZE 00000126	BYTES
TRANGROUP:04E2 ; FUNCTION CHUNK	AT TRANGROUP:0474 SIZE 0000006E	BYTES
TRANGROUP:04E2 ; FUNCTION CHUNK	AT TRANGROUP:078E SIZE 00000178	BYTES
TRANGROUP:04E2 ; FUNCTION CHUNK	AT TRANGROUP:0DBF SIZE 0000015C	BYTES
TRANGROUP:04E2 ; FUNCTION CHUNK	AT TRANGROUP:2219 SIZE 00000057	BYTES
TRANGROUP:04E2 ; FUNCTION CHUNK	AT TRANGROUP:289B SIZE 000000F5	BYTES
TRANGROUP:04E2 ; FUNCTION CHUNK	AT TRANGROUP:29A6 SIZE 000000AB	BYTES
TRANGROUP:04E2 ; FUNCTION CHUNK	AT TRANGROUP:2E25 SIZE 0000016D	BYTES
TRANGROUP:04E2
TRANGROUP:04E2		       call    BATOPEN
TRANGROUP:04E5		       jb      short PROMPTBAT1
TRANGROUP:04E7		       retn
TRANGROUP:04E8 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:04E8
TRANGROUP:04E8 PROMPTBAT1:			       ; ...
TRANGROUP:04E8		       cmp     dx, 2
TRANGROUP:04EB		       jz      short BAT_REMCHECK
TRANGROUP:04ED		       cmp     dx, 3
TRANGROUP:04F0		       jz      short BAT_REMCHECK
TRANGROUP:04F2		       call    output_batch_name
TRANGROUP:04F5		       jmp     short BATDIE
TRANGROUP:04F7 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:04F7
TRANGROUP:04F7 BAT_REMCHECK:			       ; ...
TRANGROUP:04F7		       call    cs:RCH_ADDR
TRANGROUP:04FC		       jz      short ASKFORBAT
TRANGROUP:04FE		       call    FOROFF
TRANGROUP:0501		       call    PipeOff
TRANGROUP:0504		       mov     ds:IfFlag, al
TRANGROUP:0507		       mov     dx, offset BADBAT_PTR
TRANGROUP:050A
TRANGROUP:050A BATDIE:				       ; ...
TRANGROUP:050A		       call    BATCHOFF
TRANGROUP:050D		       push    cs
TRANGROUP:050E		       pop     ds
TRANGROUP:050F		       assume ds:TRANGROUP
TRANGROUP:050F		       call    std_eprintf
TRANGROUP:0512		       jmp     TCOMMAND
TRANGROUP:0515 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0515
TRANGROUP:0515 ASKFORBAT:			       ; ...
TRANGROUP:0515		       push    ds
TRANGROUP:0516		       push    cs
TRANGROUP:0517		       pop     ds
TRANGROUP:0518		       mov     dx, offset NEEDBAT_PTR
TRANGROUP:051B		       call    std_eprintf
TRANGROUP:051E		       mov     dx, offset PAUSEMES_PTR
TRANGROUP:0521		       call    std_eprintf
TRANGROUP:0524		       call    GETKEYSTROKE
TRANGROUP:0527		       pop     ds
TRANGROUP:0528		       assume ds:nothing
TRANGROUP:0528		       jmp     short PROMPTBAT
TRANGROUP:0528 PROMPTBAT       endp
TRANGROUP:0528
TRANGROUP:052A
TRANGROUP:052A ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:052A
TRANGROUP:052A
TRANGROUP:052A output_batch_name proc near	       ; ...
TRANGROUP:052A		       push    ds
TRANGROUP:052B		       mov     ds, ds:Batch
TRANGROUP:052F		       mov     si, 20h	       ; BATCHSEGMENT.BatFile
TRANGROUP:0532		       call    dstrlen
TRANGROUP:0535		       mov     di, offset BWDBUF
TRANGROUP:0538		       rep movsb
TRANGROUP:053A		       push    cs
TRANGROUP:053B		       pop     ds
TRANGROUP:053C		       assume ds:TRANGROUP
TRANGROUP:053C		       mov     extend_buf_ptr, dx
TRANGROUP:0540		       mov     msg_disp_class, 1
TRANGROUP:0545		       mov     dx, offset extend_buf_ptr
TRANGROUP:0548		       mov     string_ptr_2, offset BWDBUF
TRANGROUP:054E		       mov     extend_buf_sub, 1
TRANGROUP:0553		       pop     ds
TRANGROUP:0554		       assume ds:nothing
TRANGROUP:0554		       retn
TRANGROUP:0554 output_batch_name endp
TRANGROUP:0554
TRANGROUP:0555
TRANGROUP:0555 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:0555
TRANGROUP:0555
TRANGROUP:0555 GETKEYSTROKE    proc near	       ; ...
TRANGROUP:0555		       push    dx
TRANGROUP:0556		       mov     ax, 6302h
TRANGROUP:0559		       int     21h	       ; DOS - 3.2+ only - GET KOREAN (HONGEUL)	INPUT MODE
TRANGROUP:055B		       push    dx
TRANGROUP:055C		       mov     ax, 6301h
TRANGROUP:055F		       mov     dl, 1
TRANGROUP:0561		       int     21h	       ; DOS - 3.2+ only - SET KOREAN (HONGEUL)	INPUT MODE
TRANGROUP:0561					       ; DL = new mode
TRANGROUP:0561					       ; 00h return only full characters on DOS	keyboard input functions
TRANGROUP:0561					       ; 01h return partially-formed characters	also
TRANGROUP:0563		       mov     ax, 0C08h
TRANGROUP:0566		       int     21h	       ; DOS - CLEAR KEYBOARD BUFFER
TRANGROUP:0566					       ; AL must be 01h, 06h, 07h, 08h,	or 0Ah.
TRANGROUP:0568		       mov     ax, 0C00h
TRANGROUP:056B		       int     21h	       ; DOS - CLEAR KEYBOARD BUFFER
TRANGROUP:056B					       ; AL must be 01h, 06h, 07h, 08h,	or 0Ah.
TRANGROUP:056D		       mov     ax, 6301h
TRANGROUP:0570		       pop     dx
TRANGROUP:0571		       int     21h	       ; DOS - 3.2+ only - SET KOREAN (HONGEUL)	INPUT MODE
TRANGROUP:0571					       ; DL = new mode
TRANGROUP:0571					       ; 00h return only full characters on DOS	keyboard input functions
TRANGROUP:0571					       ; 01h return partially-formed characters	also
TRANGROUP:0573		       pop     dx
TRANGROUP:0574		       retn
TRANGROUP:0574 GETKEYSTROKE    endp
TRANGROUP:0574
TRANGROUP:0575
TRANGROUP:0575 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:0575
TRANGROUP:0575
TRANGROUP:0575 READBAT	       proc near	       ; ...
TRANGROUP:0575
TRANGROUP:0575 var_7428	       = byte ptr -7428h
TRANGROUP:0575
TRANGROUP:0575		       mov     ds:Suppress, 1
TRANGROUP:057A		       test    ds:Batch_Abort, 0FFh
TRANGROUP:057F		       jnz     short TRYING_TO_ABORT
TRANGROUP:0581		       mov     ds:In_Batch, 1
TRANGROUP:0586		       push    ds
TRANGROUP:0587		       mov     ds, ds:Batch
TRANGROUP:058B		       cmp     byte ptr	ds:2, 0	; [BATCHSEGMENT.BatchEOF]
TRANGROUP:0590		       pop     ds
TRANGROUP:0591		       jz      short CONTBAT
TRANGROUP:0593		       call    GETBATBYT
TRANGROUP:0596		       mov     es:COMBUF+2, al
TRANGROUP:059A		       call    CRLF2
TRANGROUP:059D		       retn
TRANGROUP:059E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:059E
TRANGROUP:059E CONTBAT:				       ; ...
TRANGROUP:059E		       call    PROMPTBAT
TRANGROUP:05A1
TRANGROUP:05A1 TRYING_TO_ABORT:			       ; ...
TRANGROUP:05A1		       mov     di, (offset COMBUF+2)
TRANGROUP:05A4
TRANGROUP:05A4 TESTNOP:				       ; ...
TRANGROUP:05A4		       mov     ax, ds
TRANGROUP:05A6		       mov     ds, ds:Batch
TRANGROUP:05AA		       push    word ptr	ds:8   ; [BATCHSEGMENT.BatSeek]
TRANGROUP:05AE		       push    word ptr	ds:10  ; [BATCHSEGMENT.BatSeek+2]
TRANGROUP:05B2		       mov     ds, ax
TRANGROUP:05B4		       call    SKIPDELIM
TRANGROUP:05B7		       cmp     al, ':'
TRANGROUP:05B9		       pop     cx
TRANGROUP:05BA		       pop     dx
TRANGROUP:05BB		       jz      short NOPLINE
TRANGROUP:05BD		       test    ds:Batch, 0FFFFh
TRANGROUP:05C3		       jz      short RDBAT
TRANGROUP:05C5		       cmp     al, '@'         ; No_Echo_Char
TRANGROUP:05C7		       jnz     short SET_BAT_POS
TRANGROUP:05C9		       mov     ds:Suppress, 0
TRANGROUP:05CE		       jmp     short RDBAT
TRANGROUP:05D0 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:05D0
TRANGROUP:05D0 SET_BAT_POS:			       ; ...
TRANGROUP:05D0		       push    ds
TRANGROUP:05D1		       mov     ds, ds:Batch
TRANGROUP:05D5		       mov     ds:8, dx	       ; [BATCHSEGMENT.BatSeek]
TRANGROUP:05D9		       mov     ds:10, cx       ; [BATCHSEGMENT.BatSeek+2]
TRANGROUP:05DD		       pop     ds
TRANGROUP:05DE		       mov     ax, 4200h
TRANGROUP:05E1		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:05E1					       ; AL = method: offset from beginning of file
TRANGROUP:05E3		       mov     es:BATBUFPOS, 0FFFFh
TRANGROUP:05EA		       xor     cx, cx
TRANGROUP:05EC		       jmp     short RDBAT
TRANGROUP:05EE ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:05EE
TRANGROUP:05EE NOPLINE:				       ; ...
TRANGROUP:05EE		       call    SKIPTOEOL
TRANGROUP:05F1		       call    GETBATBYT
TRANGROUP:05F4		       test    ds:Batch, 0FFFFh
TRANGROUP:05FA		       jnz     short TESTNOP
TRANGROUP:05FC
TRANGROUP:05FC READBAT_RETN:			       ; ...
TRANGROUP:05FC		       retn
TRANGROUP:05FD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:05FD
TRANGROUP:05FD RDBAT:				       ; ...
TRANGROUP:05FD		       call    GETBATBYT
TRANGROUP:0600		       inc     cx
TRANGROUP:0601		       call    testkanj
TRANGROUP:0604		       jz      short RDBAT1
TRANGROUP:0606		       cmp     cx, 127
TRANGROUP:0609		       jnb     short TOOLONG
TRANGROUP:060B		       stosb
TRANGROUP:060C		       call    GETBATBYT
TRANGROUP:060F		       inc     cx
TRANGROUP:0610		       jmp     short SAVBATBYT
TRANGROUP:0612 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0612
TRANGROUP:0612 RDBAT1:				       ; ...
TRANGROUP:0612		       cmp     cx, 128
TRANGROUP:0616		       jnb     short TOOLONG
TRANGROUP:0618		       cmp     al, '%'
TRANGROUP:061A		       jz      short NEEDPARM
TRANGROUP:061C
TRANGROUP:061C SAVBATBYT:			       ; ...
TRANGROUP:061C		       stosb
TRANGROUP:061D		       cmp     al, 0Dh
TRANGROUP:061F		       jnz     short RDBAT
TRANGROUP:0621
TRANGROUP:0621 FOUND_EOL:			       ; ...
TRANGROUP:0621		       sub     di, (offset COMBUF+3)
TRANGROUP:0625		       mov     ax, di
TRANGROUP:0627		       mov     es:COMBUF+1, al
TRANGROUP:062B		       call    GETBATBYT
TRANGROUP:062E		       call    BATCLOSE
TRANGROUP:0631		       cmp     ds:Suppress, 0
TRANGROUP:0636		       jz      short RESET
TRANGROUP:0638		       test    ds:EchoFlag, 1
TRANGROUP:063D		       jnz     short TRY_NEXTFLAG
TRANGROUP:063F
TRANGROUP:063F RESET:				       ; ...
TRANGROUP:063F		       push    cs
TRANGROUP:0640		       pop     ds
TRANGROUP:0641		       assume ds:TRANGROUP
TRANGROUP:0641		       jz      short READBAT_RETN
TRANGROUP:0643
TRANGROUP:0643 TRY_NEXTFLAG:			       ; ...
TRANGROUP:0643		       cmp     ds:NullFlag, 1
TRANGROUP:0648		       jz      short NO_CRLF_PRINT
TRANGROUP:064A		       call    CRLF2
TRANGROUP:064D
TRANGROUP:064D NO_CRLF_PRINT:			       ; ...
TRANGROUP:064D		       call    PRINT_PROMPT
TRANGROUP:0650		       push    cs
TRANGROUP:0651		       pop     ds
TRANGROUP:0652		       mov     dx, (offset COMBUF+2)
TRANGROUP:0655		       call    CRPRINT
TRANGROUP:0658		       call    CRLF2
TRANGROUP:065B		       retn
TRANGROUP:065C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:065C
TRANGROUP:065C TOOLONG:				       ; ...
TRANGROUP:065C		       cmp     al, 0Dh
TRANGROUP:065E		       jz      short LTLCONT
TRANGROUP:0660		       call    SKIPTOEOL
TRANGROUP:0663
TRANGROUP:0663 LTLCONT:				       ; ...
TRANGROUP:0663		       stosb
TRANGROUP:0664		       jmp     short FOUND_EOL
TRANGROUP:0666 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0666
TRANGROUP:0666 NEEDPARM:			       ; ...
TRANGROUP:0666		       call    GETBATBYT
TRANGROUP:0669		       cmp     al, '%'
TRANGROUP:066B		       jz      short SAVBATBYT
TRANGROUP:066D		       cmp     al, 0Dh
TRANGROUP:066F		       jz      short SAVBATBYT
TRANGROUP:0671
TRANGROUP:0671 PAROK:
TRANGROUP:0671		       sub     al, '0'
TRANGROUP:0673		       jb      short NEEDENV
TRANGROUP:0675		       cmp     al, 9
TRANGROUP:0677		       ja      short NEEDENV
TRANGROUP:0679		       cbw
TRANGROUP:067A		       mov     bx, ax
TRANGROUP:067C		       shl     bx, 1
TRANGROUP:067E		       push    es
TRANGROUP:067F		       mov     es, ds:Batch
TRANGROUP:0683		       mov     si, es:[bx+0Ch] ; [es:bx+BATCHSEGMENT.BatParm]
TRANGROUP:0687		       pop     es
TRANGROUP:0688		       cmp     si, 0FFFFh      ; -1
TRANGROUP:068B		       jnz     short YES_THERE_IS
TRANGROUP:068D		       jmp     RDBAT
TRANGROUP:0690 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0690
TRANGROUP:0690 YES_THERE_IS:			       ; ...
TRANGROUP:0690		       push    ds
TRANGROUP:0691		       mov     ds, ds:Batch
TRANGROUP:0695		       assume ds:nothing
TRANGROUP:0695		       dec     cx
TRANGROUP:0696
TRANGROUP:0696 COPYPARM:			       ; ...
TRANGROUP:0696		       lodsb
TRANGROUP:0697		       cmp     al, 0Dh
TRANGROUP:0699		       jz      short ENDPARAM
TRANGROUP:069B		       inc     cx
TRANGROUP:069C		       cmp     cx, 128	       ; COMBUFLEN
TRANGROUP:06A0		       jnb     short LINETOOL
TRANGROUP:06A2		       stosb
TRANGROUP:06A3		       jmp     short COPYPARM
TRANGROUP:06A5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:06A5
TRANGROUP:06A5 LINETOOL:			       ; ...
TRANGROUP:06A5		       xor     al, al
TRANGROUP:06A7		       pop     ds
TRANGROUP:06A8		       jmp     short TOOLONG
TRANGROUP:06AA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:06AA
TRANGROUP:06AA ENDPARAM:			       ; ...
TRANGROUP:06AA		       pop     ds
TRANGROUP:06AB		       jmp     RDBAT
TRANGROUP:06AE ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:06AE
TRANGROUP:06AE NEEDENV:				       ; ...
TRANGROUP:06AE		       dec     cx
TRANGROUP:06AF		       push    ds
TRANGROUP:06B0		       push    di
TRANGROUP:06B1		       mov     di, offset ID
TRANGROUP:06B4		       add     al, '0'
TRANGROUP:06B6		       stosb
TRANGROUP:06B7
TRANGROUP:06B7 GETENV1:				       ; ...
TRANGROUP:06B7		       call    GETBATBYT
TRANGROUP:06BA		       stosb
TRANGROUP:06BB		       cmp     al, 0Dh
TRANGROUP:06BD		       jnz     short GETENV15
TRANGROUP:06BF		       mov     byte ptr	es:[di-1], 0
TRANGROUP:06C4		       mov     si, offset ID
TRANGROUP:06C7		       pop     di
TRANGROUP:06C8		       push    cs
TRANGROUP:06C9		       pop     ds
TRANGROUP:06CA		       assume ds:TRANGROUP
TRANGROUP:06CA		       call    STRCPY
TRANGROUP:06CD		       jb      short LINETOOL
TRANGROUP:06CF		       pop     ds
TRANGROUP:06D0		       assume ds:nothing
TRANGROUP:06D0		       jmp     SAVBATBYT
TRANGROUP:06D3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:06D3
TRANGROUP:06D3 GETENV15:			       ; ...
TRANGROUP:06D3		       cmp     al, '%'
TRANGROUP:06D5		       jnz     short GETENV1
TRANGROUP:06D7		       mov     al, '='
TRANGROUP:06D9		       mov     es:[di-1], al
TRANGROUP:06DD		       mov     si, offset ID
TRANGROUP:06E0		       push    cs
TRANGROUP:06E1		       pop     ds
TRANGROUP:06E2		       assume ds:TRANGROUP
TRANGROUP:06E2		       push    cx
TRANGROUP:06E3		       call    find_name_in_environment
TRANGROUP:06E6		       pop     cx
TRANGROUP:06E7		       push    es
TRANGROUP:06E8		       pop     ds
TRANGROUP:06E9		       assume ds:nothing
TRANGROUP:06E9		       push    cs
TRANGROUP:06EA		       pop     es
TRANGROUP:06EB		       assume es:TRANGROUP
TRANGROUP:06EB		       mov     si, di
TRANGROUP:06ED		       pop     di
TRANGROUP:06EE		       jb      short GETENV6
TRANGROUP:06F0		       call    STRCPY
TRANGROUP:06F3
TRANGROUP:06F3 GETENV6:				       ; ...
TRANGROUP:06F3		       pop     ds
TRANGROUP:06F4		       jmp     RDBAT
TRANGROUP:06F4 READBAT	       endp
TRANGROUP:06F4
TRANGROUP:06F7
TRANGROUP:06F7 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:06F7
TRANGROUP:06F7
TRANGROUP:06F7 SKIPTOEOL       proc near	       ; ...
TRANGROUP:06F7		       test    ds:Batch, 0FFFFh
TRANGROUP:06FD		       jnz     short SKIPTOEOL1
TRANGROUP:06FF		       retn
TRANGROUP:0700 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0700
TRANGROUP:0700 SKIPTOEOL1:			       ; ...
TRANGROUP:0700		       call    GETBATBYT
TRANGROUP:0703		       cmp     al, 0Dh
TRANGROUP:0705		       jnz     short SKIPTOEOL
TRANGROUP:0707		       retn
TRANGROUP:0707 SKIPTOEOL       endp
TRANGROUP:0707
TRANGROUP:0708
TRANGROUP:0708 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:0708
TRANGROUP:0708
TRANGROUP:0708 FREE_TPA	       proc near	       ; ...
TRANGROUP:0708		       push    es
TRANGROUP:0709		       mov     es, ds:RESSEG
TRANGROUP:070D		       assume es:nothing
TRANGROUP:070D		       mov     es, es:Res_Tpa
TRANGROUP:0712		       mov     ah, 49h
TRANGROUP:0714		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:0714					       ; ES = segment address of area to be freed
TRANGROUP:0716		       pop     es
TRANGROUP:0717		       retn
TRANGROUP:0717 FREE_TPA	       endp
TRANGROUP:0717
TRANGROUP:0718
TRANGROUP:0718 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:0718
TRANGROUP:0718
TRANGROUP:0718 ALLOC_TPA       proc near	       ; ...
TRANGROUP:0718		       push    es
TRANGROUP:0719		       mov     es, ds:RESSEG
TRANGROUP:071D		       mov     bx, 0FFFFh
TRANGROUP:0720		       mov     ah, 48h
TRANGROUP:0722		       int     21h	       ; DOS - 2+ - ALLOCATE MEMORY
TRANGROUP:0722					       ; BX = number of	16-byte	paragraphs desired
TRANGROUP:0724		       push    bx
TRANGROUP:0725		       mov     ah, 48h
TRANGROUP:0727		       int     21h	       ; DOS - 2+ - ALLOCATE MEMORY
TRANGROUP:0727					       ; BX = number of	16-byte	paragraphs desired
TRANGROUP:0729		       pop     bx
TRANGROUP:072A		       mov     es:Res_Tpa, ax
TRANGROUP:072E		       mov     ds:TRAN_TPA, ax
TRANGROUP:0731		       mov     dx, ax
TRANGROUP:0733		       and     ax, 0FFFh
TRANGROUP:0736		       jnz     short CALC_TPA
TRANGROUP:0738		       mov     ax, dx
TRANGROUP:073A		       and     ax, 0F000h
TRANGROUP:073D		       jnz     short NOROUND
TRANGROUP:073F
TRANGROUP:073F CALC_TPA:			       ; ...
TRANGROUP:073F		       mov     ax, dx
TRANGROUP:0741		       and     ax, 0F000h
TRANGROUP:0744		       add     ax, 1000h
TRANGROUP:0747		       jb      short NOROUND
TRANGROUP:0749		       mov     dx, es:Res_Tpa
TRANGROUP:074E		       add     dx, bx
TRANGROUP:0750		       cmp     dx, ax
TRANGROUP:0752		       jb      short NOROUND
TRANGROUP:0754		       mov     bx, cs
TRANGROUP:0756		       cmp     bx, ax
TRANGROUP:0758		       jb      short NOROUND
TRANGROUP:075A		       sub     bx, ax
TRANGROUP:075C		       cmp     bx, 1000h
TRANGROUP:0760		       jnb     short ROUNDDONE
TRANGROUP:0762
TRANGROUP:0762 NOROUND:				       ; ...
TRANGROUP:0762		       mov     ax, es:Res_Tpa
TRANGROUP:0766
TRANGROUP:0766 ROUNDDONE:			       ; ...
TRANGROUP:0766		       mov     es:LTpa,	ax
TRANGROUP:076A		       mov     ds:TPA, ax
TRANGROUP:076D		       mov     bx, ax
TRANGROUP:076F		       mov     ax, cs
TRANGROUP:0771		       sub     ax, bx
TRANGROUP:0773		       push    bx
TRANGROUP:0774		       mov     bx, 16
TRANGROUP:0777		       mul     bx
TRANGROUP:0779		       pop     bx
TRANGROUP:077A		       or      dx, dx
TRANGROUP:077C		       jz      short SAVSIZ2
TRANGROUP:077E		       mov     ax, 0FFFFh      ; -1
TRANGROUP:0781
TRANGROUP:0781 SAVSIZ2:				       ; ...
TRANGROUP:0781		       cmp     ax, 512
TRANGROUP:0784		       jbe     short GOTSIZE2
TRANGROUP:0786		       and     ax, 0FE00h      ; NOT 511 = NOT 1FFh
TRANGROUP:0789
TRANGROUP:0789 GOTSIZE2:			       ; ...
TRANGROUP:0789		       mov     ds:BYTCNT, ax
TRANGROUP:078C		       pop     es
TRANGROUP:078D		       retn
TRANGROUP:078D ALLOC_TPA       endp
TRANGROUP:078D
TRANGROUP:078E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:078E ; START OF FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:078E
TRANGROUP:078E BATCOM:				       ; ...
TRANGROUP:078E		       mov     es, ds:RESSEG
TRANGROUP:0792		       cmp     es:Call_Batch_Flag, 1
TRANGROUP:0798		       jz      short skip_ioset
TRANGROUP:079A		       call    IOSET
TRANGROUP:079D
TRANGROUP:079D skip_ioset:			       ; ...
TRANGROUP:079D		       call    FREE_TPA
TRANGROUP:07A0		       cmp     es:Call_Batch_Flag, 1
TRANGROUP:07A6		       jz      short GETECHO
TRANGROUP:07A8		       call    FOROFF
TRANGROUP:07AB
TRANGROUP:07AB GETECHO:				       ; ...
TRANGROUP:07AB		       call    PipeOff
TRANGROUP:07AE		       mov     al, es:EchoFlag
TRANGROUP:07B2		       and     al, 1
TRANGROUP:07B4		       push    ax
TRANGROUP:07B5		       xor     ax, ax
TRANGROUP:07B7		       test    es:Batch, 0FFFFh	; -1
TRANGROUP:07BE		       jz      short LEAVEBAT
TRANGROUP:07C0		       mov     ax, es:Batch
TRANGROUP:07C4		       cmp     es:Call_Batch_Flag, 1
TRANGROUP:07CA		       jz      short LEAVEBAT
TRANGROUP:07CC		       push    es
TRANGROUP:07CD		       mov     es, ax
TRANGROUP:07CF		       mov     ax, es:3	       ; [es:BATCHSEGMENT.BatLast]
TRANGROUP:07D3		       pop     es
TRANGROUP:07D4
TRANGROUP:07D4 LEAVEBAT:			       ; ...
TRANGROUP:07D4		       push    ax
TRANGROUP:07D5		       cmp     es:Call_Batch_Flag, 1
TRANGROUP:07DB		       jz      short STARTBAT
TRANGROUP:07DD		       call    BATCHOFF
TRANGROUP:07E0
TRANGROUP:07E0 STARTBAT:			       ; ...
TRANGROUP:07E0		       mov     es:Call_Batch_Flag, 0
TRANGROUP:07E6		       mov     si, offset EXECPATH
TRANGROUP:07E9		       mov     ax, 0B711h
TRANGROUP:07EC		       int     2Fh	       ; - Multiplex - DOS 4.0 APPEND -	SET RETURN FOUND NAME STATE
TRANGROUP:07EE		       mov     ah, 4Eh
TRANGROUP:07F0		       mov     dx, si
TRANGROUP:07F2		       mov     cx, 13h
TRANGROUP:07F5		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:07F5					       ; CX = search attributes
TRANGROUP:07F5					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:07F5					       ; (drive, path, and wildcards allowed)
TRANGROUP:07F7		       call    dstrlen
TRANGROUP:07FA		       mov     bx, cx
TRANGROUP:07FC		       add     bx, 191	       ; 15+BATCHSEGMENT.SIZE+COMBUFLEN+15
TRANGROUP:0800		       push    cx
TRANGROUP:0801		       mov     cl, 4
TRANGROUP:0803		       shr     bx, cl
TRANGROUP:0805		       push    bx
TRANGROUP:0806		       mov     ah, 48h
TRANGROUP:0808		       int     21h	       ; DOS - 2+ - ALLOCATE MEMORY
TRANGROUP:0808					       ; BX = number of	16-byte	paragraphs desired
TRANGROUP:080A		       pop     bx
TRANGROUP:080B		       jb      short MEM_ERROR
TRANGROUP:080D		       push    ax
TRANGROUP:080E		       add     ax, bx
TRANGROUP:0810		       add     ax, 20h
TRANGROUP:0813		       mov     bx, cs
TRANGROUP:0815		       mov     dx, 98C5h       ; mov dx,offset TRANGROUP:TranSpaceEnd
TRANGROUP:0818		       add     dx, 15
TRANGROUP:081B		       shr     dx, cl
TRANGROUP:081D		       add     dx, bx
TRANGROUP:081F		       cmp     ax, bx
TRANGROUP:0821		       jb      short ENOUGH_MEM
TRANGROUP:0823		       cmp     ax, dx
TRANGROUP:0825		       ja      short ENOUGH_MEM
TRANGROUP:0827		       pop     ax
TRANGROUP:0828		       push    es
TRANGROUP:0829		       mov     es, ax
TRANGROUP:082B		       mov     ax, 4900h
TRANGROUP:082E		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:082E					       ; ES = segment address of area to be freed
TRANGROUP:0830		       pop     es
TRANGROUP:0831
TRANGROUP:0831 MEM_ERROR:			       ; ...
TRANGROUP:0831		       jmp     NO_MEMORY
TRANGROUP:0834 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0834
TRANGROUP:0834 ENOUGH_MEM:			       ; ...
TRANGROUP:0834		       pop     ax
TRANGROUP:0835		       mov     es:Batch, ax
TRANGROUP:0839		       call    ALLOC_TPA
TRANGROUP:083C		       pop     dx
TRANGROUP:083D		       pop     ax
TRANGROUP:083E		       inc     es:Nest
TRANGROUP:0843		       push    es
TRANGROUP:0844		       mov     es, es:Batch
TRANGROUP:0849		       mov     byte ptr	es:0, 0	; [es:BATCHSEGMENT.BatType]
TRANGROUP:084F		       mov     es:3, ax	       ; [es:BATCHSEGMENT.BatLast]
TRANGROUP:0853		       push    ds
TRANGROUP:0854		       mov     ds, ds:RESSEG
TRANGROUP:0858		       xor     ax, ax
TRANGROUP:085A		       mov     bl, ds:ForFlag
TRANGROUP:085E		       mov     es:7, bl	       ; [es:BATCHSEGMENT.BatForFlag]
TRANGROUP:0863		       test    bl, 0FFh	       ; -1
TRANGROUP:0866		       jz      short FOR_NOT_ON
TRANGROUP:0868		       mov     ax, ds:ForPtr
TRANGROUP:086B		       mov     ds:ForFlag, 0
TRANGROUP:0870
TRANGROUP:0870 FOR_NOT_ON:			       ; ...
TRANGROUP:0870		       mov     es:5, ax	       ; [es:BATCHSEGMENT.BatForPtr]
TRANGROUP:0874		       xor     ax, ax
TRANGROUP:0876		       mov     ds:ForPtr, ax
TRANGROUP:0879		       mov     bl, ds:EchoFlag
TRANGROUP:087D		       pop     ds
TRANGROUP:087E		       mov     es:1, bl	       ; [es:BATCHSEGMENT.BatEchoFlag]
TRANGROUP:0883		       mov     byte ptr	es:2, 0	; [es:BATCHSEGMENT.BatchEOF]
TRANGROUP:0889		       mov     es:8, ax	       ; [es:BATCHSEGMENT.BatSeek]
TRANGROUP:088D		       mov     es:0Ah, ax      ; [es:BATCHSEGMENT.BatSeek+2]
TRANGROUP:0891		       dec     ax
TRANGROUP:0892		       mov     di, 0Ch	       ; BATCHSEGMENT.BatParm
TRANGROUP:0895		       mov     bx, di
TRANGROUP:0897		       mov     cx, 10
TRANGROUP:089A		       rep stosw
TRANGROUP:089C		       mov     cx, dx
TRANGROUP:089E		       rep movsb
TRANGROUP:08A0		       mov     si, (offset COMBUF+2)
TRANGROUP:08A3		       mov     cx, 10
TRANGROUP:08A6
TRANGROUP:08A6 EACHPARM:			       ; ...
TRANGROUP:08A6		       call    scanoff
TRANGROUP:08A9		       cmp     al, 0Dh
TRANGROUP:08AB		       jz      short HAVPARM
TRANGROUP:08AD		       jcxz    short MOVPARM
TRANGROUP:08AF		       mov     es:[bx],	di
TRANGROUP:08B2		       add     bx, 2
TRANGROUP:08B5
TRANGROUP:08B5 MOVPARM:				       ; ...
TRANGROUP:08B5		       lodsb
TRANGROUP:08B6		       call    DELIM
TRANGROUP:08B9		       jz      short ENDPARM
TRANGROUP:08BB		       stosb
TRANGROUP:08BC		       cmp     al, 0Dh
TRANGROUP:08BE		       jz      short HAVPARM
TRANGROUP:08C0		       jmp     short MOVPARM
TRANGROUP:08C2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:08C2
TRANGROUP:08C2 ENDPARM:				       ; ...
TRANGROUP:08C2		       mov     al, 0Dh
TRANGROUP:08C4		       stosb
TRANGROUP:08C5		       jcxz    short EACHPARM
TRANGROUP:08C7		       dec     cx
TRANGROUP:08C8		       jmp     short EACHPARM
TRANGROUP:08CA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:08CA
TRANGROUP:08CA HAVPARM:				       ; ...
TRANGROUP:08CA		       xor     al, al
TRANGROUP:08CC		       stosb
TRANGROUP:08CD		       lea     bx, [di+15]
TRANGROUP:08D0		       mov     cl, 4
TRANGROUP:08D2		       shr     bx, cl
TRANGROUP:08D4		       mov     ah, 4Ah
TRANGROUP:08D6		       int     21h	       ; DOS - 2+ - ADJUST MEMORY BLOCK	SIZE (SETBLOCK)
TRANGROUP:08D6					       ; ES = segment address of block to change
TRANGROUP:08D6					       ; BX = new size in paragraphs
TRANGROUP:08D8		       pop     es
TRANGROUP:08D9		       push    es
TRANGROUP:08DA		       pop     ds
TRANGROUP:08DB		       cmp     ds:SingleCom, 0FFFFh
TRANGROUP:08E0		       jnz     short NOBATSING
TRANGROUP:08E2		       mov     ds:SingleCom, 0FFF0h
TRANGROUP:08E8
TRANGROUP:08E8 NOBATSING:			       ; ...
TRANGROUP:08E8		       pop     ax
TRANGROUP:08E9		       mov     ds:EchoFlag, al
TRANGROUP:08EC		       jmp     TCOMMAND
TRANGROUP:08EF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:08EF
TRANGROUP:08EF NO_MEMORY:			       ; ...
TRANGROUP:08EF		       pop     dx
TRANGROUP:08F0		       pop     ax
TRANGROUP:08F1		       pop     ax
TRANGROUP:08F2		       call    ALLOC_TPA
TRANGROUP:08F5		       mov     ds:msg_disp_class, 1
TRANGROUP:08FA		       mov     dx, offset extend_buf_ptr
TRANGROUP:08FD		       mov     ds:extend_buf_ptr, 8 ; ERROR_NOT_ENOUGH_MEMORY
TRANGROUP:0903		       jmp     cerror
TRANGROUP:0903 ; END OF	FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:0906
TRANGROUP:0906 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:0906
TRANGROUP:0906
TRANGROUP:0906 BATCHOFF	       proc near	       ; ...
TRANGROUP:0906		       push    ax
TRANGROUP:0907		       push    es
TRANGROUP:0908		       push    ds
TRANGROUP:0909		       push    bx
TRANGROUP:090A		       mov     es, cs:RESSEG
TRANGROUP:090F		       mov     ds, cs:RESSEG
TRANGROUP:0914		       mov     ax, ds:Batch
TRANGROUP:0917		       or      ax, ax
TRANGROUP:0919		       jz      short NOTFREE
TRANGROUP:091B		       push    es
TRANGROUP:091C		       mov     es, ax
TRANGROUP:091E		       test    ds:EchoFlag, 1
TRANGROUP:0923		       jnz     short ECHO_LAST_LINE
TRANGROUP:0925		       mov     ds:Suppress, 0
TRANGROUP:092A
TRANGROUP:092A ECHO_LAST_LINE:			       ; ...
TRANGROUP:092A		       mov     bl, es:1
TRANGROUP:092F		       mov     ds:EchoFlag, bl
TRANGROUP:0933		       mov     bx, es:5
TRANGROUP:0938		       mov     ds:ForPtr, bx
TRANGROUP:093C		       mov     bl, es:7
TRANGROUP:0941		       mov     ds:ForFlag, bl
TRANGROUP:0945		       mov     bx, es:3
TRANGROUP:094A		       mov     ah, 49h
TRANGROUP:094C		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:094C					       ; ES = segment address of area to be freed
TRANGROUP:094E		       pop     es
TRANGROUP:094F		       mov     ds:Next_Batch, bx
TRANGROUP:0953		       dec     es:Nest
TRANGROUP:0958		       xor     ax, ax
TRANGROUP:095A		       mov     ds:Batch, ax
TRANGROUP:095D
TRANGROUP:095D NOTFREE:				       ; ...
TRANGROUP:095D		       pop     bx
TRANGROUP:095E		       pop     ds
TRANGROUP:095F		       pop     es
TRANGROUP:0960		       pop     ax
TRANGROUP:0961		       retn
TRANGROUP:0961 BATCHOFF	       endp
TRANGROUP:0961
TRANGROUP:0962
TRANGROUP:0962 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:0962
TRANGROUP:0962
TRANGROUP:0962 STRCPY	       proc near	       ; ...
TRANGROUP:0962		       push    ax
TRANGROUP:0963
TRANGROUP:0963 ccycle:				       ; ...
TRANGROUP:0963		       lodsb
TRANGROUP:0964		       inc     cx
TRANGROUP:0965		       cmp     cx, 128	       ; COMBUFLEN
TRANGROUP:0969		       jb      short ccopy
TRANGROUP:096B		       stc
TRANGROUP:096C		       jmp     short ccend
TRANGROUP:096E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:096E
TRANGROUP:096E ccopy:				       ; ...
TRANGROUP:096E		       stosb
TRANGROUP:096F		       or      al, al
TRANGROUP:0971		       jnz     short ccycle
TRANGROUP:0973
TRANGROUP:0973 ccend:				       ; ...
TRANGROUP:0973		       dec     cx
TRANGROUP:0974		       dec     di
TRANGROUP:0975		       pop     ax
TRANGROUP:0976		       retn
TRANGROUP:0976 STRCPY	       endp
TRANGROUP:0976
TRANGROUP:0977
TRANGROUP:0977 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:0977
TRANGROUP:0977
TRANGROUP:0977 GETBATBYT       proc near	       ; ...
TRANGROUP:0977		       push    bx
TRANGROUP:0978		       push    cx
TRANGROUP:0979		       push    ds
TRANGROUP:097A		       test    ds:Batch_Abort, 0FFh ; -1
TRANGROUP:097F		       jz      short getbatbyt1
TRANGROUP:0981		       jmp     BATEOF
TRANGROUP:0984 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0984
TRANGROUP:0984 getbatbyt1:			       ; ...
TRANGROUP:0984		       test    ds:Batch, 0FFFFh
TRANGROUP:098A		       jnz     short getbatbyt2
TRANGROUP:098C		       jmp     BATEOF
TRANGROUP:098F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:098F
TRANGROUP:098F getbatbyt2:			       ; ...
TRANGROUP:098F		       push    es
TRANGROUP:0990		       mov     es, ds:Batch
TRANGROUP:0994		       cmp     byte ptr	es:2, 0	; [es:BATCHSEGMENT.BatchEOF]
TRANGROUP:099A		       jz      short not_eof
TRANGROUP:099C		       jmp     At_EOF
TRANGROUP:099F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:099F
TRANGROUP:099F not_eof:				       ; ...
TRANGROUP:099F		       add     word ptr	es:8, 1	; [es:BATCHSEGMENT.BatSeek]
TRANGROUP:09A5		       adc     word ptr	es:10, 0 ; [es:BATCHSEGMENT.BatSeek+2]
TRANGROUP:09AB		       pop     es
TRANGROUP:09AC		       mov     ax, cs
TRANGROUP:09AE		       mov     ds, ax
TRANGROUP:09B0		       assume ds:TRANGROUP
TRANGROUP:09B0		       mov     bx, BATBUFPOS
TRANGROUP:09B4		       cmp     bx, 0FFFFh      ; -1
TRANGROUP:09B7		       jnz     short UNBUF
TRANGROUP:09B9		       mov     dx, offset BATBUF
TRANGROUP:09BC		       mov     cx, BATBUFLEN
TRANGROUP:09C0		       mov     bx, BATHAND
TRANGROUP:09C4		       mov     ah, 3Fh
TRANGROUP:09C6		       int     21h	       ; DOS - 2+ - READ FROM FILE WITH	HANDLE
TRANGROUP:09C6					       ; BX = file handle, CX =	number of bytes	to read
TRANGROUP:09C6					       ; DS:DX -> buffer
TRANGROUP:09C8		       jnb     short bat_read_ok
TRANGROUP:09CA		       call    get_ext_error_number
TRANGROUP:09CD		       push    ds
TRANGROUP:09CE		       mov     ds, RESSEG
TRANGROUP:09D2		       assume ds:nothing
TRANGROUP:09D2		       mov     dx, ax
TRANGROUP:09D4		       call    output_batch_name
TRANGROUP:09D7		       pop     ds
TRANGROUP:09D8		       call    std_eprintf
TRANGROUP:09DB		       mov     ds:COMBUF+2, 0Dh
TRANGROUP:09E0		       mov     ds:COMBUF+3, 0
TRANGROUP:09E5		       mov     ds, ds:RESSEG
TRANGROUP:09E9		       jmp     short BATEOF
TRANGROUP:09EB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:09EB
TRANGROUP:09EB bat_read_ok:			       ; ...
TRANGROUP:09EB		       mov     cx, ax
TRANGROUP:09ED		       jcxz    short BATEOFDS
TRANGROUP:09EF		       mov     ds:BATBUFEND, cx
TRANGROUP:09F3		       xor     bx, bx
TRANGROUP:09F5		       mov     ds:BATBUFPOS, bx
TRANGROUP:09F9
TRANGROUP:09F9 UNBUF:				       ; ...
TRANGROUP:09F9		       mov     al, ds:BATBUF[bx]
TRANGROUP:09FD		       inc     bx
TRANGROUP:09FE		       cmp     bx, ds:BATBUFEND
TRANGROUP:0A02		       jb      short SETBUFPOS
TRANGROUP:0A04		       mov     bx, 0FFFFh      ; -1
TRANGROUP:0A07
TRANGROUP:0A07 SETBUFPOS:			       ; ...
TRANGROUP:0A07		       mov     ds:BATBUFPOS, bx
TRANGROUP:0A0B		       cmp     al, 1Ah
TRANGROUP:0A0D		       jnz     short GETBYTEDONE
TRANGROUP:0A0F
TRANGROUP:0A0F BATEOFDS:			       ; ...
TRANGROUP:0A0F		       push    es
TRANGROUP:0A10		       mov     es, ds:RESSEG
TRANGROUP:0A14		       mov     es, es:Batch
TRANGROUP:0A19		       cmp     byte ptr	es:2, 0
TRANGROUP:0A1F		       jnz     short crpresent
TRANGROUP:0A21		       inc     byte ptr	es:2   ; [es:BATCHSEGMENT.BatchEOF]
TRANGROUP:0A26		       mov     bx, ds:BATBUFEND
TRANGROUP:0A2A		       cmp     byte ptr	ds:(BATBUFPOS+1)[bx], 0Ah ; [bx+BATBUF-1]
TRANGROUP:0A2F		       jz      short crpresent
TRANGROUP:0A31		       add     byte ptr	es:2, 3
TRANGROUP:0A37
TRANGROUP:0A37 crpresent:			       ; ...
TRANGROUP:0A37		       mov     ds, ds:RESSEG
TRANGROUP:0A3B
TRANGROUP:0A3B At_EOF:				       ; ...
TRANGROUP:0A3B		       shr     byte ptr	es:2, 1
TRANGROUP:0A40		       jz      short turn_off
TRANGROUP:0A42		       cmp     byte ptr	es:2, 1
TRANGROUP:0A48		       jz      short ret_lf
TRANGROUP:0A4A		       mov     al, 0Dh
TRANGROUP:0A4C		       pop     es
TRANGROUP:0A4D		       jmp     short GETBYTEDONE
TRANGROUP:0A4F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0A4F
TRANGROUP:0A4F ret_lf:				       ; ...
TRANGROUP:0A4F		       mov     al, 0Ah
TRANGROUP:0A51		       pop     es
TRANGROUP:0A52		       jmp     short GETBYTEDONE
TRANGROUP:0A54 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0A54
TRANGROUP:0A54 turn_off:			       ; ...
TRANGROUP:0A54		       pop     es
TRANGROUP:0A55
TRANGROUP:0A55 BATEOF:				       ; ...
TRANGROUP:0A55		       call    BATCHOFF
TRANGROUP:0A58		       call    BATCLOSE
TRANGROUP:0A5B		       mov     al, 0Dh
TRANGROUP:0A5D		       test    ds:Batch_Abort, 0FFh
TRANGROUP:0A62		       mov     ds:Batch_Abort, 0
TRANGROUP:0A67		       jz      short CONT_GET_BYT
TRANGROUP:0A69		       mov     di, (offset COMBUF+2)
TRANGROUP:0A6C		       xor     cx, cx
TRANGROUP:0A6E		       jmp     short GETBYTEDONE
TRANGROUP:0A70 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0A70
TRANGROUP:0A70 CONT_GET_BYT:			       ; ...
TRANGROUP:0A70		       cmp     ds:SingleCom, 0FFF0h
TRANGROUP:0A75		       jnz     short GETBYTEDONE
TRANGROUP:0A77		       cmp     ds:Nest,	0
TRANGROUP:0A7C		       jnz     short GETBYTEDONE
TRANGROUP:0A7E		       mov     ds:SingleCom, 0FFFFh
TRANGROUP:0A84
TRANGROUP:0A84 GETBYTEDONE:			       ; ...
TRANGROUP:0A84		       pop     ds
TRANGROUP:0A85		       pop     cx
TRANGROUP:0A86		       pop     bx
TRANGROUP:0A87		       retn
TRANGROUP:0A87 GETBATBYT       endp
TRANGROUP:0A87
TRANGROUP:0A88 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0A88
TRANGROUP:0A88 IFERRORP:			       ; ...
TRANGROUP:0A88		       pop     ax
TRANGROUP:0A89
TRANGROUP:0A89 IFFORERROR:			       ; ...
TRANGROUP:0A89		       mov     dx, offset SYNTMES_PTR
TRANGROUP:0A8C		       jmp     cerror
TRANGROUP:0A8F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0A8F
TRANGROUP:0A8F _$IF:				       ; ...
TRANGROUP:0A8F		       push    ds
TRANGROUP:0A90		       mov     ds, ds:RESSEG
TRANGROUP:0A94		       cmp     ds:PipeFiles, 0
TRANGROUP:0A99		       jz      short IFNoPipe
TRANGROUP:0A9B		       call    PIPEDEL
TRANGROUP:0A9E
TRANGROUP:0A9E IFNoPipe:			       ; ...
TRANGROUP:0A9E		       pop     ds
TRANGROUP:0A9F		       mov     ds:IFNOTFLAG, 0
TRANGROUP:0AA4		       mov     ds:IF_NOT_COUNT,	0
TRANGROUP:0AAA		       mov     si, 81h
TRANGROUP:0AAD
TRANGROUP:0AAD IFREENT:				       ; ...
TRANGROUP:0AAD		       call    scanoff
TRANGROUP:0AB0		       cmp     al, 0Dh
TRANGROUP:0AB2		       jz      short IFFORERROR
TRANGROUP:0AB4		       mov     bp, si
TRANGROUP:0AB6		       mov     di, offset IFTAB
TRANGROUP:0AB9		       mov     ch, 0
TRANGROUP:0ABB
TRANGROUP:0ABB IFINDCOM:			       ; ...
TRANGROUP:0ABB		       mov     si, bp
TRANGROUP:0ABD		       mov     cl, [di]
TRANGROUP:0ABF		       inc     di
TRANGROUP:0AC0		       jcxz    short IFSTRING
TRANGROUP:0AC2		       jmp     short FIRSTCOMP
TRANGROUP:0AC4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0AC4
TRANGROUP:0AC4 IFCOMP:				       ; ...
TRANGROUP:0AC4		       jnz     short IF_DIF
TRANGROUP:0AC6
TRANGROUP:0AC6 FIRSTCOMP:			       ; ...
TRANGROUP:0AC6		       lodsb
TRANGROUP:0AC7		       mov     ah, es:[di]
TRANGROUP:0ACA		       inc     di
TRANGROUP:0ACB		       cmp     al, ah
TRANGROUP:0ACD		       jz      short IFLP
TRANGROUP:0ACF		       or      ah, 20h
TRANGROUP:0AD2		       cmp     al, ah
TRANGROUP:0AD4
TRANGROUP:0AD4 IFLP:				       ; ...
TRANGROUP:0AD4		       loop    IFCOMP
TRANGROUP:0AD6
TRANGROUP:0AD6 IF_DIF:				       ; ...
TRANGROUP:0AD6		       lahf
TRANGROUP:0AD7		       add     di, cx
TRANGROUP:0AD9		       mov     bx, [di]
TRANGROUP:0ADB		       inc     di
TRANGROUP:0ADC		       inc     di
TRANGROUP:0ADD		       sahf
TRANGROUP:0ADE		       jnz     short IFINDCOM
TRANGROUP:0AE0		       lodsb
TRANGROUP:0AE1		       cmp     al, 0Dh
TRANGROUP:0AE3
TRANGROUP:0AE3 IFERRJ:				       ; ...
TRANGROUP:0AE3		       jz      short IFFORERROR	; IFERROR
TRANGROUP:0AE5		       call    DELIM
TRANGROUP:0AE8		       jnz     short IFINDCOM
TRANGROUP:0AEA		       call    scanoff
TRANGROUP:0AED		       jmp     bx
TRANGROUP:0AEF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0AEF
TRANGROUP:0AEF IFNOT:				       ; ...
TRANGROUP:0AEF		       not     ds:IFNOTFLAG
TRANGROUP:0AF3		       inc     ds:IF_NOT_COUNT
TRANGROUP:0AF7		       jmp     short IFREENT
TRANGROUP:0AF9 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0AF9
TRANGROUP:0AF9 IFSTRING:			       ; ...
TRANGROUP:0AF9		       push    si
TRANGROUP:0AFA		       xor     cx, cx
TRANGROUP:0AFC
TRANGROUP:0AFC FIRST_STRING:			       ; ...
TRANGROUP:0AFC		       lodsb
TRANGROUP:0AFD		       cmp     al, 0Dh
TRANGROUP:0AFF		       jz      short IFERRORP
TRANGROUP:0B01		       call    DELIM
TRANGROUP:0B04		       jz      short EQUAL_CHECK
TRANGROUP:0B06		       inc     cx
TRANGROUP:0B07		       jmp     short FIRST_STRING
TRANGROUP:0B09 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0B09
TRANGROUP:0B09 EQUAL_CHECK:			       ; ...
TRANGROUP:0B09		       cmp     al, '='
TRANGROUP:0B0B		       jz      short EQUAL_CHECK2
TRANGROUP:0B0D		       cmp     al, 0Dh
TRANGROUP:0B0F		       jz      short IFERRPJ
TRANGROUP:0B11		       lodsb
TRANGROUP:0B12		       jmp     short EQUAL_CHECK
TRANGROUP:0B14 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0B14
TRANGROUP:0B14 EQUAL_CHECK2:			       ; ...
TRANGROUP:0B14		       lodsb
TRANGROUP:0B15		       cmp     al, '='
TRANGROUP:0B17		       jnz     short IFERRPJ
TRANGROUP:0B19		       call    scanoff
TRANGROUP:0B1C		       cmp     al, 0Dh
TRANGROUP:0B1E		       jz      short IFERRPJ
TRANGROUP:0B20		       pop     di
TRANGROUP:0B21		       repe cmpsb
TRANGROUP:0B23		       jz      short MATCH
TRANGROUP:0B25		       dec     si
TRANGROUP:0B26		       cmp     byte ptr	[si], 0Dh
TRANGROUP:0B29		       jz      short IFERRJ
TRANGROUP:0B2B
TRANGROUP:0B2B SKIPSTRINGEND:			       ; ...
TRANGROUP:0B2B		       lodsb
TRANGROUP:0B2C
TRANGROUP:0B2C NOTMATCH:			       ; ...
TRANGROUP:0B2C		       cmp     al, 0Dh
TRANGROUP:0B2E
TRANGROUP:0B2E IFERRORJ2:			       ; ...
TRANGROUP:0B2E		       jz      short IFERRJ
TRANGROUP:0B30		       call    DELIM
TRANGROUP:0B33		       jnz     short SKIPSTRINGEND
TRANGROUP:0B35		       mov     al, 0FFh	       ; -1
TRANGROUP:0B37		       jmp     short IFRET
TRANGROUP:0B39 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0B39
TRANGROUP:0B39 IFERRPJ:				       ; ...
TRANGROUP:0B39		       jmp     IFERRORP
TRANGROUP:0B3C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0B3C
TRANGROUP:0B3C MATCH:				       ; ...
TRANGROUP:0B3C		       lodsb
TRANGROUP:0B3D		       call    DELIM
TRANGROUP:0B40		       jnz     short NOTMATCH
TRANGROUP:0B42		       xor     al, al
TRANGROUP:0B44		       jmp     short IFRET
TRANGROUP:0B46 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0B46
TRANGROUP:0B46 IFEXISTS:			       ; ...
TRANGROUP:0B46		       lodsb
TRANGROUP:0B47		       call    DELIM
TRANGROUP:0B4A		       jnz     short IFEXISTS
TRANGROUP:0B4C		       mov     dx, offset BWDBUF ; DIRBUF
TRANGROUP:0B4F		       mov     ax, 1A00h
TRANGROUP:0B52		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:0B52					       ; DS:DX -> disk transfer	buffer
TRANGROUP:0B54		       mov     bx, 2
TRANGROUP:0B57		       add     bx, ds:IF_NOT_COUNT
TRANGROUP:0B5B		       mov     ax, offset ARG_ARGV ; mov ax,ARG
TRANGROUP:0B5E		       call    argv_calc
TRANGROUP:0B61		       mov     dx, [bx]
TRANGROUP:0B63		       mov     cx, 6
TRANGROUP:0B66		       mov     ax, 4E00h
TRANGROUP:0B69		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:0B69					       ; CX = search attributes
TRANGROUP:0B69					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:0B69					       ; (drive, path, and wildcards allowed)
TRANGROUP:0B6B		       jb      short IF_EX_C
TRANGROUP:0B6D		       xor     al, al
TRANGROUP:0B6F		       jmp     short IFRET
TRANGROUP:0B71 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0B71
TRANGROUP:0B71 IF_EX_C:				       ; ...
TRANGROUP:0B71		       mov     al, 0FFh
TRANGROUP:0B73
TRANGROUP:0B73 IFRET:				       ; ...
TRANGROUP:0B73		       test    ds:IFNOTFLAG, 0FFh
TRANGROUP:0B78		       jz      short REALTEST
TRANGROUP:0B7A		       not     al
TRANGROUP:0B7C
TRANGROUP:0B7C REALTEST:			       ; ...
TRANGROUP:0B7C		       or      al, al
TRANGROUP:0B7E		       jz      short IFTRUE
TRANGROUP:0B80		       jmp     TCOMMAND
TRANGROUP:0B83 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0B83
TRANGROUP:0B83 IFTRUE:				       ; ...
TRANGROUP:0B83		       call    scanoff
TRANGROUP:0B86		       mov     cx, si
TRANGROUP:0B88		       sub     cx, 81h
TRANGROUP:0B8C		       sub     ds:80h, cl
TRANGROUP:0B90		       mov     cl, ds:80h
TRANGROUP:0B94		       mov     ds:COMBUF+1, cl
TRANGROUP:0B98		       mov     di, (offset COMBUF+2)
TRANGROUP:0B9B		       cld
TRANGROUP:0B9C		       rep movsb
TRANGROUP:0B9E		       mov     al, 0Dh
TRANGROUP:0BA0		       stosb
TRANGROUP:0BA1		       push    ds
TRANGROUP:0BA2		       mov     ds, ds:RESSEG
TRANGROUP:0BA6		       mov     ds:IfFlag, 0FFh
TRANGROUP:0BAB		       pop     ds
TRANGROUP:0BAC		       jmp     DOCOM1
TRANGROUP:0BAF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0BAF
TRANGROUP:0BAF IFERRORJ3:			       ; ...
TRANGROUP:0BAF		       jmp     IFERRORJ2
TRANGROUP:0BB2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0BB2
TRANGROUP:0BB2 IFERLEV:				       ; ...
TRANGROUP:0BB2		       mov     bh, 10
TRANGROUP:0BB4		       xor     bl, bl
TRANGROUP:0BB6
TRANGROUP:0BB6 GETNUMLP:			       ; ...
TRANGROUP:0BB6		       lodsb
TRANGROUP:0BB7		       cmp     al, 0Dh
TRANGROUP:0BB9		       jz      short IFERRORJ3
TRANGROUP:0BBB		       call    DELIM
TRANGROUP:0BBE		       jz      short GOTNUM
TRANGROUP:0BC0		       sub     al, '0'
TRANGROUP:0BC2		       xchg    al, bl
TRANGROUP:0BC4		       mul     bh
TRANGROUP:0BC6		       add     al, bl
TRANGROUP:0BC8		       xchg    al, bl
TRANGROUP:0BCA		       jmp     short GETNUMLP
TRANGROUP:0BCC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0BCC
TRANGROUP:0BCC GOTNUM:				       ; ...
TRANGROUP:0BCC		       push    ds
TRANGROUP:0BCD		       mov     ds, ds:RESSEG
TRANGROUP:0BD1		       mov     ah, byte	ptr ds:RetCode
TRANGROUP:0BD5		       pop     ds
TRANGROUP:0BD6		       xor     al, al
TRANGROUP:0BD8		       cmp     ah, bl
TRANGROUP:0BDA		       jnb     short IFRET
TRANGROUP:0BDC		       dec     al
TRANGROUP:0BDE		       jmp     short IFRET
TRANGROUP:0BE0 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0BE0
TRANGROUP:0BE0 SHIFT:				       ; ...
TRANGROUP:0BE0		       mov     ds, ds:RESSEG
TRANGROUP:0BE4		       mov     ax, ds:Batch
TRANGROUP:0BE7		       or      ax, ax
TRANGROUP:0BE9		       jnz     short SHIFT1
TRANGROUP:0BEB
TRANGROUP:0BEB SHIFT_RETN:			       ; ...
TRANGROUP:0BEB		       retn
TRANGROUP:0BEC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0BEC
TRANGROUP:0BEC SHIFT1:				       ; ...
TRANGROUP:0BEC		       mov     es, ax
TRANGROUP:0BEE		       mov     ds, ax
TRANGROUP:0BF0		       mov     di, 0Ch	       ; BATCHSEGMENT.BatParm
TRANGROUP:0BF3		       lea     si, [di+2]
TRANGROUP:0BF6		       mov     cx, 9
TRANGROUP:0BF9		       rep movsw
TRANGROUP:0BFB		       cmp     word ptr	[di], 0FFFFh
TRANGROUP:0BFE		       jz      short SHIFT_RETN
TRANGROUP:0C00		       mov     si, [di]
TRANGROUP:0C02		       mov     word ptr	[di], 0FFFFh ; -1
TRANGROUP:0C06
TRANGROUP:0C06 SKIPCRLP:			       ; ...
TRANGROUP:0C06		       lodsb
TRANGROUP:0C07		       cmp     al, 0Dh
TRANGROUP:0C09		       jnz     short SKIPCRLP
TRANGROUP:0C0B		       cmp     byte ptr	[si], 0
TRANGROUP:0C0E		       jz      short SHIFT_RETN
TRANGROUP:0C10		       mov     [di], si
TRANGROUP:0C12		       retn
TRANGROUP:0C13
TRANGROUP:0C13 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:0C13
TRANGROUP:0C13
TRANGROUP:0C13 SKIPDELIM       proc near	       ; ...
TRANGROUP:0C13		       test    ds:Batch, 0FFFFh	; -1
TRANGROUP:0C19		       jz      short SKIPERR
TRANGROUP:0C1B		       call    GETBATBYT
TRANGROUP:0C1E		       call    DELIM
TRANGROUP:0C21		       jz      short SKIPDELIM
TRANGROUP:0C23		       clc
TRANGROUP:0C24		       retn
TRANGROUP:0C25 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0C25
TRANGROUP:0C25 SKIPERR:				       ; ...
TRANGROUP:0C25		       stc
TRANGROUP:0C26
TRANGROUP:0C26 GOTO_RETN:			       ; ...
TRANGROUP:0C26		       retn
TRANGROUP:0C26 SKIPDELIM       endp
TRANGROUP:0C26
TRANGROUP:0C27 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0C27
TRANGROUP:0C27 _$CALL:				       ; ...
TRANGROUP:0C27		       push    si
TRANGROUP:0C28		       push    di
TRANGROUP:0C29		       push    ax
TRANGROUP:0C2A		       push    cx
TRANGROUP:0C2B		       mov     si, (offset COMBUF+2)
TRANGROUP:0C2E		       call    scanoff
TRANGROUP:0C31		       add     si, 4	       ; length_call
TRANGROUP:0C34		       mov     di, (offset COMBUF+2)
TRANGROUP:0C37		       mov     cx, 124	       ; COMBUFLEN-length_call
TRANGROUP:0C3A		       rep movsb
TRANGROUP:0C3C		       pop     cx
TRANGROUP:0C3D		       pop     ax
TRANGROUP:0C3E		       pop     di
TRANGROUP:0C3F		       pop     si
TRANGROUP:0C40		       push    ds
TRANGROUP:0C41		       mov     ds, ds:RESSEG
TRANGROUP:0C45		       mov     ds:Call_Flag, 1
TRANGROUP:0C4A		       mov     ds:Call_Batch_Flag, 1
TRANGROUP:0C4F		       cmp     ds:PipeFiles, 0
TRANGROUP:0C54		       jz      short _NOPIPE
TRANGROUP:0C56		       call    PIPEDEL
TRANGROUP:0C59
TRANGROUP:0C59 _NOPIPE:				       ; ...
TRANGROUP:0C59		       pop     ds
TRANGROUP:0C5A		       retn
TRANGROUP:0C5B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0C5B
TRANGROUP:0C5B GOTO:				       ; ...
TRANGROUP:0C5B		       mov     ds, ds:RESSEG
TRANGROUP:0C5F		       test    ds:Batch, 0FFFFh
TRANGROUP:0C65		       jz      short GOTO_RETN
TRANGROUP:0C67		       xor     dx, dx
TRANGROUP:0C69		       push    ds
TRANGROUP:0C6A		       mov     ds, ds:Batch
TRANGROUP:0C6E		       mov     ds:8, dx	       ; [BATCHSEGMENT.BatSeek]
TRANGROUP:0C72		       mov     ds:10, dx       ; [BATCHSEGMENT.BatSeek+2]
TRANGROUP:0C76		       mov     byte ptr	ds:2, 0	; [BATCHSEGMENT.BatchEOF]
TRANGROUP:0C7B		       pop     ds
TRANGROUP:0C7C		       call    PROMPTBAT
TRANGROUP:0C7F		       mov     di, 5Dh	       ; FCB+1
TRANGROUP:0C82		       mov     cx, 11
TRANGROUP:0C85		       mov     al, 20h ; ' '
TRANGROUP:0C87		       repne scasb
TRANGROUP:0C89		       jnz     short NOINC
TRANGROUP:0C8B		       inc     cx
TRANGROUP:0C8C
TRANGROUP:0C8C NOINC:				       ; ...
TRANGROUP:0C8C		       sub     cx, 11
TRANGROUP:0C8F		       neg     cx
TRANGROUP:0C91		       mov     es:BWDBUF, cx
TRANGROUP:0C96		       call    SKIPDELIM
TRANGROUP:0C99		       jb      short BADGOTO
TRANGROUP:0C9B		       cmp     al, ':'
TRANGROUP:0C9D		       jz      short CHKLABEL
TRANGROUP:0C9F
TRANGROUP:0C9F LABLKLP:				       ; ...
TRANGROUP:0C9F		       call    GETBATBYT
TRANGROUP:0CA2		       cmp     al, 0Ah
TRANGROUP:0CA4		       jnz     short LABLKTST
TRANGROUP:0CA6		       call    SKIPDELIM
TRANGROUP:0CA9		       jb      short BADGOTO
TRANGROUP:0CAB		       cmp     al, ':'
TRANGROUP:0CAD		       jz      short CHKLABEL
TRANGROUP:0CAF
TRANGROUP:0CAF LABLKTST:			       ; ...
TRANGROUP:0CAF		       test    ds:Batch, 0FFFFh	; -1
TRANGROUP:0CB5		       jnz     short LABLKLP
TRANGROUP:0CB7
TRANGROUP:0CB7 BADGOTO:				       ; ...
TRANGROUP:0CB7		       call    BATCLOSE
TRANGROUP:0CBA		       call    free_batch
TRANGROUP:0CBD		       push    cs
TRANGROUP:0CBE		       pop     ds
TRANGROUP:0CBF		       assume ds:TRANGROUP
TRANGROUP:0CBF		       mov     dx, offset BADLAB_PTR
TRANGROUP:0CC2		       jmp     cerror
TRANGROUP:0CC5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0CC5
TRANGROUP:0CC5 CHKLABEL:			       ; ...
TRANGROUP:0CC5		       call    SKIPDELIM
TRANGROUP:0CC8		       jb      short BADGOTO
TRANGROUP:0CCA		       mov     di, 5Dh	       ; FCB+1
TRANGROUP:0CCD		       mov     cx, es:BWDBUF   ; GOTOLEN
TRANGROUP:0CD2		       jmp     short GOTBYTE
TRANGROUP:0CD4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0CD4
TRANGROUP:0CD4 NEXTCHRLP:			       ; ...
TRANGROUP:0CD4		       push    cx
TRANGROUP:0CD5		       call    GETBATBYT
TRANGROUP:0CD8		       pop     cx
TRANGROUP:0CD9
TRANGROUP:0CD9 GOTBYTE:				       ; ...
TRANGROUP:0CD9		       call    testkanj
TRANGROUP:0CDC		       jz      short NOTKANJ1
TRANGROUP:0CDE		       cmp     al, es:[di]
TRANGROUP:0CE1		       jnz     short LABLKTST
TRANGROUP:0CE3		       inc     di
TRANGROUP:0CE4		       dec     cx
TRANGROUP:0CE5		       jcxz    short LABLKTST
TRANGROUP:0CE7		       push    cx
TRANGROUP:0CE8		       call    GETBATBYT
TRANGROUP:0CEB		       pop     cx
TRANGROUP:0CEC		       cmp     al, es:[di]
TRANGROUP:0CEF		       jmp     short KNEXTLABCHR
TRANGROUP:0CF1 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0CF1
TRANGROUP:0CF1 NOTKANJ1:			       ; ...
TRANGROUP:0CF1		       or      al, 20h
TRANGROUP:0CF3		       cmp     al, es:[di]
TRANGROUP:0CF6		       jnz     short TRYUPPER
TRANGROUP:0CF8		       jmp     short NEXTLABCHR
TRANGROUP:0CFA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0CFA
TRANGROUP:0CFA TRYUPPER:			       ; ...
TRANGROUP:0CFA		       sub     al, 20h ; ' '
TRANGROUP:0CFC		       cmp     al, es:[di]
TRANGROUP:0CFF
TRANGROUP:0CFF KNEXTLABCHR:			       ; ...
TRANGROUP:0CFF		       jnz     short LABLKTST
TRANGROUP:0D01
TRANGROUP:0D01 NEXTLABCHR:			       ; ...
TRANGROUP:0D01		       inc     di
TRANGROUP:0D02		       loop    NEXTCHRLP
TRANGROUP:0D04		       call    GETBATBYT
TRANGROUP:0D07		       cmp     es:BWDBUF, 8    ; [es:GOTOLEN],8
TRANGROUP:0D0D		       jge     short GOTOCONT
TRANGROUP:0D0F		       cmp     al, 20h ; ' '
TRANGROUP:0D11		       ja      short LABLKTST
TRANGROUP:0D13
TRANGROUP:0D13 GOTOCONT:			       ; ...
TRANGROUP:0D13		       cmp     al, 0Dh
TRANGROUP:0D15		       jz      short SKIPLFEED
TRANGROUP:0D17
TRANGROUP:0D17 TONEXTBATLIN:			       ; ...
TRANGROUP:0D17		       call    GETBATBYT
TRANGROUP:0D1A		       cmp     al, 0Dh
TRANGROUP:0D1C		       jnz     short TONEXTBATLIN
TRANGROUP:0D1E
TRANGROUP:0D1E SKIPLFEED:			       ; ...
TRANGROUP:0D1E		       call    GETBATBYT
TRANGROUP:0D21		       push    es
TRANGROUP:0D22		       mov     es, ds:Batch
TRANGROUP:0D26		       mov     byte ptr	es:2, 0	; BATCHSEGMENT.BatchEOF
TRANGROUP:0D2C		       pop     es
TRANGROUP:0D2D		       call    BATCLOSE
TRANGROUP:0D30		       retn
TRANGROUP:0D31
TRANGROUP:0D31 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:0D31
TRANGROUP:0D31
TRANGROUP:0D31 BATCLOSE	       proc near	       ; ...
TRANGROUP:0D31		       mov     bx, cs:BATHAND
TRANGROUP:0D36		       cmp     bx, 5
TRANGROUP:0D39		       jb      short CLOSERETURN
TRANGROUP:0D3B		       mov     ah, 3Eh
TRANGROUP:0D3D		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:0D3D					       ; BX = file handle
TRANGROUP:0D3F
TRANGROUP:0D3F CLOSERETURN:			       ; ...
TRANGROUP:0D3F		       mov     ds:In_Batch, 0
TRANGROUP:0D44		       retn
TRANGROUP:0D44 BATCLOSE	       endp
TRANGROUP:0D44
TRANGROUP:0D45
TRANGROUP:0D45 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:0D45
TRANGROUP:0D45
TRANGROUP:0D45 BATOPEN	       proc near	       ; ...
TRANGROUP:0D45		       push    ds
TRANGROUP:0D46		       mov     ds, ds:Batch
TRANGROUP:0D4A		       assume ds:nothing
TRANGROUP:0D4A		       mov     dx, 20h	       ; BATCHSEGMENT.BatFile
TRANGROUP:0D4D		       mov     ax, 3D00h
TRANGROUP:0D50		       int     21h	       ; DOS - 2+ - OPEN DISK FILE WITH	HANDLE
TRANGROUP:0D50					       ; DS:DX -> ASCIZ	filename
TRANGROUP:0D50					       ; AL = access mode
TRANGROUP:0D50					       ; 0 - read
TRANGROUP:0D52		       jb      short SETERRDL
TRANGROUP:0D54		       mov     dx, ds:8	       ; [BATCHSEGMENT.BatSeek]
TRANGROUP:0D58		       mov     cx, ds:10       ; [BATCHSEGMENT.BatSeek+2]
TRANGROUP:0D5C		       pop     ds
TRANGROUP:0D5D		       mov     es:BATHAND, ax
TRANGROUP:0D61		       mov     bx, ax
TRANGROUP:0D63		       mov     ax, 4200h
TRANGROUP:0D66		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:0D66					       ; AL = method: offset from beginning of file
TRANGROUP:0D68		       mov     es:BATBUFPOS, 0FFFFh
TRANGROUP:0D6F		       retn
TRANGROUP:0D70 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0D70
TRANGROUP:0D70 SETERRDL:			       ; ...
TRANGROUP:0D70		       mov     bx, dx
TRANGROUP:0D72		       call    get_ext_error_number
TRANGROUP:0D75		       mov     dx, ax
TRANGROUP:0D77		       mov     al, [bx]
TRANGROUP:0D79		       sub     al, '@'
TRANGROUP:0D7B		       pop     ds
TRANGROUP:0D7C		       stc
TRANGROUP:0D7D		       retn
TRANGROUP:0D7D BATOPEN	       endp
TRANGROUP:0D7D
TRANGROUP:0D7E
TRANGROUP:0D7E ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:0D7E
TRANGROUP:0D7E
TRANGROUP:0D7E free_batch      proc near	       ; ...
TRANGROUP:0D7E		       push    es
TRANGROUP:0D7F		       mov     bx, ds:Next_Batch
TRANGROUP:0D83		       or      bx, bx
TRANGROUP:0D85		       jz      short fb_ret
TRANGROUP:0D87
TRANGROUP:0D87 _ClearBatch:			       ; ...
TRANGROUP:0D87		       mov     es, bx
TRANGROUP:0D89		       mov     bx, es:5	       ; [es:BATCHSEGMENT.BatForPtr]
TRANGROUP:0D8E		       cmp     bx, 0
TRANGROUP:0D91		       jz      short no_bat_for
TRANGROUP:0D93		       push    es
TRANGROUP:0D94		       mov     es, bx
TRANGROUP:0D96		       mov     ah, 49h
TRANGROUP:0D98		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:0D98					       ; ES = segment address of area to be freed
TRANGROUP:0D9A		       pop     es
TRANGROUP:0D9B
TRANGROUP:0D9B no_bat_for:			       ; ...
TRANGROUP:0D9B		       mov     cl, es:1	       ; [es:BATCHSEGMENT.BatEchoFlag]
TRANGROUP:0DA0		       mov     bx, es:3	       ; [es:BATCHSEGMENT.BatLast]
TRANGROUP:0DA5		       mov     ah, 49h
TRANGROUP:0DA7		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:0DA7					       ; ES = segment address of area to be freed
TRANGROUP:0DA9		       mov     ds:Batch, bx
TRANGROUP:0DAD		       dec     ds:Nest
TRANGROUP:0DB1		       jnz     short _ClearBatch
TRANGROUP:0DB3		       mov     ds:EchoFlag, cl
TRANGROUP:0DB7		       mov     ds:Batch, 0
TRANGROUP:0DBD
TRANGROUP:0DBD fb_ret:				       ; ...
TRANGROUP:0DBD		       pop     es
TRANGROUP:0DBE		       retn
TRANGROUP:0DBE free_batch      endp
TRANGROUP:0DBE
TRANGROUP:0DBF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0DBF ; START OF FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:0DBF
TRANGROUP:0DBF FORTERM:				       ; ...
TRANGROUP:0DBF		       push    cs
TRANGROUP:0DC0		       pop     ds
TRANGROUP:0DC1		       assume ds:TRANGROUP
TRANGROUP:0DC1		       push    cs
TRANGROUP:0DC2		       pop     es
TRANGROUP:0DC3		       assume es:TRANGROUP
TRANGROUP:0DC3		       call    FOROFF
TRANGROUP:0DC6		       mov     ds, es:RESSEG
TRANGROUP:0DCB		       assume ds:nothing
TRANGROUP:0DCB		       cmp     ds:SingleCom, 0FF00h
TRANGROUP:0DD1		       jnz     short BAT_CRLF
TRANGROUP:0DD3		       cmp     ds:Nest,	0
TRANGROUP:0DD8		       jnz     short BAT_CRLF
TRANGROUP:0DDA		       mov     ds:SingleCom, 0FFFFh
TRANGROUP:0DE0		       jmp     short NOFORP2
TRANGROUP:0DE2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0DE2
TRANGROUP:0DE2 BAT_CRLF:			       ; ...
TRANGROUP:0DE2		       test    ds:EchoFlag, 1
TRANGROUP:0DE7		       jz      short NOFORP2
TRANGROUP:0DE9		       test    ds:Batch, 0FFFFh
TRANGROUP:0DEF		       jz      short NOFORP2
TRANGROUP:0DF1		       call    CRLF2
TRANGROUP:0DF4
TRANGROUP:0DF4 NOFORP2:				       ; ...
TRANGROUP:0DF4		       jmp     TCOMMAND
TRANGROUP:0DF7 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0DF7
TRANGROUP:0DF7 _$FOR_EXIT:			       ; ...
TRANGROUP:0DF7		       jmp     short FORTERM
TRANGROUP:0DF9 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0DF9
TRANGROUP:0DF9 FORPROC:				       ; ...
TRANGROUP:0DF9		       mov     ax, ds:ForPtr
TRANGROUP:0DFC		       mov     ds, ax
TRANGROUP:0DFE		       mov     es, ax
TRANGROUP:0E00		       assume es:nothing
TRANGROUP:0E00		       mov     dx, 5CBh	       ; FOR_INFO.FORDMA
TRANGROUP:0E03		       mov     ax, 1A00h
TRANGROUP:0E06		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:0E06					       ; DS:DX -> disk transfer	buffer
TRANGROUP:0E08
TRANGROUP:0E08 FOR_BEGIN:			       ; ...
TRANGROUP:0E08		       cmp     word ptr	ds:545h, 0 ; FOR_INFO.FOR_EXPAND
TRANGROUP:0E0D		       jz      short FOR_BEGIN1
TRANGROUP:0E0F		       inc     word ptr	ds:547h	; FOR_INFO.FOR_MINARG
TRANGROUP:0E13
TRANGROUP:0E13 FOR_BEGIN1:			       ; ...
TRANGROUP:0E13		       mov     bx, ds:547h
TRANGROUP:0E17		       cmp     bx, ds:549h     ; FOR_INFO.FOR_MAXARG
TRANGROUP:0E1B		       jg      short _$FOR_EXIT
TRANGROUP:0E1D		       mov     ax, 0
TRANGROUP:0E20		       call    argv_calc
TRANGROUP:0E23		       mov     cx, [bx+3]      ; [bx+ARGV_ELE.argstartel]
TRANGROUP:0E26		       mov     dx, [bx]	       ; [bx+ARGV_ELE.argpointer]
TRANGROUP:0E28		       test    byte ptr	[bx+2],	4 ; [bx+ARGV_ELE.argflags]
TRANGROUP:0E2C		       jnz     short FORSUB
TRANGROUP:0E2E		       mov     si, [bx]
TRANGROUP:0E30		       mov     al, '('
TRANGROUP:0E32		       cmp     [si-1], al
TRANGROUP:0E35		       jnz     short FORSUB
TRANGROUP:0E37		       inc     cx
TRANGROUP:0E38		       mov     al, ':'
TRANGROUP:0E3A		       cmp     [si+1], al
TRANGROUP:0E3D		       jnz     short FORSUB
TRANGROUP:0E3F		       add     cx, 2
TRANGROUP:0E42
TRANGROUP:0E42 FORSUB:				       ; ...
TRANGROUP:0E42		       sub     cx, dx
TRANGROUP:0E44		       cmp     word ptr	ds:545h, 0 ; [FOR_INFO.FOR_EXPAND]
TRANGROUP:0E49		       jz      short FOR_FIND_NEXT
TRANGROUP:0E4B		       test    byte ptr	[bx+2],	2
TRANGROUP:0E4F		       jnz     short FOR_FIND_FIRST
TRANGROUP:0E51		       mov     cx, [bx+5]      ; [bx+ARGV_ELE.arglen]
TRANGROUP:0E54		       jmp     short FOR_SMOOSH
TRANGROUP:0E56 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0E56
TRANGROUP:0E56 FOR_FIND_FIRST:			       ; ...
TRANGROUP:0E56		       push    cx
TRANGROUP:0E57		       xor     cx, cx
TRANGROUP:0E59		       mov     ax, 4E00h
TRANGROUP:0E5C		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:0E5C					       ; CX = search attributes
TRANGROUP:0E5C					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:0E5C					       ; (drive, path, and wildcards allowed)
TRANGROUP:0E5E		       pop     cx
TRANGROUP:0E5F		       jmp     short FOR_RESULT
TRANGROUP:0E61 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0E61
TRANGROUP:0E61 FOR_FIND_NEXT:			       ; ...
TRANGROUP:0E61		       mov     ax, 4F00h
TRANGROUP:0E64		       int     21h	       ; DOS - 2+ - FIND NEXT ASCIZ (FINDNEXT)
TRANGROUP:0E64					       ; [DTA] = data block from
TRANGROUP:0E64					       ; last AH = 4Eh/4Fh call
TRANGROUP:0E66
TRANGROUP:0E66 FOR_RESULT:			       ; ...
TRANGROUP:0E66		       mov     ax, 0FFFFh
TRANGROUP:0E69		       jb      short FOR_CHECK
TRANGROUP:0E6B		       mov     ax, 0
TRANGROUP:0E6E
TRANGROUP:0E6E FOR_CHECK:			       ; ...
TRANGROUP:0E6E		       mov     ds:545h,	ax     ; [FOR_INFO.FOR_EXPAND]
TRANGROUP:0E71		       or      ax, ax
TRANGROUP:0E73		       jnz     short FOR_BEGIN
TRANGROUP:0E75
TRANGROUP:0E75 FOR_SMOOSH:			       ; ...
TRANGROUP:0E75		       mov     si, [bx]
TRANGROUP:0E77		       mov     di, 54Bh	       ; FOR_INFO.FORBUF
TRANGROUP:0E7A		       rep movsb
TRANGROUP:0E7C		       cmp     word ptr	ds:545h, 0 ; [FOR_INFO.FOR_EXPAND]
TRANGROUP:0E81		       jnz     short FOR_MAKE_COM
TRANGROUP:0E83		       mov     si, 5E9h	       ; FOR_INFO.FORDMA+FIND_BUF.PNAME
TRANGROUP:0E86
TRANGROUP:0E86 FOR_MORE:			       ; ...
TRANGROUP:0E86		       cmp     byte ptr	[si], 0
TRANGROUP:0E89		       jz      short FOR_MAKE_COM
TRANGROUP:0E8B		       movsb
TRANGROUP:0E8C		       jnz     short FOR_MORE
TRANGROUP:0E8E
TRANGROUP:0E8E FOR_MAKE_COM:			       ; ...
TRANGROUP:0E8E		       xor     al, al
TRANGROUP:0E90		       stosb
TRANGROUP:0E91		       xor     cx, cx
TRANGROUP:0E93		       not     cx
TRANGROUP:0E95		       xor     bx, bx
TRANGROUP:0E97		       mov     di, (offset COMBUF+2)
TRANGROUP:0E9A		       mov     bl, ds:544h     ; [FOR_INFO.FOR_COM_START]
TRANGROUP:0E9E		       mov     dh, ds:64Bh     ; [FOR_INFO.FOR_VAR]
TRANGROUP:0EA2		       push    cs
TRANGROUP:0EA3		       pop     es
TRANGROUP:0EA4		       assume es:TRANGROUP
TRANGROUP:0EA4		       mov     ax, 0	       ; FOR_INFO.FOR_ARGS = 0
TRANGROUP:0EA7		       call    argv_calc
TRANGROUP:0EAA		       mov     si, [bx+9]      ; [bx+ARGV_ELE.arg_ocomptr]
TRANGROUP:0EAD		       inc     si
TRANGROUP:0EAE
TRANGROUP:0EAE FOR_MAKE_LOOP:			       ; ...
TRANGROUP:0EAE		       mov     al, [si]
TRANGROUP:0EB0		       inc     si
TRANGROUP:0EB1		       cmp     al, '%'
TRANGROUP:0EB3		       jnz     short FOR_STOSB
TRANGROUP:0EB5		       cmp     [si], dh
TRANGROUP:0EB7		       jnz     short FOR_STOSB
TRANGROUP:0EB9		       inc     si
TRANGROUP:0EBA		       push    si
TRANGROUP:0EBB		       mov     si, 54Bh	       ; FOR_INFO.FORBUF
TRANGROUP:0EBE
TRANGROUP:0EBE SLOOP:				       ; ...
TRANGROUP:0EBE		       lodsb
TRANGROUP:0EBF		       stosb
TRANGROUP:0EC0		       or      al, al
TRANGROUP:0EC2		       loopne  SLOOP
TRANGROUP:0EC4		       dec     di
TRANGROUP:0EC5		       inc     cx
TRANGROUP:0EC6		       pop     si
TRANGROUP:0EC7		       jmp     short FOR_MAKE_LOOP
TRANGROUP:0EC9 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0EC9
TRANGROUP:0EC9 FOR_STOSB:			       ; ...
TRANGROUP:0EC9		       stosb
TRANGROUP:0ECA		       dec     cx
TRANGROUP:0ECB		       cmp     al, 0Dh
TRANGROUP:0ECD		       jnz     short FOR_MAKE_LOOP
TRANGROUP:0ECF		       not     cl
TRANGROUP:0ED1		       mov     es:COMBUF+1, cl
TRANGROUP:0ED6		       mov     ds, es:RESSEG
TRANGROUP:0EDB		       test    ds:EchoFlag, 1
TRANGROUP:0EE0		       jz      short NOECHO3
TRANGROUP:0EE2		       cmp     ds:NullFlag, 1
TRANGROUP:0EE7		       jz      short NO_CRLF_PR
TRANGROUP:0EE9		       call    CRLF2
TRANGROUP:0EEC
TRANGROUP:0EEC NO_CRLF_PR:			       ; ...
TRANGROUP:0EEC		       mov     ds:NullFlag, 0
TRANGROUP:0EF1		       push    cs
TRANGROUP:0EF2		       pop     ds
TRANGROUP:0EF3		       assume ds:TRANGROUP
TRANGROUP:0EF3		       push    di
TRANGROUP:0EF4		       call    PRINT_PROMPT
TRANGROUP:0EF7		       pop     di
TRANGROUP:0EF8		       mov     byte ptr	es:[di-1], 0
TRANGROUP:0EFD		       mov     string_ptr_2, (offset COMBUF+2)
TRANGROUP:0F03		       mov     dx, offset string_buf_ptr
TRANGROUP:0F06		       call    std_printf
TRANGROUP:0F09		       mov     byte ptr	es:[di-1], 0Dh
TRANGROUP:0F0E		       jmp     DOCOM
TRANGROUP:0F11 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0F11
TRANGROUP:0F11 NOECHO3:				       ; ...
TRANGROUP:0F11		       mov     ds:NullFlag, 0
TRANGROUP:0F16		       push    cs
TRANGROUP:0F17		       pop     ds
TRANGROUP:0F18		       jmp     DOCOM1
TRANGROUP:0F18 ; END OF	FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:0F1B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0F1B
TRANGROUP:0F1B FORNESTERRJ:			       ; ...
TRANGROUP:0F1B		       call    FOROFF
TRANGROUP:0F1E		       jmp     FORNESTERR
TRANGROUP:0F21 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0F21
TRANGROUP:0F21 FORERRORJ:			       ; ...
TRANGROUP:0F21		       jmp     IFFORERROR
TRANGROUP:0F24 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0F24
TRANGROUP:0F24 _$FOR:				       ; ...
TRANGROUP:0F24		       mov     es, RESSEG
TRANGROUP:0F28		       assume es:nothing
TRANGROUP:0F28		       cmp     es:ForFlag, 0
TRANGROUP:0F2E		       jnz     short FORNESTERRJ
TRANGROUP:0F30		       cmp     es:PipeFiles, 0
TRANGROUP:0F36		       jz      short NO_PIPE
TRANGROUP:0F38		       call    PIPEDEL
TRANGROUP:0F3B
TRANGROUP:0F3B NO_PIPE:				       ; ...
TRANGROUP:0F3B		       xor     dx, dx
TRANGROUP:0F3D		       call    NEXTARG
TRANGROUP:0F40		       jb      short FORERRORJ
TRANGROUP:0F42		       cmp     al, '%'
TRANGROUP:0F44		       jnz     short FORERRORJ
TRANGROUP:0F46		       mov     bp, ax
TRANGROUP:0F48		       lodsb
TRANGROUP:0F49		       or      al, al
TRANGROUP:0F4B		       jnz     short FORERRORJ
TRANGROUP:0F4D		       call    NEXTARG
TRANGROUP:0F50		       jb      short FORERRORJ
TRANGROUP:0F52		       and     ax, 0DFDFh      ; ~2020h	(not 2020h)
TRANGROUP:0F55		       cmp     ax, 'NI'        ; "IN"
TRANGROUP:0F58		       jnz     short FORERRORJ
TRANGROUP:0F5A		       lodsb
TRANGROUP:0F5B		       or      al, al
TRANGROUP:0F5D		       jnz     short FORERRORJ
TRANGROUP:0F5F
TRANGROUP:0F5F CHECKLPAREN:
TRANGROUP:0F5F		       call    NEXTARG
TRANGROUP:0F62		       jb      short FORERRORJ
TRANGROUP:0F64
TRANGROUP:0F64 LPCHECK:
TRANGROUP:0F64		       cmp     al, '('
TRANGROUP:0F66		       jnz     short FORERRORJ
TRANGROUP:0F68		       cmp     ah, 0
TRANGROUP:0F6B		       jz      short FOR_PAREN_TOKEN
TRANGROUP:0F6D		       cmp     ah, ')'
TRANGROUP:0F70		       jnz     short FOR_LIST_NOT_EMPTY
TRANGROUP:0F72		       jmp     FORTERM
TRANGROUP:0F75 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0F75
TRANGROUP:0F75 FOR_LIST_NOT_EMPTY:		       ; ...
TRANGROUP:0F75		       inc     word ptr	[bx]   ; [bx+ARGV_ELE.argpointer] ; [bx+0]
TRANGROUP:0F77		       dec     word ptr	[bx+5] ; [bx+ARGV_ELE.arglen]
TRANGROUP:0F7A		       inc     si
TRANGROUP:0F7B		       jmp     short FOR_LIST
TRANGROUP:0F7D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0F7D
TRANGROUP:0F7D FOR_PAREN_TOKEN:			       ; ...
TRANGROUP:0F7D		       call    NEXTARG
TRANGROUP:0F80		       jb      short FORERRORJ
TRANGROUP:0F82		       cmp     ax, 29h	       ; db 29h,0 ; db ')',0
TRANGROUP:0F85		       jnz     short FOR_LIST
TRANGROUP:0F87		       jmp     FORTERM
TRANGROUP:0F8A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0F8A
TRANGROUP:0F8A FORERORJJ:			       ; ...
TRANGROUP:0F8A		       jmp     IFFORERROR
TRANGROUP:0F8D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0F8D
TRANGROUP:0F8D FOR_LIST:			       ; ...
TRANGROUP:0F8D		       mov     cx, dx
TRANGROUP:0F8F
TRANGROUP:0F8F SKIP_LIST:			       ; ...
TRANGROUP:0F8F		       add     si, [bx+5]      ; [bx+ARGV_ELE.arglen]
TRANGROUP:0F92		       sub     si, 3
TRANGROUP:0F95		       mov     al, ')'
TRANGROUP:0F97		       cmp     [si], al
TRANGROUP:0F99		       jz      short FOR_END_LIST
TRANGROUP:0F9B		       call    NEXTARG
TRANGROUP:0F9E		       jb      short FORERORJJ
TRANGROUP:0FA0		       jmp     short SKIP_LIST
TRANGROUP:0FA2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:0FA2
TRANGROUP:0FA2 FOR_END_LIST:			       ; ...
TRANGROUP:0FA2		       mov     di, dx
TRANGROUP:0FA4		       mov     byte ptr	[si], 0
TRANGROUP:0FA7		       cmp     ax, 29h	       ; db 29h,0 ; db ')',0
TRANGROUP:0FAA		       jz      short FOR_DO
TRANGROUP:0FAC		       inc     di
TRANGROUP:0FAD
TRANGROUP:0FAD FOR_DO:				       ; ...
TRANGROUP:0FAD		       call    NEXTARG
TRANGROUP:0FB0		       jb      short FORERORJJ
TRANGROUP:0FB2		       and     ax, 0DFDFh      ; and ax,~2020h
TRANGROUP:0FB5		       cmp     ax, 'OD'        ; "DO" ; 4F44h
TRANGROUP:0FB8		       jnz     short FORERORJJ
TRANGROUP:0FBA		       lodsb
TRANGROUP:0FBB		       or      al, al
TRANGROUP:0FBD		       jnz     short FORERORJJ
TRANGROUP:0FBF		       call    NEXTARG
TRANGROUP:0FC2		       jb      short FORERORJJ
TRANGROUP:0FC4		       push    ax
TRANGROUP:0FC5		       push    bx
TRANGROUP:0FC6		       push    cx
TRANGROUP:0FC7		       push    dx
TRANGROUP:0FC8		       push    di
TRANGROUP:0FC9		       push    si
TRANGROUP:0FCA		       push    bp
TRANGROUP:0FCB		       call    FREE_TPA
TRANGROUP:0FCE		       call    FOROFF
TRANGROUP:0FD1		       mov     bx, 264	       ; FOR_INFO.size-ARG_UNIT.SIZE
TRANGROUP:0FD4		       call    SAVE_ARGS
TRANGROUP:0FD7		       pushf
TRANGROUP:0FD8		       mov     es:ForPtr, ax
TRANGROUP:0FDC		       call    ALLOC_TPA
TRANGROUP:0FDF		       popf
TRANGROUP:0FE0		       pop     bp
TRANGROUP:0FE1		       pop     si
TRANGROUP:0FE2		       pop     di
TRANGROUP:0FE3		       pop     dx
TRANGROUP:0FE4		       pop     cx
TRANGROUP:0FE5		       pop     bx
TRANGROUP:0FE6		       pop     ax
TRANGROUP:0FE7		       jb      short FOR_ALLOC_ERR
TRANGROUP:0FE9		       push    es
TRANGROUP:0FEA		       push    es:ForPtr
TRANGROUP:0FEF		       pop     es
TRANGROUP:0FF0		       dec     cx
TRANGROUP:0FF1		       dec     di
TRANGROUP:0FF2		       mov     es:547h,	cx     ; [es:FOR_INFO.FOR_MINARG]
TRANGROUP:0FF7		       mov     es:549h,	di     ; [es:FOR_INFO.FOR_MAXARG]
TRANGROUP:0FFC		       mov     es:544h,	dl     ; [es:FOR_INFO.FOR_COM_START]
TRANGROUP:1001		       mov     word ptr	es:545h, 0FFFFh	; [es:FOR_INFO.FOR_EXPAND]
TRANGROUP:1008		       mov     ax, bp
TRANGROUP:100A		       mov     es:64Bh,	ah     ; [es:FOR_INFO.FOR_VAR]
TRANGROUP:100F		       pop     es
TRANGROUP:1010		       inc     es:ForFlag
TRANGROUP:1015		       cmp     es:SingleCom, 0FFFFh
TRANGROUP:101B		       jnz     short FOR_RET
TRANGROUP:101D		       mov     es:SingleCom, 0FF00h
TRANGROUP:1024
TRANGROUP:1024 FOR_RET:				       ; ...
TRANGROUP:1024		       retn
TRANGROUP:1025 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1025
TRANGROUP:1025 FOR_ALLOC_ERR:			       ; ...
TRANGROUP:1025		       mov     msg_disp_class, 1 ; ext_msg_class
TRANGROUP:102A		       mov     dx, offset extend_buf_ptr
TRANGROUP:102D		       mov     extend_buf_ptr, 8 ; ERROR_NOT_ENOUGH_MEMORY
TRANGROUP:1033		       jmp     cerror
TRANGROUP:1036
TRANGROUP:1036 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1036
TRANGROUP:1036
TRANGROUP:1036 NEXTARG	       proc near	       ; ...
TRANGROUP:1036		       inc     dx
TRANGROUP:1037		       cmp     dx, ARG_ARGVCNT ; [ARG+ARG_UNIT.argvcnt]
TRANGROUP:103B		       jge     short NEXTARG_ERR
TRANGROUP:103D		       mov     bx, dx
TRANGROUP:103F		       mov     ax, offset ARG_ARGV ; ARG+ARG_UNIT.argv
TRANGROUP:1042		       call    argv_calc
TRANGROUP:1045		       mov     si, [bx]	       ; [bx+ARGV_ELE.argpointer] ; mov	si,[bx+0]
TRANGROUP:1047		       lodsw
TRANGROUP:1048		       clc
TRANGROUP:1049		       retn
TRANGROUP:104A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:104A
TRANGROUP:104A NEXTARG_ERR:			       ; ...
TRANGROUP:104A		       stc
TRANGROUP:104B		       retn
TRANGROUP:104B NEXTARG	       endp
TRANGROUP:104B
TRANGROUP:104C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:104C
TRANGROUP:104C FORNESTERR:			       ; ...
TRANGROUP:104C		       push    ds
TRANGROUP:104D		       mov     ds, RESSEG
TRANGROUP:1051		       assume ds:nothing
TRANGROUP:1051		       mov     dx, offset FORNESTMES_PTR
TRANGROUP:1054		       cmp     ds:SingleCom, 0FF00h
TRANGROUP:105A		       jnz     short NOFORP3
TRANGROUP:105C		       mov     ds:SingleCom, 0FFFFh
TRANGROUP:1062
TRANGROUP:1062 NOFORP3:				       ; ...
TRANGROUP:1062		       pop     ds
TRANGROUP:1063		       jmp     cerror
TRANGROUP:1066
TRANGROUP:1066 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1066
TRANGROUP:1066
TRANGROUP:1066 FOROFF	       proc near	       ; ...
TRANGROUP:1066		       push    ax
TRANGROUP:1067		       push    es
TRANGROUP:1068		       mov     es, cs:RESSEG
TRANGROUP:106D		       mov     ax, es:ForPtr
TRANGROUP:1071		       or      ax, ax
TRANGROUP:1073		       jz      short FREEDONE
TRANGROUP:1075		       push    es
TRANGROUP:1076		       mov     es, ax
TRANGROUP:1078		       mov     ah, 49h
TRANGROUP:107A		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:107A					       ; ES = segment address of area to be freed
TRANGROUP:107C		       pop     es
TRANGROUP:107D
TRANGROUP:107D FREEDONE:			       ; ...
TRANGROUP:107D		       mov     es:ForPtr, 0
TRANGROUP:1084		       mov     es:ForFlag, 0
TRANGROUP:108A		       pop     es
TRANGROUP:108B		       pop     ax
TRANGROUP:108C		       retn
TRANGROUP:108C FOROFF	       endp
TRANGROUP:108C
TRANGROUP:108D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:108D
TRANGROUP:108D CATALOG:				       ; ...
TRANGROUP:108D		       call    SetDefaults
TRANGROUP:1090		       call    ParseEnvironment
TRANGROUP:1093		       call    ParseCmdLine
TRANGROUP:1096		       jnb     short catalog1
TRANGROUP:1098		       jmp     catErr
TRANGROUP:109B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:109B
TRANGROUP:109B catalog1:			       ; ...
TRANGROUP:109B		       call    SetOptions
TRANGROUP:109E		       call    SetCollatingTable
TRANGROUP:10A1		       test    ds:_Bits, 8     ; mask.bare
TRANGROUP:10A7		       jnz     short catalog2
TRANGROUP:10A9		       call    OkVolArg
TRANGROUP:10AC		       sub     ds:LeftOnPage, 2
TRANGROUP:10B1		       jmp     short catCrunch
TRANGROUP:10B3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:10B3
TRANGROUP:10B3 catalog2:			       ; ...
TRANGROUP:10B3		       call    DisAppend
TRANGROUP:10B6		       mov     dx, offset BWDBUF ; offset TRANGROUP:DirBuf
TRANGROUP:10B9		       mov     ah, 1Ah
TRANGROUP:10BB		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:10BB					       ; DS:DX -> disk transfer	buffer
TRANGROUP:10BD		       mov     di, 5Ch	       ; FCB
TRANGROUP:10C0		       inc     di
TRANGROUP:10C1		       mov     al, '?'
TRANGROUP:10C3		       mov     cx, 11
TRANGROUP:10C6		       rep stosb
TRANGROUP:10C8
TRANGROUP:10C8 catCrunch:			       ; ...
TRANGROUP:10C8		       call    CrunchPath
TRANGROUP:10CB		       jb      short catRecErr
TRANGROUP:10CD		       cmp     ds:COMSW, 0
TRANGROUP:10D2		       jnz     short catRecErr
TRANGROUP:10D4		       call    InstallCtrlC
TRANGROUP:10D7		       call    ZeroTotals
TRANGROUP:10DA		       call    ListDir
TRANGROUP:10DD		       jb      short catExtErr
TRANGROUP:10DF		       test    ds:_Bits, 4     ; mask.subd
TRANGROUP:10E5		       jz      short catalog3
TRANGROUP:10E7		       call    ListSubds
TRANGROUP:10EA		       jb      short catExtErr
TRANGROUP:10EC
TRANGROUP:10EC catalog3:			       ; ...
TRANGROUP:10EC		       test    ds:_Bits, 8
TRANGROUP:10F2		       jnz     short catRet
TRANGROUP:10F4		       mov     ax, word	ptr ds:FileCntTotal
TRANGROUP:10F7		       or      ax, ax
TRANGROUP:10F9		       jz      short catNoFiles
TRANGROUP:10FB		       call    DisplayTotals
TRANGROUP:10FE		       jmp     short catRet
TRANGROUP:1100 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1100
TRANGROUP:1100 catRecErr:			       ; ...
TRANGROUP:1100		       test    ds:COMSW, 1     ; mask.dev
TRANGROUP:1106		       jnz     short catNoFiles
TRANGROUP:1108		       test    ds:COMSW, 2     ; mask.baddir
TRANGROUP:110E		       jz      short catExtErr
TRANGROUP:1110		       mov     dx, offset badcd_ptr
TRANGROUP:1113		       jmp     short catErr
TRANGROUP:1115 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1115
TRANGROUP:1115 catNoFiles:			       ; ...
TRANGROUP:1115		       call    DisplayHeader
TRANGROUP:1118		       mov     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:111B		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:1120		       mov     dx, offset extend_buf_ptr
TRANGROUP:1123		       mov     ds:extend_buf_ptr, ax
TRANGROUP:1126		       jmp     short catErr
TRANGROUP:1128 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1128
TRANGROUP:1128 catExtErr:			       ; ...
TRANGROUP:1128		       call    Set_Ext_Error_Msg
TRANGROUP:112B		       cmp     ds:extend_buf_ptr, 18 ; ERROR_NO_MORE_FILES
TRANGROUP:1130		       jnz     short catErr
TRANGROUP:1132		       mov     ds:extend_buf_ptr, 2 ; ERROR_FILE_NOT_FOUND
TRANGROUP:1138
TRANGROUP:1138 catErr:				       ; ...
TRANGROUP:1138		       jmp     cerror
TRANGROUP:113B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:113B
TRANGROUP:113B catRet:				       ; ...
TRANGROUP:113B		       retn
TRANGROUP:113C
TRANGROUP:113C ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:113C
TRANGROUP:113C
TRANGROUP:113C SetDefaults     proc near	       ; ...
TRANGROUP:113C		       mov     di, offset SrcBuf
TRANGROUP:113F		       mov     ds:PathPos, di
TRANGROUP:1143		       mov     al, '*'
TRANGROUP:1145		       stosb
TRANGROUP:1146		       mov     al, 0Dh
TRANGROUP:1148		       stosb
TRANGROUP:1149		       mov     ds:PathCnt, 1
TRANGROUP:114F		       xor     ax, ax
TRANGROUP:1151		       mov     ds:COMSW, ax
TRANGROUP:1154		       mov     ds:_Bits, ax
TRANGROUP:1157		       mov     ds:DestBuf, al
TRANGROUP:115A		       mov     ds:AttrSpecified, 6 ; ATTR_HIDDEN+ATTR_SYSTEM
TRANGROUP:115F		       mov     ds:AttrSelect, al
TRANGROUP:1162		       retn
TRANGROUP:1162 SetDefaults     endp
TRANGROUP:1162
TRANGROUP:1163 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1163
TRANGROUP:1163 ParseEnvironment:		       ; ...
TRANGROUP:1163		       call    GetEnvValue
TRANGROUP:1166		       jb      short peRet
TRANGROUP:1168		       call    Parse_Line
TRANGROUP:116B		       cmp     ax, 0FFFFh      ; END_OF_LINE
TRANGROUP:116E		       jz      short peRet
TRANGROUP:1170		       call    std_eprintf
TRANGROUP:1173		       mov     ds:msg_disp_class, 0FFh
TRANGROUP:1178		       mov     dx, offset errparsenv_ptr
TRANGROUP:117B		       call    Printf_Crlf
TRANGROUP:117E
TRANGROUP:117E peRet:				       ; ...
TRANGROUP:117E		       retn
TRANGROUP:117F
TRANGROUP:117F ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:117F
TRANGROUP:117F
TRANGROUP:117F ParseCmdLine    proc near	       ; ...
TRANGROUP:117F		       mov     si, 81h
TRANGROUP:1182		       call    Parse_Line
TRANGROUP:1185		       cmp     ax, 0FFFFh
TRANGROUP:1188		       jz      short pcOk
TRANGROUP:118A		       stc
TRANGROUP:118B		       jmp     short pcRet
TRANGROUP:118D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:118D
TRANGROUP:118D pcOk:				       ; ...
TRANGROUP:118D		       clc
TRANGROUP:118E
TRANGROUP:118E pcRet:				       ; ...
TRANGROUP:118E		       retn
TRANGROUP:118E ParseCmdLine    endp
TRANGROUP:118E
TRANGROUP:118F
TRANGROUP:118F ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:118F
TRANGROUP:118F
TRANGROUP:118F SetCollatingTable proc near	       ; ...
TRANGROUP:118F		       mov     dx, offset STACK	; offset TRANGROUP:InternatVars
TRANGROUP:1192		       mov     ax, 3800h
TRANGROUP:1195		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:1195					       ; get current-country info
TRANGROUP:1195					       ; DS:DX -> buffer for returned info
TRANGROUP:1197		       jb      short scNoTable
TRANGROUP:1199		       cmp     bx, 1
TRANGROUP:119C		       jz      short scNoTable
TRANGROUP:119E		       mov     ax, 6506h
TRANGROUP:11A1		       mov     bx, 0FFFFh
TRANGROUP:11A4		       mov     cx, 5
TRANGROUP:11A7		       mov     dx, bx
TRANGROUP:11A9		       mov     di, offset CountryPtrInfo
TRANGROUP:11AC		       int     21h	       ; DOS - 4.x internal - COUNTRY-DEPENDENT	FILENAME CAPITALIZATION
TRANGROUP:11AC					       ; AL = function -
TRANGROUP:11AE		       jnb     short scRet
TRANGROUP:11B0
TRANGROUP:11B0 scNoTable:			       ; ...
TRANGROUP:11B0		       mov     ds:CountryPtrInfo, 0 ; CountryPtrId
TRANGROUP:11B5
TRANGROUP:11B5 scRet:				       ; ...
TRANGROUP:11B5		       retn
TRANGROUP:11B5 SetCollatingTable endp
TRANGROUP:11B5
TRANGROUP:11B6
TRANGROUP:11B6 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:11B6
TRANGROUP:11B6
TRANGROUP:11B6 SetOptions      proc near	       ; ...
TRANGROUP:11B6		       test    ds:_Bits, 8     ; mask.bare
TRANGROUP:11BC		       jz      short setopts1
TRANGROUP:11BE		       and     ds:_Bits, 0FFFEh	; ~mask.wide ; not mask.wide
TRANGROUP:11C3
TRANGROUP:11C3 setopts1:			       ; ...
TRANGROUP:11C3		       push    ds
TRANGROUP:11C4		       mov     ax, 40h	       ; ROMBIOS_DATA
TRANGROUP:11C7		       mov     ds, ax
TRANGROUP:11C9		       assume ds:nothing
TRANGROUP:11C9		       mov     al, ds:84h      ; CRT_Rows
TRANGROUP:11CC		       pop     ds
TRANGROUP:11CD		       assume ds:nothing
TRANGROUP:11CD		       or      al, al
TRANGROUP:11CF		       jnz     short setopts2
TRANGROUP:11D1		       mov     al, 25
TRANGROUP:11D3
TRANGROUP:11D3 setopts2:			       ; ...
TRANGROUP:11D3		       xor     ah, ah
TRANGROUP:11D5
TRANGROUP:11D5 setopts3:
TRANGROUP:11D5		       inc     al
TRANGROUP:11D7		       mov     ds:LinPerPag, ax
TRANGROUP:11DA		       mov     ax, 440Ch
TRANGROUP:11DD		       mov     bx, 1
TRANGROUP:11E0		       mov     ch, 3
TRANGROUP:11E2		       mov     cl, 7Fh
TRANGROUP:11E4		       mov     dx, offset Display_Ioctl
TRANGROUP:11E7		       int     21h	       ; DOS - 2+ - IOCTL -
TRANGROUP:11E9		       mov     ax, ds:LinPerPag
TRANGROUP:11EC		       mov     ds:LeftOnPage, ax
TRANGROUP:11EF		       mov     ds:PerLine, 1   ; NORMPERLIN
TRANGROUP:11F4		       test    ds:_Bits, 1     ; mask.wide
TRANGROUP:11FA		       jz      short setopts4
TRANGROUP:11FC		       mov     ds:PerLine, 5   ; WIDEPERLIN
TRANGROUP:1201
TRANGROUP:1201 setopts4:			       ; ...
TRANGROUP:1201		       cmp     ds:SrcBuf+1, ':'
TRANGROUP:1206		       jnz     short soRet
TRANGROUP:1208		       mov     al, ds:SrcBuf
TRANGROUP:120B		       and     al, 0DFh
TRANGROUP:120D		       sub     al, '@'
TRANGROUP:120F		       mov     ds:5Ch, al      ; [FCB]
TRANGROUP:1212
TRANGROUP:1212 soRet:				       ; ...
TRANGROUP:1212		       retn
TRANGROUP:1212 SetOptions      endp
TRANGROUP:1212
TRANGROUP:1213 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1213
TRANGROUP:1213 CrunchPath:			       ; ...
TRANGROUP:1213		       call    FileIsDevice
TRANGROUP:1216		       jnz     short crpath1
TRANGROUP:1218		       or      ds:COMSW, 1     ; mask.dev
TRANGROUP:121D		       jmp     short cpErr
TRANGROUP:121F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:121F
TRANGROUP:121F crpath1:				       ; ...
TRANGROUP:121F		       push    ds:PathPos
TRANGROUP:1223		       mov     ds:DirFlag, 0FFh	; -1
TRANGROUP:1228		       call    PathCrunch
TRANGROUP:122B		       mov     ds:DirFlag, 0
TRANGROUP:1230		       pop     si
TRANGROUP:1231		       jb      short cpNoDir
TRANGROUP:1233		       jz      short cpRet
TRANGROUP:1235		       mov     si, ds:DestTail
TRANGROUP:1239		       jmp     short cpFile
TRANGROUP:123B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:123B
TRANGROUP:123B cpNoDir:				       ; ...
TRANGROUP:123B		       mov     ax, ds:Msg_Numb
TRANGROUP:123E		       or      ax, ax
TRANGROUP:1240		       jnz     short cpErr
TRANGROUP:1242		       cmp     ds:DestIsDir, 0
TRANGROUP:1247		       jz      short cpMaybe
TRANGROUP:1249		       or      ds:COMSW, 2     ; mask.baddir
TRANGROUP:124E		       jmp     short cpErr
TRANGROUP:1250 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1250
TRANGROUP:1250 cpMaybe:				       ; ...
TRANGROUP:1250		       cmp     byte ptr	[si+1],	':'
TRANGROUP:1254		       jnz     short crpath2
TRANGROUP:1256		       lodsw
TRANGROUP:1257
TRANGROUP:1257 crpath2:				       ; ...
TRANGROUP:1257		       cmp     word ptr	[si], '..'
TRANGROUP:125B		       jnz     short cpFile
TRANGROUP:125D		       cmp     byte ptr	[si+2],	0
TRANGROUP:1261		       jnz     short cpFile
TRANGROUP:1263		       or      ds:COMSW, 2
TRANGROUP:1268		       jmp     short cpErr
TRANGROUP:126A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:126A
TRANGROUP:126A cpFile:				       ; ...
TRANGROUP:126A		       mov     di, 5Ch	       ; FCB
TRANGROUP:126D		       mov     ax, 290Eh
TRANGROUP:1270		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:1270					       ; DS:SI -> string to parse
TRANGROUP:1270					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:1270					       ; AL = bit mask to control parsing
TRANGROUP:1272		       clc
TRANGROUP:1273		       jmp     short cpRet
TRANGROUP:1275 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1275
TRANGROUP:1275 cpErr:				       ; ...
TRANGROUP:1275		       stc
TRANGROUP:1276
TRANGROUP:1276 cpRet:				       ; ...
TRANGROUP:1276		       retn
TRANGROUP:1277
TRANGROUP:1277 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1277
TRANGROUP:1277
TRANGROUP:1277 InstallCtrlC    proc near	       ; ...
TRANGROUP:1277		       push    es
TRANGROUP:1278		       mov     ax, 3523h
TRANGROUP:127B		       int     21h	       ; DOS - 2+ - GET	INTERRUPT VECTOR
TRANGROUP:127B					       ; AL = interrupt	number
TRANGROUP:127B					       ; Return: ES:BX = value of interrupt vector
TRANGROUP:127D		       mov     word ptr	ds:OldCtrlCHandler, bx
TRANGROUP:1281		       mov     word ptr	ds:OldCtrlCHandler+2, es
TRANGROUP:1285		       pop     es
TRANGROUP:1286		       mov     dx, offset CtrlCHandler
TRANGROUP:1289		       mov     ax, 2523h
TRANGROUP:128C		       int     21h	       ; DOS - SET INTERRUPT VECTOR
TRANGROUP:128C					       ; AL = interrupt	number
TRANGROUP:128C					       ; DS:DX = new vector to be used for specified interrupt
TRANGROUP:128E		       retn
TRANGROUP:128E InstallCtrlC    endp
TRANGROUP:128E
TRANGROUP:128F
TRANGROUP:128F ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:128F
TRANGROUP:128F
TRANGROUP:128F ListSubds       proc near	       ; ...
TRANGROUP:128F		       call    SetRest1
TRANGROUP:1292		       mov     bx, offset ScanBuf
TRANGROUP:1295
TRANGROUP:1295 lsNode:				       ; ...
TRANGROUP:1295		       mov     byte ptr	[bx], 0
TRANGROUP:1298
TRANGROUP:1298 lsLoop:				       ; ...
TRANGROUP:1298		       call    FindNextChild
TRANGROUP:129B		       jb      short lsErr
TRANGROUP:129D		       mov     dx, bx
TRANGROUP:129F		       call    ChangeDir
TRANGROUP:12A2		       jnb     short lstsd1
TRANGROUP:12A4		       cmp     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:12A7		       jz      short lsLoop
TRANGROUP:12A9		       jmp     short lsRet
TRANGROUP:12AB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:12AB
TRANGROUP:12AB lstsd1:				       ; ...
TRANGROUP:12AB		       push    bx
TRANGROUP:12AC		       call    ListDir
TRANGROUP:12AF		       pop     bx
TRANGROUP:12B0		       mov     di, bx
TRANGROUP:12B2		       mov     cx, 13
TRANGROUP:12B5		       xor     al, al
TRANGROUP:12B7		       repne scasb
TRANGROUP:12B9		       push    bx
TRANGROUP:12BA		       mov     bx, di
TRANGROUP:12BC		       call    lsNode
TRANGROUP:12BF		       pop     bx
TRANGROUP:12C0		       pushf
TRANGROUP:12C1		       mov     ax, 0
TRANGROUP:12C4		       push    ax
TRANGROUP:12C5		       mov     ax, '..'
TRANGROUP:12C8		       push    ax
TRANGROUP:12C9		       mov     dx, sp
TRANGROUP:12CB		       call    ChangeDir
TRANGROUP:12CE		       pop     ax
TRANGROUP:12CF		       pop     ax
TRANGROUP:12D0		       popf
TRANGROUP:12D1		       jb      short lsRet
TRANGROUP:12D3		       jmp     short lsLoop
TRANGROUP:12D5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:12D5
TRANGROUP:12D5 lsErr:				       ; ...
TRANGROUP:12D5		       call    get_ext_error_number
TRANGROUP:12D8		       cmp     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:12DB		       jz      short lsRet
TRANGROUP:12DD		       cmp     ax, 18	       ; ERROR_NO_MORE_FILES
TRANGROUP:12E0		       jz      short lsRet
TRANGROUP:12E2		       stc
TRANGROUP:12E3
TRANGROUP:12E3 lsRet:				       ; ...
TRANGROUP:12E3		       retn
TRANGROUP:12E3 ListSubds       endp
TRANGROUP:12E3
TRANGROUP:12E4
TRANGROUP:12E4 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:12E4
TRANGROUP:12E4
TRANGROUP:12E4 CheckChild      proc near	       ; ...
TRANGROUP:12E4		       test    ds:DIRBUF_find_buf_attr,	10h ; [DIRBUF+FIND_BUF.ATTR],ATTR_DIRECTORY
TRANGROUP:12E9		       jz      short ccRet
TRANGROUP:12EB		       cmp     ds:DIRBUF_find_buf_pname, '.' ; [DIRBUF+FIND_BUF.PNAME],'.'
TRANGROUP:12F0		       jz      short ccRet
TRANGROUP:12F2		       mov     si, offset DIRBUF_find_buf_pname
TRANGROUP:12F5		       mov     di, bx
TRANGROUP:12F7		       call    CmpAscz
TRANGROUP:12FA		       jbe     short ccRet
TRANGROUP:12FC		       mov     si, offset DIRBUF_find_buf_pname
TRANGROUP:12FF		       mov     di, bp
TRANGROUP:1301		       call    CmpAscz
TRANGROUP:1304		       jnb     short ccRet
TRANGROUP:1306		       mov     si, offset DIRBUF_find_buf_pname
TRANGROUP:1309		       mov     di, bp
TRANGROUP:130B		       mov     cx, 13
TRANGROUP:130E		       rep movsb
TRANGROUP:1310
TRANGROUP:1310 ccRet:				       ; ...
TRANGROUP:1310		       retn
TRANGROUP:1310 CheckChild      endp
TRANGROUP:1310
TRANGROUP:1311
TRANGROUP:1311 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1311
TRANGROUP:1311
TRANGROUP:1311 CmpEntry	       proc near	       ; ...
TRANGROUP:1311		       mov     si, offset DestBuf
TRANGROUP:1314
TRANGROUP:1314 ceLoop:				       ; ...
TRANGROUP:1314		       xor     ax, ax
TRANGROUP:1316		       mov     al, [si]
TRANGROUP:1318		       or      al, al
TRANGROUP:131A		       jz      short ceDone
TRANGROUP:131C		       inc     si
TRANGROUP:131D		       push    si
TRANGROUP:131E		       dec     al
TRANGROUP:1320		       shl     al, 1
TRANGROUP:1322		       mov     si, ax
TRANGROUP:1324		       mov     ax, cs:FieldCmps[si]
TRANGROUP:1329		       jb      short ceDn
TRANGROUP:132B		       call    ax
TRANGROUP:132D		       jmp     short ceNs
TRANGROUP:132F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:132F
TRANGROUP:132F ceDn:				       ; ...
TRANGROUP:132F		       xchg    bx, bp
TRANGROUP:1331		       call    ax
TRANGROUP:1333		       xchg    bx, bp
TRANGROUP:1335
TRANGROUP:1335 ceNs:				       ; ...
TRANGROUP:1335		       pop     si
TRANGROUP:1336		       jz      short ceLoop
TRANGROUP:1338
TRANGROUP:1338 ceDone:				       ; ...
TRANGROUP:1338		       retn
TRANGROUP:1338 CmpEntry	       endp
TRANGROUP:1338
TRANGROUP:1338 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1339 FieldCmps       dw offset CmpName       ; ...
TRANGROUP:133B		       dw offset CmpExt
TRANGROUP:133D		       dw offset CmpTime
TRANGROUP:133F		       dw offset CmpSize
TRANGROUP:1341		       dw offset CmpType
TRANGROUP:1343 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1343
TRANGROUP:1343 CmpName:				       ; ...
TRANGROUP:1343		       mov     si, bx
TRANGROUP:1345		       mov     di, bp
TRANGROUP:1347		       add     si, 1	       ; entry.filename
TRANGROUP:134A		       add     di, 1	       ; entry.filename
TRANGROUP:134D		       mov     cx, 8	       ; size entry.filename
TRANGROUP:1350		       jmp     short CmpStr
TRANGROUP:1352 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1352
TRANGROUP:1352 CmpExt:				       ; ...
TRANGROUP:1352		       mov     si, bx
TRANGROUP:1354		       mov     di, bp
TRANGROUP:1356		       add     si, 9	       ; entry.fileext
TRANGROUP:1359		       add     di, 9	       ; entry.fileext
TRANGROUP:135C		       mov     cx, 3	       ; size entry.fileext
TRANGROUP:135F
TRANGROUP:135F CmpStr:				       ; ...
TRANGROUP:135F		       cmp     ds:CountryPtrInfo, 6 ; CountryPtrId
TRANGROUP:1364		       jnz     short cnNoCollTable
TRANGROUP:1366		       push    bp
TRANGROUP:1367		       push    bx
TRANGROUP:1368		       push    ds
TRANGROUP:1369		       lds     bx, ds:CountryPtr
TRANGROUP:136D		       mov     bp, [bx]
TRANGROUP:136F		       inc     bx
TRANGROUP:1370		       inc     bx
TRANGROUP:1371		       xor     ax, ax
TRANGROUP:1373
TRANGROUP:1373 cnNextChar:			       ; ...
TRANGROUP:1373		       mov     al, es:[di]
TRANGROUP:1376		       inc     di
TRANGROUP:1377		       cmp     ax, bp
TRANGROUP:1379		       jnb     short cn1
TRANGROUP:137B		       xlat
TRANGROUP:137C
TRANGROUP:137C cn1:				       ; ...
TRANGROUP:137C		       mov     dx, ax
TRANGROUP:137E		       lods    byte ptr	es:[si]
TRANGROUP:1380		       cmp     ax, bp
TRANGROUP:1382		       jnb     short cn2
TRANGROUP:1384		       xlat
TRANGROUP:1385
TRANGROUP:1385 cn2:				       ; ...
TRANGROUP:1385		       cmp     ax, dx
TRANGROUP:1387		       loope   cnNextChar
TRANGROUP:1389		       pop     ds
TRANGROUP:138A		       pop     bx
TRANGROUP:138B		       pop     bp
TRANGROUP:138C		       retn
TRANGROUP:138D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:138D
TRANGROUP:138D cnNoCollTable:			       ; ...
TRANGROUP:138D		       repe cmps byte ptr es:[si], byte	ptr es:[di]
TRANGROUP:1390		       retn
TRANGROUP:1391 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1391
TRANGROUP:1391 CmpTime:				       ; ...
TRANGROUP:1391		       mov     si, bx
TRANGROUP:1393		       mov     di, bp
TRANGROUP:1395		       add     si, 16	       ; entry.filedate	+ size entry.filedate -	1
TRANGROUP:1398		       add     di, 16	       ; entry.filedate	+ size entry.filedate -	1
TRANGROUP:139B		       mov     cx, 4	       ; size entry.filetime + size entry.filedate
TRANGROUP:139E		       std
TRANGROUP:139F		       repe cmps byte ptr es:[si], byte	ptr es:[di]
TRANGROUP:13A2		       cld
TRANGROUP:13A3		       retn
TRANGROUP:13A4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:13A4
TRANGROUP:13A4 CmpSize:				       ; ...
TRANGROUP:13A4		       mov     si, bx
TRANGROUP:13A6		       mov     di, bp
TRANGROUP:13A8		       add     si, 20
TRANGROUP:13AB		       add     di, 20
TRANGROUP:13AE		       mov     cx, 4
TRANGROUP:13B1		       std
TRANGROUP:13B2		       repe cmps byte ptr es:[si], byte	ptr es:[di]
TRANGROUP:13B5		       cld
TRANGROUP:13B6		       retn
TRANGROUP:13B7 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:13B7
TRANGROUP:13B7 CmpType:				       ; ...
TRANGROUP:13B7		       mov     al, es:[bx+12]  ; entry.fileattr
TRANGROUP:13BB		       mov     ah, es:[bp+12]
TRANGROUP:13BF		       and     ax, 1010h       ; (ATTR_DIRECTORY<<8)+ATTR_DIRECTORY
TRANGROUP:13C2		       cmp     ah, al
TRANGROUP:13C4		       retn
TRANGROUP:13C5
TRANGROUP:13C5 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:13C5
TRANGROUP:13C5
TRANGROUP:13C5 DefaultAttr     proc near	       ; ...
TRANGROUP:13C5		       mov     ds:AttrSpecified, 6 ; ATTR_HIDDEN+ATTR_SYSTEM
TRANGROUP:13CA		       mov     ds:AttrSelect, 0
TRANGROUP:13CF		       clc
TRANGROUP:13D0		       retn
TRANGROUP:13D0 DefaultAttr     endp
TRANGROUP:13D0
TRANGROUP:13D1
TRANGROUP:13D1 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:13D1
TRANGROUP:13D1
TRANGROUP:13D1 DisplayTotals   proc near	       ; ...
TRANGROUP:13D1		       test    ds:_Bits, 4     ; mask.subd
TRANGROUP:13D7		       jz      short dtFree
TRANGROUP:13D9		       call    CRLF2
TRANGROUP:13DC		       call    UseLine
TRANGROUP:13DF		       mov     dx, offset total_ptr
TRANGROUP:13E2		       call    std_printf
TRANGROUP:13E5		       call    UseLine
TRANGROUP:13E8		       mov     ax, word	ptr ds:FileCntTotal
TRANGROUP:13EB		       mov     si, offset FileSizTotal
TRANGROUP:13EE		       mov     di, offset FileSiz
TRANGROUP:13F1		       movsw
TRANGROUP:13F2		       movsw
TRANGROUP:13F3		       call    DisplayCntSiz
TRANGROUP:13F6
TRANGROUP:13F6 dtFree:				       ; ...
TRANGROUP:13F6		       mov     ah, 36h
TRANGROUP:13F8		       mov     dl, ds:5Ch
TRANGROUP:13FC		       int     21h	       ; DOS - 2+ - GET	DISK SPACE
TRANGROUP:13FC					       ; DL = drive code (0 = default, 1 = A, 2	= B, etc.)
TRANGROUP:13FE		       cmp     ax, 0FFFFh      ; -1
TRANGROUP:1401		       jz      short dtRet
TRANGROUP:1403		       mul     cx
TRANGROUP:1405		       mul     bx
TRANGROUP:1407		       mov     word ptr	ds:Bytes_Free, ax
TRANGROUP:140A		       mov     word ptr	ds:Bytes_Free+2, dx
TRANGROUP:140E		       mov     dx, offset bytmes_ptr
TRANGROUP:1411		       call    std_printf
TRANGROUP:1414		       call    UseLine
TRANGROUP:1417
TRANGROUP:1417 dtRet:				       ; ...
TRANGROUP:1417		       retn
TRANGROUP:1417 DisplayTotals   endp
TRANGROUP:1417
TRANGROUP:1418
TRANGROUP:1418 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1418
TRANGROUP:1418
TRANGROUP:1418 FileIsDevice    proc near	       ; ...
TRANGROUP:1418		       mov     dx, ds:PathPos
TRANGROUP:141C		       mov     di, dx
TRANGROUP:141E		       add     di, ds:PathCnt
TRANGROUP:1422		       xor     bl, bl
TRANGROUP:1424		       xchg    bl, [di]
TRANGROUP:1426		       xor     cx, cx
TRANGROUP:1428		       mov     ah, 4Eh
TRANGROUP:142A		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:142A					       ; CX = search attributes
TRANGROUP:142A					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:142A					       ; (drive, path, and wildcards allowed)
TRANGROUP:142C		       xchg    bl, [di]
TRANGROUP:142E		       jb      short piCol
TRANGROUP:1430		       test    ds:DIRBUF_find_buf_attr,	40h ; ATTR_DEVICE
TRANGROUP:1435		       jz      short piCol
TRANGROUP:1437		       xor     cx, cx
TRANGROUP:1439		       jmp     short piRet
TRANGROUP:143B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:143B
TRANGROUP:143B piCol:				       ; ...
TRANGROUP:143B		       dec     di
TRANGROUP:143C		       mov     al, ':'         ; COLON_CHAR
TRANGROUP:143E		       mov     cx, ds:PathCnt
TRANGROUP:1442		       dec     cx
TRANGROUP:1443		       dec     cx
TRANGROUP:1444		       or      cx, cx
TRANGROUP:1446		       js      short piRet
TRANGROUP:1448		       or      di, di
TRANGROUP:144A		       std
TRANGROUP:144B		       repne scasb
TRANGROUP:144D		       cld
TRANGROUP:144E
TRANGROUP:144E piRet:				       ; ...
TRANGROUP:144E		       retn
TRANGROUP:144E FileIsDevice    endp
TRANGROUP:144E
TRANGROUP:144F
TRANGROUP:144F ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:144F
TRANGROUP:144F
TRANGROUP:144F FindFirst       proc near	       ; ...
TRANGROUP:144F		       mov     ax, offset GetFirst
TRANGROUP:1452		       jmp     short ffFindEntry
TRANGROUP:1452 FindFirst       endp
TRANGROUP:1452
TRANGROUP:1454
TRANGROUP:1454 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1454
TRANGROUP:1454
TRANGROUP:1454 FindNext	       proc near	       ; ...
TRANGROUP:1454		       mov     ax, offset GetNext
TRANGROUP:1457
TRANGROUP:1457 ffFindEntry:			       ; ...
TRANGROUP:1457		       push    es
TRANGROUP:1458		       test    ds:_Bits, 20h   ; mask.inmem
TRANGROUP:145E		       jz      short ffDisk
TRANGROUP:1460		       call    FindInMem
TRANGROUP:1463		       jmp     short ffRet
TRANGROUP:1465 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1465
TRANGROUP:1465 ffDisk:				       ; ...
TRANGROUP:1465		       call    ax
TRANGROUP:1467		       jb      short ffGetErr
TRANGROUP:1469		       mov     es, ds:TPA
TRANGROUP:146D		       xor     di, di
TRANGROUP:146F		       mov     bx, di
TRANGROUP:1471		       call    LoadEntry
TRANGROUP:1474		       clc
TRANGROUP:1475		       jmp     short ffRet
TRANGROUP:1477 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1477
TRANGROUP:1477 ffGetErr:			       ; ...
TRANGROUP:1477		       call    get_ext_error_number
TRANGROUP:147A		       stc
TRANGROUP:147B
TRANGROUP:147B ffRet:				       ; ...
TRANGROUP:147B		       pop     es
TRANGROUP:147C		       retn
TRANGROUP:147C FindNext	       endp
TRANGROUP:147C
TRANGROUP:147D
TRANGROUP:147D ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:147D
TRANGROUP:147D
TRANGROUP:147D FindInMem       proc near	       ; ...
TRANGROUP:147D		       mov     es, ds:TPA
TRANGROUP:1481		       xor     bx, bx
TRANGROUP:1483		       cld
TRANGROUP:1484		       call    FindOneInMem
TRANGROUP:1487		       jb      short fiNoMore
TRANGROUP:1489
TRANGROUP:1489 fiBest:				       ; ...
TRANGROUP:1489		       mov     bp, bx
TRANGROUP:148B
TRANGROUP:148B fiNext:				       ; ...
TRANGROUP:148B		       call    FindNextInMem
TRANGROUP:148E		       jb      short fiFound
TRANGROUP:1490		       call    CmpEntry
TRANGROUP:1493		       jnb     short fiNext
TRANGROUP:1495		       jmp     short fiBest
TRANGROUP:1497 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1497
TRANGROUP:1497 fiNoMore:			       ; ...
TRANGROUP:1497		       mov     ax, 18	       ; ERROR_NO_MORE_FILES
TRANGROUP:149A		       stc
TRANGROUP:149B		       jmp     short fiRet
TRANGROUP:149D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:149D
TRANGROUP:149D fiFound:				       ; ...
TRANGROUP:149D		       mov     bx, bp
TRANGROUP:149F		       mov     byte ptr	es:[bx], 1 ; used entry
TRANGROUP:14A3		       clc
TRANGROUP:14A4
TRANGROUP:14A4 fiRet:				       ; ...
TRANGROUP:14A4		       retn
TRANGROUP:14A4 FindInMem       endp
TRANGROUP:14A4
TRANGROUP:14A5
TRANGROUP:14A5 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:14A5
TRANGROUP:14A5
TRANGROUP:14A5 FindNextChild   proc near	       ; ...
TRANGROUP:14A5		       sub     sp, 12
TRANGROUP:14A8		       mov     ax, 0FFh
TRANGROUP:14AB		       push    ax
TRANGROUP:14AC		       mov     bp, sp
TRANGROUP:14AE		       mov     ax, '*'         ; 002Ah
TRANGROUP:14B1		       push    ax
TRANGROUP:14B2		       mov     ax, 2E2Ah       ; '*.'
TRANGROUP:14B5		       push    ax
TRANGROUP:14B6		       call    GetDriveLtr
TRANGROUP:14B9		       push    ax
TRANGROUP:14BA		       mov     dx, sp
TRANGROUP:14BC		       mov     cx, 10h	       ; ATTR_DIRECTORY
TRANGROUP:14BF		       mov     ah, 4Eh
TRANGROUP:14C1		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:14C1					       ; CX = search attributes
TRANGROUP:14C1					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:14C1					       ; (drive, path, and wildcards allowed)
TRANGROUP:14C3		       jb      short fcRet
TRANGROUP:14C5		       call    CheckChild
TRANGROUP:14C8
TRANGROUP:14C8 fcNext:				       ; ...
TRANGROUP:14C8		       mov     cx, 10h
TRANGROUP:14CB		       mov     ah, 4Fh
TRANGROUP:14CD		       int     21h	       ; DOS - 2+ - FIND NEXT ASCIZ (FINDNEXT)
TRANGROUP:14CD					       ; [DTA] = data block from
TRANGROUP:14CD					       ; last AH = 4Eh/4Fh call
TRANGROUP:14CF		       jb      short fcErr
TRANGROUP:14D1		       call    CheckChild
TRANGROUP:14D4		       jmp     short fcNext
TRANGROUP:14D6 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:14D6
TRANGROUP:14D6 fcErr:				       ; ...
TRANGROUP:14D6		       call    get_ext_error_number
TRANGROUP:14D9		       cmp     ax, 18	       ; ERROR_NO_MORE_FILES
TRANGROUP:14DC		       jnz     short fcNope
TRANGROUP:14DE		       cmp     byte ptr	[bp+0],	0FFh
TRANGROUP:14E2		       jz      short fcNope
TRANGROUP:14E4		       mov     si, bp
TRANGROUP:14E6		       mov     di, bx
TRANGROUP:14E8
TRANGROUP:14E8 fcMove:				       ; ...
TRANGROUP:14E8		       lodsb
TRANGROUP:14E9		       stosb
TRANGROUP:14EA		       or      al, al
TRANGROUP:14EC		       jz      short fcRet
TRANGROUP:14EE		       jmp     short fcMove
TRANGROUP:14F0 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:14F0
TRANGROUP:14F0 fcNope:				       ; ...
TRANGROUP:14F0		       stc
TRANGROUP:14F1
TRANGROUP:14F1 fcRet:				       ; ...
TRANGROUP:14F1		       lahf
TRANGROUP:14F2		       add     sp, 20
TRANGROUP:14F5		       sahf
TRANGROUP:14F6		       retn
TRANGROUP:14F6 FindNextChild   endp
TRANGROUP:14F6
TRANGROUP:14F7
TRANGROUP:14F7 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:14F7
TRANGROUP:14F7
TRANGROUP:14F7 FindOneInMem    proc near	       ; ...
TRANGROUP:14F7
TRANGROUP:14F7 ; FUNCTION CHUNK	AT TRANGROUP:1509 SIZE 00000002	BYTES
TRANGROUP:14F7
TRANGROUP:14F7		       mov     al, es:[bx]
TRANGROUP:14FA		       cmp     al, 1
TRANGROUP:14FC		       jz      short FindNextInMem
TRANGROUP:14FE		       cmp     al, 0FFh
TRANGROUP:1500		       jz      short foNoMore
TRANGROUP:1502		       clc
TRANGROUP:1503		       retn
TRANGROUP:1503 FindOneInMem    endp
TRANGROUP:1503
TRANGROUP:1504
TRANGROUP:1504 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1504
TRANGROUP:1504
TRANGROUP:1504 FindNextInMem   proc near	       ; ...
TRANGROUP:1504		       add     bx, 21	       ; size EntryStruc
TRANGROUP:1507		       jmp     short FindOneInMem
TRANGROUP:1507 FindNextInMem   endp
TRANGROUP:1507
TRANGROUP:1509 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1509 ; START OF FUNCTION CHUNK FOR FindOneInMem
TRANGROUP:1509
TRANGROUP:1509 foNoMore:			       ; ...
TRANGROUP:1509		       stc
TRANGROUP:150A		       retn
TRANGROUP:150A ; END OF	FUNCTION CHUNK FOR FindOneInMem
TRANGROUP:150B
TRANGROUP:150B ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:150B
TRANGROUP:150B
TRANGROUP:150B GetEnvValue     proc near	       ; ...
TRANGROUP:150B		       push    es
TRANGROUP:150C		       mov     si, offset DirEnvVar ; "DIRCMD="
TRANGROUP:150F		       call    find_name_in_environment
TRANGROUP:1512		       jb      short geRet
TRANGROUP:1514		       push    ds
TRANGROUP:1515		       push    es
TRANGROUP:1516		       pop     ds
TRANGROUP:1517		       pop     es
TRANGROUP:1518		       mov     si, di
TRANGROUP:151A		       mov     di, offset ScanBuf
TRANGROUP:151D
TRANGROUP:151D geLoop:				       ; ...
TRANGROUP:151D		       lodsb
TRANGROUP:151E		       or      al, al
TRANGROUP:1520		       stosb
TRANGROUP:1521		       loopne  geLoop
TRANGROUP:1523		       push    es
TRANGROUP:1524		       pop     ds
TRANGROUP:1525		       mov     si, offset ScanBuf
TRANGROUP:1528
TRANGROUP:1528 geRet:				       ; ...
TRANGROUP:1528		       pop     es
TRANGROUP:1529		       retn
TRANGROUP:1529 GetEnvValue     endp
TRANGROUP:1529
TRANGROUP:152A
TRANGROUP:152A ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:152A
TRANGROUP:152A
TRANGROUP:152A GetFirst	       proc near	       ; ...
TRANGROUP:152A		       mov     byte ptr	ds:55h,	0FFh ; [FCB-7]
TRANGROUP:152F		       mov     byte ptr	ds:5Bh,	16h ; mov byte [FCB-1],ATTR_ALL
TRANGROUP:1534		       mov     dx, 55h	       ; FCB-7
TRANGROUP:1537		       mov     ah, 11h
TRANGROUP:1539		       int     21h	       ; DOS - SEARCH FIRST USING FCB
TRANGROUP:1539					       ; DS:DX -> FCB
TRANGROUP:153B		       shl     al, 1
TRANGROUP:153D		       jb      short gfRet
TRANGROUP:153F		       jmp     short gfFound
TRANGROUP:153F GetFirst	       endp
TRANGROUP:153F
TRANGROUP:1541
TRANGROUP:1541 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1541
TRANGROUP:1541
TRANGROUP:1541 GetNext	       proc near	       ; ...
TRANGROUP:1541		       mov     dx, 55h
TRANGROUP:1544		       mov     ah, 12h
TRANGROUP:1546		       int     21h	       ; DOS - SEARCH NEXT USING FCB
TRANGROUP:1546					       ; DS:DX -> FCB
TRANGROUP:1546					       ; Return: AL = status
TRANGROUP:1548		       shl     al, 1
TRANGROUP:154A		       jb      short gfRet
TRANGROUP:154C
TRANGROUP:154C gfFound:				       ; ...
TRANGROUP:154C		       mov     al, byte	ptr ds:DIRBUF_8_DIR_ATTR ;
TRANGROUP:154C					       ; [DIRBUF+8+DIR_ENTRY.DIR_ATTR]
TRANGROUP:154F		       mov     ah, ds:AttrSpecified
TRANGROUP:1553		       and     al, ah
TRANGROUP:1555		       and     ah, ds:AttrSelect
TRANGROUP:1559		       cmp     al, ah
TRANGROUP:155B		       jnz     short GetNext
TRANGROUP:155D
TRANGROUP:155D gfRet:				       ; ...
TRANGROUP:155D		       retn
TRANGROUP:155D GetNext	       endp
TRANGROUP:155D
TRANGROUP:155E
TRANGROUP:155E ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:155E
TRANGROUP:155E
TRANGROUP:155E ListDir	       proc near	       ; ...
TRANGROUP:155E		       xor     ax, ax
TRANGROUP:1560		       mov     ds:FileCnt, ax
TRANGROUP:1563		       mov     word ptr	ds:FileSiz, ax
TRANGROUP:1566		       mov     word ptr	ds:FileSiz+2, ax
TRANGROUP:1569		       cmp     ds:DestBuf, 0
TRANGROUP:156E		       jz      short ld1
TRANGROUP:1570		       call    LoadEntries
TRANGROUP:1573		       jnb     short ld1
TRANGROUP:1575		       call    get_ext_error_number
TRANGROUP:1578		       stc
TRANGROUP:1579		       jmp     short ldErr
TRANGROUP:157B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:157B
TRANGROUP:157B ld1:				       ; ...
TRANGROUP:157B		       call    FindFirst
TRANGROUP:157E		       jb      short ldErr
TRANGROUP:1580		       call    DisplayHeader
TRANGROUP:1583		       call    DisplayFile
TRANGROUP:1586
TRANGROUP:1586 ldNext:				       ; ...
TRANGROUP:1586		       call    FindNext
TRANGROUP:1589		       jb      short ldErr
TRANGROUP:158B		       call    DisplayFile
TRANGROUP:158E		       jmp     short ldNext
TRANGROUP:1590 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1590
TRANGROUP:1590 ldErr:				       ; ...
TRANGROUP:1590		       cmp     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:1593		       jz      short ldDone
TRANGROUP:1595		       cmp     ax, 18	       ; ERROR_NO_MORE_FILES
TRANGROUP:1598		       jz      short ldDone
TRANGROUP:159A		       stc
TRANGROUP:159B		       jmp     short ldRet
TRANGROUP:159D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:159D
TRANGROUP:159D ldDone:				       ; ...
TRANGROUP:159D		       cmp     ds:FileCnt, 0
TRANGROUP:15A2		       jz      short ld2
TRANGROUP:15A4		       call    DisplayTrailer
TRANGROUP:15A7
TRANGROUP:15A7 ld2:				       ; ...
TRANGROUP:15A7		       clc
TRANGROUP:15A8
TRANGROUP:15A8 ldRet:				       ; ...
TRANGROUP:15A8		       retn
TRANGROUP:15A8 ListDir	       endp
TRANGROUP:15A8
TRANGROUP:15A9
TRANGROUP:15A9 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:15A9
TRANGROUP:15A9
TRANGROUP:15A9 LoadEntries     proc near	       ; ...
TRANGROUP:15A9		       push    es
TRANGROUP:15AA		       mov     es, ds:TPA
TRANGROUP:15AE		       xor     di, di
TRANGROUP:15B0		       and     ds:_Bits, 0FFDFh	; ~mask.inmem ;	not mask.inmem
TRANGROUP:15B5		       call    GetFirst
TRANGROUP:15B8		       jb      short leRet
TRANGROUP:15BA		       call    LoadEntry
TRANGROUP:15BD
TRANGROUP:15BD leNext:				       ; ...
TRANGROUP:15BD		       call    GetNext
TRANGROUP:15C0		       jb      short leLoaded
TRANGROUP:15C2		       mov     ax, ds:BYTCNT
TRANGROUP:15C5		       sub     ax, di
TRANGROUP:15C7		       cmp     ax, 23	       ; size EntryStruc+2
TRANGROUP:15CA		       jb      short leOk
TRANGROUP:15CC		       call    LoadEntry
TRANGROUP:15CF		       jmp     short leNext
TRANGROUP:15D1 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:15D1
TRANGROUP:15D1 leLoaded:			       ; ...
TRANGROUP:15D1		       mov     byte ptr	es:[di], 0FFh
TRANGROUP:15D5		       or      ds:_Bits, 20h   ; mask.inmem
TRANGROUP:15DA
TRANGROUP:15DA leOk:				       ; ...
TRANGROUP:15DA		       clc
TRANGROUP:15DB
TRANGROUP:15DB leRet:				       ; ...
TRANGROUP:15DB		       pop     es
TRANGROUP:15DC		       retn
TRANGROUP:15DC LoadEntries     endp
TRANGROUP:15DC
TRANGROUP:15DD
TRANGROUP:15DD ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:15DD
TRANGROUP:15DD
TRANGROUP:15DD LoadEntry       proc near	       ; ...
TRANGROUP:15DD		       mov     si, offset DIRBUF_8 ; DIRBUF+8
TRANGROUP:15E0		       xor     al, al
TRANGROUP:15E2		       stosb
TRANGROUP:15E3		       mov     cx, 11
TRANGROUP:15E6		       rep movsb
TRANGROUP:15E8		       lodsb
TRANGROUP:15E9		       stosb
TRANGROUP:15EA		       add     si, 10	       ; (DIR_ENTRY.DIR_TIME-DIR_ENTRY.DIR_ATTR)-1
TRANGROUP:15ED		       movsw
TRANGROUP:15EE		       movsw
TRANGROUP:15EF		       inc     si
TRANGROUP:15F0		       inc     si
TRANGROUP:15F1		       and     al, 10h	       ; ATTR_DIRECTORY
TRANGROUP:15F3		       jnz     short leSetDirSize
TRANGROUP:15F5		       movsw
TRANGROUP:15F6		       movsw
TRANGROUP:15F7		       retn
TRANGROUP:15F8 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:15F8
TRANGROUP:15F8 leSetDirSize:			       ; ...
TRANGROUP:15F8		       xor     ax, ax
TRANGROUP:15FA		       stosw
TRANGROUP:15FB		       stosw
TRANGROUP:15FC		       retn
TRANGROUP:15FC LoadEntry       endp
TRANGROUP:15FC
TRANGROUP:15FD
TRANGROUP:15FD ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:15FD
TRANGROUP:15FD
TRANGROUP:15FD NoOrder	       proc near	       ; ...
TRANGROUP:15FD		       mov     ds:DestBuf, 0
TRANGROUP:1602		       clc
TRANGROUP:1603		       retn
TRANGROUP:1603 NoOrder	       endp
TRANGROUP:1603
TRANGROUP:1604
TRANGROUP:1604 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1604
TRANGROUP:1604
TRANGROUP:1604 OnOffSw	       proc near	       ; ...
TRANGROUP:1604		       mov     cx, di
TRANGROUP:1606		       shr     cx, 1
TRANGROUP:1608		       shr     cx, 1
TRANGROUP:160A		       mov     ax, 1
TRANGROUP:160D		       shl     ax, cl
TRANGROUP:160F		       test    di, 2
TRANGROUP:1613		       jz      short oo1
TRANGROUP:1615		       or      ds:_Bits, ax
TRANGROUP:1619		       jmp     short ooRet
TRANGROUP:161B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:161B
TRANGROUP:161B oo1:				       ; ...
TRANGROUP:161B		       not     ax
TRANGROUP:161D		       and     ds:_Bits, ax
TRANGROUP:1621
TRANGROUP:1621 ooRet:				       ; ...
TRANGROUP:1621		       clc
TRANGROUP:1622		       retn
TRANGROUP:1622 OnOffSw	       endp
TRANGROUP:1622
TRANGROUP:1623
TRANGROUP:1623 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1623
TRANGROUP:1623
TRANGROUP:1623 ParseAttr       proc near	       ; ...
TRANGROUP:1623		       push    si
TRANGROUP:1624		       mov     ds:AttrSpecified, 0
TRANGROUP:1629		       mov     si, [bx+4]      ; [bx+ResultBuffer.ValuePtr]
TRANGROUP:162C
TRANGROUP:162C paLoop:				       ; ...
TRANGROUP:162C		       mov     dx, 1
TRANGROUP:162F		       lodsb
TRANGROUP:1630		       or      al, al
TRANGROUP:1632		       jz      short paOk
TRANGROUP:1634		       cmp     al, '-'
TRANGROUP:1636		       jnz     short pa1
TRANGROUP:1638		       dec     dx
TRANGROUP:1639		       lodsb
TRANGROUP:163A
TRANGROUP:163A pa1:				       ; ...
TRANGROUP:163A		       mov     di, offset AttrLtrs ; "RHSvDA"
TRANGROUP:163D		       mov     cx, 6	       ; NUM_ATTR_LTRS
TRANGROUP:1640		       repne scasb
TRANGROUP:1642		       jnz     short paErr
TRANGROUP:1644		       not     cx
TRANGROUP:1646		       add     cx, 6
TRANGROUP:1649		       mov     al, 1
TRANGROUP:164B		       shl     al, cl
TRANGROUP:164D		       or      ds:AttrSpecified, al
TRANGROUP:1651		       not     al
TRANGROUP:1653		       and     ds:AttrSelect, al
TRANGROUP:1657		       shl     dl, cl
TRANGROUP:1659		       or      ds:AttrSelect, dl
TRANGROUP:165D		       jmp     short paLoop
TRANGROUP:165F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:165F
TRANGROUP:165F paErr:				       ; ...
TRANGROUP:165F		       call    SetupParamError
TRANGROUP:1662		       stc
TRANGROUP:1663		       jmp     short paRet
TRANGROUP:1665 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1665
TRANGROUP:1665 paOk:				       ; ...
TRANGROUP:1665		       clc
TRANGROUP:1666
TRANGROUP:1666 paRet:				       ; ...
TRANGROUP:1666		       pop     si
TRANGROUP:1667		       retn
TRANGROUP:1667 ParseAttr       endp
TRANGROUP:1667
TRANGROUP:1668
TRANGROUP:1668 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1668
TRANGROUP:1668
TRANGROUP:1668 Parse_Line      proc near	       ; ...
TRANGROUP:1668		       mov     di, offset PARSE_DIR
TRANGROUP:166B		       xor     cx, cx
TRANGROUP:166D
TRANGROUP:166D plPars:				       ; ...
TRANGROUP:166D		       call    Parse_With_Msg
TRANGROUP:1670		       cmp     ax, 0FFFFh      ; END_OF_LINE
TRANGROUP:1673		       jz      short plRet
TRANGROUP:1675		       cmp     ax, 0
TRANGROUP:1678		       jnz     short plRet
TRANGROUP:167A		       mov     bx, dx
TRANGROUP:167C		       cmp     byte ptr	[bx], 5	; RESULT_FILESPEC
TRANGROUP:167F		       jz      short plFil
TRANGROUP:1681		       call    ParseSwitch
TRANGROUP:1684		       jb      short plRet
TRANGROUP:1686		       jmp     short plPars
TRANGROUP:1688 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1688
TRANGROUP:1688 plFil:				       ; ...
TRANGROUP:1688		       call    CopyPathname
TRANGROUP:168B		       jmp     short plPars
TRANGROUP:168D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:168D
TRANGROUP:168D plRet:				       ; ...
TRANGROUP:168D		       retn
TRANGROUP:168D Parse_Line      endp
TRANGROUP:168D
TRANGROUP:168E
TRANGROUP:168E ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:168E
TRANGROUP:168E
TRANGROUP:168E ParseOrder      proc near	       ; ...
TRANGROUP:168E		       push    si
TRANGROUP:168F		       push    bx
TRANGROUP:1690		       mov     si, [bx+4]      ; [bx+ResultBuffer.ValuePtr]
TRANGROUP:1693		       mov     bx, offset DestBuf
TRANGROUP:1696		       mov     al, [si]
TRANGROUP:1698		       or      al, al
TRANGROUP:169A		       jnz     short poLtr
TRANGROUP:169C		       mov     byte ptr	[bx], 5	; sort 1st by group
TRANGROUP:169F		       inc     bx
TRANGROUP:16A0		       mov     byte ptr	[bx], 1	; then by name
TRANGROUP:16A3		       inc     bx
TRANGROUP:16A4		       mov     byte ptr	[bx], 2	; then by extension
TRANGROUP:16A7		       inc     bx
TRANGROUP:16A8		       jmp     short poOk
TRANGROUP:16AA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:16AA
TRANGROUP:16AA poLtr:				       ; ...
TRANGROUP:16AA		       xor     dl, dl
TRANGROUP:16AC		       lodsb
TRANGROUP:16AD		       or      al, al
TRANGROUP:16AF		       jz      short poOk
TRANGROUP:16B1		       cmp     al, '-'
TRANGROUP:16B3		       jnz     short po1
TRANGROUP:16B5		       mov     dl, 80h
TRANGROUP:16B7		       lodsb
TRANGROUP:16B8
TRANGROUP:16B8 po1:				       ; ...
TRANGROUP:16B8		       mov     di, offset OrderLtrs ; "NEDSG"
TRANGROUP:16BB		       mov     cx, 5	       ; NUM_ORDER_LTRS
TRANGROUP:16BE		       repne scasb
TRANGROUP:16C0		       jnz     short poErr
TRANGROUP:16C2		       neg     cx
TRANGROUP:16C4		       add     cx, 5	       ; NUM_ORDER_LTRS
TRANGROUP:16C7		       or      cl, dl
TRANGROUP:16C9		       mov     [bx], cl
TRANGROUP:16CB		       inc     bx
TRANGROUP:16CC		       cmp     bx, offset EndDestBuf
TRANGROUP:16D0		       jnb     short poErr
TRANGROUP:16D2		       jmp     short poLtr
TRANGROUP:16D4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:16D4
TRANGROUP:16D4 poErr:				       ; ...
TRANGROUP:16D4		       pop     bx
TRANGROUP:16D5		       call    SetupParamError
TRANGROUP:16D8		       stc
TRANGROUP:16D9		       jmp     short poRet
TRANGROUP:16DB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:16DB
TRANGROUP:16DB poOk:				       ; ...
TRANGROUP:16DB		       mov     byte ptr	[bx], 0
TRANGROUP:16DE		       pop     bx
TRANGROUP:16DF		       clc
TRANGROUP:16E0
TRANGROUP:16E0 poRet:				       ; ...
TRANGROUP:16E0		       pop     si
TRANGROUP:16E1		       retn
TRANGROUP:16E1 ParseOrder      endp
TRANGROUP:16E1
TRANGROUP:16E2
TRANGROUP:16E2 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:16E2
TRANGROUP:16E2
TRANGROUP:16E2 ParseSwitch     proc near	       ; ...
TRANGROUP:16E2		       push    cx
TRANGROUP:16E3		       push    di
TRANGROUP:16E4		       mov     ax, [bx+2]      ; [bx+ResultBuffer.SynPtr]
TRANGROUP:16E7		       mov     di, offset Dir_Sw_Ptrs
TRANGROUP:16EA		       mov     cx, 14	       ; NUM_DIR_SWS
TRANGROUP:16ED		       cld
TRANGROUP:16EE		       repne scasw
TRANGROUP:16F0		       sub     di, offset Dir_Sw_Ptrs_2	; Dir_Sw_Ptrs+2
TRANGROUP:16F4		       call    cs:SwHandler[di]
TRANGROUP:16F9		       pop     di
TRANGROUP:16FA		       pop     cx
TRANGROUP:16FB		       retn
TRANGROUP:16FB ParseSwitch     endp
TRANGROUP:16FB
TRANGROUP:16FB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:16FC SwHandler       dw offset OnOffSw       ; ...
TRANGROUP:16FE		       dw offset OnOffSw
TRANGROUP:1700		       dw offset OnOffSw
TRANGROUP:1702		       dw offset OnOffSw
TRANGROUP:1704		       dw offset OnOffSw
TRANGROUP:1706		       dw offset OnOffSw
TRANGROUP:1708		       dw offset OnOffSw
TRANGROUP:170A		       dw offset OnOffSw
TRANGROUP:170C		       dw offset OnOffSw
TRANGROUP:170E		       dw offset OnOffSw
TRANGROUP:1710		       dw offset NoOrder
TRANGROUP:1712		       dw offset ParseOrder
TRANGROUP:1714		       dw offset DefaultAttr
TRANGROUP:1716		       dw offset ParseAttr
TRANGROUP:1718
TRANGROUP:1718 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1718
TRANGROUP:1718
TRANGROUP:1718 ChangeDir       proc near	       ; ...
TRANGROUP:1718		       mov     di, offset BWDBUF ; DIRBUF
TRANGROUP:171B		       call    GetDriveLtr
TRANGROUP:171E		       stosw
TRANGROUP:171F		       mov     si, dx
TRANGROUP:1721
TRANGROUP:1721 cdLoop:				       ; ...
TRANGROUP:1721		       lodsb
TRANGROUP:1722		       stosb
TRANGROUP:1723		       or      al, al
TRANGROUP:1725		       jnz     short cdLoop
TRANGROUP:1727		       mov     dx, offset BWDBUF ; DIRBUF
TRANGROUP:172A		       mov     ah, 3Bh
TRANGROUP:172C		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:172C					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:172E		       retn
TRANGROUP:172E ChangeDir       endp
TRANGROUP:172E
TRANGROUP:172F
TRANGROUP:172F ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:172F
TRANGROUP:172F
TRANGROUP:172F CmpAscz	       proc near	       ; ...
TRANGROUP:172F		       push    di
TRANGROUP:1730		       mov     di, si
TRANGROUP:1732		       xor     al, al
TRANGROUP:1734		       mov     cx, 0FFFFh
TRANGROUP:1737		       repne scasb
TRANGROUP:1739		       not     cx
TRANGROUP:173B		       pop     di
TRANGROUP:173C		       repe cmpsb
TRANGROUP:173E		       retn
TRANGROUP:173E CmpAscz	       endp
TRANGROUP:173E
TRANGROUP:173F
TRANGROUP:173F ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:173F
TRANGROUP:173F
TRANGROUP:173F CopyPathname    proc near	       ; ...
TRANGROUP:173F		       push    si
TRANGROUP:1740		       lds     si, [bx+4]      ; [bx+ResultBuffer.ValuePtr]
TRANGROUP:1743		       call    Move_To_SrcBuf
TRANGROUP:1746		       pop     si
TRANGROUP:1747		       retn
TRANGROUP:1747 CopyPathname    endp
TRANGROUP:1747
TRANGROUP:1748
TRANGROUP:1748 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1748
TRANGROUP:1748
TRANGROUP:1748 CountFile       proc near	       ; ...
TRANGROUP:1748		       push    es
TRANGROUP:1749		       mov     es, ds:TPA
TRANGROUP:174D		       inc     ds:FileCnt
TRANGROUP:1751		       inc     word ptr	ds:FileCntTotal
TRANGROUP:1755		       jnz     short cntf1
TRANGROUP:1757		       inc     word ptr	ds:FileCntTotal+2
TRANGROUP:175B
TRANGROUP:175B cntf1:				       ; ...
TRANGROUP:175B		       mov     ax, es:[bx+17]  ; EntryStruc.filesize
TRANGROUP:175F		       mov     dx, es:[bx+19]  ; EntryStruc.filesize + 2
TRANGROUP:1763		       add     word ptr	ds:FileSiz, ax
TRANGROUP:1767		       adc     word ptr	ds:FileSiz+2, dx
TRANGROUP:176B		       add     word ptr	ds:FileSizTotal, ax
TRANGROUP:176F		       adc     word ptr	ds:FileSizTotal+2, dx
TRANGROUP:1773		       pop     es
TRANGROUP:1774		       retn
TRANGROUP:1774 CountFile       endp
TRANGROUP:1774
TRANGROUP:1775
TRANGROUP:1775 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1775
TRANGROUP:1775
TRANGROUP:1775 DisplayBare     proc near	       ; ...
TRANGROUP:1775		       mov     cx, ds
TRANGROUP:1777		       mov     ds, ds:TPA
TRANGROUP:177B		       cmp     byte ptr	[bx+1],	'.' ; [bx+EntrStruc.filename]
TRANGROUP:177F		       mov     ds, cx
TRANGROUP:1781		       jz      short dbRet
TRANGROUP:1783		       test    ds:_Bits, 4     ; mask.subd
TRANGROUP:1789		       jz      short dbNameExt
TRANGROUP:178B		       call    build_dir_string
TRANGROUP:178E		       mov     di, offset BWDBUF
TRANGROUP:1791		       test    ds:_Bits, 10h
TRANGROUP:1797		       jz      short dbare1
TRANGROUP:1799		       mov     si, di
TRANGROUP:179B		       call    LowercaseString
TRANGROUP:179E
TRANGROUP:179E dbare1:				       ; ...
TRANGROUP:179E		       xor     al, al
TRANGROUP:17A0		       mov     cx, 0FFFFh
TRANGROUP:17A3		       cld
TRANGROUP:17A4		       repne scasb
TRANGROUP:17A6		       dec     di
TRANGROUP:17A7		       cmp     byte ptr	es:[di-1], '\'
TRANGROUP:17AC		       jz      short dbare2
TRANGROUP:17AE		       mov     ax, '\'
TRANGROUP:17B1		       stosw
TRANGROUP:17B2
TRANGROUP:17B2 dbare2:				       ; ...
TRANGROUP:17B2		       mov     ds:string_ptr_2,	offset BWDBUF
TRANGROUP:17B8		       mov     dx, offset string_buf_ptr
TRANGROUP:17BB		       call    std_printf
TRANGROUP:17BE
TRANGROUP:17BE dbNameExt:			       ; ...
TRANGROUP:17BE		       call    DisplayDotForm
TRANGROUP:17C1		       call    CRLF2
TRANGROUP:17C4		       call    UseLine
TRANGROUP:17C7
TRANGROUP:17C7 dbRet:				       ; ...
TRANGROUP:17C7		       retn
TRANGROUP:17C7 DisplayBare     endp
TRANGROUP:17C7
TRANGROUP:17C8
TRANGROUP:17C8 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:17C8
TRANGROUP:17C8
TRANGROUP:17C8 DisplayDotForm  proc near	       ; ...
TRANGROUP:17C8		       push    ds
TRANGROUP:17C9		       push    es
TRANGROUP:17CA		       mov     ax, cs:TPA
TRANGROUP:17CE		       mov     ds, ax
TRANGROUP:17D0		       assume ds:RESGROUP
TRANGROUP:17D0		       mov     es, ax
TRANGROUP:17D2		       assume es:RESGROUP
TRANGROUP:17D2		       mov     di, bx
TRANGROUP:17D4		       add     di, 8	       ; filename + size filename - 1
TRANGROUP:17D7		       mov     cx, 8	       ; size filename = 8 ; size of EntryStruc.filename
TRANGROUP:17DA		       mov     al, 20h ; ' '
TRANGROUP:17DC		       std
TRANGROUP:17DD		       repe scasb
TRANGROUP:17DF		       inc     cx
TRANGROUP:17E0		       mov     dx, cx
TRANGROUP:17E2		       mov     si, bx
TRANGROUP:17E4		       add     si, 1	       ; add si,EntryStruc.filename
TRANGROUP:17E7
TRANGROUP:17E7 NextNameChar:			       ; ...
TRANGROUP:17E7		       cld
TRANGROUP:17E8		       lodsb
TRANGROUP:17E9		       test    ss:_Bits, 10h   ; mask.lcase
TRANGROUP:17F0		       jz      short ddf1
TRANGROUP:17F2		       call    LowerCase
TRANGROUP:17F5
TRANGROUP:17F5 ddf1:				       ; ...
TRANGROUP:17F5		       call    PRINT_CHAR
TRANGROUP:17F8		       loop    NextNameChar
TRANGROUP:17FA		       mov     di, bx
TRANGROUP:17FC		       add     di, 11	       ; fileext + size	fileext	- 1
TRANGROUP:17FF		       mov     cx, 3	       ; size fileext
TRANGROUP:1802		       mov     al, 20h ; ' '
TRANGROUP:1804		       std
TRANGROUP:1805		       repe scasb
TRANGROUP:1807		       jz      short ddDone
TRANGROUP:1809		       inc     cx
TRANGROUP:180A		       add     dx, cx
TRANGROUP:180C		       inc     dx
TRANGROUP:180D		       mov     al, '.'
TRANGROUP:180F		       call    PRINT_CHAR
TRANGROUP:1812		       mov     si, bx
TRANGROUP:1814		       add     si, 9	       ; EntryStruc.fileext
TRANGROUP:1817
TRANGROUP:1817 NextExtChar:			       ; ...
TRANGROUP:1817		       cld
TRANGROUP:1818		       lodsb
TRANGROUP:1819		       test    cs:_Bits, 10h
TRANGROUP:1820		       jz      short ddf2
TRANGROUP:1822		       call    LowerCase
TRANGROUP:1825
TRANGROUP:1825 ddf2:				       ; ...
TRANGROUP:1825		       call    PRINT_CHAR
TRANGROUP:1828		       loop    NextExtChar
TRANGROUP:182A
TRANGROUP:182A ddDone:				       ; ...
TRANGROUP:182A		       pop     es
TRANGROUP:182B		       assume es:nothing
TRANGROUP:182B		       pop     ds
TRANGROUP:182C		       assume ds:nothing
TRANGROUP:182C		       cld
TRANGROUP:182D		       retn
TRANGROUP:182D DisplayDotForm  endp
TRANGROUP:182D
TRANGROUP:182E
TRANGROUP:182E ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:182E
TRANGROUP:182E
TRANGROUP:182E DisplayFile     proc near	       ; ...
TRANGROUP:182E		       test    ds:_Bits, 8     ; mask.bare
TRANGROUP:1834		       jz      short dfNorm
TRANGROUP:1836		       call    DisplayBare
TRANGROUP:1839		       jmp     short dfRet
TRANGROUP:183B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:183B
TRANGROUP:183B dfNorm:				       ; ...
TRANGROUP:183B		       call    DisplayNext
TRANGROUP:183E		       test    ds:_Bits, 1     ; mask.wide
TRANGROUP:1844		       jz      short dfFul
TRANGROUP:1846		       call    DisplayWide
TRANGROUP:1849		       jmp     short dfCnt
TRANGROUP:184B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:184B
TRANGROUP:184B dfFul:				       ; ...
TRANGROUP:184B		       call    DisplayName
TRANGROUP:184E		       call    DisplayTheRest
TRANGROUP:1851
TRANGROUP:1851 dfCnt:				       ; ...
TRANGROUP:1851		       call    CountFile
TRANGROUP:1854
TRANGROUP:1854 dfRet:				       ; ...
TRANGROUP:1854		       retn
TRANGROUP:1854 DisplayFile     endp
TRANGROUP:1854
TRANGROUP:1855
TRANGROUP:1855 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1855
TRANGROUP:1855
TRANGROUP:1855 DisplayHeader   proc near	       ; ...
TRANGROUP:1855		       test    ds:_Bits, 8     ; mask.bare
TRANGROUP:185B		       jnz     short dhRet
TRANGROUP:185D		       test    ds:_Bits, 4     ; mask.subd
TRANGROUP:1863		       jz      short dhNorm
TRANGROUP:1865		       call    CRLF2
TRANGROUP:1868		       call    UseLine
TRANGROUP:186B		       jmp     short dhCom
TRANGROUP:186D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:186D
TRANGROUP:186D dhNorm:				       ; ...
TRANGROUP:186D		       mov     al, 20h ; ' '
TRANGROUP:186F		       call    PRINT_CHAR
TRANGROUP:1872
TRANGROUP:1872 dhCom:				       ; ...
TRANGROUP:1872		       call    build_dir_string
TRANGROUP:1875		       mov     dx, offset dirhead_ptr
TRANGROUP:1878		       call    std_printf
TRANGROUP:187B		       call    UseLine
TRANGROUP:187E		       call    CRLF2
TRANGROUP:1881		       call    UseLine
TRANGROUP:1884
TRANGROUP:1884 dhRet:				       ; ...
TRANGROUP:1884		       retn
TRANGROUP:1884 DisplayHeader   endp
TRANGROUP:1884
TRANGROUP:1885
TRANGROUP:1885 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1885
TRANGROUP:1885
TRANGROUP:1885 DisplayName     proc near	       ; ...
TRANGROUP:1885		       push    ds
TRANGROUP:1886		       mov     ds, ds:TPA
TRANGROUP:188A		       mov     si, bx
TRANGROUP:188C		       add     si, 1	       ; EntryStruc.filename
TRANGROUP:188F		       mov     di, offset CHARBUF
TRANGROUP:1892		       mov     cx, 8
TRANGROUP:1895		       cld
TRANGROUP:1896		       rep movsb
TRANGROUP:1898		       mov     al, 20h ; ' '
TRANGROUP:189A		       stosb
TRANGROUP:189B		       mov     cx, 3
TRANGROUP:189E		       rep movsb
TRANGROUP:18A0		       xor     al, al
TRANGROUP:18A2		       stosb
TRANGROUP:18A3		       pop     ds
TRANGROUP:18A4		       test    ds:_Bits, 10h   ; mask.lcase
TRANGROUP:18AA		       jz      short dn1
TRANGROUP:18AC		       mov     si, offset CHARBUF
TRANGROUP:18AF		       call    LowercaseString
TRANGROUP:18B2
TRANGROUP:18B2 dn1:				       ; ...
TRANGROUP:18B2		       mov     ds:string_ptr_2,	offset CHARBUF
TRANGROUP:18B8		       mov     dx, offset string_buf_ptr
TRANGROUP:18BB		       call    std_printf
TRANGROUP:18BE		       retn
TRANGROUP:18BE DisplayName     endp
TRANGROUP:18BE
TRANGROUP:18BF
TRANGROUP:18BF ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:18BF
TRANGROUP:18BF
TRANGROUP:18BF DisplayNext     proc near	       ; ...
TRANGROUP:18BF		       cmp     ds:FileCnt, 0
TRANGROUP:18C4		       jz      short dn1st
TRANGROUP:18C6		       cmp     ds:LeftOnLine, 0
TRANGROUP:18CB		       jle     short dnEol
TRANGROUP:18CD		       mov     dx, offset tab_ptr
TRANGROUP:18D0		       call    std_printf
TRANGROUP:18D3		       jmp     short dnDone
TRANGROUP:18D5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:18D5
TRANGROUP:18D5 dnEol:				       ; ...
TRANGROUP:18D5		       call    CRLF2
TRANGROUP:18D8		       call    UseLine
TRANGROUP:18DB
TRANGROUP:18DB dn1st:				       ; ...
TRANGROUP:18DB		       mov     al, ds:PerLine
TRANGROUP:18DE		       mov     ds:LeftOnLine, al
TRANGROUP:18E1
TRANGROUP:18E1 dnDone:				       ; ...
TRANGROUP:18E1		       dec     ds:LeftOnLine
TRANGROUP:18E5		       retn
TRANGROUP:18E5 DisplayNext     endp
TRANGROUP:18E5
TRANGROUP:18E6
TRANGROUP:18E6 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:18E6
TRANGROUP:18E6
TRANGROUP:18E6 DisplayTheRest  proc near	       ; ...
TRANGROUP:18E6		       push    es
TRANGROUP:18E7		       mov     es, ds:TPA
TRANGROUP:18EB		       mov     bp, bx
TRANGROUP:18ED		       test    byte ptr	es:[bp+12], 10h	; [es:bp+EntryStruc.fileattr],ATTR_DIRECTORY
TRANGROUP:18F2		       jz      short drNonDir
TRANGROUP:18F4		       mov     dx, offset dmes_ptr
TRANGROUP:18F7		       call    std_printf
TRANGROUP:18FA		       jmp     short drCom
TRANGROUP:18FC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:18FC
TRANGROUP:18FC drNonDir:			       ; ...
TRANGROUP:18FC		       mov     dx, es:[bp+17]  ; [es:bp+EntryStruc.filesize]
TRANGROUP:1900		       mov     ds:File_Size_Low, dx
TRANGROUP:1904		       mov     dx, es:[bp+19]  ; [es:bp+EntryStruc.filesize+2]
TRANGROUP:1908		       mov     ds:File_Size_High, dx
TRANGROUP:190C		       mov     dx, offset disp_file_size_ptr
TRANGROUP:190F		       call    std_printf
TRANGROUP:1912
TRANGROUP:1912 drCom:				       ; ...
TRANGROUP:1912		       mov     ax, es:[bp+15]  ; [es:bp+EntryStruc.filedate]
TRANGROUP:1916		       or      ax, ax
TRANGROUP:1918		       jz      short drDone
TRANGROUP:191A		       mov     bx, ax
TRANGROUP:191C		       and     ax, 1Fh
TRANGROUP:191F		       mov     dl, al
TRANGROUP:1921		       mov     ax, bx
TRANGROUP:1923		       mov     cl, 5
TRANGROUP:1925		       shr     ax, cl
TRANGROUP:1927		       and     al, 0Fh
TRANGROUP:1929		       mov     dh, al
TRANGROUP:192B		       mov     cl, bh
TRANGROUP:192D		       shr     cl, 1
TRANGROUP:192F		       xor     ch, ch
TRANGROUP:1931		       add     cx, 80
TRANGROUP:1934		       cmp     cl, 100
TRANGROUP:1937		       jb      short dr_1
TRANGROUP:1939		       sub     cl, 100
TRANGROUP:193C
TRANGROUP:193C dr_1:				       ; ...
TRANGROUP:193C		       xchg    dh, dl
TRANGROUP:193E		       mov     ds:DirDat_Yr, cx
TRANGROUP:1942		       mov     ds:DirDat_Mo_Day, dx
TRANGROUP:1946		       mov     cx, es:[bp+13]
TRANGROUP:194A		       jcxz    short drPrint
TRANGROUP:194C		       shr     cx, 1
TRANGROUP:194E		       shr     cx, 1
TRANGROUP:1950		       shr     cx, 1
TRANGROUP:1952		       shr     cl, 1
TRANGROUP:1954		       shr     cl, 1
TRANGROUP:1956		       xchg    ch, cl
TRANGROUP:1958		       mov     ds:DirTim_Hr_Min, cx
TRANGROUP:195C
TRANGROUP:195C drPrint:				       ; ...
TRANGROUP:195C		       mov     dx, offset dirdattim_ptr
TRANGROUP:195F		       call    std_printf
TRANGROUP:1962
TRANGROUP:1962 drDone:				       ; ...
TRANGROUP:1962		       pop     es
TRANGROUP:1963		       mov     bx, bp
TRANGROUP:1965		       retn
TRANGROUP:1965 DisplayTheRest  endp
TRANGROUP:1965
TRANGROUP:1966
TRANGROUP:1966 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1966
TRANGROUP:1966
TRANGROUP:1966 DisplayTrailer  proc near	       ; ...
TRANGROUP:1966		       test    ds:_Bits, 8     ; mask.bare
TRANGROUP:196C		       jnz     short dtrRet
TRANGROUP:196E		       call    CRLF2
TRANGROUP:1971		       call    UseLine
TRANGROUP:1974		       mov     ax, ds:FileCnt
TRANGROUP:1977
TRANGROUP:1977 DisplayCntSiz:			       ; ...
TRANGROUP:1977		       mov     ds:Dir_Num, ax
TRANGROUP:197A		       mov     dx, offset dirmes_ptr
TRANGROUP:197D		       call    std_printf
TRANGROUP:1980		       mov     dx, offset bytes_ptr
TRANGROUP:1983		       call    std_printf
TRANGROUP:1986		       call    UseLine
TRANGROUP:1989
TRANGROUP:1989 dtrRet:				       ; ...
TRANGROUP:1989		       retn
TRANGROUP:1989 DisplayTrailer  endp
TRANGROUP:1989
TRANGROUP:198A
TRANGROUP:198A ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:198A
TRANGROUP:198A
TRANGROUP:198A DisplayWide     proc near	       ; ...
TRANGROUP:198A		       push    ds
TRANGROUP:198B		       mov     ds, ds:TPA
TRANGROUP:198F		       test    byte ptr	[bx+12], 10h ; [bx+EntryStruc.fileattr],ATTR_DIRECTORY
TRANGROUP:1993		       jz      short dw1
TRANGROUP:1995		       mov     al, '['
TRANGROUP:1997		       call    PRINT_CHAR
TRANGROUP:199A
TRANGROUP:199A dw1:				       ; ...
TRANGROUP:199A		       call    DisplayDotForm
TRANGROUP:199D		       test    byte ptr	[bx+12], 10h
TRANGROUP:19A1		       jz      short dw2
TRANGROUP:19A3		       mov     al, ']'
TRANGROUP:19A5		       call    PRINT_CHAR
TRANGROUP:19A8
TRANGROUP:19A8 dw2:				       ; ...
TRANGROUP:19A8		       mov     cx, 12	       ; size filename + size fileext +	1 ; (8+3+1)
TRANGROUP:19AB		       sub     cx, dx
TRANGROUP:19AD		       jcxz    short dwDone
TRANGROUP:19AF		       mov     al, 20h ; ' '
TRANGROUP:19B1
TRANGROUP:19B1 dw3:				       ; ...
TRANGROUP:19B1		       call    PRINT_CHAR
TRANGROUP:19B4		       loop    dw3
TRANGROUP:19B6
TRANGROUP:19B6 dwDone:				       ; ...
TRANGROUP:19B6		       pop     ds
TRANGROUP:19B7		       retn
TRANGROUP:19B7 DisplayWide     endp
TRANGROUP:19B7
TRANGROUP:19B8
TRANGROUP:19B8 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:19B8
TRANGROUP:19B8
TRANGROUP:19B8 EndPage	       proc near	       ; ...
TRANGROUP:19B8		       test    ds:_Bits, 2     ; mask.pagd
TRANGROUP:19BE		       jz      short epNew
TRANGROUP:19C0		       push    bx
TRANGROUP:19C1		       push    cx
TRANGROUP:19C2		       call    PAUSE
TRANGROUP:19C5		       call    build_dir_string
TRANGROUP:19C8		       mov     dx, offset dircont_ptr
TRANGROUP:19CB		       call    Printf_Crlf
TRANGROUP:19CE		       pop     cx
TRANGROUP:19CF		       pop     bx
TRANGROUP:19D0
TRANGROUP:19D0 epNew:				       ; ...
TRANGROUP:19D0		       mov     ax, ds:LinPerPag
TRANGROUP:19D3		       dec     ax
TRANGROUP:19D4		       mov     ds:LeftOnPage, ax
TRANGROUP:19D7		       retn
TRANGROUP:19D7 EndPage	       endp
TRANGROUP:19D7
TRANGROUP:19D8
TRANGROUP:19D8 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:19D8
TRANGROUP:19D8
TRANGROUP:19D8 GetDriveLtr     proc near	       ; ...
TRANGROUP:19D8		       mov     al, ds:5Ch      ; [FCB]
TRANGROUP:19DB		       or      al, al
TRANGROUP:19DD		       jnz     short gdl1
TRANGROUP:19DF		       mov     al, ds:CURDRV
TRANGROUP:19E2		       inc     al
TRANGROUP:19E4
TRANGROUP:19E4 gdl1:				       ; ...
TRANGROUP:19E4		       add     al, 40h	       ; 'A'-1
TRANGROUP:19E6		       mov     ah, ':'
TRANGROUP:19E8		       retn
TRANGROUP:19E8 GetDriveLtr     endp
TRANGROUP:19E8
TRANGROUP:19E9
TRANGROUP:19E9 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:19E9
TRANGROUP:19E9
TRANGROUP:19E9 SetupParamError proc near	       ; ...
TRANGROUP:19E9		       mov     ax, 9
TRANGROUP:19EC		       mov     ds:msg_disp_class, 2 ; parse_msg_class
TRANGROUP:19F1		       mov     ds:extend_buf_ptr, ax
TRANGROUP:19F4		       mov     si, [bx+4]      ; [bx+ResultBuffer.ValuePtr]
TRANGROUP:19F7		       mov     ds:string_ptr_2,	si
TRANGROUP:19FB		       mov     ds:extend_buf_sub, 1
TRANGROUP:1A00		       mov     dx, offset extend_buf_ptr
TRANGROUP:1A03		       retn
TRANGROUP:1A03 SetupParamError endp
TRANGROUP:1A03
TRANGROUP:1A04
TRANGROUP:1A04 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1A04
TRANGROUP:1A04
TRANGROUP:1A04 UseLine	       proc near	       ; ...
TRANGROUP:1A04		       dec     ds:LeftOnPage
TRANGROUP:1A08		       cmp     ds:LeftOnPage, 2
TRANGROUP:1A0D		       ja      short ulRet
TRANGROUP:1A0F		       call    EndPage
TRANGROUP:1A12
TRANGROUP:1A12 ulRet:				       ; ...
TRANGROUP:1A12		       retn
TRANGROUP:1A12 UseLine	       endp
TRANGROUP:1A12
TRANGROUP:1A13
TRANGROUP:1A13 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1A13
TRANGROUP:1A13
TRANGROUP:1A13 ZeroTotals      proc near	       ; ...
TRANGROUP:1A13		       mov     di, offset FileCntTotal
TRANGROUP:1A16		       mov     cx, 8	       ; size FileCntTotal+size	FileSizTotal
TRANGROUP:1A19		       xor     al, al
TRANGROUP:1A1B		       rep stosb
TRANGROUP:1A1D		       retn
TRANGROUP:1A1D ZeroTotals      endp
TRANGROUP:1A1D
TRANGROUP:1A1E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1A1E
TRANGROUP:1A1E CtrlCHandler:			       ; ...
TRANGROUP:1A1E		       push    ds
TRANGROUP:1A1F		       push    cs
TRANGROUP:1A20		       pop     ds
TRANGROUP:1A21		       assume ds:TRANGROUP
TRANGROUP:1A21		       push    ax
TRANGROUP:1A22		       push    dx
TRANGROUP:1A23		       call    RestUDir
TRANGROUP:1A26		       pop     dx
TRANGROUP:1A27		       pop     ax
TRANGROUP:1A28		       pop     ds
TRANGROUP:1A29		       assume ds:nothing
TRANGROUP:1A29		       jmp     cs:OldCtrlCHandler
TRANGROUP:1A2E
TRANGROUP:1A2E ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1A2E
TRANGROUP:1A2E
TRANGROUP:1A2E LowerCase       proc near	       ; ...
TRANGROUP:1A2E		       cmp     al, 'A'
TRANGROUP:1A30		       jb      short lcRet
TRANGROUP:1A32		       cmp     al, 'Z'
TRANGROUP:1A34		       ja      short lcRet
TRANGROUP:1A36		       or      al, 20h
TRANGROUP:1A38
TRANGROUP:1A38 lcRet:				       ; ...
TRANGROUP:1A38		       retn
TRANGROUP:1A38 LowerCase       endp
TRANGROUP:1A38
TRANGROUP:1A39
TRANGROUP:1A39 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1A39
TRANGROUP:1A39
TRANGROUP:1A39 LowercaseString proc near	       ; ...
TRANGROUP:1A39		       push    di
TRANGROUP:1A3A		       mov     di, si
TRANGROUP:1A3C		       cld
TRANGROUP:1A3D
TRANGROUP:1A3D NextChar:			       ; ...
TRANGROUP:1A3D		       lodsb
TRANGROUP:1A3E		       or      al, al
TRANGROUP:1A40		       jz      short EndOfString
TRANGROUP:1A42		       call    LowerCase
TRANGROUP:1A45		       stosb
TRANGROUP:1A46		       jmp     short NextChar
TRANGROUP:1A48 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1A48
TRANGROUP:1A48 EndOfString:			       ; ...
TRANGROUP:1A48		       pop     di
TRANGROUP:1A49		       retn
TRANGROUP:1A49 LowercaseString endp
TRANGROUP:1A49
TRANGROUP:1A4A
TRANGROUP:1A4A ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1A4A
TRANGROUP:1A4A
TRANGROUP:1A4A PAUSE	       proc near	       ; ...
TRANGROUP:1A4A		       mov     dx, offset PAUSEMES_PTR
TRANGROUP:1A4D		       call    std_printf
TRANGROUP:1A50		       call    GETKEYSTROKE
TRANGROUP:1A53		       call    CRLF2
TRANGROUP:1A56		       retn
TRANGROUP:1A56 PAUSE	       endp
TRANGROUP:1A56
TRANGROUP:1A57 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1A57
TRANGROUP:1A57 ERASE:				       ; ...
TRANGROUP:1A57		       mov     si, 81h
TRANGROUP:1A5A		       mov     ds:COMSW, 0
TRANGROUP:1A60		       mov     di, offset PARSE_ERASE
TRANGROUP:1A63		       xor     cx, cx
TRANGROUP:1A65
TRANGROUP:1A65 erase_scan:			       ; ...
TRANGROUP:1A65		       xor     dx, dx
TRANGROUP:1A67		       call    Parse_With_Msg
TRANGROUP:1A6A		       cmp     ax, 0FFFFh      ; -1 ; END_OF_LINE
TRANGROUP:1A6D		       jz      short good_line
TRANGROUP:1A6F		       cmp     ax, 0	       ; RESULT_NO_ERROR
TRANGROUP:1A72		       jnz     short errj2
TRANGROUP:1A74		       cmp     ds:PARSE1_SYN, offset SLASH_P_SYN ; "/P"
TRANGROUP:1A7A		       jz      short set_erase_prompt
TRANGROUP:1A7C		       push    si
TRANGROUP:1A7D		       lds     si, ds:PARSE1_ADDR
TRANGROUP:1A81		       cmp     byte ptr	[si+1],	':' ; colon_char
TRANGROUP:1A85		       jnz     short erase_drive_ok
TRANGROUP:1A87		       cmp     byte ptr	[si+2],	0 ; end_of_line_out
TRANGROUP:1A8B		       jnz     short erase_drive_ok
TRANGROUP:1A8D		       mov     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:1A90		       jmp     short extend_setup
TRANGROUP:1A92 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1A92
TRANGROUP:1A92 erase_drive_ok:			       ; ...
TRANGROUP:1A92		       call    Move_To_SrcBuf
TRANGROUP:1A95		       pop     si
TRANGROUP:1A96		       jmp     short erase_scan
TRANGROUP:1A98 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1A98
TRANGROUP:1A98 set_erase_prompt:		       ; ...
TRANGROUP:1A98		       cmp     ds:COMSW, 0
TRANGROUP:1A9D		       jz      short ok_to_set_erase_prompt
TRANGROUP:1A9F		       mov     ax, 1	       ; MoreArgs_Ptr
TRANGROUP:1AA2		       call    setup_parse_error_msg
TRANGROUP:1AA5		       jmp     short errj2
TRANGROUP:1AA7 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1AA7
TRANGROUP:1AA7 ok_to_set_erase_prompt:		       ; ...
TRANGROUP:1AA7		       inc     ds:COMSW
TRANGROUP:1AAB		       jmp     short erase_scan
TRANGROUP:1AAD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1AAD
TRANGROUP:1AAD good_line:			       ; ...
TRANGROUP:1AAD		       call    PathCrunch
TRANGROUP:1AB0		       jnb     short checkdr
TRANGROUP:1AB2		       mov     ax, ds:Msg_Numb
TRANGROUP:1AB5		       cmp     ax, 0
TRANGROUP:1AB8		       jnz     short extend_setup
TRANGROUP:1ABA		       cmp     ds:DestIsDir, 0
TRANGROUP:1ABF		       jnz     short badpath_err
TRANGROUP:1AC1
TRANGROUP:1AC1 checkdr:				       ; ...
TRANGROUP:1AC1		       cmp     ds:COMSW, 0
TRANGROUP:1AC6		       jz      short notest2j
TRANGROUP:1AC8		       jmp     slashp_erase
TRANGROUP:1ACB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1ACB
TRANGROUP:1ACB notest2j:			       ; ...
TRANGROUP:1ACB		       jmp     notest2
TRANGROUP:1ACE ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1ACE ; START OF FUNCTION CHUNK FOR BUILDPATH
TRANGROUP:1ACE
TRANGROUP:1ACE badpath_err:			       ; ...
TRANGROUP:1ACE		       mov     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:1AD1
TRANGROUP:1AD1 extend_setup:			       ; ...
TRANGROUP:1AD1		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:1AD6		       mov     dx, offset extend_buf_ptr
TRANGROUP:1AD9		       mov     ds:extend_buf_ptr, ax
TRANGROUP:1ADC
TRANGROUP:1ADC errj2:				       ; ...
TRANGROUP:1ADC		       jmp     cerror
TRANGROUP:1ADC ; END OF	FUNCTION CHUNK FOR BUILDPATH
TRANGROUP:1ADF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1ADF
TRANGROUP:1ADF CRENAME:				       ; ...
TRANGROUP:1ADF		       mov     si, 81h
TRANGROUP:1AE2		       mov     di, offset PARSE_RENAME
TRANGROUP:1AE5		       xor     cx, cx
TRANGROUP:1AE7		       xor     dx, dx
TRANGROUP:1AE9		       call    Parse_With_Msg
TRANGROUP:1AEC		       cmp     ax, 0	       ; result_no_error
TRANGROUP:1AEF		       jnz     short crename_parse_error
TRANGROUP:1AF1		       push    si
TRANGROUP:1AF2		       lds     si, ds:PARSE1_ADDR
TRANGROUP:1AF6		       call    Move_To_SrcBuf
TRANGROUP:1AF9		       pop     si
TRANGROUP:1AFA		       xor     dx, dx
TRANGROUP:1AFC		       call    Parse_With_Msg
TRANGROUP:1AFF		       cmp     ax, 0	       ; result_no_error
TRANGROUP:1B02		       jnz     short crename_parse_error
TRANGROUP:1B04		       push    si
TRANGROUP:1B05		       lds     si, ds:PARSE1_ADDR
TRANGROUP:1B09		       mov     al, ':'
TRANGROUP:1B0B		       cmp     [si+1], al
TRANGROUP:1B0E		       jnz     short ren_no_drive
TRANGROUP:1B10		       mov     ds:msg_disp_class, 2 ; parse_msg_class
TRANGROUP:1B15		       mov     dx, offset extend_buf_ptr
TRANGROUP:1B18		       mov     ds:extend_buf_ptr, 0Ah ;	BadParm_ptr
TRANGROUP:1B1E		       pop     si
TRANGROUP:1B1F
TRANGROUP:1B1F crename_parse_error:		       ; ...
TRANGROUP:1B1F		       jmp     short errj
TRANGROUP:1B21 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1B21
TRANGROUP:1B21 ren_no_drive:			       ; ...
TRANGROUP:1B21		       mov     di, 6Ch	       ; FCB+10h
TRANGROUP:1B24		       mov     ax, 2901h
TRANGROUP:1B27		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:1B27					       ; DS:SI -> string to parse
TRANGROUP:1B27					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:1B27					       ; AL = bit mask to control parsing
TRANGROUP:1B29		       lodsb
TRANGROUP:1B2A		       mov     ds:One_Char_Val,	al
TRANGROUP:1B2D		       pop     si
TRANGROUP:1B2E		       mov     di, offset PARSE_RENAME
TRANGROUP:1B31		       call    parse_check_eol
TRANGROUP:1B34		       jnz     short crename_parse_error
TRANGROUP:1B36		       call    PathCrunch
TRANGROUP:1B39		       mov     dx, offset BADCPMES_PTR
TRANGROUP:1B3C		       jz      short errj2
TRANGROUP:1B3E		       jnb     short notest3
TRANGROUP:1B40		       mov     ax, ds:Msg_Numb
TRANGROUP:1B43		       cmp     ax, 0
TRANGROUP:1B46		       jnz     short extend_setup
TRANGROUP:1B48		       cmp     ds:DestIsDir, 0
TRANGROUP:1B4D		       jz      short notest3
TRANGROUP:1B4F		       jmp     badpath_err
TRANGROUP:1B52 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1B52
TRANGROUP:1B52 notest3:				       ; ...
TRANGROUP:1B52		       mov     al, ds:One_Char_Val
TRANGROUP:1B55		       mov     dx, offset INORNOT_PTR
TRANGROUP:1B58		       call    pathchrcmp
TRANGROUP:1B5B		       jz      short errj
TRANGROUP:1B5D		       mov     ah, 17h
TRANGROUP:1B5F		       mov     dx, 5Ch	       ; FCB
TRANGROUP:1B62		       int     21h	       ; DOS - RENAME FILE via FCB
TRANGROUP:1B62					       ; DS:DX -> FCB
TRANGROUP:1B62					       ; FCB contains new name starting	at byte	17h.
TRANGROUP:1B64		       cmp     al, 0FFh
TRANGROUP:1B66		       jnz     short renameok
TRANGROUP:1B68		       call    get_ext_error_number
TRANGROUP:1B6B		       push    ax
TRANGROUP:1B6C		       mov     al, 0FFh
TRANGROUP:1B6E
TRANGROUP:1B6E renameok:			       ; ...
TRANGROUP:1B6E		       push    ax
TRANGROUP:1B6F		       call    RestUDir
TRANGROUP:1B72		       pop     ax
TRANGROUP:1B73		       inc     al
TRANGROUP:1B75		       jz      short rn1
TRANGROUP:1B77		       retn
TRANGROUP:1B78 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1B78
TRANGROUP:1B78 rn1:				       ; ...
TRANGROUP:1B78		       pop     ax
TRANGROUP:1B79		       cmp     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:1B7C		       jz      short use_renerr
TRANGROUP:1B7E		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:1B81		       jz      short use_renerr
TRANGROUP:1B83		       jmp     extend_setup
TRANGROUP:1B86 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1B86
TRANGROUP:1B86 use_renerr:			       ; ...
TRANGROUP:1B86		       mov     dx, offset RENERR_PTR
TRANGROUP:1B89
TRANGROUP:1B89 errj:				       ; ...
TRANGROUP:1B89		       jmp     cerror
TRANGROUP:1B8C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1B8C		       retn
TRANGROUP:1B8D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1B8D
TRANGROUP:1B8D TYPEFIL:				       ; ...
TRANGROUP:1B8D		       mov     si, 81h
TRANGROUP:1B90		       mov     di, offset PARSE_MRDIR
TRANGROUP:1B93		       xor     cx, cx
TRANGROUP:1B95		       xor     dx, dx
TRANGROUP:1B97		       call    Parse_With_Msg
TRANGROUP:1B9A		       cmp     ax, 0
TRANGROUP:1B9D		       jnz     short typefil_parse_error
TRANGROUP:1B9F		       push    si
TRANGROUP:1BA0		       lds     si, ds:PARSE1_ADDR
TRANGROUP:1BA4		       call    Move_To_SrcBuf
TRANGROUP:1BA7		       pop     si
TRANGROUP:1BA8		       mov     di, offset PARSE_MRDIR
TRANGROUP:1BAB		       call    parse_check_eol
TRANGROUP:1BAE		       jz      short gottarg
TRANGROUP:1BB0
TRANGROUP:1BB0 typefil_parse_error:		       ; ...
TRANGROUP:1BB0		       jmp     cerror
TRANGROUP:1BB3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1BB3
TRANGROUP:1BB3 gottarg:				       ; ...
TRANGROUP:1BB3		       call    SETPATH
TRANGROUP:1BB6		       test    ds:DestInfo, 2  ; 00000010b
TRANGROUP:1BBB		       jz      short nowilds
TRANGROUP:1BBD		       mov     dx, offset INORNOT_PTR
TRANGROUP:1BC0		       jmp     cerror
TRANGROUP:1BC3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1BC3
TRANGROUP:1BC3 nowilds:				       ; ...
TRANGROUP:1BC3		       mov     ax, 6C00h
TRANGROUP:1BC6		       mov     bx, 0
TRANGROUP:1BC9		       xor     cx, cx
TRANGROUP:1BCB		       mov     dx, 101h
TRANGROUP:1BCE		       mov     si, offset SrcBuf
TRANGROUP:1BD1		       int     21h	       ; DOS - 4.0 - EXTENDED OPEN/CREATE
TRANGROUP:1BD1					       ; BL = open mode	as in AL for normal open (INT 21h/AH=3Dh)
TRANGROUP:1BD1					       ; BH = flags, CX	= create attribute, DL = action	if file	exists/does not	exists
TRANGROUP:1BD1					       ; DH = 00h (reserved), DS:SI -> ASCIZ file name
TRANGROUP:1BD3		       jnb     short typecont
TRANGROUP:1BD5
TRANGROUP:1BD5 typerr:				       ; ...
TRANGROUP:1BD5		       push    cs
TRANGROUP:1BD6		       pop     ds
TRANGROUP:1BD7		       assume ds:TRANGROUP
TRANGROUP:1BD7		       call    Set_Ext_Error_Msg
TRANGROUP:1BDA		       mov     string_ptr_2, offset SrcBuf
TRANGROUP:1BE0		       mov     extend_buf_sub, 1 ; one_subst
TRANGROUP:1BE5		       jmp     cerror
TRANGROUP:1BE8 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1BE8
TRANGROUP:1BE8 typecont:			       ; ...
TRANGROUP:1BE8		       mov     bx, ax
TRANGROUP:1BEA		       mov     ax, 4400h
TRANGROUP:1BED		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:1BED					       ; BX = file or device handle
TRANGROUP:1BEF		       test    dl, 80h
TRANGROUP:1BF2		       jz      short not_device
TRANGROUP:1BF4		       mov     TypeFilSiz+2, 0FFFFh ; -1
TRANGROUP:1BFA		       jmp     short dotype
TRANGROUP:1BFC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1BFC
TRANGROUP:1BFC not_device:			       ; ...
TRANGROUP:1BFC		       mov     ax, 4202h
TRANGROUP:1BFF		       xor     dx, dx
TRANGROUP:1C01		       mov     cx, dx
TRANGROUP:1C03		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:1C03					       ; AL = method: offset from end of file
TRANGROUP:1C05		       mov     TypeFilSiz, ax
TRANGROUP:1C08		       mov     TypeFilSiz+2, dx
TRANGROUP:1C0C		       mov     ax, 4200h
TRANGROUP:1C0F		       xor     dx, dx
TRANGROUP:1C11		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:1C11					       ; AL = method: offset from beginning of file
TRANGROUP:1C13
TRANGROUP:1C13 dotype:				       ; ...
TRANGROUP:1C13		       mov     zflag, 0
TRANGROUP:1C18		       mov     ds, TPA
TRANGROUP:1C1C		       assume ds:nothing
TRANGROUP:1C1C		       xor     dx, dx
TRANGROUP:1C1E
TRANGROUP:1C1E typelp:				       ; ...
TRANGROUP:1C1E		       cmp     cs:zflag, 0
TRANGROUP:1C24		       jz      short tf1
TRANGROUP:1C26		       retn
TRANGROUP:1C27 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1C27
TRANGROUP:1C27 tf1:				       ; ...
TRANGROUP:1C27		       mov     cx, cs:BYTCNT
TRANGROUP:1C2C		       cmp     cs:TypeFilSiz+2,	0FFFFh ; -1
TRANGROUP:1C32		       jz      short typ_read
TRANGROUP:1C34		       cmp     cs:TypeFilSiz+2,	0
TRANGROUP:1C3A		       jz      short lt64k
TRANGROUP:1C3C		       sub     cs:TypeFilSiz, cx
TRANGROUP:1C41		       sbb     cs:TypeFilSiz+2,	0
TRANGROUP:1C47		       jmp     short typ_read
TRANGROUP:1C49 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1C49
TRANGROUP:1C49 lt64k:				       ; ...
TRANGROUP:1C49		       cmp     cx, cs:TypeFilSiz
TRANGROUP:1C4E		       jbe     short gtbuf
TRANGROUP:1C50		       mov     cx, cs:TypeFilSiz
TRANGROUP:1C55		       jcxz    short typelp_ret
TRANGROUP:1C57		       mov     cs:TypeFilSiz, 0
TRANGROUP:1C5E		       jmp     short typ_read
TRANGROUP:1C60 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1C60
TRANGROUP:1C60 gtbuf:				       ; ...
TRANGROUP:1C60		       sub     cs:TypeFilSiz, cx
TRANGROUP:1C65
TRANGROUP:1C65 typ_read:			       ; ...
TRANGROUP:1C65		       mov     ah, 3Fh
TRANGROUP:1C67		       int     21h	       ; DOS - 2+ - READ FROM FILE WITH	HANDLE
TRANGROUP:1C67					       ; BX = file handle, CX =	number of bytes	to read
TRANGROUP:1C67					       ; DS:DX -> buffer
TRANGROUP:1C69		       jnb     short tf2
TRANGROUP:1C6B		       jmp     typerr
TRANGROUP:1C6E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1C6E
TRANGROUP:1C6E tf2:				       ; ...
TRANGROUP:1C6E		       mov     cx, ax
TRANGROUP:1C70		       jcxz    short typelp_ret
TRANGROUP:1C72		       push    ds
TRANGROUP:1C73		       pop     es
TRANGROUP:1C74		       xor     di, di
TRANGROUP:1C76		       push    ax
TRANGROUP:1C77		       mov     al, 1Ah
TRANGROUP:1C79		       repne scasb
TRANGROUP:1C7B		       pop     ax
TRANGROUP:1C7C		       xchg    ax, cx
TRANGROUP:1C7D		       cmp     ax, 0
TRANGROUP:1C80		       jnz     short foundz
TRANGROUP:1C82		       cmp     byte ptr	[di-1],	1Ah
TRANGROUP:1C86		       jnz     short typecont2
TRANGROUP:1C88
TRANGROUP:1C88 foundz:				       ; ...
TRANGROUP:1C88		       sub     cx, ax
TRANGROUP:1C8A		       dec     cx
TRANGROUP:1C8B		       push    cs
TRANGROUP:1C8C		       pop     es
TRANGROUP:1C8D		       assume es:TRANGROUP
TRANGROUP:1C8D		       not     es:zflag
TRANGROUP:1C92
TRANGROUP:1C92 typecont2:			       ; ...
TRANGROUP:1C92		       push    bx
TRANGROUP:1C93		       mov     bx, 1
TRANGROUP:1C96		       mov     ah, 40h
TRANGROUP:1C98		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:1C98					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:1C9A		       pop     bx
TRANGROUP:1C9B		       jb      short Error_outputj
TRANGROUP:1C9D		       cmp     ax, cx
TRANGROUP:1C9F		       jnz     short tf3
TRANGROUP:1CA1		       jmp     typelp
TRANGROUP:1CA4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1CA4
TRANGROUP:1CA4 tf3:				       ; ...
TRANGROUP:1CA4		       dec     cx
TRANGROUP:1CA5		       cmp     ax, cx
TRANGROUP:1CA7		       jnz     short Error_outputj
TRANGROUP:1CA9
TRANGROUP:1CA9 tf4:				       ; ...
TRANGROUP:1CA9		       retn
TRANGROUP:1CAA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1CAA
TRANGROUP:1CAA Error_outputj:			       ; ...
TRANGROUP:1CAA		       mov     bx, 1
TRANGROUP:1CAD		       mov     ax, 4400h
TRANGROUP:1CB0		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:1CB0					       ; BX = file or device handle
TRANGROUP:1CB2		       test    dl, 80h
TRANGROUP:1CB5		       jnz     short tf4
TRANGROUP:1CB7		       jmp     error_output
TRANGROUP:1CBA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1CBA
TRANGROUP:1CBA typelp_ret:			       ; ...
TRANGROUP:1CBA		       retn
TRANGROUP:1CBB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1CBB
TRANGROUP:1CBB VOLUME:				       ; ...
TRANGROUP:1CBB		       mov     si, 81h
TRANGROUP:1CBE		       mov     di, offset PARSE_VOL
TRANGROUP:1CC1		       xor     cx, cx
TRANGROUP:1CC3		       xor     dx, dx
TRANGROUP:1CC5		       call    Parse_With_Msg
TRANGROUP:1CC8		       cmp     ax, 0FFFFh      ; END_OF_LINE ; -1
TRANGROUP:1CCB		       jz      short OkVolArg
TRANGROUP:1CCD		       cmp     ax, 0
TRANGROUP:1CD0		       jnz     short badvolarg
TRANGROUP:1CD2		       mov     di, offset PARSE_VOL
TRANGROUP:1CD5		       xor     dx, dx
TRANGROUP:1CD7		       call    parse_check_eol
TRANGROUP:1CDA		       jz      short OkVolArg
TRANGROUP:1CDC
TRANGROUP:1CDC badvolarg:			       ; ...
TRANGROUP:1CDC		       jmp     cerror
TRANGROUP:1CDF
TRANGROUP:1CDF ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1CDF
TRANGROUP:1CDF
TRANGROUP:1CDF DisAppend       proc near	       ; ...
TRANGROUP:1CDF		       push    ds
TRANGROUP:1CE0		       push    es
TRANGROUP:1CE1		       push    di
TRANGROUP:1CE2		       mov     ax, 0B700h
TRANGROUP:1CE5		       int     2Fh	       ; - Multiplex - APPEND -	INSTALLATION CHECK
TRANGROUP:1CE5					       ; Return: AL = 00h not installed
TRANGROUP:1CE5					       ; AL = FFh if installed
TRANGROUP:1CE7		       or      al, al
TRANGROUP:1CE9		       jz      short daRet
TRANGROUP:1CEB		       mov     ax, 0B702h
TRANGROUP:1CEE		       int     2Fh	       ; - Multiplex - APPEND -	VERSION	CHECK
TRANGROUP:1CEE					       ; Return: AX = FFFFh if not DOS 4.0 APPEND
TRANGROUP:1CEE					       ; AL = major version number
TRANGROUP:1CEE					       ; AH = minor version number, otherwise
TRANGROUP:1CF0		       cmp     ax, 0FFFFh
TRANGROUP:1CF3		       jnz     short daRet
TRANGROUP:1CF5		       mov     ax, 0B706h
TRANGROUP:1CF8		       int     2Fh	       ; - Multiplex - DOS 4.0 APPEND -	GET APPEND FUNCTION STATE
TRANGROUP:1CF8					       ; Return: BX = APPEND state
TRANGROUP:1CFA		       mov     ds, ds:RESSEG
TRANGROUP:1CFE		       mov     ds:Append_State,	bx
TRANGROUP:1D02		       mov     ds:Append_Flag, 0FFh
TRANGROUP:1D07		       xor     bx, bx
TRANGROUP:1D09		       mov     ax, 0B707h
TRANGROUP:1D0C		       int     2Fh	       ; - Multiplex - DOS 4.0 APPEND -	SET APPEND FUNCTION STATE
TRANGROUP:1D0C					       ; BX = APPEND state bits
TRANGROUP:1D0E
TRANGROUP:1D0E daRet:				       ; ...
TRANGROUP:1D0E		       pop     di
TRANGROUP:1D0F		       pop     es
TRANGROUP:1D10		       assume es:nothing
TRANGROUP:1D10		       pop     ds
TRANGROUP:1D11		       retn
TRANGROUP:1D11 DisAppend       endp
TRANGROUP:1D11
TRANGROUP:1D12
TRANGROUP:1D12 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1D12
TRANGROUP:1D12
TRANGROUP:1D12 OkVolArg	       proc near	       ; ...
TRANGROUP:1D12		       call    DisAppend
TRANGROUP:1D15		       call    CRLF2
TRANGROUP:1D18		       mov     al, 20h ; ' '   ; blank
TRANGROUP:1D1A		       call    PRINT_CHAR
TRANGROUP:1D1D		       push    ds
TRANGROUP:1D1E		       pop     es
TRANGROUP:1D1F		       mov     di, 55h	       ; FCB-7
TRANGROUP:1D22		       mov     al, 0FFh	       ; -1
TRANGROUP:1D24		       stosb
TRANGROUP:1D25		       xor     ax, ax
TRANGROUP:1D27		       stosw
TRANGROUP:1D28		       stosw
TRANGROUP:1D29		       stosb
TRANGROUP:1D2A		       mov     al, 8	       ; ATTR_VOLUME_ID
TRANGROUP:1D2C		       stosb
TRANGROUP:1D2D		       inc     di
TRANGROUP:1D2E		       mov     cx, 11
TRANGROUP:1D31		       mov     al, '?'
TRANGROUP:1D33		       rep stosb
TRANGROUP:1D35		       mov     dx, offset BWDBUF ; DIRBUF
TRANGROUP:1D38		       mov     ah, 1Ah
TRANGROUP:1D3A		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:1D3A					       ; DS:DX -> disk transfer	buffer
TRANGROUP:1D3C		       mov     dx, 55h	       ; FCB-7
TRANGROUP:1D3F		       mov     ah, 11h
TRANGROUP:1D41		       int     21h	       ; DOS - SEARCH FIRST USING FCB
TRANGROUP:1D41					       ; DS:DX -> FCB
TRANGROUP:1D43		       push    ax
TRANGROUP:1D44		       mov     al, ds:5Ch
TRANGROUP:1D47		       add     al, 40h ; '@'
TRANGROUP:1D49		       cmp     al, 40h ; '@'
TRANGROUP:1D4B		       jnz     short drvok
TRANGROUP:1D4D		       mov     al, ds:CURDRV
TRANGROUP:1D50		       add     al, 'A'
TRANGROUP:1D52
TRANGROUP:1D52 drvok:				       ; ...
TRANGROUP:1D52		       mov     ds:vol_drv, al
TRANGROUP:1D55		       pop     ax
TRANGROUP:1D56		       or      al, al
TRANGROUP:1D58		       jz      short Get_vol_name
TRANGROUP:1D5A		       mov     dx, offset VolMes_Ptr_2
TRANGROUP:1D5D		       jmp     short print_serial
TRANGROUP:1D5F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1D5F
TRANGROUP:1D5F Get_vol_name:			       ; ...
TRANGROUP:1D5F		       mov     di, offset CHARBUF
TRANGROUP:1D62		       mov     dx, di
TRANGROUP:1D64		       mov     si, offset DIRBUF_8 ; DIRBUF+8
TRANGROUP:1D67		       mov     cx, 11
TRANGROUP:1D6A		       rep movsb
TRANGROUP:1D6C		       xor     al, al
TRANGROUP:1D6E		       stosb
TRANGROUP:1D6F		       mov     dx, offset VolMes_Ptr
TRANGROUP:1D72
TRANGROUP:1D72 print_serial:			       ; ...
TRANGROUP:1D72		       push    dx
TRANGROUP:1D73		       mov     ax, 6900h
TRANGROUP:1D76		       mov     bl, ds:5Ch      ; [FCB]
TRANGROUP:1D7A		       mov     dx, offset vol_ioctl_buf
TRANGROUP:1D7D		       int     21h	       ; DOS - 4.0 internal - GET/SET DISK SERIAL NUMBER
TRANGROUP:1D7D					       ; AL = 00h get serial number / 01h set serial number
TRANGROUP:1D7D					       ; BL = drive (0=default,	1=A, 2=B, etc)
TRANGROUP:1D7D					       ; DS:DX -> disk info
TRANGROUP:1D7F		       pop     dx
TRANGROUP:1D80		       jb      short printvol_end
TRANGROUP:1D82		       call    std_printf
TRANGROUP:1D85		       mov     al, 20h ; ' '
TRANGROUP:1D87		       call    PRINT_CHAR
TRANGROUP:1D8A		       mov     dx, offset VolSerMes_Ptr
TRANGROUP:1D8D
TRANGROUP:1D8D printvol_end:			       ; ...
TRANGROUP:1D8D		       jmp     std_printf
TRANGROUP:1D8D OkVolArg	       endp
TRANGROUP:1D8D
TRANGROUP:1D90
TRANGROUP:1D90 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1D90
TRANGROUP:1D90
TRANGROUP:1D90 Set_Ext_Error_Msg proc near	       ; ...
TRANGROUP:1D90		       call    get_ext_error_number
TRANGROUP:1D93		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:1D98		       mov     dx, offset extend_buf_ptr
TRANGROUP:1D9B		       mov     ds:extend_buf_ptr, ax
TRANGROUP:1D9E		       stc
TRANGROUP:1D9F		       retn
TRANGROUP:1D9F Set_Ext_Error_Msg endp
TRANGROUP:1D9F
TRANGROUP:1DA0
TRANGROUP:1DA0 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1DA0
TRANGROUP:1DA0
TRANGROUP:1DA0 get_ext_error_number proc near	       ; ...
TRANGROUP:1DA0		       push    bx
TRANGROUP:1DA1		       push    cx
TRANGROUP:1DA2		       push    dx
TRANGROUP:1DA3		       push    si
TRANGROUP:1DA4		       push    di
TRANGROUP:1DA5		       push    bp
TRANGROUP:1DA6		       push    es
TRANGROUP:1DA7		       push    ds
TRANGROUP:1DA8		       mov     ah, 59h
TRANGROUP:1DAA		       xor     bx, bx
TRANGROUP:1DAC		       int     21h	       ; DOS - 3+ - GET	EXTENDED ERROR CODE
TRANGROUP:1DAC					       ; BX = version code (0000h for DOS 3.x)
TRANGROUP:1DAE		       pop     ds
TRANGROUP:1DAF		       pop     es
TRANGROUP:1DB0		       pop     bp
TRANGROUP:1DB1		       pop     di
TRANGROUP:1DB2		       pop     si
TRANGROUP:1DB3		       pop     dx
TRANGROUP:1DB4		       pop     cx
TRANGROUP:1DB5		       pop     bx
TRANGROUP:1DB6		       retn
TRANGROUP:1DB6 get_ext_error_number endp
TRANGROUP:1DB6
TRANGROUP:1DB7 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1DB7
TRANGROUP:1DB7 VERSION:				       ; ...
TRANGROUP:1DB7		       mov     si, 81h
TRANGROUP:1DBA		       mov     di, offset PARSE_VER
TRANGROUP:1DBD		       xor     cx, cx
TRANGROUP:1DBF		       call    Parse_With_Msg
TRANGROUP:1DC2		       mov     bl, 1
TRANGROUP:1DC4		       cmp     ax, 0	       ; RESULT_NO_ERROR
TRANGROUP:1DC7		       jz      short verPrintVer
TRANGROUP:1DC9		       dec     bl
TRANGROUP:1DCB		       cmp     ax, 0FFFFh      ; END_OF_LINE
TRANGROUP:1DCE		       jz      short verPrintVer
TRANGROUP:1DD0		       jmp     cerror
TRANGROUP:1DD3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1DD3
TRANGROUP:1DD3 verPrintVer:			       ; ...
TRANGROUP:1DD3		       push    bx
TRANGROUP:1DD4		       call    CRLF2
TRANGROUP:1DD7		       call    PRINT_VERSION
TRANGROUP:1DDA		       call    CRLF2
TRANGROUP:1DDD		       pop     bx
TRANGROUP:1DDE		       or      bl, bl
TRANGROUP:1DE0		       jz      short verDone
TRANGROUP:1DE2		       mov     ax, 3306h
TRANGROUP:1DE5		       int     21h	       ; DOS - 5+ Get TRUE Version Number (BL major, BH	minor, DL revision, DH flags)
TRANGROUP:1DE7		       mov     al, dl
TRANGROUP:1DE9		       mov     bh, dh
TRANGROUP:1DEB		       cmp     al, 25	       ; 'Z'-'A'
TRANGROUP:1DED		       jbe     short ver1
TRANGROUP:1DEF		       mov     al, -23	       ; '*'-'A'
TRANGROUP:1DF1
TRANGROUP:1DF1 ver1:				       ; ...
TRANGROUP:1DF1		       add     al, 'A'         ; 41h
TRANGROUP:1DF3		       mov     ds:One_Char_Val,	al
TRANGROUP:1DF6		       mov     dx, offset dosrev_ptr
TRANGROUP:1DF9		       call    std_printf
TRANGROUP:1DFC		       mov     cl, 4
TRANGROUP:1DFE		       shr     bh, cl
TRANGROUP:1E00		       jb      short verRom
TRANGROUP:1E02		       shr     bh, 1
TRANGROUP:1E04		       jb      short verHma
TRANGROUP:1E06		       mov     dx, offset DosLow_Ptr
TRANGROUP:1E09		       jmp     short verPrintLoc
TRANGROUP:1E0B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1E0B
TRANGROUP:1E0B verRom:				       ; ...
TRANGROUP:1E0B		       mov     dx, offset DosRom_Ptr
TRANGROUP:1E0E		       jmp     short verPrintLoc
TRANGROUP:1E10 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1E10
TRANGROUP:1E10 verHma:				       ; ...
TRANGROUP:1E10		       mov     dx, offset DosHma_Ptr
TRANGROUP:1E13
TRANGROUP:1E13 verPrintLoc:			       ; ...
TRANGROUP:1E13		       call    std_printf
TRANGROUP:1E16
TRANGROUP:1E16 verDone:				       ; ...
TRANGROUP:1E16		       jmp     CRLF2
TRANGROUP:1E19
TRANGROUP:1E19 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1E19
TRANGROUP:1E19
TRANGROUP:1E19 PRINT_VERSION   proc near	       ; ...
TRANGROUP:1E19		       mov     ah, 30h
TRANGROUP:1E1B		       int     21h	       ; DOS - GET DOS VERSION
TRANGROUP:1E1B					       ; Return: AL = major version number (00h	for DOS	1.x)
TRANGROUP:1E1D		       push    ax
TRANGROUP:1E1E		       xor     ah, ah
TRANGROUP:1E20		       mov     ds:Major_Ver_Num, ax
TRANGROUP:1E23		       pop     ax
TRANGROUP:1E24		       xchg    ah, al
TRANGROUP:1E26		       xor     ah, ah
TRANGROUP:1E28		       mov     ds:Minor_Ver_Num, ax
TRANGROUP:1E2B		       mov     dx, offset VerMes_Ptr
TRANGROUP:1E2E		       jmp     std_printf
TRANGROUP:1E2E PRINT_VERSION   endp
TRANGROUP:1E2E
TRANGROUP:1E31
TRANGROUP:1E31 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1E31
TRANGROUP:1E31
TRANGROUP:1E31 PRINT_PROMPT    proc near	       ; ...
TRANGROUP:1E31		       push    ds
TRANGROUP:1E32		       push    cs
TRANGROUP:1E33		       pop     ds
TRANGROUP:1E34		       assume ds:TRANGROUP
TRANGROUP:1E34		       push    es
TRANGROUP:1E35		       call    FIND_PROMPT
TRANGROUP:1E38		       jb      short PP0
TRANGROUP:1E3A		       cmp     byte ptr	es:[di], 0
TRANGROUP:1E3E		       jnz     short PP1
TRANGROUP:1E40
TRANGROUP:1E40 PP0:				       ; ...
TRANGROUP:1E40		       call    PRINT_DRIVE
TRANGROUP:1E43		       mov     al, '>'         ; SYM
TRANGROUP:1E45		       call    PRINT_CHAR
TRANGROUP:1E48		       jmp     short PP5
TRANGROUP:1E4A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1E4A
TRANGROUP:1E4A PP1:				       ; ...
TRANGROUP:1E4A		       mov     al, es:[di]
TRANGROUP:1E4D		       inc     di
TRANGROUP:1E4E		       or      al, al
TRANGROUP:1E50		       jz      short PP5
TRANGROUP:1E52		       cmp     al, '$'         ; 24h
TRANGROUP:1E54		       jz      short PP2
TRANGROUP:1E56		       call    PRINT_CHAR
TRANGROUP:1E59		       jmp     short PP1
TRANGROUP:1E5B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1E5B
TRANGROUP:1E5B PP2:				       ; ...
TRANGROUP:1E5B		       mov     al, es:[di]
TRANGROUP:1E5E		       inc     di
TRANGROUP:1E5F		       mov     bx, offset clsstring_2 ;	PROMPT_TABLE-3 (db '[2J')
TRANGROUP:1E62		       or      al, al
TRANGROUP:1E64		       jz      short PP5
TRANGROUP:1E66
TRANGROUP:1E66 PP3:				       ; ...
TRANGROUP:1E66		       add     bx, 3
TRANGROUP:1E69		       call    UPCONV
TRANGROUP:1E6C		       cmp     al, [bx]
TRANGROUP:1E6E		       jz      short PP4
TRANGROUP:1E70		       cmp     byte ptr	[bx], 0
TRANGROUP:1E73		       jnz     short PP3
TRANGROUP:1E75		       jmp     short PP1
TRANGROUP:1E77 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1E77
TRANGROUP:1E77 PP4:				       ; ...
TRANGROUP:1E77		       push    es
TRANGROUP:1E78		       push    di
TRANGROUP:1E79		       push    cs
TRANGROUP:1E7A		       pop     es
TRANGROUP:1E7B		       assume es:TRANGROUP
TRANGROUP:1E7B		       call    word ptr	[bx+1]
TRANGROUP:1E7E		       pop     di
TRANGROUP:1E7F		       pop     es
TRANGROUP:1E80		       assume es:nothing
TRANGROUP:1E80		       jmp     short PP1
TRANGROUP:1E82 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1E82
TRANGROUP:1E82 PP5:				       ; ...
TRANGROUP:1E82		       pop     es
TRANGROUP:1E83		       pop     ds
TRANGROUP:1E84		       assume ds:nothing
TRANGROUP:1E84		       retn
TRANGROUP:1E84 PRINT_PROMPT    endp
TRANGROUP:1E84
TRANGROUP:1E85 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1E85
TRANGROUP:1E85 PRINT_BACK:			       ; ...
TRANGROUP:1E85		       mov     dx, offset dback_ptr
TRANGROUP:1E88		       jmp     std_printf
TRANGROUP:1E8B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1E8B
TRANGROUP:1E8B PRINT_EQ:			       ; ...
TRANGROUP:1E8B		       mov     al, '='
TRANGROUP:1E8D		       jmp     short PRINT_CHAR
TRANGROUP:1E8F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1E8F
TRANGROUP:1E8F PRINT_ESC:			       ; ...
TRANGROUP:1E8F		       mov     al, 1Bh	       ; ESC
TRANGROUP:1E91		       jmp     short PRINT_CHAR
TRANGROUP:1E93 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1E93
TRANGROUP:1E93 PRINT_G:				       ; ...
TRANGROUP:1E93		       mov     al, '>'         ; 3Eh
TRANGROUP:1E95		       jmp     short PRINT_CHAR
TRANGROUP:1E97 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1E97
TRANGROUP:1E97 PRINT_L:				       ; ...
TRANGROUP:1E97		       mov     al, '<'         ; 3Ch
TRANGROUP:1E99		       jmp     short PRINT_CHAR
TRANGROUP:1E9B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1E9B
TRANGROUP:1E9B Print_B:				       ; ...
TRANGROUP:1E9B		       mov     al, '|'         ; 7Ch
TRANGROUP:1E9D
TRANGROUP:1E9D ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1E9D
TRANGROUP:1E9D
TRANGROUP:1E9D PRINT_CHAR      proc near	       ; ...
TRANGROUP:1E9D		       push    es
TRANGROUP:1E9E		       push    ds
TRANGROUP:1E9F		       pop     es
TRANGROUP:1EA0		       push    di
TRANGROUP:1EA1		       push    dx
TRANGROUP:1EA2		       mov     dl, al
TRANGROUP:1EA4		       mov     ah, 2
TRANGROUP:1EA6		       int     21h	       ; DOS - DISPLAY OUTPUT
TRANGROUP:1EA6					       ; DL = character	to send	to standard output
TRANGROUP:1EA8		       pop     dx
TRANGROUP:1EA9		       pop     di
TRANGROUP:1EAA		       pop     es
TRANGROUP:1EAB		       retn
TRANGROUP:1EAB PRINT_CHAR      endp
TRANGROUP:1EAB
TRANGROUP:1EAC
TRANGROUP:1EAC ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1EAC
TRANGROUP:1EAC
TRANGROUP:1EAC PRINT_DRIVE     proc near	       ; ...
TRANGROUP:1EAC		       mov     ah, 19h
TRANGROUP:1EAE		       int     21h	       ; DOS - GET DEFAULT DISK	NUMBER
TRANGROUP:1EB0		       add     al, 'A'
TRANGROUP:1EB2		       call    PRINT_CHAR
TRANGROUP:1EB5		       retn
TRANGROUP:1EB5 PRINT_DRIVE     endp
TRANGROUP:1EB5
TRANGROUP:1EB6
TRANGROUP:1EB6 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1EB6
TRANGROUP:1EB6
TRANGROUP:1EB6 build_dir_for_prompt proc near	       ; ...
TRANGROUP:1EB6		       xor     dl, dl
TRANGROUP:1EB8		       mov     si, offset BWDBUF
TRANGROUP:1EBB		       mov     di, si
TRANGROUP:1EBD		       mov     al, ds:CURDRV
TRANGROUP:1EC0		       add     al, 'A'
TRANGROUP:1EC2		       mov     ah, ':'
TRANGROUP:1EC4		       stosw
TRANGROUP:1EC5		       mov     al, ds:DIRCHAR
TRANGROUP:1EC8		       stosb
TRANGROUP:1EC9		       xchg    si, di
TRANGROUP:1ECB		       mov     ds:string_ptr_2,	di
TRANGROUP:1ECF		       mov     ah, 47h
TRANGROUP:1ED1		       int     21h	       ; DOS - 2+ - GET	CURRENT	DIRECTORY
TRANGROUP:1ED1					       ; DL = drive (0=default,	1=A, etc.)
TRANGROUP:1ED1					       ; DS:SI points to 64-byte buffer	area
TRANGROUP:1ED3		       mov     dx, offset string_buf_ptr
TRANGROUP:1ED6		       jnb     short doprint
TRANGROUP:1ED8		       mov     dx, offset BADCURDRV
TRANGROUP:1EDB
TRANGROUP:1EDB doprint:				       ; ...
TRANGROUP:1EDB		       call    std_printf
TRANGROUP:1EDE		       retn
TRANGROUP:1EDE build_dir_for_prompt endp
TRANGROUP:1EDE
TRANGROUP:1EDF
TRANGROUP:1EDF ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1EDF
TRANGROUP:1EDF
TRANGROUP:1EDF build_dir_for_chdir proc	near	       ; ...
TRANGROUP:1EDF		       call    build_dir_string
TRANGROUP:1EE2		       mov     dx, offset BWDBUF ; DIRBUF
TRANGROUP:1EE5		       mov     ds:string_ptr_2,	dx
TRANGROUP:1EE9		       mov     dx, offset string_buf_ptr
TRANGROUP:1EEC		       call    std_printf
TRANGROUP:1EEF		       retn
TRANGROUP:1EEF build_dir_for_chdir endp
TRANGROUP:1EEF
TRANGROUP:1EF0
TRANGROUP:1EF0 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1EF0
TRANGROUP:1EF0
TRANGROUP:1EF0 build_dir_string	proc near	       ; ...
TRANGROUP:1EF0		       mov     dl, ds:5Ch      ; [FCB]
TRANGROUP:1EF4		       mov     al, dl
TRANGROUP:1EF6		       add     al, 40h ; '@'
TRANGROUP:1EF8		       cmp     al, 40h ; '@'
TRANGROUP:1EFA		       jnz     short gotdrive
TRANGROUP:1EFC		       add     al, ds:CURDRV
TRANGROUP:1F00		       inc     al
TRANGROUP:1F02
TRANGROUP:1F02 gotdrive:			       ; ...
TRANGROUP:1F02		       push    ax
TRANGROUP:1F03		       mov     si, (offset BWDBUF+3)
TRANGROUP:1F06		       mov     ah, 47h
TRANGROUP:1F08		       int     21h	       ; DOS - 2+ - GET	CURRENT	DIRECTORY
TRANGROUP:1F08					       ; DL = drive (0=default,	1=A, etc.)
TRANGROUP:1F08					       ; DS:SI points to 64-byte buffer	area
TRANGROUP:1F0A		       jnb     short dpbisok
TRANGROUP:1F0C		       push    cs
TRANGROUP:1F0D		       pop     ds
TRANGROUP:1F0E		       assume ds:TRANGROUP
TRANGROUP:1F0E		       jmp     DRVBAD
TRANGROUP:1F11 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1F11
TRANGROUP:1F11 dpbisok:				       ; ...
TRANGROUP:1F11		       mov     di, offset BWDBUF
TRANGROUP:1F14		       mov     dx, di
TRANGROUP:1F16		       pop     ax
TRANGROUP:1F17		       mov     ah, ':'
TRANGROUP:1F19		       stosw
TRANGROUP:1F1A		       mov     al, DIRCHAR
TRANGROUP:1F1D		       stosb
TRANGROUP:1F1E		       retn
TRANGROUP:1F1E build_dir_string	endp
TRANGROUP:1F1E
TRANGROUP:1F1F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1F1F
TRANGROUP:1F1F PATH:				       ; ...
TRANGROUP:1F1F		       xor     al, al
TRANGROUP:1F21		       mov     di, offset SRCXNAME
TRANGROUP:1F24		       stosb
TRANGROUP:1F25		       dec     di
TRANGROUP:1F26		       call    PGETARG
TRANGROUP:1F29		       jz      short disppath
TRANGROUP:1F2B		       cmp     al, ';'         ; 3Bh
TRANGROUP:1F2D		       jnz     short pathslp
TRANGROUP:1F2F		       inc     si
TRANGROUP:1F30		       jmp     short scan_white
TRANGROUP:1F32 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1F32
TRANGROUP:1F32 pathslp:				       ; ...
TRANGROUP:1F32		       lodsb
TRANGROUP:1F33		       cmp     al, 0Dh	       ; END_OF_LINE_IN
TRANGROUP:1F35		       jz      short path_eol
TRANGROUP:1F37		       call    testkanj
TRANGROUP:1F3A		       jz      short notkanj2
TRANGROUP:1F3C		       stosb
TRANGROUP:1F3D		       lodsb
TRANGROUP:1F3E
TRANGROUP:1F3E path_hold:			       ; ...
TRANGROUP:1F3E		       stosb
TRANGROUP:1F3F		       jmp     short pathslp
TRANGROUP:1F41 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1F41
TRANGROUP:1F41 notkanj2:			       ; ...
TRANGROUP:1F41		       call    UPCONV
TRANGROUP:1F44		       cmp     al, ';'         ; 3Bh ; semicolon
TRANGROUP:1F46		       jz      short path_hold
TRANGROUP:1F48		       call    DELIM
TRANGROUP:1F4B		       jnz     short path_hold
TRANGROUP:1F4D
TRANGROUP:1F4D scan_white:			       ; ...
TRANGROUP:1F4D		       lodsb
TRANGROUP:1F4E		       cmp     al, 0Dh
TRANGROUP:1F50		       jz      short path_eol
TRANGROUP:1F52		       cmp     al, 20h ; ' '
TRANGROUP:1F54		       jz      short scan_white
TRANGROUP:1F56		       cmp     al, 9
TRANGROUP:1F58		       jz      short scan_white
TRANGROUP:1F5A		       mov     dx, offset extend_buf_ptr
TRANGROUP:1F5D		       mov     extend_buf_ptr, 1 ; MoreArgs_Ptr
TRANGROUP:1F63		       mov     msg_disp_class, 2 ; parse_msg_class
TRANGROUP:1F68		       jmp     cerror
TRANGROUP:1F6B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1F6B
TRANGROUP:1F6B path_eol:			       ; ...
TRANGROUP:1F6B		       xor     al, al
TRANGROUP:1F6D		       stosb
TRANGROUP:1F6E		       call    find_path
TRANGROUP:1F71		       call    delete_path
TRANGROUP:1F74		       call    scan_double_null
TRANGROUP:1F77		       call    move_name
TRANGROUP:1F7A		       mov     si, offset SRCXNAME
TRANGROUP:1F7D
TRANGROUP:1F7D store_path:			       ; ...
TRANGROUP:1F7D		       lodsb
TRANGROUP:1F7E		       cmp     al, 0
TRANGROUP:1F80		       jz      short got_paths
TRANGROUP:1F82		       call    store_char
TRANGROUP:1F85		       jmp     short store_path
TRANGROUP:1F87 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1F87
TRANGROUP:1F87 got_paths:			       ; ...
TRANGROUP:1F87		       xor     ax, ax
TRANGROUP:1F89		       stosw
TRANGROUP:1F8A		       retn
TRANGROUP:1F8B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1F8B
TRANGROUP:1F8B disppath:			       ; ...
TRANGROUP:1F8B		       call    find_path
TRANGROUP:1F8E		       call    print_path
TRANGROUP:1F91		       call    CRLF2
TRANGROUP:1F94		       retn
TRANGROUP:1F95
TRANGROUP:1F95 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:1F95
TRANGROUP:1F95
TRANGROUP:1F95 print_path      proc near	       ; ...
TRANGROUP:1F95		       cmp     byte ptr	es:[di], 0
TRANGROUP:1F99		       jnz     short path1
TRANGROUP:1F9B
TRANGROUP:1F9B path0:				       ; ...
TRANGROUP:1F9B		       mov     dx, offset NULLPATH_PTR
TRANGROUP:1F9E		       push    cs
TRANGROUP:1F9F		       pop     es
TRANGROUP:1FA0		       assume es:TRANGROUP
TRANGROUP:1FA0		       push    cs
TRANGROUP:1FA1		       pop     ds
TRANGROUP:1FA2		       jmp     std_printf
TRANGROUP:1FA5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1FA5
TRANGROUP:1FA5 path1:				       ; ...
TRANGROUP:1FA5		       push    es
TRANGROUP:1FA6		       pop     ds
TRANGROUP:1FA7		       sub     di, 5
TRANGROUP:1FAA		       mov     si, di
TRANGROUP:1FAC		       call    SCASB2
TRANGROUP:1FAF		       cmp     cx, 0FFh	       ; 255
TRANGROUP:1FB3		       jz      short path0
TRANGROUP:1FB5		       push    cs
TRANGROUP:1FB6		       pop     es
TRANGROUP:1FB7		       mov     di, offset Arg_Buf
TRANGROUP:1FBA		       mov     dx, 100h	       ; 256
TRANGROUP:1FBD		       sub     dx, cx
TRANGROUP:1FBF		       xchg    dx, cx
TRANGROUP:1FC1		       rep movsb
TRANGROUP:1FC3		       mov     dx, offset arg_buf_ptr
TRANGROUP:1FC6		       push    cs
TRANGROUP:1FC7		       pop     ds
TRANGROUP:1FC8		       jmp     std_printf
TRANGROUP:1FC8 print_path      endp
TRANGROUP:1FC8
TRANGROUP:1FCB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1FCB
TRANGROUP:1FCB CLS:				       ; ...
TRANGROUP:1FCB		       mov     ah, 1Ah
TRANGROUP:1FCD		       mov     al, 0
TRANGROUP:1FCF		       int     2Fh	       ; - Multiplex - DOS 4+ ANSI.SYS internal	- INSTALLATION CHECK
TRANGROUP:1FCF					       ; Return: AL = FFh if installed
TRANGROUP:1FD1		       cmp     al, 0FFh	       ; ANSI_installed
TRANGROUP:1FD3		       jz      short ansicls
TRANGROUP:1FD5		       mov     ax, 440Ch
TRANGROUP:1FD8		       mov     bx, 1
TRANGROUP:1FDB		       mov     ch, 3
TRANGROUP:1FDD		       mov     cl, 7Fh
TRANGROUP:1FDF		       mov     dx, offset Display_Ioctl
TRANGROUP:1FE2		       int     21h	       ; DOS - 2+ - IOCTL -
TRANGROUP:1FE4		       jb      short no_variable
TRANGROUP:1FE6		       mov     ax, LinPerPag
TRANGROUP:1FE9		       mov     dh, al
TRANGROUP:1FEB		       mov     ax, display_width
TRANGROUP:1FEE		       mov     dl, al
TRANGROUP:1FF0		       jmp     short regcls
TRANGROUP:1FF2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:1FF2
TRANGROUP:1FF2 no_variable:			       ; ...
TRANGROUP:1FF2		       mov     bx, 1
TRANGROUP:1FF5		       mov     ax, 4400h
TRANGROUP:1FF8		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:1FF8					       ; BX = file or device handle
TRANGROUP:1FFA		       test    dl, 80h
TRANGROUP:1FFD		       jz      short ansicls
TRANGROUP:1FFF		       test    dl, 10h
TRANGROUP:2002		       jnz     short cls_normal
TRANGROUP:2004
TRANGROUP:2004 ansicls:				       ; ...
TRANGROUP:2004		       call    ansi_cls
TRANGROUP:2007		       jmp     short cls_ret
TRANGROUP:2009 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2009
TRANGROUP:2009 cls_normal:			       ; ...
TRANGROUP:2009		       mov     ah, 0Fh
TRANGROUP:200B		       int     10h	       ; - VIDEO - GET CURRENT VIDEO MODE
TRANGROUP:200B					       ; Return: AH = number of	columns	on screen
TRANGROUP:200B					       ; AL = current video mode
TRANGROUP:200B					       ; BH = current active display page
TRANGROUP:200D		       cmp     al, 3
TRANGROUP:200F		       jbe     short DoAlpha
TRANGROUP:2011		       cmp     al, 7
TRANGROUP:2013		       jz      short DoAlpha
TRANGROUP:2015		       mov     ah, 0
TRANGROUP:2017		       int     10h	       ; - VIDEO - SET VIDEO MODE
TRANGROUP:2017					       ; AL = mode
TRANGROUP:2019		       jmp     short cls_ret
TRANGROUP:201B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:201B
TRANGROUP:201B DoAlpha:				       ; ...
TRANGROUP:201B		       push    ds
TRANGROUP:201C		       mov     ax, 40h	       ; ROMBIOS_DATA
TRANGROUP:201F		       mov     ds, ax
TRANGROUP:2021		       assume ds:nothing
TRANGROUP:2021		       mov     dx, ds:4Ah      ; [CRT_Cols]
TRANGROUP:2025		       mov     dh, ds:84h      ; [CRT_Rows]
TRANGROUP:2029		       pop     ds
TRANGROUP:202A		       assume ds:nothing
TRANGROUP:202A		       or      dh, dh
TRANGROUP:202C		       jnz     short regcls
TRANGROUP:202E		       mov     dh, 25
TRANGROUP:2030
TRANGROUP:2030 regcls:				       ; ...
TRANGROUP:2030		       inc     dh
TRANGROUP:2032		       call    reg_cls
TRANGROUP:2035
TRANGROUP:2035 cls_ret:				       ; ...
TRANGROUP:2035		       retn
TRANGROUP:2036
TRANGROUP:2036 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2036
TRANGROUP:2036
TRANGROUP:2036 reg_cls	       proc near	       ; ...
TRANGROUP:2036		       dec     dh
TRANGROUP:2038		       dec     dl
TRANGROUP:203A		       push    dx
TRANGROUP:203B		       mov     ah, 0Bh
TRANGROUP:203D		       xor     bx, bx
TRANGROUP:203F		       int     10h	       ; - VIDEO - SET COLOR PALETTE
TRANGROUP:203F					       ; BH = 00h, BL =	border color
TRANGROUP:203F					       ; BH = 01h, BL =	palette	(0-3)
TRANGROUP:2041		       pop     dx
TRANGROUP:2042		       xor     ax, ax
TRANGROUP:2044		       mov     cx, ax
TRANGROUP:2046		       mov     ah, 6
TRANGROUP:2048		       mov     bh, 7
TRANGROUP:204A		       xor     bl, bl
TRANGROUP:204C		       int     10h	       ; - VIDEO - SCROLL PAGE UP
TRANGROUP:204C					       ; AL = number of	lines to scroll	window (0 = blank whole	window)
TRANGROUP:204C					       ; BH = attributes to be used on blanked lines
TRANGROUP:204C					       ; CH,CL = row,column of upper left corner of window to scroll
TRANGROUP:204C					       ; DH,DL = row,column of lower right corner of window
TRANGROUP:204E		       mov     ah, 0Fh
TRANGROUP:2050		       int     10h	       ; - VIDEO - GET CURRENT VIDEO MODE
TRANGROUP:2050					       ; Return: AH = number of	columns	on screen
TRANGROUP:2050					       ; AL = current video mode
TRANGROUP:2050					       ; BH = current active display page
TRANGROUP:2052		       mov     ah, 2
TRANGROUP:2054		       xor     dx, dx
TRANGROUP:2056		       int     10h	       ; - VIDEO - SET CURSOR POSITION
TRANGROUP:2056					       ; DH,DL = row, column (0,0 = upper left)
TRANGROUP:2056					       ; BH = page number
TRANGROUP:2058		       retn
TRANGROUP:2058 reg_cls	       endp
TRANGROUP:2058
TRANGROUP:2059
TRANGROUP:2059 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2059
TRANGROUP:2059
TRANGROUP:2059 ansi_cls	       proc near	       ; ...
TRANGROUP:2059		       mov     si, offset CLSSTRING
TRANGROUP:205C		       lodsb
TRANGROUP:205D		       mov     cl, al
TRANGROUP:205F		       xor     ch, ch
TRANGROUP:2061		       mov     ah, 6
TRANGROUP:2063
TRANGROUP:2063 clrloop:				       ; ...
TRANGROUP:2063		       lodsb
TRANGROUP:2064		       mov     dl, al
TRANGROUP:2066		       int     21h	       ; DOS - DIRECT CONSOLE I/O CHARACTER OUTPUT
TRANGROUP:2066					       ; DL = character	<> FFh
TRANGROUP:2066					       ;  Return: ZF set = no character
TRANGROUP:2066					       ;   ZF clear = character	recieved, AL = character
TRANGROUP:2068		       loop    clrloop
TRANGROUP:206A		       retn
TRANGROUP:206A ansi_cls	       endp
TRANGROUP:206A
TRANGROUP:206B
TRANGROUP:206B ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:206B
TRANGROUP:206B
TRANGROUP:206B CTTY	       proc near	       ; ...
TRANGROUP:206B		       push    ds
TRANGROUP:206C		       pop     es
TRANGROUP:206D		       assume es:nothing
TRANGROUP:206D		       mov     si, 81h
TRANGROUP:2070		       mov     di, offset PARSE_CTTY
TRANGROUP:2073		       xor     cx, cx
TRANGROUP:2075		       xor     dx, dx
TRANGROUP:2077		       call    cmd_parse
TRANGROUP:207A		       cmp     ax, 0FFFFh
TRANGROUP:207D		       jz      short ctty_error
TRANGROUP:207F		       cmp     ax, 0
TRANGROUP:2082		       jnz     short ctty_error
TRANGROUP:2084		       push    si
TRANGROUP:2085		       lds     si, ds:PARSE1_ADDR
TRANGROUP:2089		       mov     di, offset SrcBuf
TRANGROUP:208C
TRANGROUP:208C ctty_move_filename:		       ; ...
TRANGROUP:208C		       lodsb
TRANGROUP:208D		       stosb
TRANGROUP:208E		       cmp     al, 0
TRANGROUP:2090		       jnz     short ctty_move_filename
TRANGROUP:2092		       pop     si
TRANGROUP:2093		       mov     di, offset PARSE_CTTY
TRANGROUP:2096		       call    parse_check_eol
TRANGROUP:2099		       jz      short nocolon
TRANGROUP:209B
TRANGROUP:209B ctty_error:			       ; ...
TRANGROUP:209B		       jmp     short isbaddev
TRANGROUP:209D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:209D
TRANGROUP:209D nocolon:				       ; ...
TRANGROUP:209D		       mov     dx, offset SrcBuf
TRANGROUP:20A0		       mov     ax, 3D02h
TRANGROUP:20A3		       int     21h	       ; DOS - 2+ - OPEN DISK FILE WITH	HANDLE
TRANGROUP:20A3					       ; DS:DX -> ASCIZ	filename
TRANGROUP:20A3					       ; AL = access mode
TRANGROUP:20A3					       ; 2 - read & write
TRANGROUP:20A5		       jb      short isbaddev
TRANGROUP:20A7		       mov     bx, ax
TRANGROUP:20A9		       mov     ax, 4400h
TRANGROUP:20AC		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:20AC					       ; BX = file or device handle
TRANGROUP:20AE		       test    dl, 80h
TRANGROUP:20B1		       jnz     short devisok
TRANGROUP:20B3
TRANGROUP:20B3 closedev:			       ; ...
TRANGROUP:20B3		       mov     ah, 3Eh
TRANGROUP:20B5		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:20B5					       ; BX = file handle
TRANGROUP:20B7
TRANGROUP:20B7 isbaddev:			       ; ...
TRANGROUP:20B7		       mov     dx, offset BADDEV_PTR
TRANGROUP:20BA		       call    std_printf
TRANGROUP:20BD		       jmp     short resret
TRANGROUP:20BF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:20BF
TRANGROUP:20BF devisok:				       ; ...
TRANGROUP:20BF		       push    dx
TRANGROUP:20C0		       mov     ax, ds:acrlf_ptr
TRANGROUP:20C3		       mov     dh, 0FFh	       ; -1
TRANGROUP:20C5		       push    bx
TRANGROUP:20C6		       call    TSYSGETMSG
TRANGROUP:20C9		       mov     dx, si
TRANGROUP:20CB		       mov     ax, 4000h
TRANGROUP:20CE		       mov     cx, 2
TRANGROUP:20D1		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:20D1					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:20D3		       pop     bx
TRANGROUP:20D4		       pop     dx
TRANGROUP:20D5		       jb      short closedev
TRANGROUP:20D7		       xor     dh, dh
TRANGROUP:20D9		       or      dl, 3
TRANGROUP:20DC		       mov     ax, 4401h
TRANGROUP:20DF		       int     21h	       ; DOS - 2+ - IOCTL - SET	DEVICE INFORMATION
TRANGROUP:20DF					       ; BX = device handle, DH	= 0
TRANGROUP:20DF					       ; DL = device information to set	(bits 0-7 from function	0)
TRANGROUP:20E1		       push    bx
TRANGROUP:20E2		       mov     cx, 3
TRANGROUP:20E5		       xor     bx, bx
TRANGROUP:20E7
TRANGROUP:20E7 iclloop:				       ; ...
TRANGROUP:20E7		       mov     ah, 3Eh
TRANGROUP:20E9		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:20E9					       ; BX = file handle
TRANGROUP:20EB		       inc     bx
TRANGROUP:20EC		       loop    iclloop
TRANGROUP:20EE		       pop     bx
TRANGROUP:20EF		       mov     ah, 45h
TRANGROUP:20F1		       int     21h	       ; DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
TRANGROUP:20F1					       ; BX = file handle to duplicate
TRANGROUP:20F3		       mov     ah, 45h
TRANGROUP:20F5		       int     21h	       ; DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
TRANGROUP:20F5					       ; BX = file handle to duplicate
TRANGROUP:20F7		       mov     ah, 45h
TRANGROUP:20F9		       int     21h	       ; DOS - 2+ - CREATE DUPLICATE HANDLE (DUP)
TRANGROUP:20F9					       ; BX = file handle to duplicate
TRANGROUP:20FB		       mov     ah, 3Eh
TRANGROUP:20FD		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:20FD					       ; BX = file handle
TRANGROUP:20FF
TRANGROUP:20FF resret:				       ; ...
TRANGROUP:20FF		       mov     ds, ds:RESSEG
TRANGROUP:2103		       push    ds
TRANGROUP:2104		       mov     ax, ds:18h      ; [PDB.JFN_TABLE]
TRANGROUP:2107		       mov     ds:Io_Save, ax
TRANGROUP:210A		       mov     ax, offset TrnLodCom1_Trap
TRANGROUP:210D		       push    ax
TRANGROUP:210E		       retf
TRANGROUP:210E CTTY	       endp
TRANGROUP:210E
TRANGROUP:210F
TRANGROUP:210F ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:210F
TRANGROUP:210F
TRANGROUP:210F CHCP	       proc near	       ; ...
TRANGROUP:210F		       push    ds
TRANGROUP:2110		       pop     es
TRANGROUP:2111		       mov     si, 81h
TRANGROUP:2114		       mov     di, offset PARSE_CHCP
TRANGROUP:2117		       xor     cx, cx
TRANGROUP:2119		       xor     dx, dx
TRANGROUP:211B		       call    Parse_With_Msg
TRANGROUP:211E		       cmp     ax, 0FFFFh
TRANGROUP:2121		       jz      short getcp
TRANGROUP:2123		       cmp     ax, 0
TRANGROUP:2126		       jnz     short cp_error
TRANGROUP:2128		       push    cx
TRANGROUP:2129		       mov     bx, offset PARSE1_ADDR
TRANGROUP:212C		       mov     cx, [bx]
TRANGROUP:212E		       mov     ds:system_cpage,	cx
TRANGROUP:2132		       pop     cx
TRANGROUP:2133		       mov     di, offset PARSE_CHCP
TRANGROUP:2136		       call    parse_check_eol
TRANGROUP:2139		       jnz     short cp_error
TRANGROUP:213B		       mov     ah, 14h
TRANGROUP:213D		       mov     al, 0
TRANGROUP:213F		       int     2Fh	       ; - Multiplex - NLSFUNC.COM - INSTALLATION CHECK
TRANGROUP:213F					       ; Return: AL = 00h not installed, OK to install
TRANGROUP:213F					       ; 01h not installed, not	OK
TRANGROUP:213F					       ; FFh installed
TRANGROUP:2141		       cmp     al, 0FFh	       ; NLSFUNC_installed
TRANGROUP:2143		       jz      short got_NLS
TRANGROUP:2145		       mov     dx, offset NLSFUNC_PTR
TRANGROUP:2148		       jmp     short cp_error
TRANGROUP:214A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:214A
TRANGROUP:214A got_NLS:				       ; ...
TRANGROUP:214A		       mov     bx, ds:system_cpage
TRANGROUP:214E		       mov     ah, 66h
TRANGROUP:2150		       mov     al, 2
TRANGROUP:2152		       int     21h	       ; DOS - 3.3+ - SET GLOBAL CODE PAGE TABLE
TRANGROUP:2152					       ; BX = active code page
TRANGROUP:2152					       ; DX = system code page (active page at boot time)
TRANGROUP:2154		       jnb     short chcp_return
TRANGROUP:2156		       cmp     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:2159		       jnz     short chcp_other_error
TRANGROUP:215B		       mov     ah, 59h
TRANGROUP:215D		       xor     bx, bx
TRANGROUP:215F		       int     21h	       ; DOS - 3+ - GET	EXTENDED ERROR CODE
TRANGROUP:215F					       ; BX = version code (0000h for DOS 3.x)
TRANGROUP:2161		       cmp     ax, 0Dh	       ; ERROR_INVALID_DATA
TRANGROUP:2164		       jnz     short no_countrysys
TRANGROUP:2166		       mov     dx, offset INV_CODE_PAGE
TRANGROUP:2169		       jmp     short cp_error
TRANGROUP:216B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:216B
TRANGROUP:216B no_countrysys:			       ; ...
TRANGROUP:216B		       mov     dx, offset NoCntry_Ptr
TRANGROUP:216E		       jmp     short cp_error
TRANGROUP:2170 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2170
TRANGROUP:2170 chcp_other_error:		       ; ...
TRANGROUP:2170		       mov     ah, 59h
TRANGROUP:2172		       xor     bx, bx
TRANGROUP:2174		       int     21h	       ; DOS - 3+ - GET	EXTENDED ERROR CODE
TRANGROUP:2174					       ; BX = version code (0000h for DOS 3.x)
TRANGROUP:2176		       cmp     ax, 65
TRANGROUP:2179		       jnz     short none_set
TRANGROUP:217B		       mov     dx, offset cp_not_all_ptr
TRANGROUP:217E		       jmp     short cp_error
TRANGROUP:2180 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2180
TRANGROUP:2180 none_set:			       ; ...
TRANGROUP:2180		       mov     dx, offset cp_not_set_ptr
TRANGROUP:2183
TRANGROUP:2183 cp_error:			       ; ...
TRANGROUP:2183		       jmp     cerror
TRANGROUP:2186 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2186
TRANGROUP:2186 getcp:				       ; ...
TRANGROUP:2186		       mov     ah, 66h
TRANGROUP:2188		       mov     al, 1
TRANGROUP:218A		       int     21h	       ; DOS - 3.3+ - GET GLOBAL CODE PAGE TABLE
TRANGROUP:218C		       mov     ds:system_cpage,	bx
TRANGROUP:2190		       mov     dx, offset cp_active_ptr
TRANGROUP:2193		       call    std_printf
TRANGROUP:2196
TRANGROUP:2196 chcp_return:			       ; ...
TRANGROUP:2196		       retn
TRANGROUP:2196 CHCP	       endp
TRANGROUP:2196
TRANGROUP:2197 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2197
TRANGROUP:2197 TRUENAME:			       ; ...
TRANGROUP:2197		       push    ds
TRANGROUP:2198		       pop     es
TRANGROUP:2199		       mov     si, 81h
TRANGROUP:219C		       mov     di, offset PARSE_CHDIR
TRANGROUP:219F		       xor     cx, cx
TRANGROUP:21A1		       xor     dx, dx
TRANGROUP:21A3		       call    Parse_With_Msg
TRANGROUP:21A6		       mov     di, offset SRCXNAME
TRANGROUP:21A9		       cmp     ax, 0FFFFh      ; END_OF_LINE
TRANGROUP:21AC		       jz      short tn_eol
TRANGROUP:21AE		       cmp     ax, 0
TRANGROUP:21B1		       jnz     short tn_parse_error
TRANGROUP:21B3		       cmp     ds:PARSE1_OUTPUT, 6 ; PARSE1_TYPE
TRANGROUP:21B8		       jz      short tn_drive
TRANGROUP:21BA		       jmp     short tn_filespec
TRANGROUP:21BC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:21BC
TRANGROUP:21BC tn_eol:				       ; ...
TRANGROUP:21BC		       mov     ah, 0
TRANGROUP:21BE		       mov     al, '.'
TRANGROUP:21C0		       stosw
TRANGROUP:21C1		       jmp     short tn_doit
TRANGROUP:21C3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:21C3
TRANGROUP:21C3 tn_drive:			       ; ...
TRANGROUP:21C3		       push    si
TRANGROUP:21C4		       mov     si, offset PARSE1_ADDR
TRANGROUP:21C7		       lodsb
TRANGROUP:21C8		       add     al, 40h	       ; "A"-1
TRANGROUP:21CA		       stosb
TRANGROUP:21CB		       mov     ax, '.:'        ; 2E3Ah ; ah=".", al=":"
TRANGROUP:21CE		       stosw
TRANGROUP:21CF		       mov     al, 0	       ; END_OF_LINE_OUT
TRANGROUP:21D1		       stosb
TRANGROUP:21D2		       pop     si
TRANGROUP:21D3		       jmp     short tn_check_eol
TRANGROUP:21D5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:21D5
TRANGROUP:21D5 tn_filespec:			       ; ...
TRANGROUP:21D5		       push    si
TRANGROUP:21D6		       lds     si, ds:PARSE1_ADDR
TRANGROUP:21DA
TRANGROUP:21DA tn_move_filename:		       ; ...
TRANGROUP:21DA		       lodsb
TRANGROUP:21DB		       stosb
TRANGROUP:21DC		       cmp     al, 0
TRANGROUP:21DE		       jnz     short tn_move_filename
TRANGROUP:21E0		       pop     si
TRANGROUP:21E1
TRANGROUP:21E1 tn_check_eol:			       ; ...
TRANGROUP:21E1		       mov     di, offset PARSE_CHDIR
TRANGROUP:21E4		       call    parse_check_eol
TRANGROUP:21E7		       jz      short tn_doit
TRANGROUP:21E9
TRANGROUP:21E9 tn_parse_error:			       ; ...
TRANGROUP:21E9		       jmp     cerror
TRANGROUP:21EC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:21EC
TRANGROUP:21EC tn_doit:				       ; ...
TRANGROUP:21EC		       mov     si, offset SRCXNAME
TRANGROUP:21EF		       mov     di, offset COMBUF
TRANGROUP:21F2		       mov     ah, 60h
TRANGROUP:21F4		       int     21h	       ; DOS - RESOLVE PATH STRING TO CANONICAL	PATH STRING
TRANGROUP:21F4					       ; DS:SI -> ASCIZ	relative path string or	directory name
TRANGROUP:21F4					       ; ES:DI -> 128-byte buffer for ASCIZ canonical fully qualified name
TRANGROUP:21F6		       jnb     short tn_print_xname
TRANGROUP:21F8		       call    Set_Ext_Error_Msg
TRANGROUP:21FB		       mov     ds:string_ptr_2,	offset SRCXNAME
TRANGROUP:2201		       mov     ds:extend_buf_sub, 1 ; one_subst
TRANGROUP:2206		       jmp     cerror
TRANGROUP:2209 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2209
TRANGROUP:2209 tn_print_xname:			       ; ...
TRANGROUP:2209		       mov     ds:string_ptr_2,	offset COMBUF
TRANGROUP:220F		       mov     dx, offset string_buf_ptr
TRANGROUP:2212		       call    CRLF2
TRANGROUP:2215		       call    Printf_Crlf
TRANGROUP:2218		       retn
TRANGROUP:2219 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2219 ; START OF FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:2219
TRANGROUP:2219 _$EXIT:				       ; ...
TRANGROUP:2219		       push    ds
TRANGROUP:221A		       mov     ds, ds:RESSEG
TRANGROUP:221E		       cmp     ds:PermCom, 0
TRANGROUP:2223		       jz      short free_com
TRANGROUP:2225		       cmp     ds:SingleCom, 0FFFFh ; -1
TRANGROUP:222A		       jz      short no_reset
TRANGROUP:222C		       jmp     TCOMMAND
TRANGROUP:222F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:222F
TRANGROUP:222F free_com:			       ; ...
TRANGROUP:222F		       mov     ax, 122Eh
TRANGROUP:2232		       mov     dl, 5
TRANGROUP:2234		       mov     di, ds:Crit_Msg_Off
TRANGROUP:2238		       mov     es, ds:Crit_Msg_Seg
TRANGROUP:223C		       assume es:RESGROUP
TRANGROUP:223C		       int     2Fh	       ; Multiplex - DOS 3+ internal - GET OR SET ERROR	TABLE ADDRESSES
TRANGROUP:223C					       ; DL = subfunction - set	critical/SHARE error table
TRANGROUP:223C					       ; ES:DI -> error	table
TRANGROUP:223E
TRANGROUP:223E no_reset:			       ; ...
TRANGROUP:223E		       pop     ds
TRANGROUP:223F		       call    RestUDir1
TRANGROUP:2242		       mov     es, ds:RESSEG
TRANGROUP:2246		       assume es:nothing
TRANGROUP:2246		       mov     ax, es:Parent
TRANGROUP:224A		       mov     es:16h, ax      ; [es:PDB.PARENT_PID]
TRANGROUP:224E		       mov     ax, es:OldTerm
TRANGROUP:2252		       mov     es:0Ah, ax      ; [es:PDB.EXIT]
TRANGROUP:2256		       mov     ax, es:OldTerm+2
TRANGROUP:225A		       mov     es:0Ch, ax      ; [es:PDB.EXIT+2]
TRANGROUP:225E		       push    es
TRANGROUP:225F		       mov     es, ds:TRAN_TPA
TRANGROUP:2263		       mov     ah, 49h	       ; DEALLOC
TRANGROUP:2265		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:2265					       ; ES = segment address of area to be freed
TRANGROUP:2267		       pop     es
TRANGROUP:2268		       mov     ah, 4Ch	       ; EXIT
TRANGROUP:226A		       mov     al, byte	ptr es:RetCode
TRANGROUP:226E		       int     21h	       ; DOS - 2+ - QUIT WITH EXIT CODE	(EXIT)
TRANGROUP:226E ; END OF	FUNCTION CHUNK FOR PROMPTBAT   ; AL = exit code
TRANGROUP:2270
TRANGROUP:2270 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2270
TRANGROUP:2270
TRANGROUP:2270 parse_check_eol proc near	       ; ...
TRANGROUP:2270		       xor     dx, dx
TRANGROUP:2272		       mov     ds:parse_last, si
TRANGROUP:2276		       call    cmd_parse
TRANGROUP:2279		       cmp     al, 0FFh	       ; END_OF_LINE
TRANGROUP:227B		       jz      short parse_good_eol
TRANGROUP:227D		       cmp     ax, 0	       ; RESULT_NO_ERROR
TRANGROUP:2280		       jnz     short ok_to_setup_pmsg
TRANGROUP:2282		       inc     ax
TRANGROUP:2283
TRANGROUP:2283 ok_to_setup_pmsg:		       ; ...
TRANGROUP:2283		       call    setup_parse_error_msg
TRANGROUP:2286
TRANGROUP:2286 parse_good_eol:			       ; ...
TRANGROUP:2286		       retn
TRANGROUP:2286 parse_check_eol endp
TRANGROUP:2286
TRANGROUP:2287
TRANGROUP:2287 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2287
TRANGROUP:2287
TRANGROUP:2287 Parse_With_Msg  proc near	       ; ...
TRANGROUP:2287		       mov     ds:parse_last, si
TRANGROUP:228B		       call    cmd_parse
TRANGROUP:228E		       cmp     al, 0FFh
TRANGROUP:2290		       jz      short parse_msg_good
TRANGROUP:2292		       cmp     ax, 0
TRANGROUP:2295		       jz      short parse_msg_good
TRANGROUP:2297		       call    setup_parse_error_msg
TRANGROUP:229A
TRANGROUP:229A parse_msg_good:			       ; ...
TRANGROUP:229A		       retn
TRANGROUP:229A Parse_With_Msg  endp
TRANGROUP:229A
TRANGROUP:229B
TRANGROUP:229B ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:229B
TRANGROUP:229B
TRANGROUP:229B setup_parse_error_msg proc near	       ; ...
TRANGROUP:229B		       mov     ds:msg_disp_class, 2 ; parse_msg_class
TRANGROUP:22A0		       mov     dx, offset extend_buf_ptr
TRANGROUP:22A3		       mov     byte ptr	[si], 0	; END_OF_LINE_OUT
TRANGROUP:22A6		       mov     ds:extend_buf_ptr, ax
TRANGROUP:22A9		       cmp     ax, 2
TRANGROUP:22AC		       jz      short setup_parse_msg_ret
TRANGROUP:22AE		       mov     si, ds:parse_last
TRANGROUP:22B2		       mov     ds:string_ptr_2,	si
TRANGROUP:22B6		       mov     ds:extend_buf_sub, 1 ; one_subst
TRANGROUP:22BB
TRANGROUP:22BB setup_parse_msg_ret:		       ; ...
TRANGROUP:22BB		       inc     si
TRANGROUP:22BC		       retn
TRANGROUP:22BC setup_parse_error_msg endp
TRANGROUP:22BC
TRANGROUP:22BD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:22BD
TRANGROUP:22BD ADD_PROMPT:			       ; ...
TRANGROUP:22BD		       call    delete_prompt
TRANGROUP:22C0		       call    scan_double_null
TRANGROUP:22C3		       push    si
TRANGROUP:22C4		       call    GETARG
TRANGROUP:22C7		       pop     si
TRANGROUP:22C8		       jnz     short ADD_PROMPT3
TRANGROUP:22CA
TRANGROUP:22CA ADD_PROMPT_RETN:			       ; ...
TRANGROUP:22CA		       retn
TRANGROUP:22CB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:22CB
TRANGROUP:22CB ADD_PROMPT3:			       ; ...
TRANGROUP:22CB		       call    move_name
TRANGROUP:22CE		       call    GETARG
TRANGROUP:22D1		       push    si
TRANGROUP:22D2		       jmp     short ADD_NAME
TRANGROUP:22D4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:22D4
TRANGROUP:22D4 DISP_ENVJ:			       ; ...
TRANGROUP:22D4		       jmp     DISP_ENV
TRANGROUP:22D7 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:22D7
TRANGROUP:22D7 ADD_NAME_TO_ENVIRONMENT:		       ; ...
TRANGROUP:22D7		       call    GETARG
TRANGROUP:22DA		       jz      short DISP_ENVJ
TRANGROUP:22DC		       xor     bx, bx
TRANGROUP:22DE		       push    si
TRANGROUP:22DF
TRANGROUP:22DF EQLP:				       ; ...
TRANGROUP:22DF		       lodsb
TRANGROUP:22E0		       cmp     al, 13	       ; 0Dh
TRANGROUP:22E2		       jz      short QUEQ
TRANGROUP:22E4		       cmp     al, '='
TRANGROUP:22E6		       jnz     short EQLP
TRANGROUP:22E8		       inc     bl
TRANGROUP:22EA		       cmp     byte ptr	[si], 13 ; 0Dh
TRANGROUP:22ED		       jnz     short EQLP
TRANGROUP:22EF		       inc     bh
TRANGROUP:22F1		       jmp     short EQLP
TRANGROUP:22F3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:22F3
TRANGROUP:22F3 QUEQ:				       ; ...
TRANGROUP:22F3		       pop     si
TRANGROUP:22F4		       dec     bl
TRANGROUP:22F6		       jz      short ONEQ
TRANGROUP:22F8		       mov     dx, offset SYNTMES_PTR
TRANGROUP:22FB		       jmp     cerror
TRANGROUP:22FE ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:22FE
TRANGROUP:22FE ONEQ:				       ; ...
TRANGROUP:22FE		       push    bx
TRANGROUP:22FF		       call    delete_name_in_environment
TRANGROUP:2302		       pop     bx
TRANGROUP:2303		       dec     bh
TRANGROUP:2305		       jz      short ADD_PROMPT_RETN
TRANGROUP:2307		       call    scan_double_null
TRANGROUP:230A		       mov     bx, di
TRANGROUP:230C		       call    move_name
TRANGROUP:230F		       push    si
TRANGROUP:2310		       xchg    bx, di
TRANGROUP:2312		       mov     ds:comspec_flag,	0
TRANGROUP:2317		       mov     si, offset COMSPECSTR ; "COMSPEC="
TRANGROUP:231A		       mov     cx, 4
TRANGROUP:231D		       repe cmpsw
TRANGROUP:231F		       jnz     short NOT_COMSPEC
TRANGROUP:2321		       inc     ds:comspec_flag
TRANGROUP:2325
TRANGROUP:2325 NOT_COMSPEC:			       ; ...
TRANGROUP:2325		       mov     di, bx
TRANGROUP:2327
TRANGROUP:2327 ADD_NAME:			       ; ...
TRANGROUP:2327		       pop     si
TRANGROUP:2328		       push    si
TRANGROUP:2329
TRANGROUP:2329 ADD_NAME1:			       ; ...
TRANGROUP:2329		       lodsb
TRANGROUP:232A		       cmp     al, 0Dh	       ; 13
TRANGROUP:232C		       jz      short ADD_NAME_RET
TRANGROUP:232E		       call    store_char
TRANGROUP:2331		       jmp     short ADD_NAME1
TRANGROUP:2333 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2333
TRANGROUP:2333 ADD_NAME_RET:			       ; ...
TRANGROUP:2333		       pop     si
TRANGROUP:2334		       cmp     ds:comspec_flag,	0
TRANGROUP:2339
TRANGROUP:2339 ADD_NAME_JZ_RET:			       ; ...
TRANGROUP:2339		       jz      short ADD_PROMPT_RETN
TRANGROUP:233B		       call    scanoff
TRANGROUP:233E		       mov     es, ds:RESSEG
TRANGROUP:2342		       mov     di, offset ComSpec
TRANGROUP:2345		       mov     bx, di
TRANGROUP:2347		       xor     ax, ax
TRANGROUP:2349		       mov     es:ComDrv, al
TRANGROUP:234D		       push    ax
TRANGROUP:234E		       mov     al, [si]
TRANGROUP:2350		       call    testkanj
TRANGROUP:2353		       pop     ax
TRANGROUP:2354		       jnz     short _GOTDRIVE
TRANGROUP:2356		       cmp     byte ptr	[si+1],	':'
TRANGROUP:235A		       jnz     short _GOTDRIVE
TRANGROUP:235C		       mov     al, [si]
TRANGROUP:235E		       call    UPCONV
TRANGROUP:2361		       sub     al, 'A'
TRANGROUP:2363		       add     di, 2
TRANGROUP:2366		       inc     al
TRANGROUP:2368		       mov     es:ComDrv, al
TRANGROUP:236C		       add     al, 40h ; '@'   ; 'A'-1
TRANGROUP:236E
TRANGROUP:236E _GOTDRIVE:			       ; ...
TRANGROUP:236E		       mov     es:PutBackComSpec, di
TRANGROUP:2373		       mov     es:PutBackDrv, al
TRANGROUP:2377		       mov     di, bx
TRANGROUP:2379
TRANGROUP:2379 COPY_COMSPEC:			       ; ...
TRANGROUP:2379		       lodsb
TRANGROUP:237A		       call    DELIM
TRANGROUP:237D		       jz      short COPYDONE
TRANGROUP:237F		       cmp     al, 0Dh	       ; 13
TRANGROUP:2381		       jz      short COPYDONE
TRANGROUP:2383		       stosb
TRANGROUP:2384		       jmp     short COPY_COMSPEC
TRANGROUP:2386 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2386
TRANGROUP:2386 COPYDONE:			       ; ...
TRANGROUP:2386		       xor     al, al
TRANGROUP:2388		       stosb
TRANGROUP:2389		       mov     ds:comspec_flag,	0
TRANGROUP:238E		       dec     di
TRANGROUP:238F		       mov     es:ComSpec_End, di
TRANGROUP:2394		       retn
TRANGROUP:2395 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2395
TRANGROUP:2395 DISP_ENV:			       ; ...
TRANGROUP:2395		       mov     ds, ds:RESSEG
TRANGROUP:2399		       mov     ds, ds:EnvirSeg
TRANGROUP:239D		       xor     si, si
TRANGROUP:239F
TRANGROUP:239F PENVLP:				       ; ...
TRANGROUP:239F		       cmp     byte ptr	[si], 0
TRANGROUP:23A2		       jz      short ADD_NAME_JZ_RET
TRANGROUP:23A4		       mov     di, offset Arg_Buf
TRANGROUP:23A7
TRANGROUP:23A7 PENVLP2:				       ; ...
TRANGROUP:23A7		       lodsb
TRANGROUP:23A8		       stosb
TRANGROUP:23A9		       or      al, al
TRANGROUP:23AB		       jnz     short PENVLP2
TRANGROUP:23AD		       mov     dx, offset arg_buf_ptr
TRANGROUP:23B0		       push    ds
TRANGROUP:23B1		       push    es
TRANGROUP:23B2		       pop     ds
TRANGROUP:23B3		       call    Printf_Crlf
TRANGROUP:23B6		       pop     ds
TRANGROUP:23B7		       jmp     short PENVLP
TRANGROUP:23B9
TRANGROUP:23B9 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:23B9
TRANGROUP:23B9
TRANGROUP:23B9 delete_path     proc near	       ; ...
TRANGROUP:23B9		       mov     si, offset PATH_TEXT ; "PATH="
TRANGROUP:23BC		       jmp     short delete_name_in_environment
TRANGROUP:23BC delete_path     endp
TRANGROUP:23BC
TRANGROUP:23BE
TRANGROUP:23BE ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:23BE
TRANGROUP:23BE
TRANGROUP:23BE delete_prompt   proc near	       ; ...
TRANGROUP:23BE		       mov     si, offset PROMPT_TEXT ;	"PROMPT="
TRANGROUP:23BE delete_prompt   endp
TRANGROUP:23BE
TRANGROUP:23C1
TRANGROUP:23C1 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:23C1
TRANGROUP:23C1
TRANGROUP:23C1 delete_name_in_environment proc near    ; ...
TRANGROUP:23C1		       push    si
TRANGROUP:23C2		       push    ds
TRANGROUP:23C3		       call    FIND
TRANGROUP:23C6		       jb      short del1
TRANGROUP:23C8		       mov     si, di
TRANGROUP:23CA		       call    SCASB2
TRANGROUP:23CD		       xchg    si, di
TRANGROUP:23CF		       cmp     byte ptr	es:[si], 0
TRANGROUP:23D3		       jnz     short not_dnull
TRANGROUP:23D5		       dec     si
TRANGROUP:23D6
TRANGROUP:23D6 not_dnull:			       ; ...
TRANGROUP:23D6		       call    GETENVSIZ
TRANGROUP:23D9		       sub     cx, si
TRANGROUP:23DB		       push    es
TRANGROUP:23DC		       pop     ds
TRANGROUP:23DD		       rep movsb
TRANGROUP:23DF
TRANGROUP:23DF del1:				       ; ...
TRANGROUP:23DF		       pop     ds
TRANGROUP:23E0		       pop     si
TRANGROUP:23E1
TRANGROUP:23E1 find_retn:			       ; ...
TRANGROUP:23E1		       retn
TRANGROUP:23E1 delete_name_in_environment endp
TRANGROUP:23E1
TRANGROUP:23E2
TRANGROUP:23E2 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:23E2
TRANGROUP:23E2
TRANGROUP:23E2 find_path       proc near	       ; ...
TRANGROUP:23E2		       mov     si, offset PATH_TEXT ; "PATH="
TRANGROUP:23E5		       jmp     short find_name_in_environment
TRANGROUP:23E5 find_path       endp
TRANGROUP:23E5
TRANGROUP:23E7
TRANGROUP:23E7 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:23E7
TRANGROUP:23E7
TRANGROUP:23E7 FIND_PROMPT     proc near	       ; ...
TRANGROUP:23E7		       mov     si, offset PROMPT_TEXT ;	"PROMPT="
TRANGROUP:23E7 FIND_PROMPT     endp
TRANGROUP:23E7
TRANGROUP:23EA
TRANGROUP:23EA ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:23EA
TRANGROUP:23EA
TRANGROUP:23EA find_name_in_environment	proc near      ; ...
TRANGROUP:23EA		       call    FIND
TRANGROUP:23ED		       jb      short find_retn
TRANGROUP:23EF		       jmp     SCASB1
TRANGROUP:23EF find_name_in_environment	endp
TRANGROUP:23EF
TRANGROUP:23F2
TRANGROUP:23F2 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:23F2
TRANGROUP:23F2
TRANGROUP:23F2 FIND	       proc near	       ; ...
TRANGROUP:23F2		       cld
TRANGROUP:23F3		       call    COUNT0
TRANGROUP:23F6		       mov     es, ds:RESSEG
TRANGROUP:23FA		       mov     es, es:EnvirSeg
TRANGROUP:23FF		       xor     di, di
TRANGROUP:2401
TRANGROUP:2401 find1:				       ; ...
TRANGROUP:2401		       push    cx
TRANGROUP:2402		       push    si
TRANGROUP:2403		       push    di
TRANGROUP:2404
TRANGROUP:2404 find11:				       ; ...
TRANGROUP:2404		       lodsb
TRANGROUP:2405		       call    testkanj
TRANGROUP:2408		       jz      short notkanj3
TRANGROUP:240A		       dec     si
TRANGROUP:240B		       lodsw
TRANGROUP:240C		       inc     di
TRANGROUP:240D		       inc     di
TRANGROUP:240E		       cmp     ax, es:[di-2]
TRANGROUP:2412		       jnz     short find12
TRANGROUP:2414		       dec     cx
TRANGROUP:2415		       loop    find11
TRANGROUP:2417		       jmp     short find12
TRANGROUP:2419 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2419
TRANGROUP:2419 notkanj3:			       ; ...
TRANGROUP:2419		       call    UPCONV
TRANGROUP:241C		       inc     di
TRANGROUP:241D		       cmp     al, es:[di-1]
TRANGROUP:2421		       jnz     short find12
TRANGROUP:2423		       loop    find11
TRANGROUP:2425
TRANGROUP:2425 find12:				       ; ...
TRANGROUP:2425		       pop     di
TRANGROUP:2426		       pop     si
TRANGROUP:2427		       pop     cx
TRANGROUP:2428		       jz      short find_retn
TRANGROUP:242A		       push    cx
TRANGROUP:242B		       call    SCASB2
TRANGROUP:242E		       pop     cx
TRANGROUP:242F		       cmp     byte ptr	es:[di], 0
TRANGROUP:2433		       jnz     short find1
TRANGROUP:2435		       stc
TRANGROUP:2436		       retn
TRANGROUP:2436 FIND	       endp
TRANGROUP:2436
TRANGROUP:2437
TRANGROUP:2437 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2437
TRANGROUP:2437
TRANGROUP:2437 COUNT0	       proc near	       ; ...
TRANGROUP:2437		       push    ds
TRANGROUP:2438		       pop     es
TRANGROUP:2439		       mov     di, si
TRANGROUP:243B		       push    di
TRANGROUP:243C		       call    SCASB1
TRANGROUP:243F		       jmp     short COUNTX
TRANGROUP:2441 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2441		       push    di
TRANGROUP:2442		       call    SCASB2
TRANGROUP:2445
TRANGROUP:2445 COUNTX:				       ; ...
TRANGROUP:2445		       pop     cx
TRANGROUP:2446		       sub     di, cx
TRANGROUP:2448		       xchg    di, cx
TRANGROUP:244A
TRANGROUP:244A move_name_retn:			       ; ...
TRANGROUP:244A		       retn
TRANGROUP:244A COUNT0	       endp
TRANGROUP:244A
TRANGROUP:244B
TRANGROUP:244B ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:244B
TRANGROUP:244B
TRANGROUP:244B move_name       proc near	       ; ...
TRANGROUP:244B		       cmp     byte ptr	[si], 13 ; 0Dh
TRANGROUP:244E		       jz      short move_name_retn
TRANGROUP:2450		       lodsb
TRANGROUP:2451		       call    testkanj
TRANGROUP:2454		       jz      short notkanj1
TRANGROUP:2456		       call    store_char
TRANGROUP:2459		       lodsb
TRANGROUP:245A		       call    store_char
TRANGROUP:245D		       jmp     short move_name
TRANGROUP:245F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:245F
TRANGROUP:245F notkanj1:			       ; ...
TRANGROUP:245F		       call    UPCONV
TRANGROUP:2462		       call    store_char
TRANGROUP:2465		       cmp     al, '='
TRANGROUP:2467		       jnz     short move_name
TRANGROUP:2469
TRANGROUP:2469 getarg_retn:			       ; ...
TRANGROUP:2469		       retn
TRANGROUP:2469 move_name       endp
TRANGROUP:2469
TRANGROUP:246A
TRANGROUP:246A ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:246A
TRANGROUP:246A
TRANGROUP:246A GETARG	       proc near	       ; ...
TRANGROUP:246A		       mov     si, 80h
TRANGROUP:246D		       lodsb
TRANGROUP:246E		       or      al, al
TRANGROUP:2470		       jz      short getarg_retn
TRANGROUP:2472		       call    scanoff
TRANGROUP:2475		       cmp     al, 0Dh	       ; 13
TRANGROUP:2477
TRANGROUP:2477 sdn_retn:			       ; ...
TRANGROUP:2477		       retn
TRANGROUP:2477 GETARG	       endp
TRANGROUP:2477
TRANGROUP:2478
TRANGROUP:2478 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2478
TRANGROUP:2478
TRANGROUP:2478 scan_double_null	proc near	       ; ...
TRANGROUP:2478		       mov     es, ds:RESSEG
TRANGROUP:247C		       mov     es, es:EnvirSeg
TRANGROUP:2481		       xor     di, di
TRANGROUP:2483
TRANGROUP:2483 sdn1:				       ; ...
TRANGROUP:2483		       cmp     byte ptr	es:[di], 0
TRANGROUP:2487		       jz      short sdn_retn
TRANGROUP:2489		       call    SCASB2
TRANGROUP:248C		       jmp     short sdn1
TRANGROUP:248C scan_double_null	endp
TRANGROUP:248C
TRANGROUP:248E
TRANGROUP:248E ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:248E
TRANGROUP:248E
TRANGROUP:248E SCASB1	       proc near	       ; ...
TRANGROUP:248E		       mov     al, '='
TRANGROUP:2490		       jmp     short SCASBX
TRANGROUP:2490 SCASB1	       endp
TRANGROUP:2490
TRANGROUP:2492
TRANGROUP:2492 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2492
TRANGROUP:2492
TRANGROUP:2492 SCASB2	       proc near	       ; ...
TRANGROUP:2492		       xor     al, al	       ; null
TRANGROUP:2494
TRANGROUP:2494 SCASBX:				       ; ...
TRANGROUP:2494		       mov     cx, 256
TRANGROUP:2497		       repne scasb
TRANGROUP:2499		       retn
TRANGROUP:2499 SCASB2	       endp
TRANGROUP:2499
TRANGROUP:249A
TRANGROUP:249A ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:249A
TRANGROUP:249A
TRANGROUP:249A testkanj	       proc near	       ; ...
TRANGROUP:249A		       push    ds
TRANGROUP:249B		       push    si
TRANGROUP:249C		       push    ax
TRANGROUP:249D		       mov     ds, cs:RESSEG
TRANGROUP:24A2		       lds     si, dword ptr ds:Dbcs_Vector_Addr
TRANGROUP:24A6
TRANGROUP:24A6 ktlop:				       ; ...
TRANGROUP:24A6		       cmp     word ptr	[si], 0
TRANGROUP:24A9		       jz      short notlead
TRANGROUP:24AB		       pop     ax
TRANGROUP:24AC		       push    ax
TRANGROUP:24AD		       cmp     al, [si]
TRANGROUP:24AF		       jb      short notlead
TRANGROUP:24B1		       inc     si
TRANGROUP:24B2		       cmp     al, [si]
TRANGROUP:24B4		       jbe     short islead
TRANGROUP:24B6		       inc     si
TRANGROUP:24B7		       jmp     short ktlop
TRANGROUP:24B9 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:24B9
TRANGROUP:24B9 notlead:				       ; ...
TRANGROUP:24B9		       xor     ax, ax
TRANGROUP:24BB		       jmp     short ktret
TRANGROUP:24BD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:24BD
TRANGROUP:24BD islead:				       ; ...
TRANGROUP:24BD		       xor     ax, ax
TRANGROUP:24BF		       inc     ax
TRANGROUP:24C0
TRANGROUP:24C0 ktret:				       ; ...
TRANGROUP:24C0		       pop     ax
TRANGROUP:24C1		       pop     si
TRANGROUP:24C2		       pop     ds
TRANGROUP:24C3		       retn
TRANGROUP:24C3 testkanj	       endp
TRANGROUP:24C3
TRANGROUP:24C4
TRANGROUP:24C4 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:24C4
TRANGROUP:24C4
TRANGROUP:24C4 UPCONV	       proc near	       ; ...
TRANGROUP:24C4		       cmp     al, 80h
TRANGROUP:24C6		       jb      short oth_fucase
TRANGROUP:24C8		       sub     al, 80h
TRANGROUP:24CA		       push    ds
TRANGROUP:24CB		       push    bx
TRANGROUP:24CC		       mov     ds, ds:RESSEG
TRANGROUP:24D0		       lds     bx, dword ptr ds:FUCase_Addr+1
TRANGROUP:24D4		       add     bx, 2
TRANGROUP:24D7		       xlat
TRANGROUP:24D8		       pop     bx
TRANGROUP:24D9		       pop     ds
TRANGROUP:24DA		       jmp     short upconv_end
TRANGROUP:24DC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:24DC
TRANGROUP:24DC oth_fucase:			       ; ...
TRANGROUP:24DC		       cmp     al, 61h ; 'a'   ; small_a
TRANGROUP:24DE		       jb      short upconv_end
TRANGROUP:24E0		       cmp     al, 7Ah ; 'z'   ; small_z
TRANGROUP:24E2		       ja      short upconv_end
TRANGROUP:24E4		       sub     al, 20h
TRANGROUP:24E6
TRANGROUP:24E6 upconv_end:			       ; ...
TRANGROUP:24E6		       retn
TRANGROUP:24E6 UPCONV	       endp
TRANGROUP:24E6
TRANGROUP:24E7
TRANGROUP:24E7 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:24E7
TRANGROUP:24E7
TRANGROUP:24E7 store_char      proc near	       ; ...
TRANGROUP:24E7		       push    cx
TRANGROUP:24E8		       push    bx
TRANGROUP:24E9		       push    es
TRANGROUP:24EA		       push    ds
TRANGROUP:24EB		       mov     ds, ds:RESSEG
TRANGROUP:24EF		       mov     es, ds:EnvirSeg
TRANGROUP:24F3		       pop     ds
TRANGROUP:24F4		       call    GETENVSIZ
TRANGROUP:24F7		       mov     bx, cx
TRANGROUP:24F9		       sub     bx, 2
TRANGROUP:24FC		       cmp     di, bx
TRANGROUP:24FE		       jb      short store1
TRANGROUP:2500		       push    ax
TRANGROUP:2501		       push    cx
TRANGROUP:2502		       push    bx
TRANGROUP:2503		       call    FREE_TPA
TRANGROUP:2506		       pop     bx
TRANGROUP:2507		       add     bx, 2
TRANGROUP:250A		       cmp     bx, 8000h
TRANGROUP:250E		       jb      short envsiz_ok
TRANGROUP:2510
TRANGROUP:2510 bad_env_size:			       ; ...
TRANGROUP:2510		       stc
TRANGROUP:2511		       jmp     short envnoset
TRANGROUP:2513 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2513
TRANGROUP:2513 envsiz_ok:			       ; ...
TRANGROUP:2513		       mov     cl, 4
TRANGROUP:2515		       shr     bx, cl
TRANGROUP:2517		       inc     bx
TRANGROUP:2518		       mov     cx, es
TRANGROUP:251A		       add     cx, bx
TRANGROUP:251C		       add     cx, 20h ; ' '
TRANGROUP:251F		       mov     ax, cs
TRANGROUP:2521		       cmp     cx, ax
TRANGROUP:2523		       jnb     short bad_env_size
TRANGROUP:2525		       mov     ah, 4Ah
TRANGROUP:2527		       int     21h	       ; DOS - 2+ - ADJUST MEMORY BLOCK	SIZE (SETBLOCK)
TRANGROUP:2527					       ; ES = segment address of block to change
TRANGROUP:2527					       ; BX = new size in paragraphs
TRANGROUP:2529
TRANGROUP:2529 envnoset:			       ; ...
TRANGROUP:2529		       pushf
TRANGROUP:252A		       push    es
TRANGROUP:252B		       mov     es, ds:RESSEG
TRANGROUP:252F		       call    ALLOC_TPA
TRANGROUP:2532		       pop     es
TRANGROUP:2533		       popf
TRANGROUP:2534		       pop     cx
TRANGROUP:2535		       pop     ax
TRANGROUP:2536		       jnb     short store1
TRANGROUP:2538		       pop     es
TRANGROUP:2539		       mov     dx, offset ENVERR_PTR
TRANGROUP:253C		       jmp     cerror
TRANGROUP:253F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:253F
TRANGROUP:253F store1:				       ; ...
TRANGROUP:253F		       stosb
TRANGROUP:2540		       mov     word ptr	es:[di], 0
TRANGROUP:2545		       pop     es
TRANGROUP:2546		       pop     bx
TRANGROUP:2547		       pop     cx
TRANGROUP:2548		       retn
TRANGROUP:2548 store_char      endp
TRANGROUP:2548
TRANGROUP:2549
TRANGROUP:2549 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2549
TRANGROUP:2549
TRANGROUP:2549 GETENVSIZ       proc near	       ; ...
TRANGROUP:2549		       push    es
TRANGROUP:254A		       push    ax
TRANGROUP:254B		       mov     ax, es
TRANGROUP:254D		       dec     ax
TRANGROUP:254E		       mov     es, ax
TRANGROUP:2550		       assume es:nothing
TRANGROUP:2550		       mov     ax, es:3	       ; [es:ARENA.size]
TRANGROUP:2554		       mov     cl, 4
TRANGROUP:2556		       shl     ax, cl
TRANGROUP:2558		       mov     cx, ax
TRANGROUP:255A		       pop     ax
TRANGROUP:255B		       pop     es
TRANGROUP:255C		       assume es:nothing
TRANGROUP:255C
TRANGROUP:255C getenvsiz_retn:			       ; ...
TRANGROUP:255C		       retn
TRANGROUP:255C GETENVSIZ       endp
TRANGROUP:255C
TRANGROUP:255D
TRANGROUP:255D ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:255D
TRANGROUP:255D
TRANGROUP:255D RestUDir1       proc near	       ; ...
TRANGROUP:255D		       push    ds
TRANGROUP:255E		       mov     ds, ds:RESSEG
TRANGROUP:2562		       cmp     ds:RestDir, 0
TRANGROUP:2567		       pop     ds
TRANGROUP:2568		       jz      short getenvsiz_retn
TRANGROUP:256A
TRANGROUP:256A RestUDir:			       ; ...
TRANGROUP:256A		       mov     dx, offset USERDIR1
TRANGROUP:256D		       mov     ah, 3Bh
TRANGROUP:256F		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:256F					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:2571		       xor     al, al
TRANGROUP:2573		       call    SETREST
TRANGROUP:2576		       retn
TRANGROUP:2576 RestUDir1       endp
TRANGROUP:2576
TRANGROUP:2577 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2577
TRANGROUP:2577 _$CHDIR:				       ; ...
TRANGROUP:2577		       mov     si, 81h
TRANGROUP:257A		       mov     di, offset PARSE_CHDIR
TRANGROUP:257D		       xor     cx, cx
TRANGROUP:257F		       xor     dx, dx
TRANGROUP:2581		       call    Parse_With_Msg
TRANGROUP:2584		       cmp     ax, 0FFFFh
TRANGROUP:2587		       jz      short bwdj
TRANGROUP:2589		       cmp     ax, 0
TRANGROUP:258C		       jnz     short ChDirErr
TRANGROUP:258E		       cmp     ds:PARSE1_OUTPUT, 6 ; [PARSE1_TYPE],result_drive
TRANGROUP:2593		       jnz     short REALCD
TRANGROUP:2595		       mov     di, offset PARSE_CHDIR
TRANGROUP:2598		       xor     dx, dx
TRANGROUP:259A		       call    parse_check_eol
TRANGROUP:259D		       jnz     short ChDirErr
TRANGROUP:259F
TRANGROUP:259F bwdj:				       ; ...
TRANGROUP:259F		       call    build_dir_for_chdir
TRANGROUP:25A2		       call    CRLF2
TRANGROUP:25A5
TRANGROUP:25A5 chdir_retn:			       ; ...
TRANGROUP:25A5		       retn
TRANGROUP:25A6 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:25A6
TRANGROUP:25A6 REALCD:				       ; ...
TRANGROUP:25A6		       push    si
TRANGROUP:25A7		       lds     si, ds:PARSE1_ADDR
TRANGROUP:25AB		       call    Move_To_SrcBuf
TRANGROUP:25AE		       pop     si
TRANGROUP:25AF		       mov     di, offset PARSE_CHDIR
TRANGROUP:25B2		       xor     dx, dx
TRANGROUP:25B4		       call    parse_check_eol
TRANGROUP:25B7		       jnz     short ChDirErr
TRANGROUP:25B9		       call    SETPATH
TRANGROUP:25BC		       test    ds:DestInfo, 2
TRANGROUP:25C1		       jnz     short BadChDir
TRANGROUP:25C3		       mov     ah, 3Bh	       ; CHDIR
TRANGROUP:25C5		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:25C5					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:25C7		       jnb     short chdir_retn
TRANGROUP:25C9		       call    get_ext_error_number
TRANGROUP:25CC		       cmp     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:25CF		       jz      short BadChDir
TRANGROUP:25D1		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:25D4		       jz      short BadChDir
TRANGROUP:25D6		       call    set_ext_error_subst
TRANGROUP:25D9		       jmp     short ChDirErr
TRANGROUP:25DB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:25DB
TRANGROUP:25DB BadChDir:			       ; ...
TRANGROUP:25DB		       mov     dx, offset badcd_ptr
TRANGROUP:25DE
TRANGROUP:25DE ChDirErr:			       ; ...
TRANGROUP:25DE		       call    std_eprintf
TRANGROUP:25E1
TRANGROUP:25E1 mkdir_retn:			       ; ...
TRANGROUP:25E1		       retn
TRANGROUP:25E2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:25E2
TRANGROUP:25E2 _$MKDIR:				       ; ...
TRANGROUP:25E2		       call    SETRMMK
TRANGROUP:25E5		       jb      short MkDirErr
TRANGROUP:25E7		       mov     ah, 39h
TRANGROUP:25E9		       int     21h	       ; DOS - 2+ - CREATE A SUBDIRECTORY (MKDIR)
TRANGROUP:25E9					       ; DS:DX -> ASCIZ	pathname (may include drive)
TRANGROUP:25EB		       jnb     short mkdir_retn
TRANGROUP:25ED		       call    get_ext_error_number
TRANGROUP:25F0		       cmp     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:25F3		       jz      short MD_other_err
TRANGROUP:25F5		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:25F8		       jz      short badmderr
TRANGROUP:25FA		       call    set_ext_error_subst
TRANGROUP:25FD		       jmp     short MkDirErr
TRANGROUP:25FF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:25FF
TRANGROUP:25FF badmderr:			       ; ...
TRANGROUP:25FF		       mov     dx, offset SRCXNAME
TRANGROUP:2602		       mov     ah, 1Ah	       ; Set_DMA
TRANGROUP:2604		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:2604					       ; DS:DX -> disk transfer	buffer
TRANGROUP:2606		       mov     ah, 4Eh	       ; Find_First
TRANGROUP:2608		       mov     cx, 10h	       ; ATTR_DIRECTORY
TRANGROUP:260B		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:260B					       ; CX = search attributes
TRANGROUP:260B					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:260B					       ; (drive, path, and wildcards allowed)
TRANGROUP:260D		       jb      short MD_other_err
TRANGROUP:260F		       mov     dl, ds:SRCXNAME+15h ; [SRCXNAME+FIND_BUF.ATTR] ;	[SRCXNAME+21]
TRANGROUP:2613		       test    dl, 10h
TRANGROUP:2616		       jz      short MD_other_err
TRANGROUP:2618		       mov     dx, offset MD_EXISTS_PTR
TRANGROUP:261B		       jmp     short MkDirErr
TRANGROUP:261D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:261D
TRANGROUP:261D MD_other_err:			       ; ...
TRANGROUP:261D		       mov     dx, offset badmkd_ptr
TRANGROUP:2620
TRANGROUP:2620 MkDirErr:			       ; ...
TRANGROUP:2620		       call    std_eprintf
TRANGROUP:2623
TRANGROUP:2623 setrmmk_retn:			       ; ...
TRANGROUP:2623		       retn
TRANGROUP:2624
TRANGROUP:2624 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2624
TRANGROUP:2624
TRANGROUP:2624 SETRMMK	       proc near	       ; ...
TRANGROUP:2624		       mov     si, 81h
TRANGROUP:2627		       mov     di, offset PARSE_MRDIR
TRANGROUP:262A		       xor     cx, cx
TRANGROUP:262C		       xor     dx, dx
TRANGROUP:262E		       call    Parse_With_Msg
TRANGROUP:2631		       cmp     ax, 0	       ; RESULT_NO_ERROR
TRANGROUP:2634		       jnz     short noargerr
TRANGROUP:2636		       mov     di, offset SRCXNAME
TRANGROUP:2639		       push    di
TRANGROUP:263A		       push    si
TRANGROUP:263B		       lds     si, ds:PARSE1_ADDR
TRANGROUP:263F
TRANGROUP:263F mrdir_move_filename:		       ; ...
TRANGROUP:263F		       lodsb
TRANGROUP:2640		       stosb
TRANGROUP:2641		       cmp     al, 0	       ; END_OF_LINE_OUT
TRANGROUP:2643		       jnz     short mrdir_move_filename
TRANGROUP:2645		       pop     si
TRANGROUP:2646		       mov     di, offset PARSE_MRDIR
TRANGROUP:2649		       call    parse_check_eol
TRANGROUP:264C		       pop     dx
TRANGROUP:264D		       jz      short setrmmk_retn
TRANGROUP:264F
TRANGROUP:264F noargerr:			       ; ...
TRANGROUP:264F		       mov     dx, offset extend_buf_ptr
TRANGROUP:2652		       xor     ax, ax
TRANGROUP:2654		       stc
TRANGROUP:2655
TRANGROUP:2655 rmdir_retn:			       ; ...
TRANGROUP:2655		       retn
TRANGROUP:2655 SETRMMK	       endp
TRANGROUP:2655
TRANGROUP:2656 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2656
TRANGROUP:2656 _$RMDIR:				       ; ...
TRANGROUP:2656		       call    SETRMMK
TRANGROUP:2659		       jb      short RmDirErr
TRANGROUP:265B		       jnz     short badrderr
TRANGROUP:265D		       mov     ah, 3Ah	       ; RMDIR
TRANGROUP:265F		       int     21h	       ; DOS - 2+ - REMOVE A DIRECTORY ENTRY (RMDIR)
TRANGROUP:265F					       ; DS:DX -> ASCIZ	pathname (may include drive)
TRANGROUP:2661		       jnb     short rmdir_retn
TRANGROUP:2663		       call    get_ext_error_number
TRANGROUP:2666		       cmp     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:2669		       jz      short badrderr
TRANGROUP:266B		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:266E		       jz      short badrderr
TRANGROUP:2670		       call    set_ext_error_subst
TRANGROUP:2673		       jmp     short RmDirErr
TRANGROUP:2675 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2675
TRANGROUP:2675 badrderr:			       ; ...
TRANGROUP:2675		       mov     dx, offset badrmd_ptr
TRANGROUP:2678
TRANGROUP:2678 RmDirErr:			       ; ...
TRANGROUP:2678		       call    std_eprintf
TRANGROUP:267B
TRANGROUP:267B savudir_err_retn:		       ; ...
TRANGROUP:267B		       retn
TRANGROUP:267C
TRANGROUP:267C ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:267C
TRANGROUP:267C
TRANGROUP:267C set_ext_error_subst proc	near	       ; ...
TRANGROUP:267C		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:2681		       mov     ds:string_ptr_2,	dx
TRANGROUP:2685		       mov     ds:extend_buf_sub, 1 ; one_subst
TRANGROUP:268A		       mov     dx, offset extend_buf_ptr
TRANGROUP:268D		       mov     ds:extend_buf_ptr, ax
TRANGROUP:2690		       retn
TRANGROUP:2690 set_ext_error_subst endp
TRANGROUP:2690
TRANGROUP:2691
TRANGROUP:2691 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2691
TRANGROUP:2691
TRANGROUP:2691 SAVUDIR	       proc near	       ; ...
TRANGROUP:2691		       mov     di, offset USERDIR1
TRANGROUP:2694
TRANGROUP:2694 SAVUDIR1:			       ; ...
TRANGROUP:2694		       mov     al, dl
TRANGROUP:2696		       add     al, 40h ; '@'
TRANGROUP:2698		       cmp     al, 40h ; '@'
TRANGROUP:269A		       jnz     short GOTUDRV
TRANGROUP:269C		       add     al, ds:CURDRV
TRANGROUP:26A0		       inc     al
TRANGROUP:26A2
TRANGROUP:26A2 GOTUDRV:				       ; ...
TRANGROUP:26A2		       stosb
TRANGROUP:26A3		       mov     ah, ds:DIRCHAR
TRANGROUP:26A7		       mov     al, ':'         ; 3Ah
TRANGROUP:26A9		       stosw
TRANGROUP:26AA		       push    es
TRANGROUP:26AB		       pop     ds
TRANGROUP:26AC		       mov     si, di
TRANGROUP:26AE		       mov     ah, 47h
TRANGROUP:26B0		       int     21h	       ; DOS - 2+ - GET	CURRENT	DIRECTORY
TRANGROUP:26B0					       ; DL = drive (0=default,	1=A, etc.)
TRANGROUP:26B0					       ; DS:SI points to 64-byte buffer	area
TRANGROUP:26B2		       jb      short savudir_err_retn
TRANGROUP:26B4		       push    cs
TRANGROUP:26B5		       pop     ds
TRANGROUP:26B6		       assume ds:TRANGROUP
TRANGROUP:26B6		       retn
TRANGROUP:26B6 SAVUDIR	       endp
TRANGROUP:26B6
TRANGROUP:26B7
TRANGROUP:26B7 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:26B7
TRANGROUP:26B7
TRANGROUP:26B7 CRLF2	       proc near	       ; ...
TRANGROUP:26B7		       push    dx
TRANGROUP:26B8		       mov     dx, offset acrlf_ptr
TRANGROUP:26BB		       push    ds
TRANGROUP:26BC		       push    cs
TRANGROUP:26BD		       pop     ds
TRANGROUP:26BE		       call    std_printf
TRANGROUP:26C1		       pop     ds
TRANGROUP:26C2		       assume ds:nothing
TRANGROUP:26C2		       pop     dx
TRANGROUP:26C3		       retn
TRANGROUP:26C3 CRLF2	       endp
TRANGROUP:26C3
TRANGROUP:26C4
TRANGROUP:26C4 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:26C4
TRANGROUP:26C4
TRANGROUP:26C4 scanoff	       proc near	       ; ...
TRANGROUP:26C4		       lodsb
TRANGROUP:26C5		       call    DELIM
TRANGROUP:26C8		       jz      short scanoff
TRANGROUP:26CA		       dec     si
TRANGROUP:26CB
TRANGROUP:26CB scanoff_retn:			       ; ...
TRANGROUP:26CB		       retn
TRANGROUP:26CB scanoff	       endp
TRANGROUP:26CB
TRANGROUP:26CC
TRANGROUP:26CC ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:26CC
TRANGROUP:26CC
TRANGROUP:26CC DELIM	       proc near	       ; ...
TRANGROUP:26CC		       cmp     al, 20h ; ' '
TRANGROUP:26CE		       jz      short scanoff_retn
TRANGROUP:26D0		       cmp     al, '='
TRANGROUP:26D2		       jz      short scanoff_retn
TRANGROUP:26D4		       cmp     al, ','
TRANGROUP:26D6		       jz      short scanoff_retn
TRANGROUP:26D8		       cmp     al, ';'
TRANGROUP:26DA		       jz      short scanoff_retn
TRANGROUP:26DC		       cmp     al, 9
TRANGROUP:26DE		       jz      short scanoff_retn
TRANGROUP:26E0		       cmp     al, 0Ah
TRANGROUP:26E2		       retn
TRANGROUP:26E2 DELIM	       endp
TRANGROUP:26E2
TRANGROUP:26E3
TRANGROUP:26E3 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:26E3
TRANGROUP:26E3
TRANGROUP:26E3 FCB_TO_ASCZ     proc near	       ; ...
TRANGROUP:26E3		       mov     cx, 8
TRANGROUP:26E6
TRANGROUP:26E6 MAINNAME:			       ; ...
TRANGROUP:26E6		       lodsb
TRANGROUP:26E7		       cmp     al, 20h ; ' '
TRANGROUP:26E9		       jz      short SKIPSPC
TRANGROUP:26EB		       stosb
TRANGROUP:26EC
TRANGROUP:26EC SKIPSPC:				       ; ...
TRANGROUP:26EC		       loop    MAINNAME
TRANGROUP:26EE		       lodsb
TRANGROUP:26EF		       cmp     al, 20h ; ' '
TRANGROUP:26F1		       jz      short GOTNAME
TRANGROUP:26F3		       mov     ah, al
TRANGROUP:26F5		       mov     al, 2Eh ; '.'
TRANGROUP:26F7		       stosb
TRANGROUP:26F8		       xchg    al, ah
TRANGROUP:26FA		       stosb
TRANGROUP:26FB		       mov     cl, 2
TRANGROUP:26FD
TRANGROUP:26FD EXTNAME:				       ; ...
TRANGROUP:26FD		       lodsb
TRANGROUP:26FE		       cmp     al, 20h ; ' '
TRANGROUP:2700		       jz      short GOTNAME
TRANGROUP:2702		       stosb
TRANGROUP:2703		       loop    EXTNAME
TRANGROUP:2705
TRANGROUP:2705 GOTNAME:				       ; ...
TRANGROUP:2705		       xor     al, al
TRANGROUP:2707		       stosb
TRANGROUP:2708
TRANGROUP:2708 STRCOMP_RETN:			       ; ...
TRANGROUP:2708		       retn
TRANGROUP:2708 FCB_TO_ASCZ     endp
TRANGROUP:2708
TRANGROUP:2709
TRANGROUP:2709 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2709
TRANGROUP:2709
TRANGROUP:2709 STRCOMP	       proc near	       ; ...
TRANGROUP:2709		       cmpsb
TRANGROUP:270A		       jnz     short STRCOMP_RETN
TRANGROUP:270C		       cmp     byte ptr	[si-1],	0
TRANGROUP:2710		       jz      short STRCOMP_RETN
TRANGROUP:2712		       jmp     short STRCOMP
TRANGROUP:2712 STRCOMP	       endp
TRANGROUP:2712
TRANGROUP:2714
TRANGROUP:2714 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2714
TRANGROUP:2714
TRANGROUP:2714 CRPRINT	       proc near	       ; ...
TRANGROUP:2714		       push    ax
TRANGROUP:2715		       mov     al, 0Dh	       ; 13
TRANGROUP:2717		       push    cx
TRANGROUP:2718		       push    di
TRANGROUP:2719		       mov     di, dx
TRANGROUP:271B		       mov     cx, 65535       ; 0FFFFh
TRANGROUP:271E		       push    es
TRANGROUP:271F		       push    ds
TRANGROUP:2720		       pop     es
TRANGROUP:2721		       repne scasb
TRANGROUP:2723		       mov     byte ptr	[di-1],	0
TRANGROUP:2727		       pop     es
TRANGROUP:2728		       mov     ds:string_ptr_2,	dx
TRANGROUP:272C		       mov     dx, offset string_buf_ptr
TRANGROUP:272F		       call    std_printf
TRANGROUP:2732		       mov     byte ptr	[di-1],	0Dh ; 13
TRANGROUP:2736		       jb      short error_output
TRANGROUP:2738		       pop     di
TRANGROUP:2739		       pop     cx
TRANGROUP:273A		       pop     ax
TRANGROUP:273B		       retn
TRANGROUP:273C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:273C
TRANGROUP:273C error_output:			       ; ...
TRANGROUP:273C		       push    cs
TRANGROUP:273D		       pop     ds
TRANGROUP:273E		       assume ds:TRANGROUP
TRANGROUP:273E		       mov     es, RESSEG
TRANGROUP:2742		       mov     dx, offset NOSPACE_PTR
TRANGROUP:2745		       cmp     es:PipeFlag, 0
TRANGROUP:274B		       jz      short go_to_error
TRANGROUP:274D		       call    PipeOff
TRANGROUP:2750		       mov     dx, offset PIPEEMES_PTR
TRANGROUP:2753
TRANGROUP:2753 go_to_error:			       ; ...
TRANGROUP:2753		       jmp     cerror
TRANGROUP:2753 CRPRINT	       endp
TRANGROUP:2753
TRANGROUP:2756
TRANGROUP:2756 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2756
TRANGROUP:2756
TRANGROUP:2756 pathchrcmp      proc near	       ; ...
TRANGROUP:2756		       push    ax
TRANGROUP:2757		       mov     ah, '/'         ; 2Fh
TRANGROUP:2759		       cmp     SWITCHAR, ah
TRANGROUP:275D		       jz      short noslasht
TRANGROUP:275F		       cmp     al, '/'         ; 2Fh
TRANGROUP:2761		       jz      short pccont
TRANGROUP:2763
TRANGROUP:2763 noslasht:			       ; ...
TRANGROUP:2763		       cmp     al, '\'         ; 5Ch
TRANGROUP:2765
TRANGROUP:2765 pccont:				       ; ...
TRANGROUP:2765		       pop     ax
TRANGROUP:2766		       retn
TRANGROUP:2766 pathchrcmp      endp
TRANGROUP:2766
TRANGROUP:2767
TRANGROUP:2767 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2767
TRANGROUP:2767
TRANGROUP:2767 PathCrunch      proc near	       ; ...
TRANGROUP:2767		       mov     Msg_Numb, 0
TRANGROUP:276D		       mov     dl, ds:5Ch      ; [FCB]
TRANGROUP:2771		       call    SAVUDIR
TRANGROUP:2774		       jb      short pcrunch_cderrj
TRANGROUP:2776		       call    SETPATH
TRANGROUP:2779		       test    DestInfo, 2
TRANGROUP:277E		       jnz     short trypeel
TRANGROUP:2780		       mov     ah, 3Bh	       ; CHDIR
TRANGROUP:2782		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:2782					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:2784		       jnb     short chdir_worked
TRANGROUP:2786		       call    get_ext_error_number
TRANGROUP:2789		       cmp     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:278C		       jz      short trypeel
TRANGROUP:278E		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:2791		       jz      short trypeel
TRANGROUP:2793		       mov     Msg_Numb, ax
TRANGROUP:2796		       jmp     peelfail
TRANGROUP:2799 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2799
TRANGROUP:2799 chdir_worked:			       ; ...
TRANGROUP:2799		       call    SetRest1
TRANGROUP:279C		       mov     al, '?'
TRANGROUP:279E		       mov     di, 5Dh
TRANGROUP:27A1		       mov     cx, 11
TRANGROUP:27A4		       rep stosb
TRANGROUP:27A6		       xor     al, al
TRANGROUP:27A8		       retn
TRANGROUP:27A9 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:27A9
TRANGROUP:27A9 pcrunch_cderrj:			       ; ...
TRANGROUP:27A9		       jmp     pcrunch_cderr
TRANGROUP:27AC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:27AC
TRANGROUP:27AC trypeel:				       ; ...
TRANGROUP:27AC		       mov     si, PathPos
TRANGROUP:27B0		       dec     si
TRANGROUP:27B1		       mov     al, [si-1]
TRANGROUP:27B4		       cmp     KPARSE, 0
TRANGROUP:27B9		       jnz     short delstrt
TRANGROUP:27BB		       call    pathchrcmp
TRANGROUP:27BE		       jz      short peelfail
TRANGROUP:27C0
TRANGROUP:27C0 delstrt:				       ; ...
TRANGROUP:27C0		       mov     cx, si
TRANGROUP:27C2		       mov     si, dx
TRANGROUP:27C4		       push    dx
TRANGROUP:27C5
TRANGROUP:27C5 delloop:				       ; ...
TRANGROUP:27C5		       cmp     si, cx
TRANGROUP:27C7		       jz      short gotdele
TRANGROUP:27C9		       lodsb
TRANGROUP:27CA		       call    testkanj
TRANGROUP:27CD		       jz      short notkanj8
TRANGROUP:27CF		       inc     si
TRANGROUP:27D0		       jmp     short delloop
TRANGROUP:27D2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:27D2
TRANGROUP:27D2 notkanj8:			       ; ...
TRANGROUP:27D2		       call    pathchrcmp
TRANGROUP:27D5		       jnz     short delloop
TRANGROUP:27D7		       mov     dx, si
TRANGROUP:27D9		       dec     dx
TRANGROUP:27DA		       jmp     short delloop
TRANGROUP:27DC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:27DC
TRANGROUP:27DC gotdele:				       ; ...
TRANGROUP:27DC		       mov     si, dx
TRANGROUP:27DE		       pop     dx
TRANGROUP:27DF		       cmp     si, dx
TRANGROUP:27E1		       jz      short badret
TRANGROUP:27E3		       mov     cx, si
TRANGROUP:27E5		       mov     si, dx
TRANGROUP:27E7
TRANGROUP:27E7 delloop2:			       ; ...
TRANGROUP:27E7		       cmp     si, cx
TRANGROUP:27E9		       jz      short trycd
TRANGROUP:27EB		       mov     KPARSE, 0
TRANGROUP:27F0		       lodsb
TRANGROUP:27F1		       call    testkanj
TRANGROUP:27F4		       jz      short delloop2
TRANGROUP:27F6		       inc     si
TRANGROUP:27F7		       inc     KPARSE
TRANGROUP:27FB		       jmp     short delloop2
TRANGROUP:27FD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:27FD
TRANGROUP:27FD trycd:				       ; ...
TRANGROUP:27FD		       push    ax
TRANGROUP:27FE		       mov     al, 2Eh ; '.'
TRANGROUP:2800		       cmp     [si+1], al
TRANGROUP:2803		       jnz     short trycd1
TRANGROUP:2805		       cmp     [si+2], al
TRANGROUP:2808		       jz      short trycd1
TRANGROUP:280A		       cmp     byte ptr	[si+2],	0
TRANGROUP:280E
TRANGROUP:280E trycd1:				       ; ...
TRANGROUP:280E		       pop     ax
TRANGROUP:280F		       jz      short peelfail
TRANGROUP:2811		       mov     al, [si-1]
TRANGROUP:2814		       cmp     al, 3Ah ; ':'
TRANGROUP:2816		       jz      short badret
TRANGROUP:2818		       cmp     KPARSE, 0
TRANGROUP:281D		       jnz     short notdoublesl
TRANGROUP:281F		       call    pathchrcmp
TRANGROUP:2822		       jnz     short notdoublesl
TRANGROUP:2824
TRANGROUP:2824 peelfail:			       ; ...
TRANGROUP:2824		       stc
TRANGROUP:2825		       retn
TRANGROUP:2826 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2826
TRANGROUP:2826 notdoublesl:			       ; ...
TRANGROUP:2826		       mov     byte ptr	[si], 0
TRANGROUP:2829		       mov     ah, 3Bh
TRANGROUP:282B		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:282B					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:282D		       jnb     short cdsucc
TRANGROUP:282F
TRANGROUP:282F pcrunch_cderr:			       ; ...
TRANGROUP:282F		       call    get_ext_error_number
TRANGROUP:2832		       mov     Msg_Numb, ax
TRANGROUP:2835		       or      si, si
TRANGROUP:2837		       stc
TRANGROUP:2838
TRANGROUP:2838 pcrunch_retn:			       ; ...
TRANGROUP:2838		       retn
TRANGROUP:2839 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2839
TRANGROUP:2839 badret:				       ; ...
TRANGROUP:2839		       mov     al, [si]
TRANGROUP:283B		       call    pathchrcmp
TRANGROUP:283E		       stc
TRANGROUP:283F		       jnz     short pcrunch_retn
TRANGROUP:2841		       xor     bl, bl
TRANGROUP:2843		       xchg    bl, [si+1]
TRANGROUP:2846		       mov     ah, 3Bh	       ; CHDIR
TRANGROUP:2848		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:2848					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:284A		       jb      short pcrunch_cderr
TRANGROUP:284C		       mov     [si+1], bl
TRANGROUP:284F
TRANGROUP:284F cdsucc:				       ; ...
TRANGROUP:284F		       call    SetRest1
TRANGROUP:2852		       inc     si
TRANGROUP:2853		       mov     DestTail, si
TRANGROUP:2857		       pushf
TRANGROUP:2858		       cmp     DirFlag,	0FFh   ; -1
TRANGROUP:285D		       jz      short pcrunch_end
TRANGROUP:285F		       mov     di, 5Ch	       ; FCB
TRANGROUP:2862		       mov     ax, 2902h
TRANGROUP:2865		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:2865					       ; DS:SI -> string to parse
TRANGROUP:2865					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:2865					       ; AL = bit mask to control parsing
TRANGROUP:2867
TRANGROUP:2867 pcrunch_end:			       ; ...
TRANGROUP:2867		       popf
TRANGROUP:2868		       retn
TRANGROUP:2868 PathCrunch      endp
TRANGROUP:2868
TRANGROUP:2869 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2869 ; START OF FUNCTION CHUNK FOR SWITCH
TRANGROUP:2869
TRANGROUP:2869 RETSW:				       ; ...
TRANGROUP:2869		       xchg    ax, bx
TRANGROUP:286A		       retn
TRANGROUP:286A ; END OF	FUNCTION CHUNK FOR SWITCH
TRANGROUP:286B
TRANGROUP:286B ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:286B
TRANGROUP:286B
TRANGROUP:286B SWITCH	       proc near	       ; ...
TRANGROUP:286B
TRANGROUP:286B ; FUNCTION CHUNK	AT TRANGROUP:2869 SIZE 00000002	BYTES
TRANGROUP:286B
TRANGROUP:286B		       xor     bx, bx
TRANGROUP:286D
TRANGROUP:286D SWLOOP:				       ; ...
TRANGROUP:286D		       call    scanoff
TRANGROUP:2870		       cmp     al, SWITCHAR
TRANGROUP:2874		       jnz     short RETSW
TRANGROUP:2876		       or      bx, 8000h
TRANGROUP:287A		       inc     si
TRANGROUP:287B		       call    scanoff
TRANGROUP:287E		       cmp     al, 0Dh
TRANGROUP:2880		       jz      short RETSW
TRANGROUP:2882		       inc     si
TRANGROUP:2883		       call    UPCONV
TRANGROUP:2886		       mov     di, offset switch_list ;	"?VBAPW"
TRANGROUP:2889		       mov     cx, 6
TRANGROUP:288C		       repne scasb
TRANGROUP:288E		       jnz     short BADSW
TRANGROUP:2890		       mov     ax, 1
TRANGROUP:2893		       shl     ax, cl
TRANGROUP:2895		       or      bx, ax
TRANGROUP:2897		       jmp     short SWLOOP
TRANGROUP:2899 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2899
TRANGROUP:2899 BADSW:				       ; ...
TRANGROUP:2899		       jmp     short SWLOOP
TRANGROUP:2899 SWITCH	       endp
TRANGROUP:2899
TRANGROUP:289B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:289B ; START OF FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:289B
TRANGROUP:289B DRVBAD:				       ; ...
TRANGROUP:289B		       mov     dx, offset baddrv_ptr
TRANGROUP:289E		       jmp     cerror
TRANGROUP:28A1 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:28A1
TRANGROUP:28A1 EXTERNALJ:			       ; ...
TRANGROUP:28A1		       jmp     EXTERNAL
TRANGROUP:28A4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:28A4
TRANGROUP:28A4 FNDCOM:				       ; ...
TRANGROUP:28A4		       or      al, al
TRANGROUP:28A6		       jz      short EXTERNALJ
TRANGROUP:28A8		       call    test_append
TRANGROUP:28AB		       jz      short CONTCOM
TRANGROUP:28AD
TRANGROUP:28AD APPEND_INTERNAL:			       ; ...
TRANGROUP:28AD		       mov     cl, IDLEN
TRANGROUP:28B1		       mov     ch, 0
TRANGROUP:28B3		       mov     PathPos,	cx
TRANGROUP:28B7		       inc     append_exec
TRANGROUP:28BB		       call    IOSET
TRANGROUP:28BE		       mov     si, offset IDLEN
TRANGROUP:28C1		       mov     dx, 0FFFFh      ; -1
TRANGROUP:28C4		       mov     di, offset append_parse
TRANGROUP:28C7		       mov     ax, 0AE01h
TRANGROUP:28CA		       int     2Fh	       ; - Multiplex - DOS 3.3+	internal - INSTALLABLE COMMAND - EXECUTE
TRANGROUP:28CA					       ; DX = FFFFh, DS:SI -> buffer
TRANGROUP:28CA					       ; Return: buffer	at DS:SI filled	with a length byte followed by the uppercase
TRANGROUP:28CA					       ; internal command to execute (if length	not 0)
TRANGROUP:28CC		       cmp     IDLEN, 0
TRANGROUP:28D1		       jnz     short CONTCOM
TRANGROUP:28D3		       jmp     CMD_DONE
TRANGROUP:28D6 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:28D6
TRANGROUP:28D6 CONTCOM:				       ; ...
TRANGROUP:28D6		       mov     di, offset COMTAB
TRANGROUP:28D9		       xor     cx, cx
TRANGROUP:28DB
TRANGROUP:28DB FINDCOM:				       ; ...
TRANGROUP:28DB		       mov     si, offset ID
TRANGROUP:28DE		       mov     cl, [di]
TRANGROUP:28E0		       inc     di
TRANGROUP:28E1		       jcxz    short EXTERNALJ
TRANGROUP:28E3		       cmp     cl, IDLEN
TRANGROUP:28E7		       jnz     short ABCD
TRANGROUP:28E9		       mov     PathPos,	cx
TRANGROUP:28ED		       repe cmpsb
TRANGROUP:28EF
TRANGROUP:28EF ABCD:				       ; ...
TRANGROUP:28EF		       lahf
TRANGROUP:28F0		       add     di, cx
TRANGROUP:28F2		       mov     al, [di]
TRANGROUP:28F4		       mov     CHKDRV, al
TRANGROUP:28F7		       inc     di
TRANGROUP:28F8		       mov     bx, [di]
TRANGROUP:28FA		       inc     di
TRANGROUP:28FB		       inc     di
TRANGROUP:28FC		       mov     dx, [di]
TRANGROUP:28FE		       inc     di
TRANGROUP:28FF		       inc     di
TRANGROUP:2900		       sahf
TRANGROUP:2901		       jnz     short FINDCOM
TRANGROUP:2903		       cmp     append_exec, 0
TRANGROUP:2908		       jnz     short DONT_SET_IO
TRANGROUP:290A		       call    IOSET
TRANGROUP:290D
TRANGROUP:290D DONT_SET_IO:			       ; ...
TRANGROUP:290D		       mov     ax, COMSW
TRANGROUP:2910		       or      ax, ARGTS
TRANGROUP:2914		       and     ax, 20h
TRANGROUP:2917		       jz      short DRIVE_CHECK
TRANGROUP:2919		       test    CHKDRV, 4
TRANGROUP:291E		       jz      short DO_HELP
TRANGROUP:2920		       cmp     ARG_ARGVCNT, 2
TRANGROUP:2925		       jnz     short DRIVE_CHECK
TRANGROUP:2927
TRANGROUP:2927 DO_HELP:				       ; ...
TRANGROUP:2927		       mov     si, dx
TRANGROUP:2929		       mov     ax, 0
TRANGROUP:292C		       push    ax
TRANGROUP:292D
TRANGROUP:292D NEXT_HELP_MSG:			       ; ...
TRANGROUP:292D		       lodsw
TRANGROUP:292E		       or      ax, ax
TRANGROUP:2930		       jz      short HELP_DONE
TRANGROUP:2932		       push    ax
TRANGROUP:2933		       mov     dx, sp
TRANGROUP:2935		       call    std_printf
TRANGROUP:2938		       pop     ax
TRANGROUP:2939		       jmp     short NEXT_HELP_MSG
TRANGROUP:293B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:293B
TRANGROUP:293B HELP_DONE:			       ; ...
TRANGROUP:293B		       pop     ax
TRANGROUP:293C		       jmp     TCOMMAND
TRANGROUP:293F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:293F
TRANGROUP:293F DRIVE_CHECK:			       ; ...
TRANGROUP:293F		       test    CHKDRV, 1
TRANGROUP:2944		       jz      short NOCHECK
TRANGROUP:2946		       mov     al, PARM1
TRANGROUP:2949		       or      al, PARM2
TRANGROUP:294D		       cmp     al, 0FFh
TRANGROUP:294F		       jnz     short NOCHECK
TRANGROUP:2951		       jmp     DRVBAD
TRANGROUP:2954 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2954
TRANGROUP:2954 NOCHECK:				       ; ...
TRANGROUP:2954		       call    cmd_copy
TRANGROUP:2957		       test    CHKDRV, 2
TRANGROUP:295C		       jnz     short REALWORK
TRANGROUP:295E		       call    noswit
TRANGROUP:2961		       jnz     short REALWORK
TRANGROUP:2963		       mov     msg_disp_class, 2
TRANGROUP:2968		       mov     dx, offset extend_buf_ptr
TRANGROUP:296B		       mov     extend_buf_ptr, 3
TRANGROUP:2971		       jmp     cerror
TRANGROUP:2974 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2974
TRANGROUP:2974 REALWORK:			       ; ...
TRANGROUP:2974		       call    bx
TRANGROUP:2976
TRANGROUP:2976 CMD_DONE:			       ; ...
TRANGROUP:2976		       push    cs
TRANGROUP:2977		       pop     ds
TRANGROUP:2978		       push    ds
TRANGROUP:2979		       mov     ds, RESSEG
TRANGROUP:297D		       assume ds:nothing
TRANGROUP:297D		       cmp     ds:Call_Flag, 1 ; call_in_progress
TRANGROUP:2982		       mov     ds:Call_Flag, 0
TRANGROUP:2987		       pop     ds
TRANGROUP:2988		       jz      short INCALL
TRANGROUP:298A		       jmp     TCOMMAND
TRANGROUP:298D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:298D
TRANGROUP:298D INCALL:				       ; ...
TRANGROUP:298D		       jmp     DOCOM1
TRANGROUP:298D ; END OF	FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:2990
TRANGROUP:2990 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2990
TRANGROUP:2990
TRANGROUP:2990 noswit	       proc near	       ; ...
TRANGROUP:2990		       push    di
TRANGROUP:2991		       mov     di, 81h
TRANGROUP:2994		       mov     si, 80h
TRANGROUP:2997		       lodsb
TRANGROUP:2998		       mov     cl, al
TRANGROUP:299A		       xor     ch, ch
TRANGROUP:299C		       mov     al, cs:SWITCHAR
TRANGROUP:29A0		       cmp     al, 0
TRANGROUP:29A2		       repne scasb
TRANGROUP:29A4		       pop     di
TRANGROUP:29A5		       retn
TRANGROUP:29A5 noswit	       endp
TRANGROUP:29A5
TRANGROUP:29A6 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:29A6 ; START OF FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:29A6
TRANGROUP:29A6 EXTERNAL:			       ; ...
TRANGROUP:29A6		       call    test_append
TRANGROUP:29A9		       jz      short NOT_BARRYF
TRANGROUP:29AB		       jmp     APPEND_INTERNAL
TRANGROUP:29AE ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:29AE
TRANGROUP:29AE NOT_BARRYF:			       ; ...
TRANGROUP:29AE		       mov     cs:IFNOTFLAG, 0 ; [cs:FILTYP]
TRANGROUP:29B4		       mov     dl, cs:SPECDRV
TRANGROUP:29B9		       mov     cs:IDLEN, dl
TRANGROUP:29BE		       mov     cs:ROM_CALL, 0
TRANGROUP:29C4		       push    dx
TRANGROUP:29C5		       mov     dx, offset IDLEN
TRANGROUP:29C8		       call    ROM_SCAN
TRANGROUP:29CB		       pop     dx
TRANGROUP:29CC		       jnb     short DO_SCAN
TRANGROUP:29CE		       inc     cs:ROM_CALL
TRANGROUP:29D3		       jmp     short $+2
TRANGROUP:29D5
TRANGROUP:29D5 DO_SCAN:				       ; ...
TRANGROUP:29D5		       mov     di, offset EXECPATH
TRANGROUP:29D8		       mov     byte ptr	[di], 0
TRANGROUP:29DB		       cmp     cs:ROM_CALL, 0
TRANGROUP:29E1		       jnz     short EXECUTE   ; NEOEXECUTE
TRANGROUP:29E3
TRANGROUP:29E3 RESEARCH:
TRANGROUP:29E3		       call    path_search
TRANGROUP:29E6		       or      ax, ax
TRANGROUP:29E8		       jz      short badcomj45
TRANGROUP:29EA		       cmp     ax, 4
TRANGROUP:29ED		       jge     short EXECUTE
TRANGROUP:29EF		       jmp     BATCOM
TRANGROUP:29F2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:29F2
TRANGROUP:29F2 badcomj45:			       ; ...
TRANGROUP:29F2		       jmp     short BADCOM
TRANGROUP:29F4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:29F4
TRANGROUP:29F4 EXECUTE:				       ; ...
TRANGROUP:29F4		       call    IOSET
TRANGROUP:29F7
TRANGROUP:29F7 LH_EXECUTE:			       ; ...
TRANGROUP:29F7		       mov     es, ds:TRAN_TPA
TRANGROUP:29FB		       mov     ah, 49h
TRANGROUP:29FD		       int     21h	       ; DOS - 2+ - FREE MEMORY
TRANGROUP:29FD					       ; ES = segment address of area to be freed
TRANGROUP:29FF		       mov     es, ds:RESSEG
TRANGROUP:2A03		       inc     es:ExtCom
TRANGROUP:2A08		       mov     es:RestDir, 0
TRANGROUP:2A0E		       mov     si, offset EXECPATH
TRANGROUP:2A11		       mov     di, offset SafePathBuffer ; RESGROUP
TRANGROUP:2A14		       mov     cx, 80
TRANGROUP:2A17		       cld
TRANGROUP:2A18		       rep movsb
TRANGROUP:2A1A		       mov     di, 5Ch	       ; FCB
TRANGROUP:2A1D		       mov     si, di
TRANGROUP:2A1F		       mov     cx, 82
TRANGROUP:2A22		       rep movsw
TRANGROUP:2A24		       mov     dx, offset SafePathBuffer
TRANGROUP:2A27		       push    es
TRANGROUP:2A28		       pop     ds
TRANGROUP:2A29		       mov     bx, offset EnvirSeg ; offset Exec_Block = offset	EnvirSeg
TRANGROUP:2A2C		       mov     ax, 4B00h       ; EXEC*256
TRANGROUP:2A2F		       test    cs:ROM_CALL, 0FFh
TRANGROUP:2A35		       jz      short OK_EXEC
TRANGROUP:2A37		       jmp     ROM_EXEC
TRANGROUP:2A3A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2A3A
TRANGROUP:2A3A OK_EXEC:				       ; ...
TRANGROUP:2A3A		       mov     cx, es
TRANGROUP:2A3C		       mov     ss, cx
TRANGROUP:2A3E		       mov     sp, offset RStack
TRANGROUP:2A41		       jmp     cs:EXEC_ADDR
TRANGROUP:2A46 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2A46
TRANGROUP:2A46 BADCOM:				       ; ...
TRANGROUP:2A46		       push    cs
TRANGROUP:2A47		       pop     ds
TRANGROUP:2A48		       assume ds:TRANGROUP
TRANGROUP:2A48		       mov     dx, offset BADNAM_PTR
TRANGROUP:2A4B
TRANGROUP:2A4B cerror:				       ; ...
TRANGROUP:2A4B		       call    std_eprintf
TRANGROUP:2A4E		       jmp     TCOMMAND
TRANGROUP:2A4E ; END OF	FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:2A51
TRANGROUP:2A51 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2A51
TRANGROUP:2A51
TRANGROUP:2A51 PRESCAN	       proc near	       ; ...
TRANGROUP:2A51		       xor     cx, cx
TRANGROUP:2A53		       mov     es, RESSEG
TRANGROUP:2A57		       mov     si, (offset COMBUF+2)
TRANGROUP:2A5A		       mov     di, si
TRANGROUP:2A5C
TRANGROUP:2A5C COUNTQUOTES:			       ; ...
TRANGROUP:2A5C		       lodsb
TRANGROUP:2A5D		       cmp     al, 22h ; '"'
TRANGROUP:2A5F		       jnz     short COUNTEND
TRANGROUP:2A61		       inc     ch
TRANGROUP:2A63		       jmp     short COUNTQUOTES
TRANGROUP:2A65 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2A65
TRANGROUP:2A65 COUNTEND:			       ; ...
TRANGROUP:2A65		       cmp     al, 0Dh	       ; 13
TRANGROUP:2A67		       jnz     short COUNTQUOTES
TRANGROUP:2A69		       push    cx
TRANGROUP:2A6A		       mov     si, di
TRANGROUP:2A6C
TRANGROUP:2A6C KanjiScan:			       ; ...
TRANGROUP:2A6C		       lodsb
TRANGROUP:2A6D		       call    testkanj
TRANGROUP:2A70		       jz      short KanjiQuote
TRANGROUP:2A72		       mov     ah, al
TRANGROUP:2A74		       lodsb
TRANGROUP:2A75		       cmp     ax, 2020h       ; DB_SPACE
TRANGROUP:2A78		       jnz     short KanjiScan
TRANGROUP:2A7A		       mov     word ptr	[si-2],	2020h
TRANGROUP:2A7F		       jmp     short KanjiScan
TRANGROUP:2A81 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2A81
TRANGROUP:2A81 KanjiQuote:			       ; ...
TRANGROUP:2A81		       cmp     al, 22h ; '"'
TRANGROUP:2A83		       jnz     short KanjiEnd
TRANGROUP:2A85		       dec     ch
TRANGROUP:2A87		       jz      short KanjiScan
TRANGROUP:2A89
TRANGROUP:2A89 KanjiQuoteLoop:			       ; ...
TRANGROUP:2A89		       lodsb
TRANGROUP:2A8A		       cmp     al, 22h ; '"'
TRANGROUP:2A8C		       jnz     short KanjiQuoteLoop
TRANGROUP:2A8E		       dec     ch
TRANGROUP:2A90		       jmp     short KanjiScan
TRANGROUP:2A92 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2A92
TRANGROUP:2A92 KanjiEnd:			       ; ...
TRANGROUP:2A92		       cmp     al, 0Dh
TRANGROUP:2A94		       jnz     short KanjiScan
TRANGROUP:2A96		       pop     cx
TRANGROUP:2A97		       mov     si, di
TRANGROUP:2A99
TRANGROUP:2A99 PRESCANLP:			       ; ...
TRANGROUP:2A99		       lodsb
TRANGROUP:2A9A		       call    testkanj
TRANGROUP:2A9D		       jz      short NOTKANJ6
TRANGROUP:2A9F		       mov     [di], al
TRANGROUP:2AA1		       inc     di
TRANGROUP:2AA2		       lodsb
TRANGROUP:2AA3		       mov     [di], al
TRANGROUP:2AA5		       inc     di
TRANGROUP:2AA6		       inc     cl
TRANGROUP:2AA8		       inc     cl
TRANGROUP:2AAA		       jmp     short PRESCANLP
TRANGROUP:2AAC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2AAC
TRANGROUP:2AAC NOTKANJ6:			       ; ...
TRANGROUP:2AAC		       cmp     al, 22h ; '"'
TRANGROUP:2AAE		       jnz     short TRYGREATER
TRANGROUP:2AB0		       dec     ch
TRANGROUP:2AB2		       jz      short TRYGREATER
TRANGROUP:2AB4
TRANGROUP:2AB4 QLOOP:				       ; ...
TRANGROUP:2AB4		       mov     [di], al
TRANGROUP:2AB6		       inc     di
TRANGROUP:2AB7		       inc     cl
TRANGROUP:2AB9		       lodsb
TRANGROUP:2ABA		       cmp     al, 22h ; '"'
TRANGROUP:2ABC		       jnz     short QLOOP
TRANGROUP:2ABE		       dec     ch
TRANGROUP:2AC0
TRANGROUP:2AC0 TRYGREATER:			       ; ...
TRANGROUP:2AC0		       cmp     al, 3Eh ; '>'   ; rabracket
TRANGROUP:2AC2		       jnz     short NOOUT
TRANGROUP:2AC4		       cmp     [si], al
TRANGROUP:2AC6		       jnz     short NOAPPND
TRANGROUP:2AC8		       lodsb
TRANGROUP:2AC9		       inc     es:Re_Out_App
TRANGROUP:2ACE
TRANGROUP:2ACE NOAPPND:				       ; ...
TRANGROUP:2ACE		       call    scanoff
TRANGROUP:2AD1		       cmp     al, 3Ch ; '<'   ; labracket
TRANGROUP:2AD3		       jz      short REOUT_ERRSET
TRANGROUP:2AD5		       cmp     al, 0Dh
TRANGROUP:2AD7		       jnz     short GOTREOFIL
TRANGROUP:2AD9
TRANGROUP:2AD9 REOUT_ERRSET:			       ; ...
TRANGROUP:2AD9		       mov     byte ptr	[di], 0Dh
TRANGROUP:2ADC		       mov     word ptr	es:Re_OutStr, 9
TRANGROUP:2AE3		       jmp     PRESCANEND
TRANGROUP:2AE6 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2AE6
TRANGROUP:2AE6 GOTREOFIL:			       ; ...
TRANGROUP:2AE6		       push    di
TRANGROUP:2AE7		       mov     di, offset Re_OutStr
TRANGROUP:2AEA		       mov     bx, di
TRANGROUP:2AEC		       push    es
TRANGROUP:2AED
TRANGROUP:2AED SETREOUTSTR:			       ; ...
TRANGROUP:2AED		       push    cx
TRANGROUP:2AEE		       mov     cx, 77	       ; 64+13
TRANGROUP:2AF1
TRANGROUP:2AF1 SETREOUTSTR_LOOP:		       ; ...
TRANGROUP:2AF1		       lodsb
TRANGROUP:2AF2		       cmp     al, 0Dh
TRANGROUP:2AF4		       jz      short GOTRESTR_J
TRANGROUP:2AF6		       call    DELIM
TRANGROUP:2AF9		       jz      short GOTRESTR_J
TRANGROUP:2AFB		       cmp     al, SWITCHAR
TRANGROUP:2AFF		       jz      short GOTRESTR_J
TRANGROUP:2B01		       cmp     al, 22h ; '"'   ; quote
TRANGROUP:2B03		       jz      short PIPEERRSYNJ5_J
TRANGROUP:2B05		       cmp     al, 3Ch ; '<'   ; labracket
TRANGROUP:2B07		       jz      short ABRACKET_TERM
TRANGROUP:2B09		       cmp     al, 3Eh ; '>'   ; rabracket
TRANGROUP:2B0B		       jnz     short NO_ABRACKET
TRANGROUP:2B0D
TRANGROUP:2B0D ABRACKET_TERM:			       ; ...
TRANGROUP:2B0D		       dec     si
TRANGROUP:2B0E		       mov     al, 20h ; ' '   ; BLANK
TRANGROUP:2B10
TRANGROUP:2B10 GOTRESTR_J:			       ; ...
TRANGROUP:2B10		       pop     cx
TRANGROUP:2B11		       jmp     short GOTRESTR
TRANGROUP:2B13 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2B13
TRANGROUP:2B13 NO_ABRACKET:			       ; ...
TRANGROUP:2B13		       stosb
TRANGROUP:2B14		       loop    SETREOUTSTR_LOOP
TRANGROUP:2B16		       jmp     short GOTRESTR_J
TRANGROUP:2B18 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2B18
TRANGROUP:2B18 PIPEERRSYNJ5_J:			       ; ...
TRANGROUP:2B18		       pop     cx
TRANGROUP:2B19		       jmp     short PIPEERRSYNJ5
TRANGROUP:2B1B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2B1B
TRANGROUP:2B1B NOOUT:				       ; ...
TRANGROUP:2B1B		       cmp     al, 3Ch ; '<'   ; labracket
TRANGROUP:2B1D		       jnz     short CHKPIPE
TRANGROUP:2B1F		       mov     bx, si
TRANGROUP:2B21		       call    scanoff
TRANGROUP:2B24		       cmp     al, 3Eh ; '>'   ; rabracket
TRANGROUP:2B26		       jz      short REIN_ERRSET
TRANGROUP:2B28		       cmp     al, 0Dh
TRANGROUP:2B2A		       jnz     short GOTREIFIL
TRANGROUP:2B2C
TRANGROUP:2B2C REIN_ERRSET:			       ; ...
TRANGROUP:2B2C		       mov     byte ptr	[di], 0Dh
TRANGROUP:2B2F		       mov     word ptr	RE_INSTR, 9
TRANGROUP:2B35		       jmp     short PRESCANEND
TRANGROUP:2B37 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2B37
TRANGROUP:2B37 GOTREIFIL:			       ; ...
TRANGROUP:2B37		       push    di
TRANGROUP:2B38		       mov     di, offset RE_INSTR
TRANGROUP:2B3B		       mov     bx, di
TRANGROUP:2B3D		       push    es
TRANGROUP:2B3E		       push    cs
TRANGROUP:2B3F		       pop     es
TRANGROUP:2B40		       assume es:TRANGROUP
TRANGROUP:2B40		       jmp     short SETREOUTSTR
TRANGROUP:2B42 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2B42
TRANGROUP:2B42 CHKPIPE:				       ; ...
TRANGROUP:2B42		       mov     ah, al
TRANGROUP:2B44		       cmp     ah, 7Ch ; '|'   ; ALTPIPECHR
TRANGROUP:2B47		       jz      short ISPIPE3
TRANGROUP:2B49		       cmp     ah, 7Ch ; '|'   ; vbar
TRANGROUP:2B4C		       jnz     short CONTPRESCAN
TRANGROUP:2B4E
TRANGROUP:2B4E ISPIPE3:				       ; ...
TRANGROUP:2B4E		       cmp     es:PipeFlag, 0
TRANGROUP:2B54		       jnz     short NOECHOPUSH
TRANGROUP:2B56		       shl     es:EchoFlag, 1  ; shl byte [es:EchoFlag],1
TRANGROUP:2B5B
TRANGROUP:2B5B NOECHOPUSH:			       ; ...
TRANGROUP:2B5B		       inc     es:PipeFlag
TRANGROUP:2B60		       call    scanoff
TRANGROUP:2B63		       cmp     al, 0Dh
TRANGROUP:2B65		       jz      short PIPEERRSYNJ5
TRANGROUP:2B67		       cmp     al, 7Ch ; '|'   ; ALTPIPECHR
TRANGROUP:2B69		       jz      short PIPEERRSYNJ5
TRANGROUP:2B6B		       cmp     al, 7Ch ; '|'   ; vbar
TRANGROUP:2B6D		       jnz     short CONTPRESCAN
TRANGROUP:2B6F
TRANGROUP:2B6F PIPEERRSYNJ5:			       ; ...
TRANGROUP:2B6F		       push    es
TRANGROUP:2B70		       pop     ds
TRANGROUP:2B71		       jmp     PIPEERRSYN
TRANGROUP:2B74 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2B74
TRANGROUP:2B74 GOTRESTR:			       ; ...
TRANGROUP:2B74		       xchg    ah, al
TRANGROUP:2B76		       mov     al, 3Ah ; ':'
TRANGROUP:2B78		       sub     bx, di
TRANGROUP:2B7A		       cmp     bx, 0FFFFh      ; -1
TRANGROUP:2B7D		       jz      short NOTRAILCOL
TRANGROUP:2B7F		       cmp     es:[di-1], al
TRANGROUP:2B83		       jnz     short NOTRAILCOL
TRANGROUP:2B85		       dec     di
TRANGROUP:2B86
TRANGROUP:2B86 NOTRAILCOL:			       ; ...
TRANGROUP:2B86		       xor     al, al
TRANGROUP:2B88		       stosb
TRANGROUP:2B89		       pop     es
TRANGROUP:2B8A		       assume es:nothing
TRANGROUP:2B8A		       pop     di
TRANGROUP:2B8B
TRANGROUP:2B8B CONTPRESCAN:			       ; ...
TRANGROUP:2B8B		       mov     [di], ah
TRANGROUP:2B8D		       inc     di
TRANGROUP:2B8E		       cmp     ah, 0Dh
TRANGROUP:2B91		       jz      short PRESCANEND
TRANGROUP:2B93		       inc     cl
TRANGROUP:2B95		       jmp     PRESCANLP
TRANGROUP:2B98 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2B98
TRANGROUP:2B98 PRESCANEND:			       ; ...
TRANGROUP:2B98		       cmp     es:PipeFlag, 0
TRANGROUP:2B9E		       jz      short ISNOPIPE
TRANGROUP:2BA0		       mov     di, 3C0h	       ; PipeStr ; RESGROUP:EndInit+160
TRANGROUP:2BA3		       mov     es:3BEh,	di     ; [es:PIPEPTR],di
TRANGROUP:2BA3					       ; (RESGROUP:EndInit+158)
TRANGROUP:2BA8		       mov     si, (offset COMBUF+2)
TRANGROUP:2BAB		       call    scanoff
TRANGROUP:2BAE
TRANGROUP:2BAE PIPESETLP:			       ; ...
TRANGROUP:2BAE		       lodsb
TRANGROUP:2BAF		       stosb
TRANGROUP:2BB0		       cmp     al, 0Dh
TRANGROUP:2BB2		       jnz     short PIPESETLP
TRANGROUP:2BB4
TRANGROUP:2BB4 ISNOPIPE:			       ; ...
TRANGROUP:2BB4		       mov     COMBUF+1, cl
TRANGROUP:2BB8		       cmp     es:PipeFlag, 0
TRANGROUP:2BBE		       push    cs
TRANGROUP:2BBF		       pop     es
TRANGROUP:2BC0		       assume es:TRANGROUP
TRANGROUP:2BC0		       retn
TRANGROUP:2BC0 PRESCAN	       endp
TRANGROUP:2BC0
TRANGROUP:2BC1
TRANGROUP:2BC1 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2BC1
TRANGROUP:2BC1
TRANGROUP:2BC1 cmd_copy	       proc near	       ; ...
TRANGROUP:2BC1		       mov     si, (offset COMBUF+2)
TRANGROUP:2BC4		       call    scanoff
TRANGROUP:2BC7		       add     si, PathPos
TRANGROUP:2BCB		       mov     di, 81h
TRANGROUP:2BCE		       xor     cx, cx
TRANGROUP:2BD0
TRANGROUP:2BD0 cmdcopy:				       ; ...
TRANGROUP:2BD0		       lodsb
TRANGROUP:2BD1		       stosb
TRANGROUP:2BD2		       cmp     al, 0Dh
TRANGROUP:2BD4		       jz      short copy_done
TRANGROUP:2BD6		       inc     cx
TRANGROUP:2BD7		       jmp     short cmdcopy
TRANGROUP:2BD9 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2BD9
TRANGROUP:2BD9 copy_done:			       ; ...
TRANGROUP:2BD9		       mov     ds:80h, cl
TRANGROUP:2BDD		       retn
TRANGROUP:2BDD cmd_copy	       endp
TRANGROUP:2BDD
TRANGROUP:2BDE
TRANGROUP:2BDE ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2BDE
TRANGROUP:2BDE
TRANGROUP:2BDE test_append     proc near	       ; ...
TRANGROUP:2BDE		       mov     bx, offset COMBUF
TRANGROUP:2BE1		       mov     si, offset IDLEN
TRANGROUP:2BE4		       mov     dx, 0FFFFh      ; -1
TRANGROUP:2BE7		       mov     ax, 0AE00h
TRANGROUP:2BEA		       int     2Fh	       ; - Multiplex - DOS 3.3+	internal - INSTALLABLE COMMAND - INSTALL CHECK
TRANGROUP:2BEA					       ; DX = FFFFh, DS:BX -> command line
TRANGROUP:2BEA					       ; Return: AL = FFh if this command is a TSR extension to	COMMAND.COM
TRANGROUP:2BEA					       ; AL = 00h if the command should	be executed as usual
TRANGROUP:2BEC		       cmp     al, 0
TRANGROUP:2BEE		       retn
TRANGROUP:2BEE test_append     endp
TRANGROUP:2BEE
TRANGROUP:2BEF
TRANGROUP:2BEF ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2BEF
TRANGROUP:2BEF
TRANGROUP:2BEF SETPATH	       proc near	       ; ...
TRANGROUP:2BEF		       mov     ax, PathCnt
TRANGROUP:2BF2		       mov     si, PathPos
TRANGROUP:2BF6
TRANGROUP:2BF6 GETPATH:
TRANGROUP:2BF6		       mov     DestInfo, 0
TRANGROUP:2BFB		       mov     DestIsDir, 0
TRANGROUP:2C00		       mov     si, PathPos
TRANGROUP:2C04		       mov     cx, PathCnt
TRANGROUP:2C08		       mov     dx, si
TRANGROUP:2C0A		       jcxz    short PATHDONE
TRANGROUP:2C0C		       push    cx
TRANGROUP:2C0D		       push    si
TRANGROUP:2C0E		       call    SWITCH
TRANGROUP:2C11		       mov     PathSw, ax
TRANGROUP:2C14		       pop     bx
TRANGROUP:2C15		       sub     bx, si
TRANGROUP:2C17		       pop     cx
TRANGROUP:2C18		       add     cx, bx
TRANGROUP:2C1A		       mov     dx, si
TRANGROUP:2C1C
TRANGROUP:2C1C SKIPPATH:			       ; ...
TRANGROUP:2C1C		       mov     KPARSE, 0
TRANGROUP:2C21
TRANGROUP:2C21 SKIPPATH2:			       ; ...
TRANGROUP:2C21		       jcxz    short PATHDONE
TRANGROUP:2C23		       dec     cx
TRANGROUP:2C24		       lodsb
TRANGROUP:2C25		       call    testkanj
TRANGROUP:2C28		       jz      short TESTPPSEP
TRANGROUP:2C2A		       dec     cx
TRANGROUP:2C2B		       inc     si
TRANGROUP:2C2C		       inc     KPARSE
TRANGROUP:2C30		       jmp     short SKIPPATH2
TRANGROUP:2C32 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2C32
TRANGROUP:2C32 TESTPPSEP:			       ; ...
TRANGROUP:2C32		       call    pathchrcmp
TRANGROUP:2C35		       jnz     short TESTPMETA
TRANGROUP:2C37		       inc     DestIsDir
TRANGROUP:2C3B
TRANGROUP:2C3B TESTPMETA:			       ; ...
TRANGROUP:2C3B		       cmp     al, 3Fh ; '?'
TRANGROUP:2C3D		       jnz     short TESTPSTAR
TRANGROUP:2C3F		       or      DestInfo, 2
TRANGROUP:2C44
TRANGROUP:2C44 TESTPSTAR:			       ; ...
TRANGROUP:2C44		       cmp     al, 2Ah ; '*'
TRANGROUP:2C46		       jnz     short TESTPDELIM
TRANGROUP:2C48		       or      DestInfo, 2
TRANGROUP:2C4D
TRANGROUP:2C4D TESTPDELIM:			       ; ...
TRANGROUP:2C4D		       call    DELIM
TRANGROUP:2C50		       jz      short PATHDONEDEC
TRANGROUP:2C52		       cmp     al, SWITCHAR
TRANGROUP:2C56		       jnz     short SKIPPATH
TRANGROUP:2C58
TRANGROUP:2C58 PATHDONEDEC:			       ; ...
TRANGROUP:2C58		       dec     si
TRANGROUP:2C59
TRANGROUP:2C59 PATHDONE:			       ; ...
TRANGROUP:2C59		       xor     al, al
TRANGROUP:2C5B		       xchg    al, [si]
TRANGROUP:2C5D		       inc     si
TRANGROUP:2C5E		       cmp     al, 0Dh
TRANGROUP:2C60		       jnz     short NOPSTORE
TRANGROUP:2C62		       mov     [si], al
TRANGROUP:2C64
TRANGROUP:2C64 NOPSTORE:			       ; ...
TRANGROUP:2C64		       mov     PathPos,	si
TRANGROUP:2C68		       mov     PathCnt,	cx
TRANGROUP:2C6C
TRANGROUP:2C6C SETPATH_RETN:			       ; ...
TRANGROUP:2C6C		       retn
TRANGROUP:2C6C SETPATH	       endp
TRANGROUP:2C6C
TRANGROUP:2C6D
TRANGROUP:2C6D ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2C6D
TRANGROUP:2C6D
TRANGROUP:2C6D PGETARG	       proc near	       ; ...
TRANGROUP:2C6D		       mov     si, 80h
TRANGROUP:2C70		       lodsb
TRANGROUP:2C71		       or      al, al
TRANGROUP:2C73		       jz      short SETPATH_RETN
TRANGROUP:2C75		       call    PSCANOFF
TRANGROUP:2C78		       cmp     al, 0Dh
TRANGROUP:2C7A		       retn
TRANGROUP:2C7A PGETARG	       endp
TRANGROUP:2C7A
TRANGROUP:2C7B
TRANGROUP:2C7B ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2C7B
TRANGROUP:2C7B
TRANGROUP:2C7B PSCANOFF	       proc near	       ; ...
TRANGROUP:2C7B		       lodsb
TRANGROUP:2C7C		       call    DELIM
TRANGROUP:2C7F		       jnz     short PSCANOFFD
TRANGROUP:2C81		       cmp     al, ';'         ; 3Bh
TRANGROUP:2C83		       jnz     short PSCANOFF
TRANGROUP:2C85
TRANGROUP:2C85 PSCANOFFD:			       ; ...
TRANGROUP:2C85		       dec     si
TRANGROUP:2C86		       retn
TRANGROUP:2C86 PSCANOFF	       endp
TRANGROUP:2C86
TRANGROUP:2C87
TRANGROUP:2C87 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2C87
TRANGROUP:2C87
TRANGROUP:2C87 IOSET	       proc near	       ; ...
TRANGROUP:2C87		       push    ds
TRANGROUP:2C88		       push    dx
TRANGROUP:2C89		       push    ax
TRANGROUP:2C8A		       push    bx
TRANGROUP:2C8B		       push    cx
TRANGROUP:2C8C		       mov     ds, cs:RESSEG
TRANGROUP:2C91		       assume ds:nothing
TRANGROUP:2C91		       cmp     ds:PipeFlag, 0
TRANGROUP:2C96		       jnz     short NOREDIR
TRANGROUP:2C98		       test    ds:IfFlag, 0FFh
TRANGROUP:2C9D		       jnz     short NOREDIR
TRANGROUP:2C9F		       call    TESTDOREIN
TRANGROUP:2CA2		       call    TESTDOREOUT
TRANGROUP:2CA5
TRANGROUP:2CA5 NOREDIR:				       ; ...
TRANGROUP:2CA5		       pop     cx
TRANGROUP:2CA6		       pop     bx
TRANGROUP:2CA7		       pop     ax
TRANGROUP:2CA8		       pop     dx
TRANGROUP:2CA9		       pop     ds
TRANGROUP:2CAA
TRANGROUP:2CAA IOSET_RETN:			       ; ...
TRANGROUP:2CAA		       retn
TRANGROUP:2CAA IOSET	       endp
TRANGROUP:2CAA
TRANGROUP:2CAB
TRANGROUP:2CAB ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2CAB
TRANGROUP:2CAB
TRANGROUP:2CAB TESTDOREIN      proc near	       ; ...
TRANGROUP:2CAB		       cmp     cs:RE_INSTR, 0
TRANGROUP:2CB1		       jz      short IOSET_RETN
TRANGROUP:2CB3		       push    ds
TRANGROUP:2CB4		       push    cs
TRANGROUP:2CB5		       pop     ds
TRANGROUP:2CB6		       assume ds:TRANGROUP
TRANGROUP:2CB6		       mov     dx, offset RE_INSTR
TRANGROUP:2CB9		       mov     ax, 3D00h       ; OPEN*256
TRANGROUP:2CBC		       mov     bx, ax
TRANGROUP:2CBE		       int     21h	       ; DOS - 2+ - OPEN DISK FILE WITH	HANDLE
TRANGROUP:2CBE					       ; DS:DX -> ASCIZ	filename
TRANGROUP:2CBE					       ; AL = access mode
TRANGROUP:2CBE					       ; 0 - read
TRANGROUP:2CC0		       pop     ds
TRANGROUP:2CC1		       assume ds:nothing
TRANGROUP:2CC1		       jb      short REDIRERR
TRANGROUP:2CC3		       mov     bx, ax
TRANGROUP:2CC5		       mov     al, 0FFh
TRANGROUP:2CC7		       xchg    al, [bx+18h]    ; [bx+PDB.JFN_TABLE]
TRANGROUP:2CCA		       mov     ds:18h, al      ; [PDB.JFN_TABLE]
TRANGROUP:2CCD		       retn
TRANGROUP:2CCE ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2CCE
TRANGROUP:2CCE REDIRERR:			       ; ...
TRANGROUP:2CCE		       push    cs
TRANGROUP:2CCF		       pop     ds
TRANGROUP:2CD0		       assume ds:TRANGROUP
TRANGROUP:2CD0		       call    TriageError
TRANGROUP:2CD3		       cmp     ax, 65
TRANGROUP:2CD6		       jz      short _CERRORJ
TRANGROUP:2CD8		       cmp     bh, 3Dh	       ; OPEN
TRANGROUP:2CDB		       jz      short OpenError
TRANGROUP:2CDD		       mov     dx, offset FULLDIR_PTR
TRANGROUP:2CE0
TRANGROUP:2CE0 _CERRORJ:			       ; ...
TRANGROUP:2CE0		       jmp     cerror
TRANGROUP:2CE3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2CE3
TRANGROUP:2CE3 OpenError:			       ; ...
TRANGROUP:2CE3		       mov     cs:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:2CE9		       mov     dx, offset extend_buf_ptr
TRANGROUP:2CEC		       mov     cs:extend_buf_ptr, ax
TRANGROUP:2CF0		       jmp     cerror
TRANGROUP:2CF0 TESTDOREIN      endp
TRANGROUP:2CF0
TRANGROUP:2CF3
TRANGROUP:2CF3 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2CF3
TRANGROUP:2CF3
TRANGROUP:2CF3 TESTDOREOUT     proc near	       ; ...
TRANGROUP:2CF3		       cmp     ds:Re_OutStr, 0
TRANGROUP:2CF8		       jnz     short REOUTEXISTS
TRANGROUP:2CFA		       jmp     NOREOUT
TRANGROUP:2CFD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2CFD
TRANGROUP:2CFD REOUTEXISTS:			       ; ...
TRANGROUP:2CFD		       cmp     ds:Re_Out_App, 0
TRANGROUP:2D02		       jz      short REOUTCRT
TRANGROUP:2D04		       mov     dx, offset Re_OutStr
TRANGROUP:2D07		       mov     ax, 3D02h
TRANGROUP:2D0A		       push    ax
TRANGROUP:2D0B		       int     21h	       ; DOS - 2+ - OPEN DISK FILE WITH	HANDLE
TRANGROUP:2D0B					       ; DS:DX -> ASCIZ	filename
TRANGROUP:2D0B					       ; AL = access mode
TRANGROUP:2D0B					       ; 2 - read & write
TRANGROUP:2D0D		       pop     bx
TRANGROUP:2D0E		       jb      short OpenWriteError
TRANGROUP:2D10		       mov     bx, ax
TRANGROUP:2D12		       mov     ax, 4400h
TRANGROUP:2D15		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:2D15					       ; BX = file or device handle
TRANGROUP:2D17		       test    dl, 80h
TRANGROUP:2D1A		       jnz     short SET_REOUT
TRANGROUP:2D1C		       mov     ax, 4202h
TRANGROUP:2D1F		       mov     cx, 0FFFFh      ; -1
TRANGROUP:2D22		       mov     dx, cx
TRANGROUP:2D24		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:2D24					       ; AL = method: offset from end of file
TRANGROUP:2D26		       push    cs
TRANGROUP:2D27		       pop     ds
TRANGROUP:2D28		       mov     ax, 3F00h
TRANGROUP:2D2B		       mov     cx, 1
TRANGROUP:2D2E		       mov     dx, offset One_Char_Val
TRANGROUP:2D31		       int     21h	       ; DOS - 2+ - READ FROM FILE WITH	HANDLE
TRANGROUP:2D31					       ; BX = file handle, CX =	number of bytes	to read
TRANGROUP:2D31					       ; DS:DX -> buffer
TRANGROUP:2D33		       jb      short OpenWriteError
TRANGROUP:2D35		       cmp     ax, cx
TRANGROUP:2D37		       jnz     short reout_0_length
TRANGROUP:2D39		       cmp     One_Char_Val, 1Ah
TRANGROUP:2D3E		       mov     ds, RESSEG
TRANGROUP:2D42		       assume ds:nothing
TRANGROUP:2D42		       jnz     short SET_REOUT
TRANGROUP:2D44		       mov     ax, 4201h
TRANGROUP:2D47		       mov     cx, 0FFFFh      ; -1
TRANGROUP:2D4A		       mov     dx, cx
TRANGROUP:2D4C		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:2D4C					       ; AL = method: offset from present location
TRANGROUP:2D4E		       jmp     short SET_REOUT
TRANGROUP:2D50 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2D50
TRANGROUP:2D50 reout_0_length:			       ; ...
TRANGROUP:2D50		       mov     ds, cs:RESSEG
TRANGROUP:2D55		       mov     ax, 4200h
TRANGROUP:2D58		       xor     cx, cx
TRANGROUP:2D5A		       mov     dx, cx
TRANGROUP:2D5C		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:2D5C					       ; AL = method: offset from beginning of file
TRANGROUP:2D5E		       jmp     short SET_REOUT
TRANGROUP:2D60 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2D60
TRANGROUP:2D60 OpenWriteError:			       ; ...
TRANGROUP:2D60		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:2D63		       stc
TRANGROUP:2D64		       jnz     short REOUTCRT
TRANGROUP:2D66		       jmp     REDIRERR
TRANGROUP:2D69 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2D69
TRANGROUP:2D69 REOUTCRT:			       ; ...
TRANGROUP:2D69		       mov     dx, offset Re_OutStr
TRANGROUP:2D6C		       xor     cx, cx
TRANGROUP:2D6E		       mov     ah, 3Ch
TRANGROUP:2D70		       push    ax
TRANGROUP:2D71		       int     21h	       ; DOS - 2+ - CREATE A FILE WITH HANDLE (CREAT)
TRANGROUP:2D71					       ; CX = attributes for file
TRANGROUP:2D71					       ; DS:DX -> ASCIZ	filename (may include drive and	path)
TRANGROUP:2D73		       pop     bx
TRANGROUP:2D74		       jnb     short NOREDIRERR
TRANGROUP:2D76		       jmp     REDIRERR
TRANGROUP:2D79 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2D79
TRANGROUP:2D79 NOREDIRERR:			       ; ...
TRANGROUP:2D79		       mov     bx, ax
TRANGROUP:2D7B
TRANGROUP:2D7B SET_REOUT:			       ; ...
TRANGROUP:2D7B		       mov     al, 0FFh
TRANGROUP:2D7D		       xchg    al, [bx+18h]    ; [bx+PDB.JFN_TABLE]
TRANGROUP:2D80		       mov     ds:19h, al      ; [PDB.JFN_TABLE+1],al
TRANGROUP:2D83
TRANGROUP:2D83 NOREOUT:				       ; ...
TRANGROUP:2D83		       retn
TRANGROUP:2D83 TESTDOREOUT     endp
TRANGROUP:2D83
TRANGROUP:2D84
TRANGROUP:2D84 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2D84
TRANGROUP:2D84
TRANGROUP:2D84 dstrlen	       proc near	       ; ...
TRANGROUP:2D84		       push    ax
TRANGROUP:2D85		       xor     cx, cx
TRANGROUP:2D87		       cld
TRANGROUP:2D88
TRANGROUP:2D88 dloop:				       ; ...
TRANGROUP:2D88		       lodsb
TRANGROUP:2D89		       inc     cx
TRANGROUP:2D8A		       or      al, al
TRANGROUP:2D8C		       jnz     short dloop
TRANGROUP:2D8E		       sub     si, cx
TRANGROUP:2D90		       pop     ax
TRANGROUP:2D91
TRANGROUP:2D91 TRIAGEERR_RETN:			       ; ...
TRANGROUP:2D91		       retn
TRANGROUP:2D91 dstrlen	       endp
TRANGROUP:2D91
TRANGROUP:2D92
TRANGROUP:2D92 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2D92
TRANGROUP:2D92
TRANGROUP:2D92 TriageError     proc near	       ; ...
TRANGROUP:2D92		       jnb     short TRIAGEERR_RETN
TRANGROUP:2D94		       pushf
TRANGROUP:2D95		       push    bx
TRANGROUP:2D96		       push    cx
TRANGROUP:2D97		       push    si
TRANGROUP:2D98		       push    di
TRANGROUP:2D99		       push    bp
TRANGROUP:2D9A		       push    es
TRANGROUP:2D9B		       push    ds
TRANGROUP:2D9C		       push    ax
TRANGROUP:2D9D		       push    dx
TRANGROUP:2D9E		       mov     ah, 59h
TRANGROUP:2DA0		       int     21h	       ; DOS - 3+ - GET	EXTENDED ERROR CODE
TRANGROUP:2DA0					       ; BX = version code (0000h for DOS 3.x)
TRANGROUP:2DA2		       pop     cx
TRANGROUP:2DA3		       pop     bx
TRANGROUP:2DA4		       mov     dx, offset ACCDEN_PTR
TRANGROUP:2DA7		       cmp     ax, 65
TRANGROUP:2DAA		       jz      short NoMove
TRANGROUP:2DAC		       mov     ax, bx
TRANGROUP:2DAE		       mov     dx, cx
TRANGROUP:2DB0
TRANGROUP:2DB0 NoMove:				       ; ...
TRANGROUP:2DB0		       pop     ds
TRANGROUP:2DB1		       pop     es
TRANGROUP:2DB2		       assume es:nothing
TRANGROUP:2DB2		       pop     bp
TRANGROUP:2DB3		       pop     di
TRANGROUP:2DB4		       pop     si
TRANGROUP:2DB5		       pop     cx
TRANGROUP:2DB6		       pop     bx
TRANGROUP:2DB7		       popf
TRANGROUP:2DB8		       retn
TRANGROUP:2DB8 TriageError     endp
TRANGROUP:2DB8
TRANGROUP:2DB9 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2DB9
TRANGROUP:2DB9 Triage_Init:			       ; ...
TRANGROUP:2DB9		       call    TriageError
TRANGROUP:2DBC		       retf
TRANGROUP:2DBD
TRANGROUP:2DBD ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2DBD
TRANGROUP:2DBD
TRANGROUP:2DBD Move_To_SrcBuf  proc near	       ; ...
TRANGROUP:2DBD		       push    si
TRANGROUP:2DBE		       push    di
TRANGROUP:2DBF		       push    cx
TRANGROUP:2DC0		       mov     di, offset SrcBuf
TRANGROUP:2DC3		       xor     cx, cx
TRANGROUP:2DC5		       mov     ax, cx
TRANGROUP:2DC7		       push    di
TRANGROUP:2DC8		       lodsb
TRANGROUP:2DC9
TRANGROUP:2DC9 mts_get_chars:			       ; ...
TRANGROUP:2DC9		       cmp     al, 0
TRANGROUP:2DCB		       jz      short mts_end_string
TRANGROUP:2DCD		       stosb
TRANGROUP:2DCE		       inc     cx
TRANGROUP:2DCF		       lodsb
TRANGROUP:2DD0		       jmp     short mts_get_chars
TRANGROUP:2DD2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2DD2
TRANGROUP:2DD2 mts_end_string:			       ; ...
TRANGROUP:2DD2		       mov     al, 0Dh
TRANGROUP:2DD4		       stosb
TRANGROUP:2DD5		       pop     di
TRANGROUP:2DD6		       push    cs
TRANGROUP:2DD7		       pop     ds
TRANGROUP:2DD8		       assume ds:TRANGROUP
TRANGROUP:2DD8		       mov     PathCnt,	cx
TRANGROUP:2DDC		       mov     PathPos,	di
TRANGROUP:2DE0		       pop     cx
TRANGROUP:2DE1		       pop     di
TRANGROUP:2DE2		       pop     si
TRANGROUP:2DE3		       retn
TRANGROUP:2DE3 Move_To_SrcBuf  endp
TRANGROUP:2DE3
TRANGROUP:2DE4
TRANGROUP:2DE4 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2DE4
TRANGROUP:2DE4
TRANGROUP:2DE4 SINGLETEST      proc near	       ; ...
TRANGROUP:2DE4		       push    ds
TRANGROUP:2DE5		       mov     ds, cs:RESSEG
TRANGROUP:2DEA		       assume ds:nothing
TRANGROUP:2DEA		       cmp     ds:SingleCom, 0
TRANGROUP:2DEF		       jz      short TESTDONE
TRANGROUP:2DF1		       cmp     ds:SingleCom, 0EFFFh
TRANGROUP:2DF7
TRANGROUP:2DF7 TESTDONE:			       ; ...
TRANGROUP:2DF7		       pop     ds
TRANGROUP:2DF8		       retn
TRANGROUP:2DF8 SINGLETEST      endp
TRANGROUP:2DF8
TRANGROUP:2DF9
TRANGROUP:2DF9 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2DF9
TRANGROUP:2DF9
TRANGROUP:2DF9 SetRest1	       proc near	       ; ...
TRANGROUP:2DF9		       mov     al, 1
TRANGROUP:2DF9 SetRest1	       endp
TRANGROUP:2DF9
TRANGROUP:2DFB
TRANGROUP:2DFB ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2DFB
TRANGROUP:2DFB
TRANGROUP:2DFB SETREST	       proc near	       ; ...
TRANGROUP:2DFB		       push    ds
TRANGROUP:2DFC		       mov     ds, ds:RESSEG
TRANGROUP:2E00		       mov     ds:RestDir, al
TRANGROUP:2E03		       pop     ds
TRANGROUP:2E04		       retn
TRANGROUP:2E04 SETREST	       endp
TRANGROUP:2E04
TRANGROUP:2E05
TRANGROUP:2E05 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2E05
TRANGROUP:2E05
TRANGROUP:2E05 PIPEDEL	       proc near	       ; ...
TRANGROUP:2E05		       push    ds
TRANGROUP:2E06		       push    dx
TRANGROUP:2E07		       mov     ds, cs:RESSEG
TRANGROUP:2E0C		       mov     dx, 320h	       ; offset	Pipe1 =	offset RESGROUP:EndInit
TRANGROUP:2E0F		       mov     ah, 41h
TRANGROUP:2E11		       int     21h	       ; DOS - 2+ - DELETE A FILE (UNLINK)
TRANGROUP:2E11					       ; DS:DX -> ASCIZ	pathname of file to delete (no wildcards allowed)
TRANGROUP:2E13		       mov     dx, 36Fh	       ; offset	Pipe2 =	offset RESGROUP:EndInit+79
TRANGROUP:2E16		       mov     ah, 41h
TRANGROUP:2E18		       int     21h	       ; DOS - 2+ - DELETE A FILE (UNLINK)
TRANGROUP:2E18					       ; DS:DX -> ASCIZ	pathname of file to delete (no wildcards allowed)
TRANGROUP:2E1A		       pop     dx
TRANGROUP:2E1B		       call    PipeOff
TRANGROUP:2E1E		       mov     ds:PipeFiles, 0
TRANGROUP:2E23		       pop     ds
TRANGROUP:2E24		       retn
TRANGROUP:2E24 PIPEDEL	       endp
TRANGROUP:2E24
TRANGROUP:2E25 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2E25 ; START OF FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:2E25
TRANGROUP:2E25 PIPEERRSYN:			       ; ...
TRANGROUP:2E25		       mov     dx, offset SYNTMES_PTR
TRANGROUP:2E28		       call    PIPEDEL
TRANGROUP:2E2B		       push    cs
TRANGROUP:2E2C		       pop     ds
TRANGROUP:2E2D		       assume ds:TRANGROUP
TRANGROUP:2E2D		       jmp     cerror
TRANGROUP:2E30 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2E30
TRANGROUP:2E30 PIPERR:				       ; ...
TRANGROUP:2E30		       pushf
TRANGROUP:2E31		       call    TriageError
TRANGROUP:2E34		       push    ax
TRANGROUP:2E35		       push    dx
TRANGROUP:2E36		       mov     dx, offset PIPEEMES_PTR
TRANGROUP:2E39		       call    PIPEDEL
TRANGROUP:2E3C		       push    cs
TRANGROUP:2E3D		       pop     ds
TRANGROUP:2E3E		       call    std_eprintf
TRANGROUP:2E41		       pop     dx
TRANGROUP:2E42		       pop     ax
TRANGROUP:2E43		       popf
TRANGROUP:2E44		       cmp     ax, 65
TRANGROUP:2E47		       jnz     short TCOMMANDJ
TRANGROUP:2E49		       jmp     cerror
TRANGROUP:2E4C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2E4C
TRANGROUP:2E4C TCOMMANDJ:			       ; ...
TRANGROUP:2E4C		       jmp     TCOMMAND
TRANGROUP:2E4F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2E4F
TRANGROUP:2E4F PIPEPROCSTRT:			       ; ...
TRANGROUP:2E4F		       mov     ds, RESSEG
TRANGROUP:2E53		       assume ds:nothing
TRANGROUP:2E53		       inc     ds:PipeFiles
TRANGROUP:2E57		       push    es
TRANGROUP:2E58		       push    di
TRANGROUP:2E59		       push    ds
TRANGROUP:2E5A		       push    si
TRANGROUP:2E5B		       push    ds
TRANGROUP:2E5C		       push    es
TRANGROUP:2E5D		       pop     ds
TRANGROUP:2E5E		       mov     si, offset TempVarName ;	"TEMP="
TRANGROUP:2E61		       call    find_name_in_environment
TRANGROUP:2E64		       pop     ds
TRANGROUP:2E65		       jb      short no_temp_path
TRANGROUP:2E67		       push    ds
TRANGROUP:2E68		       push    es
TRANGROUP:2E69		       pop     ds
TRANGROUP:2E6A		       pop     es
TRANGROUP:2E6B		       mov     si, di
TRANGROUP:2E6D		       call    skip_white
TRANGROUP:2E70		       call    copy_pipe_path
TRANGROUP:2E73		       push    es
TRANGROUP:2E74		       pop     ds
TRANGROUP:2E75		       mov     dx, offset EndInit ; offset DATARES:Pipe1 = RESGROUP:EndInit
TRANGROUP:2E78		       mov     ax, 4300h
TRANGROUP:2E7B		       int     21h	       ; DOS - 2+ - GET	FILE ATTRIBUTES
TRANGROUP:2E7B					       ; DS:DX -> ASCIZ	file name or directory
TRANGROUP:2E7B					       ; name without trailing slash
TRANGROUP:2E7D		       jb      short no_temp_path
TRANGROUP:2E7F		       test    cx, 10h
TRANGROUP:2E83		       jnz     short no_temp_path
TRANGROUP:2E85		       stc
TRANGROUP:2E86
TRANGROUP:2E86 no_temp_path:			       ; ...
TRANGROUP:2E86		       pop     si
TRANGROUP:2E87		       pop     ds
TRANGROUP:2E88		       pop     di
TRANGROUP:2E89		       pop     es
TRANGROUP:2E8A		       jnb     short crt_temp
TRANGROUP:2E8C		       mov     ah, '.'
TRANGROUP:2E8E		       mov     ds:320h,	ah     ; offset	DATARES:Pipe1 =	RESGROUP:EndInit
TRANGROUP:2E92		       mov     ds:36Fh,	ah     ; offset	DATARES:Pipe2 =	RESGROUP:EndInit+79
TRANGROUP:2E96		       xor     ah, ah
TRANGROUP:2E98		       mov     ds:321h,	ah     ; offset	DATARES:Pipe1+1	= RESGROUP:EndInit+1
TRANGROUP:2E9C		       mov     ds:370h,	ah     ; offset	DATARES:Pipe2+1	= RESGROUP:EndInit+80
TRANGROUP:2EA0
TRANGROUP:2EA0 crt_temp:			       ; ...
TRANGROUP:2EA0		       mov     dx, 320h	       ; offset	DATARES:Pipe1 =	offset RESGROUP:EndInit
TRANGROUP:2EA3		       xor     cx, cx
TRANGROUP:2EA5		       mov     ah, 5Ah
TRANGROUP:2EA7		       int     21h	       ; DOS - 3+ - CREATE UNIQUE FILE
TRANGROUP:2EA7					       ; DS:DX -> ASCIZ	directory path name ending with	a '' + 13 bytes to
TRANGROUP:2EA7					       ; receive generated filename
TRANGROUP:2EA7					       ; CX = file attributes (only bits 0,1,2,5 may be	set)
TRANGROUP:2EA9		       jnb     short pps0
TRANGROUP:2EAB		       jmp     short PIPERR
TRANGROUP:2EAD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2EAD
TRANGROUP:2EAD pps0:				       ; ...
TRANGROUP:2EAD		       mov     bx, ax
TRANGROUP:2EAF		       mov     ah, 3Eh
TRANGROUP:2EB1		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:2EB1					       ; BX = file handle
TRANGROUP:2EB3		       mov     dx, 36Fh	       ; offset	DATARES:Pipe2 =	offset RESGROUP:EndInit+79
TRANGROUP:2EB6		       mov     ah, 5Ah
TRANGROUP:2EB8		       int     21h	       ; DOS - 3+ - CREATE UNIQUE FILE
TRANGROUP:2EB8					       ; DS:DX -> ASCIZ	directory path name ending with	a '' + 13 bytes to
TRANGROUP:2EB8					       ; receive generated filename
TRANGROUP:2EB8					       ; CX = file attributes (only bits 0,1,2,5 may be	set)
TRANGROUP:2EBA		       jnb     short pps1
TRANGROUP:2EBC		       jmp     PIPERR
TRANGROUP:2EBF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2EBF
TRANGROUP:2EBF pps1:				       ; ...
TRANGROUP:2EBF		       mov     bx, ax
TRANGROUP:2EC1		       mov     ah, 3Eh
TRANGROUP:2EC3		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:2EC3					       ; BX = file handle
TRANGROUP:2EC5		       call    TESTDOREIN
TRANGROUP:2EC8		       mov     si, ds:3BEh     ; offset	DATARES:PipePtr	= offset RESGROUP:EndInit+158
TRANGROUP:2ECC		       cmp     ds:SingleCom, 0FFFFh
TRANGROUP:2ED1		       jnz     short NOSINGP
TRANGROUP:2ED3		       mov     ds:SingleCom, 0F000h
TRANGROUP:2ED9
TRANGROUP:2ED9 NOSINGP:				       ; ...
TRANGROUP:2ED9		       jmp     short FIRSTPIPE
TRANGROUP:2EDB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2EDB
TRANGROUP:2EDB PIPEPROC:			       ; ...
TRANGROUP:2EDB		       and     ds:EchoFlag, 0FEh
TRANGROUP:2EE0		       mov     si, ds:3BEh     ; offset	DATARES:PipePtr	= offset RESGROUP:EndInit+158
TRANGROUP:2EE4		       lodsb
TRANGROUP:2EE5		       cmp     al, 7Ch ; '|'   ; ALTPIPECHR
TRANGROUP:2EE7		       jz      short ISPIPE1
TRANGROUP:2EE9		       cmp     al, 7Ch ; '|'   ; VBAR
TRANGROUP:2EEB		       jz      short ISPIPE1
TRANGROUP:2EED		       jmp     PIPEEND
TRANGROUP:2EF0 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2EF0
TRANGROUP:2EF0 ISPIPE1:				       ; ...
TRANGROUP:2EF0		       mov     dx, ds:InPipePtr
TRANGROUP:2EF4		       mov     ax, 3D00h
TRANGROUP:2EF7		       int     21h	       ; DOS - 2+ - OPEN DISK FILE WITH	HANDLE
TRANGROUP:2EF7					       ; DS:DX -> ASCIZ	filename
TRANGROUP:2EF7					       ; AL = access mode
TRANGROUP:2EF7					       ; 0 - read
TRANGROUP:2EF9
TRANGROUP:2EF9 PIPEERRJ:			       ; ...
TRANGROUP:2EF9		       jnb     short NO_PIPEERR
TRANGROUP:2EFB		       jmp     PIPERR
TRANGROUP:2EFE ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2EFE
TRANGROUP:2EFE NO_PIPEERR:			       ; ...
TRANGROUP:2EFE		       mov     bx, ax
TRANGROUP:2F00		       mov     al, 0FFh
TRANGROUP:2F02		       xchg    al, [bx+18h]    ; [bx+PDB.JFN_TABLE]
TRANGROUP:2F05		       mov     ds:18h, al      ; [PDB.JFN_TABLE],al  ; Redirect
TRANGROUP:2F08
TRANGROUP:2F08 FIRSTPIPE:			       ; ...
TRANGROUP:2F08		       mov     di, (offset COMBUF+2)
TRANGROUP:2F0B		       xor     cx, cx
TRANGROUP:2F0D		       cmp     byte ptr	[si], 0Dh ; '|<CR>'
TRANGROUP:2F10		       jnz     short PIPEOK1
TRANGROUP:2F12
TRANGROUP:2F12 PIPEERRSYNJ:			       ; ...
TRANGROUP:2F12		       jmp     PIPEERRSYN
TRANGROUP:2F15 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2F15
TRANGROUP:2F15 PIPEOK1:				       ; ...
TRANGROUP:2F15		       mov     al, 7Ch ; '|'
TRANGROUP:2F17		       cmp     [si], al
TRANGROUP:2F19		       jz      short PIPEERRSYNJ
TRANGROUP:2F1B		       cmp     byte ptr	[si], 7Ch ; '|'
TRANGROUP:2F1E		       jz      short PIPEERRSYNJ
TRANGROUP:2F20
TRANGROUP:2F20 PIPECOMLP:			       ; ...
TRANGROUP:2F20		       lodsb
TRANGROUP:2F21		       stosb
TRANGROUP:2F22		       call    testkanj
TRANGROUP:2F25		       jz      short NOTKANJ5
TRANGROUP:2F27		       movsb
TRANGROUP:2F28		       inc     cx
TRANGROUP:2F29		       inc     cx
TRANGROUP:2F2A		       jmp     short PIPECOMLP
TRANGROUP:2F2C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2F2C
TRANGROUP:2F2C NOTKANJ5:			       ; ...
TRANGROUP:2F2C		       cmp     al, 0Dh
TRANGROUP:2F2E		       jz      short LASTPIPE
TRANGROUP:2F30		       inc     cx
TRANGROUP:2F31		       cmp     al, 7Ch ; '|'
TRANGROUP:2F33		       jz      short ISPIPE2
TRANGROUP:2F35		       cmp     al, 7Ch ; '|'
TRANGROUP:2F37		       jnz     short PIPECOMLP
TRANGROUP:2F39
TRANGROUP:2F39 ISPIPE2:				       ; ...
TRANGROUP:2F39		       mov     byte ptr	es:[di-1], 0Dh
TRANGROUP:2F3E		       dec     cx
TRANGROUP:2F3F		       mov     es:COMBUF+1, cl
TRANGROUP:2F44		       dec     si
TRANGROUP:2F45		       mov     ds:3BEh,	si     ; [PipePtr] = [EndInit+158]
TRANGROUP:2F49		       mov     dx, ds:OutPipePtr
TRANGROUP:2F4D		       push    cx
TRANGROUP:2F4E		       xor     cx, cx
TRANGROUP:2F50		       mov     ax, 3C00h
TRANGROUP:2F53		       int     21h	       ; DOS - 2+ - CREATE A FILE WITH HANDLE (CREAT)
TRANGROUP:2F53					       ; CX = attributes for file
TRANGROUP:2F53					       ; DS:DX -> ASCIZ	filename (may include drive and	path)
TRANGROUP:2F55		       pop     cx
TRANGROUP:2F56		       jb      short PIPEERRJ
TRANGROUP:2F58		       mov     bx, ax
TRANGROUP:2F5A		       mov     al, 0FFh
TRANGROUP:2F5C		       xchg    al, [bx+18h]    ; [bx+PDB.JFN_TABLE]
TRANGROUP:2F5F		       mov     ds:19h, al      ; [PDB.JFN_TABLE+1]
TRANGROUP:2F62		       xchg    dx, ds:InPipePtr
TRANGROUP:2F66		       mov     ds:OutPipePtr, dx
TRANGROUP:2F6A		       jmp     short PIPECOM
TRANGROUP:2F6C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2F6C
TRANGROUP:2F6C LASTPIPE:			       ; ...
TRANGROUP:2F6C		       mov     es:COMBUF+1, cl
TRANGROUP:2F71		       dec     si
TRANGROUP:2F72		       mov     ds:3BEh,	si     ; [PipePtr] = [EndInit+158]
TRANGROUP:2F76		       call    TESTDOREOUT
TRANGROUP:2F79
TRANGROUP:2F79 PIPECOM:				       ; ...
TRANGROUP:2F79		       push    cs
TRANGROUP:2F7A		       pop     ds
TRANGROUP:2F7B		       assume ds:TRANGROUP
TRANGROUP:2F7B		       jmp     NOPIPEPROC
TRANGROUP:2F7E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2F7E
TRANGROUP:2F7E PIPEEND:				       ; ...
TRANGROUP:2F7E		       call    PIPEDEL
TRANGROUP:2F81		       cmp     ds:SingleCom, 0F000h
TRANGROUP:2F87		       jnz     short NOSINGP2
TRANGROUP:2F89		       mov     ds:SingleCom, 0FFFFh ; -1
TRANGROUP:2F8F
TRANGROUP:2F8F NOSINGP2:			       ; ...
TRANGROUP:2F8F		       jmp     TCOMMAND
TRANGROUP:2F8F ; END OF	FUNCTION CHUNK FOR PROMPTBAT
TRANGROUP:2F92
TRANGROUP:2F92 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2F92
TRANGROUP:2F92
TRANGROUP:2F92 DATINIT	       proc far		       ; ...
TRANGROUP:2F92		       mov     cs:RESSEG, ds
TRANGROUP:2F97		       push    es
TRANGROUP:2F98		       push    ds
TRANGROUP:2F99		       mov     ax, cs
TRANGROUP:2F9B		       mov     es, ax
TRANGROUP:2F9D		       assume es:TRANGROUP
TRANGROUP:2F9D		       mov     ds, ax
TRANGROUP:2F9F		       call    TSYSLOADMSG
TRANGROUP:2FA2		       mov     dx, offset STACK	; mov dx, offset INTERNATVARS
TRANGROUP:2FA5		       mov     ax, 3800h
TRANGROUP:2FA8		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:2FA8					       ; get current-country info
TRANGROUP:2FA8					       ; DS:DX -> buffer for returned info
TRANGROUP:2FAA		       mov     word ptr	TRANSTART+81h, 0Dh
TRANGROUP:2FB0		       mov     COMBUF, 128
TRANGROUP:2FB5		       mov     word ptr	COMBUF+1, 0D01h
TRANGROUP:2FBB		       call    DATE
TRANGROUP:2FBE		       call    CTIME
TRANGROUP:2FC1		       pop     ds
TRANGROUP:2FC2		       assume ds:nothing
TRANGROUP:2FC2		       pop     es
TRANGROUP:2FC3		       assume es:nothing
TRANGROUP:2FC3		       retf
TRANGROUP:2FC3 DATINIT	       endp
TRANGROUP:2FC3
TRANGROUP:2FC4
TRANGROUP:2FC4 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:2FC4
TRANGROUP:2FC4
TRANGROUP:2FC4 DATE	       proc near	       ; ...
TRANGROUP:2FC4		       mov     si, 81h
TRANGROUP:2FC7		       mov     di, offset PARSE_DATE
TRANGROUP:2FCA		       xor     cx, cx
TRANGROUP:2FCC		       xor     dx, dx
TRANGROUP:2FCE		       call    cmd_parse
TRANGROUP:2FD1		       cmp     ax, 0FFFFh
TRANGROUP:2FD4		       jz      short PRMTDAT
TRANGROUP:2FD6		       cmp     ax, 0
TRANGROUP:2FD9		       jnz     short DATERR
TRANGROUP:2FDB		       jmp     short COMDAT
TRANGROUP:2FDD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:2FDD
TRANGROUP:2FDD PRMTDAT:				       ; ...
TRANGROUP:2FDD		       call    GetDate
TRANGROUP:2FE0		       xchg    dh, dl
TRANGROUP:2FE2		       mov     ds:CurDat_yr, cx
TRANGROUP:2FE6		       mov     ds:CurDat_mo_day, dx
TRANGROUP:2FEA		       mov     dx, offset CurDat_Ptr
TRANGROUP:2FED		       call    std_printf
TRANGROUP:2FF0
TRANGROUP:2FF0 GET_NEW_DATE:			       ; ...
TRANGROUP:2FF0		       call    GETDAT
TRANGROUP:2FF3		       cmp     ax, 0FFFFh      ; END_OF_LINE (-1)
TRANGROUP:2FF6		       jz      short date_end
TRANGROUP:2FF8		       cmp     ax, 0
TRANGROUP:2FFB		       jnz     short DATERR
TRANGROUP:2FFD
TRANGROUP:2FFD COMDAT:				       ; ...
TRANGROUP:2FFD		       mov     cx, ds:DATE_YEAR
TRANGROUP:3001		       mov     dh, ds:DATE_MONTH
TRANGROUP:3005		       mov     dl, ds:DATE_DAY
TRANGROUP:3009		       push    cx
TRANGROUP:300A		       push    dx
TRANGROUP:300B		       mov     cx, 1
TRANGROUP:300E		       xor     dx, dx
TRANGROUP:3010		       call    cmd_parse
TRANGROUP:3013		       cmp     al, 0FFh	       ; END_OF_LINE (-1)
TRANGROUP:3015		       pop     dx
TRANGROUP:3016		       pop     cx
TRANGROUP:3017		       jnz     short DATERR
TRANGROUP:3019		       mov     ah, 2Bh
TRANGROUP:301B		       int     21h	       ; DOS - SET CURRENT DATE
TRANGROUP:301B					       ; DL = day, DH =	month, CX = year
TRANGROUP:301B					       ; Return: AL = 00h if no	error /= FFh if	bad value sent to routine
TRANGROUP:301D		       or      al, al
TRANGROUP:301F		       jnz     short DATERR
TRANGROUP:3021
TRANGROUP:3021 date_end:			       ; ...
TRANGROUP:3021		       retn
TRANGROUP:3022 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3022
TRANGROUP:3022 DATERR:				       ; ...
TRANGROUP:3022		       call    CRLF2
TRANGROUP:3025		       mov     dx, offset BADDAT_PTR
TRANGROUP:3028		       call    std_printf
TRANGROUP:302B		       jmp     short GET_NEW_DATE
TRANGROUP:302B DATE	       endp
TRANGROUP:302B
TRANGROUP:302D
TRANGROUP:302D ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:302D
TRANGROUP:302D
TRANGROUP:302D CTIME	       proc near	       ; ...
TRANGROUP:302D		       mov     si, 81h
TRANGROUP:3030		       mov     di, offset PARSE_TIME
TRANGROUP:3033		       xor     cx, cx
TRANGROUP:3035		       xor     dx, dx
TRANGROUP:3037		       call    cmd_parse
TRANGROUP:303A		       cmp     ax, 0FFFFh      ; END_OF_LINE
TRANGROUP:303D		       jz      short PRMTTIM
TRANGROUP:303F		       cmp     ax, 0	       ; RESULT_NO_ERROR
TRANGROUP:3042		       jnz     short TIMERR
TRANGROUP:3044		       jmp     short COMTIM
TRANGROUP:3046 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3046
TRANGROUP:3046 PRMTTIM:				       ; ...
TRANGROUP:3046		       mov     ah, 2Ch
TRANGROUP:3048		       int     21h	       ; DOS - GET CURRENT TIME
TRANGROUP:3048					       ; Return: CH = hours, CL	= minutes, DH =	seconds
TRANGROUP:3048					       ; DL = hundredths of seconds
TRANGROUP:304A		       xchg    ch, cl
TRANGROUP:304C		       xchg    dh, dl
TRANGROUP:304E		       mov     ds:CurTim_hr_min, cx
TRANGROUP:3052		       mov     ds:CurTim_Sec_hn, dx
TRANGROUP:3056		       mov     dx, offset CurTim_Ptr
TRANGROUP:3059		       call    std_printf
TRANGROUP:305C
TRANGROUP:305C GET_NEW_TIME:			       ; ...
TRANGROUP:305C		       call    GETTIM
TRANGROUP:305F		       cmp     ax, 0FFFFh      ; -1 ; END_OF_LINE
TRANGROUP:3062		       jz      short time_end
TRANGROUP:3064		       cmp     ax, 0	       ; 0 ; RESULT_NO_ERROR
TRANGROUP:3067		       jnz     short TIMERR
TRANGROUP:3069
TRANGROUP:3069 COMTIM:				       ; ...
TRANGROUP:3069		       mov     ch, ds:TIME_HOUR
TRANGROUP:306D		       mov     cl, ds:TIME_MINUTES
TRANGROUP:3071		       mov     dh, ds:TIME_SECONDS
TRANGROUP:3075		       mov     dl, ds:TIME_FRACTION
TRANGROUP:3079		       push    cx
TRANGROUP:307A		       push    dx
TRANGROUP:307B		       mov     cx, 1
TRANGROUP:307E		       xor     dx, dx
TRANGROUP:3080		       call    cmd_parse
TRANGROUP:3083		       cmp     al, 0FFh	       ; -1 ; END_OF_LINE
TRANGROUP:3085		       pop     dx
TRANGROUP:3086		       pop     cx
TRANGROUP:3087		       jnz     short TIMERR
TRANGROUP:3089		       mov     ah, 2Dh
TRANGROUP:308B		       int     21h	       ; DOS - SET CURRENT TIME
TRANGROUP:308B					       ; CH = hours, CL	= minutes, DH =	seconds, DL = hundredths of seconds
TRANGROUP:308B					       ; Return: AL = 00h if no	error /	= FFh if bad value sent	to routine
TRANGROUP:308D		       or      al, al
TRANGROUP:308F		       jnz     short TIMERR
TRANGROUP:3091
TRANGROUP:3091 time_end:			       ; ...
TRANGROUP:3091		       retn
TRANGROUP:3092 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3092
TRANGROUP:3092 TIMERR:				       ; ...
TRANGROUP:3092		       call    CRLF2
TRANGROUP:3095		       mov     dx, offset BadTim_Ptr
TRANGROUP:3098		       call    std_printf
TRANGROUP:309B		       jmp     short GET_NEW_TIME
TRANGROUP:309B CTIME	       endp
TRANGROUP:309B
TRANGROUP:309D
TRANGROUP:309D ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:309D
TRANGROUP:309D
TRANGROUP:309D SetInitFlag     proc near	       ; ...
TRANGROUP:309D		       mov     ds, ds:RESSEG
TRANGROUP:30A1		       and     ds:InitFlag, 0FDh ; ~INITSPECIAL	; NOT INITSPECIAL
TRANGROUP:30A6		       or      ds:InitFlag, cl
TRANGROUP:30AA		       push    cs
TRANGROUP:30AB		       pop     ds
TRANGROUP:30AC		       assume ds:TRANGROUP
TRANGROUP:30AC		       retn
TRANGROUP:30AC SetInitFlag     endp
TRANGROUP:30AC
TRANGROUP:30AD
TRANGROUP:30AD ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:30AD
TRANGROUP:30AD
TRANGROUP:30AD PipeOff	       proc near	       ; ...
TRANGROUP:30AD		       push    ds
TRANGROUP:30AE		       push    ax
TRANGROUP:30AF		       mov     ds, cs:RESSEG
TRANGROUP:30B4		       assume ds:nothing
TRANGROUP:30B4		       xor     al, al
TRANGROUP:30B6		       xchg    al, ds:PipeFlag
TRANGROUP:30BA		       or      al, al
TRANGROUP:30BC		       jz      short PipeOffDone
TRANGROUP:30BE		       shr     ds:EchoFlag, 1
TRANGROUP:30C2
TRANGROUP:30C2 PipeOffDone:			       ; ...
TRANGROUP:30C2		       pop     ax
TRANGROUP:30C3		       pop     ds
TRANGROUP:30C4		       retn
TRANGROUP:30C4 PipeOff	       endp
TRANGROUP:30C4
TRANGROUP:30C5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:30C5
TRANGROUP:30C5 PRINT_TIME:			       ; ...
TRANGROUP:30C5		       mov     ah, 2Ch
TRANGROUP:30C7		       int     21h	       ; DOS - GET CURRENT TIME
TRANGROUP:30C7					       ; Return: CH = hours, CL	= minutes, DH =	seconds
TRANGROUP:30C7					       ; DL = hundredths of seconds
TRANGROUP:30C9		       push    es
TRANGROUP:30CA		       push    cs
TRANGROUP:30CB		       pop     es
TRANGROUP:30CC		       assume es:TRANGROUP
TRANGROUP:30CC		       xchg    ch, cl
TRANGROUP:30CE		       xchg    dh, dl
TRANGROUP:30D0		       mov     cs:PromTim_hr_min, cx
TRANGROUP:30D5		       mov     cs:PromTim_Sec_hn, dx
TRANGROUP:30DA		       mov     dx, offset promtim_ptr
TRANGROUP:30DD		       call    std_printf
TRANGROUP:30E0		       pop     es
TRANGROUP:30E1		       assume es:nothing
TRANGROUP:30E1		       retn
TRANGROUP:30E2
TRANGROUP:30E2 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:30E2
TRANGROUP:30E2
TRANGROUP:30E2 GETDAT	       proc near	       ; ...
TRANGROUP:30E2		       mov     ax, 3800h
TRANGROUP:30E5		       mov     dx, 5Ch
TRANGROUP:30E8		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:30E8					       ; get current-country info
TRANGROUP:30E8					       ; DS:DX -> buffer for returned info
TRANGROUP:30EA		       mov     si, dx
TRANGROUP:30EC		       lodsw
TRANGROUP:30ED		       mov     dx, cs:usadat_Ptr
TRANGROUP:30F2		       dec     ax
TRANGROUP:30F3		       js      short printformat
TRANGROUP:30F5		       mov     dx, cs:eurdat_ptr
TRANGROUP:30FA		       jz      short printformat
TRANGROUP:30FC		       mov     dx, cs:japdat_ptr
TRANGROUP:3101
TRANGROUP:3101 printformat:			       ; ...
TRANGROUP:3101		       mov     ax, dx
TRANGROUP:3103		       mov     dh, 0FFh	       ; util_msg_class
TRANGROUP:3105		       call    TSYSGETMSG
TRANGROUP:3108		       mov     cs:NewDat_Format, si
TRANGROUP:310D		       mov     dx, offset NewDat_Ptr
TRANGROUP:3110		       call    std_printf
TRANGROUP:3113		       mov     cs:NewDat_Format, 0
TRANGROUP:311A		       mov     ah, 0Ah	       ; STD_CON_STRING_INPUT
TRANGROUP:311C		       mov     dx, offset COMBUF
TRANGROUP:311F		       mov     cx, 2	       ; INITSPECIAL
TRANGROUP:3122		       call    SetInitFlag
TRANGROUP:3125		       int     21h	       ; DOS -
TRANGROUP:3127		       xor     cx, cx
TRANGROUP:3129		       call    SetInitFlag
TRANGROUP:312C		       call    CRLF2
TRANGROUP:312F		       mov     si, (offset COMBUF+2)
TRANGROUP:3132		       mov     di, offset PARSE_DATE
TRANGROUP:3135		       xor     cx, cx
TRANGROUP:3137		       xor     dx, dx
TRANGROUP:3139		       call    cmd_parse
TRANGROUP:313C		       retn
TRANGROUP:313C GETDAT	       endp
TRANGROUP:313C
TRANGROUP:313D
TRANGROUP:313D ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:313D
TRANGROUP:313D
TRANGROUP:313D GETTIM	       proc near	       ; ...
TRANGROUP:313D		       xor     cx, cx
TRANGROUP:313F		       mov     dx, offset NewTim_Ptr
TRANGROUP:3142		       call    std_printf
TRANGROUP:3145		       mov     ah, 0Ah	       ; STD_CON_STRING_INPUT
TRANGROUP:3147		       mov     dx, offset COMBUF
TRANGROUP:314A		       mov     cx, 2	       ; INITSPECIAL
TRANGROUP:314D		       call    SetInitFlag
TRANGROUP:3150		       int     21h	       ; DOS -
TRANGROUP:3152		       xor     cx, cx
TRANGROUP:3154		       call    SetInitFlag
TRANGROUP:3157		       call    CRLF2
TRANGROUP:315A		       mov     si, (offset COMBUF+2)
TRANGROUP:315D		       mov     di, offset PARSE_TIME
TRANGROUP:3160		       xor     cx, cx
TRANGROUP:3162		       xor     dx, dx
TRANGROUP:3164		       call    cmd_parse
TRANGROUP:3167		       retn
TRANGROUP:3167 GETTIM	       endp
TRANGROUP:3167
TRANGROUP:3168
TRANGROUP:3168 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3168
TRANGROUP:3168
TRANGROUP:3168 skip_white      proc near	       ; ...
TRANGROUP:3168		       cld
TRANGROUP:3169
TRANGROUP:3169 skw_lp:				       ; ...
TRANGROUP:3169		       lodsb
TRANGROUP:316A		       cmp     al, 20h ; ' '
TRANGROUP:316C		       jz      short skw_lp
TRANGROUP:316E		       cmp     al, 9
TRANGROUP:3170		       jz      short skw_lp
TRANGROUP:3172		       dec     si
TRANGROUP:3173		       retn
TRANGROUP:3173 skip_white      endp
TRANGROUP:3173
TRANGROUP:3174
TRANGROUP:3174 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3174
TRANGROUP:3174
TRANGROUP:3174 copy_pipe_path  proc near	       ; ...
TRANGROUP:3174		       mov     cx, 0FFFFh      ; 65535
TRANGROUP:3177		       xor     al, al
TRANGROUP:3179		       mov     di, si
TRANGROUP:317B		       push    es
TRANGROUP:317C		       push    ds
TRANGROUP:317D		       pop     es
TRANGROUP:317E		       cld
TRANGROUP:317F		       push    di
TRANGROUP:3180		       repne scasb
TRANGROUP:3182		       pop     di
TRANGROUP:3183		       pop     es
TRANGROUP:3184		       not     cx
TRANGROUP:3186		       mov     di, 320h	       ; offset	DATARES:Pipe1
TRANGROUP:3186					       ; (offset RESGROUP:EndINit)
TRANGROUP:3189		       push    di
TRANGROUP:318A		       push    cx
TRANGROUP:318B		       rep movsb
TRANGROUP:318D		       pop     cx
TRANGROUP:318E		       pop     di
TRANGROUP:318F		       push    ds
TRANGROUP:3190		       push    es
TRANGROUP:3191		       pop     ds
TRANGROUP:3192		       mov     si, di
TRANGROUP:3194		       mov     di, 36Fh	       ; offset	DATARES:Pipe2
TRANGROUP:3194					       ; (offset RESGROUP:EndINit+79)
TRANGROUP:3197		       rep movsb
TRANGROUP:3199		       pop     ds
TRANGROUP:319A		       retn
TRANGROUP:319A copy_pipe_path  endp
TRANGROUP:319A
TRANGROUP:319B
TRANGROUP:319B ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:319B
TRANGROUP:319B
TRANGROUP:319B PARSELINE       proc near	       ; ...
TRANGROUP:319B		       push    ax
TRANGROUP:319C		       push    bx
TRANGROUP:319D		       push    cx
TRANGROUP:319E		       push    dx
TRANGROUP:319F		       push    di
TRANGROUP:31A0		       push    si
TRANGROUP:31A1		       pushf
TRANGROUP:31A2		       mov     ds:cpyflag, 0
TRANGROUP:31A7		       mov     ds:LASTARG, 0FFFFh
TRANGROUP:31AD		       xor     ax, ax
TRANGROUP:31AF		       mov     cx, 1348	       ; ARG_UNIT.SIZE
TRANGROUP:31B2		       mov     di, offset ARG_ARGV ; offset ARG
TRANGROUP:31B5		       rep stosb
TRANGROUP:31B7		       mov     ds:ARGBUF_PTR, offset ARG_ARGBUF	; ARG+ARG_UNIT.argbuf
TRANGROUP:31BD		       mov     ds:ARG_ARGSWINFO, 0 ; [ARG+ARG_UNIT.argswinfo]
TRANGROUP:31C3		       mov     ds:ARG_ARGVCNT, 0 ; [ARG+ARG_UNIT.argvcnt]
TRANGROUP:31C9		       mov     si, (offset COMBUF+2)
TRANGROUP:31CC		       push    ds
TRANGROUP:31CD		       mov     ds, ds:RESSEG
TRANGROUP:31D1		       cmp     ds:ForFlag, 0
TRANGROUP:31D6		       pop     ds
TRANGROUP:31D7		       jnz     short PCONT
TRANGROUP:31D9		       mov     di, offset ARG_ARGFORCOMBUF ; ARG+ARG_UNIT.argforcombuf
TRANGROUP:31DC		       xor     ch, ch
TRANGROUP:31DE		       mov     cl, ds:COMBUF+1
TRANGROUP:31E2		       inc     cl
TRANGROUP:31E4		       rep movsb
TRANGROUP:31E6		       mov     si, offset ARG_ARGFORCOMBUF
TRANGROUP:31E9
TRANGROUP:31E9 PCONT:				       ; ...
TRANGROUP:31E9		       mov     di, offset TPBUF
TRANGROUP:31EC		       mov     bl, 20h ; ' '
TRANGROUP:31EE
TRANGROUP:31EE PARSELOOP:			       ; ...
TRANGROUP:31EE		       mov     ds:COMPTR, si
TRANGROUP:31F2		       xor     bp, bp
TRANGROUP:31F4		       mov     ds:expand_star, 0
TRANGROUP:31F9		       call    scanoff
TRANGROUP:31FC		       call    cparse
TRANGROUP:31FF		       jnb     short MORE_PRSE
TRANGROUP:3201		       or      bp, bp
TRANGROUP:3203		       jz      short PARSEDONE
TRANGROUP:3205		       call    newarg
TRANGROUP:3208		       jmp     short PARSEDONE
TRANGROUP:320A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:320A
TRANGROUP:320A MORE_PRSE:			       ; ...
TRANGROUP:320A		       mov     ds:cpyflag, 2
TRANGROUP:320F		       call    newarg
TRANGROUP:3212		       jnb     short PARSELOOP
TRANGROUP:3214		       jmp     short PARSE_ERROR
TRANGROUP:3216 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3216
TRANGROUP:3216 PARSEDONE:			       ; ...
TRANGROUP:3216		       popf
TRANGROUP:3217		       clc
TRANGROUP:3218		       jmp     short PARSE_EXIT
TRANGROUP:321A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:321A
TRANGROUP:321A PARSE_ERROR:			       ; ...
TRANGROUP:321A		       popf
TRANGROUP:321B		       stc
TRANGROUP:321C
TRANGROUP:321C PARSE_EXIT:			       ; ...
TRANGROUP:321C		       pop     si
TRANGROUP:321D		       pop     di
TRANGROUP:321E		       pop     dx
TRANGROUP:321F		       pop     cx
TRANGROUP:3220		       pop     bx
TRANGROUP:3221		       pop     ax
TRANGROUP:3222		       retn
TRANGROUP:3222 PARSELINE       endp
TRANGROUP:3222
TRANGROUP:3223
TRANGROUP:3223 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3223
TRANGROUP:3223
TRANGROUP:3223 newarg	       proc near	       ; ...
TRANGROUP:3223		       push    bx
TRANGROUP:3224		       push    cx
TRANGROUP:3225		       push    dx
TRANGROUP:3226		       push    di
TRANGROUP:3227		       push    si
TRANGROUP:3228		       pushf
TRANGROUP:3229		       call    arg_switch
TRANGROUP:322C		       cmp     ds:ARG_ARGVCNT, 64 ; [ARG+ARG_UNIT.argvcnt],ARGMAX
TRANGROUP:3231		       jge     short to_many_args
TRANGROUP:3233		       mov     dh, bh
TRANGROUP:3235		       mov     bx, ds:ARG_ARGVCNT ; [ARG+ARG_UNIT.argvcnt]
TRANGROUP:3239		       inc     ds:ARG_ARGVCNT
TRANGROUP:323D		       mov     ax, offset ARG_ARGV ; ARG+ARG_UNIT.argv
TRANGROUP:3240		       call    argv_calc
TRANGROUP:3243		       mov     word ptr	[bx+7],	0 ; [bx+ARGV_ELE.argsw_word]
TRANGROUP:3248		       mov     [bx+5], cx      ; [bx+ARGV_ELE.arglen]
TRANGROUP:324B		       mov     [bx+2], dh      ; [bx+ARGV_ELE.argflags]
TRANGROUP:324E		       mov     si, ds:ARGBUF_PTR
TRANGROUP:3252		       mov     [bx], si	       ; [bx+ARGV_ELE.argpointer]
TRANGROUP:3254		       add     si, ds:STARTEL
TRANGROUP:3258		       sub     si, di
TRANGROUP:325A		       mov     [bx+3], si      ; [bx+ARGV_ELE.argstartel]
TRANGROUP:325D		       mov     si, ds:COMPTR
TRANGROUP:3261		       mov     [bx+9], si      ; [bx+ARGV_ELE.arg_ocomptr]
TRANGROUP:3264		       mov     si, di
TRANGROUP:3266		       mov     di, ds:ARGBUF_PTR
TRANGROUP:326A		       add     di, cx
TRANGROUP:326C		       cmp     di, (offset ARG_ARGBUF+0FFh) ; ARG+ARG_UNIT.argbuf+ARGBLEN-1
TRANGROUP:3270		       jge     short buf_oflow
TRANGROUP:3272		       sub     di, cx
TRANGROUP:3274		       cld
TRANGROUP:3275		       rep movsb
TRANGROUP:3277		       mov     al, 0	       ; ANULL
TRANGROUP:3279		       stosb
TRANGROUP:327A		       mov     ds:ARGBUF_PTR, di
TRANGROUP:327E
TRANGROUP:327E newarg_done:
TRANGROUP:327E		       popf
TRANGROUP:327F		       clc
TRANGROUP:3280		       jmp     short newarg_exit
TRANGROUP:3282 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3282
TRANGROUP:3282 to_many_args:			       ; ...
TRANGROUP:3282		       mov     ax, 1
TRANGROUP:3285		       jmp     short newarg_error
TRANGROUP:3287 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3287
TRANGROUP:3287 buf_oflow:			       ; ...
TRANGROUP:3287		       mov     ax, 2
TRANGROUP:328A
TRANGROUP:328A newarg_error:			       ; ...
TRANGROUP:328A		       popf
TRANGROUP:328B		       stc
TRANGROUP:328C
TRANGROUP:328C newarg_exit:			       ; ...
TRANGROUP:328C		       pop     si
TRANGROUP:328D		       pop     di
TRANGROUP:328E		       pop     dx
TRANGROUP:328F		       pop     cx
TRANGROUP:3290		       pop     bx
TRANGROUP:3291		       retn
TRANGROUP:3291 newarg	       endp
TRANGROUP:3291
TRANGROUP:3292
TRANGROUP:3292 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3292
TRANGROUP:3292
TRANGROUP:3292 arg_switch      proc near	       ; ...
TRANGROUP:3292		       push    ax
TRANGROUP:3293		       push    bx
TRANGROUP:3294		       push    cx
TRANGROUP:3295		       push    di
TRANGROUP:3296		       pushf
TRANGROUP:3297		       test    bh, 1
TRANGROUP:329A		       jz      short arg_no_switch0
TRANGROUP:329C		       cmp     ds:LASTARG, 0FFFFh ; -1
TRANGROUP:32A1		       jz      short arg_no_switch1
TRANGROUP:32A3		       mov     bx, ds:LASTARG
TRANGROUP:32A7		       mov     ax, offset ARG_ARGV ; ARG+ARG_UNIT.argv ; ARG+0
TRANGROUP:32AA		       call    argv_calc
TRANGROUP:32AD		       or      [bx+7], bp      ; [bx+ARGV_ELE.argsw_word]
TRANGROUP:32B0		       or      ds:ARG_ARGSWINFO, bp ; [ARG+ARG_UNIT.argswinfo]
TRANGROUP:32B4
TRANGROUP:32B4 arg_yes_switch:
TRANGROUP:32B4		       popf
TRANGROUP:32B5		       stc
TRANGROUP:32B6		       jmp     short arg_switch_exit
TRANGROUP:32B8 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:32B8
TRANGROUP:32B8 arg_no_switch0:			       ; ...
TRANGROUP:32B8		       mov     ax, ds:ARG_ARGVCNT ; [ARG+ARG_UNIT.argvcnt]
TRANGROUP:32BB		       mov     ds:LASTARG, ax
TRANGROUP:32BE
TRANGROUP:32BE arg_no_switch1:			       ; ...
TRANGROUP:32BE		       popf
TRANGROUP:32BF		       clc
TRANGROUP:32C0
TRANGROUP:32C0 arg_switch_exit:			       ; ...
TRANGROUP:32C0		       pop     di
TRANGROUP:32C1		       pop     cx
TRANGROUP:32C2		       pop     bx
TRANGROUP:32C3		       pop     ax
TRANGROUP:32C4		       retn
TRANGROUP:32C4 arg_switch      endp
TRANGROUP:32C4
TRANGROUP:32C5
TRANGROUP:32C5 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:32C5
TRANGROUP:32C5
TRANGROUP:32C5 argv_calc       proc near	       ; ...
TRANGROUP:32C5		       push    ax
TRANGROUP:32C6		       mov     al, bl
TRANGROUP:32C8		       mov     bl, 11	       ; ARGV_ELE.SIZE
TRANGROUP:32CA		       mul     bl
TRANGROUP:32CC		       pop     bx
TRANGROUP:32CD		       add     ax, bx
TRANGROUP:32CF		       xchg    ax, bx
TRANGROUP:32D0		       retn
TRANGROUP:32D0 argv_calc       endp
TRANGROUP:32D0
TRANGROUP:32D1
TRANGROUP:32D1 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:32D1
TRANGROUP:32D1
TRANGROUP:32D1 path_search     proc near	       ; ...
TRANGROUP:32D1		       push    bx
TRANGROUP:32D2		       push    cx
TRANGROUP:32D3		       push    dx
TRANGROUP:32D4		       push    si
TRANGROUP:32D5		       push    di
TRANGROUP:32D6		       push    bp
TRANGROUP:32D7		       pushf
TRANGROUP:32D8		       test    ds:ARGV0_ARG_FLAGS, 3 ; [ARG+ARGV_ELE.argflags],wildcard+sw_flag
TRANGROUP:32DD		       jz      short path_search_ok
TRANGROUP:32DF
TRANGROUP:32DF path_failure_jmp:		       ; ...
TRANGROUP:32DF		       jmp     path_failure
TRANGROUP:32E2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:32E2
TRANGROUP:32E2 path_search_ok:			       ; ...
TRANGROUP:32E2		       call    STORE_PCHAR
TRANGROUP:32E5		       mov     dx, offset FBUF
TRANGROUP:32E8		       mov     ax, 1A00h
TRANGROUP:32EB		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:32EB					       ; DS:DX -> disk transfer	buffer
TRANGROUP:32ED		       push    es
TRANGROUP:32EE		       call    find_path
TRANGROUP:32F1		       mov     ds:pathinfo, es ; [pathinfo+0]
TRANGROUP:32F5		       mov     ds:pathinfo+2, di
TRANGROUP:32F9		       mov     ds:pathinfo+4, di
TRANGROUP:32FD		       pop     es
TRANGROUP:32FE		       mov     bx, 128	       ; PBUFLEN
TRANGROUP:3301		       mov     si, offset EXECPATH
TRANGROUP:3304		       call    STRIP
TRANGROUP:3307		       jb      short path_failure_jmp
TRANGROUP:3309		       mov     dx, si
TRANGROUP:330B		       mov     ds:search_error,	offset baddrv_ptr
TRANGROUP:3311		       call    PSEARCH
TRANGROUP:3314		       or      ax, ax
TRANGROUP:3316		       jz      short path_noinit
TRANGROUP:3318		       mov     bp, ax
TRANGROUP:331A		       mov     di, offset EXECPATH
TRANGROUP:331D		       mov     si, ds:ARG_ARGV ; [ARG+ARGV_ELE.argpointer]
TRANGROUP:3321		       mov     cx, ds:ARGV0_ARGSTARTEL ; [ARG+ARGV_ELE.argstartel]
TRANGROUP:3325		       sub     cx, si
TRANGROUP:3327		       mov     ah, ':'
TRANGROUP:3329		       cmp     cx, 2
TRANGROUP:332C		       jb      short adddrive
TRANGROUP:332E		       cmp     [si+1], ah
TRANGROUP:3331		       jz      short movedrive
TRANGROUP:3333
TRANGROUP:3333 adddrive:			       ; ...
TRANGROUP:3333		       mov     al, ds:CURDRV
TRANGROUP:3336		       add     al, 'A'
TRANGROUP:3338		       stosw
TRANGROUP:3339		       jmp     short checkpath
TRANGROUP:333B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:333B
TRANGROUP:333B movedrive:			       ; ...
TRANGROUP:333B		       lodsw
TRANGROUP:333C		       stosw
TRANGROUP:333D		       sub     cx, 2
TRANGROUP:3340
TRANGROUP:3340 checkpath:			       ; ...
TRANGROUP:3340		       or      al, 20h
TRANGROUP:3342		       mov     dl, al
TRANGROUP:3344		       sub     dl, 60h	       ; 'a'-1
TRANGROUP:3347		       mov     al, ds:psep_char
TRANGROUP:334A		       stosb
TRANGROUP:334B		       cmp     cx, 1
TRANGROUP:334E		       jb      short addpath
TRANGROUP:3350		       lodsb
TRANGROUP:3351		       dec     cx
TRANGROUP:3352		       cmp     al, ds:psep_char
TRANGROUP:3356		       jz      short movepath
TRANGROUP:3358		       inc     cx
TRANGROUP:3359		       dec     si
TRANGROUP:335A
TRANGROUP:335A addpath:				       ; ...
TRANGROUP:335A		       push    si
TRANGROUP:335B		       mov     si, di
TRANGROUP:335D		       mov     ax, 4700h
TRANGROUP:3360		       int     21h	       ; DOS - 2+ - GET	CURRENT	DIRECTORY
TRANGROUP:3360					       ; DL = drive (0=default,	1=A, etc.)
TRANGROUP:3360					       ; DS:SI points to 64-byte buffer	area
TRANGROUP:3362		       mov     di, si
TRANGROUP:3364		       pop     si
TRANGROUP:3365		       mov     al, ds:psep_char
TRANGROUP:3368		       cmp     byte ptr	[di], 0
TRANGROUP:336B		       jz      short movepath
TRANGROUP:336D
TRANGROUP:336D scanend:				       ; ...
TRANGROUP:336D		       cmp     byte ptr	[di], 0
TRANGROUP:3370		       jz      short foundend
TRANGROUP:3372		       inc     di
TRANGROUP:3373		       jmp     short scanend
TRANGROUP:3375 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3375
TRANGROUP:3375 foundend:			       ; ...
TRANGROUP:3375		       stosb
TRANGROUP:3376
TRANGROUP:3376 movepath:			       ; ...
TRANGROUP:3376		       cmp     [si], al
TRANGROUP:3378		       jnz     short copypath
TRANGROUP:337A		       inc     si
TRANGROUP:337B		       dec     cx
TRANGROUP:337C
TRANGROUP:337C copypath:			       ; ...
TRANGROUP:337C		       jcxz    short _copydone
TRANGROUP:337E		       rep movsb
TRANGROUP:3380
TRANGROUP:3380 _copydone:			       ; ...
TRANGROUP:3380		       jmp     path_success
TRANGROUP:3383 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3383
TRANGROUP:3383 path_noinit:			       ; ...
TRANGROUP:3383		       test    ds:ARGV0_ARG_FLAGS, 4 ; [ARG+ARGV_ELE.argflags],path_sep
TRANGROUP:3388		       jnz     short path_failure
TRANGROUP:338A		       mov     bh, ';'
TRANGROUP:338C		       mov     dx, ds:ARGV0_ARGSTARTEL ; [ARG+ARGV_ELE.argstartel]
TRANGROUP:3390		       sub     dx, ds:ARG_ARGV ; [ARG+ARGV_ELE.argpointer]
TRANGROUP:3394		       add     dx, offset EXECPATH
TRANGROUP:3398
TRANGROUP:3398 path_loop:			       ; ...
TRANGROUP:3398		       call    path_crunch
TRANGROUP:339B		       mov     bp, ax
TRANGROUP:339D		       lahf
TRANGROUP:339E		       or      bp, bp
TRANGROUP:33A0		       jnz     short path_found
TRANGROUP:33A2		       sahf
TRANGROUP:33A3		       jnb     short path_loop
TRANGROUP:33A5
TRANGROUP:33A5 path_failure:			       ; ...
TRANGROUP:33A5		       xor     ax, ax
TRANGROUP:33A7		       jmp     path_exit
TRANGROUP:33AA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:33AA
TRANGROUP:33AA path_found:			       ; ...
TRANGROUP:33AA		       mov     di, offset EXECPATH
TRANGROUP:33AD		       mov     cx, ds:pathinfo+4
TRANGROUP:33B1		       mov     si, ds:pathinfo+2
TRANGROUP:33B5		       push    es
TRANGROUP:33B6		       push    ds:pathinfo     ; [pathinfo+0]
TRANGROUP:33BA		       pop     es
TRANGROUP:33BB		       cmp     byte ptr	es:[si+2], '.' ; 2Eh
TRANGROUP:33C0		       jnz     short path_cpy
TRANGROUP:33C2		       cmp     byte ptr	es:[si+1], ':' ; 3Ah
TRANGROUP:33C7		       jnz     short path_cpy
TRANGROUP:33C9		       push    cx
TRANGROUP:33CA		       mov     al, es:[si]
TRANGROUP:33CD		       mov     [di], al
TRANGROUP:33CF		       mov     al, es:[si+1]
TRANGROUP:33D3		       mov     [di+1], al
TRANGROUP:33D6		       mov     al, ds:psep_char
TRANGROUP:33D9		       mov     [di+2], al
TRANGROUP:33DC		       push    si
TRANGROUP:33DD		       mov     dl, es:[si]
TRANGROUP:33E0		       or      dl, 20h
TRANGROUP:33E3		       sub     dl, 60h	       ; 'a'-1
TRANGROUP:33E6		       mov     si, di
TRANGROUP:33E8		       add     si, 3
TRANGROUP:33EB		       mov     ax, 4700h
TRANGROUP:33EE		       int     21h	       ; DOS - 2+ - GET	CURRENT	DIRECTORY
TRANGROUP:33EE					       ; DL = drive (0=default,	1=A, etc.)
TRANGROUP:33EE					       ; DS:SI points to 64-byte buffer	area
TRANGROUP:33F0		       call    dstrlen
TRANGROUP:33F3		       add     si, cx
TRANGROUP:33F5		       dec     si
TRANGROUP:33F6		       mov     di, si
TRANGROUP:33F8		       pop     si
TRANGROUP:33F9		       add     si, 3
TRANGROUP:33FC		       pop     cx
TRANGROUP:33FD
TRANGROUP:33FD path_cpy:			       ; ...
TRANGROUP:33FD		       pop     es
TRANGROUP:33FE		       sub     cx, si
TRANGROUP:3400		       push    ds
TRANGROUP:3401		       push    ds:pathinfo     ; [pathinfo+0]
TRANGROUP:3405		       pop     ds
TRANGROUP:3406		       cld
TRANGROUP:3407
TRANGROUP:3407 kloop:				       ; ...
TRANGROUP:3407		       lodsb
TRANGROUP:3408		       stosb
TRANGROUP:3409		       call    testkanj
TRANGROUP:340C		       jz      short notkanj1
TRANGROUP:340E		       dec     cx
TRANGROUP:340F		       jcxz    short popdone
TRANGROUP:3411		       movsb
TRANGROUP:3412		       dec     cx
TRANGROUP:3413		       cmp     cx, 1
TRANGROUP:3416		       ja      short kloop
TRANGROUP:3418
TRANGROUP:3418 popdone:				       ; ...
TRANGROUP:3418		       pop     ds
TRANGROUP:3419		       mov     al, ds:psep_char
TRANGROUP:341C		       jmp     short path_store
TRANGROUP:341E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:341E
TRANGROUP:341E notkanj1:			       ; ...
TRANGROUP:341E		       loop    kloop
TRANGROUP:3420		       pop     ds
TRANGROUP:3421		       dec     di
TRANGROUP:3422		       mov     al, ds:psep_char
TRANGROUP:3425		       cmp     al, [di-1]
TRANGROUP:3428		       jz      short path_success
TRANGROUP:342A
TRANGROUP:342A path_store:			       ; ...
TRANGROUP:342A		       stosb
TRANGROUP:342B
TRANGROUP:342B path_success:			       ; ...
TRANGROUP:342B		       mov     si, offset search_best_buf
TRANGROUP:342E		       xor     cx, cx
TRANGROUP:3430
TRANGROUP:3430 path_succ_loop:			       ; ...
TRANGROUP:3430		       lodsb
TRANGROUP:3431		       stosb
TRANGROUP:3432		       or      al, al
TRANGROUP:3434		       jnz     short path_succ_loop
TRANGROUP:3436		       mov     ax, bp
TRANGROUP:3438
TRANGROUP:3438 path_exit:			       ; ...
TRANGROUP:3438		       popf
TRANGROUP:3439		       pop     bp
TRANGROUP:343A		       pop     di
TRANGROUP:343B		       pop     si
TRANGROUP:343C		       pop     dx
TRANGROUP:343D		       pop     cx
TRANGROUP:343E		       pop     bx
TRANGROUP:343F		       retn
TRANGROUP:343F path_search     endp
TRANGROUP:343F
TRANGROUP:3440
TRANGROUP:3440 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3440
TRANGROUP:3440
TRANGROUP:3440 STORE_PCHAR     proc near	       ; ...
TRANGROUP:3440		       push    ax
TRANGROUP:3441		       mov     al, 2Fh ; '/'
TRANGROUP:3443		       call    pathchrcmp
TRANGROUP:3446		       jz      short STORE_SLASH
TRANGROUP:3448		       mov     al, 5Ch ; '\'
TRANGROUP:344A		       mov     ds:psep_char, al
TRANGROUP:344D		       pop     ax
TRANGROUP:344E		       retn
TRANGROUP:344F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:344F
TRANGROUP:344F STORE_SLASH:			       ; ...
TRANGROUP:344F		       mov     ds:psep_char, al
TRANGROUP:3452		       pop     ax
TRANGROUP:3453		       retn
TRANGROUP:3453 STORE_PCHAR     endp
TRANGROUP:3453
TRANGROUP:3454
TRANGROUP:3454 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3454
TRANGROUP:3454
TRANGROUP:3454 path_crunch     proc near	       ; ...
TRANGROUP:3454		       push    bx
TRANGROUP:3455		       push    cx
TRANGROUP:3456		       push    dx
TRANGROUP:3457		       push    di
TRANGROUP:3458		       push    si
TRANGROUP:3459		       pushf
TRANGROUP:345A		       call    STORE_PCHAR
TRANGROUP:345D		       mov     di, offset TPBUF
TRANGROUP:3460		       mov     si, ds:pathinfo+4
TRANGROUP:3464		       mov     ds:pathinfo+2, si
TRANGROUP:3468		       push    ds
TRANGROUP:3469		       push    ds:pathinfo     ;  [pathinfo+0]
TRANGROUP:346D		       pop     ds
TRANGROUP:346E		       xor     cl, cl
TRANGROUP:3470
TRANGROUP:3470 path_cr_copy:			       ; ...
TRANGROUP:3470		       lodsb
TRANGROUP:3471		       or      al, al
TRANGROUP:3473		       jz      short path_seg
TRANGROUP:3475		       cmp     al, bh
TRANGROUP:3477		       jz      short path_seg
TRANGROUP:3479		       call    testkanj
TRANGROUP:347C		       jz      short _notkanj2
TRANGROUP:347E		       stosb
TRANGROUP:347F		       movsb
TRANGROUP:3480		       mov     cl, 1
TRANGROUP:3482		       jmp     short path_cr_copy
TRANGROUP:3484 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3484
TRANGROUP:3484 _notkanj2:			       ; ...
TRANGROUP:3484		       xor     cl, cl
TRANGROUP:3486		       stosb
TRANGROUP:3487		       jmp     short path_cr_copy
TRANGROUP:3489 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3489
TRANGROUP:3489 path_seg:			       ; ...
TRANGROUP:3489		       pop     ds
TRANGROUP:348A		       mov     ds:pathinfo+4, si
TRANGROUP:348E		       mov     bl, al
TRANGROUP:3490		       xor     ax, ax
TRANGROUP:3492		       cmp     di, offset TPBUF
TRANGROUP:3496		       jz      short path_cr_leave
TRANGROUP:3498
TRANGROUP:3498 path_cr_look:
TRANGROUP:3498		       mov     al, ds:psep_char
TRANGROUP:349B		       or      cl, cl
TRANGROUP:349D		       jnz     short path_cr_store
TRANGROUP:349F		       cmp     al, [di-1]
TRANGROUP:34A2		       jz      short path_cr_l1
TRANGROUP:34A4
TRANGROUP:34A4 path_cr_store:			       ; ...
TRANGROUP:34A4		       stosb
TRANGROUP:34A5
TRANGROUP:34A5 path_cr_l1:			       ; ...
TRANGROUP:34A5		       mov     si, dx
TRANGROUP:34A7
TRANGROUP:34A7 path_cr_l2:			       ; ...
TRANGROUP:34A7		       lodsb
TRANGROUP:34A8		       stosb
TRANGROUP:34A9		       or      al, al
TRANGROUP:34AB		       jnz     short path_cr_l2
TRANGROUP:34AD		       mov     dx, offset TPBUF
TRANGROUP:34B0		       mov     ds:search_error,	offset BADPMES_PTR
TRANGROUP:34B6		       call    PSEARCH
TRANGROUP:34B9
TRANGROUP:34B9 path_cr_leave:			       ; ...
TRANGROUP:34B9		       or      bl, bl
TRANGROUP:34BB		       jz      short path_cr_empty
TRANGROUP:34BD		       popf
TRANGROUP:34BE		       clc
TRANGROUP:34BF		       jmp     short path_cr_exit
TRANGROUP:34C1 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:34C1
TRANGROUP:34C1 path_cr_empty:			       ; ...
TRANGROUP:34C1		       popf
TRANGROUP:34C2		       stc
TRANGROUP:34C3
TRANGROUP:34C3 path_cr_exit:			       ; ...
TRANGROUP:34C3		       pop     si
TRANGROUP:34C4		       pop     di
TRANGROUP:34C5		       pop     dx
TRANGROUP:34C6		       pop     cx
TRANGROUP:34C7		       pop     bx
TRANGROUP:34C8		       retn
TRANGROUP:34C8 path_crunch     endp
TRANGROUP:34C8
TRANGROUP:34C9
TRANGROUP:34C9 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:34C9
TRANGROUP:34C9
TRANGROUP:34C9 PSEARCH	       proc near	       ; ...
TRANGROUP:34C9		       push    cx
TRANGROUP:34CA		       push    dx
TRANGROUP:34CB		       push    di
TRANGROUP:34CC		       push    si
TRANGROUP:34CD		       pushf
TRANGROUP:34CE		       push    dx
TRANGROUP:34CF		       mov     di, dx
TRANGROUP:34D1		       mov     si, offset search_curdir_buf
TRANGROUP:34D4		       xor     dx, dx
TRANGROUP:34D6		       cmp     byte ptr	[di+1],	3Ah ; ':'
TRANGROUP:34DA		       jnz     short SEARCH_DIR_CHECK
TRANGROUP:34DC		       mov     dl, [di]
TRANGROUP:34DE		       and     dl, 0DFh	       ; ~20h  ; uppercase
TRANGROUP:34E1		       sub     dl, 40h ; '@'   ; convert to drive number
TRANGROUP:34E4
TRANGROUP:34E4 SEARCH_DIR_CHECK:		       ; ...
TRANGROUP:34E4		       mov     ax, 4700h
TRANGROUP:34E7		       int     21h	       ; DOS - 2+ - GET	CURRENT	DIRECTORY
TRANGROUP:34E7					       ; DL = drive (0=default,	1=A, etc.)
TRANGROUP:34E7					       ; DS:SI points to 64-byte buffer	area
TRANGROUP:34E9		       pop     dx
TRANGROUP:34EA		       jb      short SEARCH_INVALID_DRIVE
TRANGROUP:34EC		       mov     cx, 13h	       ; search_attr
TRANGROUP:34EF		       mov     ax, 4E00h
TRANGROUP:34F2		       int     21h	       ; DOS - 2+ - FIND FIRST ASCIZ (FINDFIRST)
TRANGROUP:34F2					       ; CX = search attributes
TRANGROUP:34F2					       ; DS:DX -> ASCIZ	filespec
TRANGROUP:34F2					       ; (drive, path, and wildcards allowed)
TRANGROUP:34F4		       jb      short SEARCH_NO_FILE
TRANGROUP:34F6		       mov     ds:search_best, 0 ; SEARCH_FILE_NOT_FOUND ; 0
TRANGROUP:34FB		       mov     ds:search_best_buf, 0 ; ANULL ; 0
TRANGROUP:3500
TRANGROUP:3500 SEARCH_LOOP:			       ; ...
TRANGROUP:3500		       call    SEARCH_FTYPE
TRANGROUP:3503		       cmp     al, ds:search_best
TRANGROUP:3507		       jle     short SEARCH_NEXT
TRANGROUP:3509		       mov     ds:search_best, al
TRANGROUP:350C		       mov     si, (offset FBUF+1Eh) ; FBUF+FIND_BUF.PNAME
TRANGROUP:350F		       mov     di, offset search_best_buf
TRANGROUP:3512		       mov     cx, 13	       ; FNAME_MAX_LEN
TRANGROUP:3515		       cld
TRANGROUP:3516		       rep movsb
TRANGROUP:3518		       cmp     al, 8	       ; SEARCH_COM
TRANGROUP:351A		       jz      short SEARCH_DONE
TRANGROUP:351C
TRANGROUP:351C SEARCH_NEXT:			       ; ...
TRANGROUP:351C		       mov     cx, 13h	       ; SEARCH_ATTR
TRANGROUP:351F		       mov     ax, 4F00h
TRANGROUP:3522		       int     21h	       ; DOS - 2+ - FIND NEXT ASCIZ (FINDNEXT)
TRANGROUP:3522					       ; [DTA] = data block from
TRANGROUP:3522					       ; last AH = 4Eh/4Fh call
TRANGROUP:3524		       jnb     short SEARCH_LOOP
TRANGROUP:3526
TRANGROUP:3526 SEARCH_DONE:			       ; ...
TRANGROUP:3526		       mov     al, ds:search_best
TRANGROUP:3529		       cmp     ds:ext_entered, 1
TRANGROUP:352E		       jz      short SEARCH_EXIT
TRANGROUP:3530		       mov     al, ds:ext_entered
TRANGROUP:3533		       mov     ds:search_best, al
TRANGROUP:3536		       jmp     short SEARCH_EXIT
TRANGROUP:3538 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3538
TRANGROUP:3538 SEARCH_INVALID_DRIVE:		       ; ...
TRANGROUP:3538		       mov     dx, ds:search_error
TRANGROUP:353C		       call    std_printf
TRANGROUP:353F
TRANGROUP:353F SEARCH_NO_FILE:			       ; ...
TRANGROUP:353F		       mov     ax, 0	       ; SEARCH_FILE_NOT_FOUND
TRANGROUP:3542
TRANGROUP:3542 SEARCH_EXIT:			       ; ...
TRANGROUP:3542		       popf
TRANGROUP:3543		       pop     si
TRANGROUP:3544		       pop     di
TRANGROUP:3545		       pop     dx
TRANGROUP:3546		       pop     cx
TRANGROUP:3547		       retn
TRANGROUP:3547 PSEARCH	       endp
TRANGROUP:3547
TRANGROUP:3548
TRANGROUP:3548 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3548
TRANGROUP:3548
TRANGROUP:3548 SEARCH_FTYPE    proc near	       ; ...
TRANGROUP:3548		       push    di
TRANGROUP:3549		       push    si
TRANGROUP:354A		       mov     ax, 0
TRANGROUP:354D		       mov     di, (offset FBUF+1Eh) ; FBUF+FIND_BUF.PNAME
TRANGROUP:3550		       mov     cx, 13	       ; FNAME_MAX_LEN
TRANGROUP:3553		       cld
TRANGROUP:3554		       repne scasb
TRANGROUP:3556		       jnz     short FTYPE_EXIT
TRANGROUP:3558		       sub     di, 5
TRANGROUP:355B		       mov     si, offset comext ; ".COM"
TRANGROUP:355E		       mov     ax, di
TRANGROUP:3560		       cmpsw
TRANGROUP:3561		       jnz     short FTYPE_EXE
TRANGROUP:3563		       cmpsw
TRANGROUP:3564		       jnz     short FTYPE_EXE
TRANGROUP:3566		       mov     ax, 8	       ; SEARCH_COM
TRANGROUP:3569		       jmp     short FTYPE_EXIT
TRANGROUP:356B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:356B
TRANGROUP:356B FTYPE_EXE:			       ; ...
TRANGROUP:356B		       mov     di, ax
TRANGROUP:356D		       mov     si, offset exeext ; ".EXE"
TRANGROUP:3570		       cmpsw
TRANGROUP:3571		       jnz     short FTYPE_BAT
TRANGROUP:3573		       cmpsw
TRANGROUP:3574		       jnz     short FTYPE_BAT
TRANGROUP:3576		       mov     ax, 4	       ; SEARCH_EXE
TRANGROUP:3579		       jmp     short FTYPE_EXIT
TRANGROUP:357B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:357B
TRANGROUP:357B FTYPE_BAT:			       ; ...
TRANGROUP:357B		       mov     di, ax
TRANGROUP:357D		       mov     si, offset batext ; ".BAT"
TRANGROUP:3580		       cmpsw
TRANGROUP:3581		       jnz     short FTYPE_FAIL
TRANGROUP:3583		       cmpsw
TRANGROUP:3584		       jnz     short FTYPE_FAIL
TRANGROUP:3586		       mov     ax, 2	       ; SEARCH_BAT
TRANGROUP:3589		       jmp     short FTYPE_EXIT
TRANGROUP:358B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:358B
TRANGROUP:358B FTYPE_FAIL:			       ; ...
TRANGROUP:358B		       mov     ax, 0
TRANGROUP:358E
TRANGROUP:358E FTYPE_EXIT:			       ; ...
TRANGROUP:358E		       cmp     ds:ext_entered, 1
TRANGROUP:3593		       jz      short FTYPE_DONE
TRANGROUP:3595		       cmp     ax, 0	       ; ANULL
TRANGROUP:3598		       jz      short FTYPE_DONE
TRANGROUP:359A		       mov     ds:ext_entered, al
TRANGROUP:359D		       mov     ax, 8	       ; SEARCH_COM
TRANGROUP:35A0
TRANGROUP:35A0 FTYPE_DONE:			       ; ...
TRANGROUP:35A0		       pop     si
TRANGROUP:35A1		       pop     di
TRANGROUP:35A2		       retn
TRANGROUP:35A2 SEARCH_FTYPE    endp
TRANGROUP:35A2
TRANGROUP:35A3
TRANGROUP:35A3 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:35A3
TRANGROUP:35A3
TRANGROUP:35A3 STRIP	       proc near	       ; ...
TRANGROUP:35A3		       push    ax
TRANGROUP:35A4		       push    bx
TRANGROUP:35A5		       push    cx
TRANGROUP:35A6		       push    dx
TRANGROUP:35A7		       push    di
TRANGROUP:35A8		       push    si
TRANGROUP:35A9		       pushf
TRANGROUP:35AA		       mov     ds:ext_entered, 1
TRANGROUP:35AF		       mov     dx, ds:ARG_ARGV ; [ARG+ARGV_ELE.argpointer]
TRANGROUP:35B3		       mov     di, ds:ARGV0_ARGSTARTEL ; [ARG+ARGV_ELE.argstartel]
TRANGROUP:35B7		       cmp     byte ptr	[di], 0
TRANGROUP:35BA		       jz      short STRIP_ERROR
TRANGROUP:35BC		       mov     cx, dx
TRANGROUP:35BE		       add     cx, ds:ARGV0_ARGLEN ; [ARG+ARGV_ELE.arglen]
TRANGROUP:35C2		       sub     cx, di
TRANGROUP:35C4		       inc     cx
TRANGROUP:35C5		       mov     al, 2Eh ; '.'
TRANGROUP:35C7		       cld
TRANGROUP:35C8		       repne scasb
TRANGROUP:35CA		       jcxz    short PROCESS_EXT
TRANGROUP:35CC		       mov     ds:ext_entered, 0
TRANGROUP:35D1		       mov     al, 0
TRANGROUP:35D3		       repne scasb
TRANGROUP:35D5
TRANGROUP:35D5 PROCESS_EXT:			       ; ...
TRANGROUP:35D5		       mov     cx, di
TRANGROUP:35D7		       sub     cx, dx
TRANGROUP:35D9		       sub     bx, 4
TRANGROUP:35DC		       cmp     cx, bx
TRANGROUP:35DE		       jg      short STRIP_ERROR
TRANGROUP:35E0		       mov     di, si
TRANGROUP:35E2		       mov     si, dx
TRANGROUP:35E4		       cld
TRANGROUP:35E5		       rep movsb
TRANGROUP:35E7		       cmp     ds:ext_entered, 1
TRANGROUP:35EC		       jnz     short SKIP_WILDS
TRANGROUP:35EE		       dec     di
TRANGROUP:35EF		       stosb
TRANGROUP:35F0		       mov     al, 3Fh ; '?'
TRANGROUP:35F2		       stosb
TRANGROUP:35F3		       stosb
TRANGROUP:35F4		       stosb
TRANGROUP:35F5		       mov     al, 0
TRANGROUP:35F7		       stosb
TRANGROUP:35F8
TRANGROUP:35F8 SKIP_WILDS:			       ; ...
TRANGROUP:35F8		       popf
TRANGROUP:35F9		       clc
TRANGROUP:35FA		       jmp     short STRIP_EXIT
TRANGROUP:35FC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:35FC
TRANGROUP:35FC STRIP_ERROR:			       ; ...
TRANGROUP:35FC		       popf
TRANGROUP:35FD		       stc
TRANGROUP:35FE
TRANGROUP:35FE STRIP_EXIT:			       ; ...
TRANGROUP:35FE		       pop     si
TRANGROUP:35FF		       pop     di
TRANGROUP:3600		       pop     dx
TRANGROUP:3601		       pop     cx
TRANGROUP:3602		       pop     bx
TRANGROUP:3603		       pop     ax
TRANGROUP:3604		       retn
TRANGROUP:3604 STRIP	       endp
TRANGROUP:3604
TRANGROUP:3605
TRANGROUP:3605 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3605
TRANGROUP:3605
TRANGROUP:3605 SAVE_ARGS       proc near	       ; ...
TRANGROUP:3605		       push    bx
TRANGROUP:3606		       push    cx
TRANGROUP:3607		       push    dx
TRANGROUP:3608		       push    di
TRANGROUP:3609		       push    si
TRANGROUP:360A		       push    bp
TRANGROUP:360B		       pushf
TRANGROUP:360C		       add     bx, 1363	       ; ARG_UNIT.SIZE+15
TRANGROUP:3610		       mov     cl, 4
TRANGROUP:3612		       shr     bx, cl
TRANGROUP:3614		       mov     ax, 4800h
TRANGROUP:3617		       int     21h	       ; DOS - 2+ - ALLOCATE MEMORY
TRANGROUP:3617					       ; BX = number of	16-byte	paragraphs desired
TRANGROUP:3619		       jb      short SAVE_ERROR
TRANGROUP:361B		       mov     bp, ax
TRANGROUP:361D		       push    es
TRANGROUP:361E		       mov     es, ax
TRANGROUP:3620		       assume es:nothing
TRANGROUP:3620		       mov     cx, 1348	       ; ARG_UNIT.SIZE
TRANGROUP:3623		       xor     di, di
TRANGROUP:3625		       mov     si, offset ARG_ARGV ; offset ARG
TRANGROUP:3628		       rep movsb
TRANGROUP:362A		       mov     cx, ds:ARG_ARGVCNT ; [ARG+ARG_UNIT.argvcnt]
TRANGROUP:362E		       xor     ax, ax
TRANGROUP:3630		       mov     si, offset ARG_ARGV ; offset ARG
TRANGROUP:3633
TRANGROUP:3633 SAVE_PTR_LOOP:			       ; ...
TRANGROUP:3633		       dec     cx
TRANGROUP:3634		       jl      short SAVE_DONE
TRANGROUP:3636		       mov     bx, cx
TRANGROUP:3638		       call    argv_calc
TRANGROUP:363B		       mov     dx, ds:ARG_ARGV[bx] ; [ARG+ARGV_ELE.argpointer+bx]
TRANGROUP:363F		       sub     dx, si
TRANGROUP:3641		       mov     es:[bx],	dx
TRANGROUP:3644		       mov     dx, ds:ARGV0_ARGSTARTEL[bx] ; [ARG+ARGV_ELE.argstartel+bx]
TRANGROUP:3648		       sub     dx, si
TRANGROUP:364A		       mov     es:[bx+3], dx   ; [es:bx+ARGV_ELE.argstartel]
TRANGROUP:364E		       mov     dx, ds:ARGV0_OCOMPTR[bx]	; [ARG+ARGV_ELE.arg_ocomptr+bx]
TRANGROUP:3652		       sub     dx, si
TRANGROUP:3654		       mov     es:[bx+9], dx   ; [es:bx+ARGV_ELE.arg_ocomptr]
TRANGROUP:3658		       jmp     short SAVE_PTR_LOOP
TRANGROUP:365A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:365A
TRANGROUP:365A SAVE_DONE:			       ; ...
TRANGROUP:365A		       pop     es
TRANGROUP:365B		       assume es:nothing
TRANGROUP:365B		       mov     ax, bp
TRANGROUP:365D		       jmp     short SAVE_OK
TRANGROUP:365F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:365F
TRANGROUP:365F SAVE_ERROR:			       ; ...
TRANGROUP:365F		       popf
TRANGROUP:3660		       stc
TRANGROUP:3661		       jmp     short SAVE_EXIT
TRANGROUP:3663 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3663
TRANGROUP:3663 SAVE_OK:				       ; ...
TRANGROUP:3663		       popf
TRANGROUP:3664		       clc
TRANGROUP:3665
TRANGROUP:3665 SAVE_EXIT:			       ; ...
TRANGROUP:3665		       pop     bp
TRANGROUP:3666		       pop     si
TRANGROUP:3667		       pop     di
TRANGROUP:3668		       pop     dx
TRANGROUP:3669		       pop     cx
TRANGROUP:366A		       pop     bx
TRANGROUP:366B		       retn
TRANGROUP:366B SAVE_ARGS       endp
TRANGROUP:366B
TRANGROUP:366C
TRANGROUP:366C ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:366C
TRANGROUP:366C
TRANGROUP:366C notest2	       proc near	       ; ...
TRANGROUP:366C		       mov     cx, 11
TRANGROUP:366F		       mov     si, 5Dh	       ; FCB+1
TRANGROUP:3672
TRANGROUP:3672 ambspec:				       ; ...
TRANGROUP:3672		       lodsb
TRANGROUP:3673		       cmp     al, '?'
TRANGROUP:3675		       jnz     short allfil
TRANGROUP:3677		       loop    ambspec
TRANGROUP:3679
TRANGROUP:3679 allfil:				       ; ...
TRANGROUP:3679		       cmp     cx, 0
TRANGROUP:367C		       jnz     short noprmpt
TRANGROUP:367E
TRANGROUP:367E askagn:				       ; ...
TRANGROUP:367E		       mov     dx, offset SureMes_Ptr
TRANGROUP:3681		       call    std_printf
TRANGROUP:3684		       mov     si, 80h
TRANGROUP:3687		       mov     dx, si
TRANGROUP:3689		       mov     word ptr	[si], 120
TRANGROUP:368D		       mov     ax, 0C0Ah
TRANGROUP:3690		       int     21h	       ; DOS - CLEAR KEYBOARD BUFFER
TRANGROUP:3690					       ; AL must be 01h, 06h, 07h, 08h,	or 0Ah.
TRANGROUP:3692		       lodsw
TRANGROUP:3693		       or      ah, ah
TRANGROUP:3695		       jz      short askagn
TRANGROUP:3697		       call    scanoff
TRANGROUP:369A		       call    char_in_xlat
TRANGROUP:369D		       jnb     short check_yn
TRANGROUP:369F
TRANGROUP:369F answ_no:				       ; ...
TRANGROUP:369F		       retn
TRANGROUP:36A0 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:36A0
TRANGROUP:36A0 check_yn:			       ; ...
TRANGROUP:36A0		       cmp     al, 0	       ; NO character
TRANGROUP:36A2		       jz      short answ_no
TRANGROUP:36A4		       cmp     al, 1	       ; YES character
TRANGROUP:36A6		       pushf
TRANGROUP:36A7		       call    CRLF2
TRANGROUP:36AA		       popf
TRANGROUP:36AB		       jnz     short askagn
TRANGROUP:36AD
TRANGROUP:36AD noprmpt:				       ; ...
TRANGROUP:36AD		       mov     ah, 13h
TRANGROUP:36AF		       mov     dx, 5Ch	       ; FCB
TRANGROUP:36B2		       int     21h	       ; DOS - DELETE FILE via FCB
TRANGROUP:36B2					       ; DS:DX -> FCB with filename field filled with
TRANGROUP:36B2					       ; template for  deletion	('?' wildcard allowed, but not '*')
TRANGROUP:36B2					       ; Return: AL = 00h file found, FFh file not found
TRANGROUP:36B4		       inc     al
TRANGROUP:36B6		       jz      short eraerr
TRANGROUP:36B8		       call    RestUDir
TRANGROUP:36BB		       retn
TRANGROUP:36BC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:36BC
TRANGROUP:36BC eraerr:				       ; ...
TRANGROUP:36BC		       call    Set_Ext_Error_Msg
TRANGROUP:36BF		       push    dx
TRANGROUP:36C0		       call    RestUDir
TRANGROUP:36C3		       pop     dx
TRANGROUP:36C4		       cmp     ds:extend_buf_ptr, 18 ; ERROR_NO_MORE_FILES
TRANGROUP:36C9		       jnz     short cerrorj2
TRANGROUP:36CB		       mov     ds:extend_buf_ptr, 2 ; ERROR_FILE_NOT_FOUND
TRANGROUP:36D1
TRANGROUP:36D1 cerrorj2:			       ; ...
TRANGROUP:36D1		       jmp     cerror
TRANGROUP:36D1 notest2	       endp
TRANGROUP:36D1
TRANGROUP:36D4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:36D4
TRANGROUP:36D4 slashp_erase:			       ; ...
TRANGROUP:36D4		       call    build_dir_string
TRANGROUP:36D7		       mov     ah, 1Ah
TRANGROUP:36D9		       mov     dx, offset DESTDIR
TRANGROUP:36DC		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:36DC					       ; DS:DX -> disk transfer	buffer
TRANGROUP:36DE		       mov     ah, 11h
TRANGROUP:36E0		       mov     dx, 5Ch
TRANGROUP:36E3		       int     21h	       ; DOS - SEARCH FIRST USING FCB
TRANGROUP:36E3					       ; DS:DX -> FCB
TRANGROUP:36E5		       inc     al
TRANGROUP:36E7		       jz      short eraerr
TRANGROUP:36E9
TRANGROUP:36E9 delete_prompt_loop:		       ; ...
TRANGROUP:36E9		       mov     si, (offset DESTDIR+1)
TRANGROUP:36EC		       mov     di, offset DEST
TRANGROUP:36EF		       mov     al, ds:DIRCHAR
TRANGROUP:36F2		       stosb
TRANGROUP:36F3		       call    FCB_TO_ASCZ
TRANGROUP:36F6
TRANGROUP:36F6 slashp_askagn:			       ; ...
TRANGROUP:36F6		       call    CRLF2
TRANGROUP:36F9		       mov     dx, offset BWDBUF
TRANGROUP:36FC		       mov     bx, dx
TRANGROUP:36FE		       cmp     byte ptr	[bx+3],	0 ; END_OF_LINE_OUT
TRANGROUP:3702		       jnz     short not_del_root
TRANGROUP:3704		       mov     byte ptr	[bx+2],	0
TRANGROUP:3708
TRANGROUP:3708 not_del_root:			       ; ...
TRANGROUP:3708		       mov     ds:string_ptr_2,	dx
TRANGROUP:370C		       mov     dx, offset string_buf_ptr
TRANGROUP:370F		       call    std_printf
TRANGROUP:3712		       mov     dx, offset DEST
TRANGROUP:3715		       mov     ds:string_ptr_2,	dx
TRANGROUP:3719		       mov     dx, offset string_buf_ptr
TRANGROUP:371C		       call    std_printf
TRANGROUP:371F		       mov     dx, offset Del_Y_N_Ptr
TRANGROUP:3722		       call    std_printf
TRANGROUP:3725		       mov     ax, 0C01h
TRANGROUP:3728		       int     21h	       ; DOS - CLEAR KEYBOARD BUFFER
TRANGROUP:3728					       ; AL must be 01h, 06h, 07h, 08h,	or 0Ah.
TRANGROUP:372A		       call    char_in_xlat
TRANGROUP:372D		       jnb     short slashp_check_yn
TRANGROUP:372F		       retn
TRANGROUP:3730 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3730
TRANGROUP:3730 slashp_check_yn:			       ; ...
TRANGROUP:3730		       cmp     al, 0	       ; NO character
TRANGROUP:3732		       jz      short next_del_file
TRANGROUP:3734		       cmp     al, 1	       ; YES character
TRANGROUP:3736		       jz      short delete_this_file
TRANGROUP:3738		       jmp     short slashp_askagn
TRANGROUP:373A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:373A
TRANGROUP:373A delete_this_file:		       ; ...
TRANGROUP:373A		       mov     ah, 13h
TRANGROUP:373C		       mov     dx, offset DESTDIR
TRANGROUP:373F		       int     21h	       ; DOS - DELETE FILE via FCB
TRANGROUP:373F					       ; DS:DX -> FCB with filename field filled with
TRANGROUP:373F					       ; template for  deletion	('?' wildcard allowed, but not '*')
TRANGROUP:373F					       ; Return: AL = 00h file found, FFh file not found
TRANGROUP:3741		       inc     al
TRANGROUP:3743		       jnz     short next_del_file
TRANGROUP:3745		       call    get_ext_error_number
TRANGROUP:3748		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:374B		       jnz     short stop_del
TRANGROUP:374D		       call    CRLF2
TRANGROUP:3750		       call    Set_Ext_Error_Msg
TRANGROUP:3753		       call    std_eprintf
TRANGROUP:3756		       jmp     short next_del_file
TRANGROUP:3758 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3758
TRANGROUP:3758 stop_del:			       ; ...
TRANGROUP:3758		       jmp     eraerr
TRANGROUP:375B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:375B
TRANGROUP:375B next_del_file:			       ; ...
TRANGROUP:375B		       mov     ah, 1Ah
TRANGROUP:375D		       mov     dx, offset DESTDIR
TRANGROUP:3760		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:3760					       ; DS:DX -> disk transfer	buffer
TRANGROUP:3762		       mov     ah, 12h
TRANGROUP:3764		       mov     dx, 5Ch
TRANGROUP:3767		       int     21h	       ; DOS - SEARCH NEXT USING FCB
TRANGROUP:3767					       ; DS:DX -> FCB
TRANGROUP:3767					       ; Return: AL = status
TRANGROUP:3769		       inc     al
TRANGROUP:376B		       jz      short slash_p_exit
TRANGROUP:376D		       jmp     delete_prompt_loop
TRANGROUP:3770 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3770
TRANGROUP:3770 slash_p_exit:			       ; ...
TRANGROUP:3770		       call    get_ext_error_number
TRANGROUP:3773		       cmp     ax, 12h	       ; ERROR_NO_MORE_FILES
TRANGROUP:3776		       jz      short good_erase_exit
TRANGROUP:3778		       jmp     extend_setup
TRANGROUP:377B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:377B
TRANGROUP:377B good_erase_exit:			       ; ...
TRANGROUP:377B		       call    RestUDir
TRANGROUP:377E		       call    CRLF2
TRANGROUP:3781		       retn
TRANGROUP:3782 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3782
TRANGROUP:3782 ECHO:				       ; ...
TRANGROUP:3782		       call    ON_OFF
TRANGROUP:3785		       jb      short DOEMES
TRANGROUP:3787		       mov     ds, ds:RESSEG
TRANGROUP:378B		       jnz     short ECH_OFF
TRANGROUP:378D		       or      ds:EchoFlag, 1
TRANGROUP:3792		       retn
TRANGROUP:3793 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3793
TRANGROUP:3793 ECH_OFF:				       ; ...
TRANGROUP:3793		       and     ds:EchoFlag, 0FEh
TRANGROUP:3798		       retn
TRANGROUP:3799 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3799
TRANGROUP:3799 CERRORJ:				       ; ...
TRANGROUP:3799		       jmp     cerror
TRANGROUP:379C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:379C
TRANGROUP:379C DOEMES:				       ; ...
TRANGROUP:379C		       cmp     cl, 0
TRANGROUP:379F		       jz      short PECHO
TRANGROUP:37A1		       mov     dx, 82h
TRANGROUP:37A4		       call    CRPRINT
TRANGROUP:37A7		       jmp     CRLF2
TRANGROUP:37AA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:37AA
TRANGROUP:37AA PECHO:				       ; ...
TRANGROUP:37AA		       mov     ds, ds:RESSEG
TRANGROUP:37AE		       mov     bl, ds:EchoFlag
TRANGROUP:37B2		       push    cs
TRANGROUP:37B3		       pop     ds
TRANGROUP:37B4		       assume ds:TRANGROUP
TRANGROUP:37B4		       and     bl, 1
TRANGROUP:37B7		       mov     dx, offset EchoMes_Ptr
TRANGROUP:37BA		       jmp     short PYN
TRANGROUP:37BC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:37BC
TRANGROUP:37BC CNTRLC:				       ; ...
TRANGROUP:37BC		       call    ON_OFF
TRANGROUP:37BF		       mov     ax, 3301h       ; (SET_CTRL_C_TRAPPING<<8)|1
TRANGROUP:37C2		       jb      short PCNTRLC
TRANGROUP:37C4		       jnz     short CNTRLC_OFF
TRANGROUP:37C6		       mov     dl, 1
TRANGROUP:37C8		       int     21h	       ; DOS - EXTENDED	CONTROL-BREAK CHECKING
TRANGROUP:37C8					       ; AL = 00h get state / 01h set state / 02h set AND get
TRANGROUP:37C8					       ; DL = 00h for OFF or 01h for ON
TRANGROUP:37CA		       retn
TRANGROUP:37CB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:37CB
TRANGROUP:37CB CNTRLC_OFF:			       ; ...
TRANGROUP:37CB		       xor     dl, dl
TRANGROUP:37CD		       int     21h	       ; DOS -
TRANGROUP:37CF		       retn
TRANGROUP:37D0 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:37D0
TRANGROUP:37D0 PCNTRLC:				       ; ...
TRANGROUP:37D0		       cmp     cl, 0
TRANGROUP:37D3		       jnz     short CERRORJ
TRANGROUP:37D5		       xor     al, al
TRANGROUP:37D7		       int     21h	       ; DOS -
TRANGROUP:37D9		       mov     bl, dl
TRANGROUP:37DB		       mov     dx, offset CtrlcMes_Ptr
TRANGROUP:37DE
TRANGROUP:37DE PYN:				       ; ...
TRANGROUP:37DE		       mov     si, offset ONMES_PTR
TRANGROUP:37E1		       or      bl, bl
TRANGROUP:37E3		       jnz     short PRINTVAL
TRANGROUP:37E5		       mov     si, offset OFFMES_PTR
TRANGROUP:37E8
TRANGROUP:37E8 PRINTVAL:			       ; ...
TRANGROUP:37E8		       push    dx
TRANGROUP:37E9		       mov     bx, dx
TRANGROUP:37EB		       lodsw
TRANGROUP:37EC		       mov     dh, 0FFh	       ; util_msg_class	; -1
TRANGROUP:37EE		       call    TSYSGETMSG
TRANGROUP:37F1		       add     bx, 5	       ; Ptr_off_pos
TRANGROUP:37F4		       mov     [bx], si
TRANGROUP:37F6		       pop     dx
TRANGROUP:37F7		       call    std_printf
TRANGROUP:37FA		       mov     word ptr	[bx], 0
TRANGROUP:37FE		       retn
TRANGROUP:37FF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:37FF
TRANGROUP:37FF VERIFY:				       ; ...
TRANGROUP:37FF		       call    ON_OFF
TRANGROUP:3802		       mov     ax, 2E01h       ; (SET_VERIFY_ON_WRITE<<8)|1
TRANGROUP:3805		       jb      short PVERIFY
TRANGROUP:3807		       jnz     short VER_OFF
TRANGROUP:3809		       int     21h	       ; DOS -
TRANGROUP:380B		       retn
TRANGROUP:380C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:380C
TRANGROUP:380C VER_OFF:				       ; ...
TRANGROUP:380C		       dec     al
TRANGROUP:380E		       int     21h	       ; DOS -
TRANGROUP:3810		       retn
TRANGROUP:3811 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3811
TRANGROUP:3811 PVERIFY:				       ; ...
TRANGROUP:3811		       cmp     cl, 0
TRANGROUP:3814		       jnz     short CERRORJ
TRANGROUP:3816		       mov     ah, 54h
TRANGROUP:3818		       int     21h	       ; DOS - 2+ - GET	VERIFY FLAG
TRANGROUP:3818					       ; Return: AL = 00h if flag OFF
TRANGROUP:3818					       ; AL = 01h if flag ON
TRANGROUP:381A		       mov     bl, al
TRANGROUP:381C		       mov     dx, offset VeriMes_Ptr
TRANGROUP:381F		       jmp     short PYN
TRANGROUP:3821
TRANGROUP:3821 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3821
TRANGROUP:3821
TRANGROUP:3821 ON_OFF	       proc near	       ; ...
TRANGROUP:3821		       mov     si, 81h
TRANGROUP:3824
TRANGROUP:3824 scan_on_off:			       ; ...
TRANGROUP:3824		       lodsb
TRANGROUP:3825		       cmp     al, 20h ; ' '   ; blank
TRANGROUP:3827		       jz      short scan_on_off
TRANGROUP:3829		       cmp     al, 9	       ; tab_chr
TRANGROUP:382B		       jz      short scan_on_off
TRANGROUP:382D		       cmp     al, 3Dh ; '='   ; equal_chr
TRANGROUP:382F		       jz      short parse_on_off
TRANGROUP:3831		       dec     si
TRANGROUP:3832
TRANGROUP:3832 parse_on_off:			       ; ...
TRANGROUP:3832		       mov     di, offset PARSE_BREAK
TRANGROUP:3835		       xor     cx, cx
TRANGROUP:3837		       xor     dx, dx
TRANGROUP:3839		       call    cmd_parse
TRANGROUP:383C		       cmp     ax, 0FFFFh      ; END_OF_LINE ; -1
TRANGROUP:383F		       jz      short BADONF
TRANGROUP:3841		       cmp     ax, 0
TRANGROUP:3844		       jz      short on_off_there
TRANGROUP:3846		       mov     cx, ax
TRANGROUP:3848		       jmp     short BADONF
TRANGROUP:384A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:384A
TRANGROUP:384A on_off_there:			       ; ...
TRANGROUP:384A		       cmp     PARSE1_CODE, 0FFh ; -1
TRANGROUP:384F		       jnz     short good_on_off
TRANGROUP:3851		       mov     cx, 0Ah	       ; BadParm_Ptr
TRANGROUP:3854		       jmp     short BADONF
TRANGROUP:3856 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3856
TRANGROUP:3856 good_on_off:			       ; ...
TRANGROUP:3856		       xor     ax, ax
TRANGROUP:3858		       or      al, PARSE1_CODE
TRANGROUP:385C		       pushf
TRANGROUP:385D		       mov     di, offset PARSE_BREAK
TRANGROUP:3860		       xor     dx, dx
TRANGROUP:3862		       call    cmd_parse
TRANGROUP:3865		       cmp     ax, 0FFFFh      ; END_OF_LINE
TRANGROUP:3868		       jnz     short BADONF_flag
TRANGROUP:386A		       popf
TRANGROUP:386B		       clc
TRANGROUP:386C		       jmp     short on_off_end
TRANGROUP:386E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:386E
TRANGROUP:386E BADONF_flag:			       ; ...
TRANGROUP:386E		       mov     cx, ax
TRANGROUP:3870		       popf
TRANGROUP:3871
TRANGROUP:3871 BADONF:				       ; ...
TRANGROUP:3871		       mov     dx, offset bad_on_off_ptr
TRANGROUP:3874		       stc
TRANGROUP:3875
TRANGROUP:3875 on_off_end:			       ; ...
TRANGROUP:3875		       retn
TRANGROUP:3875 ON_OFF	       endp
TRANGROUP:3875
TRANGROUP:3876 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3876
TRANGROUP:3876 PRINT_DATE:			       ; ...
TRANGROUP:3876		       push    es
TRANGROUP:3877		       push    di
TRANGROUP:3878		       push    cs
TRANGROUP:3879		       pop     es
TRANGROUP:387A		       assume es:TRANGROUP
TRANGROUP:387A		       call    GetDate
TRANGROUP:387D		       xchg    dh, dl
TRANGROUP:387F		       mov     promptDat_yr, cx
TRANGROUP:3883		       mov     promptDat_moday,	dx
TRANGROUP:3887		       mov     dx, offset promptdat_ptr
TRANGROUP:388A		       call    std_printf
TRANGROUP:388D		       pop     di
TRANGROUP:388E		       pop     es
TRANGROUP:388F		       assume es:nothing
TRANGROUP:388F		       retn
TRANGROUP:3890
TRANGROUP:3890 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3890
TRANGROUP:3890
TRANGROUP:3890 GetDate	       proc near	       ; ...
TRANGROUP:3890		       mov     di, offset Arg_Buf
TRANGROUP:3893		       mov     ah, 2Ah
TRANGROUP:3895		       int     21h	       ; DOS - GET CURRENT DATE
TRANGROUP:3895					       ; Return: DL = day, DH =	month, CX = year
TRANGROUP:3895					       ; AL = day of the week (0=Sunday, 1=Monday, etc.)
TRANGROUP:3897		       cbw
TRANGROUP:3898		       push    cx
TRANGROUP:3899		       push    dx
TRANGROUP:389A		       mov     si, ax
TRANGROUP:389C		       shl     si, 1
TRANGROUP:389E		       add     si, ax
TRANGROUP:38A0		       mov     cx, si
TRANGROUP:38A2		       mov     ax, WeekTab
TRANGROUP:38A5		       mov     dh, 0FFh
TRANGROUP:38A7		       push    di
TRANGROUP:38A8		       call    TSYSGETMSG
TRANGROUP:38AB		       pop     di
TRANGROUP:38AC		       add     si, cx
TRANGROUP:38AE		       mov     cx, 3
TRANGROUP:38B1		       rep movsb
TRANGROUP:38B3		       mov     al, 0
TRANGROUP:38B5		       stosb
TRANGROUP:38B6		       pop     dx
TRANGROUP:38B7		       pop     cx
TRANGROUP:38B8		       retn
TRANGROUP:38B8 GetDate	       endp
TRANGROUP:38B8
TRANGROUP:38B9
TRANGROUP:38B9 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:38B9
TRANGROUP:38B9
TRANGROUP:38B9 char_in_xlat    proc near	       ; ...
TRANGROUP:38B9		       mov     dl, al
TRANGROUP:38BB		       xor     dh, dh
TRANGROUP:38BD		       mov     ax, 6523h       ; (GetExtCntry<<8)+35
TRANGROUP:38C0		       int     21h	       ; DOS - 4.x internal - COUNTRY-DEPENDENT	FILENAME CAPITALIZATION
TRANGROUP:38C0					       ; AL = function -
TRANGROUP:38C2		       retn
TRANGROUP:38C2 char_in_xlat    endp
TRANGROUP:38C2
TRANGROUP:38C3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:38C3
TRANGROUP:38C3 COPY:				       ; ...
TRANGROUP:38C3		       xor     ax, ax
TRANGROUP:38C5		       mov     Copy_num, ax
TRANGROUP:38C8		       mov     SRCPT, ax
TRANGROUP:38CB		       mov     SrcTail,	ax
TRANGROUP:38CE		       mov     CFLAG, al
TRANGROUP:38D1		       mov     NXTADD, ax
TRANGROUP:38D4		       mov     ARG2S, ax       ; [DestSwitch]
TRANGROUP:38D7		       mov     STARTEL,	ax
TRANGROUP:38DA		       mov     DestTail, ax
TRANGROUP:38DD		       mov     SPECDRV,	al     ; [DestClosed]
TRANGROUP:38E0		       mov     DestSiz,	al
TRANGROUP:38E3		       mov     SrcSiz, al
TRANGROUP:38E6		       mov     DestInfo, al
TRANGROUP:38E9		       mov     SrcInfo,	al
TRANGROUP:38EC		       mov     INEXACT,	al
TRANGROUP:38EF		       mov     DestIsDir, al   ; [DestVars]
TRANGROUP:38F2		       mov     SrcIsDir, al    ; [SrcVars]
TRANGROUP:38F5		       mov     USERDIR1, al
TRANGROUP:38F8		       mov     NOWRITE,	al
TRANGROUP:38FB		       mov     IFNOTFLAG, al   ; [RDEOF]
TRANGROUP:38FE		       mov     SRCHAND,	ax
TRANGROUP:3901		       mov     CPDATE, ax
TRANGROUP:3904		       mov     CPTIME, ax
TRANGROUP:3907		       mov     SRCISDEV, al
TRANGROUP:390A		       mov     OCtrlZ, al
TRANGROUP:390D		       mov     OFilePtr_Lo, ax
TRANGROUP:3910		       mov     OFilePtr_Hi, ax
TRANGROUP:3913		       mov     TERMREAD, al
TRANGROUP:3916		       mov     comma, al
TRANGROUP:3919		       mov     plus_comma, al
TRANGROUP:391C		       mov     msg_flag, al
TRANGROUP:391F		       mov     ARGTS, ax       ; [AllSwitch]
TRANGROUP:3922		       mov     PARM2, al       ; [ArgC]
TRANGROUP:3925		       mov     PLUS, al
TRANGROUP:3928		       mov     BINARY, al
TRANGROUP:392B		       mov     ASCII, al
TRANGROUP:392E		       mov     FileCnt,	ax
TRANGROUP:3931		       mov     WRITTEN,	ax
TRANGROUP:3934		       mov     PARM1, al       ; [Concat]
TRANGROUP:3937		       mov     MELCOPY,	al
TRANGROUP:393A		       mov     MELSTART, ax
TRANGROUP:393D		       mov     word ptr	ScanBuf, ax
TRANGROUP:3940		       mov     word ptr	DestBuf, ax
TRANGROUP:3943		       mov     word ptr	SrcBuf,	ax
TRANGROUP:3946		       mov     word ptr	SDIRBUF, ax
TRANGROUP:3949		       mov     BWDBUF, ax      ; [DIRBUF]
TRANGROUP:394C		       mov     word ptr	DESTDIR, ax ; [DestFcb]
TRANGROUP:394F		       mov     objcnt, al
TRANGROUP:3952		       dec     ax
TRANGROUP:3953		       mov     EndDestBuf, ax  ; [DESTHAND]
TRANGROUP:3956		       mov     FRSTSRCH, al
TRANGROUP:3959		       mov     FIRSTDEST, al
TRANGROUP:395C		       mov     DestIsDir, al
TRANGROUP:395F		       mov     si, 81h
TRANGROUP:3962		       mov     bl, '+'
TRANGROUP:3964		       inc     expand_star
TRANGROUP:3968		       mov     cpyflag,	1
TRANGROUP:396D
TRANGROUP:396D DESTSCAN:			       ; ...
TRANGROUP:396D		       xor     bp, bp
TRANGROUP:396F		       mov     di, offset ScanBuf
TRANGROUP:3972		       mov     parse_last, si
TRANGROUP:3976		       call    cparse
TRANGROUP:3979		       pushf
TRANGROUP:397A		       inc     objcnt
TRANGROUP:397E		       test    bh, 80h
TRANGROUP:3981		       jz      short NOCOPY
TRANGROUP:3983		       mov     PLUS, 1
TRANGROUP:3988
TRANGROUP:3988 NOCOPY:				       ; ...
TRANGROUP:3988		       test    bh, 1
TRANGROUP:398B		       jz      short TESTP2
TRANGROUP:398D		       test    bp, 10h	       ; SwitchV
TRANGROUP:3991		       jz      short NOT_SLASHV
TRANGROUP:3993		       test    ARGTS, 10h      ; test word [AllSwitch],SwitchV
TRANGROUP:3999		       jz      short NOT_SLASHV
TRANGROUP:399B		       or      bp, 4000h       ; FBadSwitch
TRANGROUP:399F
TRANGROUP:399F NOT_SLASHV:			       ; ...
TRANGROUP:399F		       or      ARG2S, bp       ; [DestSwitch]
TRANGROUP:39A3		       or      ARGTS, bp       ; [AllSwitch]
TRANGROUP:39A7		       test    bp, 7FE3h       ; ~SwitchCopy ; not SwitchCopy
TRANGROUP:39AB		       jz      short NOT_BAD_SWITCH
TRANGROUP:39AD		       popf
TRANGROUP:39AE		       mov     ax, 3	       ; BadSwt_Ptr
TRANGROUP:39B1		       call    setup_parse_error_msg
TRANGROUP:39B4		       jmp     cerror
TRANGROUP:39B7 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:39B7
TRANGROUP:39B7 NOT_BAD_SWITCH:			       ; ...
TRANGROUP:39B7		       popf
TRANGROUP:39B8		       jb      short CHECKDONE
TRANGROUP:39BA		       jmp     short DESTSCAN
TRANGROUP:39BC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:39BC
TRANGROUP:39BC TESTP2:				       ; ...
TRANGROUP:39BC		       popf
TRANGROUP:39BD		       jb      short CHECKDONE
TRANGROUP:39BF		       test    bh, 80h
TRANGROUP:39C2		       jnz     short GOTPLUS
TRANGROUP:39C4		       inc     PARM2	       ; inc byte [ArgC]
TRANGROUP:39C8
TRANGROUP:39C8 GOTPLUS:				       ; ...
TRANGROUP:39C8		       push    si
TRANGROUP:39C9		       mov     ax, STARTEL
TRANGROUP:39CC		       mov     si, offset ScanBuf
TRANGROUP:39CF		       sub     ax, si
TRANGROUP:39D1		       mov     di, offset DestBuf
TRANGROUP:39D4		       add     ax, di
TRANGROUP:39D6		       mov     DestTail, ax
TRANGROUP:39D9		       mov     DestSiz,	cl
TRANGROUP:39DD		       inc     cx
TRANGROUP:39DE		       rep movsb
TRANGROUP:39E0		       mov     DestInfo, bh
TRANGROUP:39E4		       mov     ARG2S, 0	       ; [DestSwitch]
TRANGROUP:39EA		       pop     si
TRANGROUP:39EB		       jmp     short DESTSCAN
TRANGROUP:39ED ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:39ED
TRANGROUP:39ED CHECKDONE:			       ; ...
TRANGROUP:39ED		       cmp     PLUS, 1
TRANGROUP:39F2		       jnz     short CDCONT
TRANGROUP:39F4		       cmp     PARM2, 1	       ; [ArgC]
TRANGROUP:39F9		       jnz     short CDCONT
TRANGROUP:39FB		       cmp     objcnt, 2
TRANGROUP:3A00		       jnz     short CDCONT
TRANGROUP:3A02		       mov     dx, offset OVERWR_PTR
TRANGROUP:3A05		       jmp     COPYERR
TRANGROUP:3A08 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3A08
TRANGROUP:3A08 CDCONT:				       ; ...
TRANGROUP:3A08		       mov     al, PLUS
TRANGROUP:3A0B		       mov     PARM1, al       ; [Concat]
TRANGROUP:3A0E		       shl     al, 1
TRANGROUP:3A10		       shl     al, 1
TRANGROUP:3A12		       mov     INEXACT,	al
TRANGROUP:3A15		       mov     al, PARM2       ; [ArgC]
TRANGROUP:3A18		       or      al, al
TRANGROUP:3A1A		       jnz     short TRY_TOO_MANY
TRANGROUP:3A1C		       mov     dx, offset extend_buf_ptr
TRANGROUP:3A1F		       mov     extend_buf_ptr, 2 ; LessArgs_Ptr
TRANGROUP:3A25		       jmp     short CERROR_PARSEJ
TRANGROUP:3A27 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3A27
TRANGROUP:3A27 TRY_TOO_MANY:			       ; ...
TRANGROUP:3A27		       cmp     al, 2
TRANGROUP:3A29		       jbe     short ACOUNTOK
TRANGROUP:3A2B		       mov     dx, offset extend_buf_ptr
TRANGROUP:3A2E		       mov     extend_buf_ptr, 1 ; MoreArgs_Ptr
TRANGROUP:3A34
TRANGROUP:3A34 CERROR_PARSEJ:			       ; ...
TRANGROUP:3A34		       mov     msg_disp_class, 2 ; parse_msg_class
TRANGROUP:3A39
TRANGROUP:3A39 CERROR4J:			       ; ...
TRANGROUP:3A39		       jmp     cerror
TRANGROUP:3A3C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3A3C
TRANGROUP:3A3C ACOUNTOK:			       ; ...
TRANGROUP:3A3C		       mov     bp, offset DestIsDir ; offset DestVars
TRANGROUP:3A3F		       cmp     al, 1
TRANGROUP:3A41		       jnz     short GOT2ARGS
TRANGROUP:3A43		       mov     al, CURDRV
TRANGROUP:3A46		       add     al, 'A'
TRANGROUP:3A48		       mov     ah, ':'
TRANGROUP:3A4A		       mov     byte ptr	[bp+1],	2 ; [bp+VARSTRUC.SIZ]
TRANGROUP:3A4E		       mov     di, offset DestBuf
TRANGROUP:3A51		       stosw
TRANGROUP:3A52		       mov     ARG2S, 0	       ; [DestSwitch]
TRANGROUP:3A58		       mov     byte ptr	[bp+4],	2 ; [bp+VARSTRUC.INFO]
TRANGROUP:3A5C		       mov     byte ptr	[bp+0],	0 ; [bp+VARSTRUC.ISDIR]
TRANGROUP:3A60		       call    SETSTARS
TRANGROUP:3A63
TRANGROUP:3A63 GOT2ARGS:			       ; ...
TRANGROUP:3A63		       cmp     byte ptr	[bp+1],	2
TRANGROUP:3A67		       jnz     short NOTSHORTDEST
TRANGROUP:3A69		       mov     al, ':'         ; 3Ah
TRANGROUP:3A6B		       cmp     DestBuf+1, al
TRANGROUP:3A6F		       jnz     short NOTSHORTDEST
TRANGROUP:3A71		       or      byte ptr	[bp+4],	2
TRANGROUP:3A75		       mov     di, (offset DestBuf+2)
TRANGROUP:3A78		       mov     byte ptr	[bp+0],	0
TRANGROUP:3A7C		       call    SETSTARS
TRANGROUP:3A7F
TRANGROUP:3A7F NOTSHORTDEST:			       ; ...
TRANGROUP:3A7F		       mov     di, [bp+2]      ; [bp+VARSTRUC.TTAIL]
TRANGROUP:3A82		       cmp     byte ptr	[di], 0
TRANGROUP:3A85		       jnz     short CHKSWTCHES
TRANGROUP:3A87		       mov     dx, offset badcd_ptr
TRANGROUP:3A8A		       mov     al, ':'
TRANGROUP:3A8C		       cmp     [di-2], al
TRANGROUP:3A8F		       jnz     short CERROR4J
TRANGROUP:3A91		       mov     byte ptr	[bp+0],	2
TRANGROUP:3A95		       or      byte ptr	[bp+4],	6
TRANGROUP:3A99		       call    SETSTARS
TRANGROUP:3A9C
TRANGROUP:3A9C CHKSWTCHES:			       ; ...
TRANGROUP:3A9C		       mov     ax, ARGTS
TRANGROUP:3A9F		       test    ax, 10h	       ; SwitchV
TRANGROUP:3AA2		       jz      short NOVERIF
TRANGROUP:3AA4		       mov     ah, 54h
TRANGROUP:3AA6		       int     21h	       ; DOS - 2+ - GET	VERIFY FLAG
TRANGROUP:3AA6					       ; Return: AL = 00h if flag OFF
TRANGROUP:3AA6					       ; AL = 01h if flag ON
TRANGROUP:3AA8		       push    ds
TRANGROUP:3AA9		       mov     ds, RESSEG
TRANGROUP:3AAD		       assume ds:nothing
TRANGROUP:3AAD		       xor     ah, ah
TRANGROUP:3AAF		       mov     ds:VerVal, ax
TRANGROUP:3AB2		       pop     ds
TRANGROUP:3AB3		       mov     ax, 2E01h
TRANGROUP:3AB6		       int     21h	       ; DOS - SET VERIFY FLAG
TRANGROUP:3AB6					       ; DL = 00h, AL =	01h VERIFY on /	00h VERIFY off
TRANGROUP:3AB8
TRANGROUP:3AB8 NOVERIF:				       ; ...
TRANGROUP:3AB8		       xor     bp, bp
TRANGROUP:3ABA		       mov     si, 81h
TRANGROUP:3ABD		       mov     bl, '+'         ; plus_chr ; 2Bh
TRANGROUP:3ABF
TRANGROUP:3ABF SCANFSRC:			       ; ...
TRANGROUP:3ABF		       mov     di, offset ScanBuf
TRANGROUP:3AC2		       call    cparse
TRANGROUP:3AC5		       test    bh, 1
TRANGROUP:3AC8		       jnz     short SCANFSRC
TRANGROUP:3ACA		       or      ds:ARG2S, bp    ; [DestSwitch]
TRANGROUP:3ACE		       test    bp, 8
TRANGROUP:3AD2		       jnz     short NOSETCASC
TRANGROUP:3AD4		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:3AD9		       jz      short NOSETCASC
TRANGROUP:3ADB		       mov     ds:ASCII, 4
TRANGROUP:3AE0
TRANGROUP:3AE0 NOSETCASC:			       ; ...
TRANGROUP:3AE0		       call    SOURCE_SET
TRANGROUP:3AE3		       call    FRSTSRC
TRANGROUP:3AE6		       jmp     FIRSTENT
TRANGROUP:3AE9 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3AE9 ; START OF FUNCTION CHUNK FOR FlshFil
TRANGROUP:3AE9
TRANGROUP:3AE9 ENDCOPY:				       ; ...
TRANGROUP:3AE9		       call    CLOSEDEST
TRANGROUP:3AEC
TRANGROUP:3AEC ENDCOPY2:			       ; ...
TRANGROUP:3AEC		       mov     dx, offset copied_ptr
TRANGROUP:3AEF		       mov     si, ds:FileCnt
TRANGROUP:3AF3		       mov     ds:Copy_num, si
TRANGROUP:3AF7		       call    std_printf
TRANGROUP:3AFA		       jmp     TCOMMAND
TRANGROUP:3AFA ; END OF	FUNCTION CHUNK FOR FlshFil
TRANGROUP:3AFD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3AFD
TRANGROUP:3AFD SRCNONEXIST:			       ; ...
TRANGROUP:3AFD		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:3B02		       jnz     short NEXTSRC
TRANGROUP:3B04		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:3B09		       mov     dx, offset extend_buf_ptr
TRANGROUP:3B0C		       mov     ds:extend_buf_ptr, 2 ; ERROR_FILE_NOT_FOUND
TRANGROUP:3B12		       mov     ds:string_ptr_2,	offset SrcBuf
TRANGROUP:3B18		       mov     ds:extend_buf_sub, 1 ; one_subst
TRANGROUP:3B1D		       jmp     COPYERR
TRANGROUP:3B20 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3B20
TRANGROUP:3B20 SOURCEPROC:			       ; ...
TRANGROUP:3B20		       call    SOURCE_SET
TRANGROUP:3B23		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:3B28		       jnz     short LEAVECFLAG
TRANGROUP:3B2A
TRANGROUP:3B2A ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3B2A
TRANGROUP:3B2A
TRANGROUP:3B2A FRSTSRC	       proc near	       ; ...
TRANGROUP:3B2A		       xor     ax, ax
TRANGROUP:3B2C		       mov     ds:CFLAG, al
TRANGROUP:3B2F		       mov     ds:NXTADD, ax
TRANGROUP:3B32		       mov     ds:SPECDRV, al  ; [DestClosed]
TRANGROUP:3B35
TRANGROUP:3B35 LEAVECFLAG:			       ; ...
TRANGROUP:3B35		       mov     ds:SRCPT, si
TRANGROUP:3B39		       mov     di, offset USERDIR1
TRANGROUP:3B3C		       mov     bp, offset SrcIsDir ; offset SrcVars
TRANGROUP:3B3F		       call    BUILDPATH
TRANGROUP:3B42		       mov     si, ds:SrcTail
TRANGROUP:3B46		       retn
TRANGROUP:3B46 FRSTSRC	       endp
TRANGROUP:3B46
TRANGROUP:3B47 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3B47
TRANGROUP:3B47 NEXTSRC:				       ; ...
TRANGROUP:3B47		       cmp     ds:PLUS,	0
TRANGROUP:3B4C		       jnz     short MORECP
TRANGROUP:3B4E
TRANGROUP:3B4E ENDCOPYJ2:			       ; ...
TRANGROUP:3B4E		       jmp     short ENDCOPY
TRANGROUP:3B50 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3B50
TRANGROUP:3B50 MORECP:				       ; ...
TRANGROUP:3B50		       xor     bp, bp
TRANGROUP:3B52		       mov     si, ds:SRCPT
TRANGROUP:3B56		       mov     bl, '+'
TRANGROUP:3B58
TRANGROUP:3B58 SCANSRC:				       ; ...
TRANGROUP:3B58		       mov     di, offset ScanBuf
TRANGROUP:3B5B		       call    cparse
TRANGROUP:3B5E		       jb      short ENDCOPYJ2
TRANGROUP:3B60		       test    bh, 80h
TRANGROUP:3B63		       jz      short ENDCOPYJ2
TRANGROUP:3B65		       test    bh, 1
TRANGROUP:3B68		       jnz     short SCANSRC
TRANGROUP:3B6A		       call    SOURCEPROC
TRANGROUP:3B6D		       cmp     ds:comma, 1
TRANGROUP:3B72		       jnz     short NOSTAMP
TRANGROUP:3B74		       mov     ds:plus_comma, 1
TRANGROUP:3B79		       jmp     short SRCNONEXIST
TRANGROUP:3B7B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3B7B
TRANGROUP:3B7B NOSTAMP:				       ; ...
TRANGROUP:3B7B		       mov     ds:plus_comma, 0
TRANGROUP:3B80
TRANGROUP:3B80 FIRSTENT:			       ; ...
TRANGROUP:3B80		       mov     di, 5Ch	       ; FCB
TRANGROUP:3B83		       mov     ax, 2900h
TRANGROUP:3B86		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:3B86					       ; DS:SI -> string to parse
TRANGROUP:3B86					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:3B86					       ; AL = bit mask to control parsing
TRANGROUP:3B88		       cmp     byte ptr	[si], 0
TRANGROUP:3B8B		       jnz     short SRCHDONE
TRANGROUP:3B8D		       mov     ax, word	ptr ds:SrcBuf
TRANGROUP:3B90		       cmp     ah, ':'
TRANGROUP:3B93		       jz      short DRVSPEC1
TRANGROUP:3B95		       mov     al, 40h	       ; @
TRANGROUP:3B97
TRANGROUP:3B97 DRVSPEC1:			       ; ...
TRANGROUP:3B97		       or      al, 20h
TRANGROUP:3B99		       sub     al, 60h
TRANGROUP:3B9B		       mov     ds:5Ch, al
TRANGROUP:3B9E		       mov     ah, 11h	       ; DIR_SEARCH_FIRST
TRANGROUP:3BA0		       call    SEARCH
TRANGROUP:3BA3
TRANGROUP:3BA3 SRCHDONE:			       ; ...
TRANGROUP:3BA3		       pushf
TRANGROUP:3BA4		       call    RestUDir1
TRANGROUP:3BA7		       popf
TRANGROUP:3BA8		       jz      short NEXTAMBIG0
TRANGROUP:3BAA		       jmp     SRCNONEXIST
TRANGROUP:3BAD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3BAD
TRANGROUP:3BAD NEXTAMBIG0:			       ; ...
TRANGROUP:3BAD		       xor     al, al
TRANGROUP:3BAF		       xchg    al, ds:FRSTSRCH
TRANGROUP:3BB3		       or      al, al
TRANGROUP:3BB5		       jz      short NEXTAMBIG
TRANGROUP:3BB7
TRANGROUP:3BB7 SETNMEL:				       ; ...
TRANGROUP:3BB7		       mov     cx, 12
TRANGROUP:3BBA		       mov     di, offset SDIRBUF
TRANGROUP:3BBD		       mov     si, offset BWDBUF ; offset DIRBUF
TRANGROUP:3BC0		       rep movsb
TRANGROUP:3BC2
TRANGROUP:3BC2 NEXTAMBIG:			       ; ...
TRANGROUP:3BC2		       xor     al, al
TRANGROUP:3BC4		       mov     ds:NOWRITE, al
TRANGROUP:3BC7		       mov     di, ds:SrcTail
TRANGROUP:3BCB		       mov     si, (offset BWDBUF+1) ; offset DIRBUF+1
TRANGROUP:3BCE		       call    FCB_TO_ASCZ
TRANGROUP:3BD1
TRANGROUP:3BD1 MELDO:				       ; ...
TRANGROUP:3BD1		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:3BD6		       jnz     short SHOWCPNAM
TRANGROUP:3BD8		       test    ds:SrcInfo, 2
TRANGROUP:3BDD		       jz      short DOREAD
TRANGROUP:3BDF
TRANGROUP:3BDF SHOWCPNAM:			       ; ...
TRANGROUP:3BDF		       mov     dx, offset file_name_ptr
TRANGROUP:3BE2		       call    std_printf
TRANGROUP:3BE5		       call    CRLF2
TRANGROUP:3BE8
TRANGROUP:3BE8 DOREAD:				       ; ...
TRANGROUP:3BE8		       call    DOCOPY
TRANGROUP:3BEB		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:3BF0		       jnz     short NODCLOSE
TRANGROUP:3BF2		       call    CLOSEDEST
TRANGROUP:3BF5		       jb      short NODCLOSE
TRANGROUP:3BF7		       mov     ds:CFLAG, 0
TRANGROUP:3BFC
TRANGROUP:3BFC NODCLOSE:			       ; ...
TRANGROUP:3BFC		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:3C01		       jz      short NOFLUSH
TRANGROUP:3C03		       call    FlshFil
TRANGROUP:3C06		       test    ds:MELCOPY, 0FFh
TRANGROUP:3C0B		       jz      short NOFLUSH
TRANGROUP:3C0D		       jmp     short DOMELCOPY
TRANGROUP:3C0F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3C0F
TRANGROUP:3C0F NOFLUSH:				       ; ...
TRANGROUP:3C0F		       call    SEARCHNEXT
TRANGROUP:3C12		       jnz     short NEXTSRCJ
TRANGROUP:3C14		       mov     ds:SPECDRV, 0   ; [DestClosed]
TRANGROUP:3C19		       jmp     short NEXTAMBIG
TRANGROUP:3C1B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3C1B
TRANGROUP:3C1B DOMELCOPY:			       ; ...
TRANGROUP:3C1B		       cmp     ds:MELCOPY, 0FFh
TRANGROUP:3C20		       jz      short CONTMEL
TRANGROUP:3C22		       mov     si, ds:SRCPT
TRANGROUP:3C26		       mov     ds:MELSTART, si
TRANGROUP:3C2A		       mov     ds:MELCOPY, 0FFh
TRANGROUP:3C2F
TRANGROUP:3C2F CONTMEL:				       ; ...
TRANGROUP:3C2F		       xor     bp, bp
TRANGROUP:3C31		       mov     si, ds:SRCPT
TRANGROUP:3C35		       mov     bl, '+'         ; 2Bh
TRANGROUP:3C37
TRANGROUP:3C37 SCANSRC2:			       ; ...
TRANGROUP:3C37		       mov     di, offset ScanBuf
TRANGROUP:3C3A		       call    cparse
TRANGROUP:3C3D		       test    bh, 80h
TRANGROUP:3C40		       jz      short NEXTMEL
TRANGROUP:3C42		       test    bh, 1
TRANGROUP:3C45		       jnz     short SCANSRC2
TRANGROUP:3C47		       call    SOURCEPROC
TRANGROUP:3C4A		       call    RestUDir1
TRANGROUP:3C4D		       mov     di, offset IDLEN	; offset DESTFCB2
TRANGROUP:3C50		       mov     ax, 2900h
TRANGROUP:3C53		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:3C53					       ; DS:SI -> string to parse
TRANGROUP:3C53					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:3C53					       ; AL = bit mask to control parsing
TRANGROUP:3C55		       mov     bx, (offset SDIRBUF+1)
TRANGROUP:3C58		       mov     si, offset ID   ; offset	DESTFCB2+1
TRANGROUP:3C5B		       mov     di, ds:SrcTail
TRANGROUP:3C5F		       call    BUILDNAME
TRANGROUP:3C62		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:3C67		       jz      short MELDOJ
TRANGROUP:3C69		       mov     ds:NOWRITE, 0
TRANGROUP:3C6E
TRANGROUP:3C6E MELDOJ:				       ; ...
TRANGROUP:3C6E		       jmp     MELDO
TRANGROUP:3C71 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3C71
TRANGROUP:3C71 NEXTSRCJ:			       ; ...
TRANGROUP:3C71		       jmp     NEXTSRC
TRANGROUP:3C74 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3C74
TRANGROUP:3C74 NEXTMEL:				       ; ...
TRANGROUP:3C74		       call    CLOSEDEST
TRANGROUP:3C77		       xor     ax, ax
TRANGROUP:3C79		       mov     ds:CFLAG, al
TRANGROUP:3C7C		       mov     ds:NXTADD, ax
TRANGROUP:3C7F		       mov     ds:SPECDRV, al
TRANGROUP:3C82		       mov     si, ds:MELSTART
TRANGROUP:3C86		       mov     ds:SRCPT, si
TRANGROUP:3C8A		       call    SEARCHNEXT
TRANGROUP:3C8D		       jz      short SETNMELJ
TRANGROUP:3C8F		       jmp     ENDCOPY2
TRANGROUP:3C92 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3C92
TRANGROUP:3C92 SETNMELJ:			       ; ...
TRANGROUP:3C92		       jmp     SETNMEL
TRANGROUP:3C95
TRANGROUP:3C95 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3C95
TRANGROUP:3C95
TRANGROUP:3C95 SEARCHNEXT      proc near	       ; ...
TRANGROUP:3C95		       mov     ah, 12h	       ; DIR_SEARCH_NEXT
TRANGROUP:3C97		       test    ds:SrcInfo, 2
TRANGROUP:3C9C		       jnz     short SEARCH
TRANGROUP:3C9E		       or      ah, ah
TRANGROUP:3CA0		       retn
TRANGROUP:3CA0 SEARCHNEXT      endp
TRANGROUP:3CA0
TRANGROUP:3CA1
TRANGROUP:3CA1 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3CA1
TRANGROUP:3CA1
TRANGROUP:3CA1 SEARCH	       proc near	       ; ...
TRANGROUP:3CA1		       push    ax
TRANGROUP:3CA2		       mov     ah, 1Ah	       ; SET_DMA
TRANGROUP:3CA4		       mov     dx, offset BWDBUF ; offset DIRBUF
TRANGROUP:3CA7		       int     21h	       ; DOS - SET DISK	TRANSFER AREA ADDRESS
TRANGROUP:3CA7					       ; DS:DX -> disk transfer	buffer
TRANGROUP:3CA9		       pop     ax
TRANGROUP:3CAA		       mov     dx, 5Ch	       ; FCB
TRANGROUP:3CAD		       int     21h	       ; DOS -
TRANGROUP:3CAF		       or      al, al
TRANGROUP:3CB1		       retn
TRANGROUP:3CB1 SEARCH	       endp
TRANGROUP:3CB1
TRANGROUP:3CB2
TRANGROUP:3CB2 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3CB2
TRANGROUP:3CB2
TRANGROUP:3CB2 DOCOPY	       proc near	       ; ...
TRANGROUP:3CB2		       mov     si, offset SrcBuf
TRANGROUP:3CB5		       mov     di, offset SRCXNAME
TRANGROUP:3CB8		       mov     ah, 60h
TRANGROUP:3CBA		       int     21h	       ; DOS - RESOLVE PATH STRING TO CANONICAL	PATH STRING
TRANGROUP:3CBA					       ; DS:SI -> ASCIZ	relative path string or	directory name
TRANGROUP:3CBA					       ; ES:DI -> 128-byte buffer for ASCIZ canonical fully qualified name
TRANGROUP:3CBC		       mov     ds:IFNOTFLAG, 0 ; [RDEOF]
TRANGROUP:3CC1		       mov     ax, 6C00h
TRANGROUP:3CC4		       mov     bx, 40h
TRANGROUP:3CC7		       xor     cx, cx
TRANGROUP:3CC9		       mov     dx, 101h
TRANGROUP:3CCC		       int     21h	       ; DOS - 4.0 - EXTENDED OPEN/CREATE
TRANGROUP:3CCC					       ; BL = open mode	as in AL for normal open (INT 21h/AH=3Dh)
TRANGROUP:3CCC					       ; BH = flags, CX	= create attribute, DL = action	if file	exists/does not	exists
TRANGROUP:3CCC					       ; DH = 00h (reserved), DS:SI -> ASCIZ file name
TRANGROUP:3CCE		       jnb     short OPENOK
TRANGROUP:3CD0		       jmp     short Error_On_Source
TRANGROUP:3CD2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3CD2
TRANGROUP:3CD2 OPENOK:				       ; ...
TRANGROUP:3CD2		       mov     bx, ax
TRANGROUP:3CD4		       mov     ds:SRCHAND, bx
TRANGROUP:3CD8		       mov     ax, 5700h
TRANGROUP:3CDB		       int     21h	       ; DOS - 2+ - GET	FILE'S DATE/TIME
TRANGROUP:3CDB					       ; BX = file handle
TRANGROUP:3CDD		       jb      short Error_On_Source
TRANGROUP:3CDF		       mov     ds:CPDATE, dx
TRANGROUP:3CE3		       mov     ds:CPTIME, cx
TRANGROUP:3CE7		       jmp     short No_Copy_Xa
TRANGROUP:3CE9 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3CE9
TRANGROUP:3CE9 Error_On_Source:			       ; ...
TRANGROUP:3CE9		       call    Set_Ext_Error_Msg
TRANGROUP:3CEC		       mov     ds:string_ptr_2,	offset SrcBuf
TRANGROUP:3CF2		       mov     ds:extend_buf_sub, 1 ; one_subst
TRANGROUP:3CF7		       call    std_eprintf
TRANGROUP:3CFA		       cmp     ds:SRCHAND, 0
TRANGROUP:3CFF		       jz      short No_Close_Src
TRANGROUP:3D01		       call    CLOSESRC
TRANGROUP:3D04
TRANGROUP:3D04 No_Close_Src:			       ; ...
TRANGROUP:3D04		       cmp     ds:CFLAG, 0
TRANGROUP:3D09		       jz      short EndCopyJ3
TRANGROUP:3D0B		       jmp     ENDCOPY
TRANGROUP:3D0E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3D0E
TRANGROUP:3D0E EndCopyJ3:			       ; ...
TRANGROUP:3D0E		       jmp     ENDCOPY2
TRANGROUP:3D11 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3D11
TRANGROUP:3D11 No_Copy_Xa:			       ; ...
TRANGROUP:3D11		       mov     bx, ds:SRCHAND
TRANGROUP:3D15		       mov     ax, 4400h
TRANGROUP:3D18		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:3D18					       ; BX = file or device handle
TRANGROUP:3D1A		       and     dl, 80h
TRANGROUP:3D1D		       mov     ds:SRCISDEV, dl
TRANGROUP:3D21		       jz      short COPYLP
TRANGROUP:3D23		       cmp     ds:BINARY, 0
TRANGROUP:3D28		       jz      short COPYLP
TRANGROUP:3D2A		       mov     dx, offset INBDEV_PTR
TRANGROUP:3D2D		       jmp     COPYERR
TRANGROUP:3D30 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3D30
TRANGROUP:3D30 COPYLP:				       ; ...
TRANGROUP:3D30		       mov     bx, ds:SRCHAND
TRANGROUP:3D34		       mov     cx, ds:BYTCNT
TRANGROUP:3D38		       mov     dx, ds:NXTADD
TRANGROUP:3D3C		       sub     cx, dx
TRANGROUP:3D3E		       jnz     short GOTROOM
TRANGROUP:3D40		       call    FlshFil
TRANGROUP:3D43		       cmp     ds:TERMREAD, 0
TRANGROUP:3D48		       jnz     short CLOSESRC
TRANGROUP:3D4A		       mov     cx, ds:BYTCNT
TRANGROUP:3D4E
TRANGROUP:3D4E GOTROOM:				       ; ...
TRANGROUP:3D4E		       push    ds
TRANGROUP:3D4F		       mov     ds, ds:TPA
TRANGROUP:3D53		       mov     ah, 3Fh
TRANGROUP:3D55		       int     21h	       ; DOS - 2+ - READ FROM FILE WITH	HANDLE
TRANGROUP:3D55					       ; BX = file handle, CX =	number of bytes	to read
TRANGROUP:3D55					       ; DS:DX -> buffer
TRANGROUP:3D57		       pop     ds
TRANGROUP:3D58		       jb      short Error_On_Source
TRANGROUP:3D5A		       mov     cx, ax
TRANGROUP:3D5C		       jcxz    short CLOSESRC
TRANGROUP:3D5E		       cmp     ds:SRCISDEV, 0
TRANGROUP:3D63		       jnz     short NOTESTA
TRANGROUP:3D65		       cmp     ds:ASCII, 0
TRANGROUP:3D6A		       jz      short BINREAD
TRANGROUP:3D6C
TRANGROUP:3D6C NOTESTA:				       ; ...
TRANGROUP:3D6C		       mov     dx, cx
TRANGROUP:3D6E		       mov     di, ds:NXTADD
TRANGROUP:3D72		       mov     al, 1Ah
TRANGROUP:3D74		       push    es
TRANGROUP:3D75		       mov     es, ds:TPA
TRANGROUP:3D79		       repne scasb
TRANGROUP:3D7B		       pop     es
TRANGROUP:3D7C		       jnz     short USEALL
TRANGROUP:3D7E		       inc     ds:IFNOTFLAG    ; inc byte [RDEOF]
TRANGROUP:3D82		       inc     cx
TRANGROUP:3D83
TRANGROUP:3D83 USEALL:				       ; ...
TRANGROUP:3D83		       sub     dx, cx
TRANGROUP:3D85		       mov     cx, dx
TRANGROUP:3D87
TRANGROUP:3D87 BINREAD:				       ; ...
TRANGROUP:3D87		       add     cx, ds:NXTADD
TRANGROUP:3D8B		       mov     ds:NXTADD, cx
TRANGROUP:3D8F		       cmp     cx, ds:BYTCNT
TRANGROUP:3D93		       jb      short TESTDEV
TRANGROUP:3D95		       call    FlshFil
TRANGROUP:3D98		       cmp     ds:TERMREAD, 0
TRANGROUP:3D9D		       jnz     short CLOSESRC
TRANGROUP:3D9F		       jmp     short COPYLP
TRANGROUP:3DA1 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3DA1
TRANGROUP:3DA1 TESTDEV:				       ; ...
TRANGROUP:3DA1		       cmp     ds:SRCISDEV, 0
TRANGROUP:3DA6		       jz      short CLOSESRC
TRANGROUP:3DA8		       cmp     ds:IFNOTFLAG, 0 ; cmp byte [RDEOF],0
TRANGROUP:3DAD		       jz      short COPYLP
TRANGROUP:3DAD DOCOPY	       endp
TRANGROUP:3DAD
TRANGROUP:3DAF
TRANGROUP:3DAF ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3DAF
TRANGROUP:3DAF
TRANGROUP:3DAF CLOSESRC	       proc near	       ; ...
TRANGROUP:3DAF		       mov     bx, ds:SRCHAND
TRANGROUP:3DB3		       mov     ah, 3Eh
TRANGROUP:3DB5		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:3DB5					       ; BX = file handle
TRANGROUP:3DB7
TRANGROUP:3DB7 CLOSESRCDEST_RETN:		       ; ...
TRANGROUP:3DB7		       retn
TRANGROUP:3DB7 CLOSESRC	       endp
TRANGROUP:3DB7
TRANGROUP:3DB8
TRANGROUP:3DB8 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3DB8
TRANGROUP:3DB8
TRANGROUP:3DB8 CLOSEDEST       proc near	       ; ...
TRANGROUP:3DB8		       cmp     ds:SPECDRV, 0   ; byte [DestClosed]
TRANGROUP:3DBD		       jnz     short CLOSESRCDEST_RETN
TRANGROUP:3DBF		       mov     al, byte	ptr ds:ARG2S ; byte [DestSwitch]
TRANGROUP:3DC2		       call    SETASC
TRANGROUP:3DC5		       jz      short BINCLOS
TRANGROUP:3DC7		       mov     bx, ds:NXTADD
TRANGROUP:3DCB		       call    TRYFLUSH
TRANGROUP:3DCE		       jz      short NOCONC
TRANGROUP:3DD0
TRANGROUP:3DD0 CONCHNG:				       ; ...
TRANGROUP:3DD0		       stc
TRANGROUP:3DD1		       retn
TRANGROUP:3DD2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3DD2
TRANGROUP:3DD2 NOCONC:				       ; ...
TRANGROUP:3DD2		       xor     bx, bx
TRANGROUP:3DD4		       push    ds
TRANGROUP:3DD5		       mov     ds, ds:TPA
TRANGROUP:3DD9		       mov     word ptr	[bx], 1Ah ; EOF	mark (ctrl-Z)
TRANGROUP:3DDD		       pop     ds
TRANGROUP:3DDE		       inc     ds:NXTADD
TRANGROUP:3DE2		       mov     ds:NOWRITE, 0
TRANGROUP:3DE7		       mov     ax, ds:WRITTEN
TRANGROUP:3DEA		       add     ax, ds:NXTADD
TRANGROUP:3DEE		       jb      short BINCLOS
TRANGROUP:3DF0		       cmp     ax, 1
TRANGROUP:3DF3		       jz      short FORGETITJ
TRANGROUP:3DF5
TRANGROUP:3DF5 BINCLOS:				       ; ...
TRANGROUP:3DF5		       call    TRYFLUSH
TRANGROUP:3DF8		       jnz     short CONCHNG
TRANGROUP:3DFA		       cmp     ds:WRITTEN, 0
TRANGROUP:3DFF
TRANGROUP:3DFF FORGETITJ:			       ; ...
TRANGROUP:3DFF		       jnz     short NO_FORGET
TRANGROUP:3E01		       jmp     FORGETIT
TRANGROUP:3E04 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3E04
TRANGROUP:3E04 NO_FORGET:			       ; ...
TRANGROUP:3E04		       mov     bx, ds:EndDestBuf ; [DESTHAND]
TRANGROUP:3E08		       mov     cx, ds:CPTIME
TRANGROUP:3E0C		       mov     dx, ds:CPDATE
TRANGROUP:3E10		       cmp     ds:INEXACT, 0
TRANGROUP:3E15		       jz      short DODCLOSE
TRANGROUP:3E17		       mov     ah, 2Ch
TRANGROUP:3E19		       int     21h	       ; DOS - GET CURRENT TIME
TRANGROUP:3E19					       ; Return: CH = hours, CL	= minutes, DH =	seconds
TRANGROUP:3E19					       ; DL = hundredths of seconds
TRANGROUP:3E1B		       shl     cl, 1
TRANGROUP:3E1D		       shl     cl, 1
TRANGROUP:3E1F		       shl     cx, 1
TRANGROUP:3E21		       shl     cx, 1
TRANGROUP:3E23		       shl     cx, 1
TRANGROUP:3E25		       shr     dh, 1
TRANGROUP:3E27		       or      cl, dh
TRANGROUP:3E29		       push    cx
TRANGROUP:3E2A		       mov     ah, 2Ah
TRANGROUP:3E2C		       int     21h	       ; DOS - GET CURRENT DATE
TRANGROUP:3E2C					       ; Return: DL = day, DH =	month, CX = year
TRANGROUP:3E2C					       ; AL = day of the week (0=Sunday, 1=Monday, etc.)
TRANGROUP:3E2E		       sub     cx, 1980
TRANGROUP:3E32		       xchg    ch, cl
TRANGROUP:3E34		       shl     cx, 1
TRANGROUP:3E36		       shl     dh, 1
TRANGROUP:3E38		       shl     dh, 1
TRANGROUP:3E3A		       shl     dh, 1
TRANGROUP:3E3C		       shl     dh, 1
TRANGROUP:3E3E		       shl     dh, 1
TRANGROUP:3E40		       adc     ch, 0
TRANGROUP:3E43		       or      dl, dh
TRANGROUP:3E45		       mov     dh, ch
TRANGROUP:3E47		       pop     cx
TRANGROUP:3E48
TRANGROUP:3E48 DODCLOSE:			       ; ...
TRANGROUP:3E48		       cmp     bx, 0
TRANGROUP:3E4B		       jle     short CLOSEDONE
TRANGROUP:3E4D		       mov     ax, 5701h
TRANGROUP:3E50		       int     21h	       ; DOS - 2+ - SET	FILE'S DATE/TIME
TRANGROUP:3E50					       ; BX = file handle, CX =	time to	be set
TRANGROUP:3E50					       ; DX = date to be set
TRANGROUP:3E52		       jb      short Cleanup_Err
TRANGROUP:3E54		       mov     ax, 4202h
TRANGROUP:3E57		       xor     dx, dx
TRANGROUP:3E59		       mov     cx, dx
TRANGROUP:3E5B		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:3E5B					       ; AL = method: offset from end of file
TRANGROUP:3E5D		       or      dx, ax
TRANGROUP:3E5F		       pushf
TRANGROUP:3E60		       mov     ax, 4400h
TRANGROUP:3E63		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:3E63					       ; BX = file or device handle
TRANGROUP:3E65		       push    dx
TRANGROUP:3E66		       mov     ah, 3Eh
TRANGROUP:3E68		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:3E68					       ; BX = file handle
TRANGROUP:3E6A		       pop     dx
TRANGROUP:3E6B		       jnb     short Close_Cont
TRANGROUP:3E6D		       popf
TRANGROUP:3E6E
TRANGROUP:3E6E Cleanup_Err:			       ; ...
TRANGROUP:3E6E		       call    CleanUpErr
TRANGROUP:3E71		       call    DestDelete
TRANGROUP:3E74		       jmp     short FILECLOSED
TRANGROUP:3E76 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3E76
TRANGROUP:3E76 Close_Cont:			       ; ...
TRANGROUP:3E76		       popf
TRANGROUP:3E77		       jnz     short CLOSEDONE
TRANGROUP:3E79		       test    dx, 80h
TRANGROUP:3E7D		       jnz     short CLOSEDONE
TRANGROUP:3E7F		       call    DestDelete
TRANGROUP:3E82		       jmp     short FILECLOSED
TRANGROUP:3E84 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3E84
TRANGROUP:3E84 CLOSEDONE:			       ; ...
TRANGROUP:3E84		       inc     ds:FileCnt
TRANGROUP:3E88
TRANGROUP:3E88 FILECLOSED:			       ; ...
TRANGROUP:3E88		       inc     ds:SPECDRV      ; [DestClosed]
TRANGROUP:3E8C
TRANGROUP:3E8C RET50:				       ; ...
TRANGROUP:3E8C		       clc
TRANGROUP:3E8D		       retn
TRANGROUP:3E8E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3E8E
TRANGROUP:3E8E FORGETIT:			       ; ...
TRANGROUP:3E8E		       mov     bx, ds:EndDestBuf ; [DESTHAND]
TRANGROUP:3E92		       call    DODCLOSE
TRANGROUP:3E95		       call    DestDelete
TRANGROUP:3E98		       mov     ds:FileCnt, 0
TRANGROUP:3E9E		       jmp     short RET50
TRANGROUP:3E9E CLOSEDEST       endp
TRANGROUP:3E9E
TRANGROUP:3EA0
TRANGROUP:3EA0 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3EA0
TRANGROUP:3EA0
TRANGROUP:3EA0 DestDelete      proc near	       ; ...
TRANGROUP:3EA0		       mov     dx, offset DestBuf
TRANGROUP:3EA3		       mov     ah, 41h
TRANGROUP:3EA5		       int     21h	       ; DOS - 2+ - DELETE A FILE (UNLINK)
TRANGROUP:3EA5					       ; DS:DX -> ASCIZ	pathname of file to delete (no wildcards allowed)
TRANGROUP:3EA7		       retn
TRANGROUP:3EA7 DestDelete      endp
TRANGROUP:3EA7
TRANGROUP:3EA8
TRANGROUP:3EA8 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3EA8
TRANGROUP:3EA8
TRANGROUP:3EA8 SOURCE_SET      proc near	       ; ...
TRANGROUP:3EA8		       push    si
TRANGROUP:3EA9		       mov     ax, ds:STARTEL
TRANGROUP:3EAC		       mov     si, offset ScanBuf
TRANGROUP:3EAF		       sub     ax, si
TRANGROUP:3EB1		       mov     di, offset SrcBuf
TRANGROUP:3EB4		       add     ax, di
TRANGROUP:3EB6		       mov     ds:SrcTail, ax
TRANGROUP:3EB9		       mov     ds:SrcSiz, cl
TRANGROUP:3EBD		       inc     cx
TRANGROUP:3EBE		       rep movsb
TRANGROUP:3EC0		       mov     ds:SrcInfo, bh
TRANGROUP:3EC4		       pop     si
TRANGROUP:3EC5		       mov     ax, bp
TRANGROUP:3EC7		       call    SETASC
TRANGROUP:3ECA		       call    SWITCH
TRANGROUP:3ECD		       call    SETASC
TRANGROUP:3ED0		       retn
TRANGROUP:3ED0 SOURCE_SET      endp
TRANGROUP:3ED0
TRANGROUP:3ED1
TRANGROUP:3ED1 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3ED1
TRANGROUP:3ED1
TRANGROUP:3ED1 CleanUpErr      proc near	       ; ...
TRANGROUP:3ED1		       cmp     ds:msg_flag, 0
TRANGROUP:3ED6		       jnz     short CleanupErr_Cont
TRANGROUP:3ED8		       call    Set_Ext_Error_Msg
TRANGROUP:3EDB		       mov     ds:string_ptr_2,	offset DestBuf
TRANGROUP:3EE1		       mov     ds:extend_buf_sub, 1
TRANGROUP:3EE6		       call    std_eprintf
TRANGROUP:3EE9
TRANGROUP:3EE9 CleanupErr_Cont:			       ; ...
TRANGROUP:3EE9		       retn
TRANGROUP:3EE9 CleanUpErr      endp
TRANGROUP:3EE9
TRANGROUP:3EEA
TRANGROUP:3EEA ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3EEA
TRANGROUP:3EEA
TRANGROUP:3EEA TRYFLUSH	       proc near	       ; ...
TRANGROUP:3EEA		       mov     al, ds:PARM1    ; [Concat]
TRANGROUP:3EED		       push    ax
TRANGROUP:3EEE		       call    FlshFil
TRANGROUP:3EF1		       pop     ax
TRANGROUP:3EF2		       cmp     al, ds:PARM1    ; [Concat]
TRANGROUP:3EF6		       retn
TRANGROUP:3EF6 TRYFLUSH	       endp
TRANGROUP:3EF6
TRANGROUP:3EF7
TRANGROUP:3EF7 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:3EF7
TRANGROUP:3EF7
TRANGROUP:3EF7 FlshFil	       proc near	       ; ...
TRANGROUP:3EF7
TRANGROUP:3EF7 ; FUNCTION CHUNK	AT TRANGROUP:3AE9 SIZE 00000014	BYTES
TRANGROUP:3EF7
TRANGROUP:3EF7		       mov     ds:TERMREAD, 0
TRANGROUP:3EFC		       cmp     ds:CFLAG, 0
TRANGROUP:3F01		       jz      short NotExists
TRANGROUP:3F03		       jmp     Exists
TRANGROUP:3F06 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3F06
TRANGROUP:3F06 NotExists:			       ; ...
TRANGROUP:3F06		       call    BUILDDEST
TRANGROUP:3F09		       call    COMPNAME
TRANGROUP:3F0C		       jnz     short ProcDest
TRANGROUP:3F0E		       cmp     ds:SRCISDEV, 0
TRANGROUP:3F13		       jnz     short ProcDest
TRANGROUP:3F15		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:3F1A		       mov     dx, offset OVERWR_PTR
TRANGROUP:3F1D		       jnz     short No_Concat_Err
TRANGROUP:3F1F		       jmp     COPYERR
TRANGROUP:3F22 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3F22
TRANGROUP:3F22 No_Concat_Err:			       ; ...
TRANGROUP:3F22		       mov     ds:NOWRITE, 1
TRANGROUP:3F27
TRANGROUP:3F27 ProcDest:			       ; ...
TRANGROUP:3F27		       mov     ax, 6C00h
TRANGROUP:3F2A		       mov     si, offset DestBuf
TRANGROUP:3F2D		       mov     bx, 21h
TRANGROUP:3F30		       xor     cx, cx
TRANGROUP:3F32		       mov     dx, 101h
TRANGROUP:3F35		       cmp     ds:NOWRITE, 0
TRANGROUP:3F3A		       jnz     short DoDestOpen
TRANGROUP:3F3C		       mov     dx, 112h
TRANGROUP:3F3F
TRANGROUP:3F3F DoDestOpen:			       ; ...
TRANGROUP:3F3F		       int     21h	       ; DOS - 4.0 - EXTENDED OPEN/CREATE
TRANGROUP:3F3F					       ; BL = open mode	as in AL for normal open (INT 21h/AH=3Dh)
TRANGROUP:3F3F					       ; BH = flags, CX	= create attribute, DL = action	if file	exists/does not	exists
TRANGROUP:3F3F					       ; DH = 00h (reserved), DS:SI -> ASCIZ file name
TRANGROUP:3F41		       jnb     short Dest_Open_Okay
TRANGROUP:3F43
TRANGROUP:3F43 Xa_Set_Error:			       ; ...
TRANGROUP:3F43		       call    Set_Ext_Error_Msg
TRANGROUP:3F46		       mov     ds:string_ptr_2,	offset DestBuf
TRANGROUP:3F4C		       mov     ds:extend_buf_sub, 1
TRANGROUP:3F51		       jmp     COPYERR
TRANGROUP:3F54 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3F54
TRANGROUP:3F54 Dest_Open_Okay:			       ; ...
TRANGROUP:3F54		       mov     ds:EndDestBuf, ax ; [DESTHAND]
TRANGROUP:3F57		       mov     ds:CFLAG, 1
TRANGROUP:3F5C		       mov     bx, ax
TRANGROUP:3F5E		       mov     ax, 4400h
TRANGROUP:3F61		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:3F61					       ; BX = file or device handle
TRANGROUP:3F63		       mov     ds:DESTISDEV, dl
TRANGROUP:3F67		       test    dl, 80h
TRANGROUP:3F6A		       jz      short Exists
TRANGROUP:3F6C		       mov     al, byte	ptr ds:ARG2S ; [DestSwitch]
TRANGROUP:3F6F		       and     al, 0Ch	       ; SWITCHA+SWITCHB ; 4+8
TRANGROUP:3F71		       jnz     short TestBoth
TRANGROUP:3F73		       mov     al, ds:ASCII
TRANGROUP:3F76		       or      al, ds:BINARY
TRANGROUP:3F7A		       jz      short ExSetA
TRANGROUP:3F7C
TRANGROUP:3F7C TestBoth:			       ; ...
TRANGROUP:3F7C		       jp      short Exists
TRANGROUP:3F7E		       test    al, 8	       ; SWITCHB
TRANGROUP:3F80		       jz      short Exists
TRANGROUP:3F82		       mov     ax, 4401h
TRANGROUP:3F85		       xor     dh, dh
TRANGROUP:3F87		       or      dl, 20h
TRANGROUP:3F8A		       mov     ds:DESTISDEV, dl
TRANGROUP:3F8E		       int     21h	       ; DOS - 2+ - IOCTL - SET	DEVICE INFORMATION
TRANGROUP:3F8E					       ; BX = device handle, DH	= 0
TRANGROUP:3F8E					       ; DL = device information to set	(bits 0-7 from function	0)
TRANGROUP:3F90		       jmp     short Exists
TRANGROUP:3F92 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3F92
TRANGROUP:3F92 CopErrJ:
TRANGROUP:3F92		       jmp     COPYERR
TRANGROUP:3F95 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3F95
TRANGROUP:3F95 ExSetA:				       ; ...
TRANGROUP:3F95		       mov     ds:ASCII, 4     ; SWITCHA
TRANGROUP:3F9A		       or      ds:INEXACT, 4   ; SWITCHA
TRANGROUP:3F9F
TRANGROUP:3F9F Exists:				       ; ...
TRANGROUP:3F9F		       cmp     ds:NOWRITE, 0
TRANGROUP:3FA4		       jnz     short NoChecking
TRANGROUP:3FA6		       cmp     ds:plus_comma, 1
TRANGROUP:3FAB		       jz      short NoChecking
TRANGROUP:3FAD		       call    COMPNAME
TRANGROUP:3FB0		       jnz     short NoChecking
TRANGROUP:3FB2		       cmp     ds:SRCISDEV, 0
TRANGROUP:3FB7		       jnz     short NoChecking
TRANGROUP:3FB9		       mov     dx, offset LOSTERR_PTR
TRANGROUP:3FBC		       call    std_eprintf
TRANGROUP:3FBF		       mov     ds:NXTADD, 0
TRANGROUP:3FC5		       inc     ds:TERMREAD
TRANGROUP:3FC9
TRANGROUP:3FC9 Ret60:				       ; ...
TRANGROUP:3FC9		       retn
TRANGROUP:3FCA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3FCA
TRANGROUP:3FCA NoChecking:			       ; ...
TRANGROUP:3FCA		       mov     bx, ds:EndDestBuf ; [DESTHAND]
TRANGROUP:3FCE		       xor     cx, cx
TRANGROUP:3FD0		       xchg    cx, ds:NXTADD
TRANGROUP:3FD4		       jcxz    short Ret60
TRANGROUP:3FD6		       inc     ds:WRITTEN
TRANGROUP:3FDA		       cmp     ds:NOWRITE, 0
TRANGROUP:3FDF		       jnz     short SeekEnd
TRANGROUP:3FE1		       xor     dx, dx
TRANGROUP:3FE3		       push    ds
TRANGROUP:3FE4		       mov     ds, ds:TPA
TRANGROUP:3FE8		       mov     ah, 40h
TRANGROUP:3FEA		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:3FEA					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:3FEC		       pop     ds
TRANGROUP:3FED		       mov     dx, offset NOSPACE_PTR
TRANGROUP:3FF0		       jnb     short NoChecking2
TRANGROUP:3FF2		       jmp     Xa_Set_Error
TRANGROUP:3FF5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:3FF5
TRANGROUP:3FF5 NoChecking2:			       ; ...
TRANGROUP:3FF5		       sub     cx, ax
TRANGROUP:3FF7		       jz      short Ret60
TRANGROUP:3FF9		       test    ds:DESTISDEV, 80h ; devid_ISDEV
TRANGROUP:3FFE		       jz      short COPYERR
TRANGROUP:4000		       test    ds:DESTISDEV, 20h ; devid_RAW
TRANGROUP:4005		       jnz     short DevWrtErr
TRANGROUP:4007		       cmp     ds:INEXACT, 0
TRANGROUP:400C		       jnz     short Ret60
TRANGROUP:400E		       dec     cx
TRANGROUP:400F		       jz      short Ret60
TRANGROUP:4011
TRANGROUP:4011 DevWrtErr:			       ; ...
TRANGROUP:4011		       mov     dx, offset DEVWMES_PTR
TRANGROUP:4014		       jmp     short COPYERR
TRANGROUP:4016 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4016
TRANGROUP:4016 SeekEnd:				       ; ...
TRANGROUP:4016		       xor     dx, dx
TRANGROUP:4018		       xchg    dx, cx
TRANGROUP:401A		       mov     ax, 4201h
TRANGROUP:401D		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:401D					       ; AL = method: offset from present location
TRANGROUP:401F		       mov     ds:OFilePtr_Lo, ax
TRANGROUP:4022		       mov     ds:OFilePtr_Hi, dx
TRANGROUP:4026		       cmp     ds:IFNOTFLAG, 0 ; cmp byte [RDEOF],0
TRANGROUP:402B		       jz      short Ret60
TRANGROUP:402D		       mov     ah, 40h
TRANGROUP:402F		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:402F					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:4031		       jb      short Xa_Set_Error_Jmp
TRANGROUP:4033		       mov     ds:OCtrlZ, 1Ah
TRANGROUP:4038		       retn
TRANGROUP:4039 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4039
TRANGROUP:4039 COPYERR:				       ; ...
TRANGROUP:4039		       call    std_eprintf
TRANGROUP:403C
TRANGROUP:403C CopErrP:				       ;
TRANGROUP:403C		       inc     ds:SPECDRV      ; inc byte [DestClosed]
TRANGROUP:4040		       cmp     ds:CFLAG, 0
TRANGROUP:4045		       jz      short EndCopyJ
TRANGROUP:4047		       mov     bx, ds:EndDestBuf ; [DESTHAND]
TRANGROUP:404B		       cmp     bx, 0
TRANGROUP:404E		       jle     short NoClose
TRANGROUP:4050		       mov     cx, ds:OFilePtr_Hi
TRANGROUP:4054		       mov     dx, ds:OFilePtr_Lo
TRANGROUP:4058		       mov     ax, cx
TRANGROUP:405A		       or      ax, dx
TRANGROUP:405C		       jz      short ceClose
TRANGROUP:405E		       mov     ax, 4200h
TRANGROUP:4061		       int     21h	       ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
TRANGROUP:4061					       ; AL = method: offset from beginning of file
TRANGROUP:4063		       xor     cx, cx
TRANGROUP:4065		       mov     ah, 40h
TRANGROUP:4067		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:4067					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:4069		       cmp     ds:OCtrlZ, 0
TRANGROUP:406E		       jz      short ceClose0
TRANGROUP:4070		       inc     cx
TRANGROUP:4071		       mov     dx, offset OCtrlZ
TRANGROUP:4074		       mov     ah, 40h
TRANGROUP:4076		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:4076					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:4078
TRANGROUP:4078 ceClose0:			       ; ...
TRANGROUP:4078		       mov     ah, 3Eh
TRANGROUP:407A		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:407A					       ; BX = file handle
TRANGROUP:407C		       jmp     ENDCOPY
TRANGROUP:407F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:407F
TRANGROUP:407F ceClose:				       ; ...
TRANGROUP:407F		       mov     ah, 3Eh
TRANGROUP:4081		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:4081					       ; BX = file handle
TRANGROUP:4083
TRANGROUP:4083 NoClose:				       ; ...
TRANGROUP:4083		       mov     dx, offset DestBuf
TRANGROUP:4086		       mov     ah, 41h
TRANGROUP:4088		       int     21h	       ; DOS - 2+ - DELETE A FILE (UNLINK)
TRANGROUP:4088					       ; DS:DX -> ASCIZ	pathname of file to delete (no wildcards allowed)
TRANGROUP:408A		       mov     ds:CFLAG, 0
TRANGROUP:408F
TRANGROUP:408F EndCopyJ:			       ; ...
TRANGROUP:408F		       jmp     ENDCOPY
TRANGROUP:4092 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4092
TRANGROUP:4092 Xa_Set_Error_Jmp:		       ; ...
TRANGROUP:4092		       jmp     Xa_Set_Error
TRANGROUP:4092 FlshFil	       endp
TRANGROUP:4092
TRANGROUP:4095
TRANGROUP:4095 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4095
TRANGROUP:4095
TRANGROUP:4095 SETASC	       proc near	       ; ...
TRANGROUP:4095		       and     al, 0Ch	       ; SWITCHA+SWITCHB
TRANGROUP:4097		       jp      short LOADSW
TRANGROUP:4099		       push    ax
TRANGROUP:409A		       and     al, 8	       ; SWITCHB
TRANGROUP:409C		       mov     ds:BINARY, al
TRANGROUP:409F		       pop     ax
TRANGROUP:40A0		       and     al, 4	       ; SWITCHA
TRANGROUP:40A2		       mov     ds:ASCII, al
TRANGROUP:40A5		       or      ds:INEXACT, al
TRANGROUP:40A9
TRANGROUP:40A9 LOADSW:				       ; ...
TRANGROUP:40A9		       mov     al, ds:ASCII
TRANGROUP:40AC		       or      al, al
TRANGROUP:40AE		       retn
TRANGROUP:40AE SETASC	       endp
TRANGROUP:40AE
TRANGROUP:40AF
TRANGROUP:40AF ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:40AF
TRANGROUP:40AF
TRANGROUP:40AF BUILDDEST       proc near	       ; ...
TRANGROUP:40AF		       cmp     ds:DestIsDir, 0FFh ; -1
TRANGROUP:40B4		       jnz     short KNOWABOUTDEST
TRANGROUP:40B6		       mov     di, offset USERDIR1
TRANGROUP:40B9		       mov     bp, offset DestIsDir ; offset DestVars
TRANGROUP:40BC		       call    BUILDPATH
TRANGROUP:40BF		       call    RestUDir1
TRANGROUP:40C2
TRANGROUP:40C2 KNOWABOUTDEST:			       ; ...
TRANGROUP:40C2		       xor     al, al
TRANGROUP:40C4		       xchg    al, ds:FIRSTDEST
TRANGROUP:40C8		       or      al, al
TRANGROUP:40CA		       jnz     short FIRSTDST
TRANGROUP:40CC		       jmp     NOFIRSTDEST
TRANGROUP:40CF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:40CF
TRANGROUP:40CF FIRSTDST:			       ; ...
TRANGROUP:40CF		       mov     si, ds:DestTail
TRANGROUP:40D3		       mov     di, offset DESTDIR ; offset DestFcb
TRANGROUP:40D6		       mov     ax, 2900h
TRANGROUP:40D9		       int     21h	       ; DOS - PARSE FILENAME
TRANGROUP:40D9					       ; DS:SI -> string to parse
TRANGROUP:40D9					       ; ES:DI -> buffer to fill with unopened FCB
TRANGROUP:40D9					       ; AL = bit mask to control parsing
TRANGROUP:40DB		       cmp     byte ptr	[si], 0
TRANGROUP:40DE		       jz      short GOODPARSE
TRANGROUP:40E0		       mov     dx, offset FULLDIR_PTR
TRANGROUP:40E3		       jmp     COPYERR
TRANGROUP:40E6 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:40E6
TRANGROUP:40E6 GOODPARSE:			       ; ...
TRANGROUP:40E6		       mov     ax, word	ptr ds:DestBuf
TRANGROUP:40E9		       cmp     ah, ':'
TRANGROUP:40EC		       jz      short DRVSPEC4
TRANGROUP:40EE		       mov     al, 40h ; '@'
TRANGROUP:40F0
TRANGROUP:40F0 DRVSPEC4:			       ; ...
TRANGROUP:40F0		       mov     cl, ds:ASCII
TRANGROUP:40F4		       or      al, 20h
TRANGROUP:40F6		       sub     al, 60h
TRANGROUP:40F8		       mov     ds:DESTDIR, al  ; [DestFcb]
TRANGROUP:40FB		       mov     al, ds:DestInfo
TRANGROUP:40FE		       mov     ah, ds:SrcInfo
TRANGROUP:4102		       and     ax, 202h
TRANGROUP:4105		       or      al, al
TRANGROUP:4107		       jz      short NOTMELCOPY
TRANGROUP:4109		       cmp     al, ah
TRANGROUP:410B		       jnz     short NOTMELCOPY
TRANGROUP:410D		       cmp     ds:PLUS,	0
TRANGROUP:4112		       jz      short NOTMELCOPY
TRANGROUP:4114		       inc     ds:MELCOPY
TRANGROUP:4118		       xor     al, al
TRANGROUP:411A		       jmp     short SETCONC
TRANGROUP:411C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:411C
TRANGROUP:411C NOTMELCOPY:			       ; ...
TRANGROUP:411C		       xor     al, 2
TRANGROUP:411E		       and     al, ah
TRANGROUP:4120		       shr     al, 1
TRANGROUP:4122
TRANGROUP:4122 SETCONC:				       ; ...
TRANGROUP:4122		       or      al, ds:PLUS
TRANGROUP:4126		       mov     ds:PARM1, al    ; [Concat]
TRANGROUP:4129		       shl     al, 1
TRANGROUP:412B		       shl     al, 1
TRANGROUP:412D		       mov     ds:INEXACT, al
TRANGROUP:4130		       cmp     ds:BINARY, 0
TRANGROUP:4135		       jnz     short NOFIRSTDEST
TRANGROUP:4137		       mov     ds:ASCII, al
TRANGROUP:413A		       or      cl, cl
TRANGROUP:413C		       jnz     short NOFIRSTDEST
TRANGROUP:413E		       or      al, al
TRANGROUP:4140		       jz      short NOFIRSTDEST
TRANGROUP:4142		       mov     cx, ds:NXTADD
TRANGROUP:4146		       jcxz    short NOFIRSTDEST
TRANGROUP:4148		       mov     al, 1Ah
TRANGROUP:414A		       push    es
TRANGROUP:414B		       xor     di, di
TRANGROUP:414D		       mov     es, ds:TPA
TRANGROUP:4151		       repne scasb
TRANGROUP:4153		       pop     es
TRANGROUP:4154		       jnz     short NOFIRSTDEST
TRANGROUP:4156		       dec     di
TRANGROUP:4157		       mov     ds:NXTADD, di
TRANGROUP:415B
TRANGROUP:415B NOFIRSTDEST:			       ; ...
TRANGROUP:415B		       mov     bx, (offset BWDBUF+1) ; DIRBUF+1
TRANGROUP:415E		       cmp     ds:PARM1, 0     ; [Concat]
TRANGROUP:4163		       jz      short GOTCHRSRC
TRANGROUP:4165		       mov     bx, (offset SDIRBUF+1)
TRANGROUP:4168
TRANGROUP:4168 GOTCHRSRC:			       ; ...
TRANGROUP:4168		       mov     si, (offset DESTDIR+1) ;	DestFcb+1
TRANGROUP:416B		       mov     di, ds:DestTail
TRANGROUP:416B BUILDDEST       endp
TRANGROUP:416B
TRANGROUP:416F
TRANGROUP:416F ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:416F
TRANGROUP:416F
TRANGROUP:416F BUILDNAME       proc near	       ; ...
TRANGROUP:416F		       mov     cx, 8
TRANGROUP:4172
TRANGROUP:4172 BUILDMAIN:			       ; ...
TRANGROUP:4172		       lodsb
TRANGROUP:4173		       cmp     al, '?'
TRANGROUP:4175		       jnz     short NOTAMBIG
TRANGROUP:4177		       mov     al, [bx]
TRANGROUP:4179
TRANGROUP:4179 NOTAMBIG:			       ; ...
TRANGROUP:4179		       cmp     al, 20h ; ' '
TRANGROUP:417B		       jz      short NOSTORE
TRANGROUP:417D		       stosb
TRANGROUP:417E
TRANGROUP:417E NOSTORE:				       ; ...
TRANGROUP:417E		       inc     bx
TRANGROUP:417F		       loop    BUILDMAIN
TRANGROUP:4181		       mov     cl, 3
TRANGROUP:4183		       mov     al, 20h ; ' '
TRANGROUP:4185		       cmp     [si], al
TRANGROUP:4187		       jz      short ENDDEST
TRANGROUP:4189		       mov     al, '.'         ; 2Eh ; dot_chr
TRANGROUP:418B		       stosb
TRANGROUP:418C
TRANGROUP:418C BUILDEXT:			       ; ...
TRANGROUP:418C		       lodsb
TRANGROUP:418D		       cmp     al, '?'         ; 3Fh
TRANGROUP:418F		       jnz     short NOTAMBIGE
TRANGROUP:4191		       mov     al, [bx]
TRANGROUP:4193
TRANGROUP:4193 NOTAMBIGE:			       ; ...
TRANGROUP:4193		       cmp     al, 20h ; ' '
TRANGROUP:4195		       jz      short NOSTOREE
TRANGROUP:4197		       stosb
TRANGROUP:4198
TRANGROUP:4198 NOSTOREE:			       ; ...
TRANGROUP:4198		       inc     bx
TRANGROUP:4199		       loop    BUILDEXT
TRANGROUP:419B
TRANGROUP:419B ENDDEST:				       ; ...
TRANGROUP:419B		       xor     al, al
TRANGROUP:419D		       stosb
TRANGROUP:419E		       retn
TRANGROUP:419E BUILDNAME       endp
TRANGROUP:419E
TRANGROUP:419F
TRANGROUP:419F ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:419F
TRANGROUP:419F
TRANGROUP:419F BUILDPATH       proc near	       ; ...
TRANGROUP:419F
TRANGROUP:419F ; FUNCTION CHUNK	AT TRANGROUP:1ACE SIZE 00000011	BYTES
TRANGROUP:419F
TRANGROUP:419F		       test    byte ptr	[bp+4],	2 ; [bp+VARSTRUC.INFO]
TRANGROUP:41A3		       jnz     short NOTPFILE
TRANGROUP:41A5		       mov     dx, bp
TRANGROUP:41A7		       add     dx, 5	       ; add dx,VARSTRUC.BUF
TRANGROUP:41AA		       push    di
TRANGROUP:41AB		       mov     ax, 6C00h
TRANGROUP:41AE		       mov     bx, 40h	       ; deny_none or read_open_mode
TRANGROUP:41B1		       xor     cx, cx
TRANGROUP:41B3		       mov     si, dx
TRANGROUP:41B5		       mov     dx, 101h	       ; read_open_flag
TRANGROUP:41B8		       int     21h	       ; DOS - 4.0 - EXTENDED OPEN/CREATE
TRANGROUP:41B8					       ; BL = open mode	as in AL for normal open (INT 21h/AH=3Dh)
TRANGROUP:41B8					       ; BH = flags, CX	= create attribute, DL = action	if file	exists/does not	exists
TRANGROUP:41B8					       ; DH = 00h (reserved), DS:SI -> ASCIZ file name
TRANGROUP:41BA		       pop     di
TRANGROUP:41BB		       jnb     short PURE_FILE
TRANGROUP:41BD		       call    get_ext_error_number
TRANGROUP:41C0		       cmp     ax, 2	       ; ERROR_FILE_NOT_FOUND
TRANGROUP:41C3		       jz      short NOTPFILE
TRANGROUP:41C5		       cmp     ax, 3
TRANGROUP:41C8		       jz      short NOTPFILE
TRANGROUP:41CA		       cmp     ax, 5
TRANGROUP:41CD		       jz      short NOTPFILE
TRANGROUP:41CF		       jmp     extend_setup
TRANGROUP:41D2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:41D2
TRANGROUP:41D2 PURE_FILE:			       ; ...
TRANGROUP:41D2		       mov     bx, ax
TRANGROUP:41D4		       mov     ax, 4400h
TRANGROUP:41D7		       int     21h	       ; DOS - 2+ - IOCTL - GET	DEVICE INFORMATION
TRANGROUP:41D7					       ; BX = file or device handle
TRANGROUP:41D9		       mov     ah, 3Eh
TRANGROUP:41DB		       int     21h	       ; DOS - 2+ - CLOSE A FILE WITH HANDLE
TRANGROUP:41DB					       ; BX = file handle
TRANGROUP:41DD		       test    dl, 80h	       ; devid_ISDEV
TRANGROUP:41E0		       jnz     short ISADEV
TRANGROUP:41E2		       test    byte ptr	[bp+4],	4 ; [bp+VARSTRUC.INFO]
TRANGROUP:41E6		       jz      short ISADEV
TRANGROUP:41E8
TRANGROUP:41E8 NOTPFILE:			       ; ...
TRANGROUP:41E8		       mov     dx, [bp+5]      ; [bp+VARSTRUC.BUF]
TRANGROUP:41EB		       cmp     dl, 0
TRANGROUP:41EE		       jz      short SET_DRIVE_SPEC
TRANGROUP:41F0		       cmp     dh, ':'         ; 3Ah
TRANGROUP:41F3		       jz      short DRVSPEC5
TRANGROUP:41F5
TRANGROUP:41F5 SET_DRIVE_SPEC:			       ; ...
TRANGROUP:41F5		       mov     dl, 40h ; '@'
TRANGROUP:41F7
TRANGROUP:41F7 DRVSPEC5:			       ; ...
TRANGROUP:41F7		       or      dl, 20h
TRANGROUP:41FA		       sub     dl, 60h	       ; A = 1
TRANGROUP:41FD		       call    SAVUDIR1
TRANGROUP:4200		       jnb     short CURDIR_OK
TRANGROUP:4202		       call    get_ext_error_number
TRANGROUP:4205		       jmp     extend_setup
TRANGROUP:4208 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4208
TRANGROUP:4208 CURDIR_OK:			       ; ...
TRANGROUP:4208		       mov     dx, bp
TRANGROUP:420A		       add     dx, 5	       ; add dx,VARSTRUC.BUF
TRANGROUP:420D		       mov     bh, [bp+4]      ; [bp+VARSTRUC.INFO]
TRANGROUP:4210		       and     bh, 6
TRANGROUP:4213		       cmp     bh, 6
TRANGROUP:4216		       jnz     short CHECKAMB
TRANGROUP:4218		       mov     si, [bp+2]      ; [bp+VARSTRUC.TTAIL]
TRANGROUP:421B		       mov     bl, ':'         ; 3Ah
TRANGROUP:421D		       cmp     [si-2], bl
TRANGROUP:4220		       jnz     short KNOWNOTSPEC
TRANGROUP:4222		       mov     byte ptr	[bp+0],	2 ; [bp+VARSTRUC.ISDIR]
TRANGROUP:4226		       jmp     short DOPCDJ
TRANGROUP:4228 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4228
TRANGROUP:4228 KNOWNOTSPEC:			       ; ...
TRANGROUP:4228		       mov     byte ptr	[bp+0],	1
TRANGROUP:422C		       dec     si
TRANGROUP:422D
TRANGROUP:422D DOPCDJ:				       ; ...
TRANGROUP:422D		       jmp     DOPCD
TRANGROUP:4230 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4230
TRANGROUP:4230 CHECKAMB:			       ; ...
TRANGROUP:4230		       cmp     bh, 2
TRANGROUP:4233		       jnz     short CHECKCD
TRANGROUP:4235
TRANGROUP:4235 ISADEV:				       ; ...
TRANGROUP:4235		       mov     byte ptr	[bp+0],	0
TRANGROUP:4239		       retn
TRANGROUP:423A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:423A
TRANGROUP:423A CHECKCD:				       ; ...
TRANGROUP:423A		       call    SetRest1
TRANGROUP:423D		       mov     ah, 3Bh
TRANGROUP:423F		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:423F					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:4241		       jb      short NOTPDIR
TRANGROUP:4243		       mov     di, dx
TRANGROUP:4245		       xor     ax, ax
TRANGROUP:4247		       mov     cx, ax
TRANGROUP:4249		       dec     cx
TRANGROUP:424A
TRANGROUP:424A Kloop:				       ; ...
TRANGROUP:424A		       mov     al, es:[di]
TRANGROUP:424D		       inc     di
TRANGROUP:424E		       or      al, al
TRANGROUP:4250		       jz      short DONE
TRANGROUP:4252		       xor     ah, ah
TRANGROUP:4254		       call    testkanj
TRANGROUP:4257		       jz      short Kloop
TRANGROUP:4259		       inc     di
TRANGROUP:425A		       inc     ah
TRANGROUP:425C		       jmp     short Kloop
TRANGROUP:425E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:425E
TRANGROUP:425E DONE:				       ; ...
TRANGROUP:425E		       dec     di
TRANGROUP:425F		       mov     al, ds:DIRCHAR
TRANGROUP:4262		       mov     byte ptr	[bp+0],	2 ; [bp+VARSTRUC.ISDIR]
TRANGROUP:4266		       or      ah, ah
TRANGROUP:4268		       jnz     short _STORE_PCHAR
TRANGROUP:426A		       cmp     al, [di-1]
TRANGROUP:426D		       jz      short GOTSRCSLSH
TRANGROUP:426F
TRANGROUP:426F _STORE_PCHAR:			       ; ...
TRANGROUP:426F		       stosb
TRANGROUP:4270		       mov     byte ptr	[bp+0],	1
TRANGROUP:4274
TRANGROUP:4274 GOTSRCSLSH:			       ; ...
TRANGROUP:4274		       or      byte ptr	[bp+4],	6 ; [bp+VARSTRUC.INFO]
TRANGROUP:4278		       call    SETSTARS
TRANGROUP:427B
TRANGROUP:427B NOTPDIR_RETN:			       ; ...
TRANGROUP:427B		       retn
TRANGROUP:427C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:427C
TRANGROUP:427C NOTPDIR:				       ; ...
TRANGROUP:427C		       call    get_ext_error_number
TRANGROUP:427F		       cmp     ax, 3	       ; ERROR_PATH_NOT_FOUND
TRANGROUP:4282		       jz      short NOTPDIR_TRY
TRANGROUP:4284		       cmp     ax, 5	       ; ERROR_ACCESS_DENIED
TRANGROUP:4287		       jnz     short EXTEND_SETUPJ
TRANGROUP:4289
TRANGROUP:4289 NOTPDIR_TRY:			       ; ...
TRANGROUP:4289		       mov     byte ptr	[bp+0],	0 ; [bp+VARSTRUC.ISDIR]
TRANGROUP:428D		       mov     bh, [bp+4]      ; [bp+VARSTRUC.INFO]
TRANGROUP:4290		       test    bh, 4
TRANGROUP:4293		       jz      short NOTPDIR_RETN
TRANGROUP:4295		       mov     byte ptr	[bp+0],	2
TRANGROUP:4299		       mov     si, [bp+2]      ; [bp+VARSTRUC.TTAIL]
TRANGROUP:429C		       cmp     byte ptr	[si], 0
TRANGROUP:429F		       jz      short BADCDERRJ2
TRANGROUP:42A1		       mov     bl, 2Eh ; '.'
TRANGROUP:42A3		       cmp     [si], bl
TRANGROUP:42A5		       jz      short BADCDERRJ2
TRANGROUP:42A7		       mov     bl, 3Ah ; ':'
TRANGROUP:42A9		       cmp     [si-2], bl
TRANGROUP:42AC		       jz      short DOPCD
TRANGROUP:42AE		       mov     byte ptr	[bp+0],	1
TRANGROUP:42B2		       dec     si
TRANGROUP:42B3
TRANGROUP:42B3 DOPCD:				       ; ...
TRANGROUP:42B3		       xor     bl, bl
TRANGROUP:42B5		       xchg    bl, [si]
TRANGROUP:42B7		       call    SetRest1
TRANGROUP:42BA		       cmp     dx, si
TRANGROUP:42BC		       jnb     short LookBack
TRANGROUP:42BE		       push    si
TRANGROUP:42BF		       push    cx
TRANGROUP:42C0		       mov     cx, si
TRANGROUP:42C2		       mov     si, dx
TRANGROUP:42C4
TRANGROUP:42C4 Kloop2:				       ; ...
TRANGROUP:42C4		       lodsb
TRANGROUP:42C5		       call    testkanj
TRANGROUP:42C8		       jz      short NotKanj4
TRANGROUP:42CA		       lodsb
TRANGROUP:42CB		       cmp     si, cx
TRANGROUP:42CD		       jb      short Kloop2
TRANGROUP:42CF		       pop     cx
TRANGROUP:42D0		       pop     si
TRANGROUP:42D1		       jmp     short DoCdr
TRANGROUP:42D3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:42D3
TRANGROUP:42D3 NotKanj4:			       ; ...
TRANGROUP:42D3		       cmp     si, cx
TRANGROUP:42D5		       jb      short Kloop2
TRANGROUP:42D7		       pop     cx
TRANGROUP:42D8		       pop     si
TRANGROUP:42D9
TRANGROUP:42D9 LookBack:			       ; ...
TRANGROUP:42D9		       cmp     bl, [si-1]
TRANGROUP:42DC		       jz      short BADCDERRJ2
TRANGROUP:42DE
TRANGROUP:42DE DoCdr:				       ; ...
TRANGROUP:42DE		       mov     ah, 3Bh
TRANGROUP:42E0		       int     21h	       ; DOS - 2+ - CHANGE THE CURRENT DIRECTORY (CHDIR)
TRANGROUP:42E0					       ; DS:DX -> ASCIZ	directory name (may include drive)
TRANGROUP:42E2		       xchg    bl, [si]
TRANGROUP:42E4		       jnb     short NOTPDIR_RETN
TRANGROUP:42E6		       call    get_ext_error_number
TRANGROUP:42E9
TRANGROUP:42E9 EXTEND_SETUPJ:			       ; ...
TRANGROUP:42E9		       jmp     extend_setup
TRANGROUP:42EC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:42EC
TRANGROUP:42EC BADCDERRJ2:			       ; ...
TRANGROUP:42EC		       jmp     badpath_err
TRANGROUP:42EC BUILDPATH       endp
TRANGROUP:42EC
TRANGROUP:42EF
TRANGROUP:42EF ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:42EF
TRANGROUP:42EF
TRANGROUP:42EF SETSTARS	       proc near	       ; ...
TRANGROUP:42EF		       mov     [bp+2], di      ; [bp+VARSTRUC.TTAIL]
TRANGROUP:42F2		       add     byte ptr	[bp+1],	12 ; [bp+VARSTRUC.SIZ]
TRANGROUP:42F6		       mov     ax, '.?'        ; "?." ; dot_qmark ; 2E3Fh
TRANGROUP:42F9		       mov     cx, 8
TRANGROUP:42FC		       rep stosb
TRANGROUP:42FE		       xchg    al, ah
TRANGROUP:4300		       stosb
TRANGROUP:4301		       xchg    al, ah
TRANGROUP:4303		       mov     cl, 3
TRANGROUP:4305		       rep stosb
TRANGROUP:4307		       xor     al, al
TRANGROUP:4309		       stosb
TRANGROUP:430A		       retn
TRANGROUP:430A SETSTARS	       endp
TRANGROUP:430A
TRANGROUP:430B
TRANGROUP:430B ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:430B
TRANGROUP:430B
TRANGROUP:430B COMPNAME	       proc near	       ; ...
TRANGROUP:430B		       mov     si, offset DestBuf
TRANGROUP:430E		       mov     di, offset TRGXNAME
TRANGROUP:4311		       mov     ah, 60h	       ; XNAMETRANS
TRANGROUP:4313		       int     21h	       ; DOS - RESOLVE PATH STRING TO CANONICAL	PATH STRING
TRANGROUP:4313					       ; DS:SI -> ASCIZ	relative path string or	directory name
TRANGROUP:4313					       ; ES:DI -> 128-byte buffer for ASCIZ canonical fully qualified name
TRANGROUP:4315		       mov     si, offset SRCXNAME
TRANGROUP:4318		       mov     di, offset TRGXNAME
TRANGROUP:431B		       call    STRCOMP
TRANGROUP:431E		       retn
TRANGROUP:431E COMPNAME	       endp
TRANGROUP:431E
TRANGROUP:431F
TRANGROUP:431F ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:431F
TRANGROUP:431F
TRANGROUP:431F cparse	       proc near	       ; ...
TRANGROUP:431F		       xor     ax, ax
TRANGROUP:4321		       mov     ds:STARTEL, di
TRANGROUP:4325		       mov     ds:ELPOS, al
TRANGROUP:4328		       mov     ds:SKPDEL, al
TRANGROUP:432B		       mov     bh, al
TRANGROUP:432D		       pushf
TRANGROUP:432E		       push    di
TRANGROUP:432F		       xor     cx, cx
TRANGROUP:4331		       mov     ds:comma, cl
TRANGROUP:4335
TRANGROUP:4335 moredelim:			       ; ...
TRANGROUP:4335		       lodsb
TRANGROUP:4336		       call    DELIM
TRANGROUP:4339		       jnz     short SCANCDONE
TRANGROUP:433B		       cmp     al, 20h ; ' '
TRANGROUP:433D		       jz      short moredelim
TRANGROUP:433F		       cmp     al, 9
TRANGROUP:4341		       jz      short moredelim
TRANGROUP:4343		       xchg    al, ds:SKPDEL
TRANGROUP:4347		       or      al, al
TRANGROUP:4349		       jz      short moredelim
TRANGROUP:434B		       test    bh, 80h
TRANGROUP:434E		       jz      short no_comma
TRANGROUP:4350		       mov     ds:comma, 1
TRANGROUP:4355
TRANGROUP:4355 no_comma:			       ; ...
TRANGROUP:4355		       jmp     x_done
TRANGROUP:4358 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4358
TRANGROUP:4358 SCANCDONE:			       ; ...
TRANGROUP:4358		       cmp     al, bl
TRANGROUP:435A		       jnz     short nospec
TRANGROUP:435C		       or      bh, 80h
TRANGROUP:435F		       jmp     short moredelim
TRANGROUP:4361 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4361
TRANGROUP:4361 nospec:				       ; ...
TRANGROUP:4361		       cmp     al, 0Dh
TRANGROUP:4363		       jnz     short ncperror
TRANGROUP:4365		       jmp     cperror
TRANGROUP:4368 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4368
TRANGROUP:4368 ncperror:			       ; ...
TRANGROUP:4368		       cmp     al, ds:SWITCHAR
TRANGROUP:436C		       jnz     short na_switch
TRANGROUP:436E		       jmp     a_switch
TRANGROUP:4371 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4371
TRANGROUP:4371 na_switch:			       ; ...
TRANGROUP:4371		       mov     dl, ':'
TRANGROUP:4373		       cmp     [si], dl
TRANGROUP:4375		       jnz     short anum_chard
TRANGROUP:4377		       cmp     ds:cpyflag, 1
TRANGROUP:437C		       jnz     short cpcont2
TRANGROUP:437E		       call    UPCONV
TRANGROUP:4381
TRANGROUP:4381 cpcont2:				       ; ...
TRANGROUP:4381		       call    move_char
TRANGROUP:4384		       lodsb
TRANGROUP:4385		       call    move_char
TRANGROUP:4388		       mov     ds:STARTEL, di
TRANGROUP:438C		       mov     ds:ELCNT, 0
TRANGROUP:4391		       jmp     anum_test
TRANGROUP:4394 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4394
TRANGROUP:4394 anum_chard:			       ; ...
TRANGROUP:4394		       mov     ds:STARTEL, di
TRANGROUP:4398		       mov     ds:ELCNT, 0
TRANGROUP:439D		       cmp     ds:cpyflag, 1
TRANGROUP:43A2		       jnz     short anum_char
TRANGROUP:43A4		       call    pathchrcmp
TRANGROUP:43A7		       jnz     short anum_char
TRANGROUP:43A9		       push    ax
TRANGROUP:43AA		       mov     al, ds:CURDRV
TRANGROUP:43AD		       add     al, 'A'         ; 41h
TRANGROUP:43AF		       call    move_char
TRANGROUP:43B2		       mov     al, ':'         ; 3Ah
TRANGROUP:43B4		       call    move_char
TRANGROUP:43B7		       pop     ax
TRANGROUP:43B8		       mov     ds:STARTEL, di
TRANGROUP:43BC		       mov     ds:ELCNT, 0
TRANGROUP:43C1
TRANGROUP:43C1 anum_char:			       ; ...
TRANGROUP:43C1		       call    testkanj
TRANGROUP:43C4		       jz      short NOTKANJ
TRANGROUP:43C6		       call    move_char
TRANGROUP:43C9		       lodsb
TRANGROUP:43CA		       jmp     short notspecial
TRANGROUP:43CC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:43CC
TRANGROUP:43CC NOTKANJ:				       ; ...
TRANGROUP:43CC		       cmp     ds:cpyflag, 1
TRANGROUP:43D1		       jnz     short TESTDOT
TRANGROUP:43D3		       call    UPCONV
TRANGROUP:43D6
TRANGROUP:43D6 TESTDOT:				       ; ...
TRANGROUP:43D6		       cmp     al, 2Eh ; '.'   ; dot_chr
TRANGROUP:43D8		       jnz     short testquest
TRANGROUP:43DA		       inc     ds:ELPOS
TRANGROUP:43DE		       mov     ds:ELCNT, 0FFh
TRANGROUP:43E3
TRANGROUP:43E3 testquest:			       ; ...
TRANGROUP:43E3		       cmp     al, 3Fh ; '?'
TRANGROUP:43E5		       jnz     short testsplat
TRANGROUP:43E7		       or      bh, 2
TRANGROUP:43EA
TRANGROUP:43EA testsplat:			       ; ...
TRANGROUP:43EA		       cmp     al, 2Ah ; '*'   ; star
TRANGROUP:43EC		       jnz     short testpath
TRANGROUP:43EE		       or      bh, 2
TRANGROUP:43F1		       cmp     ds:expand_star, 0
TRANGROUP:43F6		       jnz     short expand_filename
TRANGROUP:43F8		       jmp     short testpath
TRANGROUP:43FA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:43FA
TRANGROUP:43FA BADPERR2J:			       ; ...
TRANGROUP:43FA		       jmp     short BADPERR2
TRANGROUP:43FC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:43FC
TRANGROUP:43FC expand_filename:			       ; ...
TRANGROUP:43FC		       mov     ah, 7
TRANGROUP:43FE		       cmp     ds:ELPOS, 0
TRANGROUP:4403		       jz      short gotelcnt
TRANGROUP:4405		       mov     ah, 2
TRANGROUP:4407
TRANGROUP:4407 gotelcnt:			       ; ...
TRANGROUP:4407		       mov     al, 3Fh ; '?'
TRANGROUP:4409		       sub     ah, ds:ELCNT
TRANGROUP:440D		       jb      short BADPERR2J
TRANGROUP:440F		       xchg    ah, cl
TRANGROUP:4411		       jcxz    short testpathx
TRANGROUP:4413
TRANGROUP:4413 qmove:				       ; ...
TRANGROUP:4413		       xchg    ah, cl
TRANGROUP:4415		       call    move_char
TRANGROUP:4418		       xchg    ah, cl
TRANGROUP:441A		       loop    qmove
TRANGROUP:441C
TRANGROUP:441C testpathx:			       ; ...
TRANGROUP:441C		       xchg    ah, cl
TRANGROUP:441E
TRANGROUP:441E testpath:			       ; ...
TRANGROUP:441E		       call    pathchrcmp
TRANGROUP:4421		       jnz     short notspecial
TRANGROUP:4423		       or      bh, 4
TRANGROUP:4426		       cmp     ds:expand_star, 0
TRANGROUP:442B		       jz      short no_err_check
TRANGROUP:442D		       test    bh, 2
TRANGROUP:4430		       jnz     short BADPERR
TRANGROUP:4432
TRANGROUP:4432 no_err_check:			       ; ...
TRANGROUP:4432		       mov     ds:STARTEL, di
TRANGROUP:4436		       inc     ds:STARTEL
TRANGROUP:443A		       mov     ds:ELCNT, 0FFh
TRANGROUP:443F		       mov     ds:ELPOS, 0
TRANGROUP:4444
TRANGROUP:4444 notspecial:			       ; ...
TRANGROUP:4444		       call    move_char
TRANGROUP:4447
TRANGROUP:4447 anum_test:			       ; ...
TRANGROUP:4447		       lodsb
TRANGROUP:4448		       call    DELIM
TRANGROUP:444B		       jz      short x_done
TRANGROUP:444D		       cmp     al, 0Dh
TRANGROUP:444F		       jz      short x_done
TRANGROUP:4451		       cmp     al, ds:SWITCHAR
TRANGROUP:4455		       jz      short x_done
TRANGROUP:4457		       cmp     al, bl
TRANGROUP:4459		       jz      short x_done
TRANGROUP:445B		       cmp     al, ':'
TRANGROUP:445D		       jz      short FOO15
TRANGROUP:445F		       jmp     anum_char
TRANGROUP:4462 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4462
TRANGROUP:4462 FOO15:				       ; ...
TRANGROUP:4462		       cmp     ds:cpyflag, 2
TRANGROUP:4467		       jnz     short cpcont4
TRANGROUP:4469		       call    move_char
TRANGROUP:446C		       jmp     short anum_test
TRANGROUP:446E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:446E
TRANGROUP:446E cpcont4:				       ; ...
TRANGROUP:446E		       inc     si
TRANGROUP:446F		       jmp     short x_done
TRANGROUP:4471 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4471		       jmp     anum_char
TRANGROUP:4474 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4474
TRANGROUP:4474 BADPERR2:			       ; ...
TRANGROUP:4474		       mov     dx, offset BADCPMES_PTR
TRANGROUP:4477		       jmp     cerror
TRANGROUP:447A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:447A
TRANGROUP:447A BADPERR:				       ; ...
TRANGROUP:447A		       mov     dx, offset badcd_ptr
TRANGROUP:447D		       jmp     cerror
TRANGROUP:4480 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4480
TRANGROUP:4480 cperror:				       ; ...
TRANGROUP:4480		       dec     si
TRANGROUP:4481		       pop     di
TRANGROUP:4482		       popf
TRANGROUP:4483		       stc
TRANGROUP:4484		       retn
TRANGROUP:4485 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4485
TRANGROUP:4485 x_done:				       ; ...
TRANGROUP:4485		       dec     si
TRANGROUP:4486		       jmp     short out_token
TRANGROUP:4488 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4488
TRANGROUP:4488 a_switch:			       ; ...
TRANGROUP:4488		       or      bh, 1
TRANGROUP:448B		       or      bp, 8000h       ; FSWITCH
TRANGROUP:448F		       call    scanoff
TRANGROUP:4492		       inc     si
TRANGROUP:4493		       call    testkanj
TRANGROUP:4496		       jz      short a_switch_notkanj
TRANGROUP:4498		       call    move_char
TRANGROUP:449B		       lodsb
TRANGROUP:449C		       call    move_char
TRANGROUP:449F		       or      bp, 4000h       ; FBADSWITCH
TRANGROUP:44A3		       jmp     short out_token
TRANGROUP:44A5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:44A5
TRANGROUP:44A5 a_switch_notkanj:		       ; ...
TRANGROUP:44A5		       cmp     al, 0Dh
TRANGROUP:44A7		       jnz     short Store_swt
TRANGROUP:44A9		       mov     al, 0
TRANGROUP:44AB		       stosb
TRANGROUP:44AC		       or      bp, 4000h
TRANGROUP:44B0		       jmp     short cperror
TRANGROUP:44B2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:44B2
TRANGROUP:44B2 Store_swt:			       ; ...
TRANGROUP:44B2		       call    move_char
TRANGROUP:44B5		       call    UPCONV
TRANGROUP:44B8		       push    es
TRANGROUP:44B9		       push    di
TRANGROUP:44BA		       push    cx
TRANGROUP:44BB		       push    cs
TRANGROUP:44BC		       pop     es
TRANGROUP:44BD		       assume es:TRANGROUP
TRANGROUP:44BD		       mov     di, offset switch_list ;	"?VBAPW"
TRANGROUP:44C0		       mov     cx, 6	       ; SWCOUNT
TRANGROUP:44C3		       or      bp, 4000h       ; FBADSWITCH
TRANGROUP:44C7		       repne scasb
TRANGROUP:44C9		       jnz     short out_tokenp
TRANGROUP:44CB		       and     bp, 0BFFFh      ; ~FBADSWITCH ; not FBADSWITCH
TRANGROUP:44CF		       mov     ax, 1
TRANGROUP:44D2		       shl     ax, cl
TRANGROUP:44D4		       or      bp, ax
TRANGROUP:44D6
TRANGROUP:44D6 out_tokenp:			       ; ...
TRANGROUP:44D6		       pop     cx
TRANGROUP:44D7		       pop     di
TRANGROUP:44D8		       pop     es
TRANGROUP:44D9		       assume es:nothing
TRANGROUP:44D9
TRANGROUP:44D9 out_token:			       ; ...
TRANGROUP:44D9		       mov     al, 0
TRANGROUP:44DB		       stosb
TRANGROUP:44DC		       pop     di
TRANGROUP:44DD		       popf
TRANGROUP:44DE		       clc
TRANGROUP:44DF		       retn
TRANGROUP:44DF cparse	       endp
TRANGROUP:44DF
TRANGROUP:44E0
TRANGROUP:44E0 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:44E0
TRANGROUP:44E0
TRANGROUP:44E0 move_char       proc near	       ; ...
TRANGROUP:44E0		       stosb
TRANGROUP:44E1		       inc     cx
TRANGROUP:44E2		       inc     ds:ELCNT
TRANGROUP:44E6		       retn
TRANGROUP:44E6 move_char       endp
TRANGROUP:44E6
TRANGROUP:44E7
TRANGROUP:44E7 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:44E7
TRANGROUP:44E7
TRANGROUP:44E7 sysparse	       proc near	       ; ...
TRANGROUP:44E7		       mov     word ptr	cs:$P_Flags, 0 ; mov psdata_seg:$P_Flags,0
TRANGROUP:44EE		       mov     cs:$P_ORIG_ORD, cx ; MOV	PSDATA_SEG:$P_ORIG_ORD,CX
TRANGROUP:44F3		       mov     cs:$P_ORIG_STACK, sp
TRANGROUP:44F8		       mov     cs:$P_ORIG_SI, si
TRANGROUP:44FD
TRANGROUP:44FD $P_Redo_Time:			       ; ...
TRANGROUP:44FD		       cld
TRANGROUP:44FE		       mov     cs:$P_ORDINAL, cx ; mov psdata_seg:$P_ordinal,cx
TRANGROUP:4503		       mov     cs:$P_RC, 0     ; mov psdata_seg:$P_RC,$P_No_Error
TRANGROUP:450A		       mov     cs:$P_Found_SYNONYM, 0 ;	mov psdata_seg:$P_Found_SYNONYM,0
TRANGROUP:4511		       mov     cs:$P_DX, 0     ; mov word ptr psdata_seg:$P_DX,0
TRANGROUP:4518		       mov     word ptr	cs:$P_FileSp_Char, '][' ; "[]|<>+=;\""
TRANGROUP:451F		       mov     word ptr	cs:$P_FileSp_Char+2, '<|'
TRANGROUP:4526		       mov     word ptr	cs:$P_FileSp_Char+4, '+>'
TRANGROUP:452D		       mov     word ptr	cs:$P_FileSp_Char+6, ';='
TRANGROUP:4534		       call    $P_Skip_Delim
TRANGROUP:4537		       jnb     short $P_Start
TRANGROUP:4539		       mov     ax, 0FFFFh      ; $P_RC_EOL
TRANGROUP:453C		       push    bx
TRANGROUP:453D		       mov     bx, es:[di]     ; es:[di].$P_PARMSX_Address
TRANGROUP:4540		       cmp     cl, es:[bx]     ; es:[bx].$P_MinP
TRANGROUP:4543		       jnb     short $P_Fin
TRANGROUP:4545		       mov     ax, 2	       ; $P_Op_Missing
TRANGROUP:4548
TRANGROUP:4548 $P_Fin:				       ; ...
TRANGROUP:4548		       pop     bx
TRANGROUP:4549		       jmp     $P_Single_Exit
TRANGROUP:454C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:454C
TRANGROUP:454C $P_Start:			       ; ...
TRANGROUP:454C		       mov     cs:$P_SaveSI_Cmpx, si ; mov psdata_seg:$P_SaveSI_Cmpx,si
TRANGROUP:4551		       push    bx
TRANGROUP:4552		       push    di
TRANGROUP:4553		       push    bp
TRANGROUP:4554		       lea     bx, $P_STRING_BUF
TRANGROUP:4558		       test    cs:$P_Flags2, 20h ; $P_Extra
TRANGROUP:455E		       jnz     short $P_Pack_End
TRANGROUP:4560
TRANGROUP:4560 $P_Pack_Loop:			       ; ...
TRANGROUP:4560		       lodsb
TRANGROUP:4561		       call    $P_Chk_Switch
TRANGROUP:4564		       jb      short $P_Pack_End_BY_EOL
TRANGROUP:4566		       call    $P_Chk_EOL
TRANGROUP:4569		       jz      short $P_Pack_End_BY_EOL
TRANGROUP:456B		       call    $P_Chk_Delim
TRANGROUP:456E		       jnz     short $P_PL01
TRANGROUP:4570		       test    cs:$P_Flags2, 20h ; test	psdata_seg:$P_Flags2,$P_Extra
TRANGROUP:4576		       jnz     short $P_Pack_End_backup_si
TRANGROUP:4578		       call    $P_Skip_Delim
TRANGROUP:457B		       jmp     short $P_Pack_End
TRANGROUP:457D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:457D
TRANGROUP:457D $P_Pack_End_backup_si:		       ; ...
TRANGROUP:457D		       test    cs:$P_Flags2, 41h ; test	psdata_seg:$P_Flags2,$P_SW+$P_equ
TRANGROUP:4583		       jz      short $P_Pack_End
TRANGROUP:4585		       dec     si
TRANGROUP:4586		       jmp     short $P_Pack_End
TRANGROUP:4588 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4588
TRANGROUP:4588 $P_PL01:				       ; ...
TRANGROUP:4588		       mov     cs:[bx],	al     ; mov psdata_seg:[bx],al
TRANGROUP:458B		       cmp     al, '='         ; cmp al,$P_Keyword
TRANGROUP:458D		       jnz     short $P_PL00
TRANGROUP:458F		       or      cs:$P_Flags2, 1 ; or psdata_seg:$P_Flags2,$P_equ
TRANGROUP:4595
TRANGROUP:4595 $P_PL00:				       ; ...
TRANGROUP:4595		       inc     bx
TRANGROUP:4596		       call    $P_Chk_DBCS
TRANGROUP:4599		       jnb     short $P_Pack_Loop
TRANGROUP:459B		       lodsb
TRANGROUP:459C		       mov     cs:[bx],	al     ; mov psdata_seg:[bx],al
TRANGROUP:459F		       inc     bx
TRANGROUP:45A0		       jmp     short $P_Pack_Loop
TRANGROUP:45A2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:45A2
TRANGROUP:45A2 $P_Pack_End_BY_EOL:		       ; ...
TRANGROUP:45A2		       dec     si
TRANGROUP:45A3
TRANGROUP:45A3 $P_Pack_End:			       ; ...
TRANGROUP:45A3		       mov     cs:$P_SI_Save, si
TRANGROUP:45A8		       mov     byte ptr	cs:[bx], 0 ; mov byte ptr psdata_seg:[bx],$P_NULL
TRANGROUP:45AC		       mov     cs:$P_Save_EOB, bx
TRANGROUP:45B1		       mov     bx, es:[di]     ; es:[di].$P_PARMSX_Address
TRANGROUP:45B4		       lea     si, $P_STRING_BUF ; lea si,psdata_seg:$P_STRING_BUF
TRANGROUP:45B4					       ; (lea si,ds:88D9h)
TRANGROUP:45B8		       cmp     byte ptr	cs:[si], '/' ; psdata_seg:[si],$P_Switch
TRANGROUP:45BC		       jz      short $P_SW_Manager
TRANGROUP:45BE		       cmp     byte ptr	cs:[si], '"' ; psdata_seg:[si],$P_DQuote
TRANGROUP:45C2		       jz      short $P_Positional_Manager
TRANGROUP:45C4		       test    cs:$P_Flags2, 1 ; test psdata_seg:$P_Flags2,$P_equ
TRANGROUP:45CA		       jnz     short $P_Key_Manager
TRANGROUP:45CC
TRANGROUP:45CC $P_Positional_Manager:		       ; ...
TRANGROUP:45CC		       mov     al, es:[bx+1]   ; es:[bx].$P_MaxP
TRANGROUP:45D0		       xor     ah, ah
TRANGROUP:45D2		       cmp     cs:$P_ORDINAL, ax ; psdata_seg:$P_ORDINAL,ax
TRANGROUP:45D7		       jnb     short $P_Too_Many_Error
TRANGROUP:45D9		       mov     ax, cs:$P_ORDINAL ; psdata_seg:$P_ORDINAL
TRANGROUP:45DD		       shl     ax, 1
TRANGROUP:45DF		       inc     bx
TRANGROUP:45E0		       inc     bx
TRANGROUP:45E1		       add     bx, ax
TRANGROUP:45E3		       mov     bx, es:[bx]
TRANGROUP:45E6		       call    $P_Chk_Pos_Control
TRANGROUP:45E9		       jmp     short $P_Return_to_Caller
TRANGROUP:45EB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:45EB
TRANGROUP:45EB $P_Too_Many_Error:		       ; ...
TRANGROUP:45EB		       mov     cs:$P_RC, 1     ; psdata_seg:$P_RC,$P_Too_Many
TRANGROUP:45F2		       jmp     short $P_Return_to_Caller
TRANGROUP:45F4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:45F4
TRANGROUP:45F4 $P_SW_Manager:			       ; ...
TRANGROUP:45F4		       mov     al, es:[bx+1]   ; mov al,[es:bx+$P_PARMSX_BLK.$P_MaxP]
TRANGROUP:45F8		       xor     ah, ah
TRANGROUP:45FA		       inc     ax
TRANGROUP:45FB		       shl     ax, 1
TRANGROUP:45FD		       add     bx, ax
TRANGROUP:45FF		       mov     cl, es:[bx]
TRANGROUP:4602		       xor     ch, ch
TRANGROUP:4604		       or      cx, cx
TRANGROUP:4606		       jz      short $P_SW_Not_Found
TRANGROUP:4608		       inc     bx
TRANGROUP:4609
TRANGROUP:4609 $P_SW_Mgr_Loop:			       ; ...
TRANGROUP:4609		       push    bx
TRANGROUP:460A		       mov     bx, es:[bx]
TRANGROUP:460D		       call    $P_Chk_SW_Control
TRANGROUP:4610		       pop     bx
TRANGROUP:4611		       jnb     short $P_Return_to_Caller
TRANGROUP:4613		       inc     bx
TRANGROUP:4614		       inc     bx
TRANGROUP:4615		       loop    $P_SW_Mgr_Loop
TRANGROUP:4617
TRANGROUP:4617 $P_SW_Not_Found:			       ; ...
TRANGROUP:4617		       mov     cs:$P_RC, 3     ; psdata_seg:$P_RC,$P_Not_In_SW
TRANGROUP:461E		       jmp     short $P_Return_to_Caller
TRANGROUP:4620 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4620
TRANGROUP:4620 $P_Key_Manager:			       ; ...
TRANGROUP:4620		       mov     al, es:[bx+1]   ; es:[bx].$P_MaxP
TRANGROUP:4624		       xor     ah, ah
TRANGROUP:4626		       inc     ax
TRANGROUP:4627		       shl     ax, 1
TRANGROUP:4629		       add     bx, ax
TRANGROUP:462B		       mov     al, es:[bx]
TRANGROUP:462E		       xor     ah, ah
TRANGROUP:4630		       shl     ax, 1
TRANGROUP:4632		       inc     ax
TRANGROUP:4633		       add     bx, ax
TRANGROUP:4635		       mov     cl, es:[bx]
TRANGROUP:4638		       xor     ch, ch
TRANGROUP:463A		       or      cx, cx
TRANGROUP:463C		       jz      short $P_Key_Not_Found
TRANGROUP:463E		       inc     bx
TRANGROUP:463F
TRANGROUP:463F $P_Key_Mgr_Loop:			       ; ...
TRANGROUP:463F		       push    bx
TRANGROUP:4640		       mov     bx, es:[bx]
TRANGROUP:4643		       call    $P_Chk_Key_Control
TRANGROUP:4646		       pop     bx
TRANGROUP:4647		       jnb     short $P_Return_to_Caller
TRANGROUP:4649		       inc     bx
TRANGROUP:464A		       inc     bx
TRANGROUP:464B		       loop    $P_Key_Mgr_Loop
TRANGROUP:464D
TRANGROUP:464D $P_Key_Not_Found:		       ; ...
TRANGROUP:464D		       mov     cs:$P_RC, 4     ; psdata_seg:$P_RC,$P_Not_In_Key
TRANGROUP:4654
TRANGROUP:4654 $P_Return_to_Caller:		       ; ...
TRANGROUP:4654		       pop     bp
TRANGROUP:4655		       pop     di
TRANGROUP:4656		       pop     bx
TRANGROUP:4657		       mov     cx, cs:$P_ORDINAL ; mov cx,psdata_seg:$P_Ordinal
TRANGROUP:465C		       mov     ax, cs:$P_RC
TRANGROUP:4660		       mov     si, cs:$P_SI_Save ; mov si,psdata_seg:$P_SI_Save
TRANGROUP:4665		       mov     dx, cs:$P_DX
TRANGROUP:466A		       mov     bl, cs:$P_Terminator
TRANGROUP:466F
TRANGROUP:466F $P_Single_Exit:			       ; ...
TRANGROUP:466F		       clc
TRANGROUP:4670		       retn
TRANGROUP:4670 sysparse	       endp ; sp =  2
TRANGROUP:4670
TRANGROUP:4671
TRANGROUP:4671 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4671
TRANGROUP:4671
TRANGROUP:4671 $P_Chk_Pos_Control proc near	       ; ...
TRANGROUP:4671		       push    ax
TRANGROUP:4672		       mov     ax, es:[bx]     ; [es:bx+$P_CONTROL_BLK.$P_Match_Flag]
TRANGROUP:4675		       test    ax, 2	       ; $P_Repeat
TRANGROUP:4678		       jnz     short $P_CPC00
TRANGROUP:467A		       inc     cs:$P_ORDINAL
TRANGROUP:467F
TRANGROUP:467F $P_CPC00:			       ; ...
TRANGROUP:467F		       cmp     byte ptr	cs:[si], 0 ; $P_NULL
TRANGROUP:4683		       jnz     short $P_CPC01
TRANGROUP:4685		       test    ax, 1	       ; $P_Optional
TRANGROUP:4688		       jnz     short $P_CPC02
TRANGROUP:468A		       mov     cs:$P_RC, 2     ; $P_Op_Missing
TRANGROUP:4691		       jmp     short $P_CPC_Exit
TRANGROUP:4693 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4693
TRANGROUP:4693 $P_CPC02:			       ; ...
TRANGROUP:4693		       push    ax
TRANGROUP:4694		       mov     al, 3	       ; $P_String
TRANGROUP:4696		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:4698		       call    $P_Fill_Result
TRANGROUP:469B		       pop     ax
TRANGROUP:469C		       jmp     short $P_CPC_Exit
TRANGROUP:469E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:469E
TRANGROUP:469E $P_CPC01:			       ; ...
TRANGROUP:469E		       call    $P_Check_Match_Flags
TRANGROUP:46A1
TRANGROUP:46A1 $P_CPC_Exit:			       ; ...
TRANGROUP:46A1		       pop     ax
TRANGROUP:46A2		       retn
TRANGROUP:46A2 $P_Chk_Pos_Control endp
TRANGROUP:46A2
TRANGROUP:46A3
TRANGROUP:46A3 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:46A3
TRANGROUP:46A3
TRANGROUP:46A3 $P_Chk_Key_Control proc near	       ; ...
TRANGROUP:46A3		       stc
TRANGROUP:46A4		       retn
TRANGROUP:46A4 $P_Chk_Key_Control endp
TRANGROUP:46A4
TRANGROUP:46A5
TRANGROUP:46A5 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:46A5
TRANGROUP:46A5
TRANGROUP:46A5 $P_Search_KEYorSW proc near	       ; ...
TRANGROUP:46A5		       push    bp
TRANGROUP:46A6		       push    cx
TRANGROUP:46A7		       mov     cl, es:[bx+8]   ; [es:bx+$P_CONTROL_BLK.$P_nid]
TRANGROUP:46AB		       xor     ch, ch
TRANGROUP:46AD		       or      cx, cx
TRANGROUP:46AF		       jz      short $P_KEYorSW_Not_Found
TRANGROUP:46B1		       lea     bp, [bx+9]      ; [es:bx+$P_CONTROL_BLK.$P_KEYorSW]
TRANGROUP:46B4
TRANGROUP:46B4 $P_KEYorSW_Loop:			       ; ...
TRANGROUP:46B4		       call    $P_String_Comp
TRANGROUP:46B7		       jnb     short $P_KEYorSW_Found
TRANGROUP:46B9		       call    $P_MoveBP_NUL
TRANGROUP:46BC		       loop    $P_KEYorSW_Loop
TRANGROUP:46BE
TRANGROUP:46BE $P_KEYorSW_Not_Found:		       ; ...
TRANGROUP:46BE		       stc
TRANGROUP:46BF		       jmp     short $P_KEYorSW_Exit
TRANGROUP:46C1 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:46C1
TRANGROUP:46C1 $P_KEYorSW_Found:		       ; ...
TRANGROUP:46C1		       mov     cs:$P_Found_SYNONYM, bp
TRANGROUP:46C6		       clc
TRANGROUP:46C7
TRANGROUP:46C7 $P_KEYorSW_Exit:			       ; ...
TRANGROUP:46C7		       pop     cx
TRANGROUP:46C8		       pop     bp
TRANGROUP:46C9		       retn
TRANGROUP:46C9 $P_Search_KEYorSW endp
TRANGROUP:46C9
TRANGROUP:46CA
TRANGROUP:46CA ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:46CA
TRANGROUP:46CA
TRANGROUP:46CA $P_MoveBP_NUL   proc near	       ; ...
TRANGROUP:46CA		       cmp     byte ptr	es:[bp+0], 0 ; $P_NULL
TRANGROUP:46CF		       jz      short $P_MBP_Exit
TRANGROUP:46D1		       inc     bp
TRANGROUP:46D2		       jmp     short $P_MoveBP_NUL
TRANGROUP:46D4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:46D4
TRANGROUP:46D4 $P_MBP_Exit:			       ; ...
TRANGROUP:46D4		       inc     bp
TRANGROUP:46D5		       retn
TRANGROUP:46D5 $P_MoveBP_NUL   endp
TRANGROUP:46D5
TRANGROUP:46D6
TRANGROUP:46D6 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:46D6
TRANGROUP:46D6
TRANGROUP:46D6 $P_Chk_SW_Control proc near	       ; ...
TRANGROUP:46D6		       or      cs:$P_Flags2, 10h ; or psdata_seg:$P_Flags2,$P_Sw_Cmp
TRANGROUP:46DC		       call    $P_Search_KEYorSW
TRANGROUP:46DF		       jb      short $P_Chk_SW_Err0
TRANGROUP:46E1		       and     cs:$P_Flags2, 0EFh ; and	psdata_seg:$P_Flags2,0ffh-$P_Sw_Cmp
TRANGROUP:46E7		       push    ax
TRANGROUP:46E8		       mov     ax, cs:$P_KEYorSW_Ptr ; psdata_seg:$P_KEYorSW_Ptr
TRANGROUP:46EC		       sub     ax, si
TRANGROUP:46EE		       add     cs:$P_SaveSI_Cmpx, ax
TRANGROUP:46F3		       pop     ax
TRANGROUP:46F4		       mov     si, cs:$P_KEYorSW_Ptr
TRANGROUP:46F9		       cmp     byte ptr	cs:[si], 0 ; psdata_seg:[si],$P_NULL
TRANGROUP:46FD		       jnz     short $P_CSW00
TRANGROUP:46FF		       cmp     byte ptr	cs:[si-1], ':' ; psdata_seg:[si-1],$P_Colon
TRANGROUP:4704		       jnz     short $P_Chk_if_data_required
TRANGROUP:4706		       mov     cs:$P_RC, 9     ; psdata_seg:$P_RC,$P_Syntax
TRANGROUP:470D		       jmp     short $P_Chk_SW_Exit
TRANGROUP:470F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:470F
TRANGROUP:470F $P_Chk_if_data_required:		       ; ...
TRANGROUP:470F		       cmp     word ptr	es:[bx], 0 ; cmp es:[bx].$P_Match_Flag,0
TRANGROUP:4713		       jz      short $P_Chk_SW_Exit
TRANGROUP:4715		       test    word ptr	es:[bx], 1 ; test es:[bx].$P_Match_Flag,$P_Optional
TRANGROUP:471A		       jnz     short $P_Chk_SW_Exit
TRANGROUP:471C		       mov     cs:$P_RC, 2     ; mov psdata_seg:$P_RC,$P_Op_Missing
TRANGROUP:4723		       jmp     short $P_Chk_SW_Exit
TRANGROUP:4725 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4725
TRANGROUP:4725 $P_CSW00:			       ; ...
TRANGROUP:4725		       call    $P_Check_Match_Flags
TRANGROUP:4728		       clc
TRANGROUP:4729		       jmp     short $P_Chk_SW_Single_Exit
TRANGROUP:472B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:472B
TRANGROUP:472B $P_Chk_SW_Err0:			       ; ...
TRANGROUP:472B		       stc
TRANGROUP:472C		       jmp     short $P_Chk_SW_Single_Exit
TRANGROUP:472E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:472E
TRANGROUP:472E $P_Chk_SW_Exit:			       ; ...
TRANGROUP:472E		       push    ax
TRANGROUP:472F		       mov     al, 3	       ; mov al,$P_String
TRANGROUP:4731		       mov     ah, 0FFh	       ; mov ah,$P_No_Tag
TRANGROUP:4733		       call    $P_Fill_Result
TRANGROUP:4736		       pop     ax
TRANGROUP:4737		       clc
TRANGROUP:4738
TRANGROUP:4738 $P_Chk_SW_Single_Exit:		       ; ...
TRANGROUP:4738		       retn
TRANGROUP:4738 $P_Chk_SW_Control endp
TRANGROUP:4738
TRANGROUP:4739
TRANGROUP:4739 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4739
TRANGROUP:4739
TRANGROUP:4739 $P_Fill_Result  proc near	       ; ...
TRANGROUP:4739		       push    di
TRANGROUP:473A		       mov     di, es:[bx+4]   ; [es:bx+$P_CONTROL_BLK.$P_Result_Buf]
TRANGROUP:473E		       mov     cs:$P_DX, di
TRANGROUP:4743		       mov     es:[di],	al     ; [es:di+$P_RESULT_BLK.$P_Type]
TRANGROUP:4746		       mov     es:[di+1], ah   ; [es:di+$P_RESULT_BLK.$P_Item_Tag]
TRANGROUP:474A		       push    ax
TRANGROUP:474B		       mov     ax, cs:$P_Found_SYNONYM
TRANGROUP:474F		       mov     es:[di+2], ax
TRANGROUP:4753		       pop     ax
TRANGROUP:4754		       cmp     al, 1	       ; $P_Number
TRANGROUP:4756		       jnz     short $P_RLT00
TRANGROUP:4758
TRANGROUP:4758 $P_RLT02:			       ; ...
TRANGROUP:4758		       mov     es:[di+4], dx   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:475C		       mov     es:[di+6], cx   ; [es:di+2+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:4760		       jmp     short $P_RLT_Exit
TRANGROUP:4762 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4762
TRANGROUP:4762 $P_RLT00:			       ; ...
TRANGROUP:4762		       cmp     al, 2	       ; $P_List_Idx
TRANGROUP:4764		       jnz     short $P_RLT01
TRANGROUP:4766		       mov     es:[di+4], dx   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:476A		       jmp     short $P_RLT_Exit
TRANGROUP:476C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:476C
TRANGROUP:476C $P_RLT01:			       ; ...
TRANGROUP:476C		       cmp     al, 7	       ; $P_Date_F
TRANGROUP:476E		       jz      short $P_RLT02
TRANGROUP:4770		       cmp     al, 8	       ; $P_Time_F
TRANGROUP:4772		       jz      short $P_RLT02
TRANGROUP:4774		       cmp     al, 6	       ; $P_Drive
TRANGROUP:4776		       jnz     short $P_RLT03
TRANGROUP:4778		       mov     es:[di+4], dl   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:477C		       jmp     short $P_RLT_Exit
TRANGROUP:477E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:477E
TRANGROUP:477E $P_RLT03:			       ; ...
TRANGROUP:477E		       cmp     al, 4	       ; $P_Complex
TRANGROUP:4780		       jnz     short $P_RLT05
TRANGROUP:4782		       mov     ax, cs:$P_SaveSI_Cmpx
TRANGROUP:4786		       inc     ax
TRANGROUP:4787		       mov     es:[di+4], ax   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:478B		       mov     word ptr	es:[di+6], ds ;	[es:di+2+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:478F		       jmp     short $P_RLT_Exit
TRANGROUP:4791 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4791
TRANGROUP:4791 $P_RLT05:			       ; ...
TRANGROUP:4791		       mov     es:[di+4], si   ; [es:di+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:4795		       mov     word ptr	es:[di+6], cs ;	[es:di+2+$P_RESULT_BLK.$P_Picked_Val]
TRANGROUP:4799		       push    ax
TRANGROUP:479A		       test    byte ptr	es:[bx+2], 1 ; [es:bx+$P_CONTROL_BLK.$P_Function_Flag],$P_CAP_File
TRANGROUP:479F		       jz      short $P_RLT_CAP00
TRANGROUP:47A1		       mov     al, 4	       ; $P_DOSTBL_File
TRANGROUP:47A3		       jmp     short $P_RLT_CAP02
TRANGROUP:47A5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:47A5
TRANGROUP:47A5 $P_RLT_CAP00:			       ; ...
TRANGROUP:47A5		       test    byte ptr	es:[bx+2], 2 ; [es:bx+$P_CONTROL_BLK.$P_Function_Flag],$P_CAP_Char
TRANGROUP:47AA		       jz      short $P_RLT_CAP01
TRANGROUP:47AC		       mov     al, 2	       ; $P_DOSTBL_Char
TRANGROUP:47AE
TRANGROUP:47AE $P_RLT_CAP02:			       ; ...
TRANGROUP:47AE		       call    $P_Do_CAPS_String
TRANGROUP:47B1
TRANGROUP:47B1 $P_RLT_CAP01:			       ; ...
TRANGROUP:47B1		       pop     ax
TRANGROUP:47B2		       test    byte ptr	es:[bx+2], 10h ; [es:bx+$P_CONTROL_BLK.$P_Function_Flag],$P_Rm_Colon
TRANGROUP:47B7		       jz      short $P_RLT_Exit
TRANGROUP:47B9		       call    $P_Remove_Colon
TRANGROUP:47BC
TRANGROUP:47BC $P_RLT_Exit:			       ; ...
TRANGROUP:47BC		       pop     di
TRANGROUP:47BD		       retn
TRANGROUP:47BD $P_Fill_Result  endp
TRANGROUP:47BD
TRANGROUP:47BE
TRANGROUP:47BE ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:47BE
TRANGROUP:47BE
TRANGROUP:47BE $P_Check_Match_Flags proc near	       ; ...
TRANGROUP:47BE		       mov     cs:$P_err_flag, 0 ; $P_NULL
TRANGROUP:47C4		       push    ax
TRANGROUP:47C5		       mov     ax, es:[bx]     ; [es:bx+$P_CONTROL_BLK.$P_Match_Flag]
TRANGROUP:47C8		       or      ax, ax
TRANGROUP:47CA		       jnz     short $P_Mat
TRANGROUP:47CC		       push    ax
TRANGROUP:47CD		       push    bx
TRANGROUP:47CE		       push    dx
TRANGROUP:47CF		       push    di
TRANGROUP:47D0		       mov     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:47D7		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:47D9		       mov     al, 3	       ; $P_String
TRANGROUP:47DB		       call    $P_Fill_Result
TRANGROUP:47DE		       pop     di
TRANGROUP:47DF		       pop     dx
TRANGROUP:47E0		       pop     bx
TRANGROUP:47E1		       pop     ax
TRANGROUP:47E2		       jmp     short $P_Bridge
TRANGROUP:47E4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:47E4
TRANGROUP:47E4 $P_Mat:				       ; ...
TRANGROUP:47E4		       test    ax, 1000h       ; $P_Date_S
TRANGROUP:47E7		       jz      short $P_Match02
TRANGROUP:47E9		       mov     cs:$P_RC, 0     ; $P_No_Error
TRANGROUP:47F0		       call    $P_Date_Format
TRANGROUP:47F3		       cmp     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:47F9		       jnz     short $P_Bridge
TRANGROUP:47FB
TRANGROUP:47FB $P_Match02:			       ; ...
TRANGROUP:47FB		       test    ax, 800h	       ; $P_Time_S
TRANGROUP:47FE		       jz      short $P_Match03
TRANGROUP:4800		       mov     cs:$P_RC, 0     ; $P_No_Error
TRANGROUP:4807		       call    $P_Time_Format
TRANGROUP:480A		       cmp     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:4810		       jnz     short $P_Bridge
TRANGROUP:4812		       jmp     short $P_Match03
TRANGROUP:4814 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4814
TRANGROUP:4814 $P_Bridge:			       ; ...
TRANGROUP:4814		       jmp     short $P_Match_Exit
TRANGROUP:4816 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4816		       nop
TRANGROUP:4817
TRANGROUP:4817 $P_Match03:			       ; ...
TRANGROUP:4817		       test    ax, 8000h       ; $P_Num_Val
TRANGROUP:481A		       jz      short $P_Match04
TRANGROUP:481C		       mov     cs:$P_RC, 0     ; $P_No_Error
TRANGROUP:4823		       call    $P_Value
TRANGROUP:4826		       cmp     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:482C		       jnz     short $P_Match_Exit
TRANGROUP:482E
TRANGROUP:482E $P_Match04:			       ; ...
TRANGROUP:482E		       test    ax, 4000h       ; $P_SNum_Val
TRANGROUP:4831		       jz      short $P_Match05
TRANGROUP:4833		       mov     cs:$P_RC, 0     ; $P_No_Error
TRANGROUP:483A		       call    $P_SValue
TRANGROUP:483D		       cmp     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:4843		       jnz     short $P_Match_Exit
TRANGROUP:4845
TRANGROUP:4845 $P_Match05:			       ; ...
TRANGROUP:4845		       test    ax, 100h	       ; $P_Drv_Only
TRANGROUP:4848		       jz      short $P_Match06
TRANGROUP:484A		       mov     cs:$P_RC, 0     ; $P_No_Error
TRANGROUP:4851		       call    $P_File_Format
TRANGROUP:4854		       call    $P_Drive_Format
TRANGROUP:4857		       cmp     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:485D		       jnz     short $P_Match_Exit
TRANGROUP:485F
TRANGROUP:485F $P_Match06:			       ; ...
TRANGROUP:485F		       test    ax, 200h	       ; $P_File_Spc
TRANGROUP:4862		       jz      short $P_Match07
TRANGROUP:4864		       mov     cs:$P_RC, 0
TRANGROUP:486B		       call    $P_File_Format
TRANGROUP:486E		       cmp     cs:$P_RC, 9
TRANGROUP:4874		       jnz     short $P_Match_Exit
TRANGROUP:4876
TRANGROUP:4876 $P_Match07:			       ; ...
TRANGROUP:4876		       test    ax, 2000h       ; $P_Simple_S
TRANGROUP:4879		       jz      short $P_Match_Exit
TRANGROUP:487B		       mov     cs:$P_RC, 0
TRANGROUP:4882		       call    $P_Simple_String
TRANGROUP:4885
TRANGROUP:4885 $P_Match_Exit:			       ; ...
TRANGROUP:4885		       cmp     cs:$P_err_flag, 1 ; $P_error_filespec
TRANGROUP:488B		       jnz     short $P_Match2_Exit
TRANGROUP:488D		       cmp     cs:$P_RC, 0     ; $P_No_Error
TRANGROUP:4893		       jnz     short $P_Match2_Exit
TRANGROUP:4895		       mov     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:489C
TRANGROUP:489C $P_Match2_Exit:			       ; ...
TRANGROUP:489C		       pop     ax
TRANGROUP:489D		       retn
TRANGROUP:489D $P_Check_Match_Flags endp
TRANGROUP:489D
TRANGROUP:489E
TRANGROUP:489E ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:489E
TRANGROUP:489E
TRANGROUP:489E $P_Remove_Colon proc near	       ; ...
TRANGROUP:489E		       push    ax
TRANGROUP:489F		       push    si
TRANGROUP:48A0
TRANGROUP:48A0 $P_RCOL_Loop:			       ; ...
TRANGROUP:48A0		       mov     al, cs:[si]
TRANGROUP:48A3		       or      al, al
TRANGROUP:48A5		       jz      short $P_RCOL_Exit
TRANGROUP:48A7		       cmp     al, ':'         ; $P_Colon
TRANGROUP:48A9		       jnz     short $P_RCOL00
TRANGROUP:48AB		       cmp     byte ptr	cs:[si+1], 0 ; $P_NULL
TRANGROUP:48B0		       jnz     short $P_RCOL00
TRANGROUP:48B2		       mov     byte ptr	cs:[si], 0
TRANGROUP:48B6		       jmp     short $P_RCOL_Exit
TRANGROUP:48B8 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:48B8
TRANGROUP:48B8 $P_RCOL00:			       ; ...
TRANGROUP:48B8		       call    $P_Chk_DBCS
TRANGROUP:48BB		       jnb     short $P_RCOL01
TRANGROUP:48BD		       inc     si
TRANGROUP:48BE
TRANGROUP:48BE $P_RCOL01:			       ; ...
TRANGROUP:48BE		       inc     si
TRANGROUP:48BF		       jmp     short $P_RCOL_Loop
TRANGROUP:48C1 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:48C1
TRANGROUP:48C1 $P_RCOL_Exit:			       ; ...
TRANGROUP:48C1		       pop     si
TRANGROUP:48C2		       pop     ax
TRANGROUP:48C3		       retn
TRANGROUP:48C3 $P_Remove_Colon endp
TRANGROUP:48C3
TRANGROUP:48C4
TRANGROUP:48C4 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:48C4
TRANGROUP:48C4
TRANGROUP:48C4 $P_Do_CAPS_String proc near	       ; ...
TRANGROUP:48C4		       push    si
TRANGROUP:48C5		       push    dx
TRANGROUP:48C6		       mov     dl, al
TRANGROUP:48C8
TRANGROUP:48C8 $P_DCS_Loop:			       ; ...
TRANGROUP:48C8		       mov     al, cs:[si]
TRANGROUP:48CB		       call    $P_Chk_DBCS
TRANGROUP:48CE		       jb      short $P_DCS0
TRANGROUP:48D0		       or      al, al
TRANGROUP:48D2		       jz      short $P_DCS_Exit
TRANGROUP:48D4		       call    $P_Do_CAPS_Char
TRANGROUP:48D7		       mov     cs:[si],	al
TRANGROUP:48DA		       jmp     short $P_DCS01
TRANGROUP:48DC ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:48DC
TRANGROUP:48DC $P_DCS0:				       ; ...
TRANGROUP:48DC		       inc     si
TRANGROUP:48DD
TRANGROUP:48DD $P_DCS01:			       ; ...
TRANGROUP:48DD		       inc     si
TRANGROUP:48DE		       jmp     short $P_DCS_Loop
TRANGROUP:48E0 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:48E0
TRANGROUP:48E0 $P_DCS_Exit:			       ; ...
TRANGROUP:48E0		       pop     dx
TRANGROUP:48E1		       pop     si
TRANGROUP:48E2		       retn
TRANGROUP:48E2 $P_Do_CAPS_String endp
TRANGROUP:48E2
TRANGROUP:48E3
TRANGROUP:48E3 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:48E3
TRANGROUP:48E3
TRANGROUP:48E3 $P_Do_CAPS_Char proc near	       ; ...
TRANGROUP:48E3		       cmp     al, 80h	       ; $P_ASCII80
TRANGROUP:48E5		       jnb     short $P_DCC_Go
TRANGROUP:48E7		       cmp     al, 61h ; 'a'
TRANGROUP:48E9		       jb      short $P_CAPS_Ret
TRANGROUP:48EB		       cmp     al, 7Ah ; 'z'
TRANGROUP:48ED		       ja      short $P_CAPS_Ret
TRANGROUP:48EF		       and     al, 0DFh	       ; $P_Make_Upper
TRANGROUP:48F1		       jmp     short $P_CAPS_Ret
TRANGROUP:48F3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:48F3
TRANGROUP:48F3 $P_DCC_Go:			       ; ...
TRANGROUP:48F3		       push    bx
TRANGROUP:48F4		       push    es
TRANGROUP:48F5		       push    di
TRANGROUP:48F6		       lea     di, $P_File_CAP_Ptr
TRANGROUP:48FA		       cmp     dl, 4	       ; $P_DOSTBL_File
TRANGROUP:48FD		       jz      short $P_DCC00
TRANGROUP:48FF		       lea     di, $P_Char_CAP_Ptr
TRANGROUP:4903
TRANGROUP:4903 $P_DCC00:			       ; ...
TRANGROUP:4903		       cmp     cs:[di],	dl
TRANGROUP:4906		       jz      short $P_DCC01
TRANGROUP:4908		       push    ax
TRANGROUP:4909		       push    cx
TRANGROUP:490A		       push    dx
TRANGROUP:490B		       push    cs
TRANGROUP:490C		       pop     es
TRANGROUP:490D		       assume es:TRANGROUP
TRANGROUP:490D		       mov     ah, 65h	       ; $P_DOS_Get_TBL
TRANGROUP:490F		       mov     al, dl
TRANGROUP:4911		       mov     bx, 0FFFFh      ; -1
TRANGROUP:4914		       mov     cx, 5
TRANGROUP:4917		       mov     dx, 0FFFFh      ; -1
TRANGROUP:491A		       int     21h	       ; DOS - 4.x internal - COUNTRY-DEPENDENT	FILENAME CAPITALIZATION
TRANGROUP:491A					       ; AL = function -
TRANGROUP:491C		       pop     dx
TRANGROUP:491D		       pop     cx
TRANGROUP:491E		       pop     ax
TRANGROUP:491F
TRANGROUP:491F $P_DCC01:			       ; ...
TRANGROUP:491F		       mov     bx, cs:[di+1]   ; [cs:di+$P_DOS_TBL.$P_DOS_TBL_Off]
TRANGROUP:4923		       mov     es, word	ptr cs:[di+3] ;	[cs:di+$P_DOS_TBL.$P_DOS_TBL_Seg]
TRANGROUP:4927		       assume es:nothing
TRANGROUP:4927		       inc     bx
TRANGROUP:4928		       inc     bx
TRANGROUP:4929		       sub     al, 80h	       ; $P_ASCII80
TRANGROUP:492B		       xlat    byte ptr	es:[bx]
TRANGROUP:492D		       pop     di
TRANGROUP:492E		       pop     es
TRANGROUP:492F		       pop     bx
TRANGROUP:4930
TRANGROUP:4930 $P_CAPS_Ret:			       ; ...
TRANGROUP:4930		       retn
TRANGROUP:4930 $P_Do_CAPS_Char endp
TRANGROUP:4930
TRANGROUP:4931
TRANGROUP:4931 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4931
TRANGROUP:4931
TRANGROUP:4931 $P_SValue       proc near	       ; ...
TRANGROUP:4931		       push    ax
TRANGROUP:4932		       or      cs:$P_Flags2, 80h ; $P_Signed
TRANGROUP:4938		       and     cs:$P_Flags2, 0FDh ; 0FFh-$P_Neg
TRANGROUP:493E		       mov     al, cs:[si]
TRANGROUP:4941		       cmp     al, 2Bh ; '+'   ; $P_Plus
TRANGROUP:4943		       jz      short $P_SVal00
TRANGROUP:4945		       cmp     al, 2Dh ; '-'   ; $P_Minus
TRANGROUP:4947		       jnz     short $P_Sval01
TRANGROUP:4949		       or      cs:$P_Flags2, 2 ; $P_Neg
TRANGROUP:494F
TRANGROUP:494F $P_SVal00:			       ; ...
TRANGROUP:494F		       inc     si
TRANGROUP:4950
TRANGROUP:4950 $P_Sval01:			       ; ...
TRANGROUP:4950		       call    $P_Value
TRANGROUP:4953		       pop     ax
TRANGROUP:4954		       retn
TRANGROUP:4954 $P_SValue       endp
TRANGROUP:4954
TRANGROUP:4955
TRANGROUP:4955 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4955
TRANGROUP:4955
TRANGROUP:4955 $P_Value	       proc near	       ; ...
TRANGROUP:4955		       push    ax
TRANGROUP:4956		       push    cx
TRANGROUP:4957		       push    dx
TRANGROUP:4958		       push    si
TRANGROUP:4959		       xor     cx, cx
TRANGROUP:495B		       xor     dx, dx
TRANGROUP:495D		       push    bx
TRANGROUP:495E
TRANGROUP:495E $P_Value_Loop:			       ; ...
TRANGROUP:495E		       mov     al, cs:[si]
TRANGROUP:4961		       or      al, al
TRANGROUP:4963		       jz      short $P_Value00
TRANGROUP:4965		       call    $P_0099
TRANGROUP:4968		       jb      short $P_Value_Err0
TRANGROUP:496A		       xor     ah, ah
TRANGROUP:496C		       mov     bp, ax
TRANGROUP:496E		       shl     dx, 1
TRANGROUP:4970		       rcl     cx, 1
TRANGROUP:4972		       call    $P_Check_OVF
TRANGROUP:4975		       jb      short $P_Value_Err0
TRANGROUP:4977		       mov     bx, dx
TRANGROUP:4979		       mov     ax, cx
TRANGROUP:497B		       shl     dx, 1
TRANGROUP:497D		       rcl     cx, 1
TRANGROUP:497F		       call    $P_Check_OVF
TRANGROUP:4982		       jb      short $P_Value_Err0
TRANGROUP:4984		       shl     dx, 1
TRANGROUP:4986		       rcl     cx, 1
TRANGROUP:4988		       call    $P_Check_OVF
TRANGROUP:498B		       jb      short $P_Value_Err0
TRANGROUP:498D		       add     dx, bx
TRANGROUP:498F		       adc     cx, ax
TRANGROUP:4991		       call    $P_Check_OVF
TRANGROUP:4994		       jb      short $P_Value_Err0
TRANGROUP:4996		       add     dx, bp
TRANGROUP:4998		       adc     cx, 0
TRANGROUP:499B		       call    $P_Check_OVF
TRANGROUP:499E		       jb      short $P_Value_Err0
TRANGROUP:49A0		       inc     si
TRANGROUP:49A1		       jmp     short $P_Value_Loop
TRANGROUP:49A3 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:49A3
TRANGROUP:49A3 $P_Value_Err0:			       ; ...
TRANGROUP:49A3		       pop     bx
TRANGROUP:49A4		       jmp     $P_Value_Err
TRANGROUP:49A7 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:49A7
TRANGROUP:49A7 $P_Value00:			       ; ...
TRANGROUP:49A7		       pop     bx
TRANGROUP:49A8		       test    cs:$P_Flags2, 2 ; $P_Neg
TRANGROUP:49AE		       jz      short $P_Value01
TRANGROUP:49B0		       not     cx
TRANGROUP:49B2		       not     dx
TRANGROUP:49B4		       add     dx, 1
TRANGROUP:49B7		       adc     cx, 0
TRANGROUP:49BA
TRANGROUP:49BA $P_Value01:			       ; ...
TRANGROUP:49BA		       mov     si, es:[bx+6]   ; [es:bx+$P_CONTROL_BLK.$P_Value_List]
TRANGROUP:49BE		       mov     al, es:[si]
TRANGROUP:49C1		       cmp     al, 0	       ; $P_nval_None
TRANGROUP:49C3		       jnz     short $P_Value02
TRANGROUP:49C5		       mov     al, 1
TRANGROUP:49C7		       mov     ah, 0FFh
TRANGROUP:49C9		       jmp     short $P_Value_Exit
TRANGROUP:49CB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:49CB		       nop
TRANGROUP:49CC
TRANGROUP:49CC $P_Value02:			       ; ...
TRANGROUP:49CC		       inc     si
TRANGROUP:49CD		       mov     al, es:[si]
TRANGROUP:49D0		       cmp     al, 0
TRANGROUP:49D2		       jz      short $P_Value_Err ; $P_Value03
TRANGROUP:49D4		       inc     si
TRANGROUP:49D5
TRANGROUP:49D5 $P_Val02_Loop:			       ; ...
TRANGROUP:49D5		       test    cs:$P_Flags2, 80h ; $P_Signed
TRANGROUP:49DB		       jnz     short $P_Val02_Sign
TRANGROUP:49DD		       cmp     cx, es:[si+3]   ; [es:si+$P_VAL_LIST.$P_Val_XH]
TRANGROUP:49E1		       jb      short $P_Val02_Next
TRANGROUP:49E3		       ja      short $P_Val_In
TRANGROUP:49E5		       cmp     dx, es:[si+1]   ; [es:si+$P_VAL_LIST.$P_Val_XL]
TRANGROUP:49E9		       jb      short $P_Val02_Next
TRANGROUP:49EB
TRANGROUP:49EB $P_Val_In:			       ; ...
TRANGROUP:49EB		       cmp     cx, es:[si+7]   ; [es:si+$P_VAL_LIST.$P_Val_YH]
TRANGROUP:49EF		       ja      short $P_Val02_Next
TRANGROUP:49F1		       jb      short $P_Val_Found
TRANGROUP:49F3		       cmp     dx, es:[si+5]   ; [es:si+$P_VAL_LIST.$P_Val_YL]
TRANGROUP:49F7		       ja      short $P_Val02_Next
TRANGROUP:49F9		       jmp     short $P_Val_Found
TRANGROUP:49FB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:49FB
TRANGROUP:49FB $P_Val02_Sign:			       ; ...
TRANGROUP:49FB		       cmp     cx, es:[si+3]
TRANGROUP:49FF		       jl      short $P_Val02_Next
TRANGROUP:4A01		       jg      short $P_SVal_In
TRANGROUP:4A03		       cmp     dx, es:[si+1]
TRANGROUP:4A07		       jl      short $P_Val02_Next
TRANGROUP:4A09
TRANGROUP:4A09 $P_SVal_In:			       ; ...
TRANGROUP:4A09		       cmp     cx, es:[si+7]
TRANGROUP:4A0D		       jg      short $P_Val02_Next
TRANGROUP:4A0F		       jl      short $P_Val_Found
TRANGROUP:4A11		       cmp     dx, es:[si+5]
TRANGROUP:4A15		       jg      short $P_Val02_Next
TRANGROUP:4A17		       jmp     short $P_Val_Found
TRANGROUP:4A19 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4A19
TRANGROUP:4A19 $P_Val02_Next:			       ; ...
TRANGROUP:4A19		       add     si, 9	       ; $P_Len_Range
TRANGROUP:4A1C		       dec     al
TRANGROUP:4A1E		       jnz     short $P_Val02_Loop
TRANGROUP:4A20		       mov     cs:$P_RC, 6     ; $P_Out_Of_Range
TRANGROUP:4A27		       mov     al, 1	       ; $P_Number
TRANGROUP:4A29		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:4A2B		       jmp     short $P_Value_Exit
TRANGROUP:4A2D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4A2D
TRANGROUP:4A2D $P_Val_Found:			       ; ...
TRANGROUP:4A2D		       mov     al, 1
TRANGROUP:4A2F		       mov     ah, es:[si]
TRANGROUP:4A32		       jmp     short $P_Value_Exit
TRANGROUP:4A34 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4A34
TRANGROUP:4A34 $P_Value_Err:			       ; ...
TRANGROUP:4A34		       mov     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:4A3B		       mov     al, 3	       ; $P_String
TRANGROUP:4A3D		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:4A3F
TRANGROUP:4A3F $P_Value_Exit:			       ; ...
TRANGROUP:4A3F		       call    $P_Fill_Result
TRANGROUP:4A42		       pop     si
TRANGROUP:4A43		       pop     dx
TRANGROUP:4A44		       pop     cx
TRANGROUP:4A45		       pop     ax
TRANGROUP:4A46		       retn
TRANGROUP:4A46 $P_Value	       endp
TRANGROUP:4A46
TRANGROUP:4A47
TRANGROUP:4A47 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4A47
TRANGROUP:4A47
TRANGROUP:4A47 $P_Check_OVF    proc near	       ; ...
TRANGROUP:4A47		       pushf
TRANGROUP:4A48		       test    cs:$P_Flags2, 2
TRANGROUP:4A4E		       jnz     short $P_COVF
TRANGROUP:4A50		       popf
TRANGROUP:4A51		       retn
TRANGROUP:4A52 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4A52
TRANGROUP:4A52 $P_COVF:				       ; ...
TRANGROUP:4A52		       popf
TRANGROUP:4A53		       jo      short $P_COVF00
TRANGROUP:4A55		       clc
TRANGROUP:4A56		       retn
TRANGROUP:4A57 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4A57
TRANGROUP:4A57 $P_COVF00:			       ; ...
TRANGROUP:4A57		       stc
TRANGROUP:4A58		       retn
TRANGROUP:4A58 $P_Check_OVF    endp
TRANGROUP:4A58
TRANGROUP:4A59
TRANGROUP:4A59 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4A59
TRANGROUP:4A59
TRANGROUP:4A59 $P_0099	       proc near	       ; ...
TRANGROUP:4A59		       cmp     al, 30h ; '0'
TRANGROUP:4A5B		       jb      short $P_0099Err
TRANGROUP:4A5D		       cmp     al, 39h ; '9'
TRANGROUP:4A5F		       ja      short $P_0099Err
TRANGROUP:4A61		       sub     al, 30h ; '0'
TRANGROUP:4A63		       clc
TRANGROUP:4A64		       retn
TRANGROUP:4A65 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4A65
TRANGROUP:4A65 $P_0099Err:			       ; ...
TRANGROUP:4A65		       stc
TRANGROUP:4A66		       retn
TRANGROUP:4A66 $P_0099	       endp
TRANGROUP:4A66
TRANGROUP:4A67
TRANGROUP:4A67 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4A67
TRANGROUP:4A67
TRANGROUP:4A67 $P_Simple_String	proc near	       ; ...
TRANGROUP:4A67		       push    ax
TRANGROUP:4A68		       push    bx
TRANGROUP:4A69		       push    dx
TRANGROUP:4A6A		       push    di
TRANGROUP:4A6B		       mov     di, es:[bx+6]   ; [es:bx+$P_CONTROL_BLK.$P_Value_List]
TRANGROUP:4A6F		       mov     al, es:[di]
TRANGROUP:4A72		       or      al, al
TRANGROUP:4A74		       jnz     short $P_Sim00
TRANGROUP:4A76		       mov     ah, 0FFh
TRANGROUP:4A78		       jmp     short $P_Sim_Exit
TRANGROUP:4A7A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4A7A
TRANGROUP:4A7A $P_Sim00:			       ; ...
TRANGROUP:4A7A		       cmp     al, 3	       ; $P_nval_String
TRANGROUP:4A7C		       jnz     short $P_Sim01
TRANGROUP:4A7E		       inc     di
TRANGROUP:4A7F		       mov     al, es:[di]
TRANGROUP:4A82		       mov     ah, 9	       ; $P_Len_Range
TRANGROUP:4A84		       mul     ah
TRANGROUP:4A86		       inc     ax
TRANGROUP:4A87		       add     di, ax
TRANGROUP:4A89		       mov     al, es:[di]
TRANGROUP:4A8C		       mov     ah, 5	       ; $P_Len_Value
TRANGROUP:4A8E		       mul     ah
TRANGROUP:4A90		       inc     ax
TRANGROUP:4A91		       add     di, ax
TRANGROUP:4A93		       mov     al, es:[di]
TRANGROUP:4A96		       inc     di
TRANGROUP:4A97		       inc     di
TRANGROUP:4A98
TRANGROUP:4A98 $P_Sim_Loop:			       ; ...
TRANGROUP:4A98		       mov     bp, es:[di]
TRANGROUP:4A9B		       call    $P_String_Comp
TRANGROUP:4A9E		       jnb     short $P_Sim_Found
TRANGROUP:4AA0		       add     di, 3
TRANGROUP:4AA3		       dec     al
TRANGROUP:4AA5		       jnz     short $P_Sim_Loop
TRANGROUP:4AA7		       mov     cs:$P_RC, 8
TRANGROUP:4AAE		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:4AB0		       jmp     short $P_Sim_Exit
TRANGROUP:4AB2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4AB2
TRANGROUP:4AB2 $P_Sim_Found:			       ; ...
TRANGROUP:4AB2		       mov     ah, es:[di-1]
TRANGROUP:4AB6		       mov     al, 2	       ; $P_List_Idx$P_List_Idx
TRANGROUP:4AB8		       mov     dx, es:[di]
TRANGROUP:4ABB		       jmp     short $P_Sim_Exit0
TRANGROUP:4ABD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4ABD
TRANGROUP:4ABD $P_Sim01:			       ; ...
TRANGROUP:4ABD		       mov     cs:$P_RC, 9
TRANGROUP:4AC4		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:4AC6
TRANGROUP:4AC6 $P_Sim_Exit:			       ; ...
TRANGROUP:4AC6		       mov     al, 3	       ; $P_String
TRANGROUP:4AC8
TRANGROUP:4AC8 $P_Sim_Exit0:			       ; ...
TRANGROUP:4AC8		       call    $P_Fill_Result
TRANGROUP:4ACB		       pop     di
TRANGROUP:4ACC		       pop     dx
TRANGROUP:4ACD		       pop     bx
TRANGROUP:4ACE		       pop     ax
TRANGROUP:4ACF		       retn
TRANGROUP:4ACF $P_Simple_String	endp
TRANGROUP:4ACF
TRANGROUP:4AD0
TRANGROUP:4AD0 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4AD0
TRANGROUP:4AD0
TRANGROUP:4AD0 $P_String_Comp  proc near	       ; ...
TRANGROUP:4AD0		       push    ax
TRANGROUP:4AD1		       push    bp
TRANGROUP:4AD2		       push    dx
TRANGROUP:4AD3		       push    si
TRANGROUP:4AD4		       mov     dl, 2	       ; $P_DOSTBL_Char
TRANGROUP:4AD6
TRANGROUP:4AD6 $P_SCOM_Loop:			       ; ...
TRANGROUP:4AD6		       mov     al, cs:[si]     ; 1st string
TRANGROUP:4AD9		       call    $P_Chk_DBCS
TRANGROUP:4ADC		       jb      short $P_SCOM00
TRANGROUP:4ADE		       call    $P_Do_CAPS_Char
TRANGROUP:4AE1		       test    cs:$P_Flags2, 8 ; $P_Key_Cmp
TRANGROUP:4AE7		       jz      short $P_SCOM04
TRANGROUP:4AE9		       cmp     al, 3Dh ; '='   ; $P_Keyword
TRANGROUP:4AEB		       jnz     short $P_SCOM03
TRANGROUP:4AED		       cmp     byte ptr	es:[bp+1], 0 ; $P_NULL
TRANGROUP:4AF2		       jnz     short $P_SCOM_Differ
TRANGROUP:4AF4		       jmp     short $P_SCOM05
TRANGROUP:4AF6 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4AF6
TRANGROUP:4AF6 $P_SCOM04:			       ; ...
TRANGROUP:4AF6		       test    cs:$P_Flags2, 10h ; $P_SW_Cmp
TRANGROUP:4AFC		       jz      short $P_SCOM03
TRANGROUP:4AFE		       cmp     al, 3Ah ; ':'   ; $P_Colon
TRANGROUP:4B00		       jnz     short $P_SCOM03
TRANGROUP:4B02		       cmp     byte ptr	es:[bp+0], 0 ; $P_NULL
TRANGROUP:4B07		       jnz     short $P_SCOM_Differ
TRANGROUP:4B09
TRANGROUP:4B09 $P_SCOM05:			       ; ...
TRANGROUP:4B09		       inc     si
TRANGROUP:4B0A		       jmp     short $P_SCOM_Same
TRANGROUP:4B0C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4B0C
TRANGROUP:4B0C $P_SCOM03:			       ; ...
TRANGROUP:4B0C		       cmp     al, es:[bp+0]   ; 2nd string (must be upper case)
TRANGROUP:4B10		       jnz     short $P_SCOM_Differ0
TRANGROUP:4B12		       or      al, al
TRANGROUP:4B14		       jz      short $P_SCOM_Same
TRANGROUP:4B16		       inc     si
TRANGROUP:4B17		       inc     bp
TRANGROUP:4B18		       jmp     short $P_SCOM01
TRANGROUP:4B1A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4B1A
TRANGROUP:4B1A $P_SCOM00:			       ; ...
TRANGROUP:4B1A		       cmp     al, es:[bp+0]
TRANGROUP:4B1E		       jnz     short $P_SCOM_Differ
TRANGROUP:4B20		       inc     si
TRANGROUP:4B21		       mov     al, cs:[si]
TRANGROUP:4B24		       inc     bp
TRANGROUP:4B25		       cmp     al, es:[bp+0]
TRANGROUP:4B29		       jnz     short $P_SCOM_Differ
TRANGROUP:4B2B		       inc     si
TRANGROUP:4B2C		       inc     bp
TRANGROUP:4B2D
TRANGROUP:4B2D $P_SCOM01:			       ; ...
TRANGROUP:4B2D		       jmp     short $P_SCOM_Loop
TRANGROUP:4B2F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4B2F
TRANGROUP:4B2F $P_SCOM_Differ0:			       ; ...
TRANGROUP:4B2F		       test    cs:$P_Flags2, 40h ; $P_SW
TRANGROUP:4B35		       jz      short $P_not_applicable
TRANGROUP:4B37		       test    word ptr	es:[bx+2], 20h ; [es:bx+$P_CONTROL_BLK.$P_Function_Flag],$P_colon_is_not_necessary
TRANGROUP:4B3D		       jz      short $P_not_applicable
TRANGROUP:4B3F		       cmp     byte ptr	es:[bp+0], 0
TRANGROUP:4B44		       jz      short $P_SCOM_Same
TRANGROUP:4B46
TRANGROUP:4B46 $P_not_applicable:		       ; ...
TRANGROUP:4B46		       test    word ptr	es:[bx], 10h ; [es:bx+$P_CONTROL_BLK.$P_Match_Flag],$P_Ig_Colon
TRANGROUP:4B4B		       jz      short $P_SCOM_Differ
TRANGROUP:4B4D		       cmp     al, 3Ah ; ':'   ; $P_Colon
TRANGROUP:4B4F		       jnz     short $P_SCOM02
TRANGROUP:4B51		       cmp     byte ptr	es:[bp+0], 0 ; $P_NULL
TRANGROUP:4B56		       jnz     short $P_SCOM_Differ
TRANGROUP:4B58		       jmp     short $P_SCOM_Same
TRANGROUP:4B5A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4B5A
TRANGROUP:4B5A $P_SCOM02:			       ; ...
TRANGROUP:4B5A		       cmp     al, 0
TRANGROUP:4B5C		       jnz     short $P_SCOM_Differ
TRANGROUP:4B5E		       cmp     byte ptr	es:[bp+0], 3Ah ; ':'
TRANGROUP:4B63		       jz      short $P_SCOM_Same
TRANGROUP:4B65
TRANGROUP:4B65 $P_SCOM_Differ:			       ; ...
TRANGROUP:4B65		       stc
TRANGROUP:4B66		       jmp     short $P_SCOM_Exit
TRANGROUP:4B68 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4B68
TRANGROUP:4B68 $P_SCOM_Same:			       ; ...
TRANGROUP:4B68		       mov     cs:$P_KEYorSW_Ptr, si
TRANGROUP:4B6D		       clc
TRANGROUP:4B6E
TRANGROUP:4B6E $P_SCOM_Exit:			       ; ...
TRANGROUP:4B6E		       pop     si
TRANGROUP:4B6F		       pop     dx
TRANGROUP:4B70		       pop     bp
TRANGROUP:4B71		       pop     ax
TRANGROUP:4B72		       retn
TRANGROUP:4B72 $P_String_Comp  endp
TRANGROUP:4B72
TRANGROUP:4B73
TRANGROUP:4B73 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4B73
TRANGROUP:4B73
TRANGROUP:4B73 $P_Date_Format  proc near	       ; ...
TRANGROUP:4B73		       push    ax
TRANGROUP:4B74		       push    cx
TRANGROUP:4B75		       push    dx
TRANGROUP:4B76		       push    si
TRANGROUP:4B77		       push    bx
TRANGROUP:4B78		       push    si
TRANGROUP:4B79		       call    $P_Set_CDI
TRANGROUP:4B7C		       pop     si
TRANGROUP:4B7D		       mov     cs:$P_1st_Val, 0
TRANGROUP:4B84		       mov     cs:$P_2nd_Val, 0	; mov psdata_seg:$P_2nd_Val,0
TRANGROUP:4B8B		       mov     cs:$P_3rd_Val, 0
TRANGROUP:4B92		       call    $P_Get_DecNum
TRANGROUP:4B95		       jb      short $P_DateF_Err0
TRANGROUP:4B97		       mov     cs:$P_1st_Val, ax
TRANGROUP:4B9B		       or      bl, bl
TRANGROUP:4B9D		       jz      short $P_DateF_YMD
TRANGROUP:4B9F		       call    $P_Get_DecNum
TRANGROUP:4BA2		       jb      short $P_DateF_Error
TRANGROUP:4BA4		       mov     cs:$P_2nd_Val, ax
TRANGROUP:4BA8		       or      bl, bl
TRANGROUP:4BAA		       jz      short $P_DateF_YMD
TRANGROUP:4BAC		       call    $P_Get_DecNum
TRANGROUP:4BAF
TRANGROUP:4BAF $P_DateF_Err0:			       ; ...
TRANGROUP:4BAF		       jb      short $P_DateF_Error
TRANGROUP:4BB1		       mov     cs:$P_3rd_Val, ax
TRANGROUP:4BB5		       or      bl, bl
TRANGROUP:4BB7		       jnz     short $P_DateF_Error
TRANGROUP:4BB9
TRANGROUP:4BB9 $P_DateF_YMD:			       ; ...
TRANGROUP:4BB9		       mov     bx, cs:$P_Country_Info ;	[cs:$P_Country_Info+$P_CDI.$P_CDI_DateF]
TRANGROUP:4BB9					       ; mov bx,psdata_seg:$P_Country_Info.$P_CDI_DateF
TRANGROUP:4BBE		       cmp     bx, 2	       ; bx,$P_Date_YMD
TRANGROUP:4BC1		       jz      short $P_DateF00
TRANGROUP:4BC3		       mov     ax, cs:$P_1st_Val
TRANGROUP:4BC7		       or      ah, ah
TRANGROUP:4BC9		       jnz     short $P_DateF_Error
TRANGROUP:4BCB		       mov     cl, al
TRANGROUP:4BCD		       mov     ax, cs:$P_2nd_Val
TRANGROUP:4BD1		       or      ah, ah
TRANGROUP:4BD3		       jnz     short $P_DateF_Error
TRANGROUP:4BD5		       mov     ch, al
TRANGROUP:4BD7		       mov     dx, cs:$P_3rd_Val
TRANGROUP:4BDC		       cmp     bx, 1	       ; bx,$P_Date_DMY
TRANGROUP:4BDF		       jnz     short $P_DateF01
TRANGROUP:4BE1		       xchg    ch, cl
TRANGROUP:4BE3
TRANGROUP:4BE3 $P_DateF01:			       ; ...
TRANGROUP:4BE3		       jmp     short $P_DateF02
TRANGROUP:4BE5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4BE5
TRANGROUP:4BE5 $P_DateF00:			       ; ...
TRANGROUP:4BE5		       mov     dx, cs:$P_1st_Val
TRANGROUP:4BEA		       mov     ax, cs:$P_2nd_Val
TRANGROUP:4BEE		       or      ah, ah
TRANGROUP:4BF0		       jnz     short $P_DateF_Error
TRANGROUP:4BF2		       mov     cl, al
TRANGROUP:4BF4		       mov     ax, cs:$P_3rd_Val
TRANGROUP:4BF8		       or      ah, ah
TRANGROUP:4BFA		       jnz     short $P_DateF_Error
TRANGROUP:4BFC		       mov     ch, al
TRANGROUP:4BFE
TRANGROUP:4BFE $P_DateF02:			       ; ...
TRANGROUP:4BFE		       cmp     dx, 100
TRANGROUP:4C01		       jnb     short $P_DateF03
TRANGROUP:4C03		       add     dx, 1900
TRANGROUP:4C07
TRANGROUP:4C07 $P_DateF03:			       ; ...
TRANGROUP:4C07		       pop     bx
TRANGROUP:4C08		       pop     si
TRANGROUP:4C09		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:4C0B		       mov     al, 7	       ; $P_Date_F
TRANGROUP:4C0D		       call    $P_Fill_Result
TRANGROUP:4C10		       jmp     short $P_Date_Format_Exit
TRANGROUP:4C12 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4C12
TRANGROUP:4C12 $P_DateF_Error:			       ; ...
TRANGROUP:4C12		       pop     bx
TRANGROUP:4C13		       pop     si
TRANGROUP:4C14		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:4C16		       mov     al, 3	       ; $P_String
TRANGROUP:4C18		       call    $P_Fill_Result
TRANGROUP:4C1B		       mov     cs:$P_RC, 9     ; mov psdata_seg:$P_RC,$P_Syntax
TRANGROUP:4C22
TRANGROUP:4C22 $P_Date_Format_Exit:		       ; ...
TRANGROUP:4C22		       pop     dx
TRANGROUP:4C23		       pop     cx
TRANGROUP:4C24		       pop     ax
TRANGROUP:4C25		       retn
TRANGROUP:4C25 $P_Date_Format  endp
TRANGROUP:4C25
TRANGROUP:4C26
TRANGROUP:4C26 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4C26
TRANGROUP:4C26
TRANGROUP:4C26 $P_Set_CDI      proc near	       ; ...
TRANGROUP:4C26		       lea     si, $P_Country_Info ; (lea si,ds:8960h)
TRANGROUP:4C26					       ; lea si,psdata_seg:$P_Country_Info
TRANGROUP:4C2A		       cmp     word ptr	cs:[si], 0FFFFh	;
TRANGROUP:4C2A					       ; cmp psdata_seg:[si].$P_CDI_DateF,$P_NeedToBeRead
TRANGROUP:4C2E		       jz      short $P_Read_CDI
TRANGROUP:4C30		       jmp     short $P_Set_CDI_Exit
TRANGROUP:4C32 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4C32
TRANGROUP:4C32 $P_Read_CDI:			       ; ...
TRANGROUP:4C32		       push    ds
TRANGROUP:4C33		       push    dx
TRANGROUP:4C34		       push    ax
TRANGROUP:4C35		       push    cs
TRANGROUP:4C36		       pop     ds
TRANGROUP:4C37		       assume ds:TRANGROUP
TRANGROUP:4C37		       mov     ax, 3800h       ; $P_DOS_Get_CDI
TRANGROUP:4C3A		       mov     dx, si
TRANGROUP:4C3C		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:4C3C					       ; get current-country info
TRANGROUP:4C3C					       ; DS:DX -> buffer for returned info
TRANGROUP:4C3E		       pop     ax
TRANGROUP:4C3F		       pop     dx
TRANGROUP:4C40		       pop     ds
TRANGROUP:4C41		       assume ds:nothing
TRANGROUP:4C41
TRANGROUP:4C41 $P_Set_CDI_Exit:			       ; ...
TRANGROUP:4C41		       retn
TRANGROUP:4C41 $P_Set_CDI      endp
TRANGROUP:4C41
TRANGROUP:4C42
TRANGROUP:4C42 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4C42
TRANGROUP:4C42
TRANGROUP:4C42 $P_Get_DecNum   proc near	       ; ...
TRANGROUP:4C42		       push    cx
TRANGROUP:4C43		       push    dx
TRANGROUP:4C44		       xor     cx, cx
TRANGROUP:4C46
TRANGROUP:4C46 $P_GetNum_Loop:			       ; ...
TRANGROUP:4C46		       mov     al, cs:[si]     ; mov al,psdata_seg:[si]
TRANGROUP:4C49		       or      al, al
TRANGROUP:4C4B		       jz      short $P_GetNum00
TRANGROUP:4C4D		       cmp     cs:$P_Got_Time, 0 ; cmp psdata_seg:$P_Got_Time,0
TRANGROUP:4C53		       jz      short $P_Do_Date_Delims
TRANGROUP:4C55		       cmp     bl, 1	       ; cmp bl,$P_colon_period
TRANGROUP:4C58		       jnz     short $P_Do_Time_Delim1
TRANGROUP:4C5A		       cmp     al, ':'         ; $P_Colon
TRANGROUP:4C5C		       jz      short $P_GetNum01
TRANGROUP:4C5E
TRANGROUP:4C5E $P_Do_Time_Delim1:		       ; ...
TRANGROUP:4C5E		       cmp     al, '.'         ; $P_Period
TRANGROUP:4C60		       jz      short $P_GetNum01
TRANGROUP:4C62		       jmp     short $P_Neither_Delims
TRANGROUP:4C64 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4C64
TRANGROUP:4C64 $P_Do_Date_Delims:		       ; ...
TRANGROUP:4C64		       cmp     al, '-'         ; $P_Minus
TRANGROUP:4C66		       jz      short $P_GetNum01
TRANGROUP:4C68		       cmp     al, '/'         ; $P_Slash
TRANGROUP:4C6A		       jz      short $P_GetNum01
TRANGROUP:4C6C		       cmp     al, '.'         ; $P_Period
TRANGROUP:4C6E		       jz      short $P_GetNum01
TRANGROUP:4C70
TRANGROUP:4C70 $P_Neither_Delims:		       ; ...
TRANGROUP:4C70		       call    $P_0099
TRANGROUP:4C73		       jb      short $P_GetNum_Exit
TRANGROUP:4C75		       mov     ah, 0
TRANGROUP:4C77		       xchg    ax, cx
TRANGROUP:4C78		       mov     dx, 10
TRANGROUP:4C7B		       mul     dx
TRANGROUP:4C7D		       or      dx, dx
TRANGROUP:4C7F		       jnz     short $P_GetNum02
TRANGROUP:4C81		       add     ax, cx
TRANGROUP:4C83		       jb      short $P_GetNum_Exit
TRANGROUP:4C85		       xchg    ax, cx
TRANGROUP:4C86		       inc     si
TRANGROUP:4C87		       jmp     short $P_GetNum_Loop
TRANGROUP:4C89 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4C89
TRANGROUP:4C89 $P_GetNum00:			       ; ...
TRANGROUP:4C89		       mov     bl, al
TRANGROUP:4C8B		       clc
TRANGROUP:4C8C		       jmp     short $P_GetNum_Exit
TRANGROUP:4C8E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4C8E
TRANGROUP:4C8E $P_GetNum01:			       ; ...
TRANGROUP:4C8E		       inc     si
TRANGROUP:4C8F		       clc
TRANGROUP:4C90		       jmp     short $P_GetNum_Exit
TRANGROUP:4C92 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4C92
TRANGROUP:4C92 $P_GetNum02:			       ; ...
TRANGROUP:4C92		       stc
TRANGROUP:4C93
TRANGROUP:4C93 $P_GetNum_Exit:			       ; ...
TRANGROUP:4C93		       mov     ax, cx
TRANGROUP:4C95		       pop     dx
TRANGROUP:4C96		       pop     cx
TRANGROUP:4C97		       retn
TRANGROUP:4C97 $P_Get_DecNum   endp
TRANGROUP:4C97
TRANGROUP:4C98
TRANGROUP:4C98 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4C98
TRANGROUP:4C98
TRANGROUP:4C98 $P_Time_Format  proc near	       ; ...
TRANGROUP:4C98		       push    ax
TRANGROUP:4C99		       push    cx
TRANGROUP:4C9A		       push    dx
TRANGROUP:4C9B		       push    si
TRANGROUP:4C9C		       push    bx
TRANGROUP:4C9D		       push    si
TRANGROUP:4C9E		       call    $P_Set_CDI
TRANGROUP:4CA1		       test    byte ptr	cs:[si+11h], 1 ;
TRANGROUP:4CA1					       ; test byte ptr psdata_seg:[si].$P_CDI_TimeF,1
TRANGROUP:4CA6		       pop     si
TRANGROUP:4CA7		       jnz     short $P_TimeF00
TRANGROUP:4CA9		       call    $P_Time_2412
TRANGROUP:4CAC
TRANGROUP:4CAC $P_TimeF00:			       ; ...
TRANGROUP:4CAC		       mov     cs:$P_1st_Val, 0
TRANGROUP:4CB3		       mov     cs:$P_2nd_Val, 0
TRANGROUP:4CBA		       mov     cs:$P_3rd_Val, 0	; mov psdata_seg:$P_3rd_Val,0
TRANGROUP:4CC1		       mov     cs:$P_4th_Val, 0
TRANGROUP:4CC8		       mov     cs:$P_Got_Time, 1 ; mov psdata_seg:$P_Got_Time,1
TRANGROUP:4CCE		       mov     bl, 1	       ; $P_colon_period
TRANGROUP:4CD0		       call    $P_Get_DecNum
TRANGROUP:4CD3		       jb      short $P_TimeF_Err0
TRANGROUP:4CD5		       mov     cs:$P_1st_Val, ax
TRANGROUP:4CD9		       or      bl, bl
TRANGROUP:4CDB		       jz      short $P_TimeF_Rlt
TRANGROUP:4CDD		       call    $P_Get_DecNum
TRANGROUP:4CE0		       jb      short $P_TimeF_Err0
TRANGROUP:4CE2		       mov     cs:$P_2nd_Val, ax
TRANGROUP:4CE6		       or      bl, bl
TRANGROUP:4CE8		       jz      short $P_TimeF_Rlt
TRANGROUP:4CEA		       mov     bl, 2	       ; mov bl,$P_period_only
TRANGROUP:4CEC		       call    $P_Get_DecNum
TRANGROUP:4CEF		       jb      short $P_TimeF_Err0
TRANGROUP:4CF1		       mov     cs:$P_3rd_Val, ax
TRANGROUP:4CF5		       or      bl, bl
TRANGROUP:4CF7		       jnz     short $P_Time_4
TRANGROUP:4CF9		       test    cs:$P_Flags, 2  ; test psdata_seg:$P_Flags1,$P_Time_Again
TRANGROUP:4CFF		       jnz     short $P_TimeF_Rlt
TRANGROUP:4D01		       mov     si, cs:$P_SI_Save ; mov si,psdata_seg:$P_SI_Save
TRANGROUP:4D06		       cmp     byte ptr	[si-1],	',' ; cmp byte ptr [si-1],$P_Comma
TRANGROUP:4D0A		       jnz     short $P_TimeF_Rlt
TRANGROUP:4D0C		       mov     byte ptr	[si-1],	'.' ; mov byte ptr [si-1],$P_Period
TRANGROUP:4D10		       mov     word ptr	cs:$P_Flags, 0
TRANGROUP:4D17		       or      cs:$P_Flags, 2  ; or psdata_seg:$P_Flags1,$P_Time_Again
TRANGROUP:4D1D		       mov     cx, cs:$P_ORIG_ORD
TRANGROUP:4D22		       mov     sp, cs:$P_ORIG_STACK
TRANGROUP:4D27		       mov     si, cs:$P_ORIG_SI
TRANGROUP:4D2C		       jmp     $P_Redo_Time
TRANGROUP:4D2F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4D2F
TRANGROUP:4D2F $P_Time_4:			       ; ...
TRANGROUP:4D2F		       call    $P_Get_DecNum
TRANGROUP:4D32
TRANGROUP:4D32 $P_TimeF_Err0:			       ; ...
TRANGROUP:4D32		       jb      short $P_TimeF_Error
TRANGROUP:4D34		       mov     cs:$P_4th_Val, ax
TRANGROUP:4D38		       or      bl, bl
TRANGROUP:4D3A		       jnz     short $P_TimeF_Error
TRANGROUP:4D3C
TRANGROUP:4D3C $P_TimeF_Rlt:			       ; ...
TRANGROUP:4D3C		       mov     ax, cs:$P_1st_Val
TRANGROUP:4D40		       or      ah, ah
TRANGROUP:4D42		       jnz     short $P_TimeF_Error
TRANGROUP:4D44		       test    cs:$P_Flags, 1  ; test psdata_seg:$P_Flags1,$P_Time12am
TRANGROUP:4D4A		       jz      short $P_Time_notAM
TRANGROUP:4D4C		       cmp     al, 12
TRANGROUP:4D4E		       ja      short $P_TimeF_Error
TRANGROUP:4D50		       jnz     short $P_Time_notAM
TRANGROUP:4D52		       xor     al, al
TRANGROUP:4D54
TRANGROUP:4D54 $P_Time_notAM:			       ; ...
TRANGROUP:4D54		       test    cs:$P_Flags2, 4 ; test psdata_seg:$P_Flags2,$P_Time12
TRANGROUP:4D5A		       jz      short $P_TimeSkip00
TRANGROUP:4D5C		       cmp     al, 12
TRANGROUP:4D5E		       jz      short $P_TimeSkip00
TRANGROUP:4D60		       add     al, 12
TRANGROUP:4D62		       jb      short $P_TimeF_Error
TRANGROUP:4D64		       cmp     al, 24
TRANGROUP:4D66		       ja      short $P_TimeF_Error
TRANGROUP:4D68
TRANGROUP:4D68 $P_TimeSkip00:			       ; ...
TRANGROUP:4D68		       mov     dl, al
TRANGROUP:4D6A		       mov     ax, cs:$P_2nd_Val
TRANGROUP:4D6E		       or      ah, ah
TRANGROUP:4D70		       jnz     short $P_TimeF_Error
TRANGROUP:4D72		       mov     dh, al
TRANGROUP:4D74		       mov     ax, cs:$P_3rd_Val
TRANGROUP:4D78		       or      ah, ah
TRANGROUP:4D7A		       jnz     short $P_TimeF_Error
TRANGROUP:4D7C		       mov     cl, al
TRANGROUP:4D7E		       mov     ax, cs:$P_4th_Val ; mov ax,psdata_seg:$P_4th_Val
TRANGROUP:4D82		       or      ah, ah
TRANGROUP:4D84		       jnz     short $P_TimeF_Error
TRANGROUP:4D86		       mov     ch, al
TRANGROUP:4D88		       pop     bx
TRANGROUP:4D89		       pop     si
TRANGROUP:4D8A		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:4D8C		       mov     al, 8	       ; $P_Time_F
TRANGROUP:4D8E		       call    $P_Fill_Result
TRANGROUP:4D91		       jmp     short $P_Time_Format_Exit
TRANGROUP:4D93 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4D93
TRANGROUP:4D93 $P_TimeF_Error:			       ; ...
TRANGROUP:4D93		       pop     bx
TRANGROUP:4D94		       pop     si
TRANGROUP:4D95		       mov     ah, 0FFh
TRANGROUP:4D97		       mov     al, 3	       ; $P_String
TRANGROUP:4D99		       call    $P_Fill_Result
TRANGROUP:4D9C		       mov     cs:$P_RC, 9     ; mov psdata_seg:$P_RC,$P_Syntax
TRANGROUP:4DA3
TRANGROUP:4DA3 $P_Time_Format_Exit:		       ; ...
TRANGROUP:4DA3		       mov     cs:$P_Got_Time, 0 ; mov psdata_seg:$P_Got_Time,0
TRANGROUP:4DA9		       pop     dx
TRANGROUP:4DAA		       pop     cx
TRANGROUP:4DAB		       pop     ax
TRANGROUP:4DAC		       retn
TRANGROUP:4DAC $P_Time_Format  endp
TRANGROUP:4DAC
TRANGROUP:4DAD
TRANGROUP:4DAD ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4DAD
TRANGROUP:4DAD
TRANGROUP:4DAD $P_Time_2412    proc near	       ; ...
TRANGROUP:4DAD		       push    ax
TRANGROUP:4DAE		       push    si
TRANGROUP:4DAF
TRANGROUP:4DAF $P_T12_Loop:			       ; ...
TRANGROUP:4DAF		       mov     al, cs:[si]     ; mov al,psdata_seg:[si]
TRANGROUP:4DB2		       inc     si
TRANGROUP:4DB3		       or      al, al
TRANGROUP:4DB5		       jnz     short $P_T12_Loop
TRANGROUP:4DB7		       mov     al, cs:[si-2]   ; mov al,psdata_seg:[si-word]
TRANGROUP:4DBB		       or      al, 20h	       ; or al,$P_Make_Lower
TRANGROUP:4DBD		       cmp     al, 'p'
TRANGROUP:4DBF		       jz      short $P_T1200
TRANGROUP:4DC1		       cmp     al, 'a'
TRANGROUP:4DC3		       jz      short $P_T1201
TRANGROUP:4DC5		       cmp     al, 'm'
TRANGROUP:4DC7		       jnz     short $P_T12_Exit
TRANGROUP:4DC9		       dec     si
TRANGROUP:4DCA		       mov     al, cs:[si-2]
TRANGROUP:4DCE		       or      al, 20h
TRANGROUP:4DD0		       cmp     al, 'p'
TRANGROUP:4DD2		       jz      short $P_T1200
TRANGROUP:4DD4		       cmp     al, 'a'
TRANGROUP:4DD6		       jz      short $P_T1201
TRANGROUP:4DD8		       jmp     short $P_T12_Exit
TRANGROUP:4DDA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4DDA
TRANGROUP:4DDA $P_T1200:			       ; ...
TRANGROUP:4DDA		       or      cs:$P_Flags2, 4 ; or psdata_seg:$P_Flags2,$P_Time12
TRANGROUP:4DE0		       jmp     short $P_Tclr_chr
TRANGROUP:4DE2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4DE2
TRANGROUP:4DE2 $P_T1201:			       ; ...
TRANGROUP:4DE2		       or      cs:$P_Flags, 1  ; or psdata_seg:$P_Flags1,$P_Time12AM
TRANGROUP:4DE8
TRANGROUP:4DE8 $P_Tclr_chr:			       ; ...
TRANGROUP:4DE8		       mov     byte ptr	cs:[si-2], 0 ; psdata_seg:[si-2],$P_NULL
TRANGROUP:4DED
TRANGROUP:4DED $P_T12_Exit:			       ; ...
TRANGROUP:4DED		       pop     si
TRANGROUP:4DEE		       pop     ax
TRANGROUP:4DEF		       retn
TRANGROUP:4DEF $P_Time_2412    endp
TRANGROUP:4DEF
TRANGROUP:4DF0
TRANGROUP:4DF0 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4DF0
TRANGROUP:4DF0
TRANGROUP:4DF0 $P_File_Format  proc near	       ; ...
TRANGROUP:4DF0		       push    ax
TRANGROUP:4DF1		       push    di
TRANGROUP:4DF2		       push    si
TRANGROUP:4DF3		       mov     di, cs:$P_SaveSI_Cmpx
TRANGROUP:4DF8		       mov     al, cs:[si]
TRANGROUP:4DFB		       or      al, al
TRANGROUP:4DFD		       jz      short $P_FileF_Err
TRANGROUP:4DFF		       call    $P_FileSp_Chk
TRANGROUP:4E02		       jnz     short $P_FileF03
TRANGROUP:4E04		       mov     cs:$P_err_flag, 1 ; $P_error_filespec
TRANGROUP:4E0A		       pop     si
TRANGROUP:4E0B		       mov     byte ptr	cs:[si], 0 ; $P_NULL
TRANGROUP:4E0F		       pop     di
TRANGROUP:4E10		       jmp     short $P_FileF02
TRANGROUP:4E12 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4E12
TRANGROUP:4E12 $P_FileF_Err:			       ; ...
TRANGROUP:4E12		       pop     si
TRANGROUP:4E13		       mov     byte ptr	cs:[si], 0
TRANGROUP:4E17		       pop     di
TRANGROUP:4E18		       test    word ptr	es:[bx], 1 ; [es:bx+$P_CONTROL_BLK.$P_Match_Flag],$P_Optional
TRANGROUP:4E1D		       jnz     short $P_FileF02
TRANGROUP:4E1F		       mov     cs:$P_RC, 2     ; $P_Op_Missing
TRANGROUP:4E26		       jmp     short $P_FileF02
TRANGROUP:4E28 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4E28
TRANGROUP:4E28 $P_FileF03:			       ; ...
TRANGROUP:4E28		       pop     ax
TRANGROUP:4E29		       push    si
TRANGROUP:4E2A
TRANGROUP:4E2A $P_FileF_Loop1:			       ; ...
TRANGROUP:4E2A		       mov     al, cs:[si]
TRANGROUP:4E2D		       or      al, al
TRANGROUP:4E2F		       jz      short $P_FileF_RLT
TRANGROUP:4E31		       call    $P_FileSp_Chk
TRANGROUP:4E34		       jz      short $P_FileF00
TRANGROUP:4E36		       call    $P_Chk_DBCS
TRANGROUP:4E39		       jnb     short $P_FileF01
TRANGROUP:4E3B		       inc     di
TRANGROUP:4E3C		       inc     si
TRANGROUP:4E3D
TRANGROUP:4E3D $P_FileF01:			       ; ...
TRANGROUP:4E3D		       inc     di
TRANGROUP:4E3E		       inc     si
TRANGROUP:4E3F		       jmp     short $P_FileF_Loop1
TRANGROUP:4E41 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4E41
TRANGROUP:4E41 $P_FileF00:			       ; ...
TRANGROUP:4E41		       mov     cs:$P_Terminator, al
TRANGROUP:4E45		       mov     byte ptr	cs:[si], 0
TRANGROUP:4E49		       inc     di
TRANGROUP:4E4A		       mov     cs:$P_SI_Save, di
TRANGROUP:4E4F
TRANGROUP:4E4F $P_FileF_RLT:			       ; ...
TRANGROUP:4E4F		       pop     si
TRANGROUP:4E50		       pop     di
TRANGROUP:4E51
TRANGROUP:4E51 $P_FileF02:			       ; ...
TRANGROUP:4E51		       pop     ax
TRANGROUP:4E52		       test    ax, 200h	       ; $P_File_Spc
TRANGROUP:4E55		       jz      short $P_Drv_Only_Exit
TRANGROUP:4E57		       push    ax
TRANGROUP:4E58		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:4E5A		       mov     al, 5	       ; $P_File_Spec
TRANGROUP:4E5C		       call    $P_Fill_Result
TRANGROUP:4E5F		       pop     ax
TRANGROUP:4E60
TRANGROUP:4E60 $P_Drv_Only_Exit:		       ; ...
TRANGROUP:4E60		       retn
TRANGROUP:4E60 $P_File_Format  endp
TRANGROUP:4E60
TRANGROUP:4E61
TRANGROUP:4E61 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4E61
TRANGROUP:4E61
TRANGROUP:4E61 $P_FileSp_Chk   proc near	       ; ...
TRANGROUP:4E61		       push    bx
TRANGROUP:4E62		       push    cx
TRANGROUP:4E63		       lea     bx, $P_FileSp_Char ; "[]|<>+=;\""
TRANGROUP:4E67		       mov     cx, 9	       ; $P_FileSp_Len
TRANGROUP:4E6A
TRANGROUP:4E6A $P_FileSp_Loop:			       ; ...
TRANGROUP:4E6A		       cmp     al, cs:[bx]
TRANGROUP:4E6D		       jz      short $P_FileSp_Exit
TRANGROUP:4E6F		       inc     bx
TRANGROUP:4E70		       loop    $P_FileSp_Loop
TRANGROUP:4E72		       inc     cx
TRANGROUP:4E73
TRANGROUP:4E73 $P_FileSp_Exit:			       ; ...
TRANGROUP:4E73		       pop     cx
TRANGROUP:4E74		       pop     bx
TRANGROUP:4E75		       retn
TRANGROUP:4E75 $P_FileSp_Chk   endp
TRANGROUP:4E75
TRANGROUP:4E76
TRANGROUP:4E76 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4E76
TRANGROUP:4E76
TRANGROUP:4E76 $P_Drive_Format proc near	       ; ...
TRANGROUP:4E76		       push    ax
TRANGROUP:4E77		       push    dx
TRANGROUP:4E78		       mov     al, cs:[si]
TRANGROUP:4E7B		       or      al, al
TRANGROUP:4E7D		       jz      short $P_Drv_Exit
TRANGROUP:4E7F		       call    $P_Chk_DBCS
TRANGROUP:4E82		       jb      short $P_Drv_Err
TRANGROUP:4E84		       cmp     word ptr	cs:[si+1], 3Ah ; ':' ; $P_Colon
TRANGROUP:4E89		       jz      short $P_DrvF00
TRANGROUP:4E8B		       test    word ptr	es:[bx], 10h ; $P_Ig_Colon
TRANGROUP:4E90		       jz      short $P_Drv_Err
TRANGROUP:4E92		       cmp     byte ptr	cs:[si+1], 0
TRANGROUP:4E97		       jnz     short $P_Drv_Err
TRANGROUP:4E99
TRANGROUP:4E99 $P_DrvF00:			       ; ...
TRANGROUP:4E99		       or      al, 20h	       ; $P_Make_Lower
TRANGROUP:4E9B		       cmp     al, 61h ; 'a'
TRANGROUP:4E9D		       jb      short $P_Drv_Err
TRANGROUP:4E9F		       cmp     al, 7Ah ; 'z'
TRANGROUP:4EA1		       ja      short $P_Drv_Err
TRANGROUP:4EA3		       sub     al, 60h ; '`'
TRANGROUP:4EA5		       mov     dl, al
TRANGROUP:4EA7		       mov     ah, 0FFh	       ; $P_No_Tag
TRANGROUP:4EA9		       mov     al, 6	       ; $P_Drive
TRANGROUP:4EAB		       call    $P_Fill_Result
TRANGROUP:4EAE		       jmp     short $P_Drv_Exit
TRANGROUP:4EB0 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4EB0
TRANGROUP:4EB0 $P_Drv_Err:			       ; ...
TRANGROUP:4EB0		       mov     cs:$P_RC, 9     ; $P_Syntax
TRANGROUP:4EB7
TRANGROUP:4EB7 $P_Drv_Exit:			       ; ...
TRANGROUP:4EB7		       pop     dx
TRANGROUP:4EB8		       pop     ax
TRANGROUP:4EB9		       retn
TRANGROUP:4EB9 $P_Drive_Format endp
TRANGROUP:4EB9
TRANGROUP:4EBA
TRANGROUP:4EBA ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4EBA
TRANGROUP:4EBA
TRANGROUP:4EBA $P_Skip_Delim   proc near	       ; ...
TRANGROUP:4EBA		       lodsb
TRANGROUP:4EBB		       call    $P_Chk_EOL
TRANGROUP:4EBE		       jz      short $P_Skip_Delim_CY
TRANGROUP:4EC0		       call    $P_Chk_Delim
TRANGROUP:4EC3		       jnz     short $P_Skip_Delim_NCY
TRANGROUP:4EC5		       test    cs:$P_Flags2, 20h ; $P_Extra
TRANGROUP:4ECB		       jz      short $P_Skip_Delim
TRANGROUP:4ECD		       test    cs:$P_Flags2, 41h
TRANGROUP:4ED3		       jz      short $P_Exit_At_Extra
TRANGROUP:4ED5		       dec     si
TRANGROUP:4ED6		       jmp     short $P_Exit_At_Extra
TRANGROUP:4ED8 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4ED8
TRANGROUP:4ED8 $P_Skip_Delim_CY:		       ; ...
TRANGROUP:4ED8		       stc
TRANGROUP:4ED9		       jmp     short $P_Skip_Delim_Exit
TRANGROUP:4EDB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4EDB
TRANGROUP:4EDB $P_Skip_Delim_NCY:		       ; ...
TRANGROUP:4EDB		       clc
TRANGROUP:4EDC
TRANGROUP:4EDC $P_Skip_Delim_Exit:		       ; ...
TRANGROUP:4EDC		       dec     si
TRANGROUP:4EDD		       retn
TRANGROUP:4EDE ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4EDE
TRANGROUP:4EDE $P_Exit_At_Extra:		       ; ...
TRANGROUP:4EDE		       clc
TRANGROUP:4EDF		       retn
TRANGROUP:4EDF $P_Skip_Delim   endp
TRANGROUP:4EDF
TRANGROUP:4EE0
TRANGROUP:4EE0 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4EE0
TRANGROUP:4EE0
TRANGROUP:4EE0 $P_Chk_EOL      proc near	       ; ...
TRANGROUP:4EE0		       push    bx
TRANGROUP:4EE1		       push    cx
TRANGROUP:4EE2		       cmp     al, 0Dh	       ; $P_CR
TRANGROUP:4EE4		       jz      short $P_Chk_EOL_Exit
TRANGROUP:4EE6		       cmp     al, 0	       ; $P_NULL
TRANGROUP:4EE8		       jz      short $P_Chk_EOL_Exit
TRANGROUP:4EEA		       cmp     byte ptr	es:[di+2], 2 ; [es:di+$P_PARMS_BLK.$P_Num_Extra],$P_I_Have_EOL
TRANGROUP:4EEF		       jb      short $P_Chk_EOL_Exit
TRANGROUP:4EF1		       xor     bx, bx
TRANGROUP:4EF3		       mov     bl, es:[di+3]   ; [es:di+$P_PARMS_BLK.$P_Len_Extra_Delim]
TRANGROUP:4EF7		       add     bx, 4	       ; $P_Len_PARMS
TRANGROUP:4EFA		       cmp     byte ptr	es:[bx+di], 0 ;	$P_I_Use_Default
TRANGROUP:4EFE		       jz      short $P_Chk_EOL_NZ
TRANGROUP:4F00		       xor     cx, cx
TRANGROUP:4F02		       mov     cl, es:[bx+di]
TRANGROUP:4F05
TRANGROUP:4F05 $P_Chk_EOL_Loop:			       ; ...
TRANGROUP:4F05		       inc     bx
TRANGROUP:4F06		       cmp     al, es:[bx+di]
TRANGROUP:4F09		       jz      short $P_Chk_EOL_Exit
TRANGROUP:4F0B		       loop    $P_Chk_EOL_Loop
TRANGROUP:4F0D
TRANGROUP:4F0D $P_Chk_EOL_NZ:			       ; ...
TRANGROUP:4F0D		       cmp     al, 0Dh
TRANGROUP:4F0F
TRANGROUP:4F0F $P_Chk_EOL_Exit:			       ; ...
TRANGROUP:4F0F		       pop     cx
TRANGROUP:4F10		       pop     bx
TRANGROUP:4F11		       retn
TRANGROUP:4F11 $P_Chk_EOL      endp
TRANGROUP:4F11
TRANGROUP:4F12
TRANGROUP:4F12 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4F12
TRANGROUP:4F12
TRANGROUP:4F12 $P_Chk_Delim    proc near	       ; ...
TRANGROUP:4F12		       push    bx
TRANGROUP:4F13		       push    cx
TRANGROUP:4F14		       mov     cs:$P_Terminator, 20h ; ' ' ; $P_Space
TRANGROUP:4F1A		       and     cs:$P_Flags2, 0DFh ; 0FFh-$P_Extra
TRANGROUP:4F20		       cmp     al, 20h ; ' '   ; $P_Space
TRANGROUP:4F22		       jz      short $P_Chk_Delim_Exit
TRANGROUP:4F24		       cmp     al, 9	       ; $P_TAB
TRANGROUP:4F26		       jz      short $P_Chk_Delim_Exit
TRANGROUP:4F28		       cmp     al, 2Ch ; ','   ; $P_Comma
TRANGROUP:4F2A		       jz      short $P_Chk_Delim_Exit0
TRANGROUP:4F2C		       cmp     al, 20h ; ' '   ; $P_DBSP1
TRANGROUP:4F2E		       jnz     short $P_Chk_Delim01
TRANGROUP:4F30		       cmp     byte ptr	[si], 20h ; ' ' ; $P_DBSP2
TRANGROUP:4F33		       jnz     short $P_Chk_Delim01
TRANGROUP:4F35		       mov     al, 20h ; ' '
TRANGROUP:4F37		       inc     si
TRANGROUP:4F38		       cmp     al, al
TRANGROUP:4F3A		       jmp     short $P_Chk_Delim_Exit
TRANGROUP:4F3C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4F3C
TRANGROUP:4F3C $P_Chk_Delim01:			       ; ...
TRANGROUP:4F3C		       cmp     byte ptr	es:[di+2], 1 ; [es:di+$P_PARMS_BLK.$P_Num_Extra],$P_I_Have_Delim
TRANGROUP:4F41		       jb      short $P_Chk_Delim_Exit
TRANGROUP:4F43		       xor     cx, cx
TRANGROUP:4F45		       mov     cl, es:[di+3]   ; [es:di+$P_PARMS_BLK.$P_Len_Extra_Delim]
TRANGROUP:4F49		       or      cx, cx
TRANGROUP:4F4B		       jz      short $P_Chk_Delim_NZ
TRANGROUP:4F4D		       mov     bx, 3	       ; $P_Len_PARMS-1
TRANGROUP:4F50
TRANGROUP:4F50 $P_Chk_Delim_Loop:		       ; ...
TRANGROUP:4F50		       inc     bx
TRANGROUP:4F51		       cmp     al, es:[bx+di]
TRANGROUP:4F54		       jz      short $P_Chk_Delim_Exit0
TRANGROUP:4F56		       loop    $P_Chk_Delim_Loop
TRANGROUP:4F58
TRANGROUP:4F58 $P_Chk_Delim_NZ:			       ; ...
TRANGROUP:4F58		       cmp     al, 20h ; ' '   ; $P_Space
TRANGROUP:4F5A
TRANGROUP:4F5A $P_Chk_Delim_Exit:		       ; ...
TRANGROUP:4F5A		       pop     cx
TRANGROUP:4F5B		       pop     bx
TRANGROUP:4F5C		       retn
TRANGROUP:4F5D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4F5D
TRANGROUP:4F5D $P_Chk_Delim_Exit0:		       ; ...
TRANGROUP:4F5D		       mov     cs:$P_Terminator, al
TRANGROUP:4F61		       test    cs:$P_Flags2, 1 ; $P_equ
TRANGROUP:4F67		       jnz     short $P_No_Set_Extra
TRANGROUP:4F69		       or      cs:$P_Flags2, 20h ; $P_Extra
TRANGROUP:4F6F
TRANGROUP:4F6F $P_No_Set_Extra:			       ; ...
TRANGROUP:4F6F		       cmp     al, al
TRANGROUP:4F71		       jmp     short $P_Chk_Delim_Exit
TRANGROUP:4F71 $P_Chk_Delim    endp
TRANGROUP:4F71
TRANGROUP:4F73
TRANGROUP:4F73 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4F73
TRANGROUP:4F73
TRANGROUP:4F73 $P_Chk_Switch   proc near	       ; ...
TRANGROUP:4F73		       lea     bp, $P_STRING_BUF
TRANGROUP:4F77		       cmp     bx, bp
TRANGROUP:4F79		       jz      short $P_STRUC_L2
TRANGROUP:4F7B		       cmp     al, 2Fh ; '/'   ; $P_Switch
TRANGROUP:4F7D		       jnz     short $P_STRUC_L5
TRANGROUP:4F7F		       stc
TRANGROUP:4F80		       push    ax
TRANGROUP:4F81		       mov     al, cs:[bx-1]
TRANGROUP:4F85		       call    $P_0099
TRANGROUP:4F88		       jb      short $P_STRUC_L7
TRANGROUP:4F8A		       mov     al, [si]
TRANGROUP:4F8C		       call    $P_0099
TRANGROUP:4F8F
TRANGROUP:4F8F $P_STRUC_L7:			       ; ...
TRANGROUP:4F8F		       pop     ax
TRANGROUP:4F90		       jmp     short $P_STRUC_L1
TRANGROUP:4F92 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4F92
TRANGROUP:4F92 $P_STRUC_L5:			       ; ...
TRANGROUP:4F92		       clc
TRANGROUP:4F93		       jmp     short $P_STRUC_L1
TRANGROUP:4F95 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4F95
TRANGROUP:4F95 $P_STRUC_L2:			       ; ...
TRANGROUP:4F95		       cmp     al, 2Fh ; '/'   ; $P_Switch
TRANGROUP:4F97		       jnz     short $P_STRUC_L12
TRANGROUP:4F99		       or      cs:$P_Flags2, 40h ; $P_SW
TRANGROUP:4F9F
TRANGROUP:4F9F $P_STRUC_L12:			       ; ...
TRANGROUP:4F9F		       clc
TRANGROUP:4FA0
TRANGROUP:4FA0 $P_STRUC_L1:			       ; ...
TRANGROUP:4FA0		       retn
TRANGROUP:4FA0 $P_Chk_Switch   endp
TRANGROUP:4FA0
TRANGROUP:4FA1
TRANGROUP:4FA1 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4FA1
TRANGROUP:4FA1
TRANGROUP:4FA1 $P_Chk_DBCS     proc near	       ; ...
TRANGROUP:4FA1		       push    ds
TRANGROUP:4FA2		       push    si
TRANGROUP:4FA3		       push    bx
TRANGROUP:4FA4		       cmp     cs:$P_DBCSEV_SEG, 0 ; cmp psdata_seg:$P_DBCSEV_SEG
TRANGROUP:4FAA		       jnz     short $P_DBCS00
TRANGROUP:4FAC		       push    ax
TRANGROUP:4FAD		       push    ds
TRANGROUP:4FAE		       push    cx
TRANGROUP:4FAF		       push    dx
TRANGROUP:4FB0		       push    di
TRANGROUP:4FB1		       push    bp
TRANGROUP:4FB2		       push    es
TRANGROUP:4FB3		       xor     si, si
TRANGROUP:4FB5		       mov     ds, si
TRANGROUP:4FB7		       assume ds:RESGROUP
TRANGROUP:4FB7		       mov     ax, 6300h
TRANGROUP:4FBA		       int     21h	       ; DOS - 3.2+ only - GET DOUBLE BYTE CHARACTER SET LEAD TABLE
TRANGROUP:4FBC		       mov     bx, ds
TRANGROUP:4FBE		       or      bx, bx
TRANGROUP:4FC0		       pop     es
TRANGROUP:4FC1		       pop     bp
TRANGROUP:4FC2		       pop     di
TRANGROUP:4FC3		       pop     dx
TRANGROUP:4FC4		       pop     cx
TRANGROUP:4FC5		       pop     ds
TRANGROUP:4FC6		       assume ds:nothing
TRANGROUP:4FC6		       pop     ax
TRANGROUP:4FC7		       jz      short $P_NON_DBCS
TRANGROUP:4FC9		       mov     cs:$P_DBCSEV_OFF, si
TRANGROUP:4FCE		       mov     cs:$P_DBCSEV_SEG, bx ; psdata_seg:$P_DBCSEV_SEG,bx
TRANGROUP:4FD3
TRANGROUP:4FD3 $P_DBCS00:			       ; ...
TRANGROUP:4FD3		       mov     si, cs:$P_DBCSEV_OFF ; psdata_seg:$P_DBCSEV_OFF
TRANGROUP:4FD8		       mov     ds, cs:$P_DBCSEV_SEG
TRANGROUP:4FDD
TRANGROUP:4FDD $P_DBCS_LOOP:			       ; ...
TRANGROUP:4FDD		       cmp     word ptr	[si], 0
TRANGROUP:4FE0		       jz      short $P_NON_DBCS
TRANGROUP:4FE2		       cmp     al, [si]
TRANGROUP:4FE4		       jb      short $P_DBCS01
TRANGROUP:4FE6		       cmp     al, [si+1]
TRANGROUP:4FE9		       ja      short $P_DBCS01
TRANGROUP:4FEB		       stc
TRANGROUP:4FEC		       jmp     short $P_DBCS_EXIT
TRANGROUP:4FEE ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4FEE
TRANGROUP:4FEE $P_DBCS01:			       ; ...
TRANGROUP:4FEE		       inc     si
TRANGROUP:4FEF		       inc     si
TRANGROUP:4FF0		       jmp     short $P_DBCS_LOOP
TRANGROUP:4FF2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4FF2
TRANGROUP:4FF2 $P_NON_DBCS:			       ; ...
TRANGROUP:4FF2		       clc
TRANGROUP:4FF3
TRANGROUP:4FF3 $P_DBCS_EXIT:			       ; ...
TRANGROUP:4FF3		       pop     bx
TRANGROUP:4FF4		       pop     si
TRANGROUP:4FF5		       pop     ds
TRANGROUP:4FF6		       retn
TRANGROUP:4FF6 $P_Chk_DBCS     endp
TRANGROUP:4FF6
TRANGROUP:4FF7
TRANGROUP:4FF7 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4FF7
TRANGROUP:4FF7
TRANGROUP:4FF7 cmd_parse       proc near	       ; ...
TRANGROUP:4FF7		       call    sysparse
TRANGROUP:4FFA		       retn
TRANGROUP:4FFA cmd_parse       endp
TRANGROUP:4FFA
TRANGROUP:4FFB
TRANGROUP:4FFB ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:4FFB
TRANGROUP:4FFB
TRANGROUP:4FFB append_parse    proc far		       ; ...
TRANGROUP:4FFB		       call    sysparse
TRANGROUP:4FFE		       retf
TRANGROUP:4FFE append_parse    endp
TRANGROUP:4FFE
TRANGROUP:4FFF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:4FFF
TRANGROUP:4FFF Printf_Init:			       ; ...
TRANGROUP:4FFF		       call    std_printf
TRANGROUP:5002		       retf
TRANGROUP:5003
TRANGROUP:5003 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5003
TRANGROUP:5003
TRANGROUP:5003 Printf_Crlf     proc near	       ; ...
TRANGROUP:5003		       call    std_printf
TRANGROUP:5006		       call    CRLF2
TRANGROUP:5009		       retn
TRANGROUP:5009 Printf_Crlf     endp
TRANGROUP:5009
TRANGROUP:500A
TRANGROUP:500A ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:500A
TRANGROUP:500A
TRANGROUP:500A std_eprintf     proc near	       ; ...
TRANGROUP:500A		       mov     ds:PRINTF_HANDLE, 2
TRANGROUP:5010		       jmp     short new_printf
TRANGROUP:5010 std_eprintf     endp
TRANGROUP:5010
TRANGROUP:5012
TRANGROUP:5012 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5012
TRANGROUP:5012
TRANGROUP:5012 std_printf      proc near	       ; ...
TRANGROUP:5012		       mov     ds:PRINTF_HANDLE, 1
TRANGROUP:5018
TRANGROUP:5018 new_printf:			       ; ...
TRANGROUP:5018		       push    ax
TRANGROUP:5019		       push    bx
TRANGROUP:501A		       push    cx
TRANGROUP:501B		       push    es
TRANGROUP:501C		       push    ds
TRANGROUP:501D		       pop     es
TRANGROUP:501E		       push    di
TRANGROUP:501F		       push    si
TRANGROUP:5020		       push    dx
TRANGROUP:5021		       mov     ds:print_err_flag, 0 ; mov word [print_err_flag],0
TRANGROUP:5027		       mov     si, dx
TRANGROUP:5029		       lodsw
TRANGROUP:502A		       push    ax
TRANGROUP:502B		       lodsb
TRANGROUP:502C		       mov     cl, al
TRANGROUP:502E		       xor     ch, ch
TRANGROUP:5030		       pop     ax
TRANGROUP:5031		       cmp     cx, 0
TRANGROUP:5034		       jz      short ready_to_print
TRANGROUP:5036		       mov     di, offset subst_buffer
TRANGROUP:5039		       push    di
TRANGROUP:503A		       push    cx
TRANGROUP:503B
TRANGROUP:503B move_subst:			       ; ...
TRANGROUP:503B		       push    cx
TRANGROUP:503C		       mov     bx, si
TRANGROUP:503E		       mov     cx, 11	       ; parm_block_size
TRANGROUP:5041		       rep movsb
TRANGROUP:5043		       test    byte ptr	[bx+7],	4 ; [bx.$M_S_FLAG],date_type
TRANGROUP:5047		       jz      short move_subst_cont
TRANGROUP:5049		       mov     word ptr	[bx+2],	0 ; [bx.$M_S_VALUE],0
TRANGROUP:504E		       mov     word ptr	[bx+4],	0 ; [bx.$M_S_VALUE+2],0
TRANGROUP:5053
TRANGROUP:5053 move_subst_cont:			       ; ...
TRANGROUP:5053		       pop     cx
TRANGROUP:5054		       loop    move_subst
TRANGROUP:5056		       pop     cx	       ; (number of substitutions)
TRANGROUP:5057		       push    ax	       ; (Message Number)
TRANGROUP:5058		       cmp     ds:msg_disp_class, 0FFh ; Util_Msg_Class
TRANGROUP:505D		       jz      short check_fix
TRANGROUP:505F		       mov     ds:msg_flag, 1  ; ext_msg_class
TRANGROUP:5064		       mov     di, offset extend_buf_ptr
TRANGROUP:5067		       xor     ax, ax
TRANGROUP:5069		       stosw
TRANGROUP:506A		       stosb
TRANGROUP:506B
TRANGROUP:506B check_fix:			       ; ...
TRANGROUP:506B		       pop     ax	       ; (Message Number)
TRANGROUP:506C		       pop     di	       ; (subst_buffer)
TRANGROUP:506D		       mov     si, di
TRANGROUP:506F		       mov     bx, si
TRANGROUP:5071		       push    cx
TRANGROUP:5072
TRANGROUP:5072 set_subst:			       ; ...
TRANGROUP:5072		       cmp     word ptr	[bx+4],	0 ; [bx.$M_S_VALUE+2],0
TRANGROUP:5076		       jnz     short subst_seg_set
TRANGROUP:5078		       test    byte ptr	[bx+7],	4 ; [bx.$M_S_FLAG],date_type
TRANGROUP:507C		       jnz     short subst_seg_set
TRANGROUP:507E		       mov     word ptr	[bx+4],	cs ; [bx.$M_S_VALUE+2],cs
TRANGROUP:5081
TRANGROUP:5081 subst_seg_set:			       ; ...
TRANGROUP:5081		       add     bx, 11	       ; parm_block_size
TRANGROUP:5084		       loop    set_subst
TRANGROUP:5086		       pop     cx
TRANGROUP:5087		       mov     bx, si
TRANGROUP:5089		       cmp     word ptr	[bx+2],	offset string_ptr_2 ;
TRANGROUP:5089					       ; [bx.$M_S_VALUE],offset	trangroup:string_ptr_2
TRANGROUP:508E		       jnz     short ready_to_print
TRANGROUP:5090		       mov     dx, ds:string_ptr_2
TRANGROUP:5094		       mov     [bx+2], dx      ; [bx.$M_S_VALUE],dx
TRANGROUP:5097
TRANGROUP:5097 ready_to_print:			       ; ...
TRANGROUP:5097		       mov     bx, ds:PRINTF_HANDLE
TRANGROUP:509B		       mov     dl, ds:msg_cont_flag
TRANGROUP:509F		       mov     dh, ds:msg_disp_class
TRANGROUP:50A3		       mov     ds:msg_cont_flag, 0 ; no_cont_flag
TRANGROUP:50A8		       mov     ds:msg_disp_class, 0FFh ; Util_Msg_Class
TRANGROUP:50AD		       push    ds
TRANGROUP:50AE		       push    es
TRANGROUP:50AF		       call    SYSDISPMSG
TRANGROUP:50B2		       pop     es
TRANGROUP:50B3		       pop     ds
TRANGROUP:50B4		       jnb     short print_success
TRANGROUP:50B6		       mov     ds:print_err_flag, ax
TRANGROUP:50B9
TRANGROUP:50B9 print_success:			       ; ...
TRANGROUP:50B9		       pop     dx
TRANGROUP:50BA		       pop     si
TRANGROUP:50BB		       pop     di
TRANGROUP:50BC		       pop     es
TRANGROUP:50BD		       pop     cx
TRANGROUP:50BE		       pop     bx
TRANGROUP:50BF		       pop     ax
TRANGROUP:50C0		       cmp     ds:print_err_flag, 0 ; cmp word [print_err_flag],0
TRANGROUP:50C5		       jnz     short print_err
TRANGROUP:50C7		       retn
TRANGROUP:50C8 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:50C8
TRANGROUP:50C8 print_err:			       ; ...
TRANGROUP:50C8		       push    cs
TRANGROUP:50C9		       pop     es
TRANGROUP:50CA		       assume es:TRANGROUP
TRANGROUP:50CA		       cmp     ds:PRINTF_HANDLE, 2
TRANGROUP:50CF		       jnz     short not_stderr
TRANGROUP:50D1		       jmp     TCOMMAND
TRANGROUP:50D4 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:50D4
TRANGROUP:50D4 not_stderr:			       ; ...
TRANGROUP:50D4		       mov     ax, ds:print_err_flag
TRANGROUP:50D7		       mov     es, ds:RESSEG
TRANGROUP:50DB		       assume es:nothing
TRANGROUP:50DB		       test    es:PipeFlag, 0FFh ; -1
TRANGROUP:50E1		       jz      short _go_to_error
TRANGROUP:50E3		       call    PipeOff
TRANGROUP:50E6		       mov     dx, offset PIPEEMES_PTR
TRANGROUP:50E9		       jmp     short print_err_exit
TRANGROUP:50EB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:50EB
TRANGROUP:50EB _go_to_error:			       ; ...
TRANGROUP:50EB		       mov     ds:msg_disp_class, 1 ; ext_msg_class
TRANGROUP:50F0		       mov     dx, offset extend_buf_ptr
TRANGROUP:50F3		       mov     ds:extend_buf_ptr, ax
TRANGROUP:50F6
TRANGROUP:50F6 print_err_exit:			       ; ...
TRANGROUP:50F6		       push    cs
TRANGROUP:50F7		       pop     es
TRANGROUP:50F8		       assume es:TRANGROUP
TRANGROUP:50F8		       jmp     cerror
TRANGROUP:50F8 std_printf      endp
TRANGROUP:50F8
TRANGROUP:50FB
TRANGROUP:50FB ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:50FB
TRANGROUP:50FB
TRANGROUP:50FB TSYSLOADMSG     proc near	       ; ...
TRANGROUP:50FB		       push    bx
TRANGROUP:50FC		       call    SYSLOADMSG
TRANGROUP:50FF		       pop     bx
TRANGROUP:5100		       retn
TRANGROUP:5100 TSYSLOADMSG     endp
TRANGROUP:5100
TRANGROUP:5101
TRANGROUP:5101 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5101
TRANGROUP:5101
TRANGROUP:5101 TSYSGETMSG      proc near	       ; ...
TRANGROUP:5101		       push    cx
TRANGROUP:5102		       call    SYSGETMSG
TRANGROUP:5105		       pop     cx
TRANGROUP:5106		       retn
TRANGROUP:5106 TSYSGETMSG      endp
TRANGROUP:5106
TRANGROUP:5107
TRANGROUP:5107 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5107
TRANGROUP:5107
TRANGROUP:5107 SYSLOADMSG      proc near	       ; ...
TRANGROUP:5107		       push    ax
TRANGROUP:5108		       push    bx
TRANGROUP:5109		       push    dx
TRANGROUP:510A		       push    es
TRANGROUP:510B		       push    di
TRANGROUP:510C		       xor     cx, cx
TRANGROUP:510E		       mov     es, cx
TRANGROUP:5110		       assume es:RESGROUP
TRANGROUP:5110		       xor     di, di
TRANGROUP:5112		       mov     ax, 122Eh       ; DOS_GET_EXT_PARSE_ADD
TRANGROUP:5115		       mov     dl, 0	       ; DOS_GET_EXTENDED
TRANGROUP:5117		       int     2Fh	       ; Multiplex - DOS 3+ internal - GET OR SET ERROR	TABLE ADDRESSES
TRANGROUP:5117					       ; DL = subfunction - get	standard DOS error table (errors 00h-12h,50h-5Bh)
TRANGROUP:5117					       ; Return: ES:DI -> error	table
TRANGROUP:5119		       mov     ds:$M_RT_$M_EXT_COMMAND+2, es ; [$M_RT+10]
TRANGROUP:511D		       mov     ds:$M_RT_$M_EXT_COMMAND,	di ; [$M_RT+8]
TRANGROUP:5121		       mov     ax, 122Eh
TRANGROUP:5124		       mov     dl, 2	       ; DOS_GET_PARSE
TRANGROUP:5126		       int     2Fh	       ; Multiplex - DOS 3+ internal - GET OR SET ERROR	TABLE ADDRESSES
TRANGROUP:5126					       ; DL = subfunction - get	parameter error	table (errors 00h-0Ah)
TRANGROUP:5126					       ; ES:DI -> error	table
TRANGROUP:5128		       mov     ds:$M_RT_$M_PARSE_COMMAND+2, es ; [$M_RT+18]
TRANGROUP:512C		       mov     ds:$M_RT_$M_PARSE_COMMAND, di ; [$M_RT+16]
TRANGROUP:5130		       mov     ax, 122Eh
TRANGROUP:5133		       mov     dl, 4	       ; DOS_GET_CRITICAL
TRANGROUP:5135		       int     2Fh	       ; Multiplex - DOS 3+ internal - GET OR SET ERROR	TABLE ADDRESSES
TRANGROUP:5135					       ; DL = subfunction - get	critical/SHARE error table (errors 13h-2Bh)
TRANGROUP:5135					       ; ES:DI -> error	table
TRANGROUP:5137		       mov     ds:$M_RT_$M_CRIT_COMMAND+2, es ;	[$M_RT+34]
TRANGROUP:513B		       mov     ds:$M_RT_$M_CRIT_COMMAND, di ; [$M_RT+32]
TRANGROUP:513F		       mov     ax, 122Eh
TRANGROUP:5142		       mov     dl, 6	       ; DOS_GET_FILE
TRANGROUP:5144		       int     2Fh	       ; Multiplex - DOS 3+ internal - GET OR SET ERROR	TABLE ADDRESSES
TRANGROUP:5144					       ; DL = subfunction - get	??? error table
TRANGROUP:5144					       ; ES:DI -> error	table
TRANGROUP:5146		       mov     ds:$M_RT_$M_EXT_FILE+2, es ; [$M_RT+6]
TRANGROUP:514A		       mov     ds:$M_RT_$M_EXT_FILE, di	; [$M_RT+4]
TRANGROUP:514E		       call    $M_MSGSERV_1
TRANGROUP:5151		       mov     ds:$M_RT_$M_EXT_ERR_ADDRS+2, es ; [$M_RT+2]
TRANGROUP:5155		       mov     ds:$M_RT_$M_EXT_ERR_ADDRS, di ; [$M_RT+0]
TRANGROUP:5159		       mov     ds:$M_RT_$M_CRIT_ADDRS+2, es ; [$M_RT+30]
TRANGROUP:515D		       mov     ds:$M_RT_$M_CRIT_ADDRS, di ; [$M_RT+28]
TRANGROUP:5161		       call    $M_MSGSERV_2
TRANGROUP:5164		       mov     ds:$M_RT_$M_PARSE_ADDRS+2, es ; [$M_RT+22]
TRANGROUP:5168		       mov     ds:$M_RT_$M_PARSE_ADDRS,	di ; [$M_RT+20]
TRANGROUP:516C		       mov     ax, 122Eh       ; DOS_GET_EXT_PARSE_ADD
TRANGROUP:516F		       mov     dl, 8	       ; DOS_GET_ADDR
TRANGROUP:5171		       int     2Fh	       ; Multiplex - DOS 3+ internal - GET OR SET ERROR	TABLE ADDRESSES
TRANGROUP:5171					       ; DL = subfunction - get	??? error table
TRANGROUP:5171					       ; Return: ES:DI -> error	table
TRANGROUP:5173		       mov     word ptr	ds:$M_RT_$M_DISK_PROC_ADDR+2, es ; [$M_RT+42]
TRANGROUP:5177		       mov     word ptr	ds:$M_RT_$M_DISK_PROC_ADDR, di ; [$M_RT+40]
TRANGROUP:517B		       mov     ds:$M_RT_$M_CRLF, 0A0Dh ; CRLF
TRANGROUP:5181		       mov     ds:$M_RT_$M_BUF_TERM, '$'
TRANGROUP:5186		       mov     ds:$M_RT_$M_MSG_NUM, 0 ;	$M_NULL
TRANGROUP:518C		       mov     ds:$M_RT_$M_DIVISOR, 10 ; $M_BASE10
TRANGROUP:5192		       call    $M_CLS_3	       ; Get addressibilty to class F
TRANGROUP:5195		       mov     ds:$M_RT_$M_CLASS_ADDRS,	di ; $M_RT.$M_CLASS_ADDRS+$M_INDEX ; $M_INDEX =	0
TRANGROUP:5195					       ; [$M_RT+44]
TRANGROUP:5199		       call    $M_GET_DBCS_VEC
TRANGROUP:519C		       clc
TRANGROUP:519D		       jb      short $MIF20
TRANGROUP:519F		       pop     di
TRANGROUP:51A0		       pop     es
TRANGROUP:51A1		       assume es:nothing
TRANGROUP:51A1		       pop     dx
TRANGROUP:51A2		       pop     bx
TRANGROUP:51A3		       pop     ax
TRANGROUP:51A4		       jmp     short $MEN20
TRANGROUP:51A6 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:51A6
TRANGROUP:51A6 $MIF20:				       ; ...
TRANGROUP:51A6		       add     sp, 10
TRANGROUP:51A9		       stc
TRANGROUP:51AA
TRANGROUP:51AA $MEN20:				       ; ...
TRANGROUP:51AA		       retn
TRANGROUP:51AA SYSLOADMSG      endp
TRANGROUP:51AA
TRANGROUP:51AB
TRANGROUP:51AB ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:51AB
TRANGROUP:51AB
TRANGROUP:51AB $M_GET_DBCS_VEC proc near	       ; ...
TRANGROUP:51AB		       push    ax
TRANGROUP:51AC		       push    si
TRANGROUP:51AD		       push    ds
TRANGROUP:51AE		       mov     ax, 6300h       ; DOS_GET_DBCS_INFO
TRANGROUP:51B1		       int     21h	       ; DOS - 3.2+ only - GET DOUBLE BYTE CHARACTER SET LEAD TABLE
TRANGROUP:51B3		       push    ds
TRANGROUP:51B4		       pop     es
TRANGROUP:51B5		       pop     ds
TRANGROUP:51B6		       jb      short $MIF23
TRANGROUP:51B8		       mov     word ptr	ds:$M_RT_$M_DBCS_VEC, si ; $M_RT.$M_DBCS_VEC
TRANGROUP:51B8					       ; [$M_RT+60]
TRANGROUP:51BC		       mov     word ptr	ds:$M_RT_$M_DBCS_VEC+2,	es ; [$M_RT+62]
TRANGROUP:51C0
TRANGROUP:51C0 $MIF23:				       ; ...
TRANGROUP:51C0		       pop     si
TRANGROUP:51C1		       pop     ax
TRANGROUP:51C2		       retn
TRANGROUP:51C2 $M_GET_DBCS_VEC endp
TRANGROUP:51C2
TRANGROUP:51C3
TRANGROUP:51C3 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:51C3
TRANGROUP:51C3
TRANGROUP:51C3 SYSGETMSG       proc near	       ; ...
TRANGROUP:51C3		       push    ax
TRANGROUP:51C4		       push    es
TRANGROUP:51C5		       push    di
TRANGROUP:51C6		       push    bp
TRANGROUP:51C7		       call    $M_GET_MSG_ADDRESS
TRANGROUP:51CA		       jb      short $MIF31
TRANGROUP:51CC		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:51CF		       clc
TRANGROUP:51D0		       jz      short $MIF32
TRANGROUP:51D2		       push    es
TRANGROUP:51D3		       pop     ds
TRANGROUP:51D4		       jmp     short $MEN32
TRANGROUP:51D6 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:51D6
TRANGROUP:51D6 $MIF32:				       ; ...
TRANGROUP:51D6		       push    cs
TRANGROUP:51D7		       pop     ds
TRANGROUP:51D8		       assume ds:TRANGROUP
TRANGROUP:51D8
TRANGROUP:51D8 $MEN32:				       ; ...
TRANGROUP:51D8		       mov     si, di
TRANGROUP:51DA
TRANGROUP:51DA $MIF31:				       ; ...
TRANGROUP:51DA		       pop     bp
TRANGROUP:51DB		       pop     di
TRANGROUP:51DC		       pop     es
TRANGROUP:51DD		       pop     ax
TRANGROUP:51DE		       retn
TRANGROUP:51DE SYSGETMSG       endp
TRANGROUP:51DE
TRANGROUP:51DF
TRANGROUP:51DF ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:51DF
TRANGROUP:51DF
TRANGROUP:51DF $M_GET_MSG_ADDRESS proc near	       ; ...
TRANGROUP:51DF
TRANGROUP:51DF ; FUNCTION CHUNK	AT TRANGROUP:5278 SIZE 00000007	BYTES
TRANGROUP:51DF
TRANGROUP:51DF		       push    si
TRANGROUP:51E0		       push    bx
TRANGROUP:51E1		       xor     si, si
TRANGROUP:51E3		       xor     cx, cx
TRANGROUP:51E5
TRANGROUP:51E5 $MDO36:				       ; ...
TRANGROUP:51E5		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:51E8		       jnz     short $MIF37
TRANGROUP:51EA		       mov     di, $M_RT_$M_CLASS_ADDRS[si] ;
TRANGROUP:51EA					       ; DWORD PTR $M_RT.$M_CLASS_ADDRS[SI]
TRANGROUP:51EE		       mov     bx, di
TRANGROUP:51F0		       jmp     short $MEN37
TRANGROUP:51F2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:51F2
TRANGROUP:51F2 $MIF37:				       ; ...
TRANGROUP:51F2		       test    dh, 2	       ; PARSE_ERR_CLASS
TRANGROUP:51F5		       jz      short $MIF39
TRANGROUP:51F7		       les     di, dword ptr $M_RT_$M_PARSE_COMMAND[si]	;
TRANGROUP:51F7					       ; DWORD PTR $M_RT.$M_PARSE_COMMAND[SI]
TRANGROUP:51FB		       mov     bx, es
TRANGROUP:51FD		       jmp     short $MEN37
TRANGROUP:51FF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:51FF
TRANGROUP:51FF $MIF39:				       ; ...
TRANGROUP:51FF		       cmp     ax, 19	       ; $M_CRIT_LO
TRANGROUP:5202		       jb      short $MIF41
TRANGROUP:5204		       cmp     ax, 39	       ; $M_CRIT_HI
TRANGROUP:5207		       ja      short $MIF41
TRANGROUP:5209		       les     di, dword ptr $M_RT_$M_CRIT_ADDRS[si] ;
TRANGROUP:5209					       ; DWORD PTR $M_RT.$M_CRIT_ADDRS[SI]
TRANGROUP:520D		       mov     bx, es
TRANGROUP:520F		       jmp     short $MEN37
TRANGROUP:5211 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5211
TRANGROUP:5211 $MIF41:				       ; ...
TRANGROUP:5211		       les     di, dword ptr $M_RT_$M_EXT_ERR_ADDRS[si]	;
TRANGROUP:5211					       ; DWORD PTR $M_RT.$M_EXT_ERR_ADDRS[SI]
TRANGROUP:5215		       mov     bx, es
TRANGROUP:5217
TRANGROUP:5217 $MEN37:				       ; ...
TRANGROUP:5217		       cmp     bx, 0FFFFh      ; $M_TERMINATING_FLAG
TRANGROUP:521A		       jnz     short $MIF46
TRANGROUP:521C		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:521F		       jnz     short $MIF47
TRANGROUP:5221		       stc
TRANGROUP:5222		       jmp     short $MEN47
TRANGROUP:5224 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5224
TRANGROUP:5224 $MIF47:				       ; ...
TRANGROUP:5224		       mov     $M_RT_$M_MSG_NUM, ax ; $M_RT.$M_MSG_NUM
TRANGROUP:5224					       ; [$M_RT+72]
TRANGROUP:5227		       mov     ax, 0FFFFh      ; $M_SPECIAL_MSG_NUM
TRANGROUP:522A		       mov     bp, 1	       ; $M_ONE_REPLACE
TRANGROUP:522D		       xor     si, si
TRANGROUP:522F		       clc
TRANGROUP:5230
TRANGROUP:5230 $MEN47:				       ; ...
TRANGROUP:5230		       jmp     short $MEN46
TRANGROUP:5232 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5232
TRANGROUP:5232 $MIF46:				       ; ...
TRANGROUP:5232		       cmp     bx, 0	       ; $M_CLASS_NOT_EXIST
TRANGROUP:5235		       jz      short $MIF51
TRANGROUP:5237		       call    $M_FIND_SPECIFIED_MSG
TRANGROUP:523A
TRANGROUP:523A $MIF51:				       ; ...
TRANGROUP:523A		       add     si, 4	       ; $M_ADDR_SZ_FAR
TRANGROUP:523D		       clc
TRANGROUP:523E
TRANGROUP:523E $MEN46:				       ; ...
TRANGROUP:523E		       jb      short $MEN36
TRANGROUP:5240		       or      cx, cx
TRANGROUP:5242		       jnz     short $MEN36
TRANGROUP:5244		       jmp     short $MDO36
TRANGROUP:5246 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5246
TRANGROUP:5246 $MEN36:				       ; ...
TRANGROUP:5246		       pushf
TRANGROUP:5247		       cmp     dh, 1	       ; EXT_ERR_CLASS
TRANGROUP:524A		       jnz     short $MIF56
TRANGROUP:524C		       push    dx
TRANGROUP:524D		       push    bp
TRANGROUP:524E		       push    cx
TRANGROUP:524F		       push    es
TRANGROUP:5250		       push    di
TRANGROUP:5251		       push    ax
TRANGROUP:5252		       mov     ax, 500h	       ; IFSFUNC_INSTALL_CHECK
TRANGROUP:5255		       int     2Fh	       ; Multiplex - DOS 3+ CRITICAL ERROR HANDLER - INSTALLATION CHECK
TRANGROUP:5255					       ; Return: AL = 00h not installed, OK to install
TRANGROUP:5255					       ; 01h not installed, can't install
TRANGROUP:5255					       ; FFh installed
TRANGROUP:5257		       cmp     al, 0FFh	       ; IFSFUNC_INSTALLED
TRANGROUP:5259		       pop     ax
TRANGROUP:525A		       jnz     short $MIF57
TRANGROUP:525C		       mov     bx, ax
TRANGROUP:525E		       mov     ax, 502h	       ; IFS_GET_ERR_TEXT
TRANGROUP:5261		       int     2Fh	       ; Multiplex - DOS 3+ CRITICAL ERROR HANDLER -
TRANGROUP:5263		       jmp     short $MEN57
TRANGROUP:5265 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5265
TRANGROUP:5265 $MIF57:				       ; ...
TRANGROUP:5265		       stc
TRANGROUP:5266
TRANGROUP:5266 $MEN57:				       ; ...
TRANGROUP:5266		       jnb     short $MIF60
TRANGROUP:5268		       pop     di
TRANGROUP:5269		       pop     es
TRANGROUP:526A		       pop     cx
TRANGROUP:526B		       jmp     short $MEN60
TRANGROUP:526D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:526D
TRANGROUP:526D $MIF60:				       ; ...
TRANGROUP:526D		       add     sp, 6
TRANGROUP:5270		       call    $M_SET_LEN_IN_CX
TRANGROUP:5273
TRANGROUP:5273 $MEN60:				       ; ...
TRANGROUP:5273		       pop     bp
TRANGROUP:5274		       pop     dx
TRANGROUP:5275
TRANGROUP:5275 $MIF56:				       ; ...
TRANGROUP:5275		       jmp     short $M_POPF
TRANGROUP:5275 $M_GET_MSG_ADDRESS endp
TRANGROUP:5275
TRANGROUP:5277 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5277
TRANGROUP:5277 m_popf_iret:			       ; ...
TRANGROUP:5277		       iret
TRANGROUP:5278 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5278 ; START OF FUNCTION CHUNK FOR $M_GET_MSG_ADDRESS
TRANGROUP:5278
TRANGROUP:5278 $M_POPF:				       ; ...
TRANGROUP:5278		       push    cs	       ; $M_POPF (macro)
TRANGROUP:5279		       call    m_popf_iret
TRANGROUP:527C		       pop     bx
TRANGROUP:527D		       pop     si
TRANGROUP:527E		       retn
TRANGROUP:527E ; END OF	FUNCTION CHUNK FOR $M_GET_MSG_ADDRESS
TRANGROUP:527F
TRANGROUP:527F ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:527F
TRANGROUP:527F
TRANGROUP:527F $M_SET_LEN_IN_CX	proc near	       ; ...
TRANGROUP:527F		       push    di
TRANGROUP:5280		       push    ax
TRANGROUP:5281		       mov     cx, 0FFFFh      ; -1 ; 65535
TRANGROUP:5284		       xor     al, al
TRANGROUP:5286		       repne scasb
TRANGROUP:5288		       not     cx
TRANGROUP:528A		       dec     cx
TRANGROUP:528B		       pop     ax
TRANGROUP:528C		       pop     di
TRANGROUP:528D		       retn
TRANGROUP:528D $M_SET_LEN_IN_CX	endp
TRANGROUP:528D
TRANGROUP:528E
TRANGROUP:528E ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:528E
TRANGROUP:528E
TRANGROUP:528E $M_FIND_SPECIFIED_MSG proc near	       ; ...
TRANGROUP:528E		       cmp     bx, 1
TRANGROUP:5291		       jnz     short $MIF64
TRANGROUP:5293		       cmp     word ptr	$M_RT_$M_DISK_PROC_ADDR, 0FFFFh	; [$M_RT+40],-1
TRANGROUP:5298		       jz      short $MIF64
TRANGROUP:529A		       cmp     ax, 0FFFFh
TRANGROUP:529D		       jnz     short $MIF65
TRANGROUP:529F		       push    ax
TRANGROUP:52A0		       mov     ax, $M_RT_$M_MSG_NUM ; $M_RT.$M_MSG_NUM
TRANGROUP:52A0					       ; [$M_RT+72]
TRANGROUP:52A3		       call    $M_RT_$M_DISK_PROC_ADDR ; DWORD PTR $M_RT.$M_DISK_PROC_ADDR
TRANGROUP:52A7		       pop     ax
TRANGROUP:52A8		       jmp     short $MEN65
TRANGROUP:52AA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:52AA
TRANGROUP:52AA $MIF65:				       ; ...
TRANGROUP:52AA		       call    $M_RT_$M_DISK_PROC_ADDR
TRANGROUP:52AE
TRANGROUP:52AE $MEN65:				       ; ...
TRANGROUP:52AE		       jmp     short $MEN64
TRANGROUP:52B0 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:52B0
TRANGROUP:52B0 $MIF64:				       ; ...
TRANGROUP:52B0		       xor     cx, cx
TRANGROUP:52B2		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:52B5		       jz      short $MIF69
TRANGROUP:52B7		       mov     cl, es:[di+3]   ; BYTE PTR ES:[DI].$M_NUM_CLS_MSG
TRANGROUP:52BB		       jmp     short $MEN69
TRANGROUP:52BD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:52BD
TRANGROUP:52BD $MIF69:				       ; ...
TRANGROUP:52BD		       cmp     cs:[di],	dh     ; BYTE PTR CS:[DI].$M_CLASS_ID,DH
TRANGROUP:52C0		       jnz     short $MEN69
TRANGROUP:52C2		       mov     cl, cs:[di+3]   ; BYTE PTR CS:[DI].$M_NUM_CLS_MSG
TRANGROUP:52C6
TRANGROUP:52C6 $MEN69:				       ; ...
TRANGROUP:52C6		       add     di, 4	       ; $M_CLASS_ID_SZ
TRANGROUP:52C9		       stc
TRANGROUP:52CA
TRANGROUP:52CA $MEN64:				       ; ...
TRANGROUP:52CA		       jnb     short $MIF75
TRANGROUP:52CC		       clc
TRANGROUP:52CD
TRANGROUP:52CD $MDO76:				       ; ...
TRANGROUP:52CD		       or      cx, cx
TRANGROUP:52CF		       jz      short $MEN76
TRANGROUP:52D1		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:52D4		       jz      short $MIF78
TRANGROUP:52D6		       cmp     ax, es:[di]     ; WORD PTR ES:[DI].$M_NUM
TRANGROUP:52D9		       jmp     short $MEN78
TRANGROUP:52DB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:52DB
TRANGROUP:52DB $MIF78:				       ; ...
TRANGROUP:52DB		       cmp     ax, cs:[di]     ; WORD PTR CS:[DI].$M_NUM
TRANGROUP:52DE
TRANGROUP:52DE $MEN78:				       ; ...
TRANGROUP:52DE		       jnz     short $MIF76
TRANGROUP:52E0		       jmp     short $MSR76
TRANGROUP:52E2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:52E2
TRANGROUP:52E2 $MIF76:				       ; ...
TRANGROUP:52E2		       dec     cx
TRANGROUP:52E3		       jz      short $MEN76
TRANGROUP:52E5		       add     di, 4	       ; $M_ID_SZ
TRANGROUP:52E8		       jmp     short $MDO76
TRANGROUP:52EA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:52EA
TRANGROUP:52EA $MEN76:				       ; ...
TRANGROUP:52EA		       stc
TRANGROUP:52EB
TRANGROUP:52EB $MSR76:				       ; ...
TRANGROUP:52EB		       jb      short $MIF75
TRANGROUP:52ED		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:52F0		       clc
TRANGROUP:52F1		       jnz     short $MIF87
TRANGROUP:52F3		       push    cs
TRANGROUP:52F4		       pop     es
TRANGROUP:52F5		       assume es:TRANGROUP
TRANGROUP:52F5
TRANGROUP:52F5 $MIF87:				       ; ...
TRANGROUP:52F5		       add     di, es:[di+2]   ; WORD PTR ES:[DI].$M_TXT_PTR
TRANGROUP:52F9
TRANGROUP:52F9 $MIF75:				       ; ...
TRANGROUP:52F9		       jb      short $MIF91
TRANGROUP:52FB		       xor     ch, ch
TRANGROUP:52FD		       mov     cl, es:[di]
TRANGROUP:5300		       inc     di
TRANGROUP:5301
TRANGROUP:5301 $MIF91:				       ; ...
TRANGROUP:5301		       mov     $M_RT_$M_SIZE, 0	; $M_RT.$M_SIZE,$M_NULL
TRANGROUP:5301					       ; [$M_RT+66]
TRANGROUP:5306		       retn
TRANGROUP:5306 $M_FIND_SPECIFIED_MSG endp
TRANGROUP:5306
TRANGROUP:5307
TRANGROUP:5307 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5307
TRANGROUP:5307
TRANGROUP:5307 SYSDISPMSG      proc near	       ; ...
TRANGROUP:5307		       push    ax
TRANGROUP:5308		       push    bx
TRANGROUP:5309		       push    cx
TRANGROUP:530A		       push    bp
TRANGROUP:530B		       push    di
TRANGROUP:530C		       push    es
TRANGROUP:530D		       push    dx
TRANGROUP:530E		       mov     bp, cx
TRANGROUP:5310		       mov     $M_RT_$M_HANDLE,	bx ; [$M_RT+$M_RES_ADDRS.$M_HANDLE]
TRANGROUP:5310					       ; [$M_RT+64],bx
TRANGROUP:5314		       mov     $M_RT_$M_CLASS, dh ; [$M_RT+$M_RES_ADDRS.$M_CLASS]
TRANGROUP:5314					       ; [$M_RT+69],dh
TRANGROUP:5318		       call    $M_GET_MSG_ADDRESS
TRANGROUP:531B		       or      cx, cx	       ; (message length)
TRANGROUP:531D		       jz      short $MIF93
TRANGROUP:531F		       or      bp, bp
TRANGROUP:5321		       jnz     short $MIF94
TRANGROUP:5323		       call    $M_DISPLAY_STRING ; (es:di = message/text address)
TRANGROUP:5326		       jmp     short $MEN94
TRANGROUP:5328 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5328
TRANGROUP:5328 $MIF94:				       ; ...
TRANGROUP:5328		       call    $M_DISPLAY_MESSAGE
TRANGROUP:532B
TRANGROUP:532B $MEN94:				       ; ...
TRANGROUP:532B		       jb      short $MIF97
TRANGROUP:532D		       pop     dx
TRANGROUP:532E		       call    $M_ADD_CRLF
TRANGROUP:5331		       pop     es
TRANGROUP:5332		       assume es:nothing
TRANGROUP:5332		       pop     di
TRANGROUP:5333		       jmp     short $MEN97
TRANGROUP:5335 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5335
TRANGROUP:5335 $MIF97:				       ; ...
TRANGROUP:5335		       add     sp, 6
TRANGROUP:5338		       stc
TRANGROUP:5339
TRANGROUP:5339 $MEN97:				       ; ...
TRANGROUP:5339		       jmp     short $MEN93
TRANGROUP:533B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:533B
TRANGROUP:533B $MIF93:				       ; ...
TRANGROUP:533B		       pop     es	       ; (wrong	pops ?)
TRANGROUP:533B					       ; correct order:	pop dx,	pop es,	pop di
TRANGROUP:533C		       pop     di
TRANGROUP:533D		       pop     dx
TRANGROUP:533E		       stc
TRANGROUP:533F
TRANGROUP:533F $MEN93:				       ; ...
TRANGROUP:533F		       jb      short $MIF104
TRANGROUP:5341		       pop     bp
TRANGROUP:5342		       pop     cx
TRANGROUP:5343		       pop     bx
TRANGROUP:5344		       pop     ax
TRANGROUP:5345		       jmp     short $MEN104
TRANGROUP:5347 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5347
TRANGROUP:5347 $MIF104:				       ; ...
TRANGROUP:5347		       add     sp, 8
TRANGROUP:534A		       stc
TRANGROUP:534B
TRANGROUP:534B $MEN104:				       ; ...
TRANGROUP:534B		       retn
TRANGROUP:534B SYSDISPMSG      endp
TRANGROUP:534B
TRANGROUP:534C
TRANGROUP:534C ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:534C
TRANGROUP:534C
TRANGROUP:534C $M_DISPLAY_STRING proc near	       ; ...
TRANGROUP:534C		       push    ax
TRANGROUP:534D		       push    bx
TRANGROUP:534E		       push    dx
TRANGROUP:534F		       mov     bx, $M_RT_$M_HANDLE ; $M_RT.$M_HANDLE
TRANGROUP:534F					       ; [$M_RT+64]
TRANGROUP:5353		       cmp     bx, 0FFFFh      ; $M_NO_HANDLE
TRANGROUP:5356		       jnz     short $MIF107
TRANGROUP:5358		       call    $M_DISPLAY_$_STRING
TRANGROUP:535B		       jmp     short $MEN107
TRANGROUP:535D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:535D
TRANGROUP:535D $MIF107:				       ; ...
TRANGROUP:535D		       call    $M_DISPLAY_H_STRING
TRANGROUP:5360
TRANGROUP:5360 $MEN107:				       ; ...
TRANGROUP:5360		       jnb     short $MIF110
TRANGROUP:5362		       mov     ah, 59h	       ; DOS_GET_EXT_ERROR
TRANGROUP:5364		       mov     bx, 0
TRANGROUP:5367		       int     21h	       ; DOS - 3+ - GET	EXTENDED ERROR CODE
TRANGROUP:5367					       ; BX = version code (0000h for DOS 3.x)
TRANGROUP:5369		       xor     ah, ah
TRANGROUP:536B		       add     sp, 6
TRANGROUP:536E		       stc
TRANGROUP:536F		       jmp     short $MEN110
TRANGROUP:5371 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5371
TRANGROUP:5371 $MIF110:				       ; ...
TRANGROUP:5371		       cmp     bx, 0FFFFh      ; $M_NO_HANDLE
TRANGROUP:5374		       jz      short $MEN110
TRANGROUP:5376		       cmp     ax, cx
TRANGROUP:5378		       jz      short $MEN110
TRANGROUP:537A		       call    $M_GET_EXT_ERR_39
TRANGROUP:537D		       add     sp, 6
TRANGROUP:5380		       stc
TRANGROUP:5381
TRANGROUP:5381 $MEN110:				       ; ...
TRANGROUP:5381		       jb      short $MIF117
TRANGROUP:5383		       pop     dx
TRANGROUP:5384		       pop     bx
TRANGROUP:5385		       pop     ax
TRANGROUP:5386
TRANGROUP:5386 $MIF117:				       ; ...
TRANGROUP:5386		       retn
TRANGROUP:5386 $M_DISPLAY_STRING endp ;	sp =  6
TRANGROUP:5386
TRANGROUP:5387
TRANGROUP:5387 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5387
TRANGROUP:5387
TRANGROUP:5387 $M_DISPLAY_$_STRING proc	near	       ; ...
TRANGROUP:5387		       push    ds
TRANGROUP:5388		       push    es
TRANGROUP:5389		       pop     ds
TRANGROUP:538A		       assume ds:nothing
TRANGROUP:538A		       cmp     cx, 1	       ; $M_SINGLE_CHAR
TRANGROUP:538D		       jnz     short $MIF119
TRANGROUP:538F		       mov     ah, 2	       ; DOS_DISP_CHAR
TRANGROUP:5391		       mov     dl, es:[di]
TRANGROUP:5394		       int     21h	       ; DOS - DISPLAY OUTPUT
TRANGROUP:5394					       ; DL = character	to send	to standard output
TRANGROUP:5396		       pop     ds
TRANGROUP:5397		       mov     al, dl
TRANGROUP:5399		       call    $M_IS_IT_DBCS
TRANGROUP:539C		       push    ds
TRANGROUP:539D		       push    es
TRANGROUP:539E		       pop     ds
TRANGROUP:539F		       jnb     short $MIF120
TRANGROUP:53A1		       mov     dl, es:[di+1]
TRANGROUP:53A5		       int     21h	       ; DOS -
TRANGROUP:53A7		       clc
TRANGROUP:53A8
TRANGROUP:53A8 $MIF120:				       ; ...
TRANGROUP:53A8		       jmp     short $MEN119
TRANGROUP:53AA ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:53AA
TRANGROUP:53AA $MIF119:				       ; ...
TRANGROUP:53AA		       mov     ah, 2	       ; DOS_DISP_CHAR
TRANGROUP:53AC
TRANGROUP:53AC $MDO123:				       ; ...
TRANGROUP:53AC		       or      cx, cx
TRANGROUP:53AE		       jz      short $MEN119
TRANGROUP:53B0		       mov     dl, es:[di]
TRANGROUP:53B3		       int     21h	       ; DOS - DISPLAY OUTPUT
TRANGROUP:53B3					       ; DL = character	to send	to standard output
TRANGROUP:53B5		       inc     di
TRANGROUP:53B6		       dec     cx
TRANGROUP:53B7		       jnz     short $MDO123
TRANGROUP:53B9
TRANGROUP:53B9 $MEN119:				       ; ...
TRANGROUP:53B9		       clc
TRANGROUP:53BA		       pop     ds
TRANGROUP:53BB		       retn
TRANGROUP:53BB $M_DISPLAY_$_STRING endp
TRANGROUP:53BB
TRANGROUP:53BC
TRANGROUP:53BC ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:53BC
TRANGROUP:53BC
TRANGROUP:53BC scan_ctrlz      proc near	       ; ...
TRANGROUP:53BC		       push    di
TRANGROUP:53BD		       push    ax
TRANGROUP:53BE		       push    es
TRANGROUP:53BF		       push    bx
TRANGROUP:53C0		       mov     di, dx
TRANGROUP:53C2		       push    ds
TRANGROUP:53C3		       pop     es
TRANGROUP:53C4		       mov     bx, cx
TRANGROUP:53C6		       mov     al, 1Ah	       ; Ctrl-Z
TRANGROUP:53C8		       cld
TRANGROUP:53C9		       repne scasb
TRANGROUP:53CB		       jnz     short noCtrlz
TRANGROUP:53CD		       sub     bx, cx
TRANGROUP:53CF		       dec     bx
TRANGROUP:53D0
TRANGROUP:53D0 noCtrlz:				       ; ...
TRANGROUP:53D0		       mov     cx, bx
TRANGROUP:53D2		       pop     bx
TRANGROUP:53D3		       pop     es
TRANGROUP:53D4		       pop     ax
TRANGROUP:53D5		       pop     di
TRANGROUP:53D6		       retn
TRANGROUP:53D6 scan_ctrlz      endp
TRANGROUP:53D6
TRANGROUP:53D7
TRANGROUP:53D7 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:53D7
TRANGROUP:53D7
TRANGROUP:53D7 $M_DISPLAY_H_STRING proc	near	       ; ...
TRANGROUP:53D7		       xor     ax, ax
TRANGROUP:53D9		       or      cx, cx
TRANGROUP:53DB		       jz      short $MIF127
TRANGROUP:53DD		       push    ds
TRANGROUP:53DE		       push    es
TRANGROUP:53DF		       pop     ds
TRANGROUP:53E0		       mov     ah, 40h
TRANGROUP:53E2		       mov     dx, di
TRANGROUP:53E4		       cmp     cx, 1	       ; $M_SINGLE_CHAR
TRANGROUP:53E7		       jnz     short $MIF128
TRANGROUP:53E9		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:53E9					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:53EB		       pop     ds
TRANGROUP:53EC		       push    ax
TRANGROUP:53ED		       mov     al, es:[di]
TRANGROUP:53F0		       call    $M_IS_IT_DBCS
TRANGROUP:53F3		       pop     ax
TRANGROUP:53F4		       push    ds
TRANGROUP:53F5		       push    es
TRANGROUP:53F6		       pop     ds
TRANGROUP:53F7		       jnb     short $MIF129
TRANGROUP:53F9		       clc
TRANGROUP:53FA		       mov     ah, 40h
TRANGROUP:53FC		       inc     dx
TRANGROUP:53FD		       int     21h	       ; DOS - 2+ - WRITE TO FILE WITH HANDLE
TRANGROUP:53FD					       ; BX = file handle, CX =	number of bytes	to write, DS:DX	-> buffer
TRANGROUP:53FF
TRANGROUP:53FF $MIF129:				       ; ...
TRANGROUP:53FF		       pushf
TRANGROUP:5400		       cmp     byte ptr	es:[di], 1Ah ; Ctrl-Z?
TRANGROUP:5404		       jnz     short m_popf_j  ; @@:
TRANGROUP:5406		       mov     ax, cx
TRANGROUP:5408
TRANGROUP:5408 m_popf_j:			       ; ...
TRANGROUP:5408		       jmp     short m_popf
TRANGROUP:540A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:540A
TRANGROUP:540A intret:				       ; ...
TRANGROUP:540A		       iret
TRANGROUP:540B ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:540B
TRANGROUP:540B m_popf:				       ; ...
TRANGROUP:540B		       push    cs	       ; $M_Popf (macro)
TRANGROUP:540C		       call    intret
TRANGROUP:540F		       jmp     short $MEN128
TRANGROUP:5411 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5411
TRANGROUP:5411 $MIF128:				       ; ...
TRANGROUP:5411		       push    bp
TRANGROUP:5412		       push    cx
TRANGROUP:5413		       call    scan_ctrlz
TRANGROUP:5416		       mov     bp, cx
TRANGROUP:5418		       pop     cx
TRANGROUP:5419		       int     21h	       ; DOS -
TRANGROUP:541B		       jnb     short chk_count
TRANGROUP:541D		       jmp     short m_cnt_ok
TRANGROUP:541F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:541F
TRANGROUP:541F chk_count:			       ; ...
TRANGROUP:541F		       cmp     cx, ax
TRANGROUP:5421		       jz      short m_cnt_ok
TRANGROUP:5423		       cmp     bp, ax
TRANGROUP:5425		       clc
TRANGROUP:5426		       jnz     short m_cnt_ok
TRANGROUP:5428		       mov     ax, cx
TRANGROUP:542A
TRANGROUP:542A m_cnt_ok:			       ; ...
TRANGROUP:542A		       pop     bp
TRANGROUP:542B
TRANGROUP:542B $MEN128:				       ; ...
TRANGROUP:542B		       pop     ds
TRANGROUP:542C
TRANGROUP:542C $MIF127:				       ; ...
TRANGROUP:542C		       retn
TRANGROUP:542C $M_DISPLAY_H_STRING endp
TRANGROUP:542C
TRANGROUP:542D
TRANGROUP:542D ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:542D
TRANGROUP:542D
TRANGROUP:542D $M_GET_EXT_ERR_39 proc near	       ; ...
TRANGROUP:542D		       mov     ax, 27h	       ; EXT_ERR_39
TRANGROUP:5430		       mov     bx, 4	       ; (ERROR_CLASS_39 SHR 8)	+ ACTION_39
TRANGROUP:5433		       mov     ch, 1	       ; LOCUS_39
TRANGROUP:5435		       retn
TRANGROUP:5435 $M_GET_EXT_ERR_39 endp
TRANGROUP:5435
TRANGROUP:5436
TRANGROUP:5436 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5436
TRANGROUP:5436
TRANGROUP:5436 $M_ADD_CRLF     proc near	       ; ...
TRANGROUP:5436		       cmp     dh, 0FFh	       ; UTILITY_MSG_CLASS
TRANGROUP:5439		       jz      short $MIF134
TRANGROUP:543B		       test    dh, 80h	       ; $M_NO_CRLF_MASK
TRANGROUP:543E		       jnz     short $MIF134
TRANGROUP:5440		       push    ds
TRANGROUP:5441		       pop     es
TRANGROUP:5442		       lea     di, $M_RT_$M_CRLF ; $M_RT.$M_CRLF
TRANGROUP:5442					       ; [$M_RT+67]
TRANGROUP:5446		       mov     cx, 2	       ; $M_CRLF_SIZE
TRANGROUP:5449		       call    $M_DISPLAY_STRING
TRANGROUP:544C
TRANGROUP:544C $MIF134:				       ; ...
TRANGROUP:544C		       retn
TRANGROUP:544C $M_ADD_CRLF     endp
TRANGROUP:544C
TRANGROUP:544D
TRANGROUP:544D ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:544D
TRANGROUP:544D
TRANGROUP:544D $M_IS_IT_DBCS   proc near	       ; ...
TRANGROUP:544D		       push    es
TRANGROUP:544E		       push    di
TRANGROUP:544F		       les     di, ds:$M_RT_$M_DBCS_VEC	; $M_RT.$M_DBCS_VEC
TRANGROUP:544F					       ; [$M_RT+60]
TRANGROUP:5453		       or      di, di
TRANGROUP:5455		       jz      short $MIF138
TRANGROUP:5457
TRANGROUP:5457 $MDO139:				       ; ...
TRANGROUP:5457		       cmp     word ptr	es:[di], 0 ; $M_DBCS_TERM
TRANGROUP:545B		       clc
TRANGROUP:545C		       jz      short $MIF138
TRANGROUP:545E		       cmp     al, es:[di]
TRANGROUP:5461		       jb      short $MIF141
TRANGROUP:5463		       cmp     al, es:[di+1]
TRANGROUP:5467		       ja      short $MIF141
TRANGROUP:5469		       stc
TRANGROUP:546A
TRANGROUP:546A $MIF141:				       ; ...
TRANGROUP:546A		       inc     di
TRANGROUP:546B		       inc     di
TRANGROUP:546C		       jmp     short $MDO139
TRANGROUP:546E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:546E
TRANGROUP:546E $MIF138:				       ; ...
TRANGROUP:546E		       pop     di
TRANGROUP:546F		       pop     es
TRANGROUP:5470		       retn
TRANGROUP:5470 $M_IS_IT_DBCS   endp
TRANGROUP:5470
TRANGROUP:5471
TRANGROUP:5471 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5471
TRANGROUP:5471
TRANGROUP:5471 $M_CONVERT2ASC  proc near	       ; ...
TRANGROUP:5471		       pop     ds:$M_RT_$M_RETURN_ADDR ; pop word [$M_RT+70]
TRANGROUP:5475		       xor     bx, bx
TRANGROUP:5477		       xchg    ax, bx
TRANGROUP:5478		       xchg    ax, dx
TRANGROUP:5479
TRANGROUP:5479 $MDO145:				       ; ...
TRANGROUP:5479		       div     ds:$M_RT_$M_DIVISOR ; div word [$M_RT+74]
TRANGROUP:547D		       xchg    ax, bx
TRANGROUP:547E		       div     ds:$M_RT_$M_DIVISOR ; [$M_RT+74]
TRANGROUP:5482		       cmp     dx, 9
TRANGROUP:5485		       jbe     short $MIF146
TRANGROUP:5487		       add     dl, 55	       ; add dl,37h
TRANGROUP:548A		       jmp     short $MEN146
TRANGROUP:548C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:548C
TRANGROUP:548C $MIF146:				       ; ...
TRANGROUP:548C		       add     dl, '0'
TRANGROUP:548F
TRANGROUP:548F $MEN146:				       ; ...
TRANGROUP:548F		       push    dx
TRANGROUP:5490		       inc     cx
TRANGROUP:5491		       or      ax, ax
TRANGROUP:5493		       jnz     short $MLL149
TRANGROUP:5495		       or      bx, bx
TRANGROUP:5497		       jz      short $MEN145
TRANGROUP:5499
TRANGROUP:5499 $MLL149:				       ; ...
TRANGROUP:5499		       cmp     cx, 3	       ; $M_FIRST_THOU
TRANGROUP:549C		       jnz     short $MIF150
TRANGROUP:549E		       cmp     byte ptr	[si+0Ah], ',' ;
TRANGROUP:549E					       ; $M_SL.$M_S_PAD,$M_COMMA ($M_SL	= [DS:SI])
TRANGROUP:54A2		       jnz     short $MIF151
TRANGROUP:54A4		       push    ds:$M_RT_$M_THOU_SEPARA ; word $M_RT.$M_THOU_SEPARA
TRANGROUP:54A8		       inc     cx
TRANGROUP:54A9
TRANGROUP:54A9 $MIF151:				       ; ...
TRANGROUP:54A9		       jmp     short $MEN154
TRANGROUP:54AB ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:54AB
TRANGROUP:54AB $MIF150:				       ; ...
TRANGROUP:54AB		       cmp     cx, 6	       ; $M_SECOND_THOU
TRANGROUP:54AE		       jnz     short $MIF154
TRANGROUP:54B0		       cmp     byte ptr	[si+0Ah], ',' ; $M_SL.$M_S_PAD,$M_COMMA
TRANGROUP:54B4		       jnz     short $MIF155
TRANGROUP:54B6		       push    ds:$M_RT_$M_THOU_SEPARA ; [$M_RT+83]
TRANGROUP:54BA		       inc     cx
TRANGROUP:54BB
TRANGROUP:54BB $MIF155:				       ; ...
TRANGROUP:54BB		       jmp     short $MEN154
TRANGROUP:54BD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:54BD
TRANGROUP:54BD $MIF154:				       ; ...
TRANGROUP:54BD		       cmp     cx, 9	       ; $M_THIRD_THOU
TRANGROUP:54C0		       jnz     short $MEN154
TRANGROUP:54C2		       cmp     byte ptr	[si+0Ah], ',' ; $M_SL.$M_S_PAD,$M_COMMA
TRANGROUP:54C6		       jnz     short $MEN154
TRANGROUP:54C8		       push    ds:$M_RT_$M_THOU_SEPARA ; [$M_RT+83]
TRANGROUP:54CC		       inc     cx
TRANGROUP:54CD
TRANGROUP:54CD $MEN154:				       ; ...
TRANGROUP:54CD		       xchg    ax, bx
TRANGROUP:54CE		       xor     dx, dx
TRANGROUP:54D0		       jmp     short $MDO145
TRANGROUP:54D2 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:54D2
TRANGROUP:54D2 $MEN145:				       ; ...
TRANGROUP:54D2		       xor     dx, dx
TRANGROUP:54D4		       xor     ax, ax
TRANGROUP:54D6		       push    ds:$M_RT_$M_RETURN_ADDR ; [$M_RT+70]
TRANGROUP:54DA		       retn
TRANGROUP:54DA $M_CONVERT2ASC  endp ; sp = -2
TRANGROUP:54DA
TRANGROUP:54DB
TRANGROUP:54DB ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:54DB
TRANGROUP:54DB
TRANGROUP:54DB $M_DISPLAY_MESSAGE proc near	       ; ...
TRANGROUP:54DB		       xor     dx, dx	       ; $MDO165
TRANGROUP:54DD		       or      cx, cx	       ; (byte count of	the message/text)
TRANGROUP:54DF		       jz      short $MIF166
TRANGROUP:54E1		       mov     ah, '%'
TRANGROUP:54E3		       mov     al, 0
TRANGROUP:54E5
TRANGROUP:54E5 $MDO167:				       ; ...
TRANGROUP:54E5		       cmp     es:[di],	ah
TRANGROUP:54E8		       jnz     short $MLL168
TRANGROUP:54EA		       cmp     es:[di+1], ah
TRANGROUP:54EE		       jz      short $MLL168
TRANGROUP:54F0		       cmp     al, ah
TRANGROUP:54F2		       jnz     short $MIF166
TRANGROUP:54F4
TRANGROUP:54F4 $MLL168:				       ; ...
TRANGROUP:54F4		       mov     al, es:[di]
TRANGROUP:54F7		       call    $M_IS_IT_DBCS
TRANGROUP:54FA		       jnb     short $MIF169
TRANGROUP:54FC		       inc     di
TRANGROUP:54FD
TRANGROUP:54FD $MIF169:				       ; ...
TRANGROUP:54FD		       inc     di
TRANGROUP:54FE		       inc     dx
TRANGROUP:54FF		       dec     cx
TRANGROUP:5500		       jnz     short $MDO167
TRANGROUP:5502
TRANGROUP:5502 $MIF166:				       ; ...
TRANGROUP:5502		       push    si
TRANGROUP:5503		       xchg    cx, dx
TRANGROUP:5505		       or      bp, bp
TRANGROUP:5507		       jz      short $MIF173
TRANGROUP:5509		       dec     bp
TRANGROUP:550A		       cmp     ds:$M_RT_$M_MSG_NUM, 0 ;	$M_RT.$M_MSG_NUM,$M_NULL
TRANGROUP:550A					       ; [$M_RT+72]],0
TRANGROUP:550F		       jnz     short $MIF173
TRANGROUP:5511
TRANGROUP:5511 $MDO175:				       ; ...
TRANGROUP:5511		       mov     al, [si+6]      ; $M_SL.$M_S_ID
TRANGROUP:5514		       add     al, 30h
TRANGROUP:5516		       cmp     al, es:[di+1]
TRANGROUP:551A		       jnz     short $MIF175
TRANGROUP:551C		       jmp     short $MIF173
TRANGROUP:551E ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:551E
TRANGROUP:551E $MIF175:				       ; ...
TRANGROUP:551E		       cmp     al, 30h	       ; $M_SPECIAL_CASE
TRANGROUP:5520		       jnz     short $MLL178
TRANGROUP:5522		       or      dx, dx
TRANGROUP:5524		       jz      short $MEN175
TRANGROUP:5526
TRANGROUP:5526 $MLL178:				       ; ...
TRANGROUP:5526		       add     si, [si]	       ; add si,[si+$M_SUBLIST_STRUC.$M_S_SIZE]
TRANGROUP:5526					       ; add si,[si+0]
TRANGROUP:5528		       jmp     short $MDO175
TRANGROUP:552A ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:552A
TRANGROUP:552A $MEN175:				       ; ...
TRANGROUP:552A		       cmp     ds:$M_RT_$M_CLASS, 0FFh ; $M_RT.$M_CLASS,UTILITY_MSG_CLASS
TRANGROUP:552A					       ; cmp byte [$M_RT+69],0FFh
TRANGROUP:552F		       jnz     short $MIF180
TRANGROUP:5531		       inc     dx
TRANGROUP:5532		       inc     dx
TRANGROUP:5533		       dec     cx
TRANGROUP:5534		       dec     cx
TRANGROUP:5535		       dec     di
TRANGROUP:5536		       dec     di
TRANGROUP:5537		       jmp     short $MIF173
TRANGROUP:5539 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5539
TRANGROUP:5539 $MIF180:				       ; ...
TRANGROUP:5539		       mov     dx, -1	       ; 0FFFFh
TRANGROUP:553C
TRANGROUP:553C $MIF173:				       ; ...
TRANGROUP:553C		       push    di
TRANGROUP:553D		       sub     di, cx
TRANGROUP:553F		       call    $M_DISPLAY_STRING
TRANGROUP:5542		       pop     di
TRANGROUP:5543		       pop     cx
TRANGROUP:5544		       jnb     short $MXL3
TRANGROUP:5546		       jmp     $MEN165
TRANGROUP:5549 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5549
TRANGROUP:5549 $MXL3:				       ; ...
TRANGROUP:5549		       push    cx
TRANGROUP:554A		       mov     cx, dx
TRANGROUP:554C		       cmp     byte ptr	[si+6],	0 ; $M_SL.$M_S_ID,$M_SPECIAL_CASE-30H
TRANGROUP:5550		       jz      short $MIF187
TRANGROUP:5552		       or      cx, cx
TRANGROUP:5554		       jz      short $MIF188
TRANGROUP:5556		       dec     cx
TRANGROUP:5557		       dec     cx
TRANGROUP:5558		       inc     di
TRANGROUP:5559		       inc     di
TRANGROUP:555A		       jmp     short $MEN188
TRANGROUP:555C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:555C
TRANGROUP:555C $MIF188:				       ; ...
TRANGROUP:555C		       pop     si
TRANGROUP:555D
TRANGROUP:555D $MEN188:				       ; ...
TRANGROUP:555D		       jmp     short $MEN187
TRANGROUP:555F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:555F
TRANGROUP:555F $MIF187:				       ; ...
TRANGROUP:555F		       or      cx, cx
TRANGROUP:5561		       jnz     short $MIF192
TRANGROUP:5563		       pop     si
TRANGROUP:5564		       jmp     short $MEN187
TRANGROUP:5566 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5566
TRANGROUP:5566 $MIF192:				       ; ...
TRANGROUP:5566		       cmp     cx, -1
TRANGROUP:5569		       jnz     short $MIF194
TRANGROUP:556B		       xor     cx, cx
TRANGROUP:556D
TRANGROUP:556D $MIF194:				       ; ...
TRANGROUP:556D		       or      di, di
TRANGROUP:556F
TRANGROUP:556F $MEN187:				       ; ...
TRANGROUP:556F		       jz      short $MEN165
TRANGROUP:5571		       push    bp
TRANGROUP:5572		       push    di
TRANGROUP:5573		       push    es
TRANGROUP:5574		       push    cx
TRANGROUP:5575		       xor     cx, cx
TRANGROUP:5577		       cmp     ds:$M_RT_$M_MSG_NUM, 0 ;	$M_RT.$M_MSG_NUM,$M_NULL
TRANGROUP:5577					       ; [$M_RT+72],0
TRANGROUP:557C		       jnz     short $MIF199
TRANGROUP:557E		       test    byte ptr	[si+7],	0Fh ;
TRANGROUP:557E					       ; $M_SL.$M_S_FLAG,NOT Char_Type AND $M_TYPE_MASK
TRANGROUP:5582		       jnz     short $MIF200
TRANGROUP:5584		       les     di, [si+2]      ; $M_SL.$M_S_VALUE
TRANGROUP:5587		       call    $M_CHAR_REPLACE
TRANGROUP:558A		       jmp     short $MEN200
TRANGROUP:558C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:558C
TRANGROUP:558C $MIF200:				       ; ...
TRANGROUP:558C		       test    byte ptr	[si+7],	0Dh ;
TRANGROUP:558C					       ; $M_SL.$M_S_FLAG,NOT Sgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:5590		       jz      short $MLL202
TRANGROUP:5592		       test    byte ptr	[si+7],	0Eh ;
TRANGROUP:5592					       ; $M_SL.$M_S_FLAG,NOT Unsgn_Bin_Type AND	$M_TYPE_MASK
TRANGROUP:5596		       jz      short $MLL202
TRANGROUP:5598		       test    byte ptr	[si+7],	0Ch ;
TRANGROUP:5598					       ; $M_SL.$M_S_FLAG,NOT Bin_Hex_Type AND $M_TYPE_MASK
TRANGROUP:559C		       jnz     short $MIF202
TRANGROUP:559E
TRANGROUP:559E $MLL202:				       ; ...
TRANGROUP:559E		       les     di, [si+2]
TRANGROUP:55A1		       call    $M_BIN2ASC_REPLACE
TRANGROUP:55A4		       jmp     short $MEN200
TRANGROUP:55A6 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:55A6
TRANGROUP:55A6 $MIF202:				       ; ...
TRANGROUP:55A6		       test    byte ptr	[si+7],	0Bh ; $M_SL.$M_S_FLAG,NOT Date_Type AND	$M_TYPE_MASK
TRANGROUP:55A6					       ; ($M_SL	= [ds:si])
TRANGROUP:55AA		       jnz     short $MIF204
TRANGROUP:55AC		       call    $M_DATE_REPLACE
TRANGROUP:55AF		       jmp     short $MEN200
TRANGROUP:55B1 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:55B1
TRANGROUP:55B1 $MIF204:				       ; ...
TRANGROUP:55B1		       call    $M_TIME_REPLACE
TRANGROUP:55B4
TRANGROUP:55B4 $MEN200:				       ; ...
TRANGROUP:55B4		       call    $M_DISPLAY_REPLACE
TRANGROUP:55B7		       jmp     short $MEN199
TRANGROUP:55B9 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:55B9
TRANGROUP:55B9 $MIF199:				       ; ...
TRANGROUP:55B9		       call    $M_EXT_PAR_REPLACE
TRANGROUP:55BC
TRANGROUP:55BC $MEN199:				       ; ...
TRANGROUP:55BC		       jb      short $MIF211
TRANGROUP:55BE		       pop     cx
TRANGROUP:55BF		       pop     es
TRANGROUP:55C0		       pop     di
TRANGROUP:55C1		       pop     bp
TRANGROUP:55C2		       pop     si
TRANGROUP:55C3		       jmp     short $MEN211
TRANGROUP:55C5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:55C5
TRANGROUP:55C5 $MIF211:				       ; ...
TRANGROUP:55C5		       add     sp, 10
TRANGROUP:55C8		       stc
TRANGROUP:55C9
TRANGROUP:55C9 $MEN211:				       ; ...
TRANGROUP:55C9		       cmp     ds:$M_RT_$M_MSG_NUM, 0 ;	$M_RT.$M_MSG_NUM,$M_NUL
TRANGROUP:55C9					       ; cmp word [$M_RT+72],0
TRANGROUP:55CE		       jnz     short $MEN165
TRANGROUP:55D0		       jb      short $MEN165
TRANGROUP:55D2		       jmp     $M_DISPLAY_MESSAGE ; jmp	$MDO165
TRANGROUP:55D5 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:55D5
TRANGROUP:55D5 $MEN165:				       ; ...
TRANGROUP:55D5		       mov     ds:$M_RT_$M_MSG_NUM, 0 ;	$M_RT.$M_MSG_NUM,0
TRANGROUP:55D5					       ; mov word [$M_RT+72],0
TRANGROUP:55DB		       retn
TRANGROUP:55DB $M_DISPLAY_MESSAGE endp
TRANGROUP:55DB
TRANGROUP:55DC
TRANGROUP:55DC ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:55DC
TRANGROUP:55DC
TRANGROUP:55DC $M_EXT_PAR_REPLACE proc near	       ; ...
TRANGROUP:55DC		       xor     dx, dx
TRANGROUP:55DE		       mov     ax, ds:$M_RT_$M_MSG_NUM ; $M_RT.$M_MSG_NUM
TRANGROUP:55DE					       ; mov ax,[$M_RT+72]
TRANGROUP:55E1		       mov     ds:$M_RT_$M_DIVISOR, 10 ; $M_RT.$M_DIVISOR,$M_BASE10
TRANGROUP:55E1					       ; [$M_RT+74],10
TRANGROUP:55E7		       call    $M_CONVERT2ASC
TRANGROUP:55EA
TRANGROUP:55EA $MDO215:				       ; ...
TRANGROUP:55EA		       pop     ax
TRANGROUP:55EB		       mov     byte ptr	ds:$M_RT_$M_TEMP_BUF[bx], al ; [bx+$M_RT+76]
TRANGROUP:55EB					       ; [bx+$M_RT+$M_RES_ADDRS.$M_TEMP_BUF]
TRANGROUP:55EF		       inc     bx
TRANGROUP:55F0		       cmp     bx, 64	       ; $M_TEMP_BUF_SZ
TRANGROUP:55F3		       jnz     short $MIF216
TRANGROUP:55F5		       call    $M_FLUSH_BUF
TRANGROUP:55F8
TRANGROUP:55F8 $MIF216:				       ; ...
TRANGROUP:55F8		       dec     cl
TRANGROUP:55FA		       jnz     short $MDO215
TRANGROUP:55FC		       mov     ax, 0A0Dh       ; $M_CR_LF
TRANGROUP:55FF		       mov     ds:$M_RT_$M_TEMP_BUF[bx], ax ; $M_RT.$M_TEMP_BUF[BX],AX
TRANGROUP:5603		       inc     bx
TRANGROUP:5604		       inc     bx
TRANGROUP:5605		       call    $M_FLUSH_BUF
TRANGROUP:5608		       retn
TRANGROUP:5608 $M_EXT_PAR_REPLACE endp ; sp =  2
TRANGROUP:5608
TRANGROUP:5609
TRANGROUP:5609 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5609
TRANGROUP:5609
TRANGROUP:5609 $M_DISPLAY_REPLACE proc near	       ; ...
TRANGROUP:5609		       xor     bx, bx
TRANGROUP:560B		       cmp     byte ptr	[si+6],	0 ; $M_SL.$M_S_ID,$M_SPECIAL_CASE-30H
TRANGROUP:560F		       jnz     short $MIF276
TRANGROUP:5611		       mov     ds:$M_RT_$M_TEMP_BUF[bx], 2D20h ;
TRANGROUP:5611					       ; $M_RT.$M_TEMP_BUF[BX],$M_SPACE_HYP
TRANGROUP:5617		       inc     bx
TRANGROUP:5618		       inc     bx
TRANGROUP:5619		       mov     byte ptr	ds:$M_RT_$M_TEMP_BUF[bx], 20h ;
TRANGROUP:5619					       ; $M_RT.$M_TEMP_BUF[BX],$M_SPACE
TRANGROUP:561E		       inc     bx
TRANGROUP:561F		       call    $M_FLUSH_BUF
TRANGROUP:5622
TRANGROUP:5622 $MIF276:				       ; ...
TRANGROUP:5622		       pop     bp
TRANGROUP:5623		       xor     bx, bx
TRANGROUP:5625		       xor     dx, dx
TRANGROUP:5627		       mov     ds:$M_RT_$M_SIZE, cl ; $M_RT.$M_SIZE
TRANGROUP:5627					       ; mov [$M_RT+66],cl
TRANGROUP:562B		       mov     al, [si+9]      ; $M_SL.$M_S_MINW
TRANGROUP:562E		       cmp     al, cl
TRANGROUP:5630		       jbe     short $MIF278
TRANGROUP:5632		       sub     al, cl
TRANGROUP:5634		       mov     dh, al
TRANGROUP:5636		       test    byte ptr	[si+7],	80h ; BYTE PTR $M_SL.$M_S_FLAG,Right_Align
TRANGROUP:563A		       jz      short $MIF278
TRANGROUP:563C
TRANGROUP:563C $MDO280:				       ; ...
TRANGROUP:563C		       mov     al, [si+0Ah]    ;  $M_SL.$M_S_PAD
TRANGROUP:563F		       mov     byte ptr	ds:$M_RT_$M_TEMP_BUF[bx], al
TRANGROUP:5643		       inc     bx
TRANGROUP:5644		       cmp     bx, 64	       ; $M_TEMP_BUF_SZ
TRANGROUP:5647		       jnz     short $MIF281
TRANGROUP:5649		       call    $M_FLUSH_BUF
TRANGROUP:564C
TRANGROUP:564C $MIF281:				       ; ...
TRANGROUP:564C		       dec     dh
TRANGROUP:564E		       jnz     short $MDO280
TRANGROUP:5650
TRANGROUP:5650 $MIF278:				       ; ...
TRANGROUP:5650		       cmp     byte ptr	[si+8],	0 ; $M_SL.$M_S_MAXW,$M_UNLIM_W
TRANGROUP:5654		       jz      short $MIF286
TRANGROUP:5656		       cmp     [si+8], cl      ; $M_SL.$M_S_MAXW
TRANGROUP:5659		       jnb     short $MIF286
TRANGROUP:565B		       sub     cl, [si+8]
TRANGROUP:565E		       mov     dl, cl
TRANGROUP:5660		       mov     cl, [si+8]
TRANGROUP:5663
TRANGROUP:5663 $MIF286:				       ; ...
TRANGROUP:5663		       or      cx, cx
TRANGROUP:5665		       jz      short $MIF290
TRANGROUP:5667
TRANGROUP:5667 $MDO291:				       ; ...
TRANGROUP:5667		       test    byte ptr	[si+7],	0Fh ;
TRANGROUP:5667					       ; $M_SL.$M_S_FLAG,NOT Char_Type AND $M_TYPE_MASK
TRANGROUP:566B		       jnz     short $MIF292
TRANGROUP:566D		       test    byte ptr	[si+7],	10h ;
TRANGROUP:566D					       ; $M_SL.$M_S_FLAG,Char_field_ASCIIZ AND $M_SIZE_MASK
TRANGROUP:5671		       jz      short $MIF292
TRANGROUP:5673		       mov     al, es:[di]
TRANGROUP:5676		       inc     di
TRANGROUP:5677		       jmp     short $MEN292
TRANGROUP:5679 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5679
TRANGROUP:5679 $MIF292:				       ; ...
TRANGROUP:5679		       pop     ax
TRANGROUP:567A
TRANGROUP:567A $MEN292:				       ; ...
TRANGROUP:567A		       mov     byte ptr	ds:$M_RT_$M_TEMP_BUF[bx], al ;
TRANGROUP:567A					       ; MOV BYTE PTR $M_RT.$M_TEMP_BUF[BX],AL
TRANGROUP:567A					       ; mov [bx+$M_RT+76],al
TRANGROUP:567E		       inc     bx
TRANGROUP:567F		       cmp     bx, 64	       ; $M_TEMP_BUF_SZ
TRANGROUP:5682		       jnz     short $MIF295
TRANGROUP:5684		       call    $M_FLUSH_BUF
TRANGROUP:5687
TRANGROUP:5687 $MIF295:				       ; ...
TRANGROUP:5687		       dec     cl
TRANGROUP:5689		       jnz     short $MDO291
TRANGROUP:568B
TRANGROUP:568B $MIF290:				       ; ...
TRANGROUP:568B		       test    byte ptr	[si+7],	80h ; $M_SL.$M_S_FLAG,Right_Align
TRANGROUP:568F		       jnz     short $MIF299
TRANGROUP:5691		       or      dh, dh
TRANGROUP:5693		       jz      short $MIF299
TRANGROUP:5695
TRANGROUP:5695 $MDO301:				       ; ...
TRANGROUP:5695		       mov     al, [si+0Ah]    ; $M_SL.$M_S_PAD
TRANGROUP:5695					       ; (ds:si+$M_SUBLIST_STRUC.$M_S_PAD)
TRANGROUP:5698		       mov     byte ptr	ds:$M_RT_$M_TEMP_BUF[bx], al
TRANGROUP:569C		       inc     bx
TRANGROUP:569D		       cmp     bx, 64	       ; $M_TEMP_BUF_SZ
TRANGROUP:56A0		       jnz     short $MIF302
TRANGROUP:56A2		       call    $M_FLUSH_BUF
TRANGROUP:56A5
TRANGROUP:56A5 $MIF302:				       ; ...
TRANGROUP:56A5		       dec     dh
TRANGROUP:56A7		       jnz     short $MDO301
TRANGROUP:56A9
TRANGROUP:56A9 $MIF299:				       ; ...
TRANGROUP:56A9		       test    byte ptr	[si+7],	0Fh ;
TRANGROUP:56A9					       ; $M_SL.$M_S_FLAG,NOT Char_Type AND $M_TYPE_MASK
TRANGROUP:56AD		       jnz     short $MIF307
TRANGROUP:56AF		       test    byte ptr	[si+7],	10h ;
TRANGROUP:56AF					       ; $M_SL.$M_S_FLAG,Char_field_ASCIIZ AND $M_SIZE_MASK
TRANGROUP:56B3		       jz      short $MIF307
TRANGROUP:56B5		       jmp     short $MEN307
TRANGROUP:56B7 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:56B7
TRANGROUP:56B7 $MIF307:				       ; ...
TRANGROUP:56B7		       or      dl, dl
TRANGROUP:56B9		       jz      short $MEN307
TRANGROUP:56BB
TRANGROUP:56BB $MDO310:				       ; ...
TRANGROUP:56BB		       pop     ds:$M_RT_$M_RETURN_ADDR ; pop [$M_RT.$M_RETURN_ADDR]
TRANGROUP:56BB					       ; pop word [$M_RT+70]
TRANGROUP:56BF		       dec     dl
TRANGROUP:56C1		       jnz     short $MDO310
TRANGROUP:56C3
TRANGROUP:56C3 $MEN307:				       ; ...
TRANGROUP:56C3		       call    $M_FLUSH_BUF
TRANGROUP:56C6		       push    bp
TRANGROUP:56C7		       retn
TRANGROUP:56C7 $M_DISPLAY_REPLACE endp ; sp =  4
TRANGROUP:56C7
TRANGROUP:56C8
TRANGROUP:56C8 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:56C8
TRANGROUP:56C8
TRANGROUP:56C8 $M_FLUSH_BUF    proc near	       ; ...
TRANGROUP:56C8		       push    cx
TRANGROUP:56C9		       push    es
TRANGROUP:56CA		       push    di
TRANGROUP:56CB		       push    ds
TRANGROUP:56CC		       pop     es
TRANGROUP:56CD		       mov     cx, bx
TRANGROUP:56CF		       xor     bx, bx
TRANGROUP:56D1		       lea     di, $M_RT_$M_TEMP_BUF ; $M_RT.$M_TEMP_BUF
TRANGROUP:56D1					       ; lea di,[$M_RT+76]
TRANGROUP:56D5		       call    $M_DISPLAY_STRING
TRANGROUP:56D8		       jb      short $MIF314
TRANGROUP:56DA		       pop     di
TRANGROUP:56DB		       pop     es
TRANGROUP:56DC		       pop     cx
TRANGROUP:56DD		       jmp     short $MEN314
TRANGROUP:56DF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:56DF
TRANGROUP:56DF $MIF314:				       ; ...
TRANGROUP:56DF		       add     sp, 6
TRANGROUP:56E2		       stc
TRANGROUP:56E3
TRANGROUP:56E3 $MEN314:				       ; ...
TRANGROUP:56E3		       retn
TRANGROUP:56E3 $M_FLUSH_BUF    endp
TRANGROUP:56E3
TRANGROUP:56E4
TRANGROUP:56E4 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:56E4
TRANGROUP:56E4
TRANGROUP:56E4 $M_CHAR_REPLACE proc near	       ; ...
TRANGROUP:56E4		       pop     bp
TRANGROUP:56E5		       test    byte ptr	[si+7],	30h ;
TRANGROUP:56E5					       ; $M_SL.$M_S_FLAG,NOT Char_Field_Char AND $M_SIZE_MASK
TRANGROUP:56E9		       jnz     short $MIF317
TRANGROUP:56EB		       mov     al, es:[di]
TRANGROUP:56EE		       push    ax
TRANGROUP:56EF		       inc     cx
TRANGROUP:56F0		       call    $M_IS_IT_DBCS
TRANGROUP:56F3		       jnb     short $MIF318
TRANGROUP:56F5		       mov     al, es:[di+1]
TRANGROUP:56F9		       push    ax
TRANGROUP:56FA		       clc
TRANGROUP:56FB
TRANGROUP:56FB $MIF318:				       ; ...
TRANGROUP:56FB		       jmp     short $MEN317
TRANGROUP:56FD ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:56FD
TRANGROUP:56FD $MIF317:				       ; ...
TRANGROUP:56FD		       mov     al, es:[di]
TRANGROUP:5700		       or      al, al
TRANGROUP:5702		       jz      short $MEN321
TRANGROUP:5704		       inc     di
TRANGROUP:5705		       inc     cx
TRANGROUP:5706		       jmp     short $MIF317
TRANGROUP:5708 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5708
TRANGROUP:5708 $MEN321:				       ; ...
TRANGROUP:5708		       sub     di, cx
TRANGROUP:570A
TRANGROUP:570A $MEN317:				       ; ...
TRANGROUP:570A		       push    bp
TRANGROUP:570B		       retn
TRANGROUP:570B $M_CHAR_REPLACE endp
TRANGROUP:570B
TRANGROUP:570C
TRANGROUP:570C ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:570C
TRANGROUP:570C
TRANGROUP:570C $M_BIN2ASC_REPLACE proc near	       ; ...
TRANGROUP:570C		       pop     bp
TRANGROUP:570D		       xor     dx, dx
TRANGROUP:570F		       xor     ax, ax
TRANGROUP:5711		       mov     ds:$M_RT_$M_DIVISOR, 16 ; $M_RT.$M_DIVISOR,$M_BASE16
TRANGROUP:5711					       ; mov word [$M_RT+74],16
TRANGROUP:5717		       xor     bx, bx
TRANGROUP:5719		       test    byte ptr	[si+7],	20h ; $M_SL.$M_S_FLAG,NOT $M_BYTE AND $M_SIZE_MASK
TRANGROUP:571D		       jnz     short $MIF325
TRANGROUP:571F		       mov     al, es:[di]
TRANGROUP:5722		       test    byte ptr	[si+7],	0Dh ; $M_SL.$M_S_FLAG,NOT Sgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:5726		       jnz     short $MIF326
TRANGROUP:5728		       test    al, 80h	       ; test al,10000000b
TRANGROUP:572A		       jz      short $MIF327
TRANGROUP:572C		       inc     bx	       ; negative number
TRANGROUP:572D		       and     al, 7Fh	       ; and al,01111111b
TRANGROUP:572F
TRANGROUP:572F $MIF327:				       ; ...
TRANGROUP:572F		       mov     ds:$M_RT_$M_DIVISOR, 10 ; $M_RT.$M_DIVISOR,$M_BASE10
TRANGROUP:572F					       ; mov word [$M_RT+74],10
TRANGROUP:5735
TRANGROUP:5735 $MIF326:				       ; ...
TRANGROUP:5735		       test    byte ptr	[si+7],	0Eh ; $M_SL.$M_S_FLAG,NOT Unsgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:5739		       jnz     short $MIF330
TRANGROUP:573B		       mov     ds:$M_RT_$M_DIVISOR, 10 ; mov word [$M_RT+74],10
TRANGROUP:5741
TRANGROUP:5741 $MIF330:				       ; ...
TRANGROUP:5741		       jmp     short $MEN333
TRANGROUP:5743 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5743
TRANGROUP:5743 $MIF325:				       ; ...
TRANGROUP:5743		       test    byte ptr	[si+7],	10h ; $M_SL.$M_S_FLAG,NOT $M_WORD AND $M_SIZE_MASK
TRANGROUP:5747		       jnz     short $MIF333
TRANGROUP:5749		       mov     ax, es:[di]
TRANGROUP:574C		       test    byte ptr	[si+7],	0Dh ; $M_SL.$M_S_FLAG,NOT Sgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:5750		       jnz     short $MIF334
TRANGROUP:5752		       test    ah, 80h	       ; test ah,10000000b
TRANGROUP:5755		       jz      short $MIF335
TRANGROUP:5757		       inc     bx
TRANGROUP:5758		       and     ah, 7Fh	       ; and ah,01111111b
TRANGROUP:575B
TRANGROUP:575B $MIF335:				       ; ...
TRANGROUP:575B		       mov     ds:$M_RT_$M_DIVISOR, 10
TRANGROUP:5761
TRANGROUP:5761 $MIF334:				       ; ...
TRANGROUP:5761		       test    byte ptr	[si+7],	0Eh ; $M_SL.$M_S_FLAG,NOT Unsgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:5765		       jnz     short $MIF338
TRANGROUP:5767		       mov     ds:$M_RT_$M_DIVISOR, 10 ; $M_RT.$M_DIVISOR,$M_BASE10
TRANGROUP:5767					       ; mov word [$M_RT+74],10
TRANGROUP:576D
TRANGROUP:576D $MIF338:				       ; ...
TRANGROUP:576D		       jmp     short $MEN333
TRANGROUP:576F ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:576F
TRANGROUP:576F $MIF333:				       ; ...
TRANGROUP:576F		       mov     ax, es:[di]
TRANGROUP:5772		       mov     dx, es:[di+2]
TRANGROUP:5776		       test    byte ptr	[si+7],	0Dh ; $M_SL.$M_S_FLAG,NOT Sgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:577A		       jnz     short $MIF341
TRANGROUP:577C		       test    dh, 80h	       ; test dh,10000000b
TRANGROUP:577F		       jz      short $MIF342
TRANGROUP:5781		       inc     bx
TRANGROUP:5782		       and     dh, 7Fh	       ; and dh,01111111b
TRANGROUP:5785
TRANGROUP:5785 $MIF342:				       ; ...
TRANGROUP:5785		       mov     ds:$M_RT_$M_DIVISOR, 10 ; mov word [$M_RT+74],10
TRANGROUP:578B
TRANGROUP:578B $MIF341:				       ; ...
TRANGROUP:578B		       test    byte ptr	[si+7],	0Eh ; $M_SL.$M_S_FLAG,NOT Unsgn_Bin_Type AND $M_TYPE_MASK
TRANGROUP:578B					       ; ($M_SL	= [ds:si]) ($M_SUBLIST_STRUC.$M_S_FLAG = 7)
TRANGROUP:578F		       jnz     short $MEN333
TRANGROUP:5791		       mov     ds:$M_RT_$M_DIVISOR, 10
TRANGROUP:5797
TRANGROUP:5797 $MEN333:				       ; ...
TRANGROUP:5797		       call    $M_CONVERT2ASC
TRANGROUP:579A		       or      bx, bx
TRANGROUP:579C		       jz      short $MIF349
TRANGROUP:579E		       xor     dx, dx
TRANGROUP:57A0		       mov     dl, '-'         ; $M_NEG_SIGN
TRANGROUP:57A2		       push    dx
TRANGROUP:57A3
TRANGROUP:57A3 $MIF349:				       ; ...
TRANGROUP:57A3		       push    bp
TRANGROUP:57A4		       retn
TRANGROUP:57A4 $M_BIN2ASC_REPLACE endp ; sp = -2
TRANGROUP:57A4
TRANGROUP:57A5
TRANGROUP:57A5 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:57A5
TRANGROUP:57A5
TRANGROUP:57A5 $M_DATE_REPLACE proc near	       ; ...
TRANGROUP:57A5		       pop     bp
TRANGROUP:57A6		       mov     ds:$M_RT_$M_DIVISOR, 10 ; $M_RT.$M_DIVISOR,$M_BASE10
TRANGROUP:57A6					       ; mov word [$M_RT+74],10
TRANGROUP:57AC		       call    $M_GET_DATE
TRANGROUP:57AF		       xor     dx, dx
TRANGROUP:57B1		       xor     ax, ax
TRANGROUP:57B3		       cmp     ds:$M_RT_$M_TEMP_BUF, 0 ; $M_RT.$M_DATE_FORMAT,0
TRANGROUP:57B3					       ; cmp word [$M_RT+76],0
TRANGROUP:57B8		       jnz     short $MIF351
TRANGROUP:57BA		       call    $M_YEAR
TRANGROUP:57BD		       call    $M_CONVERTDATE
TRANGROUP:57C0		       push    ds:$M_RT_$M_DATE_SEPARA ; $M_RT.$M_DATE_SEPARA
TRANGROUP:57C0					       ; push word [$M_RT+87]
TRANGROUP:57C4		       inc     cx
TRANGROUP:57C5		       xor     ax, ax
TRANGROUP:57C7		       mov     al, [si+5]      ; $M_SL.$M_S_VALUE+3
TRANGROUP:57CA		       call    $M_CONVERTDATE
TRANGROUP:57CD		       push    ds:$M_RT_$M_DATE_SEPARA
TRANGROUP:57D1		       inc     cx
TRANGROUP:57D2		       mov     al, [si+4]      ; $M_SL.$M_S_VALUE+2
TRANGROUP:57D5		       call    $M_CONVERTDATE
TRANGROUP:57D8
TRANGROUP:57D8 $MIF351:				       ; ...
TRANGROUP:57D8		       cmp     ds:$M_RT_$M_TEMP_BUF, 1 ; $M_RT.$M_DATE_FORMAT,1
TRANGROUP:57DD		       jnz     short $MIF353
TRANGROUP:57DF		       call    $M_YEAR
TRANGROUP:57E2		       call    $M_CONVERTDATE
TRANGROUP:57E5		       push    ds:$M_RT_$M_DATE_SEPARA ; push word [$M_RT+87]
TRANGROUP:57E9		       inc     cx
TRANGROUP:57EA		       xor     ax, ax
TRANGROUP:57EC		       mov     al, [si+4]      ; $M_SL.$M_S_VALUE+2
TRANGROUP:57EF		       call    $M_CONVERTDATE
TRANGROUP:57F2		       push    ds:$M_RT_$M_DATE_SEPARA
TRANGROUP:57F6		       inc     cx
TRANGROUP:57F7		       mov     al, [si+5]      ; $M_SL.$M_S_VALUE+3
TRANGROUP:57FA		       call    $M_CONVERTDATE
TRANGROUP:57FD
TRANGROUP:57FD $MIF353:				       ; ...
TRANGROUP:57FD		       cmp     ds:$M_RT_$M_TEMP_BUF, 2 ; $M_RT.$M_DATE_FORMAT,2
TRANGROUP:5802		       jnz     short $MIF355
TRANGROUP:5804		       mov     al, [si+5]
TRANGROUP:5807		       call    $M_CONVERTDATE
TRANGROUP:580A		       push    ds:$M_RT_$M_DATE_SEPARA
TRANGROUP:580E		       inc     cx
TRANGROUP:580F		       mov     al, [si+4]
TRANGROUP:5812		       call    $M_CONVERTDATE
TRANGROUP:5815		       push    ds:$M_RT_$M_DATE_SEPARA ; $M_RT.$M_DATE_SEPARA
TRANGROUP:5819		       inc     cx
TRANGROUP:581A		       call    $M_YEAR
TRANGROUP:581D		       call    $M_CONVERTDATE
TRANGROUP:5820
TRANGROUP:5820 $MIF355:				       ; ...
TRANGROUP:5820		       push    bp
TRANGROUP:5821		       retn
TRANGROUP:5821 $M_DATE_REPLACE endp ; sp = -0Ch
TRANGROUP:5821
TRANGROUP:5822
TRANGROUP:5822 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5822
TRANGROUP:5822
TRANGROUP:5822 $M_GET_DATE     proc near	       ; ...
TRANGROUP:5822		       mov     ah, 38h	       ; DOS_GET_COUNTRY
TRANGROUP:5824		       mov     al, 0
TRANGROUP:5826		       lea     dx, $M_RT_$M_TEMP_BUF ; lea dx,[$M_RT+76]
TRANGROUP:582A		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:582A					       ; get current-country info
TRANGROUP:582A					       ; DS:DX -> buffer for returned info
TRANGROUP:582C		       jnb     short $MIF357
TRANGROUP:582E		       mov     ds:$M_RT_$M_TEMP_BUF, 0 ; $M_RT.$M_DATE_FORMAT,$M_DEF_DATE_FORM
TRANGROUP:5834		       mov     byte ptr	ds:$M_RT_$M_DATE_SEPARA, '-' ; $M_RT.$M_DATE_SEPARA,$M_DEF_DATE_SEP
TRANGROUP:5834					       ; mov byte [$M_RT+87],'-'
TRANGROUP:5839
TRANGROUP:5839 $MIF357:				       ; ...
TRANGROUP:5839		       retn
TRANGROUP:5839 $M_GET_DATE     endp
TRANGROUP:5839
TRANGROUP:583A
TRANGROUP:583A ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:583A
TRANGROUP:583A
TRANGROUP:583A $M_YEAR	       proc near	       ; ...
TRANGROUP:583A		       mov     ax, [si+2]      ; $M_SL.$M_S_VALUE
TRANGROUP:583A					       ; ($M_SUBLIST_STRUC.$M_S_VALUE =	2)
TRANGROUP:583D		       test    byte ptr	[si+7],	10h ; $M_SL.$M_S_FLAG,Date_MDY_4 AND $M_DATE_MASK
TRANGROUP:5841		       jnz     short $MIF360
TRANGROUP:5843		       cmp     ax, 99	       ; $M_MAX_2_YEAR
TRANGROUP:5846		       jbe     short $MIF360
TRANGROUP:5848		       mov     ax, 99
TRANGROUP:584B
TRANGROUP:584B $MIF360:				       ; ...
TRANGROUP:584B		       retn
TRANGROUP:584B $M_YEAR	       endp
TRANGROUP:584B
TRANGROUP:584C
TRANGROUP:584C ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:584C
TRANGROUP:584C
TRANGROUP:584C $M_CONVERTDATE  proc near	       ; ...
TRANGROUP:584C		       pop     ds:$M_RT_$M_TEMP_BUF ; $M_RT.$M_TEMP_BUF
TRANGROUP:584C					       ; pop word [$M_RT+76]
TRANGROUP:5850		       mov     ds:$M_RT_$M_SIZE, cl ; $M_RT.$M_SIZE
TRANGROUP:5854		       call    $M_CONVERT2ASC
TRANGROUP:5857		       dec     cx
TRANGROUP:5858		       cmp     cl, ds:$M_RT_$M_SIZE
TRANGROUP:585C		       jnz     short $MIF363
TRANGROUP:585E		       mov     ax, '0'         ; $M_TIMEDATE_PAD
TRANGROUP:5861		       push    ax
TRANGROUP:5862		       inc     cx
TRANGROUP:5863
TRANGROUP:5863 $MIF363:				       ; ...
TRANGROUP:5863		       inc     cx
TRANGROUP:5864		       push    ds:$M_RT_$M_TEMP_BUF ; push word	[$M_RT+76]
TRANGROUP:5868		       retn
TRANGROUP:5868 $M_CONVERTDATE  endp ; sp = -2
TRANGROUP:5868
TRANGROUP:5869
TRANGROUP:5869 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5869
TRANGROUP:5869
TRANGROUP:5869 $M_TIME_REPLACE proc near	       ; ...
TRANGROUP:5869		       pop     bp
TRANGROUP:586A		       mov     ds:$M_RT_$M_DIVISOR, 10 ; MOV $M_RT.$M_DIVISOR,$M_BASE10
TRANGROUP:5870		       call    $M_GET_TIME
TRANGROUP:5873		       test    byte ptr	[si+7],	1 ; $M_SL.$M_S_FLAG,Time_Cty_Type AND $M_TIME_MASK
TRANGROUP:5877		       jz      short $MIF365
TRANGROUP:5879		       cmp     ds:$M_RT_$M_TIME_FORMAT,	0 ; $M_RT.$M_TIME_FORMAT
TRANGROUP:5879					       ; cmp byte [$M_RT+93],0
TRANGROUP:587E		       jnz     short $MIF365
TRANGROUP:5880		       mov     al, [si+2]      ; $M_SL.$M_S_VALUE ($M_SL = [ds:si])
TRANGROUP:5883		       cmp     al, 12
TRANGROUP:5885		       jl      short $MLL367
TRANGROUP:5887		       cmp     al, 23
TRANGROUP:5889		       jle     short MIF367
TRANGROUP:588B
TRANGROUP:588B $MLL367:				       ; ...
TRANGROUP:588B		       mov     al, 'a'         ; $M_AM
TRANGROUP:588D		       push    ax
TRANGROUP:588E		       inc     cx
TRANGROUP:588F		       jmp     short $MIF365
TRANGROUP:5891 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5891
TRANGROUP:5891 MIF367:				       ; ...
TRANGROUP:5891		       mov     al, 'p'         ; $M_PM
TRANGROUP:5893		       push    ax
TRANGROUP:5894		       inc     cx
TRANGROUP:5895
TRANGROUP:5895 $MIF365:				       ; ...
TRANGROUP:5895		       xor     ax, ax
TRANGROUP:5897		       xor     dx, dx
TRANGROUP:5899		       test    byte ptr	[si+7],	20h ;
TRANGROUP:5899					       ; $M_SL.$M_S_FLAG,Time_HHMMSSHH_Cty AND $M_SIZE_MASK
TRANGROUP:589D		       jz      short $MIF372
TRANGROUP:589F		       mov     al, [si+5]      ; $M_SL.$M_S_VALUE+3 ($M_SUBLIST_STRUC.$M_S_VALUE = 2)
TRANGROUP:58A2		       call    $M_CONVERTTIME
TRANGROUP:58A5		       push    ds:$M_RT_$M_DECI_SEPARA ; $M_RT.$M_DECI_SEPARA
TRANGROUP:58A5					       ; push word [$M_RT+85]
TRANGROUP:58A9		       inc     cx
TRANGROUP:58AA
TRANGROUP:58AA $MIF372:				       ; ...
TRANGROUP:58AA		       test    byte ptr	[si+7],	20h ;
TRANGROUP:58AA					       ; $M_SL.$M_S_FLAG,Time_HHMMSSHH_Cty AND $M_SIZE_MASK
TRANGROUP:58AE		       jnz     short $MLL374
TRANGROUP:58B0		       test    byte ptr	[si+7],	10h ;
TRANGROUP:58B0					       ; $M_SL.$M_S_FLAG,Time_HHMMSS_Cty AND $M_SIZE_MASK
TRANGROUP:58B4		       jz      short $MIF374
TRANGROUP:58B6
TRANGROUP:58B6 $MLL374:				       ; ...
TRANGROUP:58B6		       mov     al, [si+4]      ; $M_SL.$M_S_VALUE+2
TRANGROUP:58B9		       call    $M_CONVERTTIME
TRANGROUP:58BC		       push    ds:$M_RT_$M_TIME_SEPARA ; $M_RT.$M_TIME_SEPARA
TRANGROUP:58BC					       ; push word [$M_RT+89]
TRANGROUP:58C0		       inc     cx
TRANGROUP:58C1
TRANGROUP:58C1 $MIF374:				       ; ...
TRANGROUP:58C1		       mov     al, [si+3]      ;  $M_SL.$M_S_VALUE+1
TRANGROUP:58C4		       call    $M_CONVERTTIME
TRANGROUP:58C7		       push    ds:$M_RT_$M_TIME_SEPARA
TRANGROUP:58CB		       inc     cx
TRANGROUP:58CC		       mov     al, [si+2]      ; $M_SL.$M_S_VALUE
TRANGROUP:58CF		       test    byte ptr	[si+7],	1 ;
TRANGROUP:58CF					       ; $M_SL.$M_S_FLAG,Time_Cty_Type AND $M_TIME_MASK
TRANGROUP:58D3		       jz      short $MIF376
TRANGROUP:58D5		       cmp     ds:$M_RT_$M_TIME_FORMAT,	0 ; $M_RT.$M_TIME_FORMAT
TRANGROUP:58D5					       ; cmp byte [$M_RT+93],0
TRANGROUP:58DA		       jnz     short $MIF376
TRANGROUP:58DC		       cmp     al, 13
TRANGROUP:58DE		       jl      short $MIF378
TRANGROUP:58E0		       sub     al, 12
TRANGROUP:58E2
TRANGROUP:58E2 $MIF378:				       ; ...
TRANGROUP:58E2		       cmp     al, 0
TRANGROUP:58E4		       jnz     short $MIF376
TRANGROUP:58E6		       mov     al, 12
TRANGROUP:58E8
TRANGROUP:58E8 $MIF376:				       ; ...
TRANGROUP:58E8		       call    $M_CONVERT2ASC
TRANGROUP:58EB		       push    bp
TRANGROUP:58EC		       retn
TRANGROUP:58EC $M_TIME_REPLACE endp ; sp = -8
TRANGROUP:58EC
TRANGROUP:58ED
TRANGROUP:58ED ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:58ED
TRANGROUP:58ED
TRANGROUP:58ED $M_GET_TIME     proc near	       ; ...
TRANGROUP:58ED		       mov     ah, 38h	       ; DOS_GET_COUNTRY
TRANGROUP:58EF		       mov     al, 0
TRANGROUP:58F1		       lea     dx, $M_RT_$M_TEMP_BUF ; lea dx,[$M_RT+76]
TRANGROUP:58F5		       int     21h	       ; DOS - 2+ - GET	COUNTRY-DEPENDENT INFORMATION
TRANGROUP:58F5					       ; get current-country info
TRANGROUP:58F5					       ; DS:DX -> buffer for returned info
TRANGROUP:58F7		       jnb     short $MIF384
TRANGROUP:58F9		       mov     word ptr	ds:$M_RT_$M_TIME_FORMAT, 1 ; $M_DEF_TIME_FORM
TRANGROUP:58FF		       mov     byte ptr	ds:$M_RT_$M_TIME_SEPARA, ':' ; $M_DEF_TIME_SEP
TRANGROUP:5904		       mov     byte ptr	ds:$M_RT_$M_DECI_SEPARA, '.' ; $M_DEF_DECI_SEP
TRANGROUP:5909
TRANGROUP:5909 $MIF384:				       ; ...
TRANGROUP:5909		       retn
TRANGROUP:5909 $M_GET_TIME     endp
TRANGROUP:5909
TRANGROUP:590A
TRANGROUP:590A ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:590A
TRANGROUP:590A
TRANGROUP:590A $M_CONVERTTIME  proc near	       ; ...
TRANGROUP:590A		       pop     ds:$M_RT_$M_TEMP_BUF ; $M_RT.$M_TEMP_BUF
TRANGROUP:590A					       ; pop word [$M_RT+76]
TRANGROUP:590E		       mov     ds:$M_RT_$M_SIZE, cl
TRANGROUP:5912		       call    $M_CONVERT2ASC
TRANGROUP:5915		       dec     cx
TRANGROUP:5916		       cmp     cl, ds:$M_RT_$M_SIZE ; $M_RT.$M_SIZE
TRANGROUP:591A		       jnz     short $MIF386
TRANGROUP:591C		       mov     ax, '0'         ; $M_TIMEDATE_PAD
TRANGROUP:591F		       push    ax
TRANGROUP:5920		       inc     cx
TRANGROUP:5921
TRANGROUP:5921 $MIF386:				       ; ...
TRANGROUP:5921		       inc     cx
TRANGROUP:5922		       push    ds:$M_RT_$M_TEMP_BUF
TRANGROUP:5926		       retn
TRANGROUP:5926 $M_CONVERTTIME  endp ; sp = -2
TRANGROUP:5926
TRANGROUP:5927 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5927
TRANGROUP:5927 LoadHigh:			       ; ...
TRANGROUP:5927		       push    ds
TRANGROUP:5928		       pop     es
TRANGROUP:5929		       call    SkipLhDelims    ;  MSDOS	5.0 COMMAND.COM	only !
TRANGROUP:5929					       ; (MSDOS	6.0 COMMAND.COM	code is	different here)
TRANGROUP:592C		       push    si
TRANGROUP:592D		       call    ParseLhCmd
TRANGROUP:5930		       pop     si
TRANGROUP:5931		       jb      short LhErr
TRANGROUP:5933		       call    SetupCmdLine
TRANGROUP:5936		       call    SetupPath
TRANGROUP:5939		       jb      short LhErr
TRANGROUP:593B		       call    HideUMBs
TRANGROUP:593E		       jmp     LH_EXECUTE
TRANGROUP:5941 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5941
TRANGROUP:5941 LhErr:				       ; ...
TRANGROUP:5941		       jmp     cerror
TRANGROUP:5944
TRANGROUP:5944 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5944
TRANGROUP:5944
TRANGROUP:5944 ParseLhCmd      proc near	       ; ...
TRANGROUP:5944		       mov     si, 81h	       ;  MSDOS	5.0 COMMAND.COM	only !
TRANGROUP:5944					       ; (MSDOS	6.0 COMMAND.COM	code is	different here)
TRANGROUP:5947		       mov     ds:COMSW, 0
TRANGROUP:594D		       mov     di, offset Parse_LoadHi
TRANGROUP:5950		       xor     cx, cx
TRANGROUP:5952		       call    Parse_With_Msg
TRANGROUP:5955		       cmp     ax, 0FFFFh
TRANGROUP:5958		       jz      short PLhCmd2
TRANGROUP:595A		       cmp     ax, 0
TRANGROUP:595D		       jnz     short PLhCmd1
TRANGROUP:595F		       mov     bx, dx
TRANGROUP:5961		       call    LhCopyFilename
TRANGROUP:5964		       jb      short PLhCmd2
TRANGROUP:5966		       jmp     short PLhCmd2
TRANGROUP:5968 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5968
TRANGROUP:5968 PLhCmd1:				       ; ...
TRANGROUP:5968		       stc
TRANGROUP:5969
TRANGROUP:5969 PLhCmd2:				       ; ...
TRANGROUP:5969		       retn
TRANGROUP:5969 ParseLhCmd      endp
TRANGROUP:5969
TRANGROUP:596A
TRANGROUP:596A ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:596A
TRANGROUP:596A
TRANGROUP:596A set_strategy    proc near	       ; ...
TRANGROUP:596A		       mov     ax, 5800h       ;  MSDOS	5.0 COMMAND.COM	only !
TRANGROUP:596A					       ; (MSDOS	6.0 COMMAND.COM	code is	different here)
TRANGROUP:596A					       ; DOS_CHECK_STRATEGY
TRANGROUP:596D		       int     21h	       ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
TRANGROUP:596D					       ; AL = function code: get allocation strategy
TRANGROUP:596F		       mov     bx, ax
TRANGROUP:5971		       or      bx, 80h
TRANGROUP:5975		       mov     ax, 5801h       ; DOS_SET_STRATEGY
TRANGROUP:5978		       int     21h	       ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
TRANGROUP:5978					       ; AL = function code: set allocation strategy
TRANGROUP:597A		       retn
TRANGROUP:597A set_strategy    endp
TRANGROUP:597A
TRANGROUP:597B
TRANGROUP:597B ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:597B
TRANGROUP:597B
TRANGROUP:597B set_umblink     proc near	       ; ...
TRANGROUP:597B		       mov     ax, 5803h       ;  MSDOS	5.0 COMMAND.COM	only !
TRANGROUP:597B					       ; (MSDOS	6.0 COMMAND.COM	code is	different here)
TRANGROUP:597B					       ; DOS_SET_UMBLINK
TRANGROUP:597E		       mov     bx, 1
TRANGROUP:5981		       int     21h	       ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
TRANGROUP:5981					       ; AL = function code: (DOS 5beta) set UMB link state
TRANGROUP:5983		       retn
TRANGROUP:5983 set_umblink     endp
TRANGROUP:5983
TRANGROUP:5984
TRANGROUP:5984 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5984
TRANGROUP:5984
TRANGROUP:5984 LhCopyFilename  proc near	       ; ...
TRANGROUP:5984		       push    ds	       ;  MSDOS	5.0 COMMAND.COM	only !
TRANGROUP:5984					       ; (MSDOS	6.0 COMMAND.COM	code is	different here)
TRANGROUP:5985		       push    si
TRANGROUP:5986		       push    di
TRANGROUP:5987		       lds     si, [bx+4]
TRANGROUP:598A		       mov     di, offset EXECPATH
TRANGROUP:598D
TRANGROUP:598D lhcpfn1:				       ; ...
TRANGROUP:598D		       lodsb
TRANGROUP:598E		       cmp     al, 2Ah ; '*'
TRANGROUP:5990		       jz      short lhfilerr
TRANGROUP:5992		       cmp     al, 3Fh ; '?'
TRANGROUP:5994		       jz      short lhfilerr
TRANGROUP:5996		       stosb
TRANGROUP:5997		       or      al, al
TRANGROUP:5999		       jnz     short lhcpfn1
TRANGROUP:599B		       clc
TRANGROUP:599C
TRANGROUP:599C lhfilerr2:			       ; ...
TRANGROUP:599C		       pop     di
TRANGROUP:599D		       pop     si
TRANGROUP:599E		       pop     ds
TRANGROUP:599F		       retn
TRANGROUP:59A0 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:59A0
TRANGROUP:59A0 lhfilerr:			       ; ...
TRANGROUP:59A0		       mov     dx, offset LhInvFil_Ptr
TRANGROUP:59A3		       stc
TRANGROUP:59A4		       jmp     short lhfilerr2
TRANGROUP:59A4 LhCopyFilename  endp
TRANGROUP:59A4
TRANGROUP:59A6
TRANGROUP:59A6 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:59A6
TRANGROUP:59A6
TRANGROUP:59A6 SkipLhDelims    proc near	       ; ...
TRANGROUP:59A6		       mov     si, 81h	       ;  MSDOS	5.0 COMMAND.COM	only !
TRANGROUP:59A6					       ; (MSDOS	6.0 COMMAND.COM	code is	different here)
TRANGROUP:59A9		       call    scanoff
TRANGROUP:59AC
TRANGROUP:59AC stfn1:				       ; ...
TRANGROUP:59AC		       lodsb
TRANGROUP:59AD		       call    DELIM
TRANGROUP:59B0		       jz      short stfn2
TRANGROUP:59B2		       cmp     al, 0Dh
TRANGROUP:59B4		       jz      short stfn2
TRANGROUP:59B6		       cmp     al, ds:SWITCHAR
TRANGROUP:59BA		       jnz     short stfn1
TRANGROUP:59BC
TRANGROUP:59BC stfn2:				       ; ...
TRANGROUP:59BC		       dec     si
TRANGROUP:59BD		       retn
TRANGROUP:59BD SkipLhDelims    endp
TRANGROUP:59BD
TRANGROUP:59BE
TRANGROUP:59BE ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:59BE
TRANGROUP:59BE
TRANGROUP:59BE SetupCmdLine    proc near	       ; ...
TRANGROUP:59BE		       mov     di, 81h
TRANGROUP:59C1		       xor     cl, cl
TRANGROUP:59C3		       dec     cl
TRANGROUP:59C5
TRANGROUP:59C5 SetCmdL1:			       ; ...
TRANGROUP:59C5		       lodsb
TRANGROUP:59C6		       stosb
TRANGROUP:59C7		       inc     cl
TRANGROUP:59C9		       cmp     al, 0Dh
TRANGROUP:59CB		       jnz     short SetCmdL1
TRANGROUP:59CD		       mov     es:80h, cl
TRANGROUP:59D2		       retn
TRANGROUP:59D2 SetupCmdLine    endp
TRANGROUP:59D2
TRANGROUP:59D3
TRANGROUP:59D3 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:59D3
TRANGROUP:59D3
TRANGROUP:59D3 LhSetupErrMsg   proc near	       ; ...
TRANGROUP:59D3		       mov     ds:msg_disp_class, 1
TRANGROUP:59D8		       mov     dx, offset extend_buf_ptr
TRANGROUP:59DB		       mov     ds:extend_buf_ptr, ax
TRANGROUP:59DE		       retn
TRANGROUP:59DE LhSetupErrMsg   endp
TRANGROUP:59DE
TRANGROUP:59DF
TRANGROUP:59DF ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:59DF
TRANGROUP:59DF
TRANGROUP:59DF check_umblink   proc near	       ; ...
TRANGROUP:59DF		       mov     ax, 5800h
TRANGROUP:59E2		       int     21h	       ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
TRANGROUP:59E2					       ; AL = function code: get allocation strategy
TRANGROUP:59E4		       mov     bl, al
TRANGROUP:59E6		       mov     ax, 5802h
TRANGROUP:59E9		       int     21h	       ; DOS - 3+ - GET/SET MEMORY ALLOCATION STRATEGY
TRANGROUP:59E9					       ; AL = function code: (DOS 5beta) get UMB link state
TRANGROUP:59EB		       mov     bh, al
TRANGROUP:59ED		       xchg    ax, bx
TRANGROUP:59EE		       rol     al, 1
TRANGROUP:59F0		       and     al, 1
TRANGROUP:59F2		       shl     ah, 1
TRANGROUP:59F4		       or      al, ah
TRANGROUP:59F6		       retn
TRANGROUP:59F6 check_umblink   endp
TRANGROUP:59F6
TRANGROUP:59F7
TRANGROUP:59F7 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:59F7
TRANGROUP:59F7
TRANGROUP:59F7 HideUMBs	       proc near	       ; ...
TRANGROUP:59F7		       push    ds
TRANGROUP:59F8		       call    check_umblink
TRANGROUP:59FB		       mov     ds, ds:RESSEG
TRANGROUP:59FF		       mov     ds:fInHigh, al
TRANGROUP:5A02		       or      ds:fInHigh, 80h
TRANGROUP:5A07		       pop     ds
TRANGROUP:5A08		       call    set_strategy
TRANGROUP:5A0B		       call    set_umblink
TRANGROUP:5A0E		       retn
TRANGROUP:5A0E HideUMBs	       endp
TRANGROUP:5A0E
TRANGROUP:5A0F
TRANGROUP:5A0F ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:5A0F
TRANGROUP:5A0F
TRANGROUP:5A0F SetupPath       proc near	       ; ...
TRANGROUP:5A0F		       mov     ax, ds:ARG_ARGVCNT ; mov	ax,[ARG+ARG_UNIT.argvcnt]
TRANGROUP:5A12		       dec     ax
TRANGROUP:5A13		       mov     bx, 11	       ; ARGV_ELE.SIZE
TRANGROUP:5A16		       mul     bx
TRANGROUP:5A18		       mov     di, offset ARG_ARGV ; mov di,offset TRANGROUP:Arg
TRANGROUP:5A18					       ; Copy TO argv[0]
TRANGROUP:5A1B		       mov     si, di
TRANGROUP:5A1D		       add     si, 11	       ; ARGV_ELE.SIZE
TRANGROUP:5A20		       mov     cx, ax
TRANGROUP:5A22		       cld
TRANGROUP:5A23		       rep movsb
TRANGROUP:5A25		       dec     ds:ARG_ARGVCNT  ; dec word [ARG+ARG_UNIT.argvcnt]
TRANGROUP:5A29		       call    path_search
TRANGROUP:5A2C		       or      ax, ax
TRANGROUP:5A2E		       jz      short no_exec_file
TRANGROUP:5A30		       cmp     ax, 4
TRANGROUP:5A33		       jl      short no_exec_bat
TRANGROUP:5A35		       clc
TRANGROUP:5A36		       retn
TRANGROUP:5A37 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5A37
TRANGROUP:5A37 no_exec_bat:			       ; ...
TRANGROUP:5A37		       mov     dx, offset NoExecBat_Ptr
TRANGROUP:5A3A		       jmp     short lhsp_errret
TRANGROUP:5A3C ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5A3C
TRANGROUP:5A3C no_exec_file:			       ; ...
TRANGROUP:5A3C		       mov     ax, 2
TRANGROUP:5A3F		       call    LhSetupErrMsg
TRANGROUP:5A42
TRANGROUP:5A42 lhsp_errret:			       ; ...
TRANGROUP:5A42		       stc
TRANGROUP:5A43		       retn
TRANGROUP:5A43 SetupPath       endp
TRANGROUP:5A43
TRANGROUP:5A43 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:5A44 $M_CLASS_3_STRUC	db 0FFh		       ; ...
TRANGROUP:5A44					       ; $M_CLASS_ID (Class identifer)
TRANGROUP:5A45		       dw 5		       ; $M_COMMAND_VER	(COMMAND.COM version)
TRANGROUP:5A47		       db 162		       ; Total number of messages
TRANGROUP:5A48 $M_ID_3_1       dw 1020		       ; Message Number	= 1020
TRANGROUP:5A4A		       dw 288h		       ; Message offset	from message number (5A48h+0288h=5CD0h)
TRANGROUP:5A4C $M_ID_3_2       dw 1015		       ; Message Number	= 1015
TRANGROUP:5A4E		       dw 294h		       ; Message offset	from message number (5A4Ch+0294h=5CE0h)
TRANGROUP:5A50 $M_ID_3_3       dw 1004,	692,1026, 714,1031, 730,1035, 741,1062,	752
TRANGROUP:5A50		       dw 1028,	763,1045, 793,1041, 818,1042, 848,1043,	871
TRANGROUP:5A50		       dw 1002,	899,1003, 935,1007, 959,1008, 982,1009,1000
TRANGROUP:5A50		       dw 1010,1017,1011,1045,1014,1068,1016,1081,1017,1119
TRANGROUP:5A50		       dw 1018,1152,1019,1168,1021,1176,1022,1202,1023,1237
TRANGROUP:5A50		       dw 1024,1277,1025,1296,1027,1316,1029,1345,1030,1359
TRANGROUP:5A50		       dw 1032,1370,1033,1390,1034,1408,1036,1426,1037,1443
TRANGROUP:5A50		       dw 1038,1456,1039,1471,1040,1528,1044,1545,1046,1561
TRANGROUP:5A50		       dw 1047,1612,1048,1633,1049,1647,1050,1653,1051,1680
TRANGROUP:5A50		       dw 1052,1693,1053,1712,1054,1746,1055,1781,1056,1791
TRANGROUP:5A50		       dw 1057,1802,1059,1811,1060,1812,1061,1812,1063,1834
TRANGROUP:5A50		       dw 1064,1833,1065,1832,1066,1831,1067,1830,1068,1828
TRANGROUP:5A50		       dw 1069,1835,1070,1835,1071,1834,1072,1833,1073,1838
TRANGROUP:5A50		       dw 1074,1843,1075,1848,1076,1850,1077,1849,1078,1853
TRANGROUP:5A50		       dw 1079,1876,1080,1883,1081,1901,1084,1940,1090,1952
TRANGROUP:5A50		       dw 1091,1962,1092,1972,1093,1982,1094,1999,1095,2024
TRANGROUP:5A50		       dw 1096,2049,1200,2094,1300,2091,1320,2222,1321,2282
TRANGROUP:5A50		       dw 1340,2391,1341,2479,1342,2574,1360,2716,1400,2740
TRANGROUP:5A50		       dw 1401,2882,1402,2983,1403,3098,1404,3160,1420,3292
TRANGROUP:5A50		       dw 1440,3427,1441,3469,1460,3597,1461,3694,1462,3822
TRANGROUP:5A50		       dw 1480,3898,1481,4057,1482,4147,1483,4241,1484,4360
TRANGROUP:5A50		       dw 1485,4548,1486,4700,1487,4847,1488,4946,1500,5089
TRANGROUP:5A50		       dw 1520,5148,1540,5206,1541,5296,1542,5400,1560,5456
TRANGROUP:5A50		       dw 1561,5508,1562,5629,1563,5673,1564,5712,1565,5770
TRANGROUP:5A50		       dw 1566,5819,1567,5860,1568,5978,1580,6051,1600,6119
TRANGROUP:5A50		       dw 1601,6144,1602,6224,1620,6298,1621,6382,1622,6508
TRANGROUP:5A50		       dw 1640,6580,1641,6629,1660,6757,1680,6824,1700,6858
TRANGROUP:5A50		       dw 1720,7032,1740,7111,1741,7199,1760,7310,1780,7383
TRANGROUP:5A50		       dw 1800,7487,1801,7561,1820,7645,1821,7713,1840,7848
TRANGROUP:5A50		       dw 1860,7919,1861,8006,1862,8073,1863,8195,1864,8354
TRANGROUP:5A50		       dw 1865,8453,1866,8556,1880,8656,1881,8772,1882,8894
TRANGROUP:5A50		       dw 1883,8977,1900,9136,1920,9156,1921,9200
TRANGROUP:5CCC $M_ID_3_162     dw 1922		       ; Message Number	= 1922
TRANGROUP:5CCE		       dw 9285		       ; Message offset	from message number (5CCCh+2445h=8111h)
TRANGROUP:5CD0 MSG_1020	       db 15
TRANGROUP:5CD1		       db '%1 bytes free',0Dh,0Ah
TRANGROUP:5CE0 MSG_1015	       db 35
TRANGROUP:5CE1		       db 'File cannot be copied onto itself',0Dh,0Ah
TRANGROUP:5D04 MSG_1004	       db 25
TRANGROUP:5D05		       db 'Insufficient disk space',0Dh,0Ah
TRANGROUP:5D1E MSG_1026	       db 19
TRANGROUP:5D1F		       db 'Invalid code page',0Dh,0Ah
TRANGROUP:5D32 MSG_1031	       db 14
TRANGROUP:5D33		       db 'Invalid date',0Dh,0Ah
TRANGROUP:5D41 MSG_1035	       db 14
TRANGROUP:5D42		       db 'Invalid time',0Dh,0Ah
TRANGROUP:5D50 MSG_1062	       db 14
TRANGROUP:5D51		       db 'Invalid path',0Dh,0Ah
TRANGROUP:5D5F MSG_1028	       db 33
TRANGROUP:5D60		       db 'Press any key to continue . . .',0Dh,0Ah
TRANGROUP:5D81 MSG_1045	       db 28
TRANGROUP:5D82		       db 'Unable to create directory',0Dh,0Ah
TRANGROUP:5D9E MSG_1041	       db 33
TRANGROUP:5D9F		       db 'Volume in drive %1 has no label',0Dh,0Ah
TRANGROUP:5DC0 MSG_1042	       db 26
TRANGROUP:5DC1		       db 'Volume in drive %1 is %2',0Dh,0Ah
TRANGROUP:5DDB MSG_1043	       db 31
TRANGROUP:5DDC		       db 'Volume Serial Number is %1-%2',0Dh,0Ah
TRANGROUP:5DFB MSG_1002	       db 39
TRANGROUP:5DFC		       db 'Duplicate file name or file not found',0Dh,0Ah
TRANGROUP:5E23 MSG_1003	       db 27
TRANGROUP:5E24		       db 'Invalid path or file name',0Dh,0Ah
TRANGROUP:5E3F MSG_1007	       db 26
TRANGROUP:5E40		       db 'Out of environment space',0Dh,0Ah
TRANGROUP:5E5A MSG_1008	       db 21
TRANGROUP:5E5B		       db 'File creation error',0Dh,0Ah
TRANGROUP:5E70 MSG_1009	       db 20
TRANGROUP:5E71		       db 'Batch file missing',0Dh,0Ah
TRANGROUP:5E85 MSG_1010	       db 31
TRANGROUP:5E86		       db 0Dh,0Ah
TRANGROUP:5E86		       db 'Insert disk with batch file',0Dh,0Ah
TRANGROUP:5EA5		       db 26
TRANGROUP:5EA6		       db 'Bad command or file name',0Dh,0Ah
TRANGROUP:5EC0		       db 16
TRANGROUP:5EC1		       db 'Access denied ',0Dh,0Ah
TRANGROUP:5ED1		       db 41
TRANGROUP:5ED2		       db 'Content of destination lost before copy',0Dh,0Ah
TRANGROUP:5EFB		       db 36
TRANGROUP:5EFC		       db 'Invalid filename or file not found',0Dh,0Ah
TRANGROUP:5F20		       db 19
TRANGROUP:5F21		       db '%1 file(s) copied',0Dh,0Ah
TRANGROUP:5F34 MSG_1019	       db 11
TRANGROUP:5F35		       db '%1 file(s) '
TRANGROUP:5F40 MSG_1021	       db 29
TRANGROUP:5F41		       db 'Invalid drive specification',0Dh,0Ah
TRANGROUP:5F5E		       db 38
TRANGROUP:5F5F		       db 'Code page %1 not prepared for system',0Dh,0Ah
TRANGROUP:5F85		       db 43
TRANGROUP:5F86		       db 'Code page %1 not prepared for all devices',0Dh,0Ah
TRANGROUP:5FB1		       db 22
TRANGROUP:5FB2		       db 'Active code page: %1',0Dh,0Ah
TRANGROUP:5FC8		       db 23
TRANGROUP:5FC9		       db 'NLSFUNC not installed',0Dh,0Ah
TRANGROUP:5FE0		       db 32
TRANGROUP:5FE1		       db 'Current drive is no longer valid'
TRANGROUP:6001		       db 17
TRANGROUP:6002		       db 'Label not found',0Dh,0Ah
TRANGROUP:6013		       db 14
TRANGROUP:6014 MSG_1030	       db 'Syntax error',0Dh,0Ah
TRANGROUP:6022		       db 23
TRANGROUP:6023		       db 'Current date is %1 %2',0Dh,0Ah
TRANGROUP:603A		       db 21
TRANGROUP:603B		       db 'SunMonTueWedThuFriSat'
TRANGROUP:6050		       db 21
TRANGROUP:6051		       db 'Enter new date (%1): '
TRANGROUP:6066		       db 20
TRANGROUP:6067		       db 'Current time is %1',0Dh,0Ah
TRANGROUP:607B		       db 16
TRANGROUP:607C		       db 'Enter new time: '
TRANGROUP:608C MSG_1038	       db 18
TRANGROUP:608D		       db ',    Delete (Y/N)?'
TRANGROUP:609F MSG_1039	       db 60
TRANGROUP:60A0		       db 'All files in directory will be deleted!',0Dh,0Ah
TRANGROUP:60A0		       db 'Are you sure (Y/N)?'
TRANGROUP:60DC MSG_1040	       db 20
TRANGROUP:60DD		       db 'MS-DOS Version %1.%2'
TRANGROUP:60F1		       db 19
TRANGROUP:60F2		       db 'Invalid directory',0Dh,0Ah
TRANGROUP:6105		       db 54
TRANGROUP:6106		       db 'Invalid path, not directory,',0Dh,0Ah
TRANGROUP:6106		       db 'or directory not empty',0Dh,0Ah
TRANGROUP:613C		       db 24
TRANGROUP:613D		       db 'Must specify ON or OFF',0Dh,0Ah
TRANGROUP:6155		       db 17
TRANGROUP:6156		       db 'Directory of %1',0Dh,0Ah
TRANGROUP:6167 MSG_1049	       db 9
TRANGROUP:6168		       db 'No Path',0Dh,0Ah
TRANGROUP:6171		       db 30
TRANGROUP:6172		       db 'Invalid drive in search path',0Dh,0Ah
TRANGROUP:6190		       db 16
TRANGROUP:6191		       db 'Invalid device',0Dh,0Ah
TRANGROUP:61A1		       db 22
TRANGROUP:61A2		       db 'FOR cannot be nested',0Dh,0Ah
TRANGROUP:61B8		       db 37
TRANGROUP:61B9		       db 'Intermediate file error during pipe',0Dh,0Ah
TRANGROUP:61DE		       db 38
TRANGROUP:61DF		       db 'Cannot do binary reads from a device',0Dh,0Ah
TRANGROUP:6205 MSG_1055	       db 13
TRANGROUP:6206		       db 'BREAK is %1',0Dh,0Ah
TRANGROUP:6213		       db 14
TRANGROUP:6214		       db 'VERIFY is %1',0Dh,0Ah
TRANGROUP:6222		       db 12
TRANGROUP:6223		       db 'ECHO is %1',0Dh,0Ah
TRANGROUP:622F		       db 4
TRANGROUP:6230		       db 'off',0
TRANGROUP:6234		       db 3
TRANGROUP:6235		       db 'on',0
TRANGROUP:6238 MSG_1061	       db 25
TRANGROUP:6239		       db 'Error writing to device',0Dh,0Ah
TRANGROUP:6252 MSG_1063	       db 2
TRANGROUP:6253		       db '%1'
TRANGROUP:6255		       db 2
TRANGROUP:6256		       db '%1'
TRANGROUP:6258		       db 2
TRANGROUP:6259		       db '%1'
TRANGROUP:625B		       db 2
TRANGROUP:625C		       db '%1'
TRANGROUP:625E MSG_1067	       db 1
TRANGROUP:625F		       db 9
TRANGROUP:6260 MSG_1068	       db 10
TRANGROUP:6261		       db ' <DIR>    '
TRANGROUP:626B		       db 3
TRANGROUP:626C		       db 8, 20h, 8
TRANGROUP:626F		       db 2
TRANGROUP:6270		       db 0Dh
TRANGROUP:6271		       db 0Ah
TRANGROUP:6272		       db 2
TRANGROUP:6273		       db '%1'
TRANGROUP:6275		       db 8
TRANGROUP:6276		       db 'mm-dd-yy'
TRANGROUP:627E		       db 8
TRANGROUP:627F		       db 'dd-mm-yy'
TRANGROUP:6287		       db 8
TRANGROUP:6288		       db 'yy-mm-dd'
TRANGROUP:6290		       db 5
TRANGROUP:6291		       db '%1 %2'
TRANGROUP:6296		       db 2
TRANGROUP:6297		       db '%1'
TRANGROUP:6299		       db 7
TRANGROUP:629A		       db ' %1  %2'
TRANGROUP:62A1 MSG_1078	       db 26
TRANGROUP:62A2		       db 'Directory already exists',0Dh,0Ah
TRANGROUP:62BC		       db 10
TRANGROUP:62BD		       db '%1 bytes',0Dh,0Ah
TRANGROUP:62C7		       db 21
TRANGROUP:62C8		       db 'Total files listed:',0Dh,0Ah
TRANGROUP:62DD		       db 42
TRANGROUP:62DE		       db '(Error occurred in environment variable)',0Dh,0Ah
TRANGROUP:6308		       db 15
TRANGROUP:6309		       db '(continuing %1)'
TRANGROUP:6318		       db 13
TRANGROUP:6319		       db 'Revision %1',0Dh,0Ah
TRANGROUP:6326		       db 13
TRANGROUP:6327		       db 'DOS is in ROM'
TRANGROUP:6334		       db 13
TRANGROUP:6335		       db 'DOS is in HMA'
TRANGROUP:6342		       db 20
TRANGROUP:6343		       db 'DOS is in low memory'
TRANGROUP:6357 MSG_1094	       db 28
TRANGROUP:6358		       db 'Cannot Loadhigh batch file',0Dh,0Ah
TRANGROUP:6374		       db 28
TRANGROUP:6375		       db 'LoadHigh: Invalid filename',0Dh,0Ah
TRANGROUP:6391		       db 48
TRANGROUP:6392		       db 'Cannot open specified country information file',0Dh,0Ah
TRANGROUP:63C2 MSG_1200	       db 0
TRANGROUP:63C3 MSG_1300	       db 134
TRANGROUP:63C4		       db 'Sets or clears extended CTRL+C checking.',0Dh,0Ah
TRANGROUP:63C4		       db 0Dh,0Ah
TRANGROUP:63C4		       db 'BREAK [ON | OFF]',0Dh,0Ah
TRANGROUP:63C4		       db 0Dh,0Ah
TRANGROUP:63C4		       db 'Type BREAK without a parameter to display the current BREAK setti'
TRANGROUP:63C4		       db 'ng.',0Dh,0Ah
TRANGROUP:644A		       db 63
TRANGROUP:644B		       db 'Displays or sets the active code page number.',0Dh,0Ah
TRANGROUP:644B		       db 0Dh,0Ah
TRANGROUP:644B		       db 'CHCP [nnn]',0Dh,0Ah
TRANGROUP:644B		       db 0Dh,0Ah
TRANGROUP:648A		       db 112
TRANGROUP:648B		       db '  nnn   Specifies a code page number.',0Dh,0Ah
TRANGROUP:648B		       db 0Dh,0Ah
TRANGROUP:648B		       db 'Type CHCP without a parameter to display the active code page num'
TRANGROUP:648B		       db 'ber.',0Dh,0Ah
TRANGROUP:64FB MSG_1340	       db 91
TRANGROUP:64FC		       db 'Displays the name of or changes the current directory.',0Dh,0Ah
TRANGROUP:64FC		       db 0Dh,0Ah
TRANGROUP:64FC		       db 'CHDIR [drive:][path]',0Dh,0Ah
TRANGROUP:64FC		       db 'CHDIR[..]',0Dh,0Ah
TRANGROUP:6557		       db 98
TRANGROUP:6558		       db 'CD [drive:][path]',0Dh,0Ah
TRANGROUP:6558		       db 'CD[..]',0Dh,0Ah
TRANGROUP:6558		       db 0Dh,0Ah
TRANGROUP:6558		       db '  ..   Specifies that you want to change to the parent directory.'
TRANGROUP:6558		       db 0Dh,0Ah
TRANGROUP:6558		       db 0Dh,0Ah
TRANGROUP:65BA MSG_1342	       db 145
TRANGROUP:65BB		       db 'Type CD drive: to display the current directory in the specified '
TRANGROUP:65BB		       db 'drive.',0Dh,0Ah
TRANGROUP:65BB		       db 'Type CD without parameters to display the current drive and direc'
TRANGROUP:65BB		       db 'tory.',0Dh,0Ah
TRANGROUP:664C		       db 27
TRANGROUP:664D		       db 'Clears the screen.',0Dh,0Ah
TRANGROUP:664D		       db 0Dh,0Ah
TRANGROUP:664D		       db 'CLS',0Dh,0Ah
TRANGROUP:6668		       db 145
TRANGROUP:6669		       db 'Copies one or more files to another location.',0Dh,0Ah
TRANGROUP:6669		       db 0Dh,0Ah
TRANGROUP:6669		       db 'COPY [/A | /B] source [/A | /B] [+ source [/A | /B] [+ ...]] [des'
TRANGROUP:6669		       db 'tination',0Dh,0Ah
TRANGROUP:6669		       db '  [/A | /B]] [/V]',0Dh,0Ah
TRANGROUP:6669		       db 0Dh,0Ah
TRANGROUP:66FA		       db 104
TRANGROUP:66FB		       db '  source       Specifies the file or files to be copied.',0Dh,0Ah
TRANGROUP:66FB		       db '  /A           Indicates an ASCII text file.',0Dh,0Ah
TRANGROUP:6763 MSG_1402	       db 118
TRANGROUP:6764		       db '  /B           Indicates a binary file.',0Dh,0Ah
TRANGROUP:6764		       db '  destination  Specifies the directory and/or filename for the ne'
TRANGROUP:6764		       db 'w file(s).',0Dh,0Ah
TRANGROUP:67DA		       db 65
TRANGROUP:67DB		       db '  /V           Verifies that new files are written correctly.',0Dh,0Ah
TRANGROUP:67DB		       db 0Dh,0Ah
TRANGROUP:681C		       db 135
TRANGROUP:681D		       db 'To append files, specify a single file for destination, but multi'
TRANGROUP:681D		       db 'ple files',0Dh,0Ah
TRANGROUP:681D		       db 'for source (using wildcards or file1+file2+file3 format).',0Dh,0Ah
TRANGROUP:68A4		       db 138
TRANGROUP:68A5		       db 'Changes the terminal device used to control your system.',0Dh,0Ah
TRANGROUP:68A5		       db 0Dh,0Ah
TRANGROUP:68A5		       db 'CTTY device',0Dh,0Ah
TRANGROUP:68A5		       db 0Dh,0Ah
TRANGROUP:68A5		       db '  device   The terminal device you want to use, such as COM1.',0Dh,0Ah
TRANGROUP:692F MSG_1440	       db 45
TRANGROUP:6930		       db 'Displays or sets the date.',0Dh,0Ah
TRANGROUP:6930		       db 0Dh,0Ah
TRANGROUP:6930		       db 'DATE [date]',0Dh,0Ah
TRANGROUP:6930		       db 0Dh,0Ah
TRANGROUP:695D		       db 131
TRANGROUP:695E		       db 'Type DATE without parameters to display the current date setting '
TRANGROUP:695E		       db 'and',0Dh,0Ah
TRANGROUP:695E		       db 'a prompt for a new one.  Press ENTER to keep the same date.',0Dh,0Ah
TRANGROUP:69E1 MSG_1460	       db 100
TRANGROUP:69E2		       db 'Deletes one or more files.',0Dh,0Ah
TRANGROUP:69E2		       db 0Dh,0Ah
TRANGROUP:69E2		       db 'DEL [drive:][path]filename [/P]',0Dh,0Ah
TRANGROUP:69E2		       db 'ERASE [drive:][path]filename [/P]',0Dh,0Ah
TRANGROUP:69E2		       db 0Dh,0Ah
TRANGROUP:6A46		       db 131
TRANGROUP:6A47		       db '  [drive:][path]filename  Specifies the file(s) to delete.  Speci'
TRANGROUP:6A47		       db 'fy multiple',0Dh,0Ah
TRANGROUP:6A47		       db '                          files by using wildcards.',0Dh,0Ah
TRANGROUP:6ACA		       db 79
TRANGROUP:6ACB		       db '  /P                      Prompts for confirmation before deletin'
TRANGROUP:6ACB		       db 'g each file.',0Dh,0Ah
TRANGROUP:6B1A MSG_1480	       db 162
TRANGROUP:6B1B		       db 'Displays a list of files and subdirectories in a directory.',0Dh,0Ah
TRANGROUP:6B1B		       db 0Dh,0Ah
TRANGROUP:6B1B		       db 'DIR [drive:][path][filename] [/P] [/W] [/A[[:]attributes]]',0Dh,0Ah
TRANGROUP:6B1B		       db '  [/O[[:]sortorder]] [/S] [/B] [/L]',0Dh,0Ah
TRANGROUP:6B1B		       db 0Dh,0Ah
TRANGROUP:6BBD		       db 93
TRANGROUP:6BBE		       db '  [drive:][path][filename]',0Dh,0Ah
TRANGROUP:6BBE		       db '              Specifies drive, directory, and/or files to list.',0Dh
TRANGROUP:6BBE		       db 0Ah
TRANGROUP:6C1B		       db 97
TRANGROUP:6C1C		       db '  /P          Pauses after each screenful of information.',0Dh,0Ah
TRANGROUP:6C1C		       db '  /W          Uses wide list format.',0Dh,0Ah
TRANGROUP:6C7D		       db 122
TRANGROUP:6C7E		       db '  /A          Displays files with specified attributes.',0Dh,0Ah
TRANGROUP:6C7E		       db '  attributes   D  Directories                R  Read-only files',0Dh
TRANGROUP:6C7E		       db 0Ah
TRANGROUP:6CF8		       db 191
TRANGROUP:6CF9		       db '               H  Hidden files               A  Files ready for a'
TRANGROUP:6CF9		       db 'rchiving',0Dh,0Ah
TRANGROUP:6CF9		       db '               S  System files               -  Prefix meaning "n'
TRANGROUP:6CF9		       db 'ot"',0Dh,0Ah
TRANGROUP:6CF9		       db '  /O          List by files in sorted order.',0Dh,0Ah
TRANGROUP:6DB8 MSG_1485	       db 155
TRANGROUP:6DB9		       db '  sortorder    N  By name (alphabetic)       S  By size (smallest'
TRANGROUP:6DB9		       db ' first)',0Dh,0Ah
TRANGROUP:6DB9		       db '               E  By extension (alphabetic)  D  By date & time (e'
TRANGROUP:6DB9		       db 'arliest first)',0Dh,0Ah
TRANGROUP:6E54		       db 150
TRANGROUP:6E55		       db '               G  Group directories first    -  Prefix to reverse'
TRANGROUP:6E55		       db ' order',0Dh,0Ah
TRANGROUP:6E55		       db '  /S          Displays files in specified directory and all subdi'
TRANGROUP:6E55		       db 'rectories.',0Dh,0Ah
TRANGROUP:6EEB		       db 102
TRANGROUP:6EEC		       db '  /B          Uses bare format (no heading information or summary'
TRANGROUP:6EEC		       db ').',0Dh,0Ah
TRANGROUP:6EEC		       db '  /L          Uses lowercase.',0Dh,0Ah
TRANGROUP:6EEC		       db 0Dh,0Ah
TRANGROUP:6F52		       db 146
TRANGROUP:6F53		       db 'Switches may be preset in the DIRCMD environment variable.  Overr'
TRANGROUP:6F53		       db 'ide',0Dh,0Ah
TRANGROUP:6F53		       db 'preset switches by prefixing any switch with - (hyphen)--for exam'
TRANGROUP:6F53		       db 'ple, /-W.',0Dh,0Ah
TRANGROUP:6FE5 MSG_1500	       db 62
TRANGROUP:6FE6		       db 'Quits the COMMAND.COM program (command interpreter).',0Dh,0Ah
TRANGROUP:6FE6		       db 0Dh,0Ah
TRANGROUP:6FE6		       db 'EXIT',0Dh,0Ah
TRANGROUP:7024		       db 61
TRANGROUP:7025		       db 'Creates a directory.',0Dh,0Ah
TRANGROUP:7025		       db 0Dh,0Ah
TRANGROUP:7025		       db 'MKDIR [drive:]path',0Dh,0Ah
TRANGROUP:7025		       db 'MD [drive:]path',0Dh,0Ah
TRANGROUP:7062 MSG_1540	       db 93
TRANGROUP:7063		       db 'Displays or sets a search path for executable files.',0Dh,0Ah
TRANGROUP:7063		       db 0Dh,0Ah
TRANGROUP:7063		       db 'PATH [[drive:]path[;...]]',0Dh,0Ah
TRANGROUP:7063		       db 'PATH ;',0Dh,0Ah
TRANGROUP:7063		       db 0Dh,0Ah
TRANGROUP:70C0		       db 107
TRANGROUP:70C1		       db 'Type PATH ; to clear all search-path settings and direct MS-DOS t'
TRANGROUP:70C1		       db 'o search',0Dh,0Ah
TRANGROUP:70C1		       db 'only in the current directory.',0Dh,0Ah
TRANGROUP:712C		       db 59
TRANGROUP:712D		       db 'Type PATH without parameters to display the current path.',0Dh,0Ah
TRANGROUP:7168 MSG_1560	       db 55
TRANGROUP:7169		       db 'Changes the MS-DOS command prompt.',0Dh,0Ah
TRANGROUP:7169		       db 0Dh,0Ah
TRANGROUP:7169		       db 'PROMPT [text]',0Dh,0Ah
TRANGROUP:7169		       db 0Dh,0Ah
TRANGROUP:71A0		       db 124
TRANGROUP:71A1		       db '  text    Specifies a new command prompt.',0Dh,0Ah
TRANGROUP:71A1		       db 0Dh,0Ah
TRANGROUP:71A1		       db 'Prompt can be made up of normal characters and the following spec'
TRANGROUP:71A1		       db 'ial codes:',0Dh,0Ah
TRANGROUP:71A1		       db 0Dh,0Ah
TRANGROUP:721D		       db 47
TRANGROUP:721E		       db '  $Q   = (equal sign)',0Dh,0Ah
TRANGROUP:721E		       db '  $$   $ (dollar sign)',0Dh,0Ah
TRANGROUP:724D		       db 42
TRANGROUP:724E		       db '  $T   Current time',0Dh,0Ah
TRANGROUP:724E		       db '  $D   Current date',0Dh,0Ah
TRANGROUP:7278 MSG_1564	       db 61
TRANGROUP:7279		       db '  $P   Current drive and path',0Dh,0Ah
TRANGROUP:7279		       db '  $V   MS-DOS version number',0Dh,0Ah
TRANGROUP:72B6		       db 52
TRANGROUP:72B7		       db '  $N   Current drive',0Dh,0Ah
TRANGROUP:72B7		       db '  $G   > (greater-than sign)',0Dh,0Ah
TRANGROUP:72EB		       db 44
TRANGROUP:72EC		       db '  $L   < (less-than sign)',0Dh,0Ah
TRANGROUP:72EC		       db '  $B   | (pipe)',0Dh,0Ah
TRANGROUP:7318		       db 121
TRANGROUP:7319		       db '  $H   Backspace (erases previous character)',0Dh,0Ah
TRANGROUP:7319		       db '  $E   Escape code (ASCII code 27)',0Dh,0Ah
TRANGROUP:7319		       db '  $_   Carriage return and linefeed',0Dh,0Ah
TRANGROUP:7319		       db 0Dh,0Ah
TRANGROUP:7392		       db 76
TRANGROUP:7393		       db 'Type PROMPT without parameters to reset the prompt to the default'
TRANGROUP:7393		       db ' setting.',0Dh,0Ah
TRANGROUP:73DF MSG_1580	       db 71
TRANGROUP:73E0		       db 'Removes (deletes) a directory.',0Dh,0Ah
TRANGROUP:73E0		       db 0Dh,0Ah
TRANGROUP:73E0		       db 'RMDIR [drive:]path',0Dh,0Ah
TRANGROUP:73E0		       db 'RD [drive:]path',0Dh,0Ah
TRANGROUP:7427		       db 28
TRANGROUP:7428		       db 'Renames a file or files.',0Dh,0Ah
TRANGROUP:7428		       db 0Dh,0Ah
TRANGROUP:7444		       db 83
TRANGROUP:7445		       db 'RENAME [drive:][path]filename1 filename2',0Dh,0Ah
TRANGROUP:7445		       db 'REN [drive:][path]filename1 filename2',0Dh,0Ah
TRANGROUP:7445		       db 0Dh,0Ah
TRANGROUP:7498		       db 77
TRANGROUP:7499		       db 'Note that you cannot specify a new drive or path for your destina'
TRANGROUP:7499		       db 'tion file.',0Dh,0Ah
TRANGROUP:74E6 MSG_1620	       db 87
TRANGROUP:74E7		       db 'Displays, sets, or removes MS-DOS environment variables.',0Dh,0Ah
TRANGROUP:74E7		       db 0Dh,0Ah
TRANGROUP:74E7		       db 'SET [variable=[string]]',0Dh,0Ah
TRANGROUP:74E7		       db 0Dh,0Ah
TRANGROUP:753E		       db 129
TRANGROUP:753F		       db '  variable  Specifies the environment-variable name.',0Dh,0Ah
TRANGROUP:753F		       db '  string    Specifies a series of characters to assign to the var'
TRANGROUP:753F		       db 'iable.',0Dh,0Ah
TRANGROUP:753F		       db 0Dh,0Ah
TRANGROUP:75C0		       db 75
TRANGROUP:75C1		       db 'Type SET without parameters to display the current environment va'
TRANGROUP:75C1		       db 'riables.',0Dh,0Ah
TRANGROUP:760C MSG_1640	       db 52
TRANGROUP:760D		       db 'Displays or sets the system time.',0Dh,0Ah
TRANGROUP:760D		       db 0Dh,0Ah
TRANGROUP:760D		       db 'TIME [time]',0Dh,0Ah
TRANGROUP:760D		       db 0Dh,0Ah
TRANGROUP:7641		       db 131
TRANGROUP:7642		       db 'Type TIME with no parameters to display the current time setting '
TRANGROUP:7642		       db 'and a prompt',0Dh,0Ah
TRANGROUP:7642		       db 'for a new one.  Press ENTER to keep the same time.',0Dh,0Ah
TRANGROUP:76C5 MSG_1660	       db 70
TRANGROUP:76C6		       db 'Displays the contents of a text file.',0Dh,0Ah
TRANGROUP:76C6		       db 0Dh,0Ah
TRANGROUP:76EF		       db 'TYPE [drive:][path]filename',0Dh,0Ah
TRANGROUP:770C MSG_1680	       db 37
TRANGROUP:770D		       db 'Displays the MS-DOS version.',0Dh,0Ah
TRANGROUP:770D		       db 0Dh,0Ah
TRANGROUP:770D		       db 'VER',0Dh,0Ah
TRANGROUP:7732		       db 177
TRANGROUP:7733		       db 'Tells MS-DOS whether to verify that your files are written correc'
TRANGROUP:7733		       db 'tly to a',0Dh,0Ah
TRANGROUP:7733		       db 'disk.',0Dh,0Ah
TRANGROUP:7733		       db 0Dh,0Ah
TRANGROUP:7733		       db 'VERIFY [ON | OFF]',0Dh,0Ah
TRANGROUP:7733		       db 0Dh,0Ah
TRANGROUP:7733		       db 'Type VERIFY without a parameter to display the current VERIFY set'
TRANGROUP:7733		       db 'ting.',0Dh,0Ah
TRANGROUP:77E4 MSG_1720	       db 82
TRANGROUP:77E5		       db 'Displays the disk volume label and serial number, if they exist.',0Dh
TRANGROUP:77E5		       db 0Ah
TRANGROUP:77E5		       db 0Dh,0Ah
TRANGROUP:77E5		       db 'VOL [drive:]',0Dh,0Ah
TRANGROUP:7837		       db 91
TRANGROUP:7838		       db 'Calls one batch program from another.',0Dh,0Ah
TRANGROUP:7838		       db 0Dh,0Ah
TRANGROUP:7838		       db 'CALL [drive:][path]filename [batch-parameters]',0Dh,0Ah
TRANGROUP:7838		       db 0Dh,0Ah
TRANGROUP:7893		       db 114
TRANGROUP:7894		       db '  batch-parameters   Specifies any command-line information requi'
TRANGROUP:7894		       db 'red by the',0Dh,0Ah
TRANGROUP:7894		       db '                     batch program.',0Dh,0Ah
TRANGROUP:7906 MSG_1760	       db 76
TRANGROUP:7907		       db 'Records comments (remarks) in a batch file or CONFIG.SYS.',0Dh,0Ah
TRANGROUP:7907		       db 0Dh,0Ah
TRANGROUP:7944		       db 'REM [comment]',0Dh,0Ah
TRANGROUP:7953		       db 107
TRANGROUP:7954		       db 'Suspends processing of a batch program and displays the message "'
TRANGROUP:7954		       db 'Press any',0Dh,0Ah
TRANGROUP:7954		       db 'key to continue...."',0Dh,0Ah
TRANGROUP:7954		       db 0Dh,0Ah
TRANGROUP:79B8		       db 'PAUSE',0Dh,0Ah
TRANGROUP:79BF MSG_1800	       db 77
TRANGROUP:79C0		       db 'Displays messages, or turns command-echoing on or off.',0Dh,0Ah
TRANGROUP:79C0		       db 0Dh,0Ah
TRANGROUP:79C0		       db '  ECHO [ON | OFF]',0Dh,0Ah
TRANGROUP:7A0D		       db 87
TRANGROUP:7A0E		       db '  ECHO [message]',0Dh,0Ah
TRANGROUP:7A0E		       db 0Dh,0Ah
TRANGROUP:7A0E		       db 'Type ECHO without parameters to display the current echo setting.'
TRANGROUP:7A0E		       db 0Dh,0Ah
TRANGROUP:7A65 MSG_1820	       db 71
TRANGROUP:7A66		       db 'Directs MS-DOS to a labelled line in a batch program.',0Dh,0Ah
TRANGROUP:7A66		       db 0Dh,0Ah
TRANGROUP:7A66		       db 'GOTO label',0Dh,0Ah
TRANGROUP:7A66		       db 0Dh,0Ah
TRANGROUP:7AAD		       db 138
TRANGROUP:7AAE		       db '  label   Specifies a text string used in the batch program as a '
TRANGROUP:7AAE		       db 'label.',0Dh,0Ah
TRANGROUP:7AAE		       db 0Dh,0Ah
TRANGROUP:7AAE		       db 'You type a label on a line by itself, beginning with a colon.',0Dh,0Ah
TRANGROUP:7B38		       db 74
TRANGROUP:7B39		       db 'Changes the position of replaceable parameters in a batch file.',0Dh
TRANGROUP:7B39		       db 0Ah
TRANGROUP:7B39		       db 0Dh,0Ah
TRANGROUP:7B39		       db 'SHIFT',0Dh,0Ah
TRANGROUP:7B83 MSG_1860	       db 90
TRANGROUP:7B84		       db 'Performs conditional processing in batch programs.',0Dh,0Ah
TRANGROUP:7B84		       db 0Dh,0Ah
TRANGROUP:7B84		       db 'IF [NOT] ERRORLEVEL number command',0Dh,0Ah
TRANGROUP:7BDE		       db 70
TRANGROUP:7BDF		       db 'IF [NOT] string1==string2 command',0Dh,0Ah
TRANGROUP:7BDF		       db 'IF [NOT] EXIST filename command',0Dh,0Ah
TRANGROUP:7BDF		       db 0Dh,0Ah
TRANGROUP:7C25		       db 125
TRANGROUP:7C26		       db '  NOT               Specifies that MS-DOS should carry out the co'
TRANGROUP:7C26		       db 'mmand only',0Dh,0Ah
TRANGROUP:7C26		       db '                    if the condition is false.',0Dh,0Ah
TRANGROUP:7CA3 MSG_1863	       db 162
TRANGROUP:7CA4		       db '  ERRORLEVEL number Specifies a true condition if the last progra'
TRANGROUP:7CA4		       db 'm run returned',0Dh,0Ah
TRANGROUP:7CA4		       db '                    '
TRANGROUP:7D09		       db 'an exit code equal to or greater than the number specified.',0Dh,0Ah
TRANGROUP:7D46		       db 102
TRANGROUP:7D47		       db '  command           Specifies the command to carry out if the con'
TRANGROUP:7D47		       db 'dition is',0Dh,0Ah
TRANGROUP:7D47		       db '                    met.',0Dh,0Ah
TRANGROUP:7DAD		       db 106
TRANGROUP:7DAE		       db '  string1==string2  Specifies a true condition if the specified t'
TRANGROUP:7DAE		       db 'ext strings',0Dh,0Ah
TRANGROUP:7DAE		       db '                    match.',0Dh,0Ah
TRANGROUP:7E18		       db 103
TRANGROUP:7E19		       db '  EXIST filename    Specifies a true condition if the specified f'
TRANGROUP:7E19		       db 'ilename',0Dh,0Ah
TRANGROUP:7E19		       db '                    exists.',0Dh,0Ah
TRANGROUP:7E80 MSG_1880	       db 119
TRANGROUP:7E81		       db 'Runs a specified command for each file in a set of files.',0Dh,0Ah
TRANGROUP:7E81		       db 0Dh,0Ah
TRANGROUP:7EBE		       db 'FOR %variable IN (set) DO command [command-parameters]',0Dh,0Ah
TRANGROUP:7EBE		       db 0Dh,0Ah
TRANGROUP:7EF8		       db 125
TRANGROUP:7EF9		       db '  %variable  Specifies a replaceable parameter.',0Dh,0Ah
TRANGROUP:7EF9		       db '  (set)      Specifies a set of one or more files.  Wildcards may'
TRANGROUP:7EF9		       db ' be used.',0Dh,0Ah
TRANGROUP:7F76		       db 86
TRANGROUP:7F77		       db '  command    Specifies the command to carry out for each file.',0Dh,0Ah
TRANGROUP:7F77		       db '  command-parameters',0Dh,0Ah
TRANGROUP:7FCD		       db 162
TRANGROUP:7FCE		       db '             Specifies parameters or switches for the specified c'
TRANGROUP:7FCE		       db 'ommand.',0Dh,0Ah
TRANGROUP:7FCE		       db 0Dh,0Ah
TRANGROUP:7FCE		       db 'To use the FOR command in a batch program, specify %%variable ins'
TRANGROUP:7FCE		       db 'tead of',0Dh,0Ah
TRANGROUP:7FCE		       db '%variable.',0Dh,0Ah
TRANGROUP:8070 MSG_1900	       db 23
TRANGROUP:8071		       db 'Reserved command name',0Dh,0Ah
TRANGROUP:8088 MSG_1920	       db 47
TRANGROUP:8089		       db 'Loads a program into the upper memory area.',0Dh,0Ah
TRANGROUP:8089		       db 0Dh,0Ah
TRANGROUP:80B8		       db 88
TRANGROUP:80B9		       db 'LOADHIGH [drive:][path]filename [parameters]',0Dh,0Ah
TRANGROUP:80B9		       db 'LH [drive:][path]filename [parameters]',0Dh,0Ah
TRANGROUP:80B9		       db 0Dh,0Ah
TRANGROUP:8111 MSG_1922	       db 113
TRANGROUP:8112		       db '  parameters   Specifies any command-line information required by'
TRANGROUP:8112		       db ' the',0Dh,0Ah
TRANGROUP:8112		       db '               program you want to load.',0Dh,0Ah
TRANGROUP:8183
TRANGROUP:8183 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:8183
TRANGROUP:8183
TRANGROUP:8183 $M_CLS_3	       proc near	       ; ...
TRANGROUP:8183		       push    cs	       ; CLASS_F
TRANGROUP:8184		       pop     es
TRANGROUP:8185		       assume es:TRANGROUP
TRANGROUP:8185		       lea     di, $M_CLASS_3_STRUC ; LEA DI,$M_CLASS_3_STRUC
TRANGROUP:8189		       add     cx, 10053       ; ADD CX,$-$M_CLASS_3_STRUC ; 8189h-5A44h
TRANGROUP:818D		       retn
TRANGROUP:818D $M_CLS_3	       endp
TRANGROUP:818D
TRANGROUP:818D ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:818E $M_CLASS_1_STRUC	db 1		       ; ...
TRANGROUP:818E					       ; $M_CLASS_ID
TRANGROUP:818F		       dw 5		       ; EXPECTED_VERSION (COMMAND.COM version)
TRANGROUP:8191		       db 4		       ; Class_1_MessageCount
TRANGROUP:8192 $M_ID_1_1       dw 2		       ; Message Number	= 2
TRANGROUP:8194		       dw 10h		       ; Message offset	from message number
TRANGROUP:8196 $M_ID_1_2       dw 3		       ; Message Number	= 3
TRANGROUP:8198		       dw 1Bh		       ; Message offset	from message number
TRANGROUP:819A $M_ID_1_3       dw 8		       ; Message Number	= 8
TRANGROUP:819C		       dw 26h		       ; Message offset	from message number
TRANGROUP:819E $M_ID_1_4       dw 0FFFFh	       ; Message Number	= -1
TRANGROUP:81A0		       dw 36h		       ; Message offset	from message number
TRANGROUP:81A2 EXTEND2	       db 14
TRANGROUP:81A3		       db 'File not found'
TRANGROUP:81B1 EXTEND3	       db 14
TRANGROUP:81B2		       db 'Path not found'
TRANGROUP:81C0 EXTEND8	       db 19
TRANGROUP:81C1		       db 'Insufficient memory'
TRANGROUP:81D4 EXTEND999       db 17
TRANGROUP:81D5		       db 'Extended Error %1'
TRANGROUP:81E6
TRANGROUP:81E6 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:81E6
TRANGROUP:81E6
TRANGROUP:81E6 $M_MSGSERV_1    proc near	       ; ...
TRANGROUP:81E6		       push    cs
TRANGROUP:81E7		       pop     es
TRANGROUP:81E8		       lea     di, $M_CLASS_1_STRUC
TRANGROUP:81EC		       add     cx, 94	       ; $-$M_CLASS_1_STRUC ; 81ECh-818Eh
TRANGROUP:81EF		       retn
TRANGROUP:81EF $M_MSGSERV_1    endp
TRANGROUP:81EF
TRANGROUP:81EF ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:81F0 $M_CLASS_2_STRUC	db 2		       ; ...
TRANGROUP:81F0					       ; $M_CLASS_ID
TRANGROUP:81F1		       dw 5		       ; EXPECTED_VERSION (COMMAND.COM version)
TRANGROUP:81F3		       db 1		       ; Class_2_MessageCount
TRANGROUP:81F4 $M_ID_2_1       dw 0FFFFh	       ; Message Number	= -1
TRANGROUP:81F6		       dw 4		       ; Message offset	from message number
TRANGROUP:81F8 PARSE999	       db 14
TRANGROUP:81F9		       db 'Parse Error %1'
TRANGROUP:8207
TRANGROUP:8207 ; шшшшшшшшшшшшшшш S U B R O U T I N E шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш
TRANGROUP:8207
TRANGROUP:8207
TRANGROUP:8207 $M_MSGSERV_2    proc near	       ; ...
TRANGROUP:8207		       push    cs
TRANGROUP:8208		       pop     es
TRANGROUP:8209		       lea     di, $M_CLASS_2_STRUC
TRANGROUP:820D		       add     cx, 29	       ; $-$M_CLASS_2_STRUC ; 820Dh-81F0h
TRANGROUP:8210		       retn
TRANGROUP:8210 $M_MSGSERV_2    endp
TRANGROUP:8210
TRANGROUP:8210 ; ддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд
TRANGROUP:8211 msg_disp_class  db 0FFh		       ; ...
TRANGROUP:8211					       ; Util_msg_class
TRANGROUP:8212 msg_cont_flag   db 0		       ; ...
TRANGROUP:8212					       ; No_cont_flag
TRANGROUP:8213 extend_buf_ptr  dw 0		       ; ...
TRANGROUP:8215 extend_buf_sub  db 0		       ; ...
TRANGROUP:8216		       db 11		       ; parm_block_size
TRANGROUP:8217		       db 0
TRANGROUP:8218 extend_buf_off  dw offset string_ptr_2
TRANGROUP:821A extend_buf_seg  dw 0
TRANGROUP:821C		       db 0
TRANGROUP:821D		       db 10h		       ; Char_field_ASCIIZ
TRANGROUP:821E		       db 128		       ; maximum width
TRANGROUP:821F		       db 0		       ; minimum width
TRANGROUP:8220		       db 20h		       ; blank
TRANGROUP:8221 RENERR_PTR      dw 1002		       ; ...
TRANGROUP:8223		       db 0		       ; no_subst
TRANGROUP:8224 BADCPMES_PTR    dw 1003		       ; ...
TRANGROUP:8224					       ; message number
TRANGROUP:8226		       db 0		       ; number	of subst
TRANGROUP:8227 NOSPACE_PTR     dw 1004		       ; ...
TRANGROUP:8229		       db 0
TRANGROUP:822A ENVERR_PTR      dw 1007		       ; ...
TRANGROUP:822C		       db 0
TRANGROUP:822D FULLDIR_PTR     dw 1008		       ; ...
TRANGROUP:822F		       db 0
TRANGROUP:8230 BADBAT_PTR      dw 1009		       ; ...
TRANGROUP:8232		       db 0
TRANGROUP:8233 NEEDBAT_PTR     dw 1010		       ; ...
TRANGROUP:8235		       db 0
TRANGROUP:8236 BADNAM_PTR      dw 1011		       ; ...
TRANGROUP:8238		       db 0
TRANGROUP:8239 ACCDEN_PTR      dw 1014		       ; ...
TRANGROUP:823B		       db 0
TRANGROUP:823C OVERWR_PTR      dw 1015		       ; ...
TRANGROUP:823E		       db 0
TRANGROUP:823F LOSTERR_PTR     dw 1016		       ; ...
TRANGROUP:8241		       db 0
TRANGROUP:8242 INORNOT_PTR     dw 1017		       ; ...
TRANGROUP:8244		       db 0
TRANGROUP:8245 copied_ptr      dw 1018		       ; ...
TRANGROUP:8245					       ; message number
TRANGROUP:8247		       db 1		       ; number	of subst
TRANGROUP:8248		       db 11		       ; parm_block_size (size of sublist)
TRANGROUP:8249		       db 0
TRANGROUP:824A		       dw offset Copy_num      ; offset	of arg
TRANGROUP:824C		       dw 0		       ; segment of arg
TRANGROUP:824E		       db 1		       ; first subst
TRANGROUP:824F		       db 0A1h		       ; Right_Align+Unsgn_Bin_Word (binary to decimal)
TRANGROUP:8250		       db 9		       ; maximum width
TRANGROUP:8251		       db 9		       ; minimum width
TRANGROUP:8252		       db 20h		       ; pad character
TRANGROUP:8253 dirmes_ptr      dw 1019		       ; ...
TRANGROUP:8255		       db 1
TRANGROUP:8256		       db 11
TRANGROUP:8257		       db 0
TRANGROUP:8258		       dw offset Dir_Num
TRANGROUP:825A		       dw 0
TRANGROUP:825C		       db 1
TRANGROUP:825D		       db 0A1h
TRANGROUP:825E		       db 9
TRANGROUP:825F		       db 9
TRANGROUP:8260		       db 20h
TRANGROUP:8261 bytmes_ptr      dw 1020		       ; ...
TRANGROUP:8261					       ; message number
TRANGROUP:8263		       db 1		       ; number	of subst
TRANGROUP:8264		       db 11		       ; parm_block_size (size of sublist)
TRANGROUP:8265		       db 0		       ; reserved
TRANGROUP:8266		       dw offset Bytes_Free    ; offset	of arg
TRANGROUP:8268		       dw 0		       ; segment of arg
TRANGROUP:826A		       db 1		       ; first subst
TRANGROUP:826B		       db 0B1h		       ; Right_Align+Unsgn_Bin_DWord (long binary to decimal)
TRANGROUP:826C		       db 28		       ; maximum width
TRANGROUP:826D		       db 28		       ; minimum width
TRANGROUP:826E		       db 20h		       ; blank (pad character)
TRANGROUP:826F baddrv_ptr      dw 1021		       ; ...
TRANGROUP:8271		       db 0
TRANGROUP:8272 cp_not_set_ptr  dw 1022		       ; ...
TRANGROUP:8274		       db 1
TRANGROUP:8275		       db 11
TRANGROUP:8276		       db 0
TRANGROUP:8277		       dw offset system_cpage
TRANGROUP:8279		       dw 0
TRANGROUP:827B		       db 1
TRANGROUP:827C		       db 0A1h
TRANGROUP:827D		       db 5
TRANGROUP:827E		       db 1
TRANGROUP:827F		       db 20h
TRANGROUP:8280 cp_not_all_ptr  dw 1023		       ; ...
TRANGROUP:8282		       db 1
TRANGROUP:8283		       db 11
TRANGROUP:8284		       db 0
TRANGROUP:8285		       dw offset system_cpage
TRANGROUP:8287		       dw 0
TRANGROUP:8289		       db 1
TRANGROUP:828A		       db 0A1h
TRANGROUP:828B		       db 5
TRANGROUP:828C		       db 1
TRANGROUP:828D		       db 20h
TRANGROUP:828E cp_active_ptr   dw 1024		       ; ...
TRANGROUP:8290		       db 1
TRANGROUP:8291		       db 0Bh
TRANGROUP:8292		       db 0
TRANGROUP:8293		       dw offset system_cpage
TRANGROUP:8295		       dw 0
TRANGROUP:8297		       db 1
TRANGROUP:8298		       db 0A1h
TRANGROUP:8299		       db 5
TRANGROUP:829A		       db 1
TRANGROUP:829B		       db 20h
TRANGROUP:829C NLSFUNC_PTR     dw 1025		       ; ...
TRANGROUP:829E		       db 0
TRANGROUP:829F INV_CODE_PAGE   dw 1026		       ; ...
TRANGROUP:82A1		       db 0
TRANGROUP:82A2 BADCURDRV       dw 1027		       ; ...
TRANGROUP:82A4		       db 0
TRANGROUP:82A5 PAUSEMES_PTR    dw 1028		       ; ...
TRANGROUP:82A7		       db 0
TRANGROUP:82A8 BADLAB_PTR      dw 1029		       ; ...
TRANGROUP:82AA		       db 0
TRANGROUP:82AB SYNTMES_PTR     dw 1030		       ; ...
TRANGROUP:82AD		       db 0
TRANGROUP:82AE BADDAT_PTR      dw 1031		       ; ...
TRANGROUP:82B0		       db 0
TRANGROUP:82B1 CurDat_Ptr      dw 1032		       ; ...
TRANGROUP:82B1					       ; message number
TRANGROUP:82B3		       db 2		       ; number	of subst
TRANGROUP:82B4		       db 11		       ; size of sublist
TRANGROUP:82B5		       db 0		       ; reserved
TRANGROUP:82B6		       dw offset Arg_Buf       ; offset	of arg
TRANGROUP:82B8		       dw 0		       ; segment of arg
TRANGROUP:82BA		       db 1		       ; first subst
TRANGROUP:82BB		       db 10h		       ; Char_field_ASCIIZ (character string)
TRANGROUP:82BC		       db 3		       ; maximum width
TRANGROUP:82BD		       db 3		       ; minimum width
TRANGROUP:82BE		       db 20h		       ; blank (pad character)
TRANGROUP:82BF		       db 11		       ; size of sublist
TRANGROUP:82C0		       db 0		       ; reserved
TRANGROUP:82C1 CurDat_yr       dw 0		       ; ...
TRANGROUP:82C1					       ; year
TRANGROUP:82C3 CurDat_mo_day   dw 0		       ; ...
TRANGROUP:82C3					       ; month,day
TRANGROUP:82C5		       db 2		       ; second	subst
TRANGROUP:82C6		       db 34h		       ; DATE_MDY_4 (date)
TRANGROUP:82C7		       db 10		       ; maximum width
TRANGROUP:82C8		       db 10		       ; maximum width
TRANGROUP:82C9		       db 20h		       ; pad character
TRANGROUP:82CA WeekTab	       dw 1033		       ; ...
TRANGROUP:82CC		       db 0
TRANGROUP:82CD NewDat_Ptr      dw 1034		       ; ...
TRANGROUP:82CF		       db 1
TRANGROUP:82D0		       db 11
TRANGROUP:82D1		       db 0
TRANGROUP:82D2 NewDat_Format   dw 0		       ; ...
TRANGROUP:82D4		       dw 0
TRANGROUP:82D6		       db 1
TRANGROUP:82D7		       db 10h
TRANGROUP:82D8		       db 8
TRANGROUP:82D9		       db 8
TRANGROUP:82DA		       db 20h
TRANGROUP:82DB BadTim_Ptr      dw 1035		       ; ...
TRANGROUP:82DD		       db 0
TRANGROUP:82DE CurTim_Ptr      dw 1036		       ; ...
TRANGROUP:82DE					       ; message number
TRANGROUP:82E0		       db 1		       ; number	of subst
TRANGROUP:82E1		       db 11		       ; size of sublist
TRANGROUP:82E2		       db 0		       ; reserved
TRANGROUP:82E3 CurTim_hr_min   dw 0		       ; ...
TRANGROUP:82E3					       ; hours,minutes
TRANGROUP:82E5 CurTim_Sec_hn   dw 0		       ; ...
TRANGROUP:82E5					       ; seconds,hundredths
TRANGROUP:82E7		       db 1		       ; first subst
TRANGROUP:82E8		       db 0A5h		       ; Right_Align+TIME_HHMMSSHH_Cty (time)
TRANGROUP:82E9		       db 12		       ; maximum width
TRANGROUP:82EA		       db 12		       ; maximum width
TRANGROUP:82EB		       db 20h		       ; pad character
TRANGROUP:82EC NewTim_Ptr      dw 1037		       ; ...
TRANGROUP:82EE		       db 0
TRANGROUP:82EF Del_Y_N_Ptr     dw 1038		       ; ...
TRANGROUP:82F1		       db 0
TRANGROUP:82F2 SureMes_Ptr     dw 1039		       ; ...
TRANGROUP:82F4		       db 0
TRANGROUP:82F5 VerMes_Ptr      dw 1040		       ; ...
TRANGROUP:82F7		       db 2
TRANGROUP:82F8		       db 11
TRANGROUP:82F9		       db 0
TRANGROUP:82FA		       dw offset Major_Ver_Num
TRANGROUP:82FC		       dw 0
TRANGROUP:82FE		       db 1
TRANGROUP:82FF		       db 0A1h
TRANGROUP:8300		       db 1
TRANGROUP:8301		       db 1
TRANGROUP:8302		       db 20h		       ; blank (pad character)
TRANGROUP:8303		       db 11
TRANGROUP:8304		       db 0
TRANGROUP:8305		       dw offset Minor_Ver_Num
TRANGROUP:8307		       dw 0
TRANGROUP:8309		       db 2
TRANGROUP:830A		       db 0A1h
TRANGROUP:830B		       db 2
TRANGROUP:830C		       db 2
TRANGROUP:830D		       db 30h		       ; "0" (pad character)
TRANGROUP:830E VolMes_Ptr_2    dw 1041		       ; ...
TRANGROUP:830E					       ; message number
TRANGROUP:8310		       db 1
TRANGROUP:8311		       db 11
TRANGROUP:8312		       db 0
TRANGROUP:8313		       dw offset vol_drv
TRANGROUP:8315		       dw 0
TRANGROUP:8317		       db 1
TRANGROUP:8318		       db 0		       ; Char_field_Char (character)
TRANGROUP:8319		       db 128
TRANGROUP:831A		       db 1
TRANGROUP:831B		       db 20h
TRANGROUP:831C VolMes_Ptr      dw 1042		       ; ...
TRANGROUP:831C					       ; "Volume in drive %1 is	%2",13,10
TRANGROUP:831E		       db 2		       ; number	of subst
TRANGROUP:831F		       db 11		       ; size of sublist
TRANGROUP:8320		       db 0		       ; reserved
TRANGROUP:8321		       dw offset vol_drv       ; offset	of drive
TRANGROUP:8323		       dw 0		       ; segment of arg
TRANGROUP:8325		       db 1		       ; first subst
TRANGROUP:8326		       db 0		       ; character (Char_field_Char)
TRANGROUP:8327		       db 128		       ; maximum width
TRANGROUP:8328		       db 1		       ; minimum width
TRANGROUP:8329		       db 20h		       ; pad character (blank)
TRANGROUP:832A		       db 11		       ; size of sublist
TRANGROUP:832B		       db 0		       ; reserved
TRANGROUP:832C		       dw offset CHARBUF       ; offset	of string
TRANGROUP:832E		       dw 0		       ; segment of arg
TRANGROUP:8330		       db 2		       ; second	subst
TRANGROUP:8331		       db 10h		       ; Char_field_ASCIIZ (character string)
TRANGROUP:8332		       db 128		       ; maximum width
TRANGROUP:8333		       db 1		       ; minimum width
TRANGROUP:8334		       db 20h		       ; pad character (blank)
TRANGROUP:8335 VolSerMes_Ptr   dw 1043		       ; ...
TRANGROUP:8335					       ; "Volume Serial	Number is %1-%2",13,10
TRANGROUP:8337		       db 2
TRANGROUP:8338		       db 11
TRANGROUP:8339		       db 0
TRANGROUP:833A		       dw offset vol_serial+2
TRANGROUP:833C		       dw 0
TRANGROUP:833E		       db 1
TRANGROUP:833F		       db 0A3h		       ; Right_Align+Bin_Hex_Word (binary to hex)
TRANGROUP:8340		       db 4
TRANGROUP:8341		       db 4
TRANGROUP:8342		       db 30h		       ; "0"
TRANGROUP:8343		       db 0Bh
TRANGROUP:8344		       db 0
TRANGROUP:8345		       dw offset vol_serial
TRANGROUP:8347		       dw 0
TRANGROUP:8349		       db 2
TRANGROUP:834A		       db 0A3h
TRANGROUP:834B		       db 4
TRANGROUP:834C		       db 4
TRANGROUP:834D		       db 30h
TRANGROUP:834E badcd_ptr       dw 1044		       ; ...
TRANGROUP:8350		       db 0
TRANGROUP:8351 badmkd_ptr      dw 1045		       ; ...
TRANGROUP:8353		       db 0
TRANGROUP:8354 badrmd_ptr      dw 1046		       ; ...
TRANGROUP:8356		       db 0
TRANGROUP:8357 bad_on_off_ptr  dw 1047		       ; ...
TRANGROUP:8357					       ; message number
TRANGROUP:8359		       db 0		       ; no_subst (umber of subst)
TRANGROUP:835A dirhead_ptr     dw 1048		       ; ...
TRANGROUP:835A					       ; "Directory of %1",13,10
TRANGROUP:835C		       db 1		       ; number	of subst
TRANGROUP:835D		       db 11		       ; parm_block_size (size of sublist)
TRANGROUP:835E		       db 0		       ; reserved
TRANGROUP:835F		       dw offset BWDBUF	       ; offset	of arg
TRANGROUP:8361		       dw 0		       ; segment of arg
TRANGROUP:8363		       db 1		       ; first subst
TRANGROUP:8364		       db 10h		       ; Char_field_ASCIIZ (character string)
TRANGROUP:8365		       db 128		       ; maximum width
TRANGROUP:8366		       db 0		       ; minimum witdh
TRANGROUP:8367		       db 20h		       ; pad character (blank)
TRANGROUP:8368 NULLPATH_PTR    dw 1049		       ; ...
TRANGROUP:836A		       db 0
TRANGROUP:836B BADPMES_PTR     dw 1050		       ; ...
TRANGROUP:836D		       db 0
TRANGROUP:836E BADDEV_PTR      dw 1051		       ; ...
TRANGROUP:8370		       db 0
TRANGROUP:8371 FORNESTMES_PTR  dw 1052		       ; ...
TRANGROUP:8373		       db 0
TRANGROUP:8374 PIPEEMES_PTR    dw 1053		       ; ...
TRANGROUP:8376		       db 0
TRANGROUP:8377 INBDEV_PTR      dw 1054		       ; ...
TRANGROUP:8379		       db 0
TRANGROUP:837A CtrlcMes_Ptr    dw 1055		       ; ...
TRANGROUP:837C		       db 1
TRANGROUP:837D		       db 11
TRANGROUP:837E		       db 0
TRANGROUP:837F		       dw 0
TRANGROUP:8381		       dw 0
TRANGROUP:8383		       db 1
TRANGROUP:8384		       db 10h
TRANGROUP:8385		       db 128
TRANGROUP:8386		       db 1
TRANGROUP:8387		       db 20h
TRANGROUP:8388 VeriMes_Ptr     dw 1056		       ; ...
TRANGROUP:838A		       db 1
TRANGROUP:838B		       db 11
TRANGROUP:838C		       db 0
TRANGROUP:838D		       dw 0
TRANGROUP:838F		       dw 0
TRANGROUP:8391		       db 1
TRANGROUP:8392		       db 10h
TRANGROUP:8393		       db 128
TRANGROUP:8394		       db 1
TRANGROUP:8395		       db 20h
TRANGROUP:8396 EchoMes_Ptr     dw 1057		       ; ...
TRANGROUP:8398		       db 1
TRANGROUP:8399		       db 11
TRANGROUP:839A		       db 0
TRANGROUP:839B		       dw 0
TRANGROUP:839D		       dw 0
TRANGROUP:839F		       db 1
TRANGROUP:83A0		       db 10h
TRANGROUP:83A1		       db 128
TRANGROUP:83A2		       db 1
TRANGROUP:83A3		       db 20h
TRANGROUP:83A4 OFFMES_PTR      dw 1059		       ; ...
TRANGROUP:83A6		       db 0
TRANGROUP:83A7 ONMES_PTR       dw 1060		       ; ...
TRANGROUP:83A9		       db 0
TRANGROUP:83AA DEVWMES_PTR     dw 1061		       ; ...
TRANGROUP:83AC		       db 0
TRANGROUP:83AD INVAL_PATH_PTR  dw 1062
TRANGROUP:83AF		       db 0
TRANGROUP:83B0 arg_buf_ptr     dw 1063		       ; ...
TRANGROUP:83B2		       db 1
TRANGROUP:83B3		       db 11
TRANGROUP:83B4		       db 0
TRANGROUP:83B5		       dw offset Arg_Buf
TRANGROUP:83B7		       dw 0
TRANGROUP:83B9		       db 1
TRANGROUP:83BA		       db 10h
TRANGROUP:83BB		       db 128
TRANGROUP:83BC		       db 0
TRANGROUP:83BD		       db 20h
TRANGROUP:83BE file_name_ptr   dw 1064		       ; ...
TRANGROUP:83C0		       db 1
TRANGROUP:83C1		       db 11
TRANGROUP:83C2		       db 0
TRANGROUP:83C3		       dw offset SrcBuf
TRANGROUP:83C5		       dw 0
TRANGROUP:83C7		       db 1
TRANGROUP:83C8		       db 10h
TRANGROUP:83C9		       db 128
TRANGROUP:83CA		       db 0
TRANGROUP:83CB		       db 20h
TRANGROUP:83CC disp_file_size_ptr dw 1065	       ; ...
TRANGROUP:83CE		       db 1
TRANGROUP:83CF		       db 11
TRANGROUP:83D0		       db 0
TRANGROUP:83D1		       dw offset File_Size_Low
TRANGROUP:83D3		       dw 0
TRANGROUP:83D5		       db 1
TRANGROUP:83D6		       db 0B1h		       ; Right_Align+Unsgn_Bin_DWord (long binary to decimal)
TRANGROUP:83D7		       db 10
TRANGROUP:83D8		       db 10
TRANGROUP:83D9		       db 20h
TRANGROUP:83DA string_buf_ptr  dw 1066		       ; ...
TRANGROUP:83DC		       db 1		       ; number	of subst
TRANGROUP:83DD		       db 11		       ; size of sublist
TRANGROUP:83DE		       db 0		       ; reserved
TRANGROUP:83DF		       dw offset string_ptr_2  ; offset	of arg
TRANGROUP:83E1		       dw 0		       ; segment of arg
TRANGROUP:83E3		       db 1		       ; first subst
TRANGROUP:83E4		       db 10h		       ; Char_field_ASCIIZ (character string)
TRANGROUP:83E5		       db 128		       ; maximum width
TRANGROUP:83E6		       db 0		       ; minimum width
TRANGROUP:83E7		       db 20h		       ; pad character
TRANGROUP:83E8		       db 0
TRANGROUP:83E9 tab_ptr	       dw 1067		       ; ...
TRANGROUP:83EB		       db 0
TRANGROUP:83EC dmes_ptr	       dw 1068		       ; ...
TRANGROUP:83EE		       db 0
TRANGROUP:83EF dback_ptr       dw 1069		       ; ...
TRANGROUP:83F1		       db 0
TRANGROUP:83F2 acrlf_ptr       dw 1070		       ; ...
TRANGROUP:83F4		       db 0
TRANGROUP:83F5 usadat_Ptr      dw 1072		       ; ...
TRANGROUP:83F5					       ; "mm-dd-yy"
TRANGROUP:83F7		       db 0
TRANGROUP:83F8 eurdat_ptr      dw 1073		       ; ...
TRANGROUP:83F8					       ; "dd-mm-yy"
TRANGROUP:83FA		       db 0
TRANGROUP:83FB japdat_ptr      dw 1074		       ; ...
TRANGROUP:83FB					       ; "yy-mm-dd"
TRANGROUP:83FD		       db 0
TRANGROUP:83FE promptdat_ptr   dw 1075		       ; ...
TRANGROUP:83FE					       ; message number
TRANGROUP:8400		       db 2		       ; number	of subst
TRANGROUP:8401		       db 11
TRANGROUP:8402		       db 0
TRANGROUP:8403		       dw offset Arg_Buf
TRANGROUP:8405		       dw 0
TRANGROUP:8407		       db 1		       ; first subst
TRANGROUP:8408		       db 10h		       ; Char_field_ASCIIZ (character string)
TRANGROUP:8409		       db 3
TRANGROUP:840A		       db 3
TRANGROUP:840B		       db 20h
TRANGROUP:840C		       db 11
TRANGROUP:840D		       db 0
TRANGROUP:840E promptDat_yr    dw 0		       ; ...
TRANGROUP:8410 promptDat_moday dw 0		       ; ...
TRANGROUP:8412		       db 2		       ; second	subst
TRANGROUP:8413		       db 34h		       ; DATE_MDY_4 (date)
TRANGROUP:8414		       db 10		       ; maximum width
TRANGROUP:8415		       db 8		       ; minimum width
TRANGROUP:8416		       db 20h		       ; blank (pad character)
TRANGROUP:8417 promtim_ptr     dw 1076		       ; ...
TRANGROUP:8419		       db 1
TRANGROUP:841A		       db 11
TRANGROUP:841B		       db 0
TRANGROUP:841C PromTim_hr_min  dw 0		       ; ...
TRANGROUP:841E PromTim_Sec_hn  dw 0		       ; ...
TRANGROUP:8420		       db 1
TRANGROUP:8421		       db 0A6h		       ; Right_Align+TIME_HHMMSSHH_24 (time)
TRANGROUP:8422		       db 11
TRANGROUP:8423		       db 11
TRANGROUP:8424		       db 20h
TRANGROUP:8425 dirdattim_ptr   dw 1077		       ; ...
TRANGROUP:8427		       db 2		       ; number	of subst
TRANGROUP:8428		       db 11		       ; size of sublist
TRANGROUP:8429		       db 0
TRANGROUP:842A DirDat_Yr       dw 0		       ; ...
TRANGROUP:842C DirDat_Mo_Day   dw 0		       ; ...
TRANGROUP:842E		       db 1		       ; first subst
TRANGROUP:842F		       db 0A4h		       ; Right_Align+DATE_MDY_2	(date)
TRANGROUP:8430		       db 10
TRANGROUP:8431		       db 8
TRANGROUP:8432		       db 20h
TRANGROUP:8433		       db 11		       ; size of sublist
TRANGROUP:8434		       db 0
TRANGROUP:8435 DirTim_Hr_Min   dw 0		       ; ...
TRANGROUP:8437 DirTim_Sec_hn   dw 0
TRANGROUP:8439		       db 2		       ; second	subst
TRANGROUP:843A		       db 85h		       ; Right_align+TIME_HHMM_Cty (time)
TRANGROUP:843B		       db 6
TRANGROUP:843C		       db 6
TRANGROUP:843D		       db 20h		       ; pad character
TRANGROUP:843E MD_EXISTS_PTR   dw 1078		       ; ...
TRANGROUP:8440		       db 0
TRANGROUP:8441 bytes_ptr       dw 1079		       ; ...
TRANGROUP:8441					       ; "%1 bytes",13,10
TRANGROUP:8443		       db 1
TRANGROUP:8444		       db 0Bh
TRANGROUP:8445		       db 0
TRANGROUP:8446		       dw offset FileSiz
TRANGROUP:8448		       dw 0
TRANGROUP:844A		       db 1
TRANGROUP:844B		       db 0B1h		       ; Right_Align+Unsgn_Bin_DWord (long binary to decimal)
TRANGROUP:844C		       db 10
TRANGROUP:844D		       db 10
TRANGROUP:844E		       db 20h
TRANGROUP:844F total_ptr       dw 1080		       ; ...
TRANGROUP:8451		       db 0
TRANGROUP:8452 errparsenv_ptr  dw 1081		       ; ...
TRANGROUP:8454		       db 0
TRANGROUP:8455 dircont_ptr     dw 1084		       ; ...
TRANGROUP:8457		       db 1
TRANGROUP:8458		       db 0Bh
TRANGROUP:8459		       db 0
TRANGROUP:845A		       dw offset BWDBUF
TRANGROUP:845C		       dw 0
TRANGROUP:845E		       db 1
TRANGROUP:845F		       db 10h
TRANGROUP:8460		       db 80h
TRANGROUP:8461		       db 0
TRANGROUP:8462		       db 20h
TRANGROUP:8463 dosrev_ptr      dw 1090		       ; ...
TRANGROUP:8463					       ; message number
TRANGROUP:8465		       db 1		       ; one substitution
TRANGROUP:8466		       db 0Bh
TRANGROUP:8467		       db 0
TRANGROUP:8468		       dw offset One_Char_Val
TRANGROUP:846A		       dw 0
TRANGROUP:846C		       db 1
TRANGROUP:846D		       db 0		       ; CHAR_FIELD_CHAR (character)
TRANGROUP:846E		       db 1
TRANGROUP:846F		       db 1
TRANGROUP:8470		       db 20h
TRANGROUP:8471 DosRom_Ptr      dw 1091		       ; ...
TRANGROUP:8473		       db 0
TRANGROUP:8474 DosHma_Ptr      dw 1092		       ; ...
TRANGROUP:8476		       db 0
TRANGROUP:8477 DosLow_Ptr      dw 1093		       ; ...
TRANGROUP:8479		       db 0
TRANGROUP:847A NoExecBat_Ptr   dw 1094		       ; ...
TRANGROUP:847C		       db 0
TRANGROUP:847D LhInvFil_Ptr    dw 1095		       ; ...
TRANGROUP:847F		       db 0
TRANGROUP:8480 NoCntry_Ptr     dw 1096		       ; ...
TRANGROUP:8482		       db 0
TRANGROUP:8483 PATH_TEXT       db 'PATH='              ; ...
TRANGROUP:8488 PROMPT_TEXT     db 'PROMPT='            ; ...
TRANGROUP:848F COMSPECSTR      db 'COMSPEC='           ; ...
TRANGROUP:8497 DirEnvVar       db 'DIRCMD='            ; ...
TRANGROUP:849E BreakHelpMsgs   dw 1300,	0	       ; ...
TRANGROUP:84A2 ChcpHelpMsgs    dw 1320,	1321, 0	       ; ...
TRANGROUP:84A8 CdHelpMsgs      dw 1340,	1341, 1342, 0  ; ...
TRANGROUP:84B0 ClsHelpMsgs     dw 1360,	0	       ; ...
TRANGROUP:84B4 CopyHelpMsgs    dw 1400,	1401, 1402, 1403, 1404,	0 ; ...
TRANGROUP:84C0 CttyHelpMsgs    dw 1420,	0	       ; ...
TRANGROUP:84C4 DateHelpMsgs    dw 1440,	1441, 0	       ; ...
TRANGROUP:84CA DelHelpMsgs     dw 1460,	1461, 1462, 0  ; ...
TRANGROUP:84D2 DirHelpMsgs     dw 1480,	1481, 1482, 1483, 1484,	1485, 1486, 1487, 1488 ; ...
TRANGROUP:84D2		       dw 0
TRANGROUP:84E6 ExitHelpMsgs    dw 1500,	0	       ; ...
TRANGROUP:84EA MdHelpMsgs      dw 1520,	0	       ; ...
TRANGROUP:84EE PathHelpMsgs    dw 1540,	1541, 1542, 0  ; ...
TRANGROUP:84F6 PromptHelpMsgs  dw 1560,	1561, 1562, 1563, 1564,	1565, 1566, 1567, 1568 ; ...
TRANGROUP:84F6		       dw 0
TRANGROUP:850A RdHelpMsgs      dw 1580,	0	       ; ...
TRANGROUP:850E RenHelpMsgs     dw 1600,	1601, 1602, 0  ; ...
TRANGROUP:8516 SetHelpMsgs     dw 1620,	1621, 1622, 0  ; ...
TRANGROUP:851E TimeHelpMsgs    dw 1640,	1641, 0	       ; ...
TRANGROUP:8524 TypeHelpMsgs    dw 1660,	0	       ; ...
TRANGROUP:8528 VerHelpMsgs     dw 1680,	0	       ; ...
TRANGROUP:852C VerifyHelpMsgs  dw 1700,	0	       ; ...
TRANGROUP:8530 VolHelpMsgs     dw 1720,	0	       ; ...
TRANGROUP:8534 CallHelpMsgs    dw 1740,	1741, 0	       ; ...
TRANGROUP:853A RemHelpMsgs     dw 1760,	0	       ; ...
TRANGROUP:853E PauseHelpMsgs   dw 1780,	0	       ; ...
TRANGROUP:8542 EchoHelpMsgs    dw 1800,	1801, 0	       ; ...
TRANGROUP:8548 GotoHelpMsgs    dw 1820,	1821, 0	       ; ...
TRANGROUP:854E ShiftHelpMsgs   dw 1840,	0	       ; ...
TRANGROUP:8552 IfHelpMsgs      dw 1860,	1861, 1862, 1863, 1864,	1865, 1866, 0 ;	...
TRANGROUP:8562 ForHelpMsgs     dw 1880,	1881, 1882, 1883, 0 ; ...
TRANGROUP:856C TruenameHelpMsgs	dw 1900, 0	       ; ...
TRANGROUP:8570 LoadhighHelpMsgs	dw 1920, 1921, 1922, 0 ; ...
TRANGROUP:8578 CLSSTRING       db 4		       ; ...
TRANGROUP:8579		       db 1Bh		       ; ESC
TRANGROUP:857A clsstring_2     db '[2J'                ; ...
TRANGROUP:857D PROMPT_TABLE    db 'B'
TRANGROUP:857E		       dw offset Print_B
TRANGROUP:8580		       db 'D'
TRANGROUP:8581		       dw offset PRINT_DATE
TRANGROUP:8583		       db 'E'
TRANGROUP:8584		       dw offset PRINT_ESC
TRANGROUP:8586		       db 'G'
TRANGROUP:8587		       dw offset PRINT_G
TRANGROUP:8589		       db 'H'
TRANGROUP:858A		       dw offset PRINT_BACK
TRANGROUP:858C		       db 'L'
TRANGROUP:858D		       dw offset PRINT_L
TRANGROUP:858F		       db 'N'
TRANGROUP:8590		       dw offset PRINT_DRIVE
TRANGROUP:8592		       db 'P'
TRANGROUP:8593		       dw offset build_dir_for_prompt
TRANGROUP:8595		       db 'Q'
TRANGROUP:8596		       dw offset PRINT_EQ
TRANGROUP:8598		       db 'T'
TRANGROUP:8599		       dw offset PRINT_TIME
TRANGROUP:859B		       db 'V'
TRANGROUP:859C		       dw offset PRINT_VERSION
TRANGROUP:859E		       db '_'
TRANGROUP:859F		       dw offset CRLF2
TRANGROUP:85A1		       db '$'
TRANGROUP:85A2		       dw offset PRINT_CHAR
TRANGROUP:85A4		       db 0
TRANGROUP:85A5 IFTAB	       db 3		       ; ...
TRANGROUP:85A6		       db 'NOT'
TRANGROUP:85A9		       dw offset IFNOT
TRANGROUP:85AB		       db 10
TRANGROUP:85AC		       db 'ERRORLEVEL'
TRANGROUP:85B6		       dw offset IFERLEV
TRANGROUP:85B8		       db 5
TRANGROUP:85B9		       db 'EXIST'
TRANGROUP:85BE		       dw offset IFEXISTS
TRANGROUP:85C0		       db 0
TRANGROUP:85C1 COMTAB	       db 3		       ; ...
TRANGROUP:85C2		       db 'DIR'
TRANGROUP:85C5		       db 3
TRANGROUP:85C6		       dw offset CATALOG
TRANGROUP:85C8		       dw offset DirHelpMsgs
TRANGROUP:85CA		       db 4
TRANGROUP:85CB		       db 'CALL'
TRANGROUP:85CF		       db 2
TRANGROUP:85D0		       dw offset _$CALL
TRANGROUP:85D2		       dw offset CallHelpMsgs
TRANGROUP:85D4		       db 4
TRANGROUP:85D5		       db 'CHCP'
TRANGROUP:85D9		       db 2
TRANGROUP:85DA		       dw offset CHCP
TRANGROUP:85DC		       dw offset ChcpHelpMsgs
TRANGROUP:85DE		       db 6
TRANGROUP:85DF		       db 'RENAME'
TRANGROUP:85E5		       db 3
TRANGROUP:85E6		       dw offset CRENAME
TRANGROUP:85E8		       dw offset RenHelpMsgs
TRANGROUP:85EA		       db 3
TRANGROUP:85EB		       db 'REN'
TRANGROUP:85EE		       db 3
TRANGROUP:85EF		       dw offset CRENAME
TRANGROUP:85F1		       dw offset RenHelpMsgs
TRANGROUP:85F3		       db 5
TRANGROUP:85F4		       db 'ERASE'
TRANGROUP:85F9		       db 3
TRANGROUP:85FA		       dw offset ERASE
TRANGROUP:85FC		       dw offset DelHelpMsgs
TRANGROUP:85FE		       db 3
TRANGROUP:85FF		       db 'DEL'
TRANGROUP:8602		       db 3
TRANGROUP:8603		       dw offset ERASE
TRANGROUP:8605		       dw offset DelHelpMsgs
TRANGROUP:8607		       db 4
TRANGROUP:8608		       db 'TYPE'
TRANGROUP:860C		       db 3
TRANGROUP:860D		       dw offset TYPEFIL
TRANGROUP:860F		       dw offset TypeHelpMsgs
TRANGROUP:8611		       db 3
TRANGROUP:8612		       db 'REM'
TRANGROUP:8615		       db 6
TRANGROUP:8616		       dw offset TCOMMAND
TRANGROUP:8618		       dw offset RemHelpMsgs
TRANGROUP:861A		       db 4
TRANGROUP:861B		       db 'COPY'
TRANGROUP:861F		       db 3
TRANGROUP:8620		       dw offset COPY
TRANGROUP:8622		       dw offset CopyHelpMsgs
TRANGROUP:8624		       db 5
TRANGROUP:8625		       db 'PAUSE'
TRANGROUP:862A		       db 6
TRANGROUP:862B		       dw offset PAUSE
TRANGROUP:862D		       dw offset PauseHelpMsgs
TRANGROUP:862F		       db 4
TRANGROUP:8630		       db 'DATE'
TRANGROUP:8634		       db 2
TRANGROUP:8635		       dw offset DATE
TRANGROUP:8637		       dw offset DateHelpMsgs
TRANGROUP:8639		       db 4
TRANGROUP:863A		       db 'TIME'
TRANGROUP:863E		       db 2
TRANGROUP:863F		       dw offset CTIME
TRANGROUP:8641		       dw offset TimeHelpMsgs
TRANGROUP:8643		       db 3
TRANGROUP:8644		       db 'VER'
TRANGROUP:8647		       db 2
TRANGROUP:8648		       dw offset VERSION
TRANGROUP:864A		       dw offset VerHelpMsgs
TRANGROUP:864C		       db 3
TRANGROUP:864D		       db 'VOL'
TRANGROUP:8650		       db 3
TRANGROUP:8651		       dw offset VOLUME
TRANGROUP:8653		       dw offset VolHelpMsgs
TRANGROUP:8655		       db 2
TRANGROUP:8656		       db 'CD'
TRANGROUP:8658		       db 3
TRANGROUP:8659		       dw offset _$CHDIR
TRANGROUP:865B		       dw offset CdHelpMsgs
TRANGROUP:865D		       db 5
TRANGROUP:865E		       db 'CHDIR'
TRANGROUP:8663		       db 3
TRANGROUP:8664		       dw offset _$CHDIR
TRANGROUP:8666		       dw offset CdHelpMsgs
TRANGROUP:8668		       db 2
TRANGROUP:8669		       db 'MD'
TRANGROUP:866B		       db 3
TRANGROUP:866C		       dw offset _$MKDIR
TRANGROUP:866E		       dw offset MdHelpMsgs
TRANGROUP:8670		       db 5
TRANGROUP:8671		       db 'MKDIR'
TRANGROUP:8676		       db 3
TRANGROUP:8677		       dw offset _$MKDIR
TRANGROUP:8679		       dw offset MdHelpMsgs
TRANGROUP:867B		       db 2
TRANGROUP:867C		       db 'RD'
TRANGROUP:867E		       db 3
TRANGROUP:867F		       dw offset _$RMDIR
TRANGROUP:8681		       dw offset RdHelpMsgs
TRANGROUP:8683		       db 5
TRANGROUP:8684		       db 'RMDIR'
TRANGROUP:8689		       db 3
TRANGROUP:868A		       dw offset _$RMDIR
TRANGROUP:868C		       dw offset RdHelpMsgs
TRANGROUP:868E		       db 5
TRANGROUP:868F		       db 'BREAK'
TRANGROUP:8694		       db 2
TRANGROUP:8695		       dw offset CNTRLC
TRANGROUP:8697		       dw offset BreakHelpMsgs
TRANGROUP:8699		       db 6
TRANGROUP:869A		       db 'VERIFY'
TRANGROUP:86A0		       db 2
TRANGROUP:86A1		       dw offset VERIFY
TRANGROUP:86A3		       dw offset VerifyHelpMsgs
TRANGROUP:86A5		       db 3
TRANGROUP:86A6		       db 'SET'
TRANGROUP:86A9		       db 6
TRANGROUP:86AA		       dw offset ADD_NAME_TO_ENVIRONMENT
TRANGROUP:86AC		       dw offset SetHelpMsgs
TRANGROUP:86AE		       db 6
TRANGROUP:86AF		       db 'PROMPT'
TRANGROUP:86B5		       db 6
TRANGROUP:86B6		       dw offset ADD_PROMPT
TRANGROUP:86B8		       dw offset PromptHelpMsgs
TRANGROUP:86BA		       db 4
TRANGROUP:86BB		       db 'PATH'
TRANGROUP:86BF		       db 2
TRANGROUP:86C0		       dw offset PATH
TRANGROUP:86C2		       dw offset PathHelpMsgs
TRANGROUP:86C4		       db 4
TRANGROUP:86C5		       db 'EXIT'
TRANGROUP:86C9		       db 0
TRANGROUP:86CA		       dw offset _$EXIT
TRANGROUP:86CC		       dw offset ExitHelpMsgs
TRANGROUP:86CE		       db 4
TRANGROUP:86CF		       db 'CTTY'
TRANGROUP:86D3		       db 3
TRANGROUP:86D4		       dw offset CTTY
TRANGROUP:86D6		       dw offset CttyHelpMsgs
TRANGROUP:86D8		       db 4
TRANGROUP:86D9		       db 'ECHO'
TRANGROUP:86DD		       db 6
TRANGROUP:86DE		       dw offset ECHO
TRANGROUP:86E0		       dw offset EchoHelpMsgs
TRANGROUP:86E2		       db 4
TRANGROUP:86E3		       db 'GOTO'
TRANGROUP:86E7		       db 6
TRANGROUP:86E8		       dw offset GOTO
TRANGROUP:86EA		       dw offset GotoHelpMsgs
TRANGROUP:86EC		       db 5
TRANGROUP:86ED		       db 'SHIFT'
TRANGROUP:86F2		       db 2
TRANGROUP:86F3		       dw offset SHIFT
TRANGROUP:86F5		       dw offset ShiftHelpMsgs
TRANGROUP:86F7		       db 2
TRANGROUP:86F8		       db 'IF'
TRANGROUP:86FA		       db 6
TRANGROUP:86FB		       dw offset _$IF
TRANGROUP:86FD		       dw offset IfHelpMsgs
TRANGROUP:86FF		       db 3
TRANGROUP:8700		       db 'FOR'
TRANGROUP:8703		       db 6
TRANGROUP:8704		       dw offset _$FOR
TRANGROUP:8706		       dw offset ForHelpMsgs
TRANGROUP:8708		       db 3
TRANGROUP:8709		       db 'CLS'
TRANGROUP:870C		       db 0
TRANGROUP:870D		       dw offset CLS
TRANGROUP:870F		       dw offset ClsHelpMsgs
TRANGROUP:8711		       db 8
TRANGROUP:8712		       db 'TRUENAME'
TRANGROUP:871A		       db 3
TRANGROUP:871B		       dw offset TRUENAME
TRANGROUP:871D		       dw offset TruenameHelpMsgs
TRANGROUP:871F		       db 8
TRANGROUP:8720		       db 'LOADHIGH'
TRANGROUP:8728		       db 2
TRANGROUP:8729		       dw offset LoadHigh
TRANGROUP:872B		       dw offset LoadhighHelpMsgs
TRANGROUP:872D		       db 2
TRANGROUP:872E		       db 'LH'
TRANGROUP:8730		       db 2
TRANGROUP:8731		       dw offset LoadHigh
TRANGROUP:8733		       dw offset LoadhighHelpMsgs
TRANGROUP:8735		       db 0
TRANGROUP:8736 comext	       db '.COM'               ; ...
TRANGROUP:873A exeext	       db '.EXE'               ; ...
TRANGROUP:873E batext	       db '.BAT'               ; ...
TRANGROUP:8742 switch_list     db '?VBAPW'             ; ...
TRANGROUP:8748 AttrLtrs	       db 'RHSvDA'             ; ...
TRANGROUP:874E OrderLtrs       db 'NEDSG'              ; ...
TRANGROUP:8753 comspec_flag    db 0		       ; ...
TRANGROUP:8754 BATBUFLEN       dw 32		       ; ...
TRANGROUP:8756 NO_VALUES       dw 0		       ; ...
TRANGROUP:8758 NULL_VALUE_LIST db 0		       ; ...
TRANGROUP:8759 FILE_REQUIRED   dw 200h		       ; ...
TRANGROUP:875B		       dw 1
TRANGROUP:875D		       dw offset PARSE1_OUTPUT
TRANGROUP:875F		       dw offset NO_VALUES
TRANGROUP:8761		       db 0
TRANGROUP:8762 FILE_OPTIONAL   dw 301h		       ; ...
TRANGROUP:8764		       dw 1
TRANGROUP:8766		       dw offset PARSE1_OUTPUT
TRANGROUP:8768		       dw offset NO_VALUES
TRANGROUP:876A		       db 0
TRANGROUP:876B FILE_OPTIONAL2  dw 201h		       ; ...
TRANGROUP:876D		       dw 1
TRANGROUP:876F		       dw offset PARSE1_OUTPUT
TRANGROUP:8771		       dw offset NO_VALUES
TRANGROUP:8773		       db 0
TRANGROUP:8774 SLASH_P_SWITCH  dw 0		       ; ...
TRANGROUP:8776		       dw 2
TRANGROUP:8778		       dw offset PARSE1_OUTPUT
TRANGROUP:877A		       dw offset NO_VALUES
TRANGROUP:877C		       db 1
TRANGROUP:877D SLASH_P_SYN     db '/P',0               ; ...
TRANGROUP:8780 PARSE_BREAK     dw offset BREAK_PARMS   ; ...
TRANGROUP:8782		       db 0
TRANGROUP:8783 BREAK_PARMS     db 0		       ; ...
TRANGROUP:8784		       db 1
TRANGROUP:8785		       dw offset BREAK_CONTROL1
TRANGROUP:8787		       db 0
TRANGROUP:8788		       db 0
TRANGROUP:8789 BREAK_CONTROL1  dw 2001h		       ; ...
TRANGROUP:878B		       dw 2
TRANGROUP:878D		       dw offset PARSE1_OUTPUT
TRANGROUP:878F		       dw offset BREAK_VALUES
TRANGROUP:8791		       db 0
TRANGROUP:8792 BREAK_VALUES    db 3		       ; ...
TRANGROUP:8793		       db 0
TRANGROUP:8794		       db 0
TRANGROUP:8795		       db 2
TRANGROUP:8796		       db 0
TRANGROUP:8797		       dw offset BREAK_ON      ; "ON"
TRANGROUP:8799		       db 'f'
TRANGROUP:879A		       dw offset BREAK_OFF     ; "OFF"
TRANGROUP:879C BREAK_ON	       db 'ON',0               ; ...
TRANGROUP:879F BREAK_OFF       db 'OFF',0              ; ...
TRANGROUP:87A3 PARSE_CHCP      dw offset CHCP_PARMS    ; ...
TRANGROUP:87A5		       db 0
TRANGROUP:87A6 CHCP_PARMS      db 0		       ; ...
TRANGROUP:87A7		       db 1
TRANGROUP:87A8		       dw offset CHCP_CONTROL1
TRANGROUP:87AA		       db 0
TRANGROUP:87AB		       db 0
TRANGROUP:87AC CHCP_CONTROL1   dw 8001h		       ; ...
TRANGROUP:87AE		       dw 0
TRANGROUP:87B0		       dw offset PARSE1_OUTPUT
TRANGROUP:87B2		       dw offset CHCP_VALUES
TRANGROUP:87B4		       db 0
TRANGROUP:87B5 CHCP_VALUES     db 1		       ; ...
TRANGROUP:87B6		       db 1
TRANGROUP:87B7		       db 1
TRANGROUP:87B8		       dd 100		       ; CHCP_MINVAL
TRANGROUP:87BC		       dd 999		       ; CHCP_MAXVAL
TRANGROUP:87C0		       db 0
TRANGROUP:87C1		       db 0
TRANGROUP:87C2 PARSE_DATE      dw offset DATE_PARMS    ; ...
TRANGROUP:87C4		       db 0
TRANGROUP:87C5 DATE_PARMS      db 0		       ; ...
TRANGROUP:87C6		       db 1
TRANGROUP:87C7		       dw offset DATE_CONTROL1
TRANGROUP:87C9		       db 0
TRANGROUP:87CA		       db 0
TRANGROUP:87CB DATE_CONTROL1   dw 1001h		       ; ...
TRANGROUP:87CD		       dw 0
TRANGROUP:87CF		       dw offset DATE_OUTPUT
TRANGROUP:87D1		       dw offset NO_VALUES
TRANGROUP:87D3		       db 0
TRANGROUP:87D4 PARSE_TIME      dw offset TIME_PARMS    ; ...
TRANGROUP:87D6		       db 0
TRANGROUP:87D7 TIME_PARMS      db 0		       ; ...
TRANGROUP:87D8		       db 1
TRANGROUP:87D9		       dw offset TIME_CONTROL1
TRANGROUP:87DB		       db 0
TRANGROUP:87DC		       db 0
TRANGROUP:87DD TIME_CONTROL1   dw 801h		       ; ...
TRANGROUP:87DF		       dw 0
TRANGROUP:87E1		       dw offset TIME_OUTPUT
TRANGROUP:87E3		       dw offset NO_VALUES
TRANGROUP:87E5		       db 0
TRANGROUP:87E6 PARSE_VOL       dw offset VOL_PARMS     ; ...
TRANGROUP:87E8		       db 0
TRANGROUP:87E9 VOL_PARMS       db 0		       ; ...
TRANGROUP:87EA		       db 1
TRANGROUP:87EB		       dw offset DRIVE_CONTROL1
TRANGROUP:87ED		       db 0
TRANGROUP:87EE		       db 0
TRANGROUP:87EF DRIVE_CONTROL1  dw 101h		       ; ...
TRANGROUP:87F1		       dw 1
TRANGROUP:87F3		       dw offset DRIVE_OUTPUT
TRANGROUP:87F5		       dw offset NO_VALUES
TRANGROUP:87F7		       db 0
TRANGROUP:87F8 PARSE_MRDIR     dw offset MRDIR_PARMS   ; ...
TRANGROUP:87FA		       db 0
TRANGROUP:87FB MRDIR_PARMS     db 1		       ; ...
TRANGROUP:87FC		       db 1
TRANGROUP:87FD		       dw offset FILE_REQUIRED
TRANGROUP:87FF		       db 0
TRANGROUP:8800		       db 0
TRANGROUP:8801 PARSE_CHDIR     dw offset CHDIR_PARMS   ; ...
TRANGROUP:8803		       db 0
TRANGROUP:8804 CHDIR_PARMS     db 0		       ; ...
TRANGROUP:8805		       db 1
TRANGROUP:8806		       dw offset FILE_OPTIONAL
TRANGROUP:8808		       db 0
TRANGROUP:8809		       db 0
TRANGROUP:880A PARSE_ERASE     dw offset ERASE_PARMS   ; ...
TRANGROUP:880C		       db 0
TRANGROUP:880D ERASE_PARMS     db 1		       ; ...
TRANGROUP:880E		       db 1
TRANGROUP:880F		       dw offset FILE_REQUIRED
TRANGROUP:8811		       db 1
TRANGROUP:8812		       dw offset SLASH_P_SWITCH
TRANGROUP:8814		       db 0
TRANGROUP:8815 PARSE_DIR       dw offset DIR_PARMS     ; ...
TRANGROUP:8817		       db 0
TRANGROUP:8818 DIR_PARMS       db 0		       ; ...
TRANGROUP:8819		       db 1
TRANGROUP:881A		       dw offset FILE_OPTIONAL2
TRANGROUP:881C		       db 2
TRANGROUP:881D		       dw offset DIR_SW_VALUED
TRANGROUP:881F		       dw offset DIR_SW_UNVALUED
TRANGROUP:8821		       db 0
TRANGROUP:8822 DIR_SW_VALUED   dw 2001h		       ; ...
TRANGROUP:8824		       dw 21h
TRANGROUP:8826		       dw offset PARSE1_OUTPUT
TRANGROUP:8828		       dw offset NULL_VALUE_LIST
TRANGROUP:882A		       db 2
TRANGROUP:882B DIR_SW_A	       db '/A',0               ; ...
TRANGROUP:882E DIR_SW_O	       db '/O',0               ; ...
TRANGROUP:8831 DIR_SW_UNVALUED dw 0		       ; ...
TRANGROUP:8833		       dw 0
TRANGROUP:8835		       dw offset PARSE1_OUTPUT
TRANGROUP:8837		       dw offset NO_VALUES
TRANGROUP:8839		       db 14		       ; 14 'synonyms'
TRANGROUP:883A DIR_SW_NEG_A    db '/-A',0              ; ...
TRANGROUP:883E DIR_SW_NEG_O    db '/-O',0              ; ...
TRANGROUP:8842 DIR_SW_S	       db '/S',0               ; ...
TRANGROUP:8845 DIR_SW_NEG_S    db '/-S',0              ; ...
TRANGROUP:8849 DIR_SW_B	       db '/B',0               ; ...
TRANGROUP:884C DIR_SW_NEG_B    db '/-B',0              ; ...
TRANGROUP:8850 DIR_SW_W	       db '/W',0               ; ...
TRANGROUP:8853 DIR_SW_NEG_W    db '/-W',0              ; ...
TRANGROUP:8857 DIR_SW_P	       db '/P',0               ; ...
TRANGROUP:885A DIR_SW_NEG_P    db '/-P',0              ; ...
TRANGROUP:885E DIR_SW_L	       db '/L',0               ; ...
TRANGROUP:8861 DIR_SW_NEG_L    db '/-L',0              ; ...
TRANGROUP:8865 Dir_Sw_Ptrs     dw offset DIR_SW_NEG_W  ; ...
TRANGROUP:8865					       ; "/-W"
TRANGROUP:8867 Dir_Sw_Ptrs_2   dw offset DIR_SW_W      ; ...
TRANGROUP:8867					       ; "/W"
TRANGROUP:8869		       dw offset DIR_SW_NEG_P  ; "/-P"
TRANGROUP:886B		       dw offset DIR_SW_P      ; "/P"
TRANGROUP:886D		       dw offset DIR_SW_NEG_S  ; "/-S"
TRANGROUP:886F		       dw offset DIR_SW_S      ; "/S"
TRANGROUP:8871		       dw offset DIR_SW_NEG_B  ; "/-B"
TRANGROUP:8873		       dw offset DIR_SW_B      ; "/B"
TRANGROUP:8875		       dw offset DIR_SW_NEG_L  ; "/-L"
TRANGROUP:8877		       dw offset DIR_SW_L      ; "/L"
TRANGROUP:8879		       dw offset DIR_SW_NEG_O  ; "/-O"
TRANGROUP:887B		       dw offset DIR_SW_O      ; "/O"
TRANGROUP:887D		       dw offset DIR_SW_NEG_A  ; "/-A"
TRANGROUP:887F		       dw offset DIR_SW_A      ; "/A"
TRANGROUP:8881 PARSE_RENAME    dw offset RENAME_PARMS  ; ...
TRANGROUP:8883		       db 0
TRANGROUP:8884 RENAME_PARMS    db 2		       ; ...
TRANGROUP:8885		       db 2
TRANGROUP:8886		       dw offset FILE_REQUIRED
TRANGROUP:8888		       dw offset FILE_REQUIRED
TRANGROUP:888A		       db 0
TRANGROUP:888B		       db 0
TRANGROUP:888C PARSE_CTTY      dw offset CTTY_PARMS    ; ...
TRANGROUP:888E		       db 0
TRANGROUP:888F CTTY_PARMS      db 1		       ; ...
TRANGROUP:8890		       db 1
TRANGROUP:8891		       dw offset CTTY_CONTROL1
TRANGROUP:8893		       db 0
TRANGROUP:8894		       db 0
TRANGROUP:8895 CTTY_CONTROL1   dw 2000h		       ; ...
TRANGROUP:8897		       dw 11h
TRANGROUP:8899		       dw offset PARSE1_OUTPUT
TRANGROUP:889B		       dw offset NO_VALUES
TRANGROUP:889D		       db 0
TRANGROUP:889E PARSE_VER       dw offset VER_PARMS     ; ...
TRANGROUP:88A0		       db 0
TRANGROUP:88A1 VER_PARMS       db 0		       ; ...
TRANGROUP:88A2		       db 0
TRANGROUP:88A3		       db 1
TRANGROUP:88A4		       dw offset SLASH_R
TRANGROUP:88A6		       db 0
TRANGROUP:88A7 SLASH_R	       dw 0		       ; ...
TRANGROUP:88A9		       dw 2
TRANGROUP:88AB		       dw offset PARSE1_OUTPUT
TRANGROUP:88AD		       dw offset NO_VALUES
TRANGROUP:88AF		       db 1
TRANGROUP:88B0 SLASH_R_SYN     db '/R',0
TRANGROUP:88B3 Parse_LoadHi    dw offset LoadHi_Parms  ; ...
TRANGROUP:88B5		       db 0
TRANGROUP:88B6 LoadHi_Parms    db 1		       ; ...
TRANGROUP:88B7		       db 1
TRANGROUP:88B8		       dw offset FILE_REQUIRED
TRANGROUP:88BA		       db 0
TRANGROUP:88BB		       db 0
TRANGROUP:88BC TempVarName     db 'TEMP=',0            ; ...
TRANGROUP:88C2 $P_ORDINAL      dw 0		       ; ...
TRANGROUP:88C4 $P_RC	       dw 0		       ; ...
TRANGROUP:88C6 $P_SI_Save      dw 0		       ; ...
TRANGROUP:88C8 $P_DX	       dw 0		       ; ...
TRANGROUP:88CA $P_Terminator   db 0		       ; ...
TRANGROUP:88CB $P_DBCSEV_OFF   dw 0		       ; ...
TRANGROUP:88CD $P_DBCSEV_SEG   dw 0		       ; ...
TRANGROUP:88CF $P_Flags	       db 0		       ; ...
TRANGROUP:88D0 $P_Flags2       db 0		       ; ...
TRANGROUP:88D1 $P_SaveSI_Cmpx  dw 0		       ; ...
TRANGROUP:88D3 $P_KEYorSW_Ptr  dw 0		       ; ...
TRANGROUP:88D5 $P_Save_EOB     dw 0		       ; ...
TRANGROUP:88D7 $P_Found_SYNONYM	dw 0		       ; ...
TRANGROUP:88D9 $P_STRING_BUF   db 128 dup(0)	       ; ...
TRANGROUP:8959 $P_ORIG_ORD     dw 0		       ; ...
TRANGROUP:895B $P_ORIG_STACK   dw 0		       ; ...
TRANGROUP:895D $P_ORIG_SI      dw 0		       ; ...
TRANGROUP:895F $P_Got_Time     db 0		       ; ...
TRANGROUP:8960 $P_Country_Info dw 0FFFFh	       ; ...
TRANGROUP:8962		       db 32 dup(0)
TRANGROUP:8982 $P_1st_Val      dw 0		       ; ...
TRANGROUP:8984 $P_2nd_Val      dw 0		       ; ...
TRANGROUP:8986 $P_3rd_Val      dw 0		       ; ...
TRANGROUP:8988 $P_4th_Val      dw 0		       ; ...
TRANGROUP:898A $P_Char_CAP_Ptr db 0FFh		       ; ...
TRANGROUP:898B		       dd 0
TRANGROUP:898F $P_File_CAP_Ptr db 0FFh		       ; ...
TRANGROUP:8990		       dd 0
TRANGROUP:8994 $P_FileSp_Char  db '[]|<>+=;"'          ; ...
TRANGROUP:899D $P_err_flag     db 0		       ; ...
TRANGROUP:899E $M_RT_$M_EXT_ERR_ADDRS dw 2 dup(0)      ; ...
TRANGROUP:89A2 $M_RT_$M_EXT_FILE dw 2 dup(0)	       ; ...
TRANGROUP:89A6 $M_RT_$M_EXT_COMMAND dw 2 dup(0)	       ; ...
TRANGROUP:89AA		       dd 0FFFFFFFFh
TRANGROUP:89AE $M_RT_$M_PARSE_COMMAND dw 2 dup(0)      ; ...
TRANGROUP:89B2 $M_RT_$M_PARSE_ADDRS dw 2 dup(0)	       ; ...
TRANGROUP:89B6		       dd 0FFFFFFFFh
TRANGROUP:89BA $M_RT_$M_CRIT_ADDRS dw 2	dup(0)	       ; ...
TRANGROUP:89BE $M_RT_$M_CRIT_COMMAND dw	2 dup(0)       ; ...
TRANGROUP:89C2		       dd 0FFFFFFFFh
TRANGROUP:89C6 $M_RT_$M_DISK_PROC_ADDR dd 0FFFFFFFFh   ; ...
TRANGROUP:89CA $M_RT_$M_CLASS_ADDRS dw 6 dup(0)	       ; ...
TRANGROUP:89D6		       dd 0FFFFFFFFh
TRANGROUP:89DA $M_RT_$M_DBCS_VEC dd 0		       ; ...
TRANGROUP:89DE $M_RT_$M_HANDLE dw 0		       ; ...
TRANGROUP:89E0 $M_RT_$M_SIZE   db 0		       ; ...
TRANGROUP:89E1 $M_RT_$M_CRLF   dw 0A0Dh		       ; ...
TRANGROUP:89E3 $M_RT_$M_CLASS  db 0		       ; ...
TRANGROUP:89E4 $M_RT_$M_RETURN_ADDR dw 0	       ; ...
TRANGROUP:89E6 $M_RT_$M_MSG_NUM	dw 0		       ; ...
TRANGROUP:89E8 $M_RT_$M_DIVISOR	dw 10		       ; ...
TRANGROUP:89EA $M_RT_$M_TEMP_BUF dw 2424h	       ; ...
TRANGROUP:89EA					       ; ($M_COUNTRY_INFO.$M_DATE_FORMAT)
TRANGROUP:89EA					       ; $M_RT_$M_DATE_FORMAT
TRANGROUP:89EC $M_RT_$M_CURR_SEPARA db 5 dup('$')
TRANGROUP:89F1 $M_RT_$M_THOU_SEPARA dw 2424h	       ; ...
TRANGROUP:89F3 $M_RT_$M_DECI_SEPARA dw 2424h	       ; ...
TRANGROUP:89F5 $M_RT_$M_DATE_SEPARA dw 2424h	       ; ...
TRANGROUP:89F7 $M_RT_$M_TIME_SEPARA dw 2424h	       ; ...
TRANGROUP:89F9 $M_RT_$M_CURR_FORMAT db 24h
TRANGROUP:89FA $M_RT_$M_SIG_DIGS_CU db 24h
TRANGROUP:89FB $M_RT_$M_TIME_FORMAT db 24h	       ; ...
TRANGROUP:89FC		       db '$'                  ; 24h
TRANGROUP:89FD		       db 2Dh dup('$')         ; '$'
TRANGROUP:8A2A $M_RT_$M_BUF_TERM db '$'                ; ...
TRANGROUP:8A2B MsDosVer5_CCopy db 'MS DOS Version 5.00 (C)Copyright 1981-1991 Microsoft Corp License'
TRANGROUP:8A2B		       db 'd Material - Property of Microsoft All rights reserved '
TRANGROUP:8AA3 PRINTF_HANDLE   dw 0		       ; ...
TRANGROUP:8AA5 SRCXNAME	       db 87 dup(0)	       ; ...
TRANGROUP:8AFC TRGXNAME	       db 87 dup(0)	       ; ...
TRANGROUP:8B53 UCOMBUF	       db 131 dup(0)	       ; ...
TRANGROUP:8BD6 COMBUF	       db 131 dup(0)	       ; ...
TRANGROUP:8C59 USERDIR1	       db 70 dup(0)	       ; ...
TRANGROUP:8C9F EXECPATH	       db 131 dup(0)	       ; ...
TRANGROUP:8D22 RE_INSTR	       db 83 dup(0)	       ; ...
TRANGROUP:8D75 HEADCALL	       dw 0		       ; ...
TRANGROUP:8D77 RESSEG	       dw 0		       ; ...
TRANGROUP:8D79 TPA	       dw 0		       ; ...
TRANGROUP:8D7B SWITCHAR	       db 0		       ; ...
TRANGROUP:8D7C DIRCHAR	       db 0		       ; ...
TRANGROUP:8D7D EXEC_ADDR       dd 0		       ; ...
TRANGROUP:8D81 RCH_ADDR	       dd 0		       ; ...
TRANGROUP:8D85		       dw 0
TRANGROUP:8D87 TRAN_TPA	       dw 0		       ; ...
TRANGROUP:8D89 CHKDRV	       db 0		       ; ...
TRANGROUP:8D8A IFNOTFLAG       db 0		       ; ...
TRANGROUP:8D8B CURDRV	       db 0		       ; ...
TRANGROUP:8D8C PARM1	       db 0		       ; ...
TRANGROUP:8D8D PARM2	       db 0		       ; ...
TRANGROUP:8D8E COMSW	       dw 0		       ; ...
TRANGROUP:8D90 ARG1S	       dw 0		       ; ...
TRANGROUP:8D92 ARG2S	       dw 0		       ; ...
TRANGROUP:8D94 ARGTS	       dw 0		       ; ...
TRANGROUP:8D96 CFLAG	       db 0		       ; ...
TRANGROUP:8D97 SPECDRV	       db 0		       ; ...
TRANGROUP:8D98 BYTCNT	       dw 0		       ; ...
TRANGROUP:8D9A NXTADD	       dw 0		       ; ...
TRANGROUP:8D9C FRSTSRCH	       db 0		       ; ...
TRANGROUP:8D9D LeftOnLine      db 0		       ; ...
TRANGROUP:8D9E PerLine	       db 0		       ; ...
TRANGROUP:8D9F LeftOnPage      dw 0		       ; ...
TRANGROUP:8DA1 FileCnt	       dw 0		       ; ...
TRANGROUP:8DA3 FileSiz	       dd 0		       ; ...
TRANGROUP:8DA7 FileCntTotal    dd 0		       ; ...
TRANGROUP:8DAB FileSizTotal    dd 0		       ; ...
TRANGROUP:8DAF CHARBUF	       db 80 dup(0)	       ; ...
TRANGROUP:8DFF IDLEN	       db 0		       ; ...
TRANGROUP:8E00 ID	       db 8 dup(0)	       ; ...
TRANGROUP:8E08 COM	       db 3 dup(0)
TRANGROUP:8E0B DEST	       db 37 dup(0)	       ; ...
TRANGROUP:8E30 DESTNAME	       db 11 dup(0)
TRANGROUP:8E3B DESTDIR	       db 67 dup(0)	       ; ...
TRANGROUP:8E7E BWDBUF	       dw 4 dup(0)	       ; ...
TRANGROUP:8E7E					       ; DIRBUF
TRANGROUP:8E86 DIRBUF_8	       db 11 dup(0)	       ; ...
TRANGROUP:8E91 DIRBUF_8_DIR_ATTR dw 0		       ; ...
TRANGROUP:8E93 DIRBUF_find_buf_attr db 0	       ; ...
TRANGROUP:8E94		       db 8 dup(0)
TRANGROUP:8E9C DIRBUF_find_buf_pname db	13 dup(0)      ; ...
TRANGROUP:8EA9		       db 27 dup(0)
TRANGROUP:8EC4 SDIRBUF	       db 12 dup(0)	       ; ...
TRANGROUP:8ED0 _Bits	       dw 0		       ; ...
TRANGROUP:8ED2 PathCnt	       dw 0		       ; ...
TRANGROUP:8ED4 PathPos	       dw 0		       ; ...
TRANGROUP:8ED6 PathSw	       dw 0		       ; ...
TRANGROUP:8ED8 AttrSpecified   db 0		       ; ...
TRANGROUP:8ED9 AttrSelect      db 0		       ; ...
TRANGROUP:8EDA comma	       db 0		       ; ...
TRANGROUP:8EDB plus_comma      db 0		       ; ...
TRANGROUP:8EDC DirFlag	       db 0		       ; ...
TRANGROUP:8EDD parse_last      dw 0		       ; ...
TRANGROUP:8EDF system_cpage    dw 0		       ; ...
TRANGROUP:8EE1 Arg_Buf	       db 128 dup(0)	       ; ...
TRANGROUP:8F61 File_Size_Low   dw 0		       ; ...
TRANGROUP:8F63 File_Size_High  dw 0		       ; ...
TRANGROUP:8F65 string_ptr_2    dw 0		       ; ...
TRANGROUP:8F67 Copy_num	       dw 0		       ; ...
TRANGROUP:8F69 cpyflag	       db 0		       ; ...
TRANGROUP:8F6A Dir_Num	       dw 0		       ; ...
TRANGROUP:8F6C Bytes_Free      dd 0		       ; ...
TRANGROUP:8F70 Major_Ver_Num   dw 0		       ; ...
TRANGROUP:8F72 Minor_Ver_Num   dw 0		       ; ...
TRANGROUP:8F74 One_Char_Val    db 0		       ; ...
TRANGROUP:8F75		       db 0
TRANGROUP:8F76 vol_drv	       db 0		       ; ...
TRANGROUP:8F77 ROM_CALL	       db 0		       ; ...
TRANGROUP:8F78 ROM_IP	       dw 0		       ; ...
TRANGROUP:8F7A ROM_CS	       dw 0		       ; ...
TRANGROUP:8F7C DestIsDir       db 0		       ; ...
TRANGROUP:8F7D DestSiz	       db 0		       ; ...
TRANGROUP:8F7E DestTail	       dw 0		       ; ...
TRANGROUP:8F80 DestInfo	       db 0		       ; ...
TRANGROUP:8F81 DestBuf	       db 87 dup(0)	       ; ...
TRANGROUP:8FD8 EndDestBuf      dw 0		       ; ...
TRANGROUP:8FD8					       ; DESTHAND
TRANGROUP:8FDA DESTISDEV       db 0		       ; ...
TRANGROUP:8FDB FIRSTDEST       db 0		       ; ...
TRANGROUP:8FDC MELCOPY	       db 0		       ; ...
TRANGROUP:8FDD MELSTART	       dw 0		       ; ...
TRANGROUP:8FDF SrcIsDir	       db 0		       ; ...
TRANGROUP:8FE0 SrcSiz	       db 0		       ; ...
TRANGROUP:8FE1 SrcTail	       dw 0		       ; ...
TRANGROUP:8FE3 SrcInfo	       db 0		       ; ...
TRANGROUP:8FE4 SrcBuf	       db 87 dup(0)	       ; ...
TRANGROUP:903B SRCHAND	       dw 0		       ; ...
TRANGROUP:903D SRCISDEV	       db 0		       ; ...
TRANGROUP:903E ScanBuf	       db 87 dup(0)	       ; ...
TRANGROUP:9095 SRCPT	       dw 0		       ; ...
TRANGROUP:9097 INEXACT	       db 0		       ; ...
TRANGROUP:9098 NOWRITE	       db 0		       ; ...
TRANGROUP:9099 BINARY	       db 0		       ; ...
TRANGROUP:909A WRITTEN	       dw 0		       ; ...
TRANGROUP:909C TERMREAD	       db 0		       ; ...
TRANGROUP:909D ASCII	       db 0		       ; ...
TRANGROUP:909E PLUS	       db 0		       ; ...
TRANGROUP:909F objcnt	       db 0		       ; ...
TRANGROUP:90A0 CPDATE	       dw 0		       ; ...
TRANGROUP:90A2 CPTIME	       dw 0		       ; ...
TRANGROUP:90A4 OFilePtr_Lo     dw 0		       ; ...
TRANGROUP:90A6 OFilePtr_Hi     dw 0		       ; ...
TRANGROUP:90A8 OCtrlZ	       db 0		       ; ...
TRANGROUP:90A9 BATHAND	       dw 0		       ; ...
TRANGROUP:90AB STARTEL	       dw 0		       ; ...
TRANGROUP:90AD ELCNT	       db 0		       ; ...
TRANGROUP:90AE ELPOS	       db 0		       ; ...
TRANGROUP:90AF SKPDEL	       db 0		       ; ...
TRANGROUP:90B0 SOURCE	       db 11 dup(0)
TRANGROUP:90BB ext_entered     db 0		       ; ...
TRANGROUP:90BC Display_Ioctl   db 0		       ; ...
TRANGROUP:90BD		       db 0
TRANGROUP:90BE		       dw 14		       ; crt_ioctl_ln (length of data)
TRANGROUP:90C0		       dw 0
TRANGROUP:90C2 display_mode    db 0
TRANGROUP:90C3		       db 0
TRANGROUP:90C4		       dw 0
TRANGROUP:90C6		       dw 0
TRANGROUP:90C8		       dw 0
TRANGROUP:90CA display_width   dw 0		       ; ...
TRANGROUP:90CC LinPerPag       dw 25		       ; ...
TRANGROUP:90CE vol_ioctl_buf   dw 0		       ; ...
TRANGROUP:90D0 vol_serial      db 4 dup(0)	       ; ...
TRANGROUP:90D4 vol_label       db 0Bh dup(20h)
TRANGROUP:90DF		       db 8 dup(20h)
TRANGROUP:90E7 expand_star     db 0		       ; ...
TRANGROUP:90E8 msg_flag	       db 0		       ; ...
TRANGROUP:90E9 Msg_Numb	       dw 0		       ; ...
TRANGROUP:90EB append_exec     db 0		       ; ...
TRANGROUP:90EC print_err_flag  dw 0		       ; ...
TRANGROUP:90EE subst_buffer    db 22 dup(0)	       ; ...
TRANGROUP:9104 KPARSE	       db 0		       ; ...
TRANGROUP:9105 ARG_ARGV	       dw 0		       ; ...
TRANGROUP:9105					       ; ARGV[0]
TRANGROUP:9107 ARGV0_ARG_FLAGS db 0		       ; ...
TRANGROUP:9108 ARGV0_ARGSTARTEL	dw 0		       ; ...
TRANGROUP:910A ARGV0_ARGLEN    dw 0		       ; ...
TRANGROUP:910C ARGV0_ARGSW_WORD	dw 0		       ; ...
TRANGROUP:910E ARGV0_OCOMPTR   dw 0		       ; ...
TRANGROUP:9110 ARGV1_ARGPOINTER	dw 0		       ; ...
TRANGROUP:9110					       ; ARGV[1]
TRANGROUP:9112		       db 5 dup(0)
TRANGROUP:9117 ARGV1_ARGSW_WORD	dw 0		       ; ...
TRANGROUP:9119		       dw 0
TRANGROUP:911B ARGV2_ARGPOINTER	dw 0		       ; ...
TRANGROUP:911B					       ; ARGV[2]
TRANGROUP:911D		       db 5 dup(0)
TRANGROUP:9122 ARGV2_ARGSW_WORD	dw 0		       ; ...
TRANGROUP:9124		       dw 0
TRANGROUP:9126		       db 671 dup(0)	       ; ARGV[3] to ARGV[63]
TRANGROUP:93C5 ARG_ARGVCNT     dw 0		       ; ...
TRANGROUP:93C7 ARG_ARGSWINFO   dw 0		       ; ...
TRANGROUP:93C9 ARG_ARGBUF      dw 256 dup(0)	       ; ...
TRANGROUP:93C9					       ; times ARGBLEN dw 0
TRANGROUP:95C9 ARG_ARGFORCOMBUF	db 128 dup(0)	       ; ...
TRANGROUP:95C9					       ; times COMBUFLEN db 0
TRANGROUP:9649 ARGBUF_PTR      dw 0		       ; ...
TRANGROUP:964B TPBUF	       db 128 dup(0)	       ; ...
TRANGROUP:96CB LASTARG	       dw 0		       ; ...
TRANGROUP:96CD COMPTR	       dw 0		       ; ...
TRANGROUP:96CF FBUF	       db 43 dup(0)	       ; ...
TRANGROUP:96CF					       ; times FINDBUFLEN db 0
TRANGROUP:96FA pathinfo	       dw 3 dup(0)	       ; ...
TRANGROUP:9700 psep_char       db 0		       ; ...
TRANGROUP:9701 search_best     db 0		       ; ...
TRANGROUP:9702 search_best_buf db 13 dup(0)	       ; ...
TRANGROUP:9702					       ; times FNAME_MAX_LEN db	0
TRANGROUP:970F search_curdir_buf db 64 dup(0)	       ; ...
TRANGROUP:970F					       ; times 64 db 0
TRANGROUP:974F search_error    dw 0		       ; ...
TRANGROUP:9751 IF_NOT_COUNT    dw 0		       ; ...
TRANGROUP:9753 zflag	       db 0		       ; ...
TRANGROUP:9754		       dw 128 dup(0)
TRANGROUP:9854 STACK	       db 32 dup(0)	       ; ...
TRANGROUP:9854					       ; INTERNATVARS
TRANGROUP:9874 CountryPtrInfo  db 0		       ; ...
TRANGROUP:9875 CountryPtr      dd 0		       ; ...
TRANGROUP:9879 OldCtrlCHandler dd 0		       ; ...
TRANGROUP:987D BATBUFPOS       dw 0		       ; ...
TRANGROUP:987F BATBUF	       db 32 dup(0)	       ; ...
TRANGROUP:989F BATBUFEND       dw 0		       ; ...
TRANGROUP:98A1 TypeFilSiz      dw 2 dup(0)	       ; ...
TRANGROUP:98A5 PARSE1_OUTPUT   db 0		       ; ...
TRANGROUP:98A5					       ; PARSE1_TYPE
TRANGROUP:98A6 PARSE1_CODE     db 0		       ; ...
TRANGROUP:98A7 PARSE1_SYN      dw 0		       ; ...
TRANGROUP:98A9 PARSE1_ADDR     dd 0		       ; ...
TRANGROUP:98AD DATE_OUTPUT     db 0		       ; ...
TRANGROUP:98AD					       ; DATE_TYPE
TRANGROUP:98AE		       db 0		       ; return	value
TRANGROUP:98AF		       dw 0		       ; offset	of synonym
TRANGROUP:98B1 DATE_YEAR       dw 0		       ; ...
TRANGROUP:98B3 DATE_MONTH      db 0		       ; ...
TRANGROUP:98B4 DATE_DAY	       db 0		       ; ...
TRANGROUP:98B5 TIME_OUTPUT     db 0		       ; ...
TRANGROUP:98B5					       ; TIME_TYPE
TRANGROUP:98B6		       db 0		       ; return	value
TRANGROUP:98B7		       dw 0		       ; offset
TRANGROUP:98B9 TIME_HOUR       db 0		       ; ...
TRANGROUP:98BA TIME_MINUTES    db 0		       ; ...
TRANGROUP:98BB TIME_SECONDS    db 0		       ; ...
TRANGROUP:98BC TIME_FRACTION   db 0		       ; ...
TRANGROUP:98BD DRIVE_OUTPUT    db 0		       ; ...
TRANGROUP:98BD					       ; DRIVE_TYPE
TRANGROUP:98BE DRIVE_VALUE     db 0		       ; return	value
TRANGROUP:98BF		       dw 0		       ; offset
TRANGROUP:98C1 DRIVE_NUMBER    db 0
TRANGROUP:98C2		       db 3 dup(0)	       ; reserved
TRANGROUP:98C2 TRANGROUP       ends
TRANGROUP:98C2
TRANGROUP:98C2
TRANGROUP:98C2		       end StartCode
